(function(){var jD=window.location.hostname=="www.vectorpea.com"?1:0;(function(){var h;try{h=window.localStorage}catch(j3){}var e={};
if(h){var v=h.getItem("_ppp");if(v)e=JSON.parse(v);else{var J="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var T=0;T<J.length;T++){var m=h.getItem(J[T]);if(m!=null)e[J[T]]=m}}}var d=window.locStor={};d.setItem=function(x,j){e[x]=j;
if(h)h.setItem("_ppp",JSON.stringify(e))};d.getItem=function(x){return e[x]};d.removeItem=function(x){delete e[x];
if(h)h.setItem("_ppp",JSON.stringify(e))}}());var cU={yg:0,o6:null,Fe:null,aCh:null,tS:null,LG:null,ajj:!0,ajv:0,LT:!1};
cU.event=function(h,e,v){if(jD!=0)return;if(e!=null&&e<Math.random())return;if(v==null)v=0;var J=new XMLHttpRequest;
J.open("GET","/papi/event.php?id="+h+"&g="+v+"&rnd="+Math.random());J.send()};cU.Hk=function(h){if(jD!=0)h="//www.photopea.com/"+h;
return h};cU.Ju=function(){var h=cU.Wf();if(h==null)return null;var e=V.Rw(24)?" ":"",v=V.vq[V.M8("Uu,"+e)];
v=v[V.M8(e+"$/")];var J=cU.ak6(1,999);if(J&&cU.V$(J)*50>v()/20)return[0,J];var m=h.inTeams;if(m)for(var T=0;
T<m.length;T++)if(m[T][1]*50>v()/20)return[1,m[T]];return null};cU.Om=function(){return cU.aI0()!=null};
cU.J4=function(){return cU.V$(cU.ak6(1e3,999999999))};cU.V$=function(h){return h==null?0:h[0]+h[1]*24*60*60};
cU.ak6=function(h,e){var v=cU.Wf(),J=v.pmnts,m=0,d=null;if(J==null||J.length==0)return 0;for(var T=0;
T<J.length;T++){var x=J[T],j=cU.V$(x);if(h<=x[2]&&x[2]<=e)if(m<j){m=j;d=x}}return d};cU.Wf=function(){return cU.LG};
cU.j1=function(h){window.addEventListener("message",cU.apu,!1);setInterval(cU.aFp,5e3);if(cU.Om()&&navigator.onLine){cU.o6=h;
cU.Pe()}else setTimeout(h,1)};cU.aFp=function(){if(cU.Om()&&cU.LT){cU.avj(cU.Tn());cU.LT=!1}};cU.fK=function(h){cU.o6=h;
var e="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);cU.aCh=window.open(e,"_blank")};
cU.ahU=function(){var h=window.locStor;h.removeItem(cU.yg+"_uid");h.removeItem(cU.yg+"_provider");h.removeItem(cU.yg+"_token");
cU.LG=null};cU.apu=function(h){if(h.data instanceof ArrayBuffer||h.data instanceof Object)return;if(h.data.charAt(0)!="{")return;
var e=JSON.parse(h.data);if(e.prms==null)return;var v=e.prms.split(",");if(v[0]=="papi_logged_in"){var J=window.locStor;
J.setItem(cU.yg+"_uid",v[1]);cU.ru(v[2]);J.setItem(cU.yg+"_provider",v[3]);cU.aCh.close();cU.Pe()}if(v[0]=="payment_complete"){cU.tS.close();
cU.Pe()}};cU.aI0=function(){var h=window.locStor.getItem(cU.yg+"_token");if(h!=null&&Date.now()*.001+10<parseInt(h.split("-")[0]))return h;
return null};cU.ru=function(h){var e=window.locStor.getItem(cU.yg+"_token");if(e!=null&&parseInt(h.split("-")[0])<parseInt(e.split("-")[0]))return;
window.locStor.setItem(cU.yg+"_token",h);clearTimeout(cU.ajv);cU.ajv=setTimeout(cU.akv,Math.min(1e9,parseInt(h.split("-")[0])*1e3-Date.now()-20*1e3))};
cU.ars=function(h,e,v,J){if(!navigator.onLine)throw"a";var m=new XMLHttpRequest;m.open("POST","https://www.photopea.com/papi/record_new.php",!0);
m.onload=v;var d=cU.HO(0)+"&read=3&tuid="+h+"&tid="+e;if(J)d+="&tpl="+encodeURIComponent(J);m.setRequestHeader("Content-type","application/x-www-form-urlencoded");
m.send(d)};cU.akv=function(){if(!navigator.onLine)throw"a";var h=new XMLHttpRequest;h.open("POST","https://www.photopea.com/papi/record_new.php",!0);
h.onload=cU.aHX;var e=cU.HO(0)+"&read=2";h.setRequestHeader("Content-type","application/x-www-form-urlencoded");
h.send(e)};cU.Pe=function(){if(!navigator.onLine)throw"b";var h=new XMLHttpRequest;h.open("POST","https://www.photopea.com/papi/record_new.php",!0);
h.onload=cU.aF6;var e=cU.HO(0)+"&read=1";h.setRequestHeader("Content-type","application/x-www-form-urlencoded");
h.send(e)};cU.avj=function(h){if(!navigator.onLine)throw"c";var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0);
e.onload=cU.aya;var v=cU.HO(0)+"&read=0&score="+(h.tpl?1:0)+"&spublic="+cU.ajj+"&record="+encodeURIComponent(JSON.stringify(h));
e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.send(v)};cU.aF6=function(h){var e=JSON.parse(h.target.response);
if(e.error){}else{cU.LG=e.user;var v=cU.Tn(),J=e.record;if(e.record){cU.ajj=e.spublic;cU.ayQ(J)}else if(v)cU.avj(v)}cU.ru(e.token);
var m=cU.o6,d=cU.Fe;if(m){cU.o6=null;m()}if(d){cU.Fe=null;d()}};cU.aHX=function(h){var e=JSON.parse(h.target.response);
cU.ru(e.token)};cU.aya=function(h){var e=JSON.parse(h.target.response);cU.ru(e.token);if(cU.Fe)cU.Pe()};
cU.HO=function(h){var e=window.locStor;return"app="+h+"&uid="+e.getItem(cU.yg+"_uid")+"&token="+e.getItem(cU.yg+"_token")};
cU.rG=function(h){if(h){cU.Fe=h;cU.Pe()}return cU.Tn()};cU.Fm=function(h,e){cU.ayQ(h);cU.LT=!0;if(e){cU.Fe=e;
cU.aFp()}};cU.Tn=function(){var h=window.locStor.getItem(cU.yg+"_stateLocal"),e;if(h==null)return null;
try{e=JSON.parse(h)}catch(j3){return null}return e};cU.ayQ=function(h){var e=JSON.stringify(h);window.locStor.setItem(cU.yg+"_stateLocal",e)};
cU.order=function(h,e,v){cU.o6=v;var J=window.locStor,m="https://www.photopea.com/papi/order.php?ptype="+e+"&param="+h+"&uid="+J.getItem(cU.yg+"_uid")+"&token="+J.getItem(cU.yg+"_token");
cU.tS=window.open(m,"_blank")};cU.ajH=function(h,e){cU.o6=e;var v=window.locStor,J="https://www.photopea.com/papi/insertKey.php?key="+h+"&uid="+v.getItem(cU.yg+"_uid")+"&token="+v.getItem(cU.yg+"_token");
cU.tS=window.open(J,"_blank")};var c3={};c3.atZ=function(h,e){var v=V.vq[V.M8("%|xK")];if(v==null)return"XYP";
var J=h.toString(16).slice(0,4),m=J+e+"aQYRDCB";return v(m).slice(5,17)+J.split("").reverse().join("")};
c3.SK=function(){var h=V.vq[V.h7("3M"+(V.Rw(26)?"]K":"fa"))];h=h[V.h7("]["+(!V.Rw(28)?",":"`"))];return Math.floor(h()/1e3)};
c3.Rw=function(h){var e=0;for(var T=0;T<h;T++)e+=Math.random();return e/h<Math.PI/4};c3.h7=function(h){var e="";
if(!c3.Rw(28))h+="-3";for(var T=0;T<h.length;T++){var v=h.charCodeAt(T);if(v<32||126<v)throw"e";e+=String.fromCharCode(32+(v-32+17+3*T)%95)}return e};
c3.M8=function(h){var e="";if(!c3.Rw(28))h+="-1";for(var T=0;T<h.length;T++){var v=h.charCodeAt(T);v-=32;
v+=95e4;v-=17+3*T;v=v%95;e+=String.fromCharCode(32+v)}return e};c3.yh=c3.h7("XP");c3.Bw=c3.h7("XYP");
c3.cV=c3.h7("c[Y");c3.aio=c3.h7("][`");c3.aGN=c3.h7("SU_");c3._a=c3.h7("b^L");c3.ahH=c3.h7("61=");c3.I1=c3.h7("Q[M_");
c3.JW=c3.h7("WQJJ");c3.KB=c3.h7("W^NL");c3.agg=c3.h7("[QOZ");c3.xW=c3.h7("[[JJ");c3.aGX=c3.h7("[[PU");
c3.jq=c3.h7("^\\NT");c3.azt=c3.h7("bQUL");c3.zT=c3.h7("bQWJ");c3.a2j=c3.h7("3M]K");c3.aun=c3.h7("<M]N");
c3.aFa=c3.h7("][WK");c3.aeo=c3.h7("?;<:");c3.aHi=c3.h7("P_bTF");c3.YL=c3.h7("RXRIN");c3.Y5=c3.h7("aUPNW");
c3.s7=c3.h7("b`bRH");c3.ape=c3.h7("fUMZK");c3.avF=c3.h7("Q[]ZRM");c3.a7y=c3.h7("WQRMKT");c3.aFm=c3.h7("WUMJHN");
c3.z$=c3.h7("XR[GPE");c3.a3i=c3.h7("aMWJRM");c3.wO=c3.h7("bO[OST");c3.aqr=c3.h7("cM[MHT");c3.aij=c3.h7("^Z5OQE");
c3.es=c3.h7("^ZUUDD");c3.awI=c3.h7("_M[KQT");c3.a7f=c3.h7("POLUXNQ");c3.IW=c3.h7("R[WLLRJ");c3.ayg=c3.h7("SU\\VOAV");
c3.asD=c3.h7("XZMK[/C");c3.tQ=c3.h7("aQYRDCB");c3.Bo=c3.h7("[[LGWILH");c3.Zg=c3.h7("S[L[PEKN");c3.a1p=c3.h7("_[\\OWILH");
c3.iV=c3.h7("aQOKURBL");c3.a74=c3.h7("aQUGWIS?");c3.Sb=c3.h7("aQ\\VRNP?");c3.aI3=c3.h7("XZWKU(1'#");
c3.alW=c3.h7("SQLUGE2, ");c3.apD=c3.h7("]M_OJAQII");c3.b2=c3.h7("bQ]:LMBILH");c3.a4E=c3.h7("UU[YW#ECC8");
c3.aF$=c3.h7("P^[G\\BR@=9C");c3.Ty=c3.h7("cQaZ&OKN<BE");c3.QH=c3.h7("P\\YKQD B@@5");c3.aAh=c3.h7("aQVUYE B@@5");
c3.ad4=c3.h7("bQ]/QTBLM5=");c3.Jp=c3.h7("bQ]'WTOC9IE3");c3.a3x=c3.h7("XZ\\KUT~?=CC3");c3.aF7=c3.h7("aQ\\VRNP?+MA3");
c3.wc=c3.h7("R^NGWE\"F<A6<?");c3.aeE=c3.h7("VQ]+OEJ?EHrGs,");c3.dr=c3.h7("G95.WTM,<EF3><");c3.aq9=c3.h7("PZLKVTLL&F:5468");
c3.sc=c3.h7("PPM+YEKN#=DB06*4");c3.az$=c3.h7("bQ]8HQR?JHx3,,*4");c3.ap3=c3.h7("SQLUGE2, v@;;73'-0");
function dW(h){this.hK={};this.MV=0;this.UA();if(h!=!0)window.__kb=this}dW.xD=null;dW.prototype.UA=function(){var h=navigator.keyboard;
if(h&&window.top==window.self)h.getLayoutMap().then(function(e){dW.xD=e})};dW.prototype.aFt=function(h){var e={shiftKey:dW.l$,altKey:dW.B2,ctrlKey:dW.Dd};
for(var v in e){var J=h[v],m=e[v],d=this.r(m);if(!J&&d){for(var T=0;T<m.UM.length;T++)this.eR(m.UM[T])}}};
dW.prototype.zO=function(h){this.MV++;this.hK[h]=!0};dW.prototype.eR=function(h){this.MV--;delete this.hK[h];
if(this.MV<=0||dW.ll(h,dW.a0v))this.reset()};dW.prototype.r=function(h){for(var T=0;T<h.UM.length;T++)if(this.hK[h.UM[T]])return!0;
return!1};dW.prototype.reset=function(){this.hK={};this.MV=0};dW.prototype.Sl=function(h){var e=this,v=e.r(dW.l$)?10:1,J=0,m=0;
if(e.r(dW.K_))J=-v;else if(e.r(dW.Am))J=v;else if(e.r(dW.nk))m=-v;else if(e.r(dW.nG))m=v;var d=new fq(J,m);
if(h!=null){var x=new aJ;x.rotate(h);d=x.w7(d);if(Math.abs(d.x)<Math.abs(d.y))d.x=0;else d.y=0;d.x=Math.round(d.x);
d.y=Math.round(d.y)}return d};dW.prototype.FX=function(){var h=this,e=dW.N3;for(var T=0;T<10;T++)if(h.r(e[T]))return T;
return-1};dW.ll=function(h,e){return e.UM.indexOf(h)!=-1};dW.hU=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
dW.adw="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(dW.hU())dW.adw.push("ControlLeft","ControlRight");dW.aGS=function(h){var e=h.code;if(e=="")return!1;
var v=dW.ll;if(h.altKey&&!h.shiftKey&&!h.ctrlKey){var J=dW.N3.concat([dW.ci,dW.As,dW.td,dW.Kg]),m=!1;
for(var T=0;T<J.length;T++)if(v(e,J[T]))return!1}if(e=="KeyQ"&&h.metaKey)return!1;if(e=="KeyH"&&h.metaKey&&h.altKey)return!1;
return dW.adw.indexOf(e)==-1||h.shiftKey&&(e=="F5"||e=="F6")};dW.a3L=function(h){var e=dW;if(h.ctrlKey&&(e.ll(h.code,e.ci)||e.ll(h.code,e.As)))h.preventDefault()};
dW.H_=function(h){h.addEventListener("keydown",dW.a3L,!1)};dW.G5=function(h){if(typeof h=="string")return h;
var e=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(h==null)return"";var v=[];for(var T=0;T<h.length;
T++){var J=h[T].VD?h[T].VD:h[T];if(e&&h[T].tR)J=h[T].tR;v.push(J)}if(e||v.length==1)return v.join(" ");
else{var m=v.pop();return v.join("+")+" + "+m}};dW.auT=function(h){window.__kb.UA();var e=h.code,v=dW.xD;
if(v&&v.get(e)){var J={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},m=v.get(e).toLowerCase(),d=m.charCodeAt(0);
if(97<=d&&d<=122){var x="Key"+m.toUpperCase();e=x}else if(J[m])e=J[m];return e}var J={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},m=h.key.toLowerCase(),d=m.charCodeAt(0);
if(m.length==1){if(97<=d&&d<=122){var x="Key"+m.toUpperCase();e=x}else if(J[m])e=J[m]}if(m=="control"&&e!="")e="ControlLeft";
return e};dW.a4Q=0;dW.a14=function(h,e){var v=0;if(Date.now()-dW.a4Q>1e3){v=e==0?100:e*10}else{if(h%10!=0)h*=10;
v=(h+e)%100}dW.a4Q=Date.now();return v};dW.aox={nm:"No Touch",UM:["NoTouch"]};dW.zD={VD:"Enter",UM:["Enter","NumpadEnter"]};
dW.l$={VD:"Shift",tR:"\u21E7",UM:["ShiftLeft","ShiftRight"]};dW.a0v={VD:"Meta",UM:["MetaLeft","MetaRight","OSLeft","OSRight"]};
dW.Dd={VD:"Ctrl",tR:"\u2318",UM:dW.hU()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
dW.B2={VD:"Alt",tR:"\u2325",UM:["AltLeft","AltRight"]};dW.aAD={VD:"CtrlOrAlt",UM:dW.Dd.UM.concat(dW.B2.UM)};
dW.BC={VD:"Escape",UM:["Escape"]};dW.qW={VD:"Space",UM:["Space"]};dW.Po={VD:"Tab",UM:["Tab"]};dW.pc={VD:"Home",UM:["Home"]};
dW.a9D={VD:"End",UM:["End"]};dW.K_={VD:"Left",UM:["ArrowLeft"]};dW.nk={VD:"Up",UM:["ArrowUp"]};dW.Am={VD:"Right",UM:["ArrowRight"]};
dW.nG={VD:"Down",UM:["ArrowDown"]};dW.ci={VD:"+",UM:["NumpadAdd","Equal"]};dW.As={VD:"-",UM:["NumpadSubtract","Minus"]};
dW.cz={VD:";",UM:["Semicolon"]};dW.aDZ={VD:"Dead",UM:["Dead"]};dW.a9Z={VD:"=",UM:["Equal"]};dW.iS={VD:"Backspace",UM:["Backspace"]};
dW.PV={VD:"Delete",UM:["Delete"]};dW.a6F={VD:"Backslash",UM:["Backslash","IntlBackslash"]};dW.a6x={VD:"Slash",UM:["NumpadDivide","Slash"]};
dW.acg={VD:"Backquote",UM:["Backquote"]};dW.td={VD:"[",UM:["BracketLeft"]};dW.Kg={VD:"]",UM:["BracketRight"]};
dW.os={VD:".",UM:["Period"]};dW.W6={VD:",",UM:["Comma"]};dW.H6={VD:"'",UM:["Quote"]};dW.l={VD:"A",UM:["KeyA"]};
dW.BS={VD:"B",UM:["KeyB"]};dW.jo={VD:"C",UM:["KeyC"]};dW.Gu={VD:"D",UM:["KeyD"]};dW.E={VD:"E",UM:["KeyE"]};
dW.CE={VD:"F",UM:["KeyF"]};dW.Sz={VD:"G",UM:["KeyG"]};dW.EQ={VD:"H",UM:["KeyH"]};dW.CC={VD:"I",UM:["KeyI"]};
dW.Dc={VD:"J",UM:["KeyJ"]};dW.uX={VD:"K",UM:["KeyK"]};dW.hO={VD:"L",UM:["KeyL"]};dW.f_={VD:"M",UM:["KeyM"]};
dW.VJ={VD:"N",UM:["KeyN"]};dW.Rt={VD:"O",UM:["KeyO"]};dW.k3={VD:"P",UM:["KeyP"]};dW.agh={VD:"Q",UM:["KeyQ"]};
dW.rF={VD:"R",UM:["KeyR"]};dW.J8={VD:"S",UM:["KeyS"]};dW.em={VD:"T",UM:["KeyT"]};dW.kP={VD:"U",UM:["KeyU"]};
dW.q3={VD:"V",UM:["KeyV"]};dW.agt={VD:"W",UM:["KeyW"]};dW.R6={VD:"X",UM:["KeyX"]};dW.fD={VD:"Y",UM:["KeyY"]};
dW.ZB={VD:"Z",UM:["KeyZ"]};dW.rl={VD:"0",UM:["Numpad0","Digit0"]};dW.fX={VD:"1",UM:["Numpad1","Digit1"]};
dW.akb={VD:"2",UM:["Numpad2","Digit2"]};dW.afo={VD:"3",UM:["Numpad3","Digit3"]};dW.akP={VD:"4",UM:["Numpad4","Digit4"]};
dW.aDW={VD:"5",UM:["Numpad5","Digit5"]};dW.aoO={VD:"6",UM:["Numpad6","Digit6"]};dW.zn={VD:"7",UM:["Numpad7","Digit7"]};
dW.arA={VD:"8",UM:["Numpad8","Digit8"]};dW.ata={VD:"9",UM:["Numpad9","Digit9"]};dW.N3=[dW.rl,dW.fX,dW.akb,dW.afo,dW.akP,dW.aDW,dW.aoO,dW.zn,dW.arA,dW.ata];
dW.apx={VD:"F1",UM:["F1"]};dW.a6$={VD:"F2",UM:["F2"]};dW.auA={VD:"F3",UM:["F3"]};dW.as7={VD:"FF",UM:["F4"]};
dW.apk={VD:"F5",UM:["F5"]};dW.aqh={VD:"F6",UM:["F6"]};dW.avx={VD:"F7",UM:["F7"]};dW.a5I={VD:"F8",UM:["F8"]};
dW.axH={VD:"F9",UM:["F9"]};dW.a25={VD:"F10",UM:["F10"]};dW.ae1={VD:"F11",UM:["F11"]};dW.af1={VD:"F12",UM:["F12"]};
function j3(h){this.GK={};this.NQ={};this.a0J=0;this.aov={};this.Ub=[];this.auX=0;this.xW=h;j3.aF=this}j3.adP=function(h,e){var T=0,v=j3.YS;
while(T<v.length){if((e>>>T&1)==1)break;T++}if(T!=0&&j3.PL(h,[33,126])>.7)T=0;if(e==0||v[T][1]==""){if((e&15)!=0&&j3.PL(h,[33,126])>.7)T=0;
else if(e==0)T=0;else{T=0}}return v[T][1]};j3.Z5=120;j3.VF=20;j3.cols=16;j3.vy=function(h){var e=h.name.postScriptName;
if(e==null)return null;return e.replace(/ /g,"-")};j3.ahX=function(h){var e=h.name,v=e.typoFamilyName,J=e.typoSubfamilyName,m=v&J,d=m?v:e.fontFamily,x=m?J:e.fontSubfamily;
if(x==null)x="Regular";var j=j3.aiB,E=d.toLowerCase();for(var T=0;T<j.length;T++){if(j[T]=="roman")continue;
if(E.endsWith(" "+j[T])||E.endsWith("-"+j[T])){var L=d.length-j[T].length,p=d.slice(L);d=d.slice(0,L-1);
if(p!=""){if(x=="Regular"||x==d+" Regular")x=p;else x=p+" "+x}break}}var Z="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var T=0;T<Z.length;T++)if(d.startsWith(Z[T])){var p=d.slice(Z[T].length);d=Z[T];if(p.startsWith(" ")||p.startsWith("-"))p=p.slice(1);
if(p!=""){if(x=="Regular")x=p;else x=p+" "+x}break}var o={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},u=o[j3.vy(h)];
if(u)x=u;return[d,x]};j3.prototype.azQ=function(h){var e=this.H1();for(var v in e)if(e[v][0]==h)this.xs(v)};
j3.prototype.ayt=function(){return Object.keys(this.NQ).length!=0};j3.prototype.xs=function(h,e){if(this.GK[h])return this.GK[h];
if(this.NQ[h])return null;var v=null,J=this.H1();if(J[h]!=null)v=J[h][5];if(v==null){var m=j3.tQ[h];
if(m==null){var d="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),x=h.toLowerCase(),j=0;
if(x.indexOf("sans")!=-1)j=0;else if(x.indexOf("serif")!=-1)j=4;var E=x.indexOf("bold")!=-1||x.indexOf("-black")!=-1,L=x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1||x.endsWith("-it");
if(E&&L)j+=3;else if(L)j+=2;else if(E)j+=1;m=d[j]}if(e!=null&&e>128)m=this.agC(e,m);if(this.aov[h]==null){this.aov[h]=1;
var p=Date.now()-this.a0J>2e3?2e3:0;this.a0J=Date.now();alert(h+" \u27A1 "+m,p)}return this.xs(m,e)}this.NQ[h]="a";
if(v=="--loc")j3.QU.load(h);else this.xW(v)};j3.prototype.agC=function(h,e,v){var J=this.GK[e];if(J&&Typr.U.codeToGlyph(J,h)!=0)return e;
var m=this.H1(),d=j3.ai2(h),x=d[0];if(m[e]&&(m[e][3]&x)==0){if(v)for(var T=0;T<v.length;T++){var j=v[T].Name,E=m[j];
if(E&&(E[3]&x)!=0)return j}var j=j3.YS[d[1]][4];if(m[j])return j}return e};j3.ai2=function(h){var e=j3.YS,v=[0];
for(var T=0;T<e.length;T++){var J=e[T][2];for(var m=0;m<J.length;m+=2)if(J[m]<=h&&h<=J[m+1]){v[0]+=1<<T;
v.push(T)}}if(v.length==1)v.push(0);return v};j3.prototype.aGx=function(){var h=this.Ub,e=h[0],v=h.length-1;
alert(bj.get([22,6,0])+" "+e+(v==0?"":", ... ("+v+")")+" "+bj.get([23,0])+".",1500);this.Ub=[]};j3.prototype.aoA=function(h,e){if(e!=!0){this.Ub.push(h.name.fullName);
clearTimeout(this.auX);this.auX=setTimeout(this.aGx.bind(this),300)}var v=j3.vy(h),J=this.H1(),m=J[v],d=j3.ajQ(h);
if(m==null){d.cs=j3.ai4(h,d);this.TD(d)}delete this.NQ[v];this.GK[v]=h};j3.a5_=function(){var h=j3.YS,e=[];
for(var T=0;T<h.length;T++)e.push(h[T][0]);return e};j3.ai4=function(h,e){var v=document.createElement("canvas"),J=v.getContext("2d"),m=v.width=j3.Z5,d=v.height=j3.VF,x=j3.VF*1.2/h.head.unitsPerEm;
J.translate(4,j3.VF*.9);J.scale(x,-x);J.fillStyle="#000000";var j=Typr.U.shape(h,j3.adP(h,e[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(h,j),J);J.fill();var E=J.getImageData(0,0,m,d).data.buffer,L=gI.g6("PNG").oZ([[E,0]],m,d,[1]);
return"data:image/png;base64,"+gI.nQ(L)};j3.YS=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
j3.ajQ=function(h,e,v){var J=h.name,E=0;if(j3.vy(h)==null){console.log(h);throw"No postScriptName!"}var m=j3.YS,d=[];
for(var T=0;T<m.length;T++){var x=m[T][2],j=m[T][3];d[T]=j3.PL(h,x)>j?1:0}for(var T=0;T<d.length;T++)E+=d[T]<<T;
var L=j3.ahX(h);return[L[0],L[1],j3.vy(h),E,v,e]};j3.PL=function(h,e){var v=0,J=0;for(var m=0;m<e.length;
m+=2){for(var d=e[m];d<=e[m+1];d++){var x=Typr.U.codeToGlyph(h,d);if(x==0)J++;else v++}}return v/(v+J)};
j3.alu=function(h,e){if(h[2]<e[2])return-1;if(h[2]>e[2])return 1;return 0};j3.ae8=function(h,e){if(h[5]=="fs/"+h[2]+".otf")h[5]="";
else if(h[5]=="gf/"+h[2]+".otf")h[5]="a";if(h[2]==(h[0]+"-"+h[1]).replace(/\s/g,"")){h[2]=""}else if(h[2]==h[0].replace(/\s/g,"")){h[2]="a"}if(e){if(h[0]==e[0])h[0]="";
if(h[1]==e[1])h[1]="";if(h[3]==e[3])h[3]="";if(h[4]==e[4])h[4]=""}return h.join(",")};j3.a1A=function(h,e){h=h.split(",");
if(h[0]=="")h[0]=e[0];if(h[1]=="")h[1]=e[1];if(h[3]=="")h[3]=e[3];else h[3]=parseInt(h[3]);if(h[4]=="")h[4]=e[4];
else h[4]=parseInt(h[4]);if(h[2]=="")h[2]=(h[0]+"-"+h[1]).replace(/\s/g,"");else if(h[2]=="a")h[2]=h[0].replace(/\s/g,"");
if(h[5]=="")h[5]="fs/"+h[2]+".otf";else if(h[5]=="a")h[5]="gf/"+h[2]+".otf";return h};j3.tQ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
j3.prototype.H1=function(){if(FNTS.map==null){var h=FNTS.list,e=[];for(var T=0;T<h.length;T++){e[T]=j3.a1A(h[T],e[T-1]);
e[T].yl=T;this.TD(e[T])}}return FNTS.map};j3.prototype.TD=function(h){var e=h[0],v=h[1],J=h[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[h[2]]=h;if(FNTS.mapFS==null)FNTS.mapFS={};var m=FNTS.mapFS[e+"---"+v];FNTS.mapFS[e+"---"+v]=h;
if(FNTS.mapSub==null)FNTS.mapSub={};var d=FNTS.mapSub[e];if(d==null)d=FNTS.mapSub[e]=[];var x=d.indexOf(v);
if(x==-1)d.push(v);else d[x]=v};j3.af6=function(h,e){return j3.vf(h)-j3.vf(e)};j3.vf=function(h){h=h.toLowerCase();
var e=j3.alM(h)+(j3.ag2(h)<<1);if(h.indexOf("cond")==-1)e+=1<<25;return e};j3.alM=function(h){return h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1?1:0};
j3.aiB="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
j3.ali=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
j3.ag2=function(h){var e=j3.ali,v=-1,J=-1;for(var T=0;T<e.length;T++){var m=e[T];if(m instanceof Array)for(var d=0;
d<m.length;d++){var x=m[d];if(h.indexOf(x)!=-1&&(v==-1||J<x.length)){v=T;J=x.length}}else if(h.indexOf(m)!=-1&&(v==-1||J<m.length)){v=T;
J=m.length}}if(v==-1)v=8;return v};j3.gG=function(h,e){var v=1e9,J=null,m=j3.vf(e);for(var T=0;T<h.length;
T++){var d=Math.abs(j3.vf(h[T])-m);if(d<v){v=d;J=h[T]}}return J};j3.prototype.Op=function(h,e){this.H1();
return FNTS.mapFS[h+"---"+e]};j3.prototype.Kz=function(h){this.H1();return FNTS.mapSub[h]};j3.prototype.aEg=function(){this.H1();
return FNTS.mapSub};j3.QU={NT:null,IF:null};j3.QU.j1=function(h){j3.QU.IF=h;var e=window.locStor.getItem("localFonts");
if(e){e=gI.iD(e);e=pako.inflate(new Uint8Array(e));e=j3.QU.NT=JSON.parse(b.Is(e));j3.QU.aD()}};j3.QU.load=function(h){var e=window.queryLocalFonts,v=j3.QU.NT.toPSN,J;
for(var iW in v)if(v[iW].indexOf(h)!=-1)J=iW;e({postscriptNames:[J]}).then(j3.QU.azY)};j3.QU.aD=function(){var h=j3.aF,e=j3.QU.NT,v=e.imap,J=h.H1();
for(var m in v){if(J[m])continue;var d=v[m].slice(0);d.cs=e.tmap[m];h.TD(d)}};j3.QU._s=function(){var h=j3.QU.NT,e=pako.deflate(b.YQ(JSON.stringify(h))),v=gI.nQ(e.buffer);
console.log(v.length);window.locStor.setItem("localFonts",v)};j3.QU.rN=function(){var h=j3.QU.NT;return h!=null&&h.added};
j3.QU.Es=function(h,e,v){var J=j3.QU.NT;if(J){J.added=!J.added;j3.QU._s();j3.QU.aD();return}var m=window.queryLocalFonts;
if(m==null){alert("This feature is not available in your web browser :(");v();return}m().then(j3.QU.azY.bind({aD$:e,a2_:v}))};
j3.QU.azY=async function(h){if(h.length==0){alert("You didn't allow us to access your fonts.");this.a2_();
return}if(h.length==1){var e=await h[0].blob();e=await e.arrayBuffer();dE.we({name:"file.otf"},e,j3.QU.IF);
return}var v=new g3(k.E.u,!0),d=!1;v.data={V:k.l.zw,qt:"Loading local fonts ..."};j3.QU.IF.a(v);var J=Date.now(),m=j3.QU.NT;
if(m==null)m=j3.QU.NT={toPSN:{},imap:{},tmap:{},added:!0};var x={};for(var T=0;T<h.length;T++){var j=h[T],E=j.postscriptName;
x[E]=!0;console.log(E);if(m.toPSN[E])continue;var e=await j.blob();e=await e.arrayBuffer();if(gI.pI(e)!="otf")continue;
var L=Typr.parse(e),p=[];for(var Z=0;Z<L.length;Z++){var o=L[Z],u=j3.vy(o);p.push(u);if(m.imap[u])continue;
var N=m.imap[u]=j3.ajQ(o,"--loc",0);m.tmap[u]=j3.ai4(o,N)}m.toPSN[E]=p;d=!0}for(var E in m.toPSN)if(x[E]==null){var M=m.toPSN[E];
delete m.toPSN[E];for(var T=0;T<M.length;T++){delete m.imap[M[T]];delete m.tmap[M[T]]}d=!0}if(d){console.log(Date.now()-J);
j3.QU._s();j3.QU.aD();this.aD$()}else console.log("no change");var v=new g3(k.E.u,!0);v.data={V:k.l.gv,qt:"Loading local fonts ..."};
j3.QU.IF.a(v);alert("Local fonts loaded!")};var bj={};bj.E3=0;bj.ah={};bj.aBZ=function(h){var e=LNG.tables,v=e[h];
if(v==null)v=e[0];if(typeof v=="string"){v=e[h]=bj.fL(v)}return v};bj.fL=function(h){var e=[],v=0,J=0,m=[],d=h.length;
while(J!=d){var x=h[J];if(x=="["){e.push(m);m=[];J=v=J+1}else if(x=="]"){m.push(v==J?null:h.substring(v,J));
var j=m;m=e.pop();m.push(j);J=v=J+1}else if(x==";"){if(h[J-1]!="]")m.push(v==J?null:h.substring(v,J));
J=v=J+1}else J++}return m};bj.get=function(h){if(typeof h=="string")return h;var e=typeof h[0];if(e=="number"){for(var T=1;
T<h.length;T++)if(typeof h[T]!="number"){console.log(h);throw"e"}return bj.cN(h)}var v=bj.get(h[0]);
for(var T=1;T<h.length;T++){var J=bj.get(h[T]),m=v.indexOf("VAR"+(T-1));v=v.slice(0,m)+J+v.slice(m+4)}return v};
bj.cN=function(h){var e=JSON.stringify(h);if(bj.ah[e]!=null)return bj.ah[e];var v=bj.aBZ(0),J=bj.aBZ(bj.E3),m=bj.aEn(h,J);
if(m==null)m=bj.aEn(h,v);return m};bj.aEn=function(h,e){for(var T=0;T<h.length;T++){e=e[h[T]];if(e==null)return null;
else if(typeof e=="string")break}if(e instanceof Array)e=e[0];return e.split("::")[0]};bj.a7b=function(){var h=navigator.languages;
for(var T=0;T<h.length;T++)if(h[T]=="zh-HK"||h[T]=="zh-TW"||h[T]=="zh-MO")h[T]="zh-CHT";return h};bj.a6i=function(){var h=bj.a7b(),e=function(J,m){var d=J.code,x=m.code;
if(d=="en")return-1;if(x=="en")return 1;var j=h.indexOf(d)!=-1,E=h.indexOf(x)!=-1;if(j&&E)return d>x?1:-1;
if(j)return-1;if(E)return 1;return d>x?1:-1},v=LNG.langs.slice(0);v.sort(e);return v};bj.akO=function(h,e){bj.E3=h;
if(LNG.tables[h])e();else{var v=new XMLHttpRequest;v.open("GET",cU.Hk("code/lang/"+h+".js"));v.onreadystatechange=function(){LNG.tables[h]=v.responseText;
e()};v.send()}};bj.als=function(h,e){for(var v=0;v<2;v++){var J=!1;for(var T=0;T<LNG.langs.length;T++)if(LNG.langs[T].code==h){bj.akO(T,e);
J=!0}if(J)break;h=h.split("-")[0]}};bj.IL=function(){return LNG.langs[bj.E3].code};bj.avy=function(h){for(var T=0;
T<h.length;T+=2)if(h[T+1].indexOf(">")==-1)bj.ah[JSON.stringify(h[T])]=h[T+1]};bj.aqZ=function(h){var e=-1,v=LNG.langs;
for(var T=0;T<v.length;T++)if(v[T].code==h)e=T;return e};var fk={vd:!1,$k:!1,ap$:!1,Ly:null};fk.pK=function(){return V.vq[c3.cV]!=V.vq[c3.azt]};
fk.sr=function(){var h=V.vq[c3.Zg],e=h[c3.I1],v=0,J=c3.Jp,m=V.h7("PP\\KQSB"),d=V.h7("Y_5UDDB>idge"),x=h[c3.wc](c3.aGN);
x[J](c3.yh,m);x[J](c3.s7,V.h7("fUMZKyqifDIhJ0*+&$-OG?<y~>"));e[c3.QH](x);x=h[c3.aeE](m);if(x==null){v=2}else{if(!e[V.h7("R[WZDIKM")](x)){v=3}else if(Math.round(x[V.h7("VQ](RUK>@B8p71*03m}x'")]()[c3.ape]-500)>5){v=4}e[c3.aAh](x)}if(fk.$k)v=5;
if(fk.ap$)v=6;return v};fk.a0u=function(h){var e=V.M8("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),v={method:"HEAD",mode:"no-cors"},J=new Request(e,v);
fetch(J).then(function(m){return m}).then(function(m){var d=V.M8("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),J=new Request(d);
fetch(J).then(function(m){m.text().then(function(x){fk.$k=x.length<2200;h(x.length<2200)})}).catch(function(x){fk.$k=!0;
console.clear();h(!0)})}).catch(function(m){fk.$k=!0;console.clear();h(!0)})};fk.apH=function(){var h=V.h7("UU[YW#ECC8"),e=V.h7("VQ](RUK>@B8p71*03m}x'"),v=V.h7("WQRMKT"),J=this.ag_[h][e]();
if(J[v]<4){fk.ap$=!0;this.aHw(!0)}};fk.asr=function(){var h=V.vq._cwY,e=V.vq[c3.b2],v="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",J=String.fromCharCode(32);
h(V.h7(v)+J+J+fk.sr());if(!cU.Ju())e(fk.asr,Math.round(Math.PI*1e4))};fk.acT=function(h){var e=V.vq[c3.Zg],v=e[c3.wc](h[0]);
for(var J in h[1]){if(J=="txt")v[c3.Ty]=h[1][J];else v[c3.Jp](J,h[1][J])}return v};fk.aGs=function(h,e,v,J){V.H5(v);
var m=V.vq[c3.Zg],d=V.M8(" u.$%\"86<"),x=V.M8("!#c$,&"),j=V.vq[d][x],E=V.vq[V.M8(" u.$%\"86<")][V.M8("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!fk.pK()&&!fk.sr()&&j&&h*e>300*300&&!E){var L=m[V.h7("VQ]+OEJ?EHDoD{&)l|&z")](c3.JW)[0],p=JSON.parse(V.M8("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var T=0;T<p.length;T++){var Z=fk.acT(p[p.length-1-T]);L[c3.a3x](Z,L[c3.aEa])}var o=V.M8("p}&$2a(:"),u=V.M8("'#!}i0%+"),N=V.M8("ps,}$\"40"),M=V.vq.__cbu=fk.acT(JSON.parse(c3.h7("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
v[c3.QH](M);V.vq.___ggo=function(){V.vq[N](c3.sc,2,function(F,W){if(W&&F[u]==!0){V.vq.__csrf=null;if(!V.vq[o]){V.vq[o]=!0;
var f=fk.ajN.bind({BB:v,head:L,qw:e});f()}}else{V.vq.__csrf=!0}})}}else{var O=fk.acI.bind({ag_:v,aEe:J,qw:e});
O();setInterval(O,3e4)}};fk.aeq="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs> % J\"11)X8A;Xe^IPMwY^Y$[jjbc~8w!z8E>NQ:V8H`GES!Kerkn{twV(Z23970z\"~I+0+U-<>AcCLFcpiT[X#did/fuwzn*C#,&CPIY\\EaCSkJ*_M5p}vy' #a3e=>DB;&-*T6;6`9AIonNWQn{t_fc.oto:rz#Iy5N.71N[TdgPlN^v>=7k${)\"%2+.l>pHIOMF185_AFAkLR[MyYb\\y' jqn9z zE&,5'%@Y9B<Yf_or[wYi\"a2?Gm'4-0=69wI{ST[XQ<C@jLQLvX]`b%dmg%2+u|yD&+&P27:<0KdDMGdqjz}f#dt-W\\_]'2?8;HAD#T'^_ec\\GNKuW\\W\"jbjx0oxr0=6!(%O161[D<DR;VoOXRo|u&)phrx}\"\"~Cy0M)4q]cR_X[hadCtG~ %-' jqn9%(CD*+'DQJ5<9cORnnKPPn{t%(svy3 t|*x.~K$34XD9ANOECGTtLW 3knoeiC;@?EB/!-5Q*=/?8cQUVoV]\\{Tg%gw#0)7v}zI;HAO/63_S2c6mns{unY`](sv23xyu3@9$+(R>A^]=F@]jcsvbeh\"nckxg|m:r\"#G3(0=>426Cc;Fn\"Z]^TX2*/.41}o{$@x,}.'R@DE^ELKjCVsVfq~w&eli8*70>}%\"OB!$";
fk.acI=function(){var h=V.vq[c3.Zg],e=this.ag_,v=this.aEe,J=fk.Ly,m=this.qw;V.H5(e);var d=V.vq[V.M8(" u.$%\"86<")][V.M8("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,x=J==1?1:fk.ayB(m),j=JSON.parse(c3.M8(fk.aeq)),E=h[c3.wc]("a");
E.textContent=c3.h7("0PhHOO@E@B8M/-9'\"0}y");E[c3.Jp](c3.KB,c3.h7("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
E[c3.Jp](c3.aqr,c3.M8("pv${,,"));E[c3.Jp](c3.s7,c3.h7("R[UUUyTB@H6h"));if(!d)e[c3.QH](E);for(var T=0;
T<x;T++){var L=Math.random(),p=0,Z=0;while(p+j[Z][0]<L){p+=j[Z][0];Z++}if(d)Z=1;if(Z>7&&Date.now()>1709975974e3)Z=4;
var o=j[Z],u=h[c3.wc](c3.Bw);u[c3.Jp](c3.s7,c3.h7("Ra[YRRvJF=?B0:_")+c3.h7(J==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
u[c3.Jp](c3._a,o[J]);console.log(o[J]);if(o.length>3){var N=o[3]+o[3+J],E=h[c3.wc]("a");E[c3.Jp](c3.KB,N);
E[c3.Jp](c3.aqr,c3.M8("pv${,,"));E[c3.QH](u);e[c3.QH](E)}else{u[c3.sc](c3.YL,v,!1);e[c3.QH](u)}}};fk.ayB=function(h){var e=2;
if(h>=3*270+30)e=3;if(h>=4*270+30)e=4;return e};fk.abW=function(h,e){var v=e;e-=30;var J=[];if(h==0)J.push(9);
if(h==1){J.push(1);e-=600+10;if(e-250>0){J.push(0);e-=250}}if(h==2){if(e-260>0){J.push(2);e-=260}if(e-260>0){J.push(3);
e-=260}if(e-260>0){J.push(4);e-=260}if(e-260>0){J.push(5);e-=260}if(e-260>0){J.push(6);e-=260}if(e-110>0){J.push(7);
e-=110}if(e-60>0){J.push(8);e-=60}}return J};fk.ajN=function(){var h=c3.QH,e=c3.Jp,v=c3.sc,J=c3.tQ,m=c3.s7,d=c3._a,x=V.h7("P_bTF"),j=c3.Ty,E=c3.z$,L=V.vq[c3.Zg],p=c3.wc,Z=c3.wO,o=this.BB,u=fk.Ly,N=this.head,M=this.qw,O=V.M8("~u*\"'/P)9ADBCrlnR]"),F=V.vq.__cbu,$=0;
if(F&&u==0)F[c3.Jp](c3.s7,"position:absolute; left:124px; bottom:2px");var W=[1/11,10/11],f=Math.random();
while(W[$]<f&&$<W.length-1){f-=W[$];$++}var H=new URLSearchParams(window.location.search),A=H.get("adsfrom");
if(A!=null)$=parseFloat(A);if($!=0&&$!=1)$=0;var G=fk.abW(u,M);if($==0){console.log(0);if(!fk.vd){fk.vd=!0;
for(var T=0;T<2;T++){var l=L[c3.wc](c3.wO),K=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][T];
l[c3.Jp](c3._a,c3.M8(K));l[c3.Jp](c3.aHi,"");N[c3.QH](l)}var U=JSON.parse(c3.M8("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),z=U[2]+"\n";
for(var T=0;T<G.length;T++)z+=U[0][G[T]]+"\n";var l=L[c3.wc](c3.wO);l[c3.Ty]=z+U[3];N[c3.QH](l);for(var T=0;
T<G.length;T++){var q=L[c3.wc](c3.aGN);q[c3.Jp](c3.yh,U[1][G[T]]);if(G[T]!=0)q[c3.Jp](c3.s7,U[4][u]);
q[c3.s7].marginBottom="10px";var l=L[c3.wc](c3.wO),z=c3.M8("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+U[1][G[T]]+"'); });";
l[c3.Ty]=z;q[c3.QH](l);o[c3.QH](q)}}}else{console.log(1);var l=L[p](Z);l[e](d,V.M8("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
l[e](c3.aHi,"");N[h](l);var P=JSON.parse(V.M8("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var T=0;T<G.length;T++){var q=L[p](V.h7("SU_"));q[e](c3.yh,P[G[T]]);q[e](m,O);o[h](q)}}if(F)o[h](F)};
fk.Wb=function(h,e,v,J){clearInterval(fk.Fd);fk.q2=h;fk.yh=v?v:"default";fk.rL=J==null?1:J;if(fk.a77==null){fk.a77=!0;
var m=V.vq[c3.Zg],d=m[c3.I1],x=m[V.h7("VQ]+OEJ?EHDoD{&)l|&z")](c3.JW)[0],j=Math.random()<.5?0:1;fk.aaE=j;
console.log("===",j);var E=m[c3.wc](c3.wO);E[c3.Jp](c3._a,"//www.googletagservices.com/tag/js/gpt.js");
x[c3.QH](E);var E=m[c3.wc](c3.wO);E[c3.Ty]="window.googletag = window.googletag || {cmd: []};";x[c3.QH](E)}if(e==null)e="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var L=window.confirm(e);if(!L)return;fk.Fd=setInterval(fk.an7,50)};fk.an7=function(){var h=fk.aaE;fk.Qa=1;
var e={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[fk.yh];
if(h==1)e="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var v=window.googletag;if(v==null)return;
v.cmd.push(function(){var J=v.defineOutOfPageSlot(e,v.enums.OutOfPageFormat.REWARDED).addService(v.pubads());
v.enableServices();v.pubads().addEventListener("rewardedSlotReady",function(m){m.makeRewardedVisible()});
v.pubads().addEventListener("rewardedSlotGranted",function(){if(fk.Qa==1){fk.rL--;fk.Qa=2;if(fk.rL==0){if(fk.q2)fk.q2();
fk.q2=null}}});v.pubads().addEventListener("rewardedSlotClosed",function(){if(fk.Qa==2){fk.Qa=0;if(fk.rL>0)fk.an7()}});
v.display(J);v.pubads().refresh([J])});clearInterval(fk.Fd)};var fV={WY:-2,gZ:{expires_at:0},Wg:[]};
fV.W2=function(h){if(h)fV.Wg.splice(0,0,h);if(fV.WY==-2){fV.WY=-1;var e=document.createElement("script");
e.src="//apis.google.com/js/client.js";document.body.appendChild(e);e.onload=function(v){setTimeout(function(){fV.WY=0;
fV.W2()},100)}}if(fV.WY==-1)return;if(fV.WY==1)return;if(fV.gZ.expires_at>Date.now()*.001+30){while(fV.Wg.length>0)fV.Wg.pop()()}else{if(fV.WY==0)fV.WY=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fV.WY==2?!1:!0},fV.al6)})}};
fV.al6=function(h){if(h&&!h.error){fV.gZ=h;fV.WY=!1;fV.W2()}else if(fV.WY==1){fV.WY=2;fV.W2()}else alert("Error: "+h.error)};
fV.acb=function(){return"access_token="+fV.gZ.access_token+"&token_type="+fV.gZ.token_type};fV.aHF=function(){return fV.gZ.token_type+" "+fV.gZ.access_token};
var fu={a8A:null};fu.M4=function(h,e){var v=h.qU.ac9;if(v==null&&cU.Ju()&&!fu.nH(e))v=window.locStor.getItem("__dak");
return v};fu.aBY=375<<3;fu.azr=function(h){var e=cU.rG();if(e==null)e={};var v=e.acc;if(v==null)return 0;
var J="aiu"+cU.Wf().id;if(v.aiu&&v[J]==null){v[J]=v.aiu;delete v.aiu;cU.Fm(e)}var m=v[J];if(m==null)return 0;
if(m["m"+h]==null)return 0;return m["m"+h]};fu.OZ=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
fu.nH=function(h){if(!cU.Ju())return!1;return fu.azr(fu.OZ())+h<=fu.aBY};fu.ach=function(h){cU.rG(function(){var e=cU.rG();
if(e==null)e={};if(e.acc==null)e.acc={};var v="aiu"+cU.Wf().id,J=e.acc;if(J[v]==null)J[v]={};var m=J[v],d="m"+fu.OZ();
if(m[d]==null)m[d]=0;var x=m[d],j=m[d]=x+h,E=20*Math.floor(j/20);if(j>1e3&&x<=E&&j>E)alert(h+" AI credit"+(h==1?"":"s")+" spent. "+(fu.aBY-j)+" left to use (in this month).",3500);
cU.Fm(e,function(){})})};fu.Wb=function(h){var e="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(cU.Ju())e="Out of AI credits :( Watch";fk.Wb(h,e+" two short ads to do it for free?","inpa",2)};fu.Yz=function(h){if(h&&fu.oJ(h)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};fu.oJ=function(h){function e(p,Z){if((p&Z)==0)return p;return p+Z+1-(p&Z)}var v=h.T[h.X[0]].R,J=h.K.R.UP(v),x=7;
if(J.$()>1e3*1e3)return null;var m=e(J.q,7)*e(J._,7)*1.2>512*512||Math.max(e(J.q,7),e(J._,7))>1024;if(Math.max(J.q,J._)>1024*(m?2:1))return null;
var d=512*512;if(m){d=1024*1024;x=15}while(!0){var j=J.O();j.vY(1,1);j=j.UP(v);j=j.UP(new fP(0,0,h.q,h._));
var E=e(j.q,x),L=e(j._,x);if(j.$()>J.$()&&E*L<=d&&Math.max(E,L)<=2048)J=j;else break}J.q=e(J.q,x);J._=e(J._,x);
return J};fu.av5=function(h,e,v,J,m){if(!navigator.onLine){alert("Get online to use this feature.");
return}var d=!0,x,j,L="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",u=!1;
if(v){var E=fu.oJ(v);d=E.$()>512*512||Math.max(E.q,E._)>1024}L=JSON.parse(c3.M8(L));var p={};p[L[0]]=h;
p[L[1]]=d?2:1;p[L[2]]=30;p[L[3]]=v?L[4]:L[5];p[L[12]]=L[13];p[L[14]]=L[15];if(m)for(var Z in m)p[Z]=m[Z];
console.log(p);var o="nude nudity naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var T=0;T<o.length;T++)if(h.indexOf(o[T])!=-1)u=!0;if(u){var N=fu.nH(3)?"Premium":"Free";cU.event("dez"+"go_Nu"+"de "+N)}var M=new FormData;
if(v==null)x=j=512;else{var E=fu.oJ(v),O=v.T[v.X[0]],F=v.K,W=B.U(E.$()*4);B.YZ(O.buffer,O.R,W,E);var f=B.U(E.$());
B.Ww(F.G,F.R,f,E);B.round(f);for(var T=0;T<f.length;T++)if(W[T*4+3]<128)f[T]=255;if(d){console.log("downscaling");
var $=B.Uq(W,E);W=$.su;var H=B.Gf(f,E);f=H.su;E=H.R}var A=gI.g6("jpg"),G=A.oZ([[W.buffer]],E.q,E._,[90]),l=B.U(E.$()*4);
l.fill(255);B.WS(f,l);var K=UPNG.encode([l.buffer],E.q,E._,null,null,null,!0);M.append(L[9],new Blob([G],{type:"image/jpeg"}));
M.append(L[10],new Blob([K],{type:"image/png"}));x=E.q;j=E._}for(var Z in p)M.append(Z,p[Z]);fu.a4G(v==null?L[7]:L[8],M,e,J);
fu.a8A=[x,j,d,e==null];return 1};fu.a4G=function(h,e,v,J){var m=c3.h7("W`]VVykh8D:[/-?).I{% >"),d=c3.h7("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),x=new V.vq[c3.dr],j;
if(v==null){var E=0,L=c3.h7("XYJMH"),p=c3.h7("XZRZBIJ;>9"),prompt=c3.h7("_^XSST");if(e.get(L))E+=e.get(L).size;
if(e.get(p))E+=e.get(p).size;if(e.get(prompt))E+=e.get(prompt).length;var Z=E*19+47631,o=String.fromCharCode(65+(Z&15))+String.fromCharCode(100+(Z>>>4&15));
j=c3.h7("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+h+c3.h7("tYNZKOAv")+o;x[c3.jq](c3.aeo,j,!0)}else{j=m+h;
x[c3.jq](c3.aeo,j,!0);x[c3.az$](c3.h7("Gx-K]GLf\"9J"),v?v:d)}x[c3.es]=J;x[c3.aF7]=c3.aF$;x[c3.zT](e)};
fu.O5=function(h,e){var v=fu.nH(e);cU.event("rembg_"+h+": "+(v?"Premium":"Free"));if(v){for(var T=0;
T<e;T++)cU.event("aiusg_"+cU.Wf().id);fu.ach(e)}};function fq(h,e){if(!h)h=0;if(!e)e=0;this.x=h;this.y=e}fq.prototype.add=function(h){return new fq(this.x+h.x,this.y+h.y)};
fq.prototype.O=function(){return new fq(this.x,this.y)};fq.prototype.HA=function(h){this.x=h.x;this.y=h.y};
fq.prototype.lS=function(h){return this.x==h.x&&this.y==h.y};fq.prototype.normalize=function(h){var e=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=h/e;this.y*=h/e};fq.prototype.offset=function(h,e){this.x+=h;this.y+=e};fq.prototype.Cg=function(h,e){this.x=h;
this.y=e};fq.prototype.am=function(h){return new fq(this.x-h.x,this.y-h.y)};fq.mr=function(h,e){return fq.a8w(h.x,h.y,e.x,e.y)};
fq.aCL=function(h,e,v){return new fq(h.x+v*(e.x-h.x),h.y+v*(e.y-h.y))};fq.a4o=function(h,e){return new fq(h*Math.cos(e),h*Math.sin(e))};
fq.a8w=function(h,e,v,J){return Math.sqrt((v-h)*(v-h)+(J-e)*(J-e))};fq.nn={};fq.bR={};fq.nn.create=function(){var h=new Float32Array(4);
return h};fq.bR.create=function(h){var e=new Float32Array(16);e[0]=e[5]=e[10]=e[15]=1;if(h)fq.bR.set(h,e);
return e};fq.nn.add=function(h,e,v){v[0]=h[0]+e[0];v[1]=h[1]+e[1];v[2]=h[2]+e[2];v[3]=h[3]+e[3]};fq.nn.set=function(h,e){e[0]=h[0];
e[1]=h[1];e[2]=h[2];e[3]=h[3]};fq.bR.set=function(h,e){e[0]=h[0];e[1]=h[1];e[2]=h[2];e[3]=h[3];e[4]=h[4];
e[5]=h[5];e[6]=h[6];e[7]=h[7];e[8]=h[8];e[9]=h[9];e[10]=h[10];e[11]=h[11];e[12]=h[12];e[13]=h[13];e[14]=h[14];
e[15]=h[15]};fq.bR.multiply=function(h,e,v){var J=h[0],m=h[1],d=h[2],x=h[3],j=h[4],E=h[5],L=h[6],p=h[7],Z=h[8],o=h[9],u=h[10],N=h[11],M=h[12],O=h[13],F=h[14],W=h[15],f=e[0],$=e[1],H=e[2],A=e[3];
v[0]=f*J+$*j+H*Z+A*M;v[1]=f*m+$*E+H*o+A*O;v[2]=f*d+$*L+H*u+A*F;v[3]=f*x+$*p+H*N+A*W;f=e[4];$=e[5];H=e[6];
A=e[7];v[4]=f*J+$*j+H*Z+A*M;v[5]=f*m+$*E+H*o+A*O;v[6]=f*d+$*L+H*u+A*F;v[7]=f*x+$*p+H*N+A*W;f=e[8];$=e[9];
H=e[10];A=e[11];v[8]=f*J+$*j+H*Z+A*M;v[9]=f*m+$*E+H*o+A*O;v[10]=f*d+$*L+H*u+A*F;v[11]=f*x+$*p+H*N+A*W;
f=e[12];$=e[13];H=e[14];A=e[15];v[12]=f*J+$*j+H*Z+A*M;v[13]=f*m+$*E+H*o+A*O;v[14]=f*d+$*L+H*u+A*F;v[15]=f*x+$*p+H*N+A*W;
return v};fq.bR.inverse=function(h,e){var v=h[0],J=h[1],m=h[2],d=h[3],x=h[4],j=h[5],E=h[6],L=h[7],p=h[8],Z=h[9],o=h[10],u=h[11],N=h[12],M=h[13],O=h[14],F=h[15],W=v*j-J*x,f=v*E-m*x,$=v*L-d*x,H=J*E-m*j,A=J*L-d*j,G=m*L-d*E,l=p*M-Z*N,K=p*O-o*N,U=p*F-u*N,z=Z*O-o*M,q=Z*F-u*M,P=o*F-u*O,g=W*P-f*q+$*z+H*U-A*K+G*l;
if(!g){return null}g=1/g;e[0]=(j*P-E*q+L*z)*g;e[1]=(m*q-J*P-d*z)*g;e[2]=(M*G-O*A+F*H)*g;e[3]=(o*A-Z*G-u*H)*g;
e[4]=(E*U-x*P-L*K)*g;e[5]=(v*P-m*U+d*K)*g;e[6]=(O*$-N*G-F*f)*g;e[7]=(p*G-o*$+u*f)*g;e[8]=(x*q-j*U+L*l)*g;
e[9]=(J*U-v*q-d*l)*g;e[10]=(N*A-M*$+F*W)*g;e[11]=(Z*$-p*A-u*W)*g;e[12]=(j*K-x*z-E*l)*g;e[13]=(v*z-J*K+m*l)*g;
e[14]=(M*f-N*H-O*W)*g;e[15]=(p*H-Z*f+o*W)*g;return e};fq.bR.aoU=function(h,e,v){var J=e[0],m=e[1];v[0]=J*h[0]+m*h[4]+h[12];
v[1]=J*h[1]+m*h[5]+h[13]};fq.bR.a7r=function(h,e,v){var J=e[0],m=e[1],d=e[2],x=e[3];v[0]=h[0]*J+h[4]*m+h[8]*d+h[12]*x;
v[1]=h[1]*J+h[5]*m+h[9]*d+h[13]*x;v[2]=h[2]*J+h[6]*m+h[10]*d+h[14]*x;v[3]=h[3]*J+h[7]*m+h[11]*d+h[15]*x};
function fP(h,e,v,J){if(!h)h=0;if(!e)e=0;if(!v)v=0;if(!J)J=0;this.x=h;this.y=e;this.q=v;this._=J}fP.prototype.$=function(){return this.q*this._};
fP.prototype.O=function(){return new fP(this.x,this.y,this.q,this._)};fP.prototype.contains=function(h,e){return h>=this.x&&h<=this.x+this.q&&(e>=this.y&&e<=this.y+this._)};
fP.prototype.GX=function(h){return this.contains(h.x,h.y)};fP.prototype.xB=function(h){return this.x<=h.x&&this.y<=h.y&&h.x+h.q<=this.x+this.q&&h.y+h._<=this.y+this._};
fP.prototype.HA=function(h){this.x=h.x;this.y=h.y;this.q=h.q;this._=h._};fP.prototype.lS=function(h){return this.x==h.x&&this.y==h.y&&this.q==h.q&&this._==h._};
fP.prototype.vY=function(h,e){this.x-=h;this.y-=e;this.q+=2*h;this._+=2*e};fP.prototype.afp=function(h){this.vY(h.x,h.y)};
fP.prototype.UP=function(h){var e=Math.max(this.x,h.x),v=Math.max(this.y,h.y),J=Math.min(this.x+this.q,h.x+h.q),m=Math.min(this.y+this._,h.y+h._);
if(J<e||m<v)return new fP;else return new fP(e,v,J-e,m-v)};fP.prototype.qm=function(h){if(h.y+h._<this.y||h.x>this.x+this.q||h.y>this.y+this._||h.x+h.q<this.x)return!1;
return!0};fP.prototype.EG=function(){return this.q<=0||this._<=0};fP.prototype.offset=function(h,e){this.x+=h;
this.y+=e};fP.prototype.a8x=function(h){this.offset(h.x,h.y)};fP.prototype.agb=function(){this.x=this.y=this.q=this._=0};
fP.prototype.Cg=function(h,e,v,J){this.x=h;this.y=e;this.q=v;this._=J};fP.prototype.R$=function(h){if(this.EG())return h.O();
if(h.EG())return this.O();var e=this.O();e.aGj(h);return e};fP.aO=new Float32Array(2);fP.prototype.aGj=function(h){if(h.EG())return;
if(this.EG()){this.HA(h);return}this.a0a(h.x,h.y);this.a0a(h.x+h.q,h.y+h._)};fP.prototype.a0a=function(h,e){var v=Math.min(this.x,h),J=Math.min(this.y,e);
this.q=Math.max(this.x+this.q,h)-v;this._=Math.max(this.y+this._,e)-J;this.x=v;this.y=J};fP.prototype.aEV=function(h,e){this.x=h;
this.y=e;this.q=this._=0};function aJ(h,e,v,J,m,d){if(typeof h==="undefined"){h=1;e=0;v=0;J=1;m=0;d=0}this.DR=h;
this.b=e;this.tg=v;this.l_=J;this.TO=m;this.bZ=d}aJ.prototype.n$=function(){return Math.sqrt(Math.abs(this.DR*this.l_-this.b*this.tg))};
aJ.prototype.agG=function(){var h=this,e=function(v){return Math.abs(v)<1e-9?0:v};h.DR=e(h.DR);h.b=e(h.b);
h.tg=e(h.tg);h.l_=e(h.l_);h.TO=e(h.TO);h.bZ=e(h.bZ)};aJ.prototype.w7=function(h){return new fq(h.x*this.DR+h.y*this.tg+this.TO,h.x*this.b+h.y*this.l_+this.bZ)};
aJ.prototype.translate=function(h,e){this.TO+=h;this.bZ+=e};aJ.prototype.rotate=function(h){var e=new aJ(Math.cos(h),-Math.sin(h),Math.sin(h),Math.cos(h),0,0);
this.concat(e)};aJ.prototype.scale=function(h,e){var v=new aJ(h,0,0,e,0,0);this.concat(v)};aJ.prototype.concat=function(h){this.HA(new aJ(this.DR*h.DR+this.b*h.tg,this.DR*h.b+this.b*h.l_,this.tg*h.DR+this.l_*h.tg,this.tg*h.b+this.l_*h.l_,this.TO*h.DR+this.bZ*h.tg+h.TO,this.TO*h.b+this.bZ*h.l_+h.bZ))};
aJ.prototype.ia=function(){var h=this.DR*this.l_-this.b*this.tg;this.HA(new aJ(this.l_/h,-this.b/h,-this.tg/h,this.DR/h,(this.tg*this.bZ-this.l_*this.TO)/h,(this.b*this.TO-this.DR*this.bZ)/h))};
aJ.prototype.O=function(){return new aJ(this.DR,this.b,this.tg,this.l_,this.TO,this.bZ)};aJ.prototype.HA=function(h){this.DR=h.DR;
this.b=h.b;this.tg=h.tg;this.l_=h.l_;this.TO=h.TO;this.bZ=h.bZ};function gI(){}gI.aG1={awh:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),an1:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
gI.do=function(h,e){var v=h.memory.buffer.byteLength;if(v<e)h.memory.grow((e-v>>>16)+1)};gI.KF={pN:function(h,e){fetch(h).then(function(v){return v.arrayBuffer()}).then(function(v){var J=new Uint8Array(v),m=0,E="";
if(e){m=J.length;var d={level:9},x=pako.deflateRaw(J,d),j=UZIP.deflateRaw(J,d);console.log(m,x.length,j.length);
J=x.length<j.length?x:j}for(var T=0;T<J.length;T++)E+=String.fromCharCode(J[T]);var L=btoa(E);console.log(JSON.stringify([m,L]))})},get:function(h,e){var v=BINDB[h],J=Date.now(),m=atob(v[1]),d=m.length,x=new Uint8Array(d);
for(var T=0;T<d;T++)x[T]=m.charCodeAt(T);if(v[0]!=0){var j=new Uint8Array(v[0]);UZIP.inflateRaw(x,j);
x=j}if(e){var E=gI.pI(x.buffer);x=gI.g6(E).E2(x.buffer)}return x}};gI.amk=function(h,e){return new Promise(function(v,J){h.E2(e,null,function(m,d){v(d)})})};
gI.pI=function(h){if(!(h instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var e=new Uint8Array(h),v=gI.aH9,J,m=0,d=e.length-1;
if(v(e,[239,187,191]))m=3;while(m<e.length&&(e[m]==9||e[m]==10||e[m]==13||e[m]==32))m++;while(d!=0&&(e[d]==9||e[d]==10||e[d]==13||e[d]==32))d--;
if(v(e,[56,66,80,83]))J="psd";if(v(e,[6,6,237,245]))J="indd";if(v(e,[68,73,67,77],128))J="dcm";if(v(e,[99,104,108,118]))J="chlv";
if(v(e,[208,207,17,224]))J="ufo";if(v(e,[102,116,121,112,109,105,102,49],4)||v(e,[102,116,121,112,97,118,105,102],4))J="avif";
if(v(e,[102,116,121,112,104,101,105,99],4)||v(e,[102,116,121,112,109,115,102,49],4))J="heic";if(v(e,[102,116,121,112,105,115,111,109],4))J="mp4";
if(v(e,[102,116,121,112,109,112,52,50],4))J="mp4";if(v(e,[102,116,121,112,113,116,32,32],4))J="mp4";
if(v(e,[102,116,121,112,99,114,120,32],4))J="cr3";if(v(e,[0,255,75,65]))J="afphoto";if(v(e,[67,83,70,67,72,85,78,75]))J="clip";
if(v(e,[70,82,65,67]))J="frac";if(v(e,[120]))J="pxd";if(v(e,[80,68,78,51]))J="pdn";if(v(e,[103,105,109,112,32,120,99,102,32]))J="xcf";
if(v(e,[102,105,103,45,107,105,119,105]))J="fig";if(v(e,[105,99,110,115]))J="icns";if(v(e,[137,80,78,71,13,10,26,10])){J="png";
var x=8;while(x<e.length){var j=b.d$(e,x);x+=4;var E=b.RZ(e,x,4);x+=4;if(E=="mkTS")J="fpng";x+=j+4}}if(v(e,[87,76]))J="cdr";
if(v(e,[82,73,70,70])){var L=bx.kq(e),p=L.Wj;if(p=="WEBP")J="webp";else if(p.slice(0,3)=="CDR")J="cdr";
else J=p}if(v(e,[70,79,82,77])||v(e,[70,79,82,52])||v(e,[76,73,83,84])||v(e,[67,65,84,32])){var L=d6.kq(e),p=L.Wj;
if(p=="ILBM"||p=="CIMG"||p=="ANIM")J="ilbm";else J=p}if(v(e,[255,216,255]))J="jpg";if(v(e,[0,0,0,12,106,80,32,32]))J="jpg";
if(v(e,[48,0,1,0],4))J="jb2";if(v(e,[71,73,70,56]))J="gif";if(v(e,[255,10])||v(e,[0,0,0,12,74,88,76,32,13,10,135,10]))J="jxl";
if(v(e,[0,0,0,2,121,102,113,76]))J="msh";if(v(e,[0,0,0,3,121,102,113,76]))J="msh";if(v(e,[0,0,0,16]))J="atn";
if(v(e,[0,1]))J="aco";if(v(e,[0,2]))J="aco";if(v(e,[65,83,69,70]))J="aco";if([0,1].indexOf(e[1])!=-1&&[1,2,3,9,10,11].indexOf(e[2])!=-1&&[0,16,24,32].indexOf(e[7])!=-1)J="tga";
if(v(e,[0,2,56,66,83,76]))J="asl";if(v(e,[0,1,0,-1,0,2,0]))J="abr";if(v(e,[0,2,0,-1,0,2,0]))J="abr";
if(v(e,[0,6,0,1]))J="abr";if(v(e,[0,6,0,2]))J="abr";if(v(e,[0,7,0,2]))J="abr";if(v(e,[0,9,0,2]))J="abr";
if(v(e,[0,10,0,2]))J="abr";if(v(e,[56,66,70,83]))J="shc";if(v(e,[56,66,80,84]))J="pat";if(v(e,[56,66,71,82]))J="grd";
if(v(e,[71,73,77,80,32,71,114,97]))J="grd";if(v(e,[56,66,84,80]))J="tpl";if(v(e,[0,4,0,5]))J="acv";if(v(e,[99,117,115,104]))J="csh";
if(v(e,[0,1,0,0,0]))J="otf";if(v(e,[79,84,84,79]))J="otf";if(v(e,[116,116,99,102]))J="otf";if(v(e,[68,68,83,32]))J="dds";
if(v(e,[80,86,82,3]))J="pvr";if(v(e,[86,84,70,0]))J="vtf";if(v(e,[83,73,77,80]))J="fits";if((v(e,[0,0,1,0])||v(e,[0,0,2,0]))&&e[4]!=0)J="ico";
if(v(e,[66,77]))J="bmp";if(v(e,[40,0,0,0]))J="bmp";if(v(e,[80,49]))J="ppm";if(v(e,[80,50]))J="ppm";if(v(e,[80,51]))J="ppm";
if(v(e,[80,52]))J="ppm";if(v(e,[80,53]))J="ppm";if(v(e,[80,54]))J="ppm";if(v(e,[73,73,42,0]))J="tiff";
if(v(e,[77,77,0,42]))J="tiff";if(v(e,[73,73,85,0]))J="tiff";if(v(e,[73,73,82,83]))J="tiff";if(v(e,[73,73,82,79]))J="tiff";
if(J=="tiff"){var Z=UTIF.decode(e),o=gI.oo.a7C(Z);if(o[1])J=o[1];else if(Z[0].t37724)J="ptif"}if(v(e,[70,85,74,73,70,73,76,77]))J="raf";
if(v(e,[112]))J="lif";if(v(e,[73,73,26,0]))J="ciff";if(v(e,[83,81,76,105]))J="sketch";if(v(e,[80,75])){var u=UZIP.parse(h,!0);
if(u["document.json"])J="sketch";else if(u.manifest)J="xd";else if(u["maindoc.xml"])J="kra";else if(u["content/root.dat"])J="cdr";
else if(u["content/riffData.cdr"])J="cdr";else if(u["canvas.fig"])J="fig";else if(u["manifest.json"])J="pxz";
else J="zip"}if(v(e,[123]))J="json";if(b.d$(e,0)==e.length)J="icc";if(v(e,[35]))J="icc";if(v(e,[84,73,84,76],m))J="icc";
if(v(e,[76,85,84,95],m))J="icc";if(v(e,[60,63,120,109],m)){if(b.TE(e,"<look>")!=-1)J="icc";else J="svg"}if(v(e,[255,254,60,0],m))J="svg";
if(v(e,[60,115,118,103],m))J="svg";if(v(e,[60,33,100,111],m)||v(e,[60,33,68,79],m)||v(e,[60,33,45,45],m)){if(b.TE(e,"<svg")!=-1)J="svg";
else J="html"}if(v(e,[37,33])||v(e,[197,208,211,198])){if(b.TE(e,"%AI9_PrivateDataBegin")!=-1||b.TE(e,"%AI5_BeginLayer")!=-1)J="ai";
else J="eps"}if(v(e,[37,80,68,70],m)){var N=b.TE(e,"/AIMetaData ");if(N!=-1){if(b.TE(e,">>/Encrypt ",N)!=-1)J="pdf";
else J="ai"}else J="pdf"}else if(v(e,[10,69,79,70],d-3))J="dxf";if(v(e,[1,0,9,0]))J="wmf";if(v(e,[215,205,198,154]))J="wmf";
if(v(e,[1,0,0,0]))J="emf";if(v(e,[118,47,49,1]))J="exr";if(v(e,[10,10,10,10]))J="jsx";if(v(e,[77,90]))J="exe";
if(J==null&&B.raw.l2(e.length)!=null)return"tiff";return J};gI.aH9=function(h,e,v){if(v==null)v=0;for(var T=0;
T<e.length;T++)if(e[T]!=-1&&h[v+T]!=e[T])return!1;return!0};gI.g6=function(h){var e={BMP:gI.azD,CDR:gI.aw,DDS:gI.Iw,EMF:gI.de,DXF:gI.fr,EPS:gI.NM,FIG:gI.k1,FPNG:gI.cE,INDD:gI.iF,CHLV:gI.atv,GIF:gI.JN,ICO:gI.me,ILBM:gI.aHk,FITS:gI.a0M,EXR:gI.hP,JPG:gI.wl,LIF:gI.Qy,DCM:gI.aqi,PDF:gI.dy,PDN:gI.x1,PNG:gI.pX,ICNS:gI.aaC,PPM:gI.A9,PSD:gI.FV,PXD:gI.TP,PXZ:gI.Zz,RAW:gI.Qc,SKETCH:gI.ry,UFO:gI.ad,SVG:gI.iU,TGA:gI.Mo,AVIF:gI.afA,HEIC:gI.aBL,JXL:gI.aBL,TIFF:gI.oo,PTIF:gI.a4,DNG:gI.oo,CR2:gI.oo,NEF:gI.oo,ARW:gI.oo,RW2:gI.oo,ORF:gI.oo,FFF:gI.oo,RAF:gI.T1,CR3:gI.XK,VTF:gI.aaI,WEBP:gI.wu,WMF:gI.Fw,XCF:gI.BP,XD:gI.NZ,KRA:gI.yb,EXE:gI.ai9,AI:gI.Bf,AFPHOTO:gI.ml,CLIP:gI.QK,FRAC:gI.GP,MP4:gI.aHe};
return e[h.toUpperCase()]};gI.oT=function(T){var h=gI.aG1.awh,e=gI.aG1.an1,v,J=[];if(T==null)v=h.concat(e);
else v=T==0?h:e;for(var T=0;T<v.length;T++)if(gI.g6(v[T]).oZ)J.push(v[T]);return J};gI.aAa=function(){var h;
function e(J){var m=J.target,d=m.width,x=m.height,j=document.createElement("canvas");j.width=d;j.height=x;
var E=j.getContext("2d");E.drawImage(m,0,0);h({Ei:new fP(0,0,d,x),data:E.getImageData(0,0,d,x).data.buffer})}function v(J,m,d){h=d;
var x=document.createElement("img");x.onload=e;x.src="data:"+m+";base64,"+gI.nQ(J)}return v}();gI.K7=function(h,e,v,J,m){var d=gI.q0(h,e,v,J,m),x=gI.DU(d);
return x.buffer};gI.DU=function(h){var e=atob(h.split(",").pop()),v=new Uint8Array(e.length);for(var T=0;
T<e.length;T++)v[T]=e.charCodeAt(T);return v};gI.q0=function(h,e,v,J,m,d){if(!(h instanceof ArrayBuffer))throw"e";
if(J==null)J="png";if(J=="png"&&d==!0){var x=gI.g6("PNG").oZ([[h,0]],e,v);return"data:image/png;base64,"+gI.nQ(x)}var j=gI.hr;
if(j==null)j=gI.hr=document.createElement("canvas");if(j.width!=e||j.height!=v){j.width=e;j.height=v}var E=j.getContext("2d"),L=new ImageData(new Uint8ClampedArray(h,0,e*v*4),e,v);
E.putImageData(L,0,0);return j.toDataURL("image/"+J,m)};gI.a6Q=function(h,e,v,J,m){if(m==null)m=0;var d="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",x="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+d+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(h==1)x+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
x+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+m+")\" xlink:href=\""+e+"\" x=\""+80*v+"\" y=\""+80*J+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var j=new Uint8Array(x.length);b.VC(x,j,0);var E="data:image/svg+xml;base64,"+gI.nQ(j.buffer);return{wp:E,e3:new fP(0,0,128,128),Tc:new fq(64,64)}};
gI.nQ=function(h){var e=new Uint8Array(h),v="";for(var T=0;T<e.length;T++)v+=String.fromCharCode(e[T]);
return btoa(v)};gI.iD=function(h){var e=atob(h),v=e.length,J=new Uint8Array(v);for(var T=0;T<v;T++)J[T]=e.charCodeAt(T);
return J.buffer};gI.a8e=function(h){var e=[],v=[];for(var T=0;T<h.T.length;T++){var J=h.T[T];if(J.getName().slice(0,3)=="_a_"){e.push(T);
v.push(J.oA())}}return[e,v]};gI.Pc=function(h,e,v,J,m,d){if(v==null)v=h.q;if(J==null)J=h._;var x=new fP(0,0,h.q,h._),j=new aJ(v/(h.q+.001),0,0,J/(h._+.001),0,0),L;
e=e.toUpperCase();var E=gI.g6(e);if(E.ug){L=E.oZ(h,v,J,m,d)}else if(jD==1){var p=h.alb(d,v,J);L=E.oZ([[p,0,h.gx,h.dQ]],v,J,m)}else{if(m)m=m.slice(0);
var Z=gI.a8e(h),o=Z[0],u=Z[1],N=h.AG(),M=N&&m?m.pop():!1,O=N&&!M?N[0]:null,F=null;if(h.Ar.length!=0){F=[];
for(var T=0;T<h.Ar.length;T++)F.push(h.Ar[T]._N(x))}if(o.length<2){var W=gI.a3w(h.pb(),N,M,h),f;if(v==h.q&&J==h._)f=W.buffer;
else{var $=c.L2.X_([W,x],j);f=$.buffer.buffer;if(F){var H=B.U(x.$()*4);for(var T=0;T<F.length;T++){B.ar(F[T],H,3);
var $=c.L2.X_([H,x],j),A=F[T]=B.U($.R.$());B.Bq($.buffer,A,3)}}}L=E.oZ([[f,0,h.gx,h.dQ,F,O]],v,J,m)}else{var G=[];
for(var T=0;T<o.length;T++){var l=o[T],f;for(var K=0;K<o.length;K++)h.T[o[K]].nP(o[K]==l);h.Bb();h.dn();
h.vp();if(v==h.q&&J==h._)f=h.pb().buffer.slice(0);else{var $=c.L2.X_([h.pb(),x],j);f=$.buffer.buffer}f=gI.a3w(new Uint8Array(f),N,M,h).buffer;
var U=h.T[l].getName().split(",");G.push([f,U[1]?parseInt(U[1]):100,h.gx,h.dQ,F,O])}for(var T=0;T<o.length;
T++)h.T[o[T]].nP(u[T]);h.dn();h.vp();if(m){m.push(100);var z=m.length,q=m[z-3],P=m[z-2],g=m[z-5]/100,a=m[z-1]/100;
if(g!=1)for(var T=0;T<G.length;T++)G[T][1]=Math.round((G[T][1]==0?16:G[T][1])/g);if(a<1){var w=0,y=[],C=0,K=0;
for(var T=0;T<G.length;++T){w+=G[T][1];if(T>0){y.push(y[y.length-1]+G[T-1][1])}else{y.push(0)}}var S=a*G.length,i=w/S,Y=[];
for(var T=0;T<S;++T){var _=0;while(C>y[K]&&K+1<G.length){_+=G[K][1];++K}if(_!=0){var t=Math.round(Math.min(1,(y[K]-C)/G[K][1])*_);
Y[Y.length-1][1]+=_-t;if(G[K][1]<G[K-1][1]/2){Y.push(G[K-1])}else{Y.push(G[K])}Y[Y.length-1][1]=G[K][1]+t}else if(K<G.length){Y.push(G[K])}C+=i;
++K}while(K<G.length){Y[Y.length-1][1]+=G[K][1];++K}G=Y}if(q)G.reverse();if(P){var I=G.slice(1,G.length-1);
I.reverse();G=G.concat(I)}}L=E.oZ(G,v,J,m)}}return L};gI.a3w=function(h,e,v,J){var m=J.n0();if(v){h=h.slice(0);
ICC.U.applyLUT(e[3],e[2],h,h)}else if(m&&J.add.fcmy==1){h=h.slice(0);ICC.U.applyLUT(m[J.add.fcmy==1?5:3],m[2],h,h)}return h};
gI.aez=function(h,e){var v=new Uint8Array(h.data),J=new Uint8Array(e.data),m=0,d=0;for(var x=0;x<v.length;
x+=4){var j=v[x]-J[x],E=v[x+1]-J[x+1],L=v[x+2]-J[x+2],p=v[x+3]-J[x+3],Z=j*j+E*E+L*L+p*p>>>2;m+=Z;if(Z>25)d++}var o=d/h.Ei.$()<1e-4;
return o};gI.d2=function(h,e){var v=e[0].dq&&e[0].dq.startsWith("_a_"),J;if(v&&!1){var m=0,d=e.length;
for(var T=0;T<e.length-1;T++){var x=e[T],j=e[T+1],E=gI.aez(x,j);if(E){var L=parseFloat(x.dq.split(",").pop()),p=parseFloat(j.dq.split(",").pop());
x.dq=x.dq.split(",")[0]+","+Math.round(L+p);e.splice(T+1,1);T--;m++}}if(m!=0){alert("Deleted "+m+" frames out of "+d+".");
for(var T=0;T<e.length;T++){var Z=e[T],o=Z.dq;Z.dq="_a_frm"+T+","+o.split(",")[1]}}}var u=new e7(h+"."+["psd","ai"][jD]),N=new fP(0,0,1,1);
if(v){J=u.ws();J.add.lsct=d7.W$;J.Ip(h);J.fR="pass";J.IT=24;J.nP(!0);u.T.push(u.gB())}for(var T=0;T<e.length;
T++){var M=e[T];N=N.R$(M.Ei);var O=u.ws();O.nP(T==0);O.Ip(e.length==1?"Background":"Layer "+T);if(T==0&&M.gx)u.gx=M.gx;
if(T==0&&M.dQ)u.dQ=M.dQ;if(M.dq)O.Ip(M.dq);if(M.Ye)for(var F=0;F<M.Ye.length;F++){var W=M.Ye[F],f=e7.O8(W[0]);
f.add.vmsk.z=W[1];B.s.Ma(W[1],new aJ(N.q,0,0,N._,0,0));u.H0.push(f)}if(M.nT)u.nT=M.nT;O.R=M.Ei.O();O.buffer=new Uint8Array(M.data);
if(T==0&&M.oR)u.Qk(M.oR);B.ZI(O,!0);u.T.push(O)}if(v)u.T.push(J);if(e[0].Ar){for(var T=0;T<e[0].Ar.length;
T++){var $=new s.xK;u.Ar.push($);$.R=e[0].Ei.O();$.G=e[0].Ar[T]}}u.X=[v?u.T.length-1:0];u.q=N.q;u._=N._;
if(jD==0)u.buffer=B.U(N.$()*4);u.dn();return u};gI.a6y=function(h,e,v){var J=h.length-v,m=new Uint8Array(J);
for(var T=0;T<e;T++)m[T]=h[T];for(var T=e;T<J;T++)m[T]=h[T+v];return m};gI.axn=function(h,e,v){var J=h.length,m=v.length,d=new Uint8Array(J+m);
for(var T=0;T<e;T++)d[T]=h[T];for(var T=e;T<J;T++)d[T+m]=h[T];d.set(v,e);return d};gI.awe=function(h,e,v,J,m,d,x,j,E){var L=new g3(k.E.A,!0);
L.I=c.V8;L.data={V:"h_stepbck"};var p={};for(var Z=1;Z<v.length;Z++){var o=h.X.slice(0),u=gI.ado(h,E,e,v,J,Z),N="img"+Z,M=v[0].indexOf(x);
if(x!=""){if(M==-1)alert("Column "+x+" not found.");else N=v[Z][M]}p[N+"."+m.toLowerCase()]=new Uint8Array(gI.Pc(h,m,null,null,d,j));
for(var T=0;T<u;T++)E.a(L)}return UZIP.encode(p)};gI.ado=function(h,e,v,J,m,d){var x=new g3(k.E.u,!0),L=0;
x.data={V:k.l.M7};var j=new g3(k.E.A,!0);j.I=c.Yn;j.data={V:s.Lo,qs:{buffer:null,R:null}};var E=j.data.qs;
for(var p=0;p<v.length;p++){var Z=v[p],o=Z.trait,u=parseInt(Z.docRef.slice(4,-2)),N=-1;for(var T=0;T<h.T.length;
T++)if(h.T[T].add.lyid==u)N=T;if(N==-1)continue;var M=J[0].indexOf(Z.varName);if(M==-1){alert("Column "+Z.varName+" is missing");
return}var O=J[d][M],F=h.T[N];h.X=[N];if(o=="textcontent"){x.data.Ds="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(O)+";";
e.a(x);L++}if(o=="visibility"&&F.oA()+""!=O.toLowerCase()){O=O.trim().toLowerCase();if(O!="true"&&O!="false")O=O==""?"false":"true";
x.data.Ds="app.activeDocument.activeLayer.visible = "+O+";";if(F.oA()+""!=O){e.a(x);L++}}if(o=="fileref"){var W=O.split("/").pop(),f=null;
for(var iW in m)if(iW.split("/").pop()==W)f=m[iW];if(f==null){alert("Image "+W+" is missing.")}else{var $=gI.g6(gI.pI(f.buffer)).E2(f.buffer)[0],H=$.Ei,A=F.R,U=0,z=0;
if(F.add.SoLd){var G=c.L2.RT(F.add.SoLd.nonAffineTransform);A=B.w.Ob(G)}var l=A.q/A._,K=H.q/H._;if(l>K){z=A._;
U=~~(z*K)}else{U=A.q;z=~~(U/K)}x.data.Ds="app.activeDocument.activeLayer.visible = false;";e.a(x);L++;
var q=c.L2.X_([new Uint8Array($.data),H],new aJ(U/H.q,0,0,z/H._,0,0));E.R=q.R;E.buffer=q.buffer;q.R.x=A.x+(A.q-U>>>1);
q.R.y=A.y+(A._-z>>>1);e.a(j);L++;var P=h.T[h.X[0]];P.S2=F.S2;P.ql=F.ql;P.fR=F.fR;P.N=F.N}}}return L};
gI.pX={};gI.pX.oZ=function(h,e,v,J){if(J==null)J=[100,!1,!1,0,0,0];var m={sRGB:1,loop:J[4]},d=h[0];if(d[5]!=null){delete m.sRGB;
m.iCCP=d[5]}if(d[2]!=null){var x=Math.round(d[2]*(1e4/254));m.pHYs=[x,x,1]}if(d[3]!=null&&J[2]&&Object.keys(d[3]).length!=0){m.iTXt={"XML:com.adobe.xmp":cP.E9(d[3])}}var j=J[0],E=j==100?0:Math.max(2,Math.floor(j*5));
if(E==5)E=4;var L=[],p=[];for(var T=0;T<h.length;T++){L.push(h[T][0]);p.push(h[T][1])}var Z=UPNG.encode(L,e,v,E,p,m,J[1]);
return Z};gI.pX.aqS=function(h,e,v){return UPNG.encodeLL([h],e,v,3,1,8)};gI.pX.E2=function(h){var e=Date.now(),v=UPNG.decode(h),J=UPNG.toRGBA8(v),m=v.width,d=v.height,x=0,j=null,E=v.tabs.iCCP;
if(v.tabs.pHYs)x=Math.round(v.tabs.pHYs[0]*254/1e4);var L=v.tabs.iTXt;if(L&&L["XML:com.adobe.xmp"])j=cP.VX(L["XML:com.adobe.xmp"]);
if(J.length==1)return[{Ei:new fP(0,0,m,d),data:J[0],gx:x,oR:E,dQ:j}];var p=[];for(var T=0;T<J.length;
T++){p.push({dq:"_a_frm"+T+","+v.frames[T].delay,Ei:new fP(0,0,m,d),data:J[T],gx:x,oR:E})}return p};
gI.A9={};gI.A9.oZ=function(h,e,v,J){var m=new Uint8Array(h[0][0]),d=e*v,x=d*3,j="P6\n"+e+" "+v+"\n255\n",E=j.length,L=new Uint8Array(E+x);
for(var T=0;T<E;T++)L[T]=j.charCodeAt(T);for(var T=0;T<d;T++){var p=T*4,Z=T*3+E;L[Z]=m[p];L[Z+1]=m[p+1];
L[Z+2]=m[p+2]}return L.buffer};gI.A9.E2=function(h){h=new Uint8Array(h);var e=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],v=0,J=String.fromCharCode(h[0])+String.fromCharCode(h[1]),m=[],d=0,x=J=="P1"||J=="P4"?2:3;
for(v=2;v<h.length;v++){var j=h[v],E=String.fromCharCode(j);if(j=="#".charCodeAt(0)){while(h[v]!="\n".charCodeAt(0))v++;
continue}var L=e.indexOf(j)!=-1;if(d==0&&!L){m.push(E);d=1;continue}if(d==1&&!L){m[m.length-1]+=E;continue}if(d==1&&L){d=0;
if(m.length==x)break;continue}}var p=parseInt(m[0]),Z=parseInt(m[1]),o=p*Z*4,u=J=="P1"||J=="P4"?1:255/parseInt(m[2]),N=B.U(o);
if(J=="P1"||J=="P2"||J=="P3"){var M="",O=0,d=0,F="#".charCodeAt(0);for(var T=v;T<h.length;T++){var j=h[T],E=String.fromCharCode(j),L=e.indexOf(j)!=-1;
if(j==F){while(h[T]!="\n".charCodeAt(0))T++}else if(d==0&&!L){M=E;d=1}else if(d==1){if(L){d=0;var W=parseInt(M);
M="";if(J=="P1"){N[O]=N[O+1]=N[O+2]=(1-W)*255;N[O+3]=255;O+=4}if(J=="P2"){N[O]=N[O+1]=N[O+2]=Math.round(W*u);
N[O+3]=255;O+=4}if(J=="P3"){N[O]=Math.round(W*u);O++;if((O&3)==3){N[O]=255;O++}}}else M+=E}}}var f=p*Z;
if(J=="P4")for(var $=0;$<Z;$++){var H=$*8*Math.ceil(p/8);for(var A=0;A<p;A++){var T=H+A,G=h[v+1+(T>>3)];
G=G>>7-(T&7)&1;var l=$*p+A<<2;N[l]=N[l+1]=N[l+2]=(1-G)*255;N[l+3]=255}}if(J=="P5")for(var T=0;T<f;T++){var l=4*T;
N[l]=N[l+1]=N[l+2]=Math.round(h[v+1+T]*u);N[l+3]=255}if(J=="P6")for(var T=0;T<f;T++){var l=4*T,K=v+1+3*T;
N[l]=Math.round(h[K]*u);N[l+1]=Math.round(h[K+1]*u);N[l+2]=Math.round(h[K+2]*u);N[l+3]=255}return[{Ei:new fP(0,0,p,Z),data:N.buffer}]};
gI.Iw={};gI.Iw.oZ=function(h,e,v,J){if(J==null)J=[0,!0];if(typeof J[0]=="boolean")J[0]=0;var m=new Uint8Array(h[0][0]);
if(!B.kx(m)&&h[0][4]){m=m.slice(0);B.ar(h[0][4][0],m,3)}var d=e&3,x=v&3;if(d!=0||x!=0){var j=e+(d==0?0:4-d),E=v+(x==0?0:4-x),L=new Uint8Array(j*E*4);
B.yV(L,4278190080);B.YZ(m,new fP(0,0,e,v),L,new fP(0,0,j,E));m=L;e=j;v=E}var p=UTEX.DDS.encode(m.buffer,e,v,J);
if(!1){var Z=UTEX.DDS.decode(p)[0],L=new Uint8Array(Z.pd),o=0;for(var T=0;T<m.length;T++){var u=m[T]-L[T];
o+=u*u}console.log(o)}return p};gI.Iw.E2=function(h){var e=UTEX.DDS.decode(h)[0],v={Ei:new fP(0,0,e.width,e.height),data:e.image};
B.aEu(v);return[v]};gI.aaI={};gI.aaI.E2=function(h){var e=UTEX.VTF.decode(h).pop(),v={Ei:new fP(0,0,e.width,e.height),data:e.image};
B.aEu(v);return[v]};gI.wl={};gI.wl.a4Y=null;gI.wl.aAQ=function(h,e){var v=gI.wl.a4Y,J=h.byteLength,m=e.width,d=e.height,x=m*d,j=5e6+2*J+x*(e.progressive?Math.max(2,e.numComponents)*4+1:8),E=v.instance.exports;
gI.do(E,j);var L=new Uint8Array(E.memory.buffer),p=E.malloc(J);L.set(new Uint8Array(h),p);var Z=E.malloc(4),o=E.malloc(4),iW=E.malloc(4),u=E.stbi_load_from_memory(p,J,Z,o,iW,4);
E.free(p);E.free(Z,o,iW);E.free(u);var N=L.slice(u,u+x*4);return N};(function(){var h=gI.KF.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(h).then(function(e){gI.wl.a4Y=e})}());gI.wl.oZ=function(h,e,v,J){if(J==null)J=[85];
var m=h[0],d=new Uint8Array(m[0]);if(B.kx(d)){var x=new Uint8Array(d.length),j=new fP(0,0,e,v);B.yV(x,4294967295);
B.B.lU("norm",d,j,x,j,j,1);d=x}var E=new Uint8Array(gI.K7(d.buffer,e,v,"jpeg",J[0]/100));if(E.length<2e4||m[5]){var L=b.TE(E,[255,226]);
if(L!=-1){var p=b.hm(E,L+2);E=gI.a6y(E,L,p+2)}}if(m[5]!=null){var Z=4+b.hm(E,4),o=m[5].length+16,u=new Uint8Array(o+2);
u[0]=255;u[1]=226;b.pu(u,2,o);b._z(u,4,"ICC_PROFILE");u[16]=u[17]=1;u.set(m[5],18);E=gI.axn(E,Z,u)}if(m[2]!=null){var N=gI.wl.MW(E)[224][0]+2;
N+=9;E[N]=1;b.pu(E,N+1,m[2]);b.pu(E,N+3,m[2])}if(m[3]!=null&&J[1]==!0&&Object.keys(m[3]).length!=0){var M=0,O=0,F=0,W=cP.u4(m[3]),f=new Uint8Array(UTIF.encode([W])),$="http://ns.adobe.com/xap/1.0/",Z=20;
M=4+6+f.length;var H=cP.E9(m[3]),A=b.YQ(H);O=4+$.length+1+A.length;var G=cP.awA(m[3]);if(G.length!=0){var l=0,z=0;
for(var T=0;T<G.length;T++)l+=5+G[T][1].length;var K=l+(l&1),U=B.U(14+4+4+4+K);b._z(U,z,"Photoshop 3.0");
z+=14;b._z(U,z,"8BIM");z+=4;U[z++]=4;U[z++]=4;z+=2;b.ft(U,z,l);z+=4;for(var T=0;T<G.length;T++){var q=G[T],P=q[1];
U[z++]=28;U[z++]=2;U[z++]=q[0];b.pu(U,z,P.length);z+=2;b._z(U,z,P);z+=P.length}F=4+U.length}var g=M+O+F,a=new Uint8Array(E.length+g);
for(var T=0;T<20;T++)a[T]=E[T];for(var T=20;T<E.length;T++)a[T+g]=E[T];a[Z]=255;a[Z+1]=225;b.pu(a,Z+2,M-2);
b._z(a,Z+4,"Exif");for(var T=0;T<f.length;T++)a[Z+10+T]=f[T];Z+=M;a[Z]=255;a[Z+1]=225;b.pu(a,Z+2,O-2);
b._z(a,Z+4,$);for(var T=0;T<A.length;T++)a[Z+4+$.length+1+T]=A[T];Z+=O;if(F!=0){a[Z]=255;a[Z+1]=237;
b.pu(a,Z+2,F-2);for(var T=0;T<U.length;T++)a[Z+4+T]=U[T];Z+=F}E=a}return E.buffer};gI.wl.MW=function(h){var e=0,v=[],J=h.length;
while(e<J){while(h[e]!=255&&e<J)e++;while(h[e]==255)e++;if(e==J)break;var m=h[e];e++;if(v[m]==null)v[m]=[];
v[m].push(e-2);if(m==216)continue;if(m==217)break;if(224<=m&&m<=239||m==218||m==219||m==192||m==193||m==194||m==196||m==221||m==254){var d=b.hm(h,e);
e+=d;if(m==218)while(e<J&&(h[e]!=255||(h[e+1]==0||208<=h[e+1]&&h[e+1]<=215)))e++;continue}console.log("unknown marker ",m.toString(16),e);
break}if(v[217]==null){console.log("EOI marker missing");var x=h.length-2;h[x]=255;h[x+1]=217;v[217]=[x]}return v};
gI.wl.arN=function(h){h=new Uint8Array(h);if(h[0]!=255)return h.buffer;var e=gI.wl.MW(h),v=gI.wl.aeK(h,e);
if(v.numComponents!=4)return h.buffer;var J=v.width,m=v.height,d=gI.wl.ahw(h,e,!0);return gI.wl.oZ([[d[0].data]],J,m,[85])};
gI.wl.aeK=function(h,e){var v=(e[192]?e[192]:e[193]?e[193]:e[194])[0]+4,J={};J.progressive=e[194]!=null;
J.precision=h[v];v++;J.height=b.hm(h,v);v+=2;J.width=b.hm(h,v);v+=2;J.numComponents=h[v];v++;if(e[224]){var m=J.jfif={};
v=e[224][0]+2+2+5+2;m.densityUnits=h[v];v++;m.xDensity=b.hm(h,v);v+=2;m.yDensity=b.hm(h,v);v+=2}if(e[238]){var m=J.adobe={};
v=e[238][0]+2+2+6;m.version=h[v];v++;m.flags0=b.hm(h,v);v+=2;m.flags1=b.hm(h,v);v+=2;m.transform=h[v];
v++}return J};gI.wl.a0U=function(h,e,v){var J=e,m=b.hm(h,J);J+=2;var d=b.RZ(h,J,4);if(d=="Exif"){J+=6;
var x=h.slice(J,J+m-8),j;try{j=UTIF.decode(x.buffer,{parseMN:!1,debug:!1})}catch(j3){}if(j&&j.length!=0)v.exif=j}else if(d=="http"){var E=0;
while(h[J+E]!=0)E++;var L=b.RZ(h,J,E);J+=E+1;if(L=="http://ns.adobe.com/xmp/extension/"){var p=b.RZ(h,J,32);
J+=32;J+=8;var Z=e+m-J;while(h[J+Z-1]==0)Z--;if(v.xmp_extn==null)v.xmp_extn="";try{v.xmp_extn+=b.Is(h,J,Z)}catch(j3){}}else if(L=="http://ns.adobe.com/xap/1.0/"){var o=b.Is(h.slice(J,J+m-E-3));
if(o[0]=="?")o="<"+o;v.xmp=o}}else console.log(d)};gI.wl.ahw=function(h,e,v){var J=gI.wl.aeK(h,e),m=J.width,d=J.height,x=m*d,j,$=72,H,G,l=null;
if(m*d*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var E=-1;if(J.adobe)E=J.adobe.transform;if(v||m*d>1e7||E==0||E==2||J.progressive){var L=new PDFJS.JpegImage;
L.parse(h);var p=L.getData({width:m,height:d,forceRGB:!0,isSourcePDF:v}),j=B.U(x*4);for(var T=0;T<x;
T++){var Z=T<<2,o=Z-T;j[Z]=p[o];j[Z+1]=p[o+1];j[Z+2]=p[o+2];j[Z+3]=255}}else{j=gI.wl.aAQ(h.buffer,J)}var u=e[225];
if(u)for(var T=0;T<u.length;T++)gI.wl.a0U(h,u[T]+2,J);var N=e[226];if(N){for(var T=0;T<N.length;T++){var M=N[T],O=b.hm(h,M+2),F=b.RZ(h,M+4,11);
if(J.icc==null&&F=="ICC_PROFILE"){var W=b.d$(h,M+18);J.icc=h.slice(M+18,M+18+W)}}}var f=e[217][0]+2;
if(f!=h.length)J.suffix=h.slice(f);var A=[m,d,1,0,0,0,1,0];if(J.jfif&&J.jfif.densityUnits!=0){$=Math.round([72,1,2.54][J.jfif.densityUnits]*J.jfif.xDensity)}else if(J.exif&&J.exif[0].t282!=null){var K=J.exif[0].t282[0];
$=K[0]/K[1]}if(J.exif){var U=J.exif;H=cP.VB(U[0]);var z=U[0].t274;if(z)z=z[0];if(z!=null&&z>1&&z<20)A=B.raw.au1(z,m,d)}if(J.xmp){H=cP.VX(J.xmp,H)}if(J.icc)G=J.icc;
var q=e[237],P=[],g=[];if(q){var a=new Uint8Array(65536),w=0,M=0;for(var T=0;T<q.length;T++){M=q[T]+2;
var y=M+b.hm(h,M);M+=2;var S=M;while(h[M]!=0)M++;M++;var i=b.RZ(h,S,M-S-1),C=y-M;if(C<0)break;while(w+C>a.length){var Y=new Uint8Array(a.length*2);
Y.set(a);a=Y}var _=new Uint8Array(h.buffer,M,C);a.set(_,w);w+=C}M=0;h=a;while(M<w){var t=b.RZ(h,M,4);
M+=4;var I=b.hm(h,M);M+=2;var r=h[M++],n=b.RZ(h,M,r);M+=r;if((r&1)==0)M++;var O=b.d$(h,M);M+=4;var f=M+O+(O&1);
if(I==1028){while(M+4<f){var Q=h[M++],D=h[M++],dG=h[M++],R=b.hm(h,M);M+=2;if(Q==28&&D==2)P.push([dG,b.RZ(h,M,R)]);
M+=R}}else if(I==1032)l=jI.avp(h,M);else if((I&2e3)==2e3){var X=dI.kN(h,M,O);g.push([n,X])}else{}M=f}if(P.length!=0)H=cP.akA(P,H)}var dx=[{Ei:new fP(0,0,m,d),data:j.buffer,gx:$,dQ:H,oR:G,Ye:g.length==0?null:g,nT:l}],H=J.xmp_extn;
if(H){var jv=new DOMParser,gB=jv.parseFromString(H,"image/svg+xml"),gB=gB.children[0].children[0].children[0],hQ=[gB.getAttribute("GImage:Data"),gB.getAttribute("GDepth:Data")];
for(var T=0;T<hQ.length;T++)if(hQ[T]){var ah=atob(hQ[T]),kG=new Uint8Array(ah.length);b._z(kG,0,ah);
kG=kG.buffer;var iZ=gI.pI(kG),bs=gI.g6(iZ).E2(kG);dx.push(bs[0])}}if(J.suffix){var ey=J.suffix,jp=!1,eh=b.RZ(ey,4,4),dt=b.TE(ey,[255,216,255]);
if(gI.aH9(ey,[0,0,1,10,14,0,0,0])){if(jp)console.log("Samsung");var M=0;while(M!=ey.length){var jN=b.B7(ey,M+2);
M+=4;var jX={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[jN];if(jX!=null){var jw=b.bB(ey,M);M+=4;
var i7=b.RZ(ey,M,jw);M+=jw;var kn=b.RZ(ey,M,jX);M+=jX;if(jN==2608){var eK=M,ee=b.d$(ey,M+24);M+=ee+24;
var az=b.d$(ey,M);M+=az;var k7=ey.slice(eK,M);gI.wl.a8r(k7)}}else if(jN==18502){while(b.RZ(ey,M,4)!="SEFT")M+=4;
M+=4}else{break;console.log(b.Ki(ey,M,128));console.log(ey.slice(M));throw jN.toString(16)}}}else if(eh=="ftyp"){if(jp)console.log("MP4 Video");
gI.wl.a8r(ey)}else if(b.RZ(ey,0,4)=="fixe"){if(jp)console.log("fixe");alert("Unknown data - "+ey.length+" B - at the end of the file",3e3);
var M=4,O=b.bB(ey,M);M+=4;var al=b.bB(ey,M);M+=4;var kl=b.bB(ey,M);M+=4;console.log(O,al,kl,ey.slice(M,M+84));
M+=84;var b9=b.RZ(ey,M,32);M+=32;M+=8;var b9=b.RZ(ey,M,32);M+=32}else if(b.RZ(ey,8,13)=="FocusShot_Map"){if(jp)console.log("FocusShot_Map");
var h9=b.d$(ey,0),R=b.bB(ey,4),kG=B.U(x*4),ge=B.U(x*4);for(var iN=0;iN<d;iN++)for(var a8=0;a8<m;a8++){var T=iN*m+a8,Z=T<<2,dK=8+13+((iN>>>1)*m+a8>>>1),f6=ey[dK],fS=ey[dK+(x>>>2)];
kG[Z]=kG[Z+1]=kG[Z+2]=f6;kG[Z+3]=255;ge[Z]=ge[Z+1]=ge[Z+2]=fS;ge[Z+3]=255}dx.push({Ei:new fP(0,0,m,d),data:kG.buffer},{Ei:new fP(0,0,m,d),data:ge.buffer})}else if(eh=="edof"){if(jp)console.log("edof");
var z=ey[8+7];console.log(z.toString(16));var M=8+16,cf=b.B7(ey,M),iG=b.B7(ey,M+2),x=cf*iG;M+=4;M+=32+16;
var eC=B.U(x*4);for(var T=0;T<x;T++){var Z=T<<2;eC[Z]=eC[Z+1]=eC[Z+2]=ey[M+T];eC[Z+3]=255}if(z==16){}else if(z==19){var kH=eC.slice(0);
B.D.nc(eC,kH,cf,iG);var i0=cf;cf=iG;iG=i0;B.D.cU(kH,eC,cf,iG)}else throw"Unknown orientation of a depth map";
dx.push({Ei:new fP(0,0,cf,iG),data:eC.buffer})}else if(b.RZ(ey,0,64).indexOf("DualShot")!=-1){var e5=b.bB,gA=b.RZ,bW=b.B7,M=0;
function e3(){var cA=e5(ey,M);if(e5(ey,M+4)!=0)throw"e";M+=8;return cA}var iL=b.d$(ey,M);M+=4;try{if(iL==45066){M=1226;
var m=e3(),d=e3();M=3445}else if(iL==45322){var h4=e5(ey,M);M+=4;var b9=gA(ey,M,h4);M+=h4;if(b9!="DualShot_DepthMap_1")throw b9;
m=1008;d=756}else throw iL;var iT=B.U(m*d*4);iT.fill(255);B.WS(ey.slice(M,M+m*d),iT);dx.push({Ei:new fP(0,0,m,d),data:iT.buffer})}catch(j3){console.log("error reading a depth map")}try{if(dt!=0)ey=ey.slice(dt);
dx=dx.concat(gI.g6("jpg").E2(ey.buffer))}catch(j3){}}else if(dt!=-1&&!(ey[0]==255&&ey[1]==129)){if(jp)console.log("another JPG at",dt);
try{if(dt!=0)ey=ey.slice(dt);dx=dx.concat(gI.g6("jpg").E2(ey.buffer))}catch(j3){}}else if(b.RZ(ey,0,4)=="PMPD"){if(jp)console.log("Xiaomi stuff");
var M=4,hC=b.bB(ey,12),dS=b.bB(ey,16),cf=b.bB(ey,1060),iG=b.bB(ey,1064),il=cf>iG,i6=dx[0].Ei.q>dx[0].Ei._,co=ey.slice(ey.length-cf*iG-4),bH=B.U(cf*iG);
for(var iN=0;iN<iG;iN++)for(var a8=0;a8<cf;a8++)bH[iN*cf+a8]=co[(iG-iN-1)*cf+a8];var iT=B.U(cf*iG*4);
iT.fill(255);B.WS(bH,iT);if(il!=i6){var kH=iT.slice(0);B.D.nc(iT,kH,cf,iG);var i0=cf;cf=iG;iG=i0;B.D.cU(kH,iT,cf,iG)}dx.push({Ei:new fP(0,0,cf,iG),data:iT.buffer})}else console.log(b.RZ(ey,0,4),ey)}if(dx.length>1){var b5=dx[0].Ei,id=!1,dH=!0;
dx[0].dq="Main";var ej=[!1];for(var T=1;T<dx.length;T++){ej[T]=gI.wl.abI(new Uint8Array(dx[T].data));
if(ej[T])id=!0;if(!dx[T].Ei.lS(dx[0].Ei))dH=!1}if(!id&&!dH)dx=dx.slice(0,1);else for(var T=1;T<dx.length;
T++){dx[T].dq=ej[T]?"Depth Map":null;var hA=dx[T].Ei;if(!hA.lS(b5)){var fn=b5.q/hA.q,d3=b5._/hA._,iF=new aJ;
iF.scale(fn,d3);var hF=c.L2.pf([new Uint8Array(dx[T].data),hA],1,B.D.fi(iF));dx[T].Ei=hF.R;dx[T].data=hF.buffer}}}if(gI.wl.y6==1)if(A[2]!=1||A[6]!=1)for(var T=0;
T<dx.length;T++){var bz=dx[T],hN=new Uint8Array(bz.data),m=bz.Ei.q,d=bz.Ei._,cf=A[0],iG=A[1],j=B.U(cf*iG*4);
B.D.fk(hN,m,d,j,A);bz.Ei=new fP(0,0,cf,iG);bz.data=j.buffer}return dx};gI.wl.a8r=function(h){if(window.confirm("Photopea found a "+iD.kA(h.length)+" MP4 video inside your image. Would you like to save it?",4e3)){ke.save(h.slice(0).buffer,"video.mp4")}};
gI.wl.abI=function(h){var e=!0;for(var T=0;T<h.length;T+=4){e=e&&h[T]==h[T+1]&&h[T+1]==h[T+2]}return e};
gI.wl.y6=0;gI.wl.E2=function(h,e,v){h=new Uint8Array(h);if(h[0]==255){var J=gI.wl.MW(h);if(J[195]==null){gI.wl.y6++;
var m=gI.wl.ahw(h,J,!1);gI.wl.y6--;return m}var d=b.hm(h,J[195][0]+5),x=b.hm(h,J[195][0]+7),j=UTIF.LosslessJpegDecode(h),E=x*d,L=B.U(E*4);
for(var T=0;T<E;T++){var p=T<<2,Z=p-T;L[p]=j[Z];L[p+1]=j[Z+1];L[p+2]=j[Z+2];L[p+3]=255}return[{Ei:new fP(0,0,x,d),data:L.buffer}]}else if(h[0]==0&&h[4]==48&&h[6]==1){var o=h,u=new PDFJS.Jbig2Image,N=[];
if(e)N.push({data:e,start:0,end:e.length});N.push({data:o,start:0,end:o.length});var j=u.parseChunks(N);
if(!v)for(var T=0;T<j.length;T++)j[T]=~j[T];var x=b.d$(h,11),d=b.d$(h,15),M=Math.ceil(x/8),O=B.U(x*d*4);
for(var F=0;F<d;F++){var W=F*M;for(var f=0;f<x;f++){var p=(F*x+f)*4,$=j[W+(f>>>3)]>>>7-(f&7)&1,H=$*255;
O[p]=H;O[p+1]=H;O[p+2]=H;O[p+3]=255}}return[{Ei:new fP(0,0,x,d),data:O.buffer}]}else{var u=new PDFJS.JpxImage;
u.parse(h);var x=u.width,d=u.height,A=u.tiles,G=u.componentsCount,l=new Uint8Array(x*d*4),K=new fP(0,0,x,d);
for(var u=0;u<A.length;u++){var U=A[u],z=U.width,q=U.height,P=z*q,g=U.items,a=new fP(U.left,U.top,z,q),w=new Uint8Array(P*4);
if(G==1)for(var T=0;T<P;T++){var y=g[T],p=T*4;w[p]=y;w[p+1]=y;w[p+2]=y;w[p+3]=255}else if(G==3)for(var T=0;
T<P;T++){var Z=T*3,p=T*4;w[p]=g[Z];w[p+1]=g[Z+1];w[p+2]=g[Z+2];w[p+3]=255}else if(G==4)w.set(g);else console.log("Unknown number of components: "+G);
B.YZ(w,a,l,K)}return[{Ei:K,data:l.buffer}]}};gI.wu={};gI.wu.oZ=function(h,e,v,J){if(J==null)J=[70,!1,0,0,0];
var m=J[0]/100,M=0;if(h.length==1){var d=new Uint8Array(gI.K7(h[0][0],e,v,"webp",m));if(d.length<2e4){var x=bx.kq(d.buffer),j=x.sub;
for(var T=0;T<j.length;T++)if(j[T].mX=="ICCP"){var E=j[T];d=gI.a6y(d,E.d-8,E.size+8);b.lz(d,4,x.size-(E.size+8));
break}}if(J[1]&&h[0][3]){var x=bx.kq(d.buffer),j=x.sub,L=j[0].d+j[0].size,p=h[0][3],Z=new Uint8Array(UTIF.encode([cP.u4(p)])),o=new Uint8Array(6+Z.length);
b._z(o,0,"Exif\0\0");o.set(Z,6);var u=b.YQ(cP.E9(p)),N=new Uint8Array(16+o.length+u.length);b._z(N,0,"EXIF");
b.lz(N,4,o.length);N.set(o,8);var M=8+o.length;b._z(N,M,"XMP ");b.lz(N,M+4,u.length);N.set(u,M+8);var O=new Uint8Array(d.length+N.length);
O.set(new Uint8Array(d.buffer,0,L),0);O.set(N,L);O.set(new Uint8Array(d.buffer,L),L+N.length);d=O;b.lz(d,4,b.bB(d,4)+N.length)}return d.buffer}var F=b.ey,W=b.rr,f=new kg;
F(f,M,"RIFF    WEBPVP8X");M+=16;W(f,M,10);M+=4;W(f,M,18);M+=4;W(f,M,e-1);M+=3;W(f,M,v-1);M+=3;F(f,M,"ANIM");
M+=4;W(f,M,6);M+=4;f.OQ(M,4);f.data[M+3]=255;b.c7(f,M+4,J[3]);M+=6;var $=[];for(var T=0;T<h.length;T++){$.push(h[T][0])}var H=UPNG.encode.compress($,e,v,m==1?0:Math.max(2,Math.floor(m*500)),[!1,!0,!0,0,!0]).frames;
function A(x,S,i,C){var P=x.d-8,g=x.size+8;i.OQ(C,g);for(var T=0;T<g;T++)i.data[C+T]=S[P+T];return C+g}for(var T=0;
T<h.length;T++){F(f,M,"ANMF");M+=4;var G=M,P=0,g=0;M+=4;var l=H[T],K=l.rect,U=[K.x>>>1,K.y>>>1,K.width-1,K.height-1,h[T][1]];
for(var z=0;z<5;z++)W(f,M+3*z,U[z]);M+=15;f.OQ(M,1);f.data[M]=1-l.blend<<1|l.dispose;M++;var q=new Uint8Array(gI.K7(l.img.buffer,K.width,K.height,"webp",1)),j=bx.kq(q.buffer).sub,a={};
for(var w=0;w<j.length;w++)a[j[w].mX]=j[w];if(a.VP8L)M=A(a.VP8L,q,f,M);else throw"e";var y=M-G-4;W(f,G,y);
if((y&1)==1){f.OQ(M,1);M++}}W(f,4,M-8);return f.data.slice(0,M).buffer};(function(){var h=gI.KF.get("wasm/webp").buffer;
WebAssembly.instantiate(h).then(function(e){var v=e.instance.exports;gI.wu.exp=v})}());gI.wu.E2=function(h){var e=new Uint8Array(h),v=gI.wu.akt,J=null,m=bx.kq(h).sub,d={},x=null;
for(var T=0;T<m.length;T++)d[m[T].mX]=m[T];if(d.EXIF){var j=d.EXIF,E=new Uint8Array(h,j.d+6,j.size-6),j=UTIF.decode(E)[0];
if(j)x=cP.VB(j)}var j=d["XMP\0"];if(j==null)j=d["XMP "];if(j){var E=new Uint8Array(h,j.d,j.size);if(x==null)x={};
x=cP.VX(b.Is(E),x)}var L=d.ANIM,p=d.VP8L,Z=d["VP8 "],o=d.VP8X;if(L==null){var u,N;if(Z){u=b.B7(e,Z.d+6);
N=b.B7(e,Z.d+8)}else if(p){var M=b.bB(e,p.d+1);u=(M&(1<<14)-1)+1;N=(M>>>14&(1<<14)-1)+1}else throw"e";
var O=v(J,h,{d:0,size:e.length},u,N);O.dQ=x;return[O]}var F=o.d,u=1+(b.bB(e,F+4)&16777215),N=1+(b.bB(e,F+7)&16777215),W=[],f=new fP(0,0,u,N),$=B.U(u*N*4);
for(var T=0;T<m.length;T++){var H=m[T];if(H.mX!="ANMF")continue;var A=[];for(var G=0;G<5;G++)A.push(b.bB(e,H.d+G*3)&16777215);
var l=new fP(A[0]*2,A[1]*2,A[2]+1,A[3]+1),K=A[4],U=v(J,h,{d:H.d+16,size:H.size-16},u,N),z=new Uint8Array(U.data),q=e[H.d+15];
if(q>>>1==0)B.B.lU("norm",z,l,$,f,l,1);else B.YZ(z,l,$,f);W.push({dq:"_a_"+W.length+","+K,Ei:f.O(),data:$.buffer.slice(0)});
if((q&1)==1){B.yV(z,0);B.YZ(z,l,$,f)}}return W};gI.wu.akt=function(h,e,v,J,m){var d=gI.wu.exp,x=d.memory,j=5e6+2*v.size+J*m*10;
gI.do(d,j);var E=new Uint8Array(x.buffer),L=d.malloc(v.size);E.set(new Uint8Array(e,v.d,v.size),L);var p=d.malloc(8),Z=d.WebPDecodeARGB(L,v.size,p,p+4),o=b.bB(E,p),u=b.bB(E,p+4),N=o*u*4,M=B.U(N);
for(var T=0;T<N;T+=4){M[T]=E[Z+T+1];M[T+1]=E[Z+T+2];M[T+2]=E[Z+T+3];M[T+3]=E[Z+T]}d.WebPFree(Z);d.free(p);
d.free(L);return{Ei:new fP(0,0,o,u),data:M.buffer}};gI.azD=function(){function h(j,E,L,p){var Z=new Uint8Array(j[0][0]),o=new Uint32Array(Z.buffer),u=[],N={},O=24,F=0,A=0;
for(var T=0;T<o.length;T++){var M=o[T]&16777215;if(N[M]==null){N[M]=u.length;u.push(M);if(u.length>256){u=null;
break}}}if(p&&p[0])u=null;if(u){O=1;while(1<<O<u.length)O*=2;if(O==2)O=4}var W={VA:E,qw:L,Gt:1,jU:O,uK:0,agl:F},f=4*Math.floor((W.jU*W.VA+31)/32);
W.size=f*W.qw+2;var $=new kg,H=u?(1<<O)*4:0;b.ey($,A,"BM");A+=2;b.rr($,A,f*L+16+40+H);A+=4;b.rr($,A,0);
A+=4;b.rr($,A,54+H);A+=4;$.OQ(A,40);b.rr($,A,40);A+=4;x($.data,A,W,f);A+=36;if(u){$.OQ(A,H);var G=$.data;
for(var T=0;T<u.length;T++){var l=A+T*4,K=u[T]>>>16,U=u[T]>>>8&255,z=u[T]&255;G[l]=K;G[l+1]=U;G[l+2]=z}A+=H}$.OQ(A,f*L);
if(O==24)for(var q=0;q<L;q++){var P=A+(L-1-q)*f;for(var g=0;g<E;g++){var a=(q*E+g)*4;$.data[P+g*3+2]=Z[a];
$.data[P+g*3+1]=Z[a+1];$.data[P+g*3+0]=Z[a+2]}}else if(O==8)for(var q=0;q<L;q++){var P=A+(L-1-q)*f;for(var g=0;
g<E;g++){var a=q*E+g,w=N[o[a]&16777215];$.data[P+g]|=w}}else if(O==4)for(var q=0;q<L;q++){var P=A+(L-1-q)*f;
for(var g=0;g<E;g++){var a=q*E+g,w=N[o[a]&16777215];$.data[P+(g>>>1)]|=w<<4-(g&1)*4}}else if(O==1)for(var q=0;
q<L;q++){var P=A+(L-1-q)*f;for(var g=0;g<E;g++){var a=q*E+g,w=N[o[a]&16777215];$.data[P+(g>>>3)]|=w<<7-(g&7)}}A+=f*L+2;
return $.data.slice(0,A).buffer}function e(j){j=new Uint8Array(j);if(b.bB(j,0)==40)return[v(j.buffer,0)];
var E=0,L=b.RZ(j,E,2);E+=2;if(L!="BM"){alert("Unsupported BMP format: "+L);return}var p=b.bB(j,E);E+=4;
E+=4;var Z=b.bB(j,E);E+=4;return[v(j.buffer,E,Z)]}function v(j,E,L){j=new Uint8Array(j);var p=b.bB(j,E),Z=d(j,E+4);
if(Z.Gt!=1)alert("unsupported number of color planes: "+Z.Gt);if(Z.uK!=0&&Z.uK!=1&&Z.uK!=2&&Z.uK!=3){alert("Unsupported BMP compression: "+Z.uK);
return}E+=p;var o=E,u=j;if(L==null)L=E;if(Z.uK==1||Z.uK==2){var N=m(j,L,Z);Z.jU=8;j=N;L=0}var M=4*Math.floor((Z.jU*Z.VA+31)/32),O=Z.VA,F=Math.abs(Z.qw),W=new Uint8Array(O*F*4);
W.fill(255);if(Z.jU==32)for(var f=0;f<F;f++){var $=L+(F-1-f)*M;for(var H=0;H<O;H++){var A=(f*O+H)*4;
W[A]=j[$+H*4+2];W[A+1]=j[$+H*4+1];W[A+2]=j[$+H*4+0];W[A+3]=j[$+H*4+3]}}else if(Z.jU==24)for(var f=0;
f<F;f++){var $=L+(F-1-f)*M;for(var H=0;H<O;H++){var A=(f*O+H)*4;W[A]=j[$+H*3+2];W[A+1]=j[$+H*3+1];W[A+2]=j[$+H*3+0]}}else if(Z.jU==16)for(var f=0;
f<F;f++){var $=L+(F-1-f)*M;for(var H=0;H<O;H++){var A=(f*O+H)*4,G=j[$+H*2+1]<<8|j[$+H*2];if(L==E){W[A]=(G>>>10&31)*(255/31);
W[A+1]=(G>>>5&31)*(255/31);W[A+2]=(G&31)*(255/31)}else{W[A]=(G>>>11)*(255/31);W[A+1]=(G>>>5&63)*(255/63);
W[A+2]=(G&31)*(255/31)}}}else if(Z.jU==8)for(var f=0;f<F;f++){var $=L+(F-1-f)*M;for(var H=0;H<O;H++){var A=(f*O+H)*4,l=j[$+H];
W[A]=u[o+4*l+2];W[A+1]=u[o+4*l+1];W[A+2]=u[o+4*l+0]}}else if(Z.jU==4)for(var f=0;f<F;f++){var $=L+(F-1-f)*M;
for(var H=0;H<O;H++){var A=(f*O+H)*4,l=j[$+(H>>1)];l=l>>4-4*(H&1);l=l&15;W[A]=u[o+4*l+2];W[A+1]=u[o+4*l+1];
W[A+2]=u[o+4*l+0]}}else if(Z.jU==1)for(var f=0;f<F;f++){var $=L+(F-1-f)*M;for(var H=0;H<O;H++){var A=(f*O+H)*4,K=j[$+(H>>3)];
K=K>>7-(H&7);K=K&1;W[A]=u[o+4*K+2];W[A+1]=u[o+4*K+1];W[A+2]=u[o+4*K+0]}}else throw"Unknown bit depth "+Z.jU;
if(Z.qw<0){var U=new Uint32Array(W.buffer),z=F>>>1;for(var f=0;f<z;f++){var q=f*O,P=(F-f-1)*O;for(var H=0;
H<O;H++){var g=U[q+H];U[q+H]=U[P+H];U[P+H]=g}}}return{Ei:new fP(0,0,O,F),data:W.buffer}}function J(j,T){return j>>>4-((T&1)<<2)&15}function m(j,E,L){var p=L.VA,Z=Math.abs(L.qw),o=new Uint8Array(p*Z),u=0,N=0,T=0;
while(N<Z){var M=j[E++],O=j[E++],F=N*p+u;if(M>0){if(L.jU==4)for(T=0;T<M;T++){o[F+T]=J(O,T)}else for(T=0;
T<M;T++){o[F+T]=O}u+=M}else if(M==0&&O==0){N++;u=0}else if(M==0&&O==1){break}else if(M==0&&O==2){u+=j[E++];
N+=j[E++]}else{var W=O;if(L.jU==4){for(T=0;T<O;T++){o[F+T]=J(j[E+(T>>>1)],T)}W=Math.ceil(O/2)}else{for(T=0;
T<O;T++){o[F+T]=j[E+T]}}if((W&1)!=0)W++;E+=W;u+=O}}return o}function d(j,E){var L=b.TB,p=b.bB,Z=b.B7,o={};
o.VA=L(j,E);E+=4;o.qw=L(j,E);E+=4;o.Gt=Z(j,E);E+=2;o.jU=Z(j,E);E+=2;o.uK=p(j,E);E+=4;o.size=p(j,E);E+=4;
var u=L(j,E);E+=4;var N=L(j,E);E+=4;o.agl=p(j,E);E+=4;E+=4;return o}function x(j,E,L,p){b.lz(j,E,L.VA);
E+=4;b.lz(j,E,L.qw);E+=4;b.Py(j,E,L.Gt);E+=2;b.Py(j,E,L.jU);E+=2;b.lz(j,E,L.uK);E+=4;b.lz(j,E,L.size);
E+=4;b.lz(j,E,2834);E+=4;b.lz(j,E,2834);E+=4;b.lz(j,E,L.agl);E+=4;E+=4}return{E2:e,oZ:h,a2G:v}}();gI.JN={};
gI.JN.oZ=function(h,e,v,J){if(J==null)J=[100,!1,0,0,0,0];var m=[],d=[],x=e*v*4,M=null;for(var j=0;j<h.length;
j++){var E=new Uint8Array(h[j][0].slice(0));for(var T=0;T<x;T+=4){var L=E[T+3]=E[T+3]>127?255:0;if(L==0)E[T]=E[T+1]=E[T+2]=0}m.push(E.buffer);
d.push(h[j][1])}var p=Math.round(2+254*J[0]/100),Z=UPNG.encode.compress(m,e,v,p,[!0,!1,!1,8,!1,J[1]]),o=Z.plte,u=new Uint8Array(4),N=new Uint32Array(u.buffer);
for(var T=0;T<o.length;T++){N[0]=o[T];var O=u[0];u[0]=u[2];u[2]=O;o[T]=N[0];if(N[0]==0&&M==null)M=T}while(o.length<256)o.push(0);
var F=new Uint8Array(2e4+Math.round(1.5*e*v*h.length)),W=J[3],f={palette:o};if(W!=1)f.loop=W==0?0:W-1;
var $=new GifWriter(F,e,v,f);for(var T=0;T<h.length;T++){var H=Z.frames[T],A=H.rect,G=H.blend,l=H.dispose,K=Math.round(d[T]/10);
if(K<2)K=2;$.addFrame(A.x,A.y,A.width,A.height,H.img,{transparent:M,disposal:l+1,delay:K})}return F.slice(0,$.end()).buffer};
gI.JN.E2=function(h){var e=Date.now(),v=[],J=UGIF.decode(h),m=UGIF.toRGBA8(J),d=new fP(0,0,J.width,J.height);
for(var T=0;T<m.length;T++){var x=J.frames[T];v.push({Ei:d.O(),dq:"_a_frm"+T+","+x.delay*10,data:m[T]})}return v};
gI.me={};gI.me.oZ=function(h,e,v,J){if(e>256||v>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var m=Math.min(e,256),d=Math.min(v,256),x=new fP(0,0,m,d),j=B.U(x.$()*4),E=new fP(0,0,e,v),L=new Uint8Array(h[0][0]);
B.YZ(L,E,j,x);h[0][0]=j.buffer;e=m;v=d}var p=new Uint8Array(h[0][0]).slice(0),o=0;p[3]=Math.min(p[3],254);
var Z=new kg,u=J&&J[0]==!0;b.c7(Z,o,0);o+=2;b.c7(Z,o,u?2:1);o+=2;b.c7(Z,o,1);o+=2;var N=new Uint8Array(UPNG.encode([p.buffer],e,v,null,null,null,!0));
Z.OQ(o,16);Z.data[o]=e==256?0:e;o++;Z.data[o]=v==256?0:v;o++;o+=2;b.c7(Z,o,u?Math.round(e/2):1);o+=2;
b.c7(Z,o,u?Math.round(v/2):32);o+=2;b.rr(Z,o,N.length);o+=4;b.rr(Z,o,6+16);o+=4;Z.OQ(o,N.length);Z.data.set(N,o);
o+=N.length;return Z.data.slice(0,o).buffer};gI.me.E2=function(h){h=new Uint8Array(h);var e=4,v=b.B7(h,e);
e+=2;var J=[];for(var T=0;T<v;T++){var m=gI.me.aAq(h,e+T*16),d=h.buffer.slice(m.offset,m.offset+m.size),x=gI.pI(d);
x=x?x:"bmp";if(x=="png"){var j=gI.g6(x),E=j.E2(d);m.T4=E[0]}else{var L=gI.g6("BMP").a2G(d,0),d=B.U(m.VA*m.qw*4);
B.YZ(new Uint8Array(L.data),new fP(0,0,L.Ei.q,L.Ei._),d,new fP(0,m.qw,m.VA,m.qw));L.data=d.buffer;L.Ei._=m.qw;
m.T4=L}J.push(m)}J.sort(function(p,Z){if(p.VA!=Z.VA)return p.VA-Z.VA;return p.a3P-Z.a3P});return[J.pop().T4]};
gI.me.aAq=function(h,e){var v={};v.VA=h[e];e++;if(v.VA==0)v.VA=256;v.qw=h[e];e++;if(v.qw==0)v.qw=256;
v.ayN=h[e];e++;e++;v.acR=b.B7(h,e);e+=2;v.a3P=b.B7(h,e);e+=2;v.size=b.bB(h,e);e+=4;v.offset=b.bB(h,e);
e+=4;return v};gI.oo={};gI.oo.a7C=function(h){var e,v="dng";if(h[0].t33421)e=h[0];else if(h[0].subIFD&&h[0].t271&&h[0].t271[0]=="Hasselblad"){v="fff";
e=h[0].subIFD[0];e.t33421=[2,2]}else if(h[0].subIFD&&h[0].subIFD[0].t33421){e=h[0].subIFD[0];if(e.t50706==null){if(e.t258[0]==8)e.t258[0]=12}v=e.t50713||e.t50717?"dng":"arw"}else if(h[0].subIFD&&h[0].subIFD[0]&&h[0].subIFD[0].t262&&h[0].subIFD[0].t262[0]==34892)e=h[0].subIFD[0];
else if(h[0].t50706)e=h[0];else if(h[0].subIFD&&h[0].subIFD[1]&&h[0].subIFD[1].t33421){v="nef";e=h[0].subIFD[1]}else if(h[0].subIFD&&h[0].subIFD[2]&&h[0].subIFD[2].t33421){v="nef";
e=h[0].subIFD[2]}else if(h[3]&&h[3].t50648){v="cr2";var J=h[0].exifIFD,m=J.makerNote;e=h[3];var d=m.t224[1],x=m.t224[2];
e.t256=[d];e.t257=[x];e.t258=[16];e.t259=[7];e.t262=[32803];e.t277=[1];e.t33421=[2,2];var j=e.t50656[0],E=B.raw.m7[j];
if(E==null)throw"e";e.t33422=E}else if(h[0].t1&&h[0].t1.length==4){v="rw2";var L=h[0],p={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},Z=L.t280==null;
e={};for(var o in p)if(L["t"+o])e["t"+p[o]]=L["t"+o];e.t2=L.t2;e.t3=L.t3;e.t10=L.t10;e.t45=L.t45;e.t258=[16];
e.t33421=[2,2];var u=L.t9[0];if(Z)u=2;e.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][u-1];var N=L.t4[0],M=L.t5[0],O=L.t6[0],F=L.t7[0];
e.t50829=[N,M,O,F];var W=L.t36[0],f=L.t37[0],$=L.t38[0];e.t50728=[f/W,f/f,f/$]}else if(h[0].t258&&h[0].t258[0]>=12&&h[0].t271&&(h[0].t271[0].startsWith("OLYMPUS")||h[0].t271[0].startsWith("OM Digital Solutions"))){v="orf";
e=h[0];e.t33421=[2,2]}return[e,e?v:null]};gI.oo.E2=function(h){var e=Date.now();if(B.raw.l2(h.byteLength))return[B.raw.aFN(h)];
var v=UTIF.decode(h);console.log(v.slice(0));var J=gI.oo.a7C(v),m=J[0];if(m){UTIF.decodeImage(h,m,v);
for(var d in v[0])if((d[0]=="t"||d[0]=="e"||d[0]=="d")&&m[d]==null)m[d]=v[0][d];m.eT=v[0].t274?v[0].t274[0]:1;
return[m]}var x=[];for(var T=0;T<v.length;T++){var j=v[T],E=null,M=72;UTIF.decodeImage(h,j,v);if(j.t258&&j.t258[0]==16&&j.t277&&j.t277[0]==1){var L=0,p=0,Z=0,o=j.data;
for(var u=0;u<o.length;u+=2){var N=o[u+1]<<8|o[u];if(N>L)L=N;p+=N;Z++}E=1/256*65535/(.5*L+.5*(2*p/Z))}var O=j.t282,F=j.t296;
if(O!=null&&F!=null){M=O[0][0]/O[0][1];if(F[0]==3)M=Math.round(M/2.54)}if(j.width==null)continue;var W=UTIF.toRGBA8(j,E).buffer,f=cP.VB(j);
console.log(j);x.push({Ei:new fP(0,0,j.width,j.height),data:W,gx:M,dQ:f,oR:j.t34675?j.t34675.slice(0):null})}return x};
gI.oo.oZ=function(h,e,v,J){if(J==null)J=[!1];var m={},d=h[0];if(d[3]!=null&&J[0])m=cP.u4(d[3]);if(d[2]!=null){m.t282=m.t283=[[Math.round(d[2]),1]];
m.t296=[2]}return UTIF.encodeImage(d[0],e,v,m)};gI.a4={};gI.a4.ug=!0;gI.a4.E2=function(h,e){var v=UTIF.decode(h),J=v[0],j=0;
e.q=J.t256[0];e._=J.t257[0];e.buffer=B.U(e.q*e._*4);e.qd=!1;e.P7=J.t258[0];e.i9=3;var m=J.t37724.slice(36),d=b.RZ(m,0,4)=="MIB8";
ba._3(m,0,m.length,e.add,!1,e,d);var x=d?b.bB:b.d$;while(j<m.length){var E=b.Mg(m,j,d);j+=4;var L=b.Mg(m,j,d);
j+=4;var p=x(m,j);j+=4;if(L=="Layr"){jI.qJ(e,m,j,d);for(var T=0;T<e.T.length;T++){var Z=e.T[T];if(Z.add.vstk)Z.vT(e)}}j+=p;
if((p&3)!=0)j+=4-(p&3)}};gI.aaC={};gI.aaC.E2=function(h){h=new Uint8Array(h);var e=8,v,J=0;while(e<h.length){var m=b.RZ(h,e,4),d=b.d$(h,e+4);
if(m.startsWith("ic")){var x=h.slice(e+8,e+d),j=gI.pI(x.buffer),E=gI.g6(j),L=E.E2(x.buffer),p=L[0].Ei.$();
if(p>J){J=p;v=L}}e+=d}return v};gI.FV={};gI.FV.ug=!0;gI.FV.E2=function(h,e){jI.kq(h,e)};gI.FV.a8T=function(h,e,v,J){if(J==null)J=[!1,!1,!1,!1,!1];
if(!J[0])h.pb();var m=new kg,d=jI.el(h,m,J);return[m.data.buffer,d]};gI.FV.oZ=function(h,e,v,J){var m=gI.FV.a8T(h,e,v,J),d=m[0],x=m[1];
return d.byteLength==x?d:d.slice(0,x)};gI.TP={};gI.TP.ug=!0;gI.TP.E2=function(h,e){var v=pako.inflate(new Uint8Array(h)),J=b.hm(v,0),m=b.hm(v,2),d=4;
e.q=b.d$(v,d);d+=4;e._=b.d$(v,d);d+=4;e.buffer=B.U(e.q*e._*4);var x=b.hm(v,d);d+=2;d+=4;for(var j=0;
j<x;j++){var E=e.ws(),N=0,w=1,y=2,S=3,i=0;e.T.push(E);var L=b.d$(v,d);d+=4;var p=d,Z=b.hm(v,p);p+=2;
var o=b.Is(v,p,Z);p+=Z;E.Ip(o);var u=v[p];p++;if(u!=0&&u!=1)throw u;E.R.x=b.Pp(v,p);p+=4;E.R.y=b.Pp(v,p);
p+=4;E.R.q=b.d$(v,p);p+=4;E.R._=b.d$(v,p);p+=4;if(J>3){N=b.Pp(v,p);p+=4}E.S2=Math.round(255*v[p]/100);
p++;var M=v[p];p++;E.nP(M!=0);E.fR="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[v[p]];
p++;var O=v[p];p++;if(O)E.add.lspf=1<<31;if(J>3){var F=b.hm(v,p);p+=2;if(F!=0){var W=JSON.parse(b.Is(v,p,F));
p+=F;var f=W.text,$=W.textSettings,H=$.font,A=$.size,G=$.padding,l=parseInt($.color.slice(1),16);E.add.lnsr="rend";
E.add.TySh=fr.YI(0,0);E.add.TySh.dP=new fP(0,0,100,100);var K=E.add.TySh.C=new aJ,U=E.R.q/2,z=E.R._/2;
K.translate(-U,-z);K.rotate(-N*Math.PI/180);K.translate(U,z);K.translate(E.R.x+G,E.R.y+G);var q=E.add.TySh.lf;
fr.Ii(q,1);fr.Uv(q,[0,0,E.R.q-G*2,E.R._]);fr.hj(q,0,f);var P=fr.aX(q,0,1);P.zI.FontSize=A;P.zI.FillColor={Type:1,Values:[1,(l>>>16&255)/255,(l>>>8&255)/255,(l>>>0&255)/255]};
if($.bold)H+="-Bold";fr.wm(P,H);P.UZ.Justification=["left","right","center"].indexOf($.align);fr.UE(q,0,f.length,P)}}var g=b.d$(v,p);
p+=4;if(g!=E.R.$()*4){for(var T=E.R.q;T>E.R.q/2;T--){var a=g/(T*4);if(a==Math.round(a)){E.R.q=T;E.R._=a;
break}}}E.buffer=B.U(E.R.$()*4);if(J>3){w=0;y=1;S=2;i=3}for(var T=0;T<g;T+=4){E.buffer[T]=v[p+T+w];E.buffer[T+1]=v[p+T+y];
E.buffer[T+2]=v[p+T+S];E.buffer[T+3]=v[p+T+i]}p+=g;var C=b.d$(v,p);p+=4;if(C==0&&J>3){d+=L;continue}var Y=v[p];
p++;var _=b.hm(v,p);p+=2;if(C!=0){E.N=new s.xK;E.N.R=E.R.O();E.N.G=B.U(E.R.$());for(var T=0;T<C;T+=4)E.N.G[T>>>2]=v[p+T+1];
p+=C}if(Y!=0){var t=JSON.parse(fL.default);E.add.lmfx=t;for(var T=0;T<fL.order.length;T++)t[fL.oN[T]]={t:"VlLs",v:[]};
var I={"102":9,"101":2,"103":0,"104":3,"105":8};for(var T=0;T<Y;T++){var r=b.hm(v,p),n=p+r+4,Q=v.slice(p,n),D=v[p+2];
p+=3;var dG=I[D+""],R=JSON.parse(fL.JC[dG]);t[fL.oN[dG]].v.push({t:"Objc",v:R});if(dG!=0){R.Md.v.BlnM=cc.e_("norm");
R.Opct.v.val=v[p];p++;if(dG==9||dG==2){R.Dstn.v.val=v[p+1];p+=2}else p+=2;R.blur.v.val=Math.round(v[p]*1.2);
p++;if(dG==9||dG==2){R.uglg.v=!1;R.lagl.v.val=180-b.hm(v,p);p+=2}R.Clr.v=B.Vh.WZ({n:v[p+1],i:v[p+2],b:v[p+3]})}else{R.hglM.v.BlnM=R.sdwM.v.BlnM=cc.e_("norm");
p+=2;var X=v[p++],dx=v[p++];R.blur.v.val=Math.round(Math.sqrt(dx*X)*1.3);R.srgR.v.val=Math.round(100*X/dx);
R.uglg.v=!1;R.lagl.v.val=180-b.hm(v,p);p+=2;R.hglO.v.val=v[p++];R.hglC.v=B.Vh.WZ({n:v[p+1],i:v[p+2],b:v[p+3]});
p+=4;R.sdwO.v.val=v[p++];R.sdwC.v=B.Vh.WZ({n:v[p+1],i:v[p+2],b:v[p+3]});p+=4}p=n}}if(p-d<L){var jv=b.d$(v,p),ah=0;
p+=4;p++;var Z=b.hm(v,p);p+=2;var f=b.Is(v,p,Z);p+=Z;f=f.replace(/\r/g,"\n");var Z=b.hm(v,p);p+=2;var H=b.Is(v,p,Z);
p+=Z;var A=b.hm(v,p);p+=2;var gB=E.R.x,hQ=E.R.q;if(jv&4)ah=1;if(jv&2)ah=2;var kG=Math.round(A*.4);if(ah==0||ah==2)hQ+=kG;
if(ah==1||ah==2){hQ+=kG;gB-=kG}E.add.lnsr="rend";E.add.TySh=fr.YI(0,0);E.add.TySh.dP=new fP(0,0,100,100);
E.add.TySh.C=new aJ(1,0,0,1,gB,E.R.y+A*.25);var q=E.add.TySh.lf;fr.Ii(q,1);fr.Uv(q,[0,0,hQ,E.R._]);fr.hj(q,0,f);
var P=fr.aX(q,0,1);P.zI.FontSize=A;P.zI.FillColor={Type:1,Values:[1,v[p+1]/255,v[p+2]/255,v[p+3]/255]};
p+=4;if(v[p+5])H+="-Bold";if(v[p+6])H+="-Italic";fr.wm(P,H);P.UZ.Justification=ah;p+=8;fr.UE(q,0,f.length,P)}d+=L}};
gI.Zz={};gI.Zz.ug=!0;gI.Zz.E2=function(h,e){var v=UZIP.parse(h),J=JSON.parse(b.Is(v["manifest.json"].buffer));
e.q=J.width;e._=J.height;e.buffer=B.U(e.q*e._*4);e.name=J.name+".psd";var m=J.stack;for(var d=0;d<m.length;
d++){var x=m[d],j=x.type,E=x.rect,L=x.format,p=e.ws();p.Ip(x.name);p.nP(x.visible);p.S2=Math.round(255*x.opacity);
var Z=p.R=new fP(E.x,E.y,E.w,E.h),o=E.r;if(o==null)o=0;e.T.push(p);if(j=="image"&&o!=0||j=="shape"&&L.variant=="svg"){var u=e.dz(v[x.content],p.getName(),0,0);
u.IT=p.IT;u.S2=p.S2;p=u;e.T.pop();e.T.push(p);var N=B.w.Tp(Z).g;B.w.C(N,gI.Zz.qY(Z,o),N);p.add.SoLd.Trnf=c.L2.ni(N);
p.add.SoLd.nonAffineTransform=c.L2.ni(N);p.eW(e,!1)}else if(j=="image"){if(Z.$()!=0){var M=v[x.content].buffer,O=gI.pI(M),F=gI.g6(O),W=F.E2(M)[0];
Z.q=W.Ei.q;Z._=W.Ei._;p.buffer=new Uint8Array(W.data)}}else if(j=="shape"){p.IT|=16;var f=p.add.vstk=fL.gL.UX(!0),$=p.add.vmsk=new s.eo,H;
p.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}};var A=L.variant,G=L.fill;if(A=="rectangle"||A=="rounded"){H=B.s.z0.Rect(Z.x,Z.y,Z.q,Z._,L.radii)}else if(A=="ellipse"){H=B.s.z0.FO(Z.x,Z.y,Z.q,Z._)}else if(A=="path"){var l=Typr.U.SVGToPath(x.content),K={WQ:l.cmds,g:l.crds};
H=B.w.GJ(K);var U=B.s.jd(H);B.s.Ma(H,new aJ(Z.q/U.q,0,0,Z._/U._,Z.x,Z.y))}else console.log(L);p.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}};
if(G==null){f.fillEnabled.v=!1}else if(G.type=="color"){p.add.SoCo.Clr.v=B.Vh.WZ(CSS.J3(G.value))}else if(G.type=="gradient"){delete p.add.SoCo;
var z=p.add.GdFl=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),q=z.Grad.v;q.Intr.v=0;var P=[],g=G.value.stops;
for(var T=0;T<g.length;T++){var a=g[T],w=CSS.J3(a.color);P.push([a.position,[w.n/255,w.i/255,w.b/255]])}B.Vh.Q_(P,q);
z.Angl.v.val=-(G.value.direction+o)+90+180}else console.log(G);var y=gI.Zz.qY(Z,o);B.s.Ma(H,y);var S=x.style;
if(S&&S.outline){var i=S.outline;f.strokeEnabled.v=!0;f.strokeStyleLineWidth.v.val=i.size;f.strokeStyleContent.v.Clr.v=B.Vh.WZ(CSS.J3(i.color))}$.z=H;
p.d6();p.vT(e)}else if(j=="text"){p.add.lnsr="rend";p.add.TySh=fr.YI(0,0);p.add.TySh.dP=new fP(0,0,100,100);
var C=p.add.TySh.lf;fr.Ii(C,1);fr.Uv(C,[0,0,Z.q,Z._]);var Y=x.content;fr.hj(C,0,Y);var _=fr.aX(C,0,Math.min(Y.length,1));
fr.wm(_,L.font.name);var t=_.zI.FontSize=Math.round(L.size);if(L.fill&&L.fill.value){var I=CSS.J3(L.fill.value);
_.zI.FillColor={Type:1,Values:[1,I.n/255,I.i/255,I.b/255]}}var r=L.linespace;if(r){_.zI.AutoLeading=!1;
_.zI.Leading=Math.round(t*(1.06+parseFloat(r)));console.log(r,_.zI)}_.zI.FauxBold=L.bold;_.UZ.Justification=["left","right","center","justify"].indexOf(L.align);
fr.UE(C,0,Y.length,_);p.add.TySh.C=new aJ(1,0,0,1,Z.x+Math.round(t*.1),Z.y+Math.round(t*.1));p.R=new fP}else console.log(x)}e.cj=!0};
gI.Zz.qY=function(h,e){var v=h.x+h.q/2,J=h.y+h._/2,m=new aJ;m.translate(-v,-J);m.rotate(-e*Math.PI/180);
m.translate(v,J);return m};gI.yb={};gI.yb.ug=!0;gI.yb.E2=function(h,e){jj.kq(h,e)};var jj=function(){function h(Z,o){var u=Date.now(),N=UZIP.parse(Z),M=N["maindoc.xml"],O=new DOMParser,F=O.parseFromString(b.Is(M),"image/svg+xml").children[0].children[0],W=F.getAttribute("name"),f=o.q=L(F,"width"),$=o._=L(F,"height");
o.gx=Math.round(L(F,"x-res"));var H=F.children[0].children;e(H,o,{$f:W,Ij:N,HP:null});console.log(Date.now()-u);
u=Date.now()}function e(Z,o,u){for(var N=0;N<Z.length;N++){var M=Z[Z.length-1-N],O=M.getAttribute("nodetype");
if(O=="transparencymask"){u.HP.N=p(M,u);continue}var F=M.getAttribute("compositeop"),W=M.getAttribute("filename"),f=M.getAttribute("channelflags"),$=M.children;
$=$.length==0?null:$[0].children;var H=o.ws();if(O=="paintlayer"){var A=L(M,"x"),G=L(M,"y"),l=u.Ij[u.$f+"/layers/"+W+".defaultpixel"],K=u.Ij[u.$f+"/layers/"+W],U=E(K);
H.R=U[0];H.R.offset(A,G);H.buffer=U[1];if(H.R.EG()&&l.join()!="0,0,0,0"){H.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:l[0],i:l[1],b:l[2]})}};
H.vT(o)}}else if(O=="grouplayer"){H.add.lsct=d7.W$;H.fR="pass";H.IT|=24;o.T.push(o.gB());var z=u.HP;
u.HP=H;e($,o,u);u.HP=z}else if(O=="shapelayer"){var K=u.Ij[u.$f+"/layers/"+W+".shapelayer/content.svg"],q=b.Is(K),P=o.dz(K,H.getName(),0,0);
H=P;var g=new fP(0,0,o.q,o._),a=B.w.Tp(g).g;H.add.SoLd.Trnf=c.L2.ni(a);H.add.SoLd.nonAffineTransform=c.L2.ni(a);
H.eW(o,!1)}else if(O=="clonelayer"){var T=-1;for(var w=0;w<Z.length;w++)if(Z[w].getAttribute("name")==M.getAttribute("clonefrom"))T=w;
if(T!=-1){e([Z[T]],o,u);H=o.T.pop()}}else console.log(O,M);H.Ip(M.getAttribute("name"));if(L(M,"locked")==1)H.add.lspf=1<<31;
H.nP(L(M,"visible")==1);var y={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[F];if(y)H.fR=y;
else console.log(F);H.S2=L(M,"opacity");if(f=="1110")H.ql=!0;var S=$?$[0]:null;if(S&&S.tagName=="mask")H.N=p(S,u);
o.T.push(H)}}function v(Z,o){var u=0,N=0,M=Z.length,O,F,W;while(u<M){O=Z[u++];if(O>31){F=O>>>5;if(F==7)F=7+Z[u++];
W=(O&31)<<8|Z[u++];var f=N-W-1,$=F>>>1;o[N++]=o[f++];o[N++]=o[f++];for(var T=0;T<$;T++){o[N++]=o[f++];
o[N++]=o[f++]}if((F&1)==1)o[N++]=o[f++]}else{for(var T=0;T<=O;T++){o[N++]=Z[u++]}}}}function J(Z,o){var u=0;
while(Z[o+u]!=10)u++;return b.RZ(Z,o,u)}var m=new fP(0,0,64,64),d=new Uint8Array(64*64*4),x=new Uint8Array(64*64*4);
function j(){for(var T=0;T<4096;T++){var Z=T<<2;d[Z+0]=x[T+8192];d[Z+1]=x[T+4096];d[Z+2]=x[T];d[Z+3]=x[T+12288]}}function E(Z){var o=0,u={};
for(var T=0;T<5;T++){var N=J(Z,o);o+=N.length+1;N=N.split(" ");u[N[0]]=parseInt(N[1])}var M=u.PIXELSIZE,O=[],F=new fP;
while(o<Z.length){var N=J(Z,o),W=N.split(",");o+=N.length+1;if(W[2]!="LZF")throw W[2];m.x=parseInt(W[0]);
m.y=parseInt(W[1]);F=F.R$(m);var f=parseInt(W[3]);O.push([m.O(),new Uint8Array(Z.buffer,o+1,f-1)]);o+=f}var $=B.U(F.$()*M);
for(var T=0;T<O.length;T++){var H=O[T];v(H[1],x);if(M==4){j();B.YZ(d,H[0],$,F)}else B.Ww(x,H[0],$,F)}return[F,$]}function L(Z,o){return parseInt(Z.getAttribute(o))}function p(Z,o){var u=Z.getAttribute("filename"),N=o.Ij[o.$f+"/layers/"+u+".pixelselection"],M=E(N),O=new s.xK;
O.s$=L(Z,"visible")==1;O.R=M[0];O.G=M[1];return O}return{kq:h}}();gI.ry={};gI.ry.ug=!0;gI.ry.E2=function(h,e){c0.kq(h,e)};
gI.GP={};gI.GP.E2=function(h){var e=new Uint8Array(h),v=gI.GP.Wh(e,0,0),J=v.sub[2],m=gI.GP.aek(e,J),d=v.sub[3],x=gI.GP.aek(e,d);
return[m,x]};gI.GP.aek=function(h,e){var v=e.sub[e.sub.length-1],J=v.sub[0].d,m=v.sub[1].d,d=h.slice(J,J+16),x=h.slice(m,m+v.sub[1].size),j=b.bB,E=h[J],L=j(h,J+1),p=j(h,J+5),Z=h[J+13],o=new fP(0,0,L,p),u=B.U(L*p*4);
if(Z){new Uint32Array(u.buffer).fill(4278190080)}else{UTEX.readBC1(h,m,u,L,p)}return{Ei:o,data:u}};gI.GP.Wh=function(h,e,v){var J=b.RZ,m=b.bB,d=J(h,e,4);
d=d.split("").reverse().join("");var x=m(h,e+4);if(x!=0){console.log(h.slice(e-8));throw x}var j=m(h,e+8);
while((j&3)!=0)j++;var E={mX:d,d:e+12,size:j};if(d=="CARF"||d=="CTEX"||d=="CREW"||d=="BMAP"){E.sub=[];
e+=12;if(d=="CTEX"||d=="CREW")e+=32;var L=E.d+E.size;while(e<L){var p=gI.GP.Wh(h,e,v+1);E.sub.push(p);
e+=12+p.size+(p.size&1)}}return E};gI.NZ={};gI.NZ.ug=!0;gI.NZ.E2=function(h,e){ka.kq(h,e)};gI.k1={};
gI.k1.ug=!0;gI.k1.E2=function(h,e){j4.kq(h,e)};gI.BP={};gI.BP.ug=!0;gI.BP.E2=function(h,e){i5.kq(h,e)};
gI.cE={};gI.cE.ug=!0;gI.cE.E2=function(h,e){fD.kq(h,e)};gI.ml={};gI.ml.ug=!0;gI.ml.E2=function(h,e){gg.kq(h,e)};
gI.iU={};gI.iU.ug=!0;gI.iU.oZ=function(h,e,v,J,m,d){if(J==null)J=[!0,!1,!1,!1,!0];var x=h_.mA(h,{xq:J[0],hidden:J[1],aCz:J[2],a3f:J[3],lV:J[4],azA:e,aI6:v},m.eN,d);
return x};gI.iU.E2=function(h,e,v){h_.kq(h,e,v)};gI.NM={};gI.NM.ug=!0;gI.NM.E2=function(h,e){var v=150,J=new aJ(1,0,0,-1,0,0);
J.scale(v/72,v/72);e.gx=v;var m=new eP(e,J,!0);FromPS.Parse(h,m)};gI.dy={};gI.dy.ug=!0;gI.dy.oZ=function(h,e,v,J,m){if(J==null)J=["",100,!1,!1,!1,0,!1];
J[7]=["jpg"];var d=new ToPDF;aH.mA(h,J,d,m.eN,e,v);return d.buffer};gI.dy.E2=function(h,e,v){var J=2;
while(!0){var m=J*72,d=new aJ(1,0,0,-1,0,0);d.scale(m/72,m/72);e.gx=m;var x=new eP(e,d,!0);FromPDF.Parse(h,x);
var j=Math.max(e.q,e._);if(v&&j<Math.max(v[0],v[1])){e.T=[];var E=J;while(j*(J/E)<Math.max(v[0],v[1]))J++}else break}};
gI.Fw={};gI.Fw.ug=!0;gI.Fw.E2=function(h,e){var v=72,J=new aJ(1,0,0,1,0,0);J.scale(v/72,v/72);e.gx=v;
var m=new eP(e,J,!1);FromWMF.Parse(h,m)};gI.de={};gI.de.tB=!0;gI.de.ug=!0;gI.de.oZ=function(h,e,v,J,m){if(J==null)J=["",100,!1,!1,!1,0,!1];
J[7]=[];var d=new ToEMF;aH.mA(h,J,d,m.eN);return d.buffer};gI.de.E2=function(h,e){var v=72,J=new aJ(1,0,0,1,0,0);
J.scale(v/72,v/72);e.gx=v;var m=new eP(e,J,!1);FromEMF.Parse(h,m)};gI.aw={};gI.aw.ug=!0;gI.aw.E2=function(h,e){return f9.kq(h,e)};
gI.aHk={};gI.aHk.E2=function(){var h,e,v,J,m,d,x=0,j=0,E=0,L=0,p=0,W="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",f=null;
function Z($){var H=d6.kq($),A=H.Wj,q=0,P,g;console.log(H);var G=new Uint8Array($);if(A=="ILBM")return o(H,G);
if(A=="CIMG")return M(H,G);if(A=="ANIM"&&H.sub[0].mX=="ADAT")return F(H,G);if(A!="ANIM")throw A;var l=b.hm,K=b.d$,U=H.sub,z=o(U[0],G);
for(var a=1;a<U.length-2;a++){var w=z[Math.max(0,a-2)].auP.slice(0),y=U[a];for(var S=0;S<y.sub.length;
S++){var i=y.sub[S],C=i.d;if(i.mX=="ANHD"){var Y=G[C++];if(Y!=5)throw Y;var J=G[C++],_=l(G,C),t=l(G,C+2);
if(_!=0&&_!=h)throw _;if(t!=0&&t!=e)throw t;var I=l(G,C+4),r=l(G,C+6);if(I!=0||r!=0)throw I;C+=8;var n=l(G,C);
C+=2;P=l(G,C);C+=2;if(G[C++]!=0)throw"e";if(G[C++]!=0)throw"e";g=l(G,C);C+=2}else if(i.mX=="DLTA"){var Q=[],R=C;
for(var T=0;T<16;T++)Q.push(K(G,C+T*4));C+=64;var X=d;for(var dx=0;dx<m;dx++){if(Q[dx]==0)continue;C=R+Q[dx];
for(var jv=0;jv<X;jv++){var gB=G[C++],hQ=0;if(gB==0)continue;for(var T=0;T<gB;T++){var ah=G[C++];if(ah==0){var kG=G[C++],iZ=G[C++];
for(var bs=0;bs<kG;bs++){w[(hQ*m+dx)*X+jv]=iZ;hQ++}}else if(ah<128){hQ+=ah}else{ah-=128;for(var bs=0;
bs<ah;bs++){w[(hQ*m+dx)*X+jv]=G[C+bs];hQ++}C+=ah}}}}}else console.log(i.mX)}if(a==1&&P>100)P=0;var jp=P==0?17:Math.round((P-q)*1e3/60);
z.push({data:N(G,w).buffer,Ei:new fP(0,0,h,e),auP:w,dq:"_a_frm"+a+","+jp});q=P}if(E!=0&&h>e*2){var eh=new Uint32Array(h*e*2);
eh.fill(4294967295);for(var a=0;a<z.length;a++){var jw=z[a],i7=new Uint32Array(jw.data);for(var hQ=0;
hQ<e;hQ++){var kn=hQ*2;for(var jv=0;jv<h;jv++)eh[kn*h+jv]=i7[hQ*h+jv];kn++;for(var jv=0;jv<h;jv++)eh[kn*h+jv]=i7[hQ*h+jv]}jw.Ei._*=2;
jw.data=eh.slice(0).buffer}}return z}function o($,H){var A,G,l;x=0;j=0;L=0;p=0;E=0;for(var K=0;K<$.sub.length;
K++){var U=$.sub[K],z=U.d;if(U.mX=="BMHD"){var q=[];for(var T=0;T<4;T++)q[T]=b.hm(H,z+2*T);z+=8;var P=q[2],g=q[3];
h=q[0];e=q[1];v=H[z++];J=H[z++];l=H[z++];if(l!=0&&l!=1)throw l;d=h+15>>>4<<1;m=v+J}else if(U.mX=="CMAP")x=z;
else if(U.mX=="CAMG"){var a=b.d$(H,z);j=a&32768,E=a&4,L=a&2048;p=a&128}else if(U.mX=="BODY"){G=B.U(d*e*m);
if(l==0)G=H.slice(z,z+G.length);if(l==1)kK.X2(H,z,U.size,G,0,G.length)}else if(U.mX=="PLTP"){console.log(H.slice(z,z+U.size))}}A=N(H,G);
return[{Ei:new fP(0,0,h,e),data:A.buffer,auP:G}]}function u($,iW){return $[iW>>>3]>>>7-(iW&7)&1}function N($,H){var A=v-2,G=(1<<A)-1,l=Math.round(255/G),K,U,z,q=d*8;
if(x!=0){var P=1<<v,g=!0;for(var T=1;T<P;T++){var a=x+T*3;if($[a]!=$[a-3]||$[a+1]!=$[a-2]||$[a+2]!=$[a-1]&&$[a+2]!=$[a-1]+1)g=!1}if(g){for(var T=0;
T<P;T++){var a=x+T*3,w=Math.round(T*255/(P-1));$[a]=$[a+1]=$[a+2]=w}}}var y=B.U(h*e*4);for(var S=0;S<e;
S++)for(var i=0;i<h;i++){var C=0;for(var Y=0;Y<m;Y++){var _=(S*m+Y)*q+i,t=u(H,_);C|=t<<Y}C=C&(1<<v)-1;
var T=S*h+i,I=T<<2;if(x!=0){if(L!=0&&C>>>A!=0){var r=C>>>A,n=(C&G)*l;if(r==1)z=n;else if(r==2)K=n;else if(r==3)U=n}else{var n=x+C*3;
K=$[n+0];U=$[n+1];z=$[n+2]}}else{if(v==24){K=C>>>0&255;U=C>>>8&255;z=C>>>16&255}else if(v==16){var Q=0,D=1,R=4;
for(var Y=0;Y<16;Y++)Q+=(C>>>Y&1)<<15-Y;var dG=(1<<D)-1,X=(1<<R)-1;K=(Q>>>7&dG)*(255/dG);U=z=K}else throw v}y[I+0]=K;
y[I+1]=U;y[I+2]=z;y[I+3]=255}return y}function M($,H){var A=1,G=2,l=4,K=b.d$,U=b.hm,h=200,e=200,z,q,P,g;
for(var a=0;a<$.sub.length;a++){var w=$.sub[a],y=w.d;if(w.mX=="TBHD"){h=K(H,y);y+=4;e=K(H,y);y+=4;g=B.U(h*e*4);
P=new fP(0,0,h,e);y+=4;var S=K(H,y);y+=4;var i=U(H,y);y+=2;if(i!=0)throw"e";q=U(H,y);y+=2;var C=K(H,y);
y+=4;if(C!=1)throw C;z=0;if(S&A)z+=3;if(S&G)z+=1}if(w.Wj=="TBMP"){var Y=w.sub;for(var _=0;_<Y.length;
_++){var t=Y[_].d,I=Y[_].size,r=U(H,t),n=U(H,t+2),Q=U(H,t+4)-r+1,D=U(H,t+6)-n+1;t+=8;var dG=B.U(Q*D*4),R=B.U(Q*D);
dG.fill(255);for(var T=0;T<4;T++){t=O(H,t,I-8,R,0);B.ar(R,dG,3-T)}if(t!=Y[_].d+I)throw"e";B.YZ(dG,new fP(r,n,Q,D),g,P)}}}return[{Ei:P,data:g.buffer}]}function O($,H,A,G,l){var K=H;
while(l<G.length){var U=$[H++],cg=(U&127)+1;if(U&128){U=$[H++];for(var T=0;T<cg;++T)G[l++]=U}else{for(var T=0;
T<cg;++T)G[l++]=$[H++]}}return H}function F($,H){if(f==null){var A=gI.iD(W);f=new Uint32Array(pako.inflate(new Uint8Array(A)).buffer)}var G=b.d$,l=b.hm,K=$.sub[0],U=$.sub[1],h=l(H,K.d),e=l(H,K.d+2),z=l(H,K.d+4),w,T,y,S,i,C;
if(z!=3)throw z;var q=new fP(0,0,h,e),P=B.U(h*e*4),g=B.U(h*e);P.fill(255);var a=new Uint32Array(P.buffer),Y=U.d;
for(S=0;S<2;S++){C=S;i=0;w=Math.floor((h*e+2-S-1)/2);while(w>0){T=H[Y++];if(T&128){T=257-T;w-=T;y=H[Y++];
i=i&f[y]|f[y+256];do{a[C]=i;C+=2}while(--T)}else{T++;w-=T;do{y=H[Y++];a[C]=i=i&f[y]|f[y+256];C+=2}while(--T)}}}for(var T=0;
T<P.length;T+=4){var _=P[T+3],t=P[T+2],I=P[T+1];P[T]=_;P[T+1]=t;P[T+2]=I;P[T+3]=255}for(var r=0;r<e>>>1;
r++){for(var n=0;n<h;n++){var T=r*h+n,y=(e-1-r)*h+n,Q=a[T];a[T]=a[y];a[y]=Q}}return[{Ei:q,data:P.buffer}]}return Z}();
gI.Mo={};gI.Mo.ug=!1;gI.Mo.oZ=function(h,e,v,J){var m=h[0][4],d=new Uint8Array(h[0][0]),x=2,j=m?!0:!1,E=j?4:3,L=new Uint8Array(e*v*E);
for(var p=0;p<v;p++)for(var Z=0;Z<e;Z++){var o=p*e+Z<<2,u=((v-p-1)*e+Z)*E;L[u]=d[o+2];L[u+1]=d[o+1];
L[u+2]=d[o+0];if(j)L[u+3]=m[0][p*e+Z]}if(!0){var N=L.length,M=0,O=new Uint8Array(N*2),F=0,W=0,f=e*E;
while(W<N){var $=W,H=0,A=f*(Math.floor(W/f)+1);while($<A&&H<128){var G=!0;for(var T=0;T<E;T++)G=G&L[W+T]==L[$+T];
if(!G)break;$+=E;H++}if(H==1){var l=1;while(l<128&&W+(l+1)*E<A){var G=!0,K=W+l*E;for(var T=0;T<E;T++)G=G&L[K+T]==L[K+E+T];
if(G)break;l++}O[F++]=l-1;for(var U=0;U<l;U++)for(var T=0;T<E;T++)O[F++]=L[W++]}else{O[F++]=127+H;for(var T=0;
T<E;T++)O[F+T]=L[W+T];F+=E;W+=E*H;M+=H}}L=O.slice(0,F);x+=8}var z=new Uint8Array(18+L.length+26);z[2]=x;
b.Py(z,12,e);b.Py(z,14,v);z[16]=E*8;z[17]=E==4?8:0;z.set(L,18);b._z(z,18+L.length+8,"TRUEVISION-XFILE.");
return z.buffer};gI.Mo.E2=function(h){var e=new Uint8Array(h),v=0,J=e[0],m=e[1],d=e[2],x=e[4]*256+e[3],j=e[6]*256+e[5],E=e[7],L=e[9]*256+e[8],p=e[11]*256+e[10],Z=e[13]*256+e[12],o=e[15]*256+e[14],u=e[16],N=e[17],M=N>>>4,O=b.RZ(e,18,J),F=B.U(Z*o*4),v=18+J+(j*E>>>3),W=new Uint8Array(e.buffer,v);
if(d>3){var f=0,$=e,H=new Uint8Array(Z*o*u>>>3),A=v,G=0,l=e.length,K=u>>>3;while(G<H.length){var iW=$[A];
A++;if(iW<128)for(var T=0;T<iW+1;T++){for(var U=0;U<K;U++){H[G]=$[A];G++;A++}}else{for(var T=0;T<iW-127;
T++){for(var U=0;U<K;U++){H[G]=$[A+U];G++}}A+=K}}d-=8;W=H;v=A}else v+=Z*o*u>>>3;var z=new Uint8Array(4),q=gI.Mo.afh;
for(var P=0;P<o;P++)for(var g=0;g<Z;g++){var a=(M&2)==0?(o-P-1)*Z+g:P*Z+g,w=P*Z+g,y,S,i,C=255,Y=a*u>>>3;
if(d==1){var _=0;if(u==8)_=W[Y];else throw"e";q(e,18+J+x+(_*E>>>3),E,z);y=z[0];S=z[1];i=z[2];C=z[3]}else if(d==2){q(W,Y,u,z);
y=z[0];S=z[1];i=z[2];C=z[3]}else if(d==3){if(u==8)y=S=i=W[Y];else throw"e"}var t=w*4;F[t]=y;F[t+1]=S;
F[t+2]=i;F[t+3]=C}var z={Ei:new fP(0,0,Z,o),data:F.buffer,dq:O};if(B.kx(F)){var I=B.U(Z*o);B.Bq(F,I,3);
B.yV(F,4278190080,16777215);z.Ar=[I]}return[z]};gI.Mo.afh=function(h,e,v,J){var m,d,x,j=255;if(v==24||v==32){x=h[e];
d=h[e+1];m=h[e+2];if(v==32)j=h[e+3]}else if(v==16){var E=h[e+1]<<8|h[e+0];m=E>>>10&31;d=E>>>5&31;x=E>>>0&31;
m=Math.round(m*(255/31));d=Math.round(d*(255/31));x=Math.round(x*(255/31))}else throw"e";J[0]=m;J[1]=d;
J[2]=x;J[3]=j};gI.afA=function(){var h,e=[],v=!1;function J(x,j,E,L){h=E;e.push(x,L);m()}function m(){if(v||e.length==0)return;
v=!0;gI.aAa(e.shift(),"image/avif",d)}function d(x){h(null,[x],e.shift());v=!1;m()}return{ug:!1,QQ:!0,E2:J}}();
gI.aBL=function(){var h,e=[],v,J=!1,m=null,d=null,E;function x(Z,o,u,N){h=u;e.push(Z,N);j()}function j(){if(J||e.length==0)return;
J=!0;if(m==null){m=V.k("iframe");m.setAttribute("src","code/ext_formats/formatsLoader.html");V.v(m,"display:none");
window.addEventListener("message",p,!1);document.body.appendChild(m)}else L()}async function L(){var Z=e.shift(),o=new Uint8Array(Z),u=new Blob([Z]);
E=Date.now();m.contentWindow.postMessage({subject:"open",body:u});var N=b.TE(o,"Exif\0\0MM");v=null;
if(N!=-1){var M=UTIF.decode(Z.slice(N+6));v=cP.VB(M[0])}}function p(Z){var o=Z.data,u=o.subject;if(u=="rdy")L();
else if(u=="img"){var N=o.body,M={Ei:new fP(0,0,N.width,N.height),data:N.data.buffer,dQ:v};h(null,[M],e.shift());
J=!1;j()}else console.log(o)}return{ug:!1,QQ:!0,E2:x}}();gI.aHe=function(){var h,e=[],v=10,x,j,E,L=0,p,Z,o;
async function J(W,f,$,H,A){h=$;e.push(W,H);var G=new eu(new Blob([W])),l=(await G.en()).GL;console.log(l);
var p=l.width,Z=l.height,K=l.VR,U=K/l.Qm,z=K/U,q=p+" \xD7 "+Z+" px, "+K+" frames, "+iD.kA(p*Z*4*K)+" decoded<br/>";
q+=U.toFixed(2)+" seconds, "+z.toFixed(2)+" FPS";var P=new g3(k.E.u,!0);P.data={V:k.l.Xq,dF:"setFPS",xz:v,j5:m,a20:q};
A.a(P)}function m(W){v=Math.max(1,Math.min(60,W));var f=window.VideoDecoder;if(f)d();else u()}async function d(){var W=Date.now(),f=e.shift(),o=[],$=new eu(new Blob([f])),H=(await $.en()).GL,p=H.width,Z=H.height,A=H.VR,G=A/H.Qm,l=A/G,K=Math.min(l,v),U=Math.max(1,Math.round(l/K));
for(var T=0;T<A;T++){if(T%U!=0)continue;var z=await $.arE(0,T);o.push({dq:"_a_"+o.length+","+Math.round(1e3/K),Ei:new fP(0,0,p,Z),data:z.buffer})}h(null,o,e.shift());
if(e.length!=0)d()}function u(){if(e.length==0)return;x=document.createElement("canvas");j=x.getContext("2d");
E=document.createElement("video");var W="data:"+"video/mp4"+";base64,"+gI.nQ(e.shift());E.src=W;E.muted=!0;
E.currentTime=0;E.addEventListener("canplay",N,!1);E.addEventListener("timeupdate",M,!1)}function N(W){E.removeEventListener("canplay",N);
p=x.width=E.videoWidth;Z=x.height=E.videoHeight;o=[];E.play()}function M(W){clearTimeout(L);j.drawImage(E,0,0);
o.push({dq:"_a_"+o.length+","+Math.round(1e3/v),Ei:new fP(0,0,p,Z),data:j.getImageData(0,0,p,Z).data.buffer});
var f=E.currentTime+1/v;if(f<E.duration&&W){E.currentTime=f;L=setTimeout(M,1e3)}else{h(null,o,e.shift());
E.removeEventListener("timeupdate",M);u();o=null}}function O(){this.rP=new Uint8Array(1024);this.d=0}O.prototype.write=function(W){var f=this.rP,$=this.d;
if(W instanceof ArrayBuffer)W=new Uint8Array(W);if(W instanceof Uint8Array){while(f.length<$+W.length){var H=new Uint8Array(f.length*2);
H.set(f);f=H}f.set(W,$);$+=W.length}else if(W.c=="write"){f.set(W.data,W.position)}else{console.log(W);
throw"e"}this.rP=f;this.d=$};O.prototype.close=function(){this.rP=this.rP.slice(0,this.d)};async function F(W,p,Z,f){var $=p,H=Z;
if((p&1)!=0)p++;if((Z&1)!=0)Z++;var A=p!=$||Z!=H,G=A?B.U(p*Z*4):null,l={GL:{Gp:1,VR:W.length,Qm:1e3/W[0][1],width:p,height:Z}},K=new O,U=.02*(1+Math.pow(3.2*f[0]/100,2.3)),z=new ft(K,l,U);
for(var T=0;T<W.length;T++){var q=W[T],P=new Uint8Array(q[0]),g=P;if(A){B.YZ(P,new fP(0,0,$,H),G,new fP(0,0,p,Z));
g=G}await z.afk(g,0,T)}await z.finish();return K.rP.buffer}return{ug:!1,QQ:!0,E2:J,oZ:F}}();gI.Qy={};
gI.Qy.E2=function(h){var e=new Uint8Array(h),v=0,J=112,m=42,d=b.bB,p;v+=8;var x=e[v];v++;if(x!=m)throw"e";
var j=d(e,v);v+=4;var E=b.qa(e,v,j);v+=j*2;var L=[];while(v<e.length){p=d(e,v);v+=4;if(p!=J)throw p;
v+=4;p=e[v];v++;if(p!=m)throw p;var Z=d(e,v);v+=4;var o=e[v];v++;if(o!=m){v-=5;Z=d(e,v);v+=8;p=e[v];
v++;if(p!=m)throw p}var u=d(e,v)*2;v+=4;if(Z>0)L.push(v+u);v+=u+Z}var N=new DOMParser,M=N.parseFromString(E,"image/svg+xml").firstChild.firstChild,O=[];
gI.Qy.aC3(M,e,L,O);return O};gI.Qy.aC3=function(h,e,v,J){var m=h.firstChild.firstChild;if(m.tagName=="Image"){var d=m.getElementsByTagName("ImageDescription")[0],x=d.children[0].children,j=d.children[1].children,E=v.shift(),L=[];
for(var T=0;T<j.length;T++)L.push(parseInt(j[T].getAttribute("NumberOfElements")));while(L.length>3)L[2]*=L.pop();
var p=x.length,Z=L[0],o=L[1],u=L[2],N=parseInt(j[0].getAttribute("BytesInc"));for(var M=0;M<u;M++){var O=B.U(Z*o*4);
B.yV(O,4278190080);for(var F=0;F<p;F++){var W=B.U(Z*o);if(N==1)for(var f=0;f<W.length;f++)W[f]=e[E+f];
else if(N==2)for(var f=0;f<W.length;f++)W[f]=Math.min(255,(e[E+f*2+1]<<8|e[E+f*2])>>>2);else throw N;
if(F!=3)B.ar(W,O,F);if(p==1){B.ar(W,O,1);B.ar(W,O,2)}E+=Z*o*N}J.push({Ei:new fP(0,0,Z,o),data:O.buffer})}}else{var $=h.children,H=0;
while(H<$.length&&$[H].tagName!="Children")H++;if(H==$.length)throw"e";$=$[H].children;for(var A=0;A<$.length;
A++)gI.Qy.aC3($[A],e,v,J)}};gI.aqi=function(){function h(x,j,E,L,p){var Z=new Int8Array(x.buffer),o=new Int8Array(L.buffer),u=j+E;
while(j<u){var iW=Z[j];j++;if(iW>=0&&iW<128)for(var T=0;T<iW+1;T++){o[p]=Z[j];p++;j++}if(iW>=-127&&iW<0){for(var T=0;
T<-iW+1;T++){o[p]=Z[j];p++}j++}}return p}function e(x,j,E,L,p,Z){var o=j*E*L>>>3,u=B.U(o*p),N=J(x,0,0,0)[0];
for(var M=0;M<p;M++){var O=N[M+1];if(Z){var F=gI.g6("jpg").E2(O.buffer),W=B.U(o);B.hS(new Uint8Array(F[0].data),W);
u.set(W,o*M)}else if(O[0]==255&&O[1]==216&&O[2]==255){var f=UTIF.LosslessJpegDecode(O);u.set(new Uint8Array(f.buffer),o*M)}else h(O,64,O.length,u,o*M)}return u}function v(x){var j=new Uint8Array(x),E=0,L=b.RZ(j,0,128);
E+=128;var p=b.RZ(j,E,4);E+=4;var Z=m(j,E,0)[0],o=Z.g28;if(o==null){alert("No image.");return[]}var u=o.cols,N=o.rows,M=u*N,O=o.photoInterpret,F=o.bitsAlloc,W=o.bitsStored,f=o.lossyCompr;
if(f==null)f=Z.g8.lossyCompr;var $=Z.g7fe0.pixelData,H=o.numOfFrames;H=H?parseInt(H):1;var A=new Uint8Array($.buffer),G=M*F>>>3;
if(A.length!=G*H){$=e($,u,N,F,H,f)}else{}if(F==16)$=new Uint16Array($.buffer);console.log(o);console.log(Z);
var l=[];for(var K=0;K<H;K++){var U=K*G,x=B.U(u*N*4);x.fill(255);if(O=="MONOCHROME2"){var z=0,q=255,P=o.largestValue,g=o.smallestValue;
if(P!=null){q=P;z=g}else if(W!=8){q=0;z=1e9;for(var T=0;T<M;T++){var a=$[U+T];if(a>1<<W-8){if(a>q)q=a;
if(a<z)z=a}}}var w=255/(q-z);for(var T=0;T<M;T++){var a=Math.max(0,Math.min(255,($[U+T]-z)*w)),y=T*4;
x[y]=x[y+1]=x[y+2]=a}}else if(O=="PALETTE COLOR"){var S=o.pltRed,i=o.pltGreen,C=o.pltBlue;for(var T=0;
T<M;T++){var Y=$[U+T],y=T*4;x[y]=S[Y]>>>8;x[y+1]=i[Y]>>>8;x[y+2]=C[Y]>>>8}}else throw O;l.push({Ei:new fP(0,0,u,N),data:x.buffer})}return l}function J(x,j,E,L){if(E==0)E=x.length;
var p=b.B7,Z=b.Iy,o=b.bB,u=[],N=j;while(j<E){var M=p(x,j);j+=2;var O=p(x,j);j+=2;var F=o(x,j);j+=4;if(M==65534&&O==57344){if(F==4294967295){var W=m(x,j,L+1);
u.push(W[0]);j=W[1]}else{u.push(x.slice(j,j+F));j+=F}}else if(M==65534&&O==57357){}else if(M==65534&&O==57565)break;
else throw"e"}return[u,j]}function m(x,j,E){var L=b.B7,p=b.Iy,Z=b.bB,o={},u="\t".repeat(E);while(j<x.length){var N=L(x,j),W="",f=0,H=null;
j+=2;var M=L(x,j);j+=2;var O=N.toString(16),F=M.toString(16);if(N==65532)break;if(N==65534&&M==57357){j-=4;
break}if(N==65534&&M==57565)throw"e";if(M==0){j+=8;continue}if(65<=x[j+1]){W=b.RZ(x,j,2);j+=2;if(W=="OB"||W=="SQ"||W=="OW"){f=Z(x,j+2);
j+=6}else{f=L(x,j);j+=2}}else{W=d[O][F].split(",")[1];f=Z(x,j);j+=4}console.log(O,F,W,f);var $=d[O][F];
if($)$=$.split(",")[0];if($==null){$="t"+F}if(W=="SQ"){var A=J(x,j,j+f,E);H=A[0];j=A[1];f=0}else if(W=="US")H=L(x,j);
else if(W=="SS")H=p(x,j);else if(W=="UL")H=Z(x,j);else if(W=="FL")H=b.be(x,j);else if(W=="AT")H=[L(x,j),L(x,j+2)];
else if(W=="OB")H=x.slice(j,j+f);else if(W=="OW")H=new Uint16Array(x.slice(j,j+f).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(W)!=-1){var G=j+f;
while(x[G-1]==0)G--;H=b.RZ(x,j,G-j).trim()}else{console.log(u,JSON.stringify(b.RZ(x,j,Math.min(f,32))));
throw W}if(o["g"+O]==null)o["g"+O]={};o["g"+O][$]=H;j+=f}return[o,j]}var d={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{E2:v}}();gI.a0M={};gI.a0M.E2=function(h){var e=new Uint8Array(h),v=0,J={},p=1e9;for(var T=0;T<306;
T++){var m=b.RZ(e,v,8).trim(),d=b.RZ(e,v+9,71).split("/")[0].trim();J[m]=d;v+=80;if(m=="END"){v=Math.ceil(v/2880)*2880;
break}}var x=parseInt(J.NAXIS1),j=parseInt(J.NAXIS2),E=x*j,L=parseInt(J.BITPIX),Z=-1e9,o=new Float32Array(E),u=new Float32Array(h,v,h.byteLength-v>>>2);
for(var T=0;T<E;T++){var N=T<<2,M=T<<1;if(L==-32){var O=e[v+N+0];e[v+N+0]=e[v+N+3];e[v+N+3]=O;var O=e[v+N+1];
e[v+N+1]=e[v+N+2];e[v+N+2]=O;o[T]=u[T]}else if(L==16){o[T]=b.B7(e,v+M)}else throw L;var F=o[T];if(F<p)p=F;
if(F>Z)Z=F}var W=B.U(E*4),f=1/Z;for(var $=0;$<j;$++)for(var H=0;H<x;H++){var T=$*x+H,A=(j-$-1)*x+H,N=A<<2,F=o[T]*f;
W[N]=W[N+1]=W[N+2]=255*F;W[N+3]=255}return[{Ei:new fP(0,0,x,j),data:W,dq:J.OBJECT}]};gI.T1={};gI.T1.E2=function(h){var e=new Uint8Array(h),v=16,J=b.RZ(e,v,4),d=32,F=0,W=0,f=!1,S;
v+=4;var m=b.RZ(e,v,8);v+=8;while(e[v+d-1]==0)d--;var x=b.RZ(e,v,d);v+=32;var j=b.RZ(e,v,4);v+=4;v+=20;
var E=b.d$(e,v);v+=4;var L=b.d$(e,v);v+=4;var p=b.d$(e,v);v+=4;var Z=b.d$(e,v);v+=4;var o=b.d$(e,v);
v+=4;var u=b.d$(e,v);v+=4;var N="FujiFilm "+x,M=[0,1,1,2];if(N=="FujiFilm X10"){N="FujiFilm FinePix X10";
M=[2,1,1,0]}var O={t271:["FujiFilm"],t272:[N],t277:[1],t33421:[2,2],t33422:M,eT:1};v=p;var $=[],H=b.hm,A=b.d$(e,v);
v+=4;for(var T=0;T<A;T++){var G=H(e,v);v+=2;var l=H(e,v);v+=2;if(G==256){W=H(e,v);F=H(e,v+2)}else if(G==272){$=[H(e,v),H(e,v+2)]}else if(G==273){$.push(H(e,v),H(e,v+2))}else if(G==304){f=!(e[v]>>>7)}else if(G==305){var K=Math.round(Math.sqrt(l)),U=[];
for(var z=0;z<l;z++)U.push(e[v+z]);U.reverse();O.t33421=[K,K];O.t33422=U}else if(G==12272){var q=H(e,v),P=H(e,v+2),g=H(e,v+6);
O.t50728=[q/P,1,q/g]}v+=l}var a=F<W,w=e.slice(o,o+u),y=Math.round(u*8/(F*W));if(w[0]==73&&w[1]==73&&w[2]==42){S=UTIF.decode(w.buffer)[0].fujiIFD;
y=S.t61443[0];var i=S.t61454,C=S.t61450;if(C)O.t50714=C;if(i)O.t50728=[i[0]/i[1],1,i[0]/i[2]];var Y=S.t61447[0];
w=w.slice(Y,Y+S.t61448[0])}var u=w.length,_=u*8<F*W*y;if(_){console.log("compressed");var t=O.t33422,I=~~Math.sqrt(t.length),r=[];
for(var T=0;T<I;T++)r[T]=t.slice(T*I,T*I+I);w=new Uint8Array(UTIF._decompressRAF(w,r).buffer);u=w.length}function n(X,dx,jv){jv=jv<<8-(dx&7);
var gB=dx>>>3;X[gB]|=jv>>>16;X[gB+1]|=jv>>>8;X[gB+2]|=jv}var Q=u*8/(F*W);if(Q==16)for(var T=0;T<u;T+=2){var D=w[T];
w[T]=w[T+1];w[T+1]=D}else if(Q==14){for(var T=0;T<u;T+=4){var D=w[T];w[T]=w[T+3];w[T+3]=D;D=w[T+1];w[T+1]=w[T+2];
w[T+2]=D}}else if(Q==12)for(var T=0;T<u;T+=3){var dG=w[T+2]<<16|w[T+1]<<8|w[T+0];dG=dG>>>12|(dG&4095)<<12;
w[T]=dG>>>16&255;w[T+1]=dG>>>8&255;w[T+2]=dG&255}if(a)w=gI.T1.aat(w,F,W);var R=a?2:1;F*=R;O.t256=[F];
O.t257=[W];O.t258=[y];O.t50719=[$[1],$[0]*R];O.t50720=[$[3],$[2]*R];O.width=F;O.height=W;O.data=new Uint8Array(w.buffer);
return[O]};gI.T1.aat=function(h,e,v){h=new Uint16Array(h.buffer);var J=new Uint16Array(e*v*2);for(var m=0;
m<v;m+=2)for(var d=0;d<e;d++){var x=m*e+d,j=x*2,E=h[x],L=h[x+e];J[j+1]=J[j+2*e]=L;if(((m>>>1)+d&1)==0){J[j]=E;
J[j+2*e+1]=h[x+1]}else{J[j]=h[x-1];J[j+2*e+1]=E}}return J};gI.XK={};gI.XK.ayv=function(h,e,v){v=v<<8-(e&7);
var J=e>>>3;h[J]|=v>>>16;h[J+1]|=v>>>8;h[J+2]|=v};gI.XK.QQ=!0;gI.XK.E2=async function(h,e,v,J){var m=new Uint8Array(h),d=0,x=Date.now(),j=await he.kq(new Blob([h])),E=j.moov.uuid[0],L=new CR3Parser(h),p=L.getTrack().meta,Z=E.CMT1[0],o=Z.t256[0]=p.width,u=Z.t257[0]=p.height,N=o*u,M=Z.exifIFD=E.CMT2[0],O=M.makerNote=E.CMT3[0],F=j.moov.trak[3].mdia.minf.stbl,W=F.co64[0],f=m.slice(W,W+F.stsz[0]),$=0;
while($<f.length){var H=b.bB(f,$);$+=4;var A=b.B7(f,$);$+=2;var G=f[$]==1;$+=2;$+=4;if(A==8||A==9){var l=UTIF.decode(f.slice($+8,$+H-12).buffer)[0];
for(var K in l)O[K]=l[K]}$+=H-12}Z.t277=[1];Z.t33421=[2,2];Z.t33422=[0,1,1,2];Z.eT=1;if(Z.t274)Z.eT=Z.t274[0];
var U=L.extractCFA(),z=p.bitDepth;if(z!=14)throw"e";Z.t258=[z];var q=new Uint8Array(Math.ceil(N*z/8)),P=16-z;
for(var T=0;T<N;T++)gI.XK.ayv(q,T*14,U[T]<<P);Z.width=o;Z.height=u;Z.data=q;v(null,[Z],J)};gI.Qc={};
gI.Qc.tB=!0;gI.Qc.oZ=function(h,e,v,J){var m=new Uint8Array(h[0][0]),d=e*v,x=[1,3,4][J[0]],j=8+8*J[1],E=J[2];
if(x==1){var L=new Uint8Array(e*v);B.Bq(m,L,0);m=L}if(x==3){var L=new Uint8Array(e*v*3);for(var T=0;
T<d;T++){var p=T*4,Z=T*3;L[Z]=m[p];L[Z+1]=m[p+1];L[Z+2]=m[p+2]}m=L}if(j==16){var o=m.length,L=new Uint8Array(o*2);
for(var T=0;T<o;T++){var u=Math.round(m[T]*(65535/255));L[T*2+E]=u>>>8;L[T*2+1-E]=u&255}m=L}return m.buffer};
gI.hP={};gI.hP.E2=function(h,e){function v(r){return~~(.5+B.sq(Math.max(0,Math.min(1,r)))*255)}var J=new Uint8Array(h),m=4,d=b.bB(J,m);
m+=4;var x={};m=gI.hP.Qe(J,m,x);var j=x.compression,E=x.channels,L=E.length,p=Date.now();if(j==3&&L>4){var Z=x.dataWindow,o=Z[2]+1,u=Z[3]+1,N=[];
while(!0){var M=b.bB(J,m+N.length*8);if(M==0)break;N.push(M)}m+=N.length*8;function O(R,r,I,X,P,i){var dx=R[I*(L*o)+X*o+r];
return v(dx)}function F(R,w){for(var y=0,iW=Math.floor((R.length+1)/2),X=0,T=R.length-1;!(X>T||(w[X++]=R[y++],X>T));
)w[X++]=R[iW++]}var W=[],f={},$=[];for(var T=0;T<E.length;T++){var H=E[T],A=H[0];if(A.indexOf(".")==-1)A="main."+A;
var G=A.split(".");while(G.length>2)G[0]=G.shift()+"_"+G[0];var l=G[0],K=G[1];if(f[l]==null){f[l]=W.length;
var U=B.U(o*u*4);W.push(U);U.fill(255)}$.push([f[l],{R:0,G:1,B:2,A:3}[K]])}for(var T=0;T<N.length;T++){var z=N[T],q=b.bB(J,z),a;
z+=4;var P=T==N.length-1?u-q:16,g=b.bB(J,z);z+=4;if(j==3){var a=new Uint8Array(P*o*L*4);UZIP.inflateRaw(J.slice(z+2,z+g),a);
for(var w=1;w<a.length;w++){var y=a[w-1]+a[w]-128;a[w]=y}var S=new Uint8Array(a.length);F(a,S);a=new Float32Array(S.buffer)}var i=B.U(a.length);
for(var C=0;C<L;C++){var Y=$[C],_=W[Y[0]],t=Y[1];for(var I=0;I<P;I++){for(var r=0;r<o;r++){var n=((I+q)*o+r)*4;
_[n+t]=O(a,r,I,C,P,i)}}}}var Q=[];for(var A in f){Q.push({Ei:new fP(0,0,o,u),data:W[f[A]].buffer,dq:A})}console.log(Date.now()-p);
return Q.reverse()}else{var D=EXRLoader.parse(h),o=D.width,u=D.height,_=B.U(o*u*4);for(var I=0;I<u;I++)for(var r=0;
r<o;r++){var T=(I*o+r)*4,dG=((u-I-1)*o+r)*4;_[T]=v(D.data[dG+0]);_[T+1]=v(D.data[dG+1]);_[T+2]=v(D.data[dG+2]);
_[T+3]=v(D.data[dG+3])}return[{Ei:new fP(0,0,o,u),data:_.buffer}]}};function ir(h){var e=(h&31744)>>10,v=h&1023;
return(h>>15?-1:1)*(e?e===31?v?NaN:Infinity:Math.pow(2,e-15)*(1+v/1024):6103515625e-14*(v/1024))}gI.hP.Qe=function(h,e,v){function J(N,M){var O=M;
while(N[O]!=0)O++;return O-M}while(h[e]!=0){var m=b.RZ(h,e,J(h,e));e+=m.length+1;var d=b.RZ(h,e,J(h,e));
e+=d.length+1;var x=b.bB(h,e);e+=4;var j=h.slice(e,e+x);if(x==1)j=h[e];else if(d=="box2i"){j=[];for(var T=0;
T<4;T++)j.push(b.TB(h,e+4*T))}else if(d=="float")j=b.be(h,e);else if(d=="v2f"){j=[];for(var T=0;T<2;
T++)j.push(b.be(h,e+4*T))}else if(d=="chlist"){var E=e;j=[];while(h[E]!=0){var L=b.RZ(h,E,J(h,E));E+=L.length+1;
var p=b.bB(h,E);E+=4;var Z=h[E];E++;E+=3;var o=b.bB(h,E);E+=4;var u=b.bB(h,E);E+=4;j.push([L,p,Z,o,u])}}else console.log("-----",d);
v[m]=j;e+=x}return e+1};gI.fr={};gI.fr.tB=!0;gI.fr.ug=!0;gI.fr.oZ=function(h,e,v,J,m){J=["",100,!1,!1,!1,0,!1];
J[7]=["jpg"];var d=new ToDXF;aH.mA(h,J,d,m.eN);return d.buffer};gI.fr.E2=function(h,e){var v=72,J=new aJ(1,0,0,1,0,0);
J.scale(v/72,v/72);e.gx=v;var m=new eP(e,J,!1);FromDXF.Parse(h,m)};gI.ai9={};gI.ai9.E2=function(){var h=b.B7,e=b.bB,v=b.RZ,J;
function m(x,j,E,L,p){var Z=e(x,E),o=e(x,E+4),u=e(x,E+8),N=h(x,E+12),M=h(x,E+14);E+=16;var O={};for(var T=0;
T<N+M;T++){var F=e(x,E),W=e(x,E+4),f,$;if(F>>>31==1){F=F&16777215}if(T<N)f=b.qa(x,j+F+2,h(x,j+F));else f="id"+F;
var H=L.slice(0);H.push(f);if(W>>>31==1){W=W&268435455;$=m(x,j,j+W,H,p)}else{var A=e(x,j+W),G=e(x,j+W+4),l=e(x,j+W+8),K=e(x,j+W+12);
if(K!=0)throw"e";if(A<p[0]||A>p[0]+p[1])throw"e";var U=p[2]+A-p[0];$=x.slice(U,U+G);var z=gI.pI($.buffer);
if(z&&["bmp","png","ico"].indexOf(z)!=-1){var q=gI.g6(z);if(!q.ug){var P=null;try{P=q.E2($.buffer)}catch(j3){}if(P){P[0].dq=H[1];
J.push(P[0])}}}else if(z)console.log(z)}O[f]=$;E+=8}return O}function d(x){J=[];var j=new Uint8Array(x),E=0,L=h(j,E);
E+=2;E+=58;var p=e(j,E);E+=4;E=p;var Z=v(j,E,4);E+=4;var o=h(j,E);E+=2;var u=h(j,E);E+=2;var N=e(j,E);
E+=4;var M=e(j,E);E+=4;var O=e(j,E);E+=4;var F=h(j,E);E+=2;var W=h(j,E);E+=2;E+=F;var f={};for(var T=0;
T<u;T++){var $=E;while(j[$]!=0)$++;var H=v(j,E,$-E),A=e(j,E+8),G=e(j,E+12),l=e(j,E+16),K=e(j,E+20),U=e(j,E+24),z=e(j,E+28),q=h(j,E+32),P=h(j,E+34),W=e(j,E+36);
f[H]=[G,A,K,l,W];if(U+z!=0)throw"e";E+=40}for(var g in f){var a=f[g];E=a[2];if(g==".rsrc"){var w=m(j,E,E,[],a),y="id134"}}return J}return d}();
gI.Bf={};gI.Bf.ug=!0;gI.Bf.E2=function(h,e,v){if(v&&v.length!=2)v=null;jQ.kq(h,e,v)};gI.Bf.oZ=function(h,e,v){return jQ.mA(h)};
(function(){var h=gI.KF.get("wasm/zstd").buffer;WebAssembly.instantiate(h).then(function(e){var v=e.instance.exports;
gI.Bf.aig=v})}());gI.Bf.y8=function(h,e){var v=gI.Bf.aig,J=h.length,m=v.memory,d=2*J+1e6,E=4;gI.do(v,d);
var x=new Uint8Array(m.buffer),j=v.malloc(J);x.set(h,j);while(!0){var L=e==null?J*E:e;gI.do(v,d+L);var p=v.malloc(L),Z=v.ZSTD_decompress(p,L,j,J);
if(Z==-70){v.free(p);E+=E>>>1;if(e!=null)throw"error"}else{x=new Uint8Array(m.buffer);h=x.slice(p,p+Z);
v.free(p);break}}v.free(j);return h};gI.x1={};gI.x1.ug=!0;gI.x1.E2=function(){var h=0,e=1,v=2,J=3,m=4,d=5,x=6,j=7,E=1,L=2,p=7,Z=8,o=9,u,N,M,O,F;
function W(){var iW=b.TB(u,N);N+=4;return iW}function f(){var S=0,i=0;for(var T=0;T<5;T++){var C=u[N++];
S+=(C&127)<<i;i+=7;if((C&128)==0)break}return S}function $(){var S=f(),i=b.Is(u,N,S);N+=S;return i}function H(){return{typeName:$(),a5b:W()}}function A(){var S=W(),i=$(),C=[],Y=W();
for(var T=0;T<Y;T++)C.push([$()]);return{id:S,pQ:i,anR:C}}function G(S){var i=S.anR,C=[];for(var T=0;
T<i.length;T++)i[T].push(u[N++]);for(var T=0;T<i.length;T++){var Y=i[T][1],_;i[T].push(l(Y))}}function l(S){var i;
if(S==h)i=u[N++];else if(S==J)i=$();else if(S==m)i=H();else if(S==e||S==v||S==x||S==d){}else throw S;
return i}function K(S,i,C){var Y;if(S==h){if(i==E)Y=u[N++]==1;else if(i==L){Y=u[N++]}else if(i==Z)Y=W();
else if(i==o){Y=W();W()}else throw i}else if(S==J){Y=P(C+1)}else if(S==m){Y=P(C+1)}else if(S==d){Y=P(C+1)}else if(S==e){Y=P(C+1)}else if(S==x){Y=P(C+1)}else if(S==v){Y=P(C+1)}else throw S;
return Y}function U(S,i){var C=M["c"+S],Y=C.anR,_={_class:C.pQ};for(var T=0;T<Y.length;T++){var t=Y[T],I=t[1],r=t[2],n=K(I,r,i),Q=t[0];
_[Q]=n}return _}function z(S,i,C,Y){var _=[];for(var T=0;T<S;T++){var t=K(i,C,Y);if(t.xr&&t.xr=="null_count"){var I=t.GL;
for(var r=0;r<I;r++)_.push(null);T+=I-1}else _.push(t)}return _}function q(){return[W(),W()]}function P(S){if(S==null)throw"e";
var i=null,C=u[N],Y=null;N++;if(C==0){var _=W(),t=W(),I=W(),r=W();i=[_,t,I,r]}else if(C==1){Y=W();var n=W();
i=U(n,S)}else if(C==4){var Q=A();Y=Q.id;G(Q);M["c"+Q.id]=Q;i=U(Q.id,S)}else if(C==5){var Q=A();Y=Q.id;
G(Q);var D=W();M["c"+Q.id]=Q;i=U(Q.id,S)}else if(C==6){Y=W();var dG=$();i=dG}else if(C==7){Y=W();var R=u[N++];
if(R!=0)throw R;var X=W();if(X!=1)throw X;var dx=W(),jv=u[N++],gB=l(jv);i=z(dx,jv,gB,S)}else if(C==9){var hQ=W();
i={xr:"ref",GL:hQ};F["o"+hQ]=!0}else if(C==10){i={xr:"null_count",GL:1}}else if(C==11){i={xr:"end"}}else if(C==12){var D=W(),ah=$()}else if(C==13){var kG=u[N++];
i={xr:"null_count",GL:kG}}else if(C==16){var iZ=q();Y=iZ[0];i=z(iZ[1],m,null,S)}else if(C==17){var iZ=q();
Y=iZ[0];i=z(iZ[1],e,null,S)}else throw"e";if(Y!=null&&Y>0){if(O["o"+Y]!=null)throw"e";O["o"+Y]=i}return i}function g(S,O){if(S instanceof Array){for(var T=0;
T<S.length;T++)S[T]=a(S[T],O)}else if(S instanceof Object){for(var i in S)S[i]=a(S[i],O)}}function a(S,O){if(S&&S.xr&&S.xr=="ref")return O["o"+S.GL];
else return S}function w(S,i,C){var Y=Date.now();u=new Uint8Array(S);N=0;M={};O={};F={};var _=b.RZ(u,0,4);
if(_!="PDN3")throw _;N+=4;var t=b.B7(u,N)+u[N+2]*256*256;N+=3;var I=b.RZ(u,N,t);N+=t;N+=2;while(!0){var r=P(0);
if(r&&r.xr&&r.xr=="end")break}for(var n in F)if(O[n]==null)throw n;for(var n in O)g(O[n],O);var Q=O.o1;
console.log(Q);i.q=Q.width;i._=Q.height;i.buffer=B.U(i.q*i._*4);var D=Q.layers["ArrayList+_items"];for(var T=0;
T<D.length;T++){var dG=D[T];if(dG==null)continue;var R=dG["Layer+width"],X=dG["Layer+height"],dx=dG["Layer+properties"],jv=dG.properties,gB=jv.blendOp._class.split("+").pop();
gB=gB.slice(0,gB.length-7);var hQ={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[gB],ah=i.ws();
ah.Ip(dx.name);ah.S2=dx.opacity;ah.nP(dx.visible);ah.fR=hQ;if(u[N]!=0)throw"e";N++;var kG=b.d$(u,N);
N+=4;var iZ=Math.ceil(R*X*4/kG);ah.R=new fP(0,0,R,X);var bs=ah.buffer=B.U(R*X*4);for(var ey=0;ey<iZ&&N<u.length;
ey++){var jp=y();bs.set(jp[1],jp[0]*kG)}for(var eh=0;eh<bs.length;eh+=4){var dt=bs[eh+0];bs[eh+0]=bs[eh+2];
bs[eh+2]=dt}i.T.push(ah)}}function y(){var S=b.d$(u,N);N+=4;var i=b.d$(u,N);N+=4;N+=10;i-=10;var C=pako.inflateRaw(u.slice(N,N+i));
N+=i;return[S,C]}return w}();gI.iF={};gI.iF.ug=!0;gI.iF.E2=function(h,e){gb.kq(h,e)};gI.QK={};gI.QK.ug=!0;
gI.QK.E2=function(){var h,e,O=null,G,l;function v(){var w=h[e];e+=1;return w}function J(){var w=b.hm(h,e);
e+=2;return w}function m(){var w=b.d$(h,e);e+=4;return w}function d(){var w=b.Pp(h,e);e+=4;return w}function x(){var w=b.PF(h,e);
e+=8;return w}function j(){var w=m();if(w>200)throw w;var y=b.Qr(h,e,w);e+=w*2;return y}function E(){var w=b.aN(h,e);
e+=8;return w}function L(){var w=b.SN(h,e);e+=4;return w}function p(){var w=m();if(m()!=4)throw"e";var y=[];
for(var T=0;T<w;T++)y.push(m());return y}function Z(w,y,S){for(var T=0;T<w.length;T++)if(w[T][y]==S)return w[T]}function o(w,y){var S=Date.now();
h=new Uint8Array(w);e=b.TE(h,"CH"+"NK"+"SQ"+"Li")+8;var i=x(),C=ih.parse(h.buffer.slice(e,e+i)),Y=ih.aCV(C,!0);
console.log(Y);var _=Y.Canvas[0],t=_.Width,I=_.Height,r=_.Unit,n=y.gx=_.Resolution;if(r==0){}else if(r==1){t=Math.round(t*n/2.54);
I=Math.round(I*n/2.54)}else if(r==2){t=Math.round(t*n/25.4);I=Math.round(I*n/25.4)}else if(r==3){t=Math.round(t*n);
I=Math.round(I*n)}else if(r==5){t=Math.round(t*n/72);I=Math.round(I*n/72)}else{console.log(_);throw r}y.q=t;
y._=I;y.buffer=B.U(t*I*4);console.log(Date.now()-S);var Q=Z(Y.Layer,"MainId",_.RootFolder);q(Y,h,y,Q.FirstChildIndex,0);
console.log(Date.now()-S)}function u(){var w=b.B7(h,e);e+=2;return w}function N(){var w=b.bB(h,e);e+=4;
return w}function M(){var w=b.TB(h,e);e+=4;return w}function F(w){var y={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},i=0;
h=w;e=0;var S={};while(e<h.length){var C=N(),Y=N(),_=e+Y;if(Y==0)continue;var t=[];if(C==11){var I=N();
for(var r=0;r<I;r++){var n=[N(),N()];t.push(n);i+=n[1];var Q=e+N()-4;n.push(u(),u(),u(),u());n.push(b.QA(h,e));
e+=8;var D=u();n.push(b.qa(h,e,D));e+=D*2;if(e!=Q)throw"e"}}else if(C==31){t=b.Is(h,e,Y);e+=Y}else if(C==34)for(var T=0;
T<3;T++)t.push(N()>>>16);else if(C==42)for(var T=0;T<4;T++)t.push(M());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(C)!=-1){if(Y!=4)throw"e";
t=N();if([37,45,46,51,53,55,61,62].indexOf(C)!=-1){e=_;continue}}else if(C==47){var dG=u();if(N()!=50)throw"e";
if(N()!=0)throw"e";var R=u();t=b.RZ(h,e,R);e+=R}else if(C==57){var I=u();for(var T=0;T<I;T++){var X=u(),jv=b.RZ(h,e,X);
e+=X;var gB=u(),hQ=b.RZ(h,e,gB);e+=gB;t.push([jv,hQ])}if(e<_){var ah=N();for(var T=0;T<I;T++)t[T].push(ah)}}else if(C==39||C==63)t.push(N(),N());
else if(C==64){for(var T=0;T<8;T++)t.push(b.TB(h,e+T*4)/100);e+=32}else{t=h.slice(e,_);e+=Y}var kG=y[C];
if(kG==null)kG="t"+C;if(S[kG])throw"e";S[kG]=t;if(e!=_)throw C}if(O){}O=S;return S}function W(w){h=w;
e=0;var y=m();if(y!=w.length)throw"e";var S=m(),i=j(),C=m(),Y=E(),_=[m()/4294967295,m()/4294967295,m()/4294967295];
return[C,Y,_]}function f(w,y){function S(){var cf=[];for(var T=0;T<4;T++)cf.push(b.Pp(h,e+T*4));e+=16;
return cf}function i(iW){var cf=[];for(var T=0;T<iW;T++)cf.push(L());return cf}function C(cf){var iG="";
for(var T=e;T<cf;T+=4)iG+=h.slice(T,T+4).join(", ")+"\n";return iG}h=w;e=y+8;var Y=x(),_=e+Y;e+=56;if(e==_)return;
var t=[],I=[],r=[],n=[],Q=[];while(e<_){var D=m(),bs=1;if(D!=88&&D!=96)throw D;var dG=m();if(dG!=72)throw dG;
var R=m();if(R!=88&&R!=104&&R!=120)throw R;var X=m();if(X!=88)throw X;var dx=m(),jv=m(),gB=S(),hQ=[];
r.push(hQ);for(var T=0;T<6;T++){hQ.push($(m()))}var ah=E(),kG=m();if(kG==1040||kG==304||kG==288||kG==273){m();
kG=m()}var iZ=E();n.push(iZ);var ey=m(),jp=(jv&256)!=0,eh=[],dt=[],jN={88:1,104:2,120:3}[R];for(var T=0;
T<dx;T++){var jX=T==0?1:jN;for(var jw=0;jw<jX;jw++)eh.push(E(),E());dt.push(jX==1?T==0?"M":"L":jX==2?"Q":"C");
var i7=S(),kn=m();bs=L();var eK=i(10),ee=m(),az=m()}Q.push(bs);if(R==104){var k7=E(),al=E();if(jp){dt.push("Q");
eh.push(k7,al,eh[0],eh[1])}}if(R==120){var k7=E(),al=E(),kl=E(),b9=E();if(jp){dt.push("C");eh.push(k7,al,kl,b9,eh[0],eh[1])}}if(jv&128){var h9=["M"],ge=[eh[0],eh[1]],iN=eh.length>>>1,a8=B.w.awR(eh);
for(var T=0;T<iN;T++){var dK=eh[2*T],f6=eh[2*T+1],fS=.7;for(var jw=0;jw<2;jw++){a8[T*4+jw*2]=fS*a8[T*4+jw*2]+(1-fS)*dK;
a8[T*4+jw*2+1]=fS*a8[T*4+jw*2+1]+(1-fS)*f6}}for(var T=1;T<iN;T++){h9.push("C");ge.push(a8[T*4-2],a8[T*4-1],a8[T*4],a8[T*4+1],eh[T*2],eh[T*2+1])}if(jp){h9.push("C");
ge.push(a8[iN*4-2],a8[iN*4-1],a8[0],a8[1],eh[0],eh[1])}eh=ge;dt=h9}if(jp)dt.push("Z");I=I.concat(eh);
t=t.concat(dt)}if(e!=_)throw"e";return[{g:I,WQ:t},r,n,Q]}function $(w){return Math.min(255,Math.round(w/16777216))}function H(w){h=w;
e=0;var y=m();if(y!=16)throw y;var S=m();if(S!=102)throw S;var i=m();if(i!=42&&i!=58)throw i;var C=m();
if(w.length-C!=118+i)throw w.length-C;var Y=j();if(Y!="Parameter")throw Y;var _=m(),t=m(),I=m(),r=m(),n=[];
for(var T=0;T<16;T++)n.push(m());var Y=j();if(Y!="InitColor")throw Y;if(m()!=20)throw"e";var Q=m(),D=m(),dG=m();
if(m()!=4)throw"e";if(i==58){var R=[];n.push(R);for(var T=0;T<4;T++)R.push($(m()))}var Y=j();if(Y!="BlockSize")throw Y;
var X=m();if(X!=12)throw X;var dx=p();if(e!=h.length)throw"e";return[_,t,I,r,Q*255,n]}function A(w,y){var S=b.RZ(y,0,40),i=Z(w["ExternalC"+"hunk"],"Exte"+"rnalID",S);
if(i==null){console.log("chnk not found",S)}return i?i.Offset:-1}function K(w,y,S,i){if(G==null){G=B.U(256*256*4);
l=B.U(256*256)}var C=w.Mipmap,Y=w.MipmapInfo,_=w.Offscreen,t=Z(C,"MainId",S),I=Z(Y,"MainId",t.BaseMipmapInfo),r=Z(_,"MainId",I.Offscreen),n=A(w,r.BlockData),o=null;
if(n==-1)return null;var Q=gI.QK.aqv(y,n),D=H(r.Attribute),dG=D[0],R=D[1],X=D[2],dx=D[3],jv=D[4],gB=D[5],hQ=gB[16],ah=gB[1],kG=gB[2],iZ=ah+kG;
if(kG!=gB[5])throw"e";if(ah!=gB[7])throw"e";var bs=B.U(256*(gB[6]+gB[8])),ey=new fP;if(hQ)ey=new fP(0,0,dG,R);
else{for(var jp=0;jp<dx;jp++)for(var eh=0;eh<X;eh++){var dt=Q[jp*X+eh];if(dt.length==0)continue;ey=ey.R$(new fP(eh<<8,jp<<8,256,256))}}var jN=ey.UP(new fP(0,0,dG,R)),jX=B.U(jN.$()*(iZ==1?1:4));
if(hQ)new Uint32Array(jX.buffer).fill(255<<24|hQ[0]<<16|hQ[1]<<8|hQ[2]);if(iZ==1)jX.fill(jv);var jw=new Uint32Array(G.buffer),i7={};
for(var jp=0;jp<dx;jp++)for(var eh=0;eh<X;eh++){var dt=Q[jp*X+eh];if(dt.length==0)continue;var kn=new Uint8Array(dt.buffer,dt.byteOffset+2,dt.length-6),eK=new fP(eh<<8,jp<<8,256,256),ee=bs;
if(kn.length<2e3){var S=kn.length+","+bs.length+","+kn.slice(0,16).join(":");if(i7[S]==null){UZIP.inflateRaw(kn,bs);
i7[S]=bs.slice(0)}ee=i7[S]}else UZIP.inflateRaw(kn,bs);if(iZ==1){if(gB[8]==32){U(ee,0,l);B.Ww(l,eK,jX,jN)}else B.Ww(ee,eK,jX,jN)}else if(iZ==2){if(gB[8]==32){new Uint32Array(G.buffer).fill(4278190335);
U(ee,0,l);B.ar(l,G,3);U(ee,256*32,l);B.WS(l,G)}else for(var T=0;T<262144;T+=4){var hQ=ee[65536+(T>>>2)];
G[T]=hQ;G[T+1]=hQ;G[T+2]=hQ;G[T+3]=ee[T>>>2]}B.YZ(G,eK,jX,jN)}else if(iZ==5){for(var T=0;T<262144;T+=4){jw[T>>>2]=ee[T>>>2]<<24|ee[65536+T+0]<<16|ee[65536+T+1]<<8|ee[65536+T+2]}B.YZ(G,eK,jX,jN)}else throw iZ}if(i&&iZ==1){var az=B.U(dG*R*4);
B.ar(jX,az,3);jX=az}return[jN,jX,jv]}function U(w,e,y){for(var T=0;T<y.length;T++){y[T]=(w[e+(T>>>3)]>>>7-(T&7)&1)*255}}var z=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function q(w,y,S,i,C){var Y=w.Layer,_=w.Canvas[0];while(i!=0){var t=Z(Y,"MainId",i),I=t.Type,X=!1;console.log(t);
var r=S.ws();r.Ip(t.Name);r.S2=Math.min(255,t.Opacity);r.nP((t.Visibility&1)!=0);r.fR=z[t.Composite];
if(r.fR==null){alert("Unknown blend mode "+t.Composite);r.fR="norm"}r.ql=t.Clip==1;S.T.push(r);var n=t.LayerMaskMipmap;
if(n!=0){var Q=K(w,y,n,!1);if(Q){r.N=new s.xK;r.N.R=Q[0];r.N.G=Q[1];r.N.color=Q[2];P(r.N.R,t,"Mask","Mask");
r.N.pE()}}var D=[];for(var T=0;T<3;T++)D.push($(t["DrawColorMain"+["Red","Green","Blue"][T]]));var dG={t:"Objc",v:B.Vh.WZ({n:D[0],i:D[1],b:D[2]})},R=JSON.parse(fL.default);
for(var T=0;T<fL.order.length;T++)R[fL.oN[T]]={t:"VlLs",v:[]};if(t.DrawColorEnable==1&&I!=1584){X=!0;
var dx=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);dx.Clr=dG;R.solidFillMulti.v.push({t:"Objc",v:dx})}if(t.EffectInfo){var jv=W(t.EffectInfo),D=jv[2];
if(jv[0]==1){X=!0;var dx=JSON.parse(fL.JC[fL.order.indexOf("FrFX")]);dx.Clr.v=B.Vh.WZ({n:D[0]*255,i:D[1]*255,b:D[2]*255});
dx.Sz.v.val=Math.round(jv[1]);R.frameFXMulti.v.push({t:"Objc",v:dx})}}if(t.FilterLayerInfo){h=t.FilterLayerInfo;
e=0;var gB=m(),hQ=m();if(hQ!=h.length-e)throw"e";var ah={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[gB];
if(ah!=null){var kG=f8.UX(ah);r.add[ah]=kG?kG:{};if(ah=="brit")f8.E0["g"+ah](kG,[d(),d(),!0]);if(ah=="hue2")bb.mm(kG,0,[d(),d(),d()]);
if(ah=="curv"){var iZ=[],bs=e;for(var T=0;T<32;T++){e=bs+T*130;var jp=J(),dt=[];iZ.push(dt);for(var jX=0;
jX<jp;jX++)dt.push(J()/65535,J()/65535)}for(var T=0;T<4;T++){var dt=iZ[T],jw=fZ.GT(kG,T),i7=jw[0];for(var jX=0;
jX<dt.length;jX+=2){var kn=jw[jX>>>1]=B.t(i7);kn.v.Hrzn.v=Math.round(dt[jX]*255);kn.v.Vrtc.v=Math.round(dt[jX+1]*255)}fZ.mm(kG,T,jw)}}if(ah=="grdm"){var eK=kG.Grad.v,ee=[],az=m();
if(az!=hQ-4)throw az;var k7=m();if(k7!=16&&k7!=24)throw k7;var al=m();if(al!=28)throw al;var kl=m();
for(var T=0;T<kl;T++){var b9=0,h9=[];for(var jX=0;jX<7;jX++)h9.push(m());ee.push([h9[6]/32768,[h9[1]/4294967295,h9[2]/4294967295,h9[3]/4294967295],h9[4]/4294967295])}B.Vh.Q_(ee,eK)}if(ah=="blnc"){kG.PrsL.v=m()==1;
for(var T=0;T<3;T++){var ge=kG[["ShdL","MdtL","HghL"][T]].v;for(var jX=0;jX<3;jX++)ge[jX].v=d()}}}else console.log("Unknown adjustment",gB,hQ,r.getName())}if(I==1584){r.IT|=16;
r.add.SoCo={classID:"null",Clr:dG};r.vT(S)}else if(I==800){S.T.pop()}else if(t.Folder!=0){r.add.lsct=(t.Folder&16)!=0?d7.kZ:d7.W$;
r.fR="pass";S.T.pop();S.T.push(S.gB());q(w,y,S,t.FirstChildIndex,C+1);S.T.push(r)}else if(I==0||I==1||I==2||I==3){var Q=K(w,y,t.RenderMipmap,!0);
if(Q){r.R=Q[0];r.buffer=Q[1];P(r.R,t,"Render","");if(r.R.$()<2e6)r.pE()}if(t.ResizableOriginalMipmap){var iN=K(w,y,t.ResizableOriginalMipmap,!0),a8=iN[0],dK=new Uint8Array(gI.g6("PNG").oZ([[iN[1].buffer,0]],a8.q,a8._)),f6=S.dz(dK,r.getName(),0,0);
r.add.SoLd=f6.add.SoLd;r.buffer=f6.buffer;r.R=f6.R;h=t.ResizableImageInfo;e=0;var fS=[];for(var T=0;
T<10;T++)fS.push(m());var cf=[];for(var T=0;T<7;T++)cf.push(E());for(var T=0;T<6;T++)fS.push(m());var iG=[];
for(var T=0;T<8;T++)iG.push(E());var eC=iG[4];iG[4]=iG[6];iG[6]=eC;eC=iG[5];iG[5]=iG[7];iG[7]=eC;r.add.SoLd.Trnf=c.L2.ni(iG);
r.add.SoLd.nonAffineTransform=c.L2.ni(iG);r.eW(S,!1)}if(t.TextLayerType!=null){var kH="TextLayerString",i0="TextLayerAttributes",e5=[t[kH]],gA=[t[i0]];
if(t[kH+"Array"]){h=t[kH+"Array"];e=0;while(e<h.length){var hQ=N();e5.push(h.slice(e,e+hQ));e+=hQ}h=t[i0+"Array"];
e=0;while(e<h.length){var hQ=N();gA.push(h.slice(e,e+hQ));e+=hQ}}var bW=r;S.T.pop();for(var e3=0;e3<e5.length;
e3++){var r=bW.O(),co=0,bH=0;S.T.push(r);var iL=F(gA[e3]),h4=iL.runs,iT=iL.fnts,hC=iL.bplg,dS=iL.bbox,il=dS[2]-dS[0],i6=dS[3]-dS[1];
if(hC){co=hC[2]-hC[0];bH=hC[3]-hC[1]}var b5=new aJ;b5.translate(-il/2,-i6/2);b5.rotate(Math.atan2(-bH,co));
b5.translate(il/2,i6/2);var ej=dS[0]+t.OffsetX,id=dS[1]+t.OffsetY;b5.translate(ej,id);r.add.lnsr="rend";
r.add.TySh=fr.YI(0,0);r.add.TySh.dP=new fP(0,0,500,500);r.add.TySh.C=b5;var dH=r.add.TySh.lf,hA=b.Is(e5[e3]);
r.Ip(hA);fr.hj(dH,0,hA);fr.Ii(dH,1);fr.Uv(dH,[0,0,il,i6]);if(h4)for(var T=0;T<h4.length;T++){var fn=h4[T],d3=fn[0],iF=d3+fn[1],hF=fn[2],bz=fr.aX(dH,d3,iF),hN=S.gx/72*iL.size/100;
if((hF&512)!=0)hN*=fn[6]/100;bz.zI.FontSize=Math.round(hN);var dG=(hF&256)!=0?fn.slice(3):iL.colr;bz.zI.FillColor={Type:1,Values:[1,dG[0]/65535,dG[1]/65535,dG[2]/65535]};
var cA=fn[7]==""?iL.font:fn[7];if(iT){if(iT[T])cA=iT[T][1];else for(var jX=0;jX<iT.length;jX++)if(iT[jX][0]==cA)cA=iT[jX][1]}fr.wm(bz,cA);
fr.UE(dH,d3,iF,bz)}if(r.R.$()==0)S.cj=!0;else{r.R=new fP(ej,id,il,i6);r.buffer=B.U(r.R.$()*4);B.YZ(bW.buffer,bW.R,r.buffer,r.R)}}}}var km=w.VectorObjectList;
if(t.VectorNormalType!=null&&km&&Z(km,"LayerId",i)){var gm=Z(km,"LayerId",i).VectorData,gS=A(w,gm),jl=f(y,gS);
if(jl){var jn=null;if(r.add.TySh){var jn=r.O();S.T.push(jn);delete r.add.TySh}g(r,t,jl[0]);if(r.XN()){r.IT|=24;
var f6=S.ws();f6.Ip(r.getName());f6.S2=r.S2;S.T.push(f6);g(f6,t,jl[0]);a(f6,jl);f6.vT(S)}else{a(r,jl,jn!=null)}r.vT(S);
if(jn){jn.add.TySh.C.concat(new aJ(1,0,0,1,r.R.x+r.R.q/2,r.R.y+r.R._/2))}}}if(X)r.add.lmfx=R;if(i==_.CurrentLayer)S.X=[S.T.indexOf(r)];
i=t.NextIndex}}function P(w,y,S,i){w.x+=y[S+"OffscrOffsetX"]+y[i+"OffsetX"];w.y+=y[S+"OffscrOffsetY"]+y[i+"OffsetY"]}function g(w,y,S){w.add.vmsk=new s.eo;
B.w.C(S.g,new aJ(1,0,0,1,y.OffsetX,y.OffsetY),S.g);w.add.vmsk.z=B.w.GJ(S);w.d6()}function a(w,y,S){var i=y[1][0],C=y[2][0];
w.IT|=16;var Y=w.add.vstk=fL.gL.UX(!0,!0);Y.fillEnabled.v=S==!0;w.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:255,i:255,b:255})}};
Y.strokeStyleContent.v.Clr.v=B.Vh.WZ({n:i[0],i:i[1],b:i[2]});Y.strokeStyleLineWidth.v.val=C*2;Y.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return o}();
gI.QK.aqv=function(h,e){var v=h,J=e+8,L=0;function m(){var K=b.d$(v,J);J+=4;return K}function d(){var K=m();
if(K>200)throw K;var U=b.Qr(v,J,K);J+=K*2;return U}function x(){var K=m();if(m()!=4)throw"e";var p=[];
for(var T=0;T<K;T++)p.push(m());return p}var j=b.PF(v,J);J+=8;var E=J+j;J+=56;var p=[];while(J<E){var Z=m(),o=J+Z-4;
if(o>E)throw"e";if(Z==11){J-=4;var u=d(),N=m();if(N!=12)throw"e";var M=x(),O=d(),N=m();if(N!=12)throw"e";
var F=x();if(J!=E)throw"e"}else{var W=d(),f=m();if(f!=L)throw f;L++;var $=b.hm(v,J);J+=2;if($!=0&&$!=1&&$!=2&&$!=5)throw $;
var H=v[J++];if(H!=0&&H!=32&&H!=64)throw H;if(m()!=1)throw"e";if(m()!=1)throw"e";if(v[J++]!=0)throw"e";
if(m()==1){var A=m(),G=b.bB(v,J);if(A!=G+4)throw"e";p.push(new Uint8Array(v.buffer,J+4,G));J+=A}else p.push(new Uint8Array(0));
var l=d();if(J!=o)throw J}}return p};gI.ad={};gI.ad.ug=!0;gI.ad.E2=function(h,e){var v=Date.now(),J=kW.parse(h),m=b.TB,d=b.Iy,x=J.LtfHeader,j=0,E=m(x,j);
j+=4;if(E!=x.length)throw"e";var L=m(x,j);j+=4;if(L!=4609100)throw"e";var p=m(x,j);j+=4;if(p!=600)throw p;
var Z=d(x,j);j+=2;if(Z!=2&&Z!=4)throw Z;var o=d(x,j);j+=2;var u=m(x,j),N=m(x,j+4);j+=8;var M=m(x,j)/1e4;
j+=8;var p=m(x,j),Z=m(x,j+4);j+=8;if(p!=0&&p!=1&&p!=2)throw p;for(var T=0;T<20;T++)if(x[j+T]!=0)throw T;
j+=20;var p=m(x,j);j+=4;if(p!=0&&p!=1)throw p;var O=m(x,j);j+=4;if(O!=0&&O!=1)throw O;for(var T=0;T<476;
T++)if(x[j+T]!=0)throw T;j+=476;var F=j+104;e.q=u;e._=N;e.buffer=B.U(u*N*4);var W=J.LtfMainPalette,f=J.LtfObjectList;
j=0;if(f){var iW=m(f,0);if(m(f,4)!=iW)throw"e";for(var $=0;$<iW;$++){j=8+$*192;var H=j+128;while(f[H]!=0)H+=2;
var A=b.qa(f,j+128,H-(j+128)>>>1);gI.ad._S(J[A],e,W)}}var G=e.ws();e.T.push(G);G.Ip("Background");if(J.LtfMainImage){var l=gI.ad.W9(J.LtfMainImage,null,W);
G.buffer=l[0];G.R=l[1]}else{G.R=new fP(0,0,u,N);var K=m(x,F);gI.ad.aaA(G,W?m(W,2+K*4):K)}e.T.reverse()};
gI.ad.apL=function(h){var e="";for(var T=0;T<h.length;T++){var v=""+h[T];while(v.length<3)v=" "+v;e+=v+", "}return e};
gI.ad._S=function(h,e,v){var J=b.TB,m=e.ws(),x=0;e.T.push(m);var d=h.ObjectData;if(J(d,0)!=d.length)throw"e";
x+=4;var j=x;while(d[j]!=0)j++;m.Ip(b.RZ(d,x,j-x));x=j+1;if(j==5){if(d[x]!=0)throw"e";x++}var E=h.ObjectMask0,L=h.PathStream;
if(L&&E==null){var p=m.add.vmsk=new s.eo;p.z=gI.ad.BA(L);m.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:d[232],i:d[233],b:d[234]})}};
m.add.vstk=fL.gL.UX(!0);m.vT(e)}if(E==null)return;m.R=new fP(J(E,0),J(E,4),J(E,8),J(E,12));if(h.ObjectImage){var Z=gI.ad.W9(h.ObjectImage,null,v);
m.buffer=Z[0]}else gI.ad.aaA(m,J(d,188));gI.ad.W9(new Uint8Array(E.buffer,16),m.buffer)};gI.ad.aaA=function(h,e){h.buffer=B.U(h.R.$()*4);
new Uint32Array(h.buffer.buffer).fill(255<<24|e)};gI.ad.BA=function(h){var e=b.Iy,v=b.TB,J=b.be,x=0;
function m(O,F){var W=e(O,F),f=e(O,F+2);return f}var d=pako.inflate(h.slice(12));x=128;for(var T=0;T<260;
T++)if(d[x+T]!=0)throw T;x+=260;if(v(d,x)!=50)throw"e";x+=4;if(v(d,x)!=0)throw"e";x+=4;if(v(d,x)!=0)throw"e";
x+=4;var j=v(d,x);x+=4;var j=v(d,x);if(j!=106&&j!=186&&j!=196&&j!=236)throw v(d,x);x+=4;if(v(d,x)!=0)throw"e";
x+=4;if(v(d,x)!=24)throw"e";x+=4;if(v(d,x)!=0)throw"e";x+=4;var j=v(d,x);x+=4;var E=v(d,x);x+=4;if(v(d,x)!=0)throw"e";
x+=4;if(v(d,x)!=0)throw"e";x+=4;if(v(d,x)!=1280)throw"e";x+=4;for(var T=0;T<24;T++)if(d[x+T]!=0)throw T;
x+=24;var L=v(d,x);x+=4;if(42+L*10!=E)throw"e";var p=v(d,x);x+=4;var Z=v(d,x);x+=4;var o=[{c:6},{c:8,all:0}];
o.push({c:0,length:L,Jb:0,rH:2,rd:0,O1:0});for(var T=0;T<L;T++){var u=m(d,x+2),N=m(d,x+6),M=new fq(u,N);
o.push({c:2,NA:M.O(),Q:M,Xb:M.O()});x+=10}return o};gI.ad.W9=function(h,e,v){var J=b.TB,m=b.B7,d=gI.ad.apL,x=0,j=J(h,x),u,N=0,g;
x+=4;var E=J(h,x);x+=4;var L=J(h,x);x+=4;var p=J(h,x);x+=4;var Z=J(h,x);x+=4;var o=j*E,M=h.length;if(o==M-20)u=new Uint8Array(h.buffer,20+h.byteOffset);
else if(L==64*64*3||e&&L==64*64){var O=gI.g6("jpg"),F=0,W=0;u=B.U(j*E);while(x<h.length){var f=J(h,x);
x+=4;var $=O.E2(h.slice(x,x+f))[0],p=$.Ei,H=new Uint8Array($.data),A=e?j:j/3;for(var G=0;G<p._;G++)for(var l=0;
l<p.q;l++){var K=G*p.q+l,U=(G+W)*A+(l+F);if(e)u[U]=H[K*4];else{u[U*3+0]=H[K*4+2];u[U*3+1]=H[K*4+1];u[U*3+2]=H[K*4+0]}}F+=64;
if(F>A){W+=64;F=0}x+=f}}else{u=B.U(o);for(var K=0;K<o;K+=L){var z=K+L,q=J(h,x);x+=4;while(N<z&&x<M){var P=h[x];
x++;if(P<128)for(var T=0;T<P+1;T++){u[N++]=h[x++];if(e)continue;u[N++]=h[x++];u[N++]=h[x++]}else{P-=127;
for(var T=0;T<P;T++){u[N++]=h[x+0];if(e)continue;u[N++]=h[x+1];u[N++]=h[x+2]}x+=e?1:3}}}}if(e){for(var T=0;
T<o;T++)e[T*4+3]=u[T];return[u,new fP(0,0,j,E)]}if(v){g=B.U(o*4);for(var T=0;T<o;T++){var a=T<<2,L=2+u[T]*4;
g[a]=v[L];g[a+1]=v[L+1];g[a+2]=v[L+2];g[a+3]=255}}else{j=Math.round(j/3);o=j*E;g=B.U(o*4);for(var T=0;
T<o;T++){var U=T*3,a=T<<2;g[a]=u[U];g[a+1]=u[U+1];g[a+2]=u[U+2];g[a+3]=255}}return[g,new fP(0,0,j,E)]};
gI.atv={};gI.atv.E2=function(h){var e=new Uint8Array(h),v=b.bB,x=16;if(b.RZ(e,0,4)!="chlv")throw"e";
var J=v(e,4),m=v(e,8),d=v(e,12),j=[];while(x<e.length){var E=v(e,x),L=v(e,x+48),p=v(e,x+52),Z=L*p,o=L*4,u=B.U(L*p*4);
u.fill(255);for(var N=0;N<p;N++)for(var M=0;M<L;M+=4){var T=N*L+M,O=T*4,F=x+108+(T>>>2)*6;u[O]=e[F+1];
u[O+4]=e[F+3];u[O+8]=e[F+4];u[O+12]=e[F+5];for(var W=0;W<16;W+=4){u[O+W+1]=e[F+0];u[O+W+2]=e[F+2]}}var f=new Int8Array(u.buffer),$=new Uint8ClampedArray(u.buffer);
for(var N=0;N<p;N++)for(var M=0;M<L;M++){var T=(N*L+M)*4,H=u[T],A=f[T+1],G=f[T+2],l=H+(45*G>>5),K=H-(11*A+23*G>>5),U=H+(113*A>>6);
$[T]=l;$[T+1]=K;$[T+2]=U}x+=E+4;j.push({Ei:new fP(0,0,L,p),data:u.buffer,dq:"_a_"+j.length})}return j};
var fM={};fM.QX=!1;fM.ag$=!1;fM.bw=!1;fM._y=document.createElement("canvas");fM.h_=null;fM.vh=null;fM.Mi=0;
(function(){var h={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},e;if(!e)e=fM._y.getContext("webgl",h);
if(!e)e=fM._y.getContext("experimental-webgl",h);if(e){fM.QX=!0;fM.ag$=!0;fM.h_=e;fM.vh=e.createFramebuffer();
e.bindFramebuffer(e.FRAMEBUFFER,fM.vh);e.disable(e.BLEND);e.disable(e.DEPTH_TEST);var v=e.createBuffer();
e.bindBuffer(e.ARRAY_BUFFER,v);e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW);
e.enableVertexAttribArray(0);e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0)}}());fM.aiP=function(h){h=h.replace(/\s\s+/g," ");
h=h.replace(/; /g,";");h=h.replace(/} /g,"}");h=h.replace(/ }/g,"}");h=h.replace(/{ /g,"{");h=h.replace(/ {/g,"{");
h=h.replace(/= /g,"=");h=h.replace(/ =/g,"=");h=h.replace(/\| /g,"|");h=h.replace(/ \|/g,"|");return h};
fM.VS=function(h){var e=fM.h_;if(h>e.getParameter(e.MAX_TEXTURE_SIZE)){fM.QX=!1;alert("Disabling WebGL")}};
fM.V5=function(h,e){return new Float32Array([(h.x-e.x)/e.q,(h.y-e.y)/e._,h.q/e.q,h._/e._])};fM.Ut=function(){return this._y};
fM.qH=function(h,e){var v=fM.h_;v.bindFramebuffer(v.FRAMEBUFFER,fM.vh);v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,h.nS,0);
v.viewport(0,0,h.q,h._);if(e){v.enable(v.SCISSOR_TEST);v.scissor(e.x,e.y,e.q,e._)}else v.disable(v.SCISSOR_TEST)};
fM.akX=function(h,e,v){if(v)throw"error";var J=fM.h_;J.disable(J.SCISSOR_TEST);J.bindFramebuffer(J.FRAMEBUFFER,null);
J.viewport(0,0,h,e);if(v){J.enable(J.SCISSOR_TEST);J.scissor(v.x,v.y,Math.round(v.q),Math.round(v._))}else J.disable(J.SCISSOR_TEST)};
fM.clear=function(){var h=fM.h_;h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT)};fM.w$=function(h,e){if(e==null)e=0;
var v=(e>>>0&255)==0,J=(e>>>8&255)==0,m=(e>>>16&255)==0,d=(e>>>24&255)==0,x=(h>>>0&255)*(1/255),j=(h>>>8&255)*(1/255),E=(h>>>16&255)*(1/255),L=(h>>>24&255)*(1/255),p=fM.h_;
p.colorMask(v,J,m,d);p.clearColor(x,j,E,L);p.clear(p.COLOR_BUFFER_BIT);p.colorMask(!0,!0,!0,!0)};fM.LA=function(h,e,v,J,m){var d=e.UP(J);
if(m)d=d.UP(m);if(d.EG())return;var x=fM.h_;fM.qH(h);x.bindTexture(x.TEXTURE_2D,v.nS);x.copyTexSubImage2D(x.TEXTURE_2D,0,d.x-J.x,d.y-J.y,d.x-e.x,d.y-e.y,d.q,d._)};
fM.cm=function(T,h,e){var v=fM.a1w[T];if(v==null||v.q!=h||v._!=e){if(v)v.delete();v=new fM.Em(h,e)}fM.a1w[T]=v;
return v};fM.a1w=[];fM.A4=function(){this.it=null;this.kP=null};fM.A4.eg=null;fM.A4.prototype.fj=function(h){if(this.kP)return;
this.kP={};var e=fM.h_,v=this.it,J=this.kP;for(var T=0;T<h.length;T++){var m=h[T];J[m]=e.getUniformLocation(v,m)}};
fM.A4.prototype.hQ=function(){};fM.A4.prototype.Tg=function(h){var e=fM.h_;for(var T=0;T<h.length;T+=2){e.uniform1i(h[T],T>>>1);
e.activeTexture(e["TEXTURE"+(T>>>1)]);e.bindTexture(e.TEXTURE_2D,h[T+1])}e.activeTexture(e.TEXTURE0)};
fM.A4.prototype.j1=function(h,e){var v=fM.h_,J=v.createShader(v.FRAGMENT_SHADER);v.shaderSource(J,h);
v.compileShader(J);if(!v.getShaderParameter(J,v.COMPILE_STATUS))console.log(v.getShaderInfoLog(J));var m=v.createShader(v.VERTEX_SHADER);
v.shaderSource(m,e);v.compileShader(m);if(!v.getShaderParameter(m,v.COMPILE_STATUS))console.log(v.getShaderInfoLog(m));
var d=v.createProgram();v.attachShader(d,m);v.attachShader(d,J);v.linkProgram(d);if(!v.getProgramParameter(d,v.LINK_STATUS))console.log("Could not initialise shaders");
this.it=d};fM.A4.prototype.mS=function(){if(fM.A4.eg!=this){fM.h_.useProgram(this.it);fM.A4.eg=this}};
fM.y3=function(h,e){fM.Hu++;fM.Mi+=h*e;if(fM.bw)console.log("GL.Channels instances: "+fM.Hu+", memory: "+fM.Mi);
var v=fM.h_;this.q=h;this._=e;this.nS=v.createTexture();this.vH=null;this.sT(this.nS,h,e)};fM.y3.prototype.sT=function(h,e,v){var J=fM.h_;
J.bindTexture(J.TEXTURE_2D,h);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,J.NEAREST);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,J.NEAREST);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_S,J.CLAMP_TO_EDGE);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_T,J.CLAMP_TO_EDGE);
J.texImage2D(J.TEXTURE_2D,0,J.ALPHA,e,v,0,J.ALPHA,J.UNSIGNED_BYTE,null)};fM.y3.prototype.set=function(h,e){var v=fM.h_;
v.bindTexture(v.TEXTURE_2D,this.nS);v.pixelStorei(v.UNPACK_ALIGNMENT,1);var J=this.q*this._;if(e==null||e.$()*10>J)v.texImage2D(v.TEXTURE_2D,0,v.ALPHA,this.q,this._,0,v.ALPHA,v.UNSIGNED_BYTE,h);
else{var m=new fP(0,0,this.q,this._),d=B.U(e.$());B.Ww(h,m,d,e);v.texSubImage2D(v.TEXTURE_2D,0,e.x,e.y,e.q,e._,v.ALPHA,v.UNSIGNED_BYTE,d)}v.pixelStorei(v.UNPACK_ALIGNMENT,4)};
fM.y3.prototype.delete=function(){var h=fM.h_;if(this.nS){h.deleteTexture(this.nS);fM.Hu--;fM.Mi-=this.q*this._}if(fM.bw)if(fM.bw)console.log("GL.Channels instances: "+fM.Hu+", memory: "+fM.Mi*4)};
fM.Hu=0;fM.Em=function(h,e,v){if(v==null)v=!1;fM.Hu++;fM.Mi+=h*e*4;if(fM.bw)console.log("GL.Channels instances: "+fM.Hu+", memory: "+fM.Mi);
var J=fM.h_;this.aln=v;this.q=h;this._=e;this.nS=J.createTexture();this.vH=null;this.sT(this.nS,h,e)};
fM.Em.prototype.set=function(h,e){var v=fM.h_;v.disable(v.SCISSOR_TEST);v.bindTexture(v.TEXTURE_2D,this.nS);
if(h==null||h instanceof Uint8Array){var J=this.q*this._;if((e==null||e.$()*10>J)&&(h==null||h.length>=J*4))v.texImage2D(v.TEXTURE_2D,0,v.RGBA,this.q,this._,0,v.RGBA,v.UNSIGNED_BYTE,h);
else{var m=h;if(h.length==J*4){var m=B.U(e.$()*4);B.YZ(h,new fP(0,0,this.q,this._),m,e)}v.texSubImage2D(v.TEXTURE_2D,0,e.x,e.y,e.q,e._,v.RGBA,v.UNSIGNED_BYTE,m)}}else v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,h)};
fM.Em.prototype.get=function(h){var e=fM.h_;fM.qH(this);e.readPixels(0,0,this.q,this._,e.RGBA,e.UNSIGNED_BYTE,h)};
fM.Em.prototype.Ie=function(h){if(h.EG())return;var e=fM.h_;if(this.vH==null){this.vH=e.createTexture();
this.sT(this.vH,this.q,this._);fM.Hu++;fM.Mi+=this.q*this._*4}e.bindFramebuffer(e.FRAMEBUFFER,fM.vh);
e.bindTexture(e.TEXTURE_2D,this.vH);if(h){var v=Math.max(h.x,0),J=Math.max(h.y,0);e.copyTexSubImage2D(e.TEXTURE_2D,0,v,J,v,J,h.q,h._)}else e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.q,this._,0)};
fM.Em.prototype.sT=function(h,e,v){var J=fM.h_;J.bindTexture(J.TEXTURE_2D,h);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,this.aln?J.LINEAR:J.NEAREST);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,J.NEAREST);J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_S,J.CLAMP_TO_EDGE);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_T,J.CLAMP_TO_EDGE);J.texImage2D(J.TEXTURE_2D,0,J.RGBA,e,v,0,J.RGBA,J.UNSIGNED_BYTE,null)};
fM.Em.prototype.delete=function(){var h=fM.h_;if(this.nS){h.deleteTexture(this.nS);fM.Hu--;fM.Mi-=this.q*this._*4}if(this.vH){h.deleteTexture(this.vH);
fM.Hu--;fM.Mi-=this.q*this._*4}if(fM.bw)if(fM.bw)console.log("GL.Channels instances: "+fM.Hu+", memory: "+fM.Mi)};
fM.Em.prototype.O=function(){var h=fM.h_,e=new fM.Em(this.q,this._);fM.qH(this);h.bindTexture(h.TEXTURE_2D,e.nS);
h.copyTexImage2D(h.TEXTURE_2D,0,h.RGBA,0,0,this.q,this._,0);return e};fM.dN={aqk:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aie:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",_4:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",RA:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",a5$:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",RI:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",qG:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Gu:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",avl:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",t_:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",afN:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Lt:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",ajA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",kn:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",aP:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",l1:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",vB:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Qh:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Aj:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",a5Q:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a8J:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",xv:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",afO:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
fM.B={};fM.B.FU={};fM.B.BF=null;fM.B.e7=null;fM.B.Kl=null;fM.B.alO=function(h,e,v,J,m,d,x,j){if(j==null)j=d4.xO();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(h)==-1){x=x*j.fill;j.fill=1;j.style=!1}var E=h+(j.yH?"1":"");
if(fM.B.FU[E]==null)fM.B.FU[E]=new fM.B.Ev(h,j.yH!=null);var L=fM.B.FU[E],p=v.UP(m).UP(d);p.offset(-m.x,-m.y);
if(p.EG())return;var Z=fM.h_;fM.qH(J,p);J.Ie(p);L.mS();L.hQ(e.nS,J.vH,fM.V5(v,m),x,j.fill,j.style?1:0,j.K3?1:0,j.yH?new Float32Array(j.yH):null);
Z.drawArrays(Z.TRIANGLES,0,6)};fM.B.e2=function(h,e,v,J,m,d,x,j,E,L,p){if(fM.B.BF==null)fM.B.BF=new fM.B.Ew(!0,!0);
if(fM.B.e7==null)fM.B.e7=new fM.B.Ew(!0,!1);if(fM.B.Kl==null)fM.B.Kl=new fM.B.Ew(!1,!0);var Z=L?1:0,o=h?m?fM.B.BF:fM.B.e7:fM.B.Kl,u=new Float32Array(p?[p[0],p[1],p[2],1]:[1,1,1,1]),N=e?e.UP(J).UP(j):J.UP(j);
if(N.EG())return;N.offset(-J.x,-J.y);var M=fM.h_;fM.qH(v,N);v.Ie(N);o.mS();if(h==null)o.hQ(null,v.vH,m.nS,fM.V5(J,J),fM.V5(d,J),x/255,E,Z,u);
else if(m)o.hQ(h.nS,v.vH,m.nS,fM.V5(e,J),fM.V5(d,J),x/255,E,Z,u);else o.hQ(h.nS,v.vH,null,fM.V5(e,J),null,x/255,E,Z,u);
M.drawArrays(M.TRIANGLES,0,6)};fM.B.a3s=function(h,e,v){if(fM.B.az2==null)fM.B.az2=new fM.B.OG;var J=fM.B.az2,m=new fP(0,0,h.q,h._),d=fM.h_;
fM.qH(e);e.Ie(m);J.mS();J.hQ(m,h.nS,e.vH,v.nS);d.drawArrays(d.TRIANGLES,0,6)};fM.B.CE={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
fM.B.Ev=function(h,e){fM.A4.call(this);var v="\t\t\tprecision highp float;\t\t\t"+fM.dN._4+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(e?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+fM.dN.RI+"\t\t\t"+fM.dN.qG+"\t\t\t"+fM.dN.Gu+"\t\t\t"+fM.dN.aqk+"\t\t\t"+fM.dN.aie+"\t\t\t"+fM.dN.avl+"\t\t\t"+fM.dN.t_+"\t\t\t"+fM.dN.afN+"\t\t\t"+fM.dN.Lt+"\t\t\t"+fM.dN.hash+"\t\t\t"+(e?fM.dN.xv:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+fM.B.CE[h]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",J="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(h=="diss")v+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else v+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(e?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.j1(v,J)};fM.B.Ev.prototype=new fM.A4;fM.B.Ev.prototype.hQ=function(h,e,v,J,m,d,x,j){this.fj("srct alpha source target fill style keepBGA blIf".split(" "));
var E=fM.h_,L=this.kP;E.uniform4fv(L.srct,v);E.uniform1f(L.alpha,J);E.uniform1f(L.fill,m);E.uniform1f(L.style,d);
E.uniform1f(L.keepBGA,x);if(j)E.uniform4fv(L.blIf,j);this.Tg([L.source,h,L.target,e])};fM.B.Ew=function(h,e){fM.A4.call(this);
this.awW=h;this.sb=e;var v="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+fM.dN.ajA+"\t\t\t"+fM.dN.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(h?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(e?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(h?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(e?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",J="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.j1(v,J)};fM.B.Ew.prototype=new fM.A4;fM.B.Ew.prototype.hQ=function(h,e,v,J,m,d,x,j,E){if(this.sb)this.fj("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.fj("srct awg dissv source target cswitch".split(" "));var L=fM.h_,p=this.kP;L.uniform4fv(p.srct,J);
if(this.sb){L.uniform4fv(p.wrct,m);L.uniform1f(p.wcolor,d)}else{L.uniform4fv(p.cswitch,E)}L.uniform1f(p.awg,x);
L.uniform1f(p.dissv,j);var Z=[p.source,h,p.target,e];if(this.sb)Z.push(p.weight,v);this.Tg(Z)};fM.B.OG=function(){fM.A4.call(this);
var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",e="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.j1(h,e)};fM.B.OG.prototype=new fM.A4;fM.B.OG.prototype.hQ=function(h,e,v,J){this.fj(["rct","prev","next","alpha"]);
var m=fM.h_,d=this.kP;m.uniform4fv(d.rct,[0,0,1,1]);this.Tg([d.prev,e,d.next,v,d.alpha,J])};fM.yo={OB:{},oq:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
fM.yo.Ce=function(h,e){var v=hy.qB,J=[v.st,v.Fl,v.ZX,v.Q6,v.MQ,v.gH,v.kv,v.hf].indexOf(h.c),m=fM.yo.OB[h.c];
if(m==null)m=fM.yo.OB[h.c]=new fM.OB[J];m.mS();m.hQ(e,h);fM.h_.drawArrays(fM.h_.TRIANGLES,0,6)};fM.OB=[];
fM.OB[0]=function(){fM.A4.call(this);this.zW={};var h="\t\t\tprecision mediump float;\t\t\t"+fM.dN.qG+"\t\t\t"+fM.dN._4+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[0].prototype=new fM.A4;fM.OB[0].prototype.hQ=function(h,e){var v={n:e.Sq,i:e.eK,b:e.Cs,DR:B.U(e.Sq.length)},J=v.n.length;
if(this.zW["m"+J]==null){this.zW["m"+J]={a6Y:new fM.Em(J,1),su:B.U(J*4)}}var m=this.zW["m"+J];B.VT(v,m.su,0);
var d=m.a6Y;d.set(m.su);this.fj(["source","map","toGray","presLum"]);var x=fM.h_,j=this.kP;x.uniform1f(j.toGray,e.pk?1:0);
x.uniform1f(j.presLum,e.Jm?1:0);this.Tg([j.source,h,j.map,d.nS])};fM.OB[1]=function(){fM.A4.call(this);
this.iG=new fM.Em(256,1);this.a9$=B.U(256*4);var h="\t\t\t\tprecision mediump float;\t\t\t\t"+fM.dN.l1+"\t\t\t\t"+fM.dN.kn+"\t\t\t\t"+fM.dN.aP+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[1].prototype=new fM.A4;fM.OB[1].prototype.hQ=function(h,e){B.VT({n:e.afn,i:e.AO,b:e.axD,DR:B.U(256)},this.a9$);
this.iG.set(this.a9$);this.fj(["source","map","cfa","cfb","colorize"]);var v=fM.h_,J=this.kP;v.uniform1f(J.cfa,e.aae);
v.uniform1f(J.cfb,e.jv);v.uniform1i(J.colorize,e.a0o);this.Tg([J.source,h,J.map,this.iG.nS])};fM.OB[2]=function(){fM.A4.call(this);
var h="\t\t\tprecision mediump float;\t\t\t"+fM.dN.l1+"\t\t\t"+fM.dN.vB+"\t\t\t"+fM.dN.Qh+"\t\t\t"+fM.dN.kn+"\t\t\t"+fM.dN.aP+"\t\t\t"+fM.dN.a5Q+"\t\t\t"+fM.dN.a8J+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[2].prototype=new fM.A4;fM.OB[2].prototype.hQ=function(h,e){this.fj(["source","vib","sat","yF"]);
var v=fM.h_,J=this.kP;v.uniform1f(J.vib,e.m0[0]);v.uniform1f(J.sat,e.m0[1]);v.uniform3fv(J.yF,new Float32Array([e.m0[2],e.m0[3],e.m0[3]]));
this.Tg([J.source,h])};fM.OB[3]=function(){fM.A4.call(this);var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[3].prototype=new fM.A4;fM.OB[3].prototype.hQ=function(h,e){this.fj(["source","trf"]);
var v=fM.h_,J=this.kP;v.uniformMatrix4fv(J.trf,!1,new Float32Array(B.$c.nc(e.ok)));this.Tg([J.source,h])};
fM.OB[4]=function(){fM.A4.call(this);var h="\t\t\tprecision mediump float; \t\t\t"+fM.dN.Aj+"\t\t\t"+fM.dN.l1+"\t\t\t"+fM.dN.aP+"\t\t\t"+fM.dN.kn+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[4].prototype=new fM.A4;fM.OB[4].prototype.hQ=function(h,e){this.fj(["source","mnm","mxm","shift","lim"]);
var v=fM.h_,J=this.kP;v.uniform3fv(J.mnm,new Float32Array(e.$R));v.uniform3fv(J.mxm,new Float32Array(e.LW));
v.uniform3fv(J.shift,new Float32Array(e.shift));v.uniform1f(J.lim,e.My);this.Tg([J.source,h])};fM.OB[5]=function(){fM.A4.call(this);
var h="\t\t\tprecision mediump float;\t\t\t"+fM.dN._4+"\t\t\t"+fM.dN.RA+"\t\t\t"+fM.dN.a5$+"\t\t\t"+fM.dN.kn+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[5].prototype=new fM.A4;fM.OB[5].prototype.hQ=function(h,e){this.fj(["source","cfs"]);
var v=fM.h_,J=this.kP;v.uniform3fv(J.cfs,e.ajx);this.Tg([J.source,h])};fM.OB[6]=function(){fM.A4.call(this);
var h="\t\t\tprecision mediump float;\t\t\t"+fM.dN.l1+"\t\t\t"+fM.dN.RA+"\t\t\t"+fM.dN.a5$+"\t\t\t"+fM.dN.kn+"\t\t\t"+fM.dN.aP+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[6].prototype=new fM.A4;fM.OB[6].prototype.hQ=function(h,e){this.fj(["source","wght","prms"]);
var v=fM.h_,J=this.kP,m=[e.ge,e.a1f,e.qG,e.a6t,e.JV,e.a3e];v.uniform1fv(J.wght,new Float32Array(e.aAb));
v.uniform1fv(J.prms,new Float32Array(m));this.Tg([J.source,h])};fM.OB[7]=function(){fM.A4.call(this);
this.Jj={};var h="\t\t\tprecision mediump float;\t\t\t"+fM.dN.afO+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.j1(h,fM.yo.oq)};fM.OB[7].prototype=new fM.A4;fM.OB[7].prototype.hQ=function(h,e){this.fj(["source","lut","N"]);
var v=fM.h_,J=this.kP,m=e.VJ,d=e.ND;if(this.Jj["m"+m]==null)this.Jj["m"+m]=new fM.Em(m,m*m);var x=this.Jj["m"+m];
x.set(d);v.uniform1f(J.N,m);this.Tg([J.source,h,J.lut,x.nS]);v.activeTexture(v.TEXTURE1);var j=v.LINEAR;
v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,j);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,j);
v.activeTexture(v.TEXTURE0)};fM.filter={rW:{},oq:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",alj:0,a4U:1,sN:2,al0:8,anC:3,awQ:4,aqw:5,ho:6,arb:7};
fM.filter.Ce=function(h,e){var v=fM.filter,J,m=h.c+":"+(h.yJ?h.yJ.join(","):""),J=fM.filter.rW[m];if(J==null)J=fM.filter.rW[m]=new fM.rW[h.c](h.yJ);
J.mS();J.hQ(e,h);fM.h_.drawArrays(fM.h_.TRIANGLES,0,6)};fM.rW=[0,0,0,0,0,0,0,0,0,0,0,0];fM.rW[7]=function(){fM.A4.call(this);
var h="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.j1(c3.M8(h),c3.M8(fM.filter.oq))};fM.rW[7].prototype=new fM.A4;fM.rW[7].prototype.hQ=function(h,e){this.fj(["source","iwh","kern"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1fv(J.kern,e.ak3);this.Tg([J.source,h])};fM.rW[6]=function(h){fM.A4.call(this);
var e=h[0],v=h[1],J=h[2],m="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",d=c3.M8(m);
d=d.replaceAll("PRC",J+".0");d=d.replaceAll("DIR",["x,0","0,x"][v]);this.j1(d,fM.yo.oq)};fM.rW[6].prototype=new fM.A4;
fM.rW[6].prototype.hQ=function(h,e){this.fj(["source","iwh","rad"]);var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);
v.uniform1f(J.rad,e.$g);this.Tg([J.source,h])};fM.rW[4]=function(h){fM.A4.call(this);var e=h[0],v=h[1],J="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+h[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][v]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][e]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][v]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(v==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.j1(J,fM.yo.oq)};fM.rW[4].prototype=new fM.A4;fM.rW[4].prototype.hQ=function(h,e){this.fj(["source","iwh","rrad","tr"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1f(J.rrad,e.r3);v.uniform1f(J.tr,e.agT);this.Tg([J.source,h]);
var m=v.LINEAR;m=v.NEAREST;v.activeTexture(v.TEXTURE0);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,m);
v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,m);v.activeTexture(v.TEXTURE0)};fM.rW[5]=function(){fM.A4.call(this);
var h="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.j1(c3.M8(h),c3.M8(fM.filter.oq))};fM.rW[5].prototype=new fM.A4;fM.rW[5].prototype.hQ=function(h,e){this.fj(["source","ssum","iwh","amnt","edgf"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1f(J.amnt,e.a9Q);v.uniform1f(J.edgf,e.amY);this.Tg([J.source,h,J.ssum,e.auu])};
fM.rW[3]=function(){fM.A4.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.j1(c3.M8(h),c3.M8(fM.filter.oq))};fM.rW[3].prototype=new fM.A4;fM.rW[3].prototype.hQ=function(h,e){this.fj("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1f(J.tdep,e.a5i);v.uniform1f(J.rrad,e.r3);v.uniform2fv(J.spec,e.aip);
v.uniform3fv(J.nois,e.aaJ);v.uniformMatrix4fv(J.poly0,!1,e.asm);v.uniformMatrix4fv(J.poly1,!1,e.aCc);
this.Tg([J.source,h]);var m=v.LINEAR;v.activeTexture(v.TEXTURE0);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,m);
v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,m);v.activeTexture(v.TEXTURE0)};fM.rW[0]=function(){fM.A4.call(this);
var h="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.j1(c3.M8(h),c3.M8(fM.filter.oq))};fM.rW[0].prototype=new fM.A4;fM.rW[0].prototype.hQ=function(h,e){this.fj(["source","iwh","ld","shine"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform3fv(J.ld,e.ayS);v.uniform1f(J.shine,e.azO);this.Tg([J.source,h,J.tang,e.Dr])};
fM.rW[1]=function(){fM.A4.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.j1(c3.M8(h),c3.M8(fM.filter.oq))};fM.rW[1].prototype=new fM.A4;fM.rW[1].prototype.hQ=function(h,e){this.fj(["source","iwh","isc","bristle"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1f(J.isc,e.aia);v.uniform1f(J.bristle,e.ah6);
this.Tg([J.source,h])};fM.rW[2]=function(){fM.A4.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.j1(c3.M8(h),c3.M8(fM.filter.oq))};fM.rW[2].prototype=new fM.A4;fM.rW[2].prototype.hQ=function(h,e){this.fj(["source","tang","iwh","sigma","expo"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1f(J.sigma,e.ZR);v.uniform1f(J.expo,e.Bi);this.Tg([J.source,h,J.tang,e.Dr]);
var m=v.LINEAR;v.activeTexture(v.TEXTURE0);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,m);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,m);
v.activeTexture(v.TEXTURE0)};fM.rW[8]=function(){fM.A4.call(this);var h="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.j1(c3.h7(h),c3.M8(fM.filter.oq))};fM.rW[8].prototype=new fM.A4;fM.rW[8].prototype.hQ=function(h,e){this.fj(["source","tang","iwh","sigma"]);
var v=fM.h_,J=this.kP;v.uniform2fv(J.iwh,e.DV);v.uniform1f(J.sigma,e.ZR);this.Tg([J.source,h,J.tang,e.Dr]);
var m=v.LINEAR;v.activeTexture(v.TEXTURE0);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,m);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,m);
v.activeTexture(v.TEXTURE0)};function B(){}B.W={};B.amn={};B.t=function(h){return JSON.parse(JSON.stringify(h))};
B._H=function(h){return h instanceof Float32Array?32:h instanceof Uint16Array?16:8};B.D1=function(h,e){var v=B._H(h),J=h.length;
if(v==e)return h;if(e==8){var m=B.U(J);if(v==16)for(var T=0;T<J;T++)m[T]=h[T]>>>8;if(v==32)for(var T=0;
T<J;T++)m[T]=255*h[T];return m}else throw e};B.aBg=function(){var h=[64,64,128,256,512,1024,2048],e=[];
for(var T=0;T<h.length;T++){var v=h[T],J=document.createElement("canvas");J.width=v;J.height=v;e.push(J.getContext("2d",{willReadFrequently:!0}))}return e}();
B.Ut=function(h,e){var v,J=B.aBg,T=1,m=Math.max(h,e);while(T<J.length&&m>J[T].canvas.width)T++;if(T==J.length){v=J[0];
var d=v.canvas;d.width=h;d.height=e}else{v=J[T];v.clearRect(0,0,h,e)}return v};B.wR=function(h,e,v,J){if(J==null)J=new Uint32Array(e*v);
J[0]=h[0];for(var m=1;m<e;m++)J[m]=J[m-1]+h[m];for(var d=1;d<v;d++){var T=d*e;J[T]=J[T-e]+h[T];for(var m=1;
m<e;m++)J[T+m]=h[T+m]+J[T+m-1]+J[T+m-e]-J[T+m-e-1]}return J};B.aq=function(h,e,v,J,m,d){var x=(m-1)*e,j=d*e;
return h[j+J]-h[j+v-1]-h[x+J]+h[x+v-1]};B.aj1=function(h,e,v,J){var m=e*4;if(J==null)J=new Uint32Array(e*v*4);
J[0]=h[0];J[1]=h[1];J[2]=h[2];J[3]=h[3];for(var d=1;d<e;d++)B.ar5(h,J,4,d<<2);for(var x=1;x<v;x++){var T=x*e<<2;
B.ar5(h,J,m,T);for(var d=4;d<m;d+=4){var j=T+d;J[j]=h[j]+J[j-4]+J[j-m]-J[j-m-4];J[j+1]=h[j+1]+J[j-3]+J[j-m+1]-J[j-m-3];
J[j+2]=h[j+2]+J[j-2]+J[j-m+2]-J[j-m-2];J[j+3]=h[j+3]+J[j-1]+J[j-m+3]-J[j-m-1]}}return J};B.ar5=function(h,e,v,T){e[T]=e[T-v]+h[T];
e[T+1]=e[T-v+1]+h[T+1];e[T+2]=e[T-v+2]+h[T+2];e[T+3]=e[T-v+3]+h[T+3]};B.aj3=function(h,e,v,J,m,d){var x=m+v<<2,j=m+e<<2,E=J+v<<2,L=J+e<<2;
d[0]+=h[x]-h[j]-h[E]+h[L];d[1]+=h[x+1]-h[j+1]-h[E+1]+h[L+1];d[2]+=h[x+2]-h[j+2]-h[E+2]+h[L+2];d[3]+=h[x+3]-h[j+3]-h[E+3]+h[L+3]};
B.Mc=function(h,e,v){var J={},m=0,d=0,x=new Uint32Array(h.buffer),j=x.length,E=Date.now();for(var L=1;
L<v-1;L++)for(var p=1;p<e-1;p++){var Z=L*e+p,o=x[Z];if(o>>>24<230)d++;if(J[o]==null){J[o]=!0;m++}}if(d!=0||m<20)return!1;
return!0};B.ts=function(h,e,v,J,m,d){if(m==null)m=d=0;J=Math.log(J)/Math.log(2);J=Math.round(J);var x=new Uint32Array(h.buffer);
for(var T=0;T<v;T++)for(var j=0;j<e;j++){x[T*e+j]=B.amE(T+d,j+m,J)}};B.afr=function(T,h,e){return 255-((T>>>e)+(h>>>e)&1)*51};
B.amE=function(T,h,e){return 4294967295-((T>>>e)+(h>>>e)&1)*3355443};B.UY=function(h,e){var v=e==null?1:e/255;
return{n:(h>>>16&255)*v,i:(h>>>8&255)*v,b:(h&255)*v}};B.RP=function(h,e){var v=e==null?1:255/e;return Math.round(h.n*v)<<16|Math.round(h.i*v)<<8|Math.round(h.b*v)};
B.zF=function(h){var e=h.toString(16);while(e.length<6)e="0"+e;return e};B.aj9=function(h){return parseInt(h,16)};
B.qG=function(h){return.3*h.n+.59*h.i+.11*h.b};B.RI=function(h){return Math.max(h.n,h.i,h.b)-Math.min(h.n,h.i,h.b)};
B.Pr=function(h,e,v){return.3*h+.59*e+.11*v};B.afH=function(h,e,v){return Math.max(h,e,v)-Math.min(h,e,v)};
B.RA=function(h,e){var v=e-h,J=Math.abs(v),m=v-1,d=v+1;if(Math.abs(m)<J)v=m;else if(Math.abs(d)<J)v=d;
return v};B.sq=function(h){return h<.0031308?12.92*h:1.055*Math.pow(h,1/2.4)-.055};B.ps=function(h){return h<.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)};
B.aA$=function(h,e){var v=Math.min(h.length,e.length);for(var T=0;T<v;T+=4){var J=h[T],m=h[T+1],d=h[T+2];
e[T]=16+Math.floor(65.481/255*J+128.553/255*m+24.966/255*d+.5);e[T+1]=128-Math.floor(37.797/255*J-74.203/255*m+112/255*d+.5);
e[T+2]=128+Math.floor(112/255*J-93.786/255*m-18.214/255*d+.5);e[T+3]=h[T+3]}};B.auy=function(h,e,v){var J,m,d,x=Math.max(h,e,v),j=Math.min(h,e,v);
d=x;if(x!=0)m=(x-j)/x;else m=0;if(m==0)J=0;else{var E=x-j,L=(x-h)/E,p=(x-e)/E,Z=(x-v)/E;if(h==x)J=Z-p;
else if(e==x)J=2+L-Z;else J=4+p-L;J*=1/6;if(J<0)J=J+1}return{qw:J,eL:m,b:d}};B.aAP=function(h,e,v){var J=0,m=0,d=0;
if(e==0)J=m=d=v;else{var x=(h-Math.floor(h))*6,j=Math.floor(x),E=x-Math.floor(x),L=v*(1-e),p=v*(1-e*E),Z=v*(1-e*(1-E));
switch(j){case 0:J=v;m=Z;d=L;break;case 1:J=p;m=v;d=L;break;case 2:J=L;m=v;d=Z;break;case 3:J=L;m=p;
d=v;break;case 4:J=Z;m=L;d=v;break;case 5:J=v;m=L;d=p;break}}return{n:J,i:m,b:d}};B.kn=function(h,e,v){var J=Math.max(h,e,v),m=Math.min(h,e,v),d=0,x=0,j=(J+m)*.5;
if(J!=m){var E=J-m;x=j>.5?E/(2-(J+m)):E/(J+m);switch(J){case h:d=(e-v)/E+(e<v?6:0);break;case e:d=(v-h)/E+2;
break;case v:d=(h-e)/E+4;break}d*=1/6}return{qw:d,eL:x,cw:j}};B.aP=function(h,e,v){var J,m,d;if(e==0)J=m=d=v;
else{var x=v<.5?v*(1+e):v+e-v*e,j=2*v-x;J=B.l1(j,x,h+1/3);m=B.l1(j,x,h);d=B.l1(j,x,h-1/3)}return{n:J,i:m,b:d}};
B.l1=function(h,e,v){if(v<0)v+=1;if(v>1)v-=1;if(v<1/6)return h+(e-h)*6*v;if(v<1/2)return e;if(v<2/3)return h+(e-h)*(2/3-v)*6;
return h};B.vB=function(h,e,v){var J=Math.max(h,e,v),m=Math.min(h,e,v),d,x,j=J,E=J-m;x=J==0?0:E/J;if(J==m)d=0;
else{switch(J){case h:d=(e-v)/E+(e<v?6:0);break;case e:d=(v-h)/E+2;break;case v:d=(h-e)/E+4;break}d*=1/6}return{qw:d,eL:x,GL:j}};
B.Qh=function(h,e,v){var J,m,d,T,x,j,E,L;T=Math.floor(h*6);x=h*6-T;j=v*(1-e);E=v*(1-x*e);L=v*(1-(1-x)*e);
switch(T%6){case 0:J=v,m=L,d=j;break;case 1:J=E,m=v,d=j;break;case 2:J=j,m=v,d=L;break;case 3:J=j,m=E,d=v;
break;case 4:J=L,m=j,d=v;break;case 5:J=v,m=j,d=E;break}return{n:J,i:m,b:d}};B.HN=function(){var h=[],e=[];
for(var T=0;T<8e3;T++){var v=T*(1/4e3);h[T]=B.ps(v);e[T]=v>.008856?Math.pow(v,1/3):(903.3*v+16)*(1/116)}return[h,e]}();
B.Aj=function(h,e,v,J){if(J==null)J=[.9642,1,.8249];var m=B.HN[0],d=B.HN[1];h=m[~~(.5+h*(4e3/255))];
e=m[~~(.5+e*(4e3/255))];v=m[~~(.5+v*(4e3/255))];var x=B.$c.ak0,j=x[0]*h+x[1]*e+x[2]*v,E=x[4]*h+x[5]*e+x[6]*v,L=x[8]*h+x[9]*e+x[10]*v;
j=j*(1/J[0]);E=E*(1/J[1]);L=L*(1/J[2]);return B.a4B(j,E,L)};B.a4B=function(h,e,v){var J=B.HN[1],m=J[~~(.5+h*4e3)],d=J[~~(.5+e*4e3)],x=J[~~(.5+v*4e3)];
return{hO:116*d-16,DR:500*(m-d),b:200*(d-x)}};B.n3=function(h,e,v){var J=903.3,m=.008856,d=(h+16)/116,x=d*d*d,j=d-v/200,E=j*j*j,L=e/500+d,p=L*L*L,Z=E>m?E:(116*j-16)/J,o=x>m?x:(116*d-16)/J,u=p>m?p:(116*L-16)/J,N=u*96.42,M=o*100,O=Z*82.49,F=B.$c.QE(B.$c.eq,[N/100,M/100,O/100,0]);
for(var T=0;T<4;T++)F[T]=Math.max(0,Math.min(255,B.sq(F[T])*255));return{n:F[0],i:F[1],b:F[2]}};B.aDS=function(h,e,v,J,m){var d=h.hO,x=h.DR,j=h.b,E=(d<e.hO?e.hO-d:v.hO<d?v.hO-d:0)*(1/100),L=(x<e.DR?e.DR-x:v.DR<x?v.DR-x:0)*(1/116),p=(j<e.b?e.b-j:v.b<j?v.b-j:0)*(1/116),Z=Math.sqrt(E*E+L*L+p*p)*1.35;
return Z<=J?Math.min(1,1.17*(1-Z*m)):0};B.VG=function(h){var e=B._V("cmykToRgb"),v=e[2],J=e[3],m=[0,0,0,0];
ICC.U.applyLUT4Float(J,v,h,m);return m};B.asl=function(){var h=function(iW){return Math.round(iW*255)},e="",v=3;
for(var T=0;T<tab.length;T++){var J=h(tab[T]);if(v<=T)J=J-h(tab[T-v])+256&255;e+=J.toString(16).padStart(2,"0")}return e};
B._V=function(h){var e=LUTS["_"+h];if(e==null){var v=LUTS[h],J=v[0],iW=v[1],m=v[2],d=v[3],x=[];for(var T=0;
T<d.length;T+=2)x.push(parseInt(d.slice(T,T+2),16));for(var T=iW;T<x.length;T++)x[T]=x[T]+x[T-iW]&255;
for(var T=0;T<x.length;T++)x[T]*=1/255;e=LUTS["_"+h]=[J,iW,m,x]}return e};B.Wu=function(h){var e=B._V("rgbToCmyk"),v=e[2],J=e[3],m=[0,0,0,0];
ICC.U.applyLUT3to4Float(J,v,h,m);return m};B.asI=function(h){for(var T=0;T<h.length;T+=4){var e=[h[T+0]*(1/255),h[T+1]*(1/255),h[T+2]*(1/255)],v=B.Wu(e);
h[T+0]=255-Math.floor(.5+v[0]*255);h[T+1]=255-Math.floor(.5+v[1]*255);h[T+2]=255-Math.floor(.5+v[2]*255);
h[T+3]=255-Math.floor(.5+v[3]*255)}};B.hS=function(h,e,v){var J=h.length,m=.3,d=.59,x=.11;if(v){m=v[0];
d=v[1];x=v[2]}for(var T=0;T<J;T+=4)e[T>>2]=~~(h[T+0]*m+h[T+1]*d+h[T+2]*x+.5)};B.WS=function(h,e){var v=e.length;
for(var T=0;T<v;T+=4){var J=h[T>>>2];e[T]=J;e[T+1]=J;e[T+2]=J}};B.VT=function(h,e){if(B._H(h.DR)==8&&B._H(e)==8)B.ayD(h,e);
else for(var T=0;T<e.length;T+=4){var v=T>>>2;e[T]=h.n[v];e[T+1]=h.i[v];e[T+2]=h.b[v];e[T+3]=h.DR[v]}};
B.ayD=function(h,e){var v=h.DR,J=h.n,m=h.i,d=h.b,x=Math.min(h.DR.length,e.buffer.byteLength>>>2),j=4*Math.floor(x/4),E=new Uint32Array(e.buffer),L=new Uint32Array(v.buffer),p=new Uint32Array(J.buffer),Z=new Uint32Array(m.buffer),o=new Uint32Array(d.buffer);
for(var T=0;T<j;T+=4){var u=L[T>>2],N=o[T>>2],M=Z[T>>2],O=p[T>>2];E[T]=u<<24|(N&255)<<16|(M&255)<<8|O&255;
E[T+1]=(u&65280)<<16|(N&65280)<<8|M&65280|(O&65280)>>>8;E[T+2]=(u&16711680)<<8|N&16711680|(M&16711680)>>>8|(O&16711680)>>>16;
E[T+3]=u&4278190080|(N&4278190080)>>>8|(M&4278190080)>>>16|(O&4278190080)>>>24}for(var T=j;T<x;T++)E[T]=v[T]<<24|d[T]<<16|m[T]<<8|J[T]};
B.G3=function(h,e){var v=e.DR,J=e.n,m=e.i,d=e.b,x=Math.min(e.DR.length,h.buffer.byteLength>>>2),j=4*Math.floor(x/4),E=new Uint32Array(h.buffer),L=new Uint32Array(v.buffer),p=new Uint32Array(J.buffer),Z=new Uint32Array(m.buffer),o=new Uint32Array(d.buffer);
for(var T=0;T<j;T+=4){var u=E[T],N=E[T+1],M=E[T+2],O=E[T+3];p[T>>2]=u&255|(N&255)<<8|(M&255)<<16|O<<24;
Z[T>>2]=(u&65280)>>8|N&65280|(M&65280)<<8|(O&65280)<<16;o[T>>2]=(u&16711680)>>16|(N&16711680)>>8|M&16711680|(O&16711680)<<8;
L[T>>2]=u>>>24|N>>>24<<8|M>>>24<<16|O&4278190080}for(var T=j;T<x;T++){var F=E[T];J[T]=F>>0&255;m[T]=F>>8&255;
d[T]=F>>16&255;v[T]=F>>24&255}};B.Bq=function(h,e,v){var J=new Uint8Array(h.buffer),m=Math.min(J.length/4,e.length);
for(var T=0;T<m;T++){e[T]=J[(T<<2)+v]}};B.ar=function(h,e,v){var J=new Uint8Array(e.buffer),m=new Uint32Array(h.buffer),d=Math.min(J.length/4,h.length),T=0;
while(T+4<d){var x=m[T>>>2];J[(T<<2)+v]=x&255;J[(T<<2)+v+4]=x>>>8&255;J[(T<<2)+v+8]=x>>>16&255;J[(T<<2)+v+12]=x>>>24;
T+=4}while(T<d){J[(T<<2)+v]=h[T];T++}};B.yV=function(h,e,v){if(v==null)v=0;var J=new Uint32Array(h.buffer),m=J.length;
for(var T=0;T<m;T++)J[T]=J[T]&v|e};B.aDR=function(h,e,v,J,m){if(m==null)m=0;var d=new Uint32Array(h.buffer);
v=v.UP(e);var x=v.x-e.x,j=v.y-e.y,E=v.q,L=v._,p=e.q;for(var Z=0;Z<L;Z++){var T=(j+Z)*p+x;for(var o=0;
o<E;o++){d[T]=d[T]&m|J;T++}}};B.N7=function(h,e){var v=Math.min(h.buffer.byteLength,e.buffer.byteLength),J=v>>>2,h=new Uint32Array(h.buffer,0,J),e=new Uint32Array(e.buffer,0,J);
e.set(h)};B.lS=function(h,e){var v=h.buffer.byteLength,J=e.buffer.byteLength,m=new Uint32Array(h.buffer,0,v>>2),d=new Uint32Array(e.buffer,0,J>>2);
if(v!=J)return!1;var x=m.length;for(var T=0;T<x;T++)if(d[T]!=m[T])return!1;return!0};B.ia=function(h){var e=new Uint32Array(h.buffer),v=e.length;
for(var T=0;T<v;T++)e[T]=~e[T]};B.au6=function(h){var e=h.length;for(var T=0;T<e;T+=4){h[T]=~h[T];h[T+1]=~h[T+1];
h[T+2]=~h[T+2]}};B.ajO=function(h){var e=h.length;for(var T=3;T<e;T+=4)h[T]=~h[T]};B.a4X=function(h){return h+(h%4==0?0:4-h%4)};
B.U=function(h,e){if(e==null)e=8;var v=e==8?Uint8Array:e==16?Uint16Array:Float32Array;if(e==8)h=B.a4X(h);
if(e==16)h+=h&1;try{var J=new v(h)}catch(j3){alert("Not enough RAM! (need "+Math.round(h/(1<<20))+" MB)",7e3);
throw"low_ram"}return J};B.aEu=function(h){var e=h.Ei.q,v=h.Ei._,J=e*4,m=e*v,d=new Uint8Array(h.data),x=0,j=0;
for(var E=1;E<v;E++)for(var L=1;L<e;L++){var T=(E*e+L)*4;if(d[T-1]==0&&d[T+3]==0&&d[T-J+3]==0){j++;var p=d[T],Z=d[T+1],o=d[T+2],u=p-d[T-4],N=p-d[T-J],M=Z-d[T-3],O=Z-d[T-J+1],F=o-d[T-2],W=o-d[T-J+2];
if(u*u+M*M+F*F!=0&&N*N+O*O+W*W!=0)x++}}if(j/m>.01&&x/j>.05){var f=B.U(e*v);B.Bq(d,f,3);h.Ar=[f];for(var T=0;
T<d.length;T+=4)d[T+3]=255}};B.atW=function(h,e,v,J){if(J==null)J=0;var m=0;while(m+3<h.length&&h[m+3].$()>=J&&e.n$()*(1<<(m>>>1))<v)m+=2;
var d=h[1],x=h[m+1],j=new aJ;j.translate(-x.x,-x.y);j.scale(d.q/x.q,d._/x._);j.translate(d.x,d.y);j.concat(e);
return[m,j]};B.Nb=function(h){var e=h.length,v=h[e-2],J=h[e-1];while(J.q>=2&&J._>=2){var m=B.Uq(v,J);
h.push(m.su,m.R);v=m.su;J=m.R}};B.mU=function(h){var e=h.length,v=h[e-2],J=h[e-1];while(J.q>=2&&J._>=2){var m=B.Gf(v,J);
h.push(m.su,m.R);v=m.su;J=m.R}};B.Uq=function(h,e,v){var J=e.q,m=e._,d=J>>1,x=m>>1,j=new fP(e.x>>>1,e.y>>>1,d,x),E=v&&v.length==d*x*4?v:B.U(d*x*4),L=new Uint32Array(h.buffer),p=new Uint32Array(E.buffer);
for(var Z=0;Z<x;Z++)for(var o=0;o<d;o++){var u=Z*d+o,N=(Z<<1)*J+(o<<1),M=L[N],O=L[N+1],F=L[N+J],W=L[N+J+1],f=M>>>24,$=O>>>24,H=F>>>24,A=W>>>24,G=f+$+H+A;
if(G==1020){var l=(M>>>0&255)+(O>>>0&255)+(F>>>0&255)+(W>>>0&255)+2>>>2,K=(M>>>8&255)+(O>>>8&255)+(F>>>8&255)+(W>>>8&255)+2>>>2,U=(M>>>16&255)+(O>>>16&255)+(F>>>16&255)+(W>>>16&255)+2>>>2;
p[u]=255<<24|U<<16|K<<8|l}else if(G==0)p[u]=0;else{var l=(M>>>0&255)*f+(O>>>0&255)*$+(F>>>0&255)*H+(W>>>0&255)*A,K=(M>>>8&255)*f+(O>>>8&255)*$+(F>>>8&255)*H+(W>>>8&255)*A,U=(M>>>16&255)*f+(O>>>16&255)*$+(F>>>16&255)*H+(W>>>16&255)*A,z=1/G;
l=~~(l*z+.5);K=~~(K*z+.5);U=~~(U*z+.5);p[u]=G+2>>>2<<24|U<<16|K<<8|l}}return{R:j,su:E}};B.ap7=function(h,e,v){var J=e.q,m=e._,d=J>>1,x=m>>1,j=new fP(e.x,e.y,d,x),E=v&&v.length==d*x*4?v:B.U(d*x*4),L=new Uint32Array(h.buffer),p=new Uint32Array(E.buffer);
for(var Z=0;Z<x;Z++)for(var o=0;o<d;o++){var u=Z*d+o,N=(Z<<1)*J+(o<<1),M=L[N],O=L[N+1],F=L[N+J],W=L[N+J+1],f=2+(M>>>0&255)+(O>>>0&255)+(F>>>0&255)+(W>>>0&255)>>>2,$=2+(M>>>8&255)+(O>>>8&255)+(F>>>8&255)+(W>>>8&255)>>>2,H=2+(M>>>16&255)+(O>>>16&255)+(F>>>16&255)+(W>>>16&255)>>>2,A=2+(M>>>24&255)+(O>>>24&255)+(F>>>24&255)+(W>>>24&255)>>>2;
p[u]=A<<24|H<<16|$<<8|f}return{R:j,su:E}};B.aso=function(h,e,v){var J=e.q,m=e._,d=2*Math.floor(J/3),x=2*Math.floor(m/3),j=new fP(e.x,e.y,d,x),E=v&&v.length==d*x*4?v:B.U(d*x*4),L=new Uint32Array(h.buffer),p=new Uint32Array(E.buffer);
for(var Z=0;Z<x;Z+=2)for(var o=0;o<d;o+=2){var u=Z*d+o,N=(Z*3>>>1)*J+(o*3>>>1),M=L[N],O=L[N+1],F=L[N+2],W=L[N+J],f=L[N+1+J],$=L[N+2+J],H=L[N+J+J],A=L[N+1+J+J],G=L[N+2+J+J],l=M>>>24<<2,K=(M>>>16&255)*l,U=(M>>>8&255)*l,z=(M&255)*l,q=O>>>24<<1,P=(O>>>16&255)*q,g=(O>>>8&255)*q,a=(O&255)*q,w=F>>>24<<2,y=(F>>>16&255)*w,S=(F>>>8&255)*w,i=(F&255)*w,C=W>>>24<<1,Y=(W>>>16&255)*C,_=(W>>>8&255)*C,t=(W&255)*C,I=f>>>24,r=(f>>>16&255)*I,n=(f>>>8&255)*I,Q=(f&255)*I,D=$>>>24<<1,dG=($>>>16&255)*D,R=($>>>8&255)*D,X=($&255)*D,dx=H>>>24<<2,jv=(H>>>16&255)*dx,gB=(H>>>8&255)*dx,hQ=(H&255)*dx,ah=A>>>24<<1,kG=(A>>>16&255)*ah,iZ=(A>>>8&255)*ah,bs=(A&255)*ah,ey=G>>>24<<2,jp=(G>>>16&255)*ey,eh=(G>>>8&255)*ey,dt=(G&255)*ey,jN=l+q+C+I,jX=w+q+D+I,jw=dx+ah+C+I,i7=ey+ah+D+I,kn=jN==0?0:1/jN,eK=jX==0?0:1/jX,ee=jw==0?0:1/jw,az=i7==0?0:1/i7,k7=0,al=0,kl=0,b9=0;
k7=~~(.5+(z+a+t+Q)*kn);al=~~(.5+(U+g+_+n)*kn);kl=~~(.5+(K+P+Y+r)*kn);b9=~~(.5+jN*(1/9));p[u]=b9<<24|kl<<16|al<<8|k7;
k7=~~(.5+(i+a+X+Q)*eK);al=~~(.5+(S+g+R+n)*eK);kl=~~(.5+(y+P+dG+r)*eK);b9=~~(.5+jX*(1/9));p[u+1]=b9<<24|kl<<16|al<<8|k7;
k7=~~(.5+(hQ+bs+t+Q)*ee);al=~~(.5+(gB+iZ+_+n)*ee);kl=~~(.5+(jv+kG+Y+r)*ee);b9=~~(.5+jw*(1/9));p[u+d]=b9<<24|kl<<16|al<<8|k7;
k7=~~(.5+(dt+bs+X+Q)*az);al=~~(.5+(eh+iZ+R+n)*az);kl=~~(.5+(jp+kG+dG+r)*az);b9=~~(.5+i7*(1/9));p[u+d+1]=b9<<24|kl<<16|al<<8|k7}return{R:j,su:E}};
B.aA1=function(h,e,v){var J=e.q,m=e._,d=2*Math.floor(J/3),x=2*Math.floor(m/3),j=new fP(e.x,e.y,d,x),E=v&&v.length==d*x*4?v:B.U(d*x*4),L=new Uint32Array(h.buffer),p=new Uint32Array(E.buffer);
for(var Z=0;Z<x;Z+=2)for(var o=0;o<d;o+=2){var u=Z*d+o,N=(Z*3>>>1)*J+(o*3>>>1),M=L[N],O=L[N+1],F=L[N+2],W=L[N+J],f=L[N+1+J],$=L[N+2+J],H=L[N+J+J],A=L[N+1+J+J],G=L[N+2+J+J],l=(M>>>16&255)<<2,K=(M>>>8&255)<<2,U=(M&255)<<2,z=(O>>>16&255)<<1,q=(O>>>8&255)<<1,P=(O&255)<<1,g=(F>>>16&255)<<2,a=(F>>>8&255)<<2,w=(F&255)<<2,y=(W>>>16&255)<<1,S=(W>>>8&255)<<1,i=(W&255)<<1,C=f>>>16&255,Y=f>>>8&255,_=f&255,t=($>>>16&255)<<1,I=($>>>8&255)<<1,r=($&255)<<1,n=(H>>>16&255)<<2,Q=(H>>>8&255)<<2,D=(H&255)<<2,dG=(A>>>16&255)<<1,R=(A>>>8&255)<<1,X=(A&255)<<1,dx=(G>>>16&255)<<2,jv=(G>>>8&255)<<2,gB=(G&255)<<2,hQ=0,ah=0,kG=0;
hQ=~~(.5+(U+P+i+_)*(1/9));ah=~~(.5+(K+q+S+Y)*(1/9));kG=~~(.5+(l+z+y+C)*(1/9));p[u]=255<<24|kG<<16|ah<<8|hQ;
hQ=~~(.5+(w+P+r+_)*(1/9));ah=~~(.5+(a+q+I+Y)*(1/9));kG=~~(.5+(g+z+t+C)*(1/9));p[u+1]=255<<24|kG<<16|ah<<8|hQ;
hQ=~~(.5+(D+X+i+_)*(1/9));ah=~~(.5+(Q+R+S+Y)*(1/9));kG=~~(.5+(n+dG+y+C)*(1/9));p[u+d]=255<<24|kG<<16|ah<<8|hQ;
hQ=~~(.5+(gB+X+r+_)*(1/9));ah=~~(.5+(jv+R+I+Y)*(1/9));kG=~~(.5+(dx+dG+t+C)*(1/9));p[u+d+1]=255<<24|kG<<16|ah<<8|hQ}return{R:j,su:E}};
B.kx=function(h){var e=255,v=h.length;v-=v&31;for(var T=3;T<v;T+=32)e=e&h[T]&h[T+4]&h[T+8]&h[T+12]&h[T+16]&h[T+20]&h[T+24]&h[T+28];
return e!=255};B.P2=function(h,e,v,J){var m=B.Uq,d=B.aso;if(!B.kx(h)){m=B.ap7;d=B.aA1}var x={su:h,R:e},j=B.vP(v);
for(var T=0;T<j.length;T++){if(j[T]==2)x=m(x.su,x.R,J);else x=d(x.su,x.R,J)}return x};B.ajU=function(h,e,v,J){var m=B.Gf,d=B.auC,x={su:h,R:e},j=B.vP(v);
for(var T=0;T<j.length;T++){if(j[T]==2)x=m(x.su,x.R,J);else x=d(x.su,x.R,J)}return x};B.vP=function(h){var e=[],v=h;
while(v<.499){e.push(2);v*=2}e.push(v<.5001?2:3);return e};B.Gf=function(h,e,v){var J=e.q,m=e._,d=J>>1,x=m>>1,j=new fP(e.x,e.y,d,x);
if(h==null)return{R:j};var E=v&&v.length>=d*x?v:B.U(d*x);for(var L=0;L<x;L++){var p=L*d;for(var Z=0;
Z<d;Z++){var o=(L<<1)*J+(Z<<1);E[p+Z]=2+h[o]+h[o+1]+h[o+J]+h[o+J+1]>>>2}}return{R:j,su:E}};B.auC=function(h,e,v){var J=e.q,m=e._,d=2*Math.floor(J/3),x=2*Math.floor(m/3),j=new fP(e.x,e.y,d,x);
if(h==null)return{R:j};var E=v&&v.length>=d*x?v:B.U(d*x);for(var L=0;L<x;L+=2)for(var p=0;p<d;p+=2){var Z=L*d+p,o=(L*3>>>1)*J+(p*3>>>1),u=h[o]<<2,N=h[o+1]<<1,M=h[o+2]<<2,O=h[o+J]<<1,F=h[o+1+J],W=h[o+2+J]<<1,f=h[o+J+J]<<2,$=h[o+1+J+J]<<1,H=h[o+2+J+J]<<2;
E[Z]=~~(.5+(u+N+O+F)*(1/9));E[Z+1]=~~(.5+(M+N+W+F)*(1/9));E[Z+d]=~~(.5+(f+$+O+F)*(1/9));E[Z+d+1]=~~(.5+(H+$+W+F)*(1/9))}return{R:j,su:E}};
B.arM=function(h,e,v,J,m){var d=e.UP(J);if(m)d=d.UP(m);var x=Math.max(0,d.x-e.x),j=Math.max(0,d.x-J.x),E=Math.max(0,d.y-e.y),L=Math.max(0,d.y-J.y),p=d.q,Z=d._;
for(var T=0;T<Z;T++){var o=(E+T)*e.q+x,u=(L+T)*J.q+j;for(var N=0;N<p;N++){v[u+N]=Math.max(v[u+N],h[o+N])}}};
B.Ww=function(h,e,v,J,m){var d=e.UP(J);if(m)d=d.UP(m);var x=Math.max(0,d.x-e.x),j=Math.max(0,d.x-J.x),E=Math.max(0,d.y-e.y),L=Math.max(0,d.y-J.y),p=d.q,Z=d._;
for(var T=0;T<Z;T++){var o=(E+T)*e.q+x,u=(L+T)*J.q+j;v.set(new Uint8Array(h.buffer,o,p),u)}};B.a6h=function(h,e,v,J){if(e.lS(J)){B.ar(h,v,3);
return}var m=e.UP(J),d=Math.max(0,m.x-e.x),x=Math.max(0,m.x-J.x),j=Math.max(0,m.y-e.y),E=Math.max(0,m.y-J.y),L=m.q,p=m._;
for(var T=0;T<p;T++){var Z=(j+T)*e.q+d,o=(E+T)*J.q+x;for(var u=0;u<L;u++)v[(o+u<<2)+3]=h[Z+u]}};B.Si=function(h,e,v,J){var m=e.UP(J),d=Math.max(0,m.x-e.x),x=Math.max(0,m.x-J.x),j=Math.max(0,m.y-e.y),E=Math.max(0,m.y-J.y),L=m.q,p=m._;
for(var T=0;T<p;T++){var Z=(j+T)*e.q+d,o=(E+T)*J.q+x;for(var u=0;u<L;u++)v[o+u]=h[(Z+u<<2)+3]}};B.YZ=function(h,e,v,J,m){if(e.lS(J)&&(m==null||m.lS(J))){B.N7(h,v);
return}h=new Uint32Array(h.buffer),v=new Uint32Array(v.buffer);var d=e.UP(J);if(m)d=d.UP(m);var x=Math.max(0,d.x-e.x),j=Math.max(0,d.x-J.x),E=Math.max(0,d.y-e.y),L=Math.max(0,d.y-J.y),p=d.q,Z=d._,o=p&3,u=o==0?p:p-o;
for(var T=0;T<Z;T++){var N=(E+T)*e.q+x,M=(L+T)*J.q+j;v.set(new Uint32Array(h.buffer,N*4,p),M)}};B.LA=function(h,e,v,J){var m=e.UP(J),d=Math.max(0,m.x-e.x),x=Math.max(0,m.x-J.x),j=Math.max(0,m.y-e.y),E=Math.max(0,m.y-J.y),L=m.q,p=m._,Z=h.DR,o=h.n,u=h.i,N=h.b,M=v.DR,O=v.n,F=v.i,W=v.b;
for(var T=0;T<p;T++){var f=(j+T)*e.q+d,$=(E+T)*J.q+x;for(var H=0;H<L;H++){M[$+H]=Z[f+H];O[$+H]=o[f+H];
F[$+H]=u[f+H];W[$+H]=N[f+H]}}};B.kj=function(h){var e=h.length;for(var T=0;T<e;T+=4){var v=h[T+3];if(v==255)continue;
h[T]=~~(h[T]*v*(1/255)+.5);h[T+1]=~~(h[T+1]*v*(1/255)+.5);h[T+2]=~~(h[T+2]*v*(1/255)+.5)}};B.Az=function(h){var e=h.length;
for(var T=0;T<e;T+=4){var v=h[T+3];if(v==0||v==255)continue;var J=255/v;h[T]=~~(h[T]*J+.5);h[T+1]=~~(h[T+1]*J+.5);
h[T+2]=~~(h[T+2]*J+.5)}};B.dh=function(h,e){for(var T=0;T<h.length;T++)if(h[T]!=e)return!1;return!0};
B.c1=function(h){return h+1+(h>>>8)>>>8};B.round=function(h,e){if(e==null)e=128;var v=h.length;for(var T=0;
T<v;T++)h[T]=h[T]<e?0:255};B.Co=function(h,e){var v=h.length;for(var T=0;T<v;T++)h[T]=Math.round(h[T]*e)};
B.OE=function(h,e){var v=new Uint32Array(h.buffer),J=new Uint32Array(e.buffer),m=v.length;for(var T=0;
T<m;T++){var d=v[T],x=J[T];J[T]=B.c1((d>>>24)*(x>>>24))<<24|B.c1((d>>>16&255)*(x>>>16&255))<<16|B.c1((d>>>8&255)*(x>>>8&255))<<8|B.c1((d&255)*(x&255))}};
B.yr=function(h,e){var v=h.length;for(var T=0;T<v;T++)e[(T<<2)+3]=B.c1(e[(T<<2)+3]*h[T])};B.ab9=function(h,e,v,J){var m=Math.max(0,J.x-e.x),d=Math.max(0,e.x-J.x),x=Math.max(0,J.y-e.y),j=Math.max(0,e.y-J.y),E=Math.min(e.x+e.q,J.x+J.q)-Math.max(e.x,J.x),L=Math.min(e.y+e._,J.y+J._)-Math.max(e.y,J.y);
for(var T=0;T<L;T++){var p=(x+T)*e.q+m,Z=(j+T)*J.q+d;for(var o=0;o<E;o++){v[Z]=B.c1(v[Z]*h[p]);p++;Z++}}};
B.L_=function(h,e,v,J){var m=Math.max(0,J.x-e.x),d=Math.max(0,e.x-J.x),x=Math.max(0,J.y-e.y),j=Math.max(0,e.y-J.y),E=Math.min(e.x+e.q,J.x+J.q)-Math.max(e.x,J.x),L=Math.min(e.y+e._,J.y+J._)-Math.max(e.y,J.y);
for(var T=0;T<L;T++){var p=(x+T)*e.q+m,Z=((j+T)*J.q+d<<2)+3;for(var o=0;o<E;o++){v[Z]=B.c1(v[Z]*h[p]);
p++;Z+=4}}};B.yP=function(h,e,v,J){var m=Math.max(0,J.x-e.x),d=Math.max(0,e.x-J.x),x=Math.max(0,J.y-e.y),j=Math.max(0,e.y-J.y),E=Math.min(e.x+e.q,J.x+J.q)-Math.max(e.x,J.x),L=Math.min(e.y+e._,J.y+J._)-Math.max(e.y,J.y);
for(var T=0;T<L;T++){var p=((x+T)*e.q+m<<2)+3,Z=((j+T)*J.q+d<<2)+3;for(var o=0;o<E;o++){v[Z]=B.c1(v[Z]*h[p]);
p+=4;Z+=4}}};B.AH=function(h,e){if(e==null)e=1;var v=4*e,J=h.length>>>2,m=new Float64Array(256),d=new Float64Array(256),x=new Float64Array(256),j=new Float64Array(256),E=4*Math.floor(J/e)*e,L=0;
for(var T=0;T<E;T+=v){var p=h[T+0],Z=h[T+1],o=h[T+2],u=h[T+3]*e,N=u*(1/255);d[p]+=N;x[Z]+=N;j[o]+=N;
L+=u}for(var T=0;T<256;T++)m[T]=d[T]+x[T]+j[T];return[m,d,x,j,J,L/255]};B.a2T=function(h,e){function v(A,G){var l=-1,K=0;
while(K<=G){l++;K+=A[l]}return l}function J(A,G){var l=256,K=0;while(K<=G){l--;K+=A[l]}return l}function m(A){var G=0,l=0;
for(var T=0;T<256;T++){l+=A[T];G+=A[T]*T*(1/255)}return G/l}var d=h[0],x=h[1]/100,j=h[2]/100,E=[],L=[];
for(var T=0;T<4;T++){var p=T==0?3:1;E[T]=v(e[T],p*x*e[5]);L[T]=J(e[T],p*j*e[5])}var Z=[m(e[1]),m(e[2]),m(e[3])],o=Z.slice(0);
o.sort(function(A,G){return A-G});var u=Z.indexOf(o[1]),N=(Z[0]+Z[1]+Z[2])/3,M=[];for(var T=0;T<4;T++){var O=0,F=255,W=E[T],f=L[T];
if(d==0&&T==0){O=W;F=f}if(d==1&&T!=0){O=W;F=f}if(d==2&&T!=0){var p=Z[T-1]/N;F=Math.max(0,Math.min(255,L[u]*p))}var $=[O,F];
M.push($);if(d==3&&T==0){var H=255*(1-N);$.push(H)}}return M};B.aA_=function(h,e){var v=new Uint32Array(h.buffer),J=v.length;
for(var T=0;T<J;T++){var m=v[T],d=m&255,x=m>>8&255,j=m>>16&255,E=m>>24&255;v[T]=e[d]|e[x]<<8|e[j]<<16|e[E]<<24}};
B.a1Y=function(h,e,v,J,m,d,x){var j=new Uint32Array(h.buffer),E=new Uint32Array(e.buffer),L=j.length,p=0;
while(256<<p<v.length)p++;if(!x&&!d){for(var T=0;T!=L;T++){var Z=j[T],o=(Z&255)<<p,u=(Z>>>8&255)<<p,N=(Z>>>16&255)<<p,M=v[o],O=J[u],F=m[N];
E[T]=M|O<<8|F<<16|Z&4278190080}return}for(var T=0;T<L;T++){var Z=j[T],o=(Z&255)<<p,u=(Z>>>8&255)<<p,N=(Z>>>16&255)<<p;
if(d)o=u=N=Math.round(o*.3+u*.59+N*.11);var M=v[o],O=J[u],F=m[N];if(x){var W=B.Pr(o,u,N),f=B.Pr(M,O,F);
if(W>f){var $=(W-f)/(255-f);M+=$*(255-M);O+=$*(255-O);F+=$*(255-F)}else if(f==0)M=O=F=0;else{var $=W/f;
M=$*M;O=$*O;F=$*F}}E[T]=M|O<<8|F<<16|Z&4278190080}};B.sH=function(h,e){var v=e.q,J=e._,top=0,m=0,d=0,x=0,j=0;
j=0;for(var E=0;E<J;E++){var L=E*v;for(var T=0;T<v;T++)j|=h[L+T];if(j!=0)break;top++}if(top==J)return new fP(0,0,0,0);
j=0;for(var E=J-1;E>=0;E--){var L=E*v;for(var T=0;T<v;T++)j|=h[L+T];if(j!=0)break;d++}var p=J-d;j=0;
for(var T=0;T<v;T++){for(var E=top;E<p;E++)j|=h[E*v+T];if(j!=0)break;m++}j=0;for(var T=v-1;T>=0;T--){for(var E=top;
E<p;E++)j|=h[E*v+T];if(j!=0)break;x++}var Z=new fP(e.x+m,e.y+top,v-m-x,J-top-d);return Z};B.vJ=function(h,e,v,J,m){if(J==null)J=[!0,!0,!0,!0];
if(v==null)v=0;if(m==null)m=4294967295;var d=new Uint32Array(h.buffer),x=e.q,j=e._,top=0,E=0,L=0,p=0,Z=!1,o=[d[0],d[d.length-1],0][v];
Z=!1;if(J[0])for(var u=0;u<j;u++){var N=u*x;for(var T=0;T<x;T++)if(d[N+T]&m^o)Z=!0;if(Z)break;top++}Z=!1;
if(J[2])for(var u=j-1;u>=0;u--){var N=u*x;for(var T=0;T<x;T++)if(d[N+T]&m^o)Z=!0;if(Z)break;L++}Z=!1;
if(J[1])for(var T=0;T<x;T++){for(var u=0;u<j;u++)if(d[u*x+T]&m^o)Z=!0;if(Z)break;E++}Z=!1;if(J[3])for(var T=x-1;
T>=0;T--){for(var u=0;u<j;u++)if(d[u*x+T]&m^o)Z=!0;if(Z)break;p++}var M=new fP(e.x+E,e.y+top,x-E-p,j-top-L);
return M.EG()?new fP(0,0,0,0):M};B.pE=function(h){var e=B.sH(h.G,h.R);if(e.lS(h.R))return;var v=B.U(e.$());
B.Ww(h.G,h.R,v,e);h.G=v;h.R=e};B.ZI=function(h,e){var v=B.vJ(h.buffer,h.R,2,null,e?null:4278190080);
if(v.lS(h.R))return;var J=new B.U(v.$()*4);B.YZ(h.buffer,h.R,J,v);h.buffer=J;h.R=v};B.extend=function(h,e,v){if(h.R.xB(e))return;
var J=h.R.R$(e),m=B.U(J.$());if(v!=null)m.fill(v);B.Ww(h.G,h.R,m,J);h.R=J;h.G=m};B.aqD=function(h,e){if(e.EG()||h.R.xB(e))return;
var v=h.R.R$(e),J=B.U(v.$()*4);B.YZ(h.buffer,h.R,J,v);h.R=v;h.buffer=J};B.v0=function(h,e,v){if(!v.GX(h))return!1;
var J=Math.floor(h.x)-v.x,m=Math.floor(h.y)-v.y,T=m*v.q+J;return e[T]>128};B.az4=function(h,e,v){if(!v.GX(h))return!1;
var J=Math.floor(h.x)-v.x,m=Math.floor(h.y)-v.y,T=m*v.q+J;return e[4*T+3]>128};B.RE=function(h){if(B.ti.length<h){B.ti=B.U(h);
B.ti.fill(255)}return B.ti};B.ti=B.U(0);B.ML=function(h){if(B.So.length<h)B.So=B.U(h);return B.So};B.So=B.U(0);
B.Em=function(h){this.DR=B.U(h);this.n=B.U(h);this.i=B.U(h);this.b=B.U(h)};B.Em.prototype.O=function(){var h=this.DR.length,e=new B.Em(1);
e.DR=this.DR.slice(0);e.n=this.n.slice(0);e.i=this.i.slice(0);e.b=this.b.slice(0);return e};B.W.aGM=function(h,e,v,J,m){var d=m[0]+1,x=m[1],j=Math.abs(x-25)/4,E=m[2],L=E%2+E*E>>1,p=B.W.F;
p.j1(e,v);var Z=p.jw(1),o=p.jw(1),u=p.jw(1);p.EO(h,J,E,E,L);p.NF(J);p.Hv(J,Z);p.Ss(Z,o,d,d,1);p.Ss(Z,u,d,d,d*d);
p.sub(u,o);p.OE(o,j);(x<25?p.sub:p.add)(Z,o);p.oW(o,J);p.d7(J)};B.W.aeS=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=m[0]*2.55,j=m[1],E=j>>1,L=m[2]*.25,p=d.jw(4),Z=d.jw(1),o=d.jw(1);d.pR(h,p,j,1,!0,E);
d.pR(h,J,j,1,!1,E);d.WJ(h,Z);d.DO(Z,x);d.M3(Z,o,3);d.ld(J,o,p);d.Oc(p,J,L)};B.W.a6E=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);d.nw(m[3]);var x=m[0]*-3+80,j=m[1]*-3+80,E=m[2]/2+.5,L=m[4],p=m[5],Z=d.jw(1),o=d.jw(1),u=d.jw(1),N=d.jw(1),M=d.jw(4),O=d.jw(4);
d.WJ(h,Z);d.N7(Z,o);d.qj(Z,j,5);d.azg(Z,.4,0);d.M3(Z,u,3);d.py(u,Z,9,3,!0,27);d.N7(o,u);d.ia(u);var F=d.nK(x,5,u);
for(var T=0;T<d.T7;T++){o[T]=F[255-o[T]]}d.azg(o,.4,0);d.N7(o,u);d.M3(u,N,2);d.py(N,u,5,3,!1,15);d.OE(Z,E);
d.OE(u,E);d.y_(J,2155905279);d.y_(O,L);d.y_(M,p);d.ld(O,Z,J);d.ld(M,u,J)};B.W.a35=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=new Uint8Array(256),j=5+10*m[1];j+=m[1]>3?(m[1]-3)*10:0;var E=~~(m[2]*.73)+50,L=Math.min(E+j,128),p=L-E,Z=-255*E;
for(var T=0;T<256;T++){var o=T*65;x[T]=d.Da(Z/p);Z+=255}var u=d.jw(1),N=d.jw(1),M=d.jw(1);d.WJ(h,u);
d.N7(u,M);d.M3(u,N,2*m[0]+1);d.sub(N,u);d.OE(u,65);d.py(u,N,9,3,!0,20);for(var T=0;T<d.T7;T++){var O=M[T],F=N[T];
u[T]=F>0?~~((F*O+(255-F)*128)/255):128}d.M3(u,N,3);d.py(N,u,15,2,!0,16);d.py(N,M,15,2,!1,15);d.Nq(u,M);
d.Pv(M,N,2);d.oe(N,x);d.M3(N,u,2);d.YP(u,J)};B.W.azL=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=2*m[0]+1,j=d.agA[m[1]],E=m[2]*5.1,L=m[3],p=d.jw(1),Z=d.jw(1),o=d.jw(4),u=d.jw(4);
d.y_(o,L);d.NF(o,J);d.aj_(p,E);d.oW(p,J);d.d7(J,o);d.WJ(h,Z);d.M3(Z,p,x);d.sub(p,Z);d.OE(Z,j);d.py(Z,p,9,3,!0,20);
d.ld(h,p,o);d.Re(o,J,3);d.pR(J,o,15,2,!0,16);d.pR(J,u,15,2,!1,16);d.Nq(o,u);d.Oc(u,J,2)};B.W.aB5=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=(15-m[0])/4+1,j=(15-m[1])/4+1,E=m[2],L=m[3],p=d.l0(m[4]),Z=m[5]+1,o=m[6],u=m[7],N=m[8],M=d.jw(1),O=d.jw(1),F=d.jw(1),W=d.jw(1),f=d.jw(4),$=d.jw(4);
d.Cl(F,E,L,o);d.WJ(h,O);d.M3(O,M,5);d.CA(F,M,W,Z,p);d.OE(W,x);d.zK(W,2);d.ia(M);d.CA(F,M,O,Z,p);d.OE(O,j);
d.zK(O,2);d.y_(f,2155905279);d.y_($,u);d.y_(J,N);d.ld(f,O,$);d.ld($,W,J)};B.W.aky=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);d.nw(m[3]);var x=m[0],j=m[1]/10,E=m[2]/10,L=d.jw(1),p=d.jw(1),Z=d.jw(1),o=d.Jc(),u=d.Jc(),N=d.Jc();
d.RC(L);d.M3(L,p,11);d.M3(p,L,11);d.w8(L,o);d.Eo(h,L);d.N7(L,Z);d.M3(L,p,9);d.M3(p,L,9);d.w8(L,u);d.YN(u,N,5);
d.YN(N,u,5);d.adp(o,.8);d.atj(o,u,.8,.9);d.aAF(u,L,x);d.Ss(L,p,2,2,1);d.Ss(p,L,2,2,3);d.Ss(L,p,2,2,3);
d.Ss(Z,L,5,5,13);d.mz(p,L,p,j);d.IX(L,p,p,E);d.CA(p,p,L,5,1);d.NF(h,J);d.oW(L,J);d.d7(J)};B.W.azp=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=m[0],j=m[1]/2,E=m[2],L=x/2,p=d.jw(4),Z=d.jw(4);d.N7(h,J);for(var o=0;o<E;o++){d.pR(J,p,x,1,!0,L);
d.pR(J,Z,x,1,!1,L);d.Nq(Z,p);d.Re(p,Z,2);d.Oc(Z,J,j)}};B.W.abM=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);
var x=m[0]*10,j=m[1]*4.9,E=m[2]*4.9,L=d.jw(1),p=d.jw(1),Z=d.jw(4),o=d.jw(4);d.WJ(h,L);d.DO(L,d.a0V(L,x));
d.M3(L,p,3);d.pR(h,Z,5,1,!1,1);d.pR(h,J,15,2,!0,16);d.ld(J,p,Z);d.NF(Z,J);d.Hv(J,L);d.qj(L,j,E);d.oW(L,J);
d.d7(J)};B.W.azb=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[4]);var x=m[0]/20,j=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][m[1]],E=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][m[2]],L=m[3],p=new Int16Array(256);
for(var T=0;T<256;T++){p[T]=~~((T-128)*x)}var Z=d.jw(1),o=d.jw(1),u=d.jw(4);d.WJ(h,Z);d.M3(Z,o,25);d.OE(o,j);
d.zK(o,E);d.M3(o,Z,25);d.RC(o);d.aFC(Z,o,p);d.N7(h,J);d.y_(u,L);d.ld(u,Z,J)};B.W.a3a=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=m[0]+5,j=15-m[1],E=x*x/2,L=1-(3-m[2])/10,p=~~(j*j*L-1),Z=~~(j*j*(1-L));if(Z==0)Z=1;var o=d.jw(1),u=d.jw(1),N=d.jw(1),M=d.jw(4);
d.WJ(h,N);d.Ss(N,o,x,x,E);d.M3(N,u,x);d.sub(o,u);d.DO(u,1);d.EO(h,M,j,j,p);d.EO(h,J,j,j,Z);d.ld(M,u,J)};
B.W.avU=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[3]);var x=(20-m[0])*.05,j=m[1]*-2.75+60,E=65-j,L=m[2]/10,p=d.jw(1),Z=d.jw(1);
d.Eo(h,Z);var o=d.nK(j,E,Z);d.NF(h,J);d.Hv(J,Z);d.RC(p);d.sX(Z,p,x);d.oe(Z,o);d.OE(Z,m[2]/10);d.add(p,Z);
d.oW(Z,J);d.d7(J)};B.W.aH$=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=5+m[0],j=15-m[1],E=m[2],L=x*x/2+x*x%2*1,p=1-(3-m[2])/10,Z=~~(j*j*p-1),o=~~(j*j*(1-p));
if(o==0)o=1;var u=d.jw(1),N=d.jw(1),M=d.jw(1),O=d.jw(1),F=d.jw(1);d.Eo(h,N);d.Pv(N,u,3);d.Ss(u,N,2,2,1);
var W=d.nK(20,20,N);d.oe(N,W);d.M3(N,F,5);d.Ss(F,u,x,x,L);d.Ss(F,N,j,j,Z);d.Ss(F,M,j,j,o);d.M3(F,O,x);
d.sub(u,O);d.DO(O,1);d.asS(N,O,M);d.NF(h,J);d.oW(M,J);d.d7(J)};B.W.axP=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);d.nw(m[5]);var x=d.T7,j=d.Sy,E=m[0],L=m[1],p=m[2],Z=m[3],o=m[4],u=.05*E+1,N=E/100,M=E>>1,O=2*E-100,F=+(L==9),W=+(L==7),f=[4,1][F],$=[3,2][F],H=[1,2][W],A=[2,1][W],G=[50,75][F],l=L<4?p:(p>>1)+50,K=d.aGe(G,l),U=d.u5(Z),z=d.u5(o),q=d.jw(4),P=d.jw(4),g=d.jw(1),a=d.jw(1);
function w(J,K){if(l!=50){d.aaB(J,K)}}function y(h,R){for(var T=0;T<x;T++){h[T]=d.Da(h[T]+(R[T]-128)*N)}}function S(h,R){for(var T=0,X=0;
T<x;T++){h[X]=d.Da(h[X]+(R[X]-128)*N);h[X+1]=d.Da(h[X+1]+(R[X+1]-128)*N);h[X+2]=d.Da(h[X+2]+(R[X+2]-128)*N);
X+=4}}function i(h,J){d.RC(P);d.N7(h,J);S(J,P);w(J,K)}function C(R){var X=0;for(var dx=0;dx<12;dx++)X+=d.random();
return d.Da(M*(X-6)+R)}function Y(h,J){d.N7(h,J);for(var T=0;T<j;T+=4){J[T]=C(J[T]);J[T+1]=C(J[T+1]);
J[T+2]=C(J[T+2])}w(J,K)}function _(h,J){d.N7(h,J);for(var T=0;T<j;T+=4){if(d.random()<N){J[T]=U[0];J[T+1]=U[1];
J[T+2]=U[2]}}w(J,K)}function t(h,J){d.RC(q);d.EO(q,P,$,$,f);d.N7(h,q);S(q,P);d.EO(q,J,5,5,13);w(J,K)}function I(h,J){d.RC(P);
d.N7(h,q);S(q,P);w(J,K);d.EO(q,J,$,$,f)}function r(h,J){d.N7(h,q);w(J,K);d.WJ(q,g);for(var T=0,R=0;T<x;
T++){var X=((O-g[T]+255)*128.5+.5)/32767;if(d.random()<=X){J[R++]=z[0];J[R++]=z[1];J[R++]=z[2]}else{J[R++]=U[0];
J[R++]=U[1];J[R++]=U[2]}J[R]=h[R];R++}}function n(h,J){d.NF(h,J);d.Hv(J,g);d.Pv(g,a,u);d.Ss(a,g,$,$,f);
d.oe(g,K);d.oW(g,J);d.d7(J)}function D(h){var R=0;if(L==8){for(var X=0;X<e;X++){h[R++]=~~(d.random()*255)}for(var T=1;
T<v;T++){for(var X=0;X<e;X++){h[R++]=h[X]}}}else{for(var T=0;T<v;T++){var dx=~~(d.random()*255);for(var X=0;
X<e;X++){h[R++]=dx}}}}function dG(h,J){d.WJ(h,g);d.RC(a);y(g,a);D(a);y(g,a);d.Re(h,q,9);d.Re(q,P,9);
d.M3(g,a,2);d.oe(a,K);d.M3(a,g,2);d.NF(P,J);d.oW(g,J);d.d7(J)}[i,Y,_,t,t,I,r,dG,dG,n][L](h,J)};B.W.a7K=function(h,e,v,J,m){var d=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],x=B.W.F,M=0,O,T,H,A,G,l=0,K=1,U=255;
x.j1(e,v);x.nw(m[3]);var j=x.jw(1),E=x.jw(1);x.WJ(h,j);var L=m[0],p=m[1],Z=p<=50?d[p]/255:1+(255-d[101-p])/255,o=m[2],u=j.length,N=new Float32Array(u),F=1+1/10*L,W=(1-1/F)/2,f=16/256,$=e-1;
for(T=0;T<x.T7;T++){N[T]=j[T]/255;E[T]=L==1?x.random()<1/255?U:K:K}function z(q,P){var g=q*e+P;if(E[g]!=K||q>=v||P>=e){return}var A=N[g],a=Z-A,w=x.random(),y=w/F+W;
if(M==0||Math.abs(G-A)>f){O=y<=a?l:U;M=~~(x.random()*L)}else if(.1<w){M--}else{M=0}E[g]=O;G=A}if(o==0){for(T=0;
T<e;T++){for(H=0;H<e;H++){A=T+H;if(A>=e)break;z(H,$-A)}M=0}for(T=1;T<v;T++){for(H=0;H<v;H++){A=T+H;if(A>=v||H>=e)break;
z(A,$-H)}M=0}}else if(o==1){for(T=0;T<v;T++){for(H=0;H<e;H++){z(T,H)}M=0}}else if(o==2){for(T=0;T<e;
T++){for(H=0;H<e;H++){A=T+H;if(A>=e)break;z(H,A)}M=0}for(T=1;T<v;T++){for(H=0;H<v;H++){A=T+H;if(A>=v||H>=e)break;
z(A,H)}M=0}}else{for(T=0;T<e;T++){for(H=0;H<v;H++){z(H,T)}M=0}}x.YP(E,J)};B.W.amm=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=m[0],j=m[1],E=m[2],L=d.jw(1),p=d.jw(1),Z=d.jw(1),o=d.jw(1),u=d.jw(4),N=d.jw(4);d.Hv(h,o,3,4);
d.WJ(h,L);d.Ss(L,p,3,3,1);d.Ss(L,Z,3,3,9);d.sub(Z,p);d.M3(p,L,3);d.qj(L,40,10,o);d.pR(h,J,x,2,!1,x);
d.pR(h,u,x,2,!0,x);d.y_(N,255);d.ld(J,L,N);d.ld(N,L,u);d.Oc(u,J,1);d.NF(J);d.Hv(J,L);d.qj(L,j,E,o);d.oW(L,J);
d.d7(J)};B.W.ac6=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[3]);var x=m[0],j=m[1],E=m[2]/10;x=x+j;
var L=d.jw(1),p=d.jw(1),Z=d.Jc(),o=d.Jc();d.RC(L);d.M3(L,p,11);d.M3(p,L,11);d.w8(L,Z);d.YN(Z,o,5);d.YN(o,Z,5);
d.adp(o,.97);d.aAF(o,L,x);d.Ss(L,p,j,j,1);d.Eo(h,L);d.mz(p,L,p,.6);d.IX(L,p,p,E);d.CA(p,p,L,5,1);d.NF(h,J);
d.oW(L,J);d.d7(J)};B.W.awE=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=Math.abs(m[0]),j=x+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][x],E=2*x+1,L=m[1]/10,p=L*13/15,Z=d.jw(1),o=d.jw(1),u=d.jw(1),N=d.jw(1),M=d.jw(4),O=d.jw(4),F=d.jw(4),W=d.jw(4),f=d.jw(4);
d.WJ(h,Z);if(m[0]>=0){d.ia(Z)}d.N7(Z,u);d.M3(Z,N,j);d.M3(N,Z,j);d.OE(Z,L);d.N7(Z,o);d.M3(Z,N,E);d.M3(N,Z,E);
d.OE(Z,p);d.y_(F,m[2]);d.y_(W,m[3]);d.y_(f,m[4]);d.ld(F,Z,W,M);d.ld(f,o,M,O);d.ld(W,u,O,J);d.Hv(h,u,3);
d.oW(u,J,3)};B.W.ari=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[5]);var x=m[0]*5.1,j=m[1]/100,E=d.aqX[m[2]],L=d.jw(1),p=d.jw(1),Z=d.jw(1);
d.WJ(h,L);d.aj_(p,255);d.RC(Z);d.DO(L,x);d.sX(p,L,.7);d.sX(Z,L,j);d.CA(L,L,p,5,E);d.N7(h,J);d.aoT(J,x,m[4],m[3]);
d.NF(J);d.oW(p,J);d.d7(J)};B.W.a4P=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=m[0],j=4-m[1],E=11-m[2],L=d.jw(1),p=d.jw(1),Z=d.jw(4);
d.Eo(h,p);for(var T=0;T<j;T++){d.N7(p,L);d.apd(L,p,x,x)}d.Re(h,Z,x);d.NF(Z,Z);d.oW(p,Z);d.d7(Z,Z);(E<11?d.a0T:d.N7)(Z,J,E)};
B.W.aFf=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[2]);var x=m[0]+5,j=~~(x/5+1),E=~~(x/2)+1,L=E*E,p=~~(x/3),Z=d.aqX[m[1]],o=new Array(256);
for(var T=0;T<256;T++){o[T]=~~(.2*(T-128))}var u=d.jw(1),N=d.jw(1);d.a3Z(h,J,x);d.NF(J);d.Hv(J,u);d.RC(N);
d.aFC(u,N,o);d.aej(N,x,x,j,j);d.mz(u,N,u,1);d.M3(u,N,p);d.M3(N,u,p);d.Ss(u,N,E,E,L);d.CA(N,N,u,5,Z);
d.oW(u,J);d.d7(J)};B.W.aBw=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=d.jw(1),j=d.jw(1),E=d.jw(1),L=d.Jc(),p=d.Jc();
d.WJ(h,x);d.M3(x,j,m[2]);d.DO(j,m[0]*5.1);d.Ss(j,x,2,2,4);d.M3(x,j,3);d.M3(j,x,3);d.N7(x,E);d.M3(x,j,5);
d.M3(j,x,5);d.w8(x,L);d.YN(L,p,5);d.YN(p,L,5);d.aEI(L,j,m[1]);d.ia(j);d.mz(E,j,E,1);d.YP(E,J)};B.W.az3=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=1<<7-m[2],j=d.jw(1),E=d.jw(1),L=d.jw(1);d.Eo(h,E);d.M3(E,j,3);d.N7(j,E);d.M3(j,L,m[0]+5);
d.sub(L,E);d.qj(E,1,m[1]);d.OE(j,1/x);d.OE(j,x);d.sub(j,E);d.NF(h,J);d.oW(E,J);d.d7(J)};B.W.a5w=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);d.nw(m[3]);var x=d.jw(1),j=d.jw(1),E=d.jw(1);d.WJ(h,x);d.ax3(j,m[0]/50);d.M3(j,E,3);d.Ss(x,j,9,9,41);
d.qj(j,m[1],m[2]);d.mz(j,E,E,.75);d.IX(j,E,j,.5);d.N7(j,x);d.Ss(x,E,3,3,8);d.mz(E,j,E,.75);d.OE(E,1.2);
d.Pv(E,x,1);d.M3(x,E,2);d.Pv(E,x,2);d.OE(x,1.2);d.M3(x,E,2);d.YP(E,J)};B.W.afF=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=m[0]+9,j=m[1]/2,E=m[2],L=m[3],p=d.l0(m[4]),Z=m[5]+1,o=m[6],u=d.jw(1),N=d.jw(1),M=d.jw(4),O=d.jw(4);
d.Cl(N,E,L,o);d.aCQ(h,J,x,1,1);d.aCQ(J,M,x,1,1);d.a2U(M,M,O,7,j);d.OE(O,1.2);d.zK(O,1.2);d.CA(N,u,u,Z,p);
d.OE(u,3);d.N7(h,J);d.ld(O,u,J)};B.W.aG8=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[3]);var x=m[0]+4,j=x*2/5+(x%5|0);
x--;var E=m[1]*-2.75+60,L=65-E,p=m[2]/10,Z=d.jw(1),o=d.jw(1);d.RC(Z);d.Eo(h,o);var u=d.nK(E,L,o);d.NF(h,J);
d.Hv(J,o);d.sX(o,Z,.8);d.oe(o,u);d.OE(o,p);d.add(Z,o);d.py(o,Z,x,3,!1,j);d.oW(Z,J);d.d7(J)};B.W.amL=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);d.nw(m[3]);var x=m[0]+5,j=(x*x>>1)+x%2,E=m[1]/10,L=m[2],p=(L*L>>1)+L%2,Z=d.jw(1),o=d.jw(1),u=d.jw(1),N=d.jw(4),M=d.jw(4),O=d.jw(4);
d.RC(u);d.NF(h,O);d.Hv(O,Z);d.sX(Z,u,.8);d.M3(u,Z,3);d.Pv(Z,u,E);d.oW(u,O);d.d7(O,O);d.WJ(O,u);d.Ss(u,Z,x,x,j);
d.M3(u,o,x);d.sub(Z,o);d.DO(o,1);d.EO(O,N,7,7,40);d.EO(O,M,7,7,10);d.ld(N,o,M);d.EO(M,J,L,L,p)};B.W.a6d=function(h,e,v,J,m){var d=B.W.F,j=255,T,L;
d.j1(e,v);var x=m[0];if(x<2)j=x;else if(x<12)j=5*x-5;else if(x<47)j=2*x+28;else if(x<50){T=x-47;j=125+12.5*T+12.5*T*T}var E=new Uint8Array(256);
for(T=75,L=15;T<256;T++,L+=24)E[T]=Math.min(255,L);var p=d.jw(1),Z=d.jw(1),o=d.jw(1);d.WJ(h,p);d.M3(p,Z,11);
d.M3(Z,o,11);d.sub(o,p);d.OE(p,8);d.sub(o,p);d.DO(p,j);d.ia(p);d.M3(p,Z,5);d.DO(Z,51);d.M3(Z,p,m[1]);
d.M3(p,Z,m[1]);d.ia(Z);d.oe(Z,E);d.YP(Z,J)};B.W.ajz=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=d.agA[m[1]],j=m[2],E=j*1.5,L=d.jw(1),p=d.jw(1),Z=d.jw(1);
d.Eo(h,L);d.py(L,p,15,2,!0,15);d.N7(p,Z);d.qj(Z,j,E);d.M3(Z,L,3);d.M3(p,Z,m[0]);d.sub(Z,p);d.OE(p,x);
d.sub(L,p);d.M3(p,L,3);d.py(L,p,3,1,!1,1);d.Re(h,J,15);d.NF(J);d.oW(p,J);d.d7(J)};B.W.aDQ=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);d.nw(m[3]);var x=m[0]*5.1,j=16-m[1],E=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][m[2]],L=d.jw(1),p=d.jw(1),Z=d.jw(1);
d.WJ(h,L);d.DO(L,x);d.M3(L,p,j);d.M3(p,L,j);d.RC(Z);d.IX(L,Z,Z,1);d.mz(L,Z,L,.75);d.OE(L,E);d.zK(L,E);
d.Ss(L,p,2,2,2);d.YP(p,J)};B.W.a58=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);var x=m[0]+9,j=m[1]+9,E=m[2],L=m[3],p=d.l0(m[4]),Z=m[5]+1,o=m[6],u=d.jw(1),N=d.jw(1),M=d.jw(1),O=d.jw(1),F=d.jw(1),W=d.jw(4);
d.Eo(h,u);d.apd(u,M,x,x);d.M3(M,u,j);d.N7(M,F);d.N7(u,O);d.sub(F,O);d.sub(u,F);d.add(F,O);d.OE(O,10);
d.Cl(N,E,L,o);d.CA(N,u,F,Z,p);d.asS(F,O,M,.8);d.Re(h,W,9);d.Re(W,J,9);d.NF(J);d.oW(M,J);d.d7(J)};B.W.awZ=function(h,e,v,J,m){var d=B.W.F;
d.j1(e,v);var x=16-m[0],j=m[1]*8,E=1-(3-m[2])/10,L=~~(x*x*E-1),p=~~(x*x*(1-E));if(p==0)p=1;var Z=d.jw(1),o=d.jw(1),u=d.jw(1),N=d.jw(4);
d.WJ(h,u);d.Ss(u,Z,7,7,25);d.M3(u,o,7);d.sub(Z,o);d.DO(o,1);d.EO(h,N,x,x,L);d.EO(h,J,x,x,p);d.ld(N,o,J);
d.NF(J);d.Hv(J,Z);d.Ss(Z,u,3,3,1);d.Ss(Z,o,3,3,9);d.sub(o,u);d.N7(u,o);d.sub(Z,u);d.sub(u,o);d.Ss(o,Z,3,3,8);
d.qj(Z,j,1);d.oW(Z,J);d.d7(J)};B.W.aah=function(h,e,v,J,m){var d=B.W.F;d.j1(e,v);d.nw(m[3]);var x=m[0],j=m[1],E=m[2],L=x>>1,p=Math.max(~~(x/5),1),Z=Math.max(~~(x*2/3),1),o=d.aGe(j,E),u=d.jw(1),N=d.jw(1),M=d.jw(1),O=d.jw(1),F=d.jw(4);
d.Eo(h,u);d.a5H(2147483647,4,2,2,0,255,N);d.a5H(4,2147483647,2,2,0,255,O);d.RC(M);d.IX(N,M,N,1);d.IX(O,M,O,1);
d.IX(N,u,N,1);d.IX(O,u,O,1);d.Re(h,F,L);d.Re(F,J,L);d.Ss(N,u,1,x,p);d.Ss(u,N,3,x,Z);d.Ss(O,u,x,1,p);
d.Ss(u,O,x,3,Z);d.Nq(N,O);d.NF(J);d.oW(O,J);d.d7(J);d.aaB(J,o)};B.W.LZ=function(h,e,v){var J=v.agB,m=v.T7,d=v.jw(1),top=v.jw(1),x=v.jw(1),j=v.jw(1),E=v.jw(1),L=v.jw(1),p=v.jw(1),Z=v.jw(1),o=v.jw(1),u=v.VA,N=v.qw,M=B.Zq.xQ,O=B.Zq.Du;
M(h,d,u,N,O([8,5,2,5,2,-1,2,-1,-4]));M(h,top,u,N,O([5,5,5,2,2,2,-1,-1,-1]));M(h,x,u,N,O([2,5,8,-1,2,5,-4,-1,2]));
M(h,j,u,N,O([5,2,-1,5,2,-1,5,2,-1]));M(h,E,u,N,O([2,2,2,2,2,2,2,2,2]));M(h,L,u,N,O([-1,2,5,-1,2,5,-1,2,5]));
M(h,p,u,N,O([2,-1,-4,5,2,-1,8,5,2]));M(h,Z,u,N,O([-1,-1,-1,2,2,2,5,5,5]));M(h,o,u,N,O([-4,-1,2,-1,2,5,2,5,8]));
var F=[d,top,x,j,E,L,p,Z,o];for(var W=0;W<N;W++){for(var f=0;f<u;f++){var $=W*u+f,H=h[$],A=null,G=0;
for(var l=-1;l<2;l++){for(var K=-1;K<2;K++){var U=F[(l+1)*3+K+1],z=Math.max(0,Math.min(W+l,N-1)),q=Math.max(0,Math.min(f+K,u-1)),P=U[z*u+q],g=Math.abs(P-H);
if(A==null||g<A){A=g;G=P}}}e[$]=G}}};B.W.anT=function(h,e,v,J,m){var self=B.W.F;self.j1(e,v);var d=self.jw(1),x=self.jw(1);
for(var T=0;T<4;T++){self.Hv(h,d,T);if(T<3){B.W.LZ(d,x,self);B.W.LZ(x,d,self);B.W.LZ(d,x,self);B.W.LZ(x,d,self);
B.W.LZ(d,x,self);B.W.LZ(x,d,self);B.W.LZ(d,x,self);B.W.LZ(x,d,self);B.W.LZ(d,x,self)}else x=d;self.oW(x,J,T)}};
B.W.F={};B.W.F.VA=0;B.W.F.qw=0;B.W.F.T7=0;B.W.F.GS=0;B.W.F.Sy=0;B.W.F.j1=function(h,e){var v=h*e,self=B.W.F;
self.VA=h;self.qw=e;self.T7=v;self.GS=v<<1;self.Sy=v<<2};B.W.F.nw=function(h){B.W.F.random=function(){var e=h+=1831565813;
e=Math.imul(e^e>>>15,e|1);e^=e+Math.imul(e^e>>>7,e|61);return((e^e>>>14)>>>0)/4294967296}};B.W.F.jw=function(h){var e=B.W.F;
return new Uint8Array([-1,e.T7,e.GS,-1,e.Sy][h])};B.W.F.Jc=function(){return new Int32Array(B.W.F.GS)};
B.W.F.M3=function(h,e,v,J){if(J==null)J=v;var self=B.W.F,m=self.VA,d=self.qw,x=J,j=J>>1,E=v,L=v>>1,p=v*J,Z=0;
for(var T=0;T<d;T++){var o=0;for(var u=0;u<x;u++){for(var N=0;N<E;N++){var M=0-L+N,O=T-j+u;if(M<0)M=0;
else if(M>=m)M=m-1;if(O<0)O=0;else if(O>=d)O=d-1;o+=h[O*m+M]}}e[Z++]=~~(o/p);for(var F=1;F<m;F++){for(var u=0;
u<x;u++){var W=F-L-1,f=W+E,O=T-j+u;if(W<0)W=0;if(f>=m)f=m-1;if(O<0)O=0;else if(O>=d)O=d-1;o+=h[O*m+f]-h[O*m+W]}e[Z++]=~~(o/p)}}};
B.W.F.YN=function(h,e,v,J){var self=B.W.F,m=new Int32Array(self.T7),d=new Int32Array(self.T7);for(var T=0;
T<2;T++){self.Hv(h,m,T,2);self.M3(m,d,v,J);self.oW(d,e,T,2)}};B.W.F.Re=function(h,e,v,J){var self=B.W.F,m=self.jw(1),d=self.jw(1);
for(var T=0;T<4;T++){self.Hv(h,m,T);if(T<3)self.M3(m,d,v,J);else d=m;self.oW(d,e,T)}};B.W.F.aCQ=function(h,e,v,J,m){var self=B.W.F,d=self.VA,x=self.qw,j=v+J-1,E=v>>1,L=j>>1,p=0,Z=v*J,o=new Int32Array(v);
for(var T=0;T<x;T++){var u=0,N=0,M=0;for(var O=0;O<v;O++){var F=m?j-O-J:O;for(var W=F,f=J+F;W<f;W++){var $=0-L+W,H=T-E+O;
if(W==F){o[O]=$}if($<0)$=0;else if($>=d)$=d-1;if(H<0)H=0;else if(H>=x)H=x-1;var A=d*H+$<<2;u+=h[A];N+=h[A+1];
M+=h[A+2]}}e[p++]=~~(u/Z);e[p++]=~~(N/Z);e[p++]=~~(M/Z);e[p]=h[p];p++;for(var G=1;G<d;G++){for(var O=0;
O<v;O++){var H=T-E+O,F=o[O]+1;o[O]=F;var l=F-1,K=F+J-1;if(H<0)H=0;else if(H>=x)H=x-1;if(l<0)l=0;else if(l>=d)l=d-1;
if(K<0)K=0;else if(K>=d)K=d-1;var U=H*d+l<<2,z=H*d+K<<2;u=u+h[z]-h[U];N=N+h[z+1]-h[U+1];M=M+h[z+2]-h[U+2]}e[p++]=~~(u/Z);
e[p++]=~~(N/Z);e[p++]=~~(M/Z);e[p]=h[p];p++}}};B.W.F.py=function(h,e,v,J,m,d){var self=B.W.F,x=self.VA,j=self.qw,E=v+J-1,L=v>>1,p=E>>1,Z=0,o=new Int32Array(v),u=new Int32Array(256),N=new Int32Array(16);
for(var T=0;T<j;T++){for(var M=0;M<256;M++){u[M]=0}for(var M=0;M<16;M++){N[M]=0}for(var O=0;O<v;O++){var F=m?E-O-J:O;
for(var W=F,f=J+F;W<f;W++){var $=0-p+W,H=T-L+O;if(W==F){o[O]=$}if($<0)$=0;else if($>=x)$=x-1;if(H<0)H=0;
else if(H>=j)H=j-1;u[h[H*x+$]]++;N[h[H*x+$]>>>4]++}}var A=0,G=0;while(A+N[G>>>4]<d){A+=N[G>>>4];G+=16}for(;
G<256;G++){A+=u[G];if(A>=d)break}e[Z++]=G;for(var M=1;M<x;M++){for(var O=0;O<v;O++){var H=T-L+O,F=o[O]+1;
o[O]=F;var l=F-1,K=F+J-1;if(H<0)H=0;else if(H>=j)H=j-1;if(l<0)l=0;else if(l>=x)l=x-1;if(K<0)K=0;else if(K>=x)K=x-1;
u[h[H*x+l]]--;u[h[H*x+K]]++;N[h[H*x+l]>>>4]--;N[h[H*x+K]>>>4]++}A=0;G=0;while(A+N[G>>>4]<d){A+=N[G>>>4];
G+=16}for(;G<256;G++){A+=u[G];if(A>=d)break}e[Z++]=G}}};B.W.F.pR=function(h,e,v,J,m,d){var self=B.W.F,x=self.jw(1),j=self.jw(1);
for(var T=0;T<4;T++){self.Hv(h,x,T);if(T<3)self.py(x,j,v,J,m,d);else j=x;self.oW(j,e,T)}};B.W.F.Ss=function(h,e,v,J,m){m=Math.min(J*v,m);
var self=B.W.F,d=self.VA,x=self.qw,j=J>>1,E=v>>1,L=0,p=new Int32Array(J),Z=new Int32Array(256),o=new Int32Array(16);
for(var T=0;T<x;T++){for(var u=0;u<256;u++){Z[u]=0}for(var u=0;u<16;u++){o[u]=0}for(var N=0;N<J;N++){for(var M=0,O=v;
M<O;M++){var F=0-E+M,W=T-j+N;if(M==0){p[N]=F}if(F<0)F=0;else if(F>=d)F=d-1;if(W<0)W=0;else if(W>=x)W=x-1;
Z[h[W*d+F]]++;o[h[W*d+F]>>>4]++}}var f=0,$=0;while(f+o[$>>>4]<m){f+=o[$>>>4];$+=16}for(;$<256;$++){f+=Z[$];
if(f>=m)break}e[L++]=$;for(var u=1;u<d;u++){for(var N=0;N<J;N++){var W=T-j+N,H=p[N]+1;p[N]=H;var A=H-1,G=H+v-1;
if(W<0)W=0;else if(W>=x)W=x-1;if(A<0)A=0;else if(A>=d)A=d-1;if(G<0)G=0;else if(G>=d)G=d-1;Z[h[W*d+A]]--;
Z[h[W*d+G]]++;o[h[W*d+A]>>>4]--;o[h[W*d+G]>>>4]++}f=0;for($=0;$<256;$++){f+=Z[$];if(f>=m)break}e[L++]=$}}};
B.W.F.EO=function(h,e,v,J,m){var self=B.W.F,d=self.jw(1),x=self.jw(1);for(var T=0;T<4;T++){self.Hv(h,d,T);
if(T<3)self.Ss(d,x,v,J,m);else x=d;self.oW(x,e,T)}};B.W.F.Pv=function(h,e,v){var self=B.W.F,J=self.VA,m=self.qw,d=0;
for(var T=0;T<m;T++){var x=T*J,j=(T-1)*J,E=(T+1)*J;if(j<0)j=x;if(E>=m)E=x;for(var L=0;L<J;L++){var p=L-1,Z=L+1;
if(p<0)p=L;if(Z>=J)Z=L;var o=x+p,u=x+Z,N=j+L,M=E+L,O=x+L,F=h[o],W=h[u],f=h[N],$=h[M],H=h[O],A=H+(H*4*v+.5);
A=A-((F+W+$+f)*v+.5);e[d++]=self.Da(A)}}};B.W.F.Oc=function(h,e,v){var self=B.W.F,J=self.jw(1),m=self.jw(1);
for(var T=0;T<4;T++){self.Hv(h,J,T);if(T<3)self.Pv(J,m,v);else m=J;self.oW(m,e,T)}};B.W.F.a0T=function(h,e,v){var self=B.W.F,J=self.VA,m=self.qw,d=0,x=v+4;
for(var T=0;T<m;T++){var j=T*J,E=(T-1)*J,L=(T+1)*J;if(E<0)E=j;if(L>=m)L=j;for(var p=0;p<J;p++){var Z=p-1,o=p+1;
if(Z<0)Z=p;if(o>=J)o=p;var u=j+Z<<2,N=j+o<<2,M=E+p<<2,O=L+p<<2,F=j+p<<2;for(var W=0;W<3;W++){var f=h[u+W],$=h[N+W],H=h[M+W],A=h[O+W],G=h[F+W];
e[d++]=(G*v+f+$+A+H)/x}e[d]=h[d];d++}}};B.W.F.apd=function(h,e,v,J){var self=B.W.F,m=self.VA,d=self.qw,x=v>>1,j=J>>1,E=0,L=new Int32Array(v),p=new Int32Array(256);
for(var T=0;T<d;T++){for(var Z=0;Z<256;Z++){p[Z]=0}for(var o=0;o<v;o++){for(var u=0,N=J;u<N;u++){var M=0-j+u,O=T-x+o;
if(u==0){L[o]=M}if(M<0)M=0;else if(M>=m)M=m-1;if(O<0)O=0;else if(O>=d)O=d-1;p[h[O*m+M]]++}}var F=0,W=0;
for(var f=0;f<256;f++){if(F<p[f]){W=f;F=p[f]}}e[E++]=W;for(var Z=1;Z<m;Z++){for(var o=0;o<v;o++){var O=T-x+o,$=L[o]+1;
L[o]=$;var H=$-1,A=$+J-1;if(O<0)O=0;else if(O>=d)O=d-1;if(H<0)H=0;else if(H>=m)H=m-1;if(A<0)A=0;else if(A>=m)A=m-1;
p[h[O*m+H]]--;p[h[O*m+A]]++}F=0;W=0;for(var f=0;f<256;f++){if(F<p[f]){W=f;F=p[f]}}e[E++]=W}}};B.W.F.at2=[function(h,e,v,J,m,d,x,j,E,L){return m+(h+e+v)*L-(E+j+x)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(e+v+d)*L-(j+x+J)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(v+d+E)*L-(x+J+h)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(d+E+j)*L-(J+h+e)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(E+j+x)*L-(h+e+v)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(j+x+J)*L-(e+v+d)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(x+J+h)*L-(v+d+E)*L},function(h,e,v,J,m,d,x,j,E,L){return m+(J+h+e)*L-(d+E+j)*L}];
B.W.F.CA=function(h,e,v,J,m){var self=B.W.F,d=self.VA,x=self.qw,j=d,E=self.at2[J-1];for(var T=0;T<x;
T++){var L=(T>0?T-1:0)*j,p=T*j,Z=(T<x?T+1:T)*j;for(var o=0;o<d;o++){var u=o>0?o-1:0,N=o<d?o+1:o,M=p+o,O=h[L+u],F=h[L+o],W=h[L+N],f=h[p+u],$=e[M],H=h[p+N],A=h[Z+u],G=h[Z+o],l=h[Z+N];
v[M]=self.Da(E(O,F,W,f,$,H,A,G,l,m))}}};B.W.F.a2U=function(h,e,v,J,m){var self=B.W.F,d=self.jw(1),x=self.jw(1),j=self.jw(1);
for(var T=0;T<3;T++){self.Hv(h,d,T);self.Hv(e,x,T);self.CA(d,x,j,J,m);self.oW(j,v,T)}self.Hv(e,d,3);
self.oW(d,v,3)};B.W.F.WJ=function(h,e){var v=h.length,J=0;for(var T=0;T<v;T++){e[J++]=~~((h[T++]+h[T++]+h[T++]+2)/3)}};
B.W.F.YP=function(h,e){var v=e.length,J=0;for(var T=0;T<v;T++){var m=h[T];e[J++]=m;e[J++]=m;e[J++]=m;
e[J++]=255}if(e[0]==255)e[0]--;else e[0]++};B.W.F.Eo=function(h,e){var v=e.length,J=0;for(var T=0;T<v;
T++){var m=h[J++],d=h[J++],x=h[J++];J++;if(d>m)m=d;if(x>m)m=x;e[T]=m}};B.W.F.NF=function(h,e){if(e==null)e=h;
var v=h.length;for(var J=0;J<v;J+=4){var m=h[J],d=h[J+1],x=h[J+2],j=m,E=0,L=m,Z;if(d<=m){m=d}else{E=1;
L=d}if(x<=L){if(m>x){m=x}}else{E=2;L=x}var p=L-m;if(p!=0){if(E==0){Z=~~(43*(d-x)/p)}else if(E==1){Z=~~(43*(x+2*p-j)/p)}else{Z=43*(j+4*p-d)/p}if(Z<0){Z=255&Z-1}e[J]=Z;
e[J+1]=~~(255*p/L)}else{e[J]=p;e[J+1]=p}e[J+2]=L;e[J+3]=h[J+3]}};B.W.F.d7=function(h,e){if(e==null)e=h;
var v=h.length;for(var J=0;J<v;J+=4){var m=h[J],d=h[J+1],x=h[J+2];if(d){if(m==255)m=0;var j=~~(6*m/255),E=~~(-255*j+6*m);
if(j==0){e[J]=x;e[J+1]=~~(x*(255-d*(255-E)/255)/255);e[J+2]=~~(x*(255-d)/255)}else if(j==1){e[J]=~~(x*(255-d*E/255)/255);
e[J+1]=x;e[J+2]=~~(x*(255-d)/255)}else if(j==2){e[J]=~~(x*(255-d)/255);e[J+1]=x;e[J+2]=~~(x*(255-d*(255-E)/255)/255)}else if(j==3){e[J]=~~(x*(255-d)/255);
e[J+1]=~~(x*(255-d*E/255)/255);e[J+2]=x}else if(j==4){e[J]=~~(x*(255-d*(255-E)/255)/255);e[J+1]=~~(x*(255-d)/255);
e[J+2]=x}else{e[J]=x;e[J+1]=~~(x*(255-d)/255);e[J+2]=~~(x*(255-d*E/255)/255)}}else{e[J]=x;e[J+1]=x;e[J+2]=x}e[J+3]=h[J+3]}};
B.W.F.oW=function(h,e,v,J){if(v==null)v=2;if(J==null)J=4;var m=h.length;for(var T=0;T<m;T++){e[v]=h[T];
v+=J}};B.W.F.Hv=function(h,e,v,J){if(v==null)v=2;if(J==null)J=4;var m=e.length;for(var T=0;T<m;T++){e[T]=h[v];
v+=J}};B.W.F.asS=function(h,e,v,J){if(J==null)J=1;var m=e.length,d=0,x;for(var d=0;d<m;d++){x=e[d];if(x){x*=J;
v[d]=~~((x*h[d]+(255-x)*v[d])/255)}}};B.W.F.ld=function(h,e,v,J){if(J==null)J=v;var m=e.length,d=0,x,j;
for(var T=0;T<m;T++){x=e[T];if(x){j=255-x;J[d]=~~((x*h[d]+j*v[d])/255);J[d+1]=~~((x*h[d+1]+j*v[d+1])/255);
J[d+2]=~~((x*h[d+2]+j*v[d+2])/255)}J[d+3]=h[d+3];d+=4}};B.W.F.mz=function(h,e,v,J){var m=~~(J*255),d=v.length;
for(var T=0;T<d;T++){v[T]=((255-m*(255-h[T])/255)*e[T]+h[T]*(m*(255-h[T])/255))/255}};B.W.F.IX=function(h,e,v,J){var m=~~(J*255),d=v.length;
for(var T=0;T<d;T++){v[T]=((255-m*h[T]/255)*e[T]+h[T]*(m*h[T]/255))/255}};B.W.F.sX=function(h,e,v){var J=e.length;
for(var T=0;T<J;T++){e[T]=~~(h[T]*v+.5)+(e[T]-~~(e[T]*v+.5))}};B.W.F.sub=function(h,e){var v=h.length;
for(var T=0;T<v;T++){e[T]=Math.max(h[T]-e[T],0)}};B.W.F.add=function(h,e){var v=h.length;for(var T=0;
T<v;T++){e[T]=Math.min(h[T]+e[T],255)}};B.W.F.agB=function(h,e){var v=h.length;for(var T=0;T<v;T++){e[T]=h[T]+e[T]}};
B.W.F.Nq=function(h,e){var v=h.length;for(var T=0;T<v;T++){e[T]=h[T]+e[T]>>1}};B.W.F.N7=function(h,e){var v=h.length;
for(var T=0;T<v;T++){e[T]=h[T]}};B.W.F.oe=function(h,e){var v=h.length;for(var T=0;T<v;T++){h[T]=e[h[T]]}};
B.W.F.aaB=function(h,e){var v=B.W.F.Sy;for(var T=0;T<v;T+=4){var J=h[T],m=h[T+1],d=h[T+2],x=J;if(m>J)x=m;
if(d>J)x=d;var j=e[x];if(j){h[T]=~~(j*J/x);h[T+1]=~~(j*m/x);h[T+2]=~~(j*d/x)}else{h[T]=j;h[T+1]=j;h[T+2]=j}}};
B.W.F.OE=function(h,e){for(var T=0,v=h.length;T<v;T++){h[T]=Math.min(255,~~(.5+h[T]*e))}};B.W.F.zK=function(h,e){for(var T=0,v=h.length;
T<v;T++){h[T]=255-Math.min(255,~~(.5+(255-h[T])*e))}};B.W.F.ia=function(h){var e=h.length;for(var T=0;
T<e;T++){h[T]=255-h[T]}};B.W.F.DO=function(h,e,v,J){if(v==null)v=0;if(J==null)J=255;for(var T=0,m=h.length;
T<m;T++){h[T]=h[T]>=e?J:v}};B.W.F.u5=function(h){return[h>>24&255,h>>16&255,h>>8&255,h&255]};B.W.F.aoT=function(h,e,v,J){if(v==null)v=255;
if(J==null)J=4278190335;var m=B.W.F,d=m.Sy,x=m.u5(v),j=m.u5(J);for(var T=0;T<d;T+=4){var E=~~((h[T]+h[T+1]+h[T+2]+2)/3);
if(E>=e){h[T]=x[0];h[T+1]=x[1];h[T+2]=x[2]}else{h[T]=j[0];h[T+1]=j[1];h[T+2]=j[2]}}};B.W.F.y_=function(h,e){var v=B.W.F,J=v.Sy,m=v.u5(e);
for(var T=0;T<J;){h[T++]=m[0];h[T++]=m[1];h[T++]=m[2];h[T++]=m[3]}};B.W.F.aj_=function(h,e){var v=h.length;
for(var T=0;T<v;){h[T++]=e}};B.W.F.aGe=function(h,e){h=h>5?(100-Math.max(4,h))/100:.95;e=e!=100?Math.max(4,e)/100:.9995;
var v=new Uint8Array(256),J=e>.5?.5/(1-e):e*2,m=~~(J*256),d=~~((.5-h*J)*256)<<8;for(var T=0;T<256;T++){v[T]=B.W.F.Da(d>>8);
d+=m}return v};B.W.F.RC=function(h){for(var T=0,e=B.W.F,v=h.length;T<v;T++){h[T]=~~(e.random()*256)}};
B.W.F.ax3=function(h,e){for(var T=0,v=B.W.F,J=h.length;T<J;T++){h[T]=v.random()<e?255:0}};B.W.F.azg=function(h,e,v){for(var T=0,J=B.W.F,m=h.length;
T<m;T++){if(J.random()<e)h[T]=v}};B.W.F.aFC=function(h,e,v){var J=h.length;for(var T=0;T<J;T++){h[T]=B.W.F.Da(h[T]+v[e[T]])}};
B.W.F.nN=function(h){var e=new Uint32Array(256);for(var T=0,v=h.length;T<v;T++)e[h[T]]++;return e};B.W.F.a1m=function(h,e){var v=0,J=0,m=new Uint32Array(256),d=new Float32Array(256);
for(var T=0,x=h.length;T<x;T++){var j=h[T],E=e[T];if(E==255){m[j]++;v++}else if(E>0){E/=255;J+=E;d[j]+=E;
if(J>=1){J--;v++}if(d[j]>=1){d[j]--;m[j]++}}}return[v,m]};B.W.F.nK=function(h,e,v,J){var self=B.W.F,m,d,p=0,o=256;
if(J){var x=self.a1m(v,J);m=x[1];d=x[0]/100}else{m=self.nN(v);d=self.T7/100}var j=new Uint8Array(256),E=d*h,L=d*e,Z=-1;
do{p+=m[++Z]}while(p<=E);p=0;do{p+=m[--o]}while(p<=L);if(o-Z<=0)o=Z+1;if(o>255){o=255;Z=254}var u=255/(o-Z),N=-Z;
for(var T=0;T<256;T++){j[T]=self.Da(u*N+.5);N++}return j};B.W.F.qj=function(h,e,v,J){var m=B.W.F;m.oe(h,m.nK(e,v,h,J))};
B.W.F.a0V=function(h,e){var self=B.W.F,v=self.nN(h),J=self.T7*e/100,m=0,d=-1;do{m+=v[++d]}while(m<=J);
return d};B.W.F.w8=function(h,e){var v=0,self=B.W.F,J=self.VA,m=self.qw,d=1/Math.PI,x=d*255;for(var T=0;
T<m;T++){var j=T+1;if(j==m)j--;var E=T*J,L=~~((1-(T+1)/m)*255);for(var p=0;p<J;p++){var Z=p+1;if(Z==J)Z--;
var o=h[E+p],u=h[E+Z],N=h[j*J+p];if(o-N==0){e[v++]=L}else{var M=o-N+255;if(M==255){M=0}else{M=~~(Math.atan2(1/(255-M),1)*x+.5);
if(M<0)M+=255}e[v++]=M}if(o-u==0){e[v++]=~~((1-(p+1)/J)*255)}else{var M=o-u+255;if(M==255){M=0}else{M=~~(Math.atan2(1/(255-M),1)*x+.5);
if(M<0)M+=255}e[v++]=M}}}};B.W.F.adp=function(h,e){var self=B.W.F,v=self.VA,J=self.qw,m=0;for(var T=0;
T<J;T++){for(var d=0;d<v;d++){h[m]=~~(T*e+.5)+~~(h[m]*(1-e)+.5);m++;h[m]=~~(d*e+.5)+~~(h[m]*(1-e)+.5);
m++}}};B.W.F.atj=function(h,e,v,J){var self=B.W.F,m=self.VA,d=self.qw,x=0;for(var T=0;T<d;T++){for(var j=0;
j<m;j++){e[x]=~~(e[x]*(1-v)+.5)+~~(h[x]*J+.5);x++;e[x]=~~(e[x]*(1-v)+.5)+~~(h[x]*J+.5);x++}}};B.W.F.aAF=function(h,e,v){var self=B.W.F,J=self.VA,m=self.qw,d=0,x=0;
for(var T=0;T<m;T++){for(var j=0;j<J;j++){var E=h[d++],L=h[d++];e[x++]=L%v>=2&&E%v>=2?255:0}}};B.W.F.a5H=function(h,e,v,J,m,d,x){var self=B.W.F,j=self.VA,E=self.qw,L=0,p=0,Z=0;
for(var T=0;T<E;T++){var o=T%h<v||E-v<=T;for(var u=0;u<j;u++){x[L++]=o||u%e<J||j-J<=u?m:d}}};B.W.F.Cl=function(h,e,v,J){var self=B.W.F,m=self.VA,d=self.qw,x=aS.Cl(e),j=x[1],E=x[0].q,L=x[0]._,p=100/v;
for(var Z=0;Z<d;Z++)for(var o=0;o<m;o++){var u=B.D.WV(o*p,Z*p,j,E,L);h[Z*m+o]=J?255-u:u}};B.W.F.Da=function(h){return~~Math.min(255,Math.max(0,h))};
B.W.F.agA=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];B.W.F.aqX=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
B.W.F.l0=function(h){return h>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][h-41]:h/40};B.W.F.a3Z=function(h,e,v){var self=B.W.F,J=self.VA,m=self.qw,d=v,x=v>>1,j=x-1,E=d*d,L=0;
for(var T=0;T<m;T++){var p=0,Z=0,o=0,u=~~(T/v)*v,N=0;for(var M=0;M<d;M++){for(var O=0;O<d;O++){var F=N+O,W=u+M;
if(F>=J)F=J-1;if(W>=m)W=m-1;p+=h[W*J+F<<2];Z+=h[(W*J+F<<2)+1];o+=h[(W*J+F<<2)+2]}}var f=~~(p/E),$=~~(Z/E),H=~~(o/E);
e[L]=f;e[L+1]=$;e[L+2]=H;e[L+3]=h[L+3];L+=4;for(var A=1;A<J;A++){for(var M=0;M<d;M++){var G=A-1,l=G+d,W=u+M;
if(l>=J)l=J-1;if(W>=m)W=m-1;var K=W*J,U=K+l<<2,z=K+G<<2;p+=h[U]-h[z];Z+=h[U+1]-h[z+1];o+=h[U+2]-h[z+2]}if(A%v==0){f=~~(p/E);
$=~~(Z/E);H=~~(o/E)}e[L]=f;e[L+1]=$;e[L+2]=H;e[L+3]=h[L+3];L+=4}}};B.W.F.aej=function(h,e,v,J,m){var self=B.W.F,d=self.VA,x=self.qw,j=0,E=0,L=0,p=0;
for(var T=p;T<x+p;T++){var Z=T%e>=J||T<J||x+p-J<=T;for(var o=0;o<d;o++){h[j++]=Z&&(o%v>=m||o<m||d-m<=o)?255:0}}};
B.W.F.aEI=function(h,e,v){var J=function(L,p){return p<=L?L/p&1?p-L%p:L%p:L},m=[function(j,E){return J(j,255)/255},function(j,E){return(255+J(j,255)-J(E,255))/510},function(j,E){return(255-J(E,255))/255},function(j,E){return(510-J(j,255)-J(E,255))/510},function(j,E){return(255-J(j,255))/255},function(j,E){return(255-J(j,255)+J(E,255))/510},function(j,E){return J(E,255)/255},function(j,E){return(J(j,255)+J(E,255))/510}][v],d=0,x=0;
for(var T=0;T<B.W.F.T7;T++){var j=h[d++],E=h[d++];e[x++]=~~(255*m(j,E))}};B.W.aBk=function(){var h=[],e=new Uint8Array(512),v=new Float32Array(512),J=new Float32Array(512),m=[1,-1,1,-1,1,-1,0,0],d=[1,1,-1,-1,0,0,1,-1],x=0,j,N=0;
for(;x<256;x++)h[x]=x;while(x!=0){x--;j=Math.floor(Math.random()*x);h[j]^=h[x]^(h[x]=h[j])}function E(E){E=Math.floor(E*65536);
if(E<256){E|=E<<8}for(var T=0;T<256;T++){var F=T+256,W=h[T]^(T&1?E:E>>8)&255;e[T]=e[F]=W;W=W%8;v[T]=v[F]=m[W];
J[T]=J[F]=d[W]}}function L(F){return F*F*F*(F*(F*6-15)+10)}function p(F,W,f){return(1-f)*F+f*W}function Z(F,W){return F&W}function o(F,W){return F%W}function u(F,W,f,$,H){var A=Math.floor(F),G=Math.floor(W),x,l,K,U,z,q;
F=F-A;W=W-G;A=A&255;G=G&255;x=A+e[G];U=v[x]*F+J[x]*W;x=A+e[H(G+1,$)];K=v[x]*F+J[x]*(W-1);x=H(A+1,f)+e[G];
z=v[x]*(F-1)+J[x]*W;x=H(A+1,f)+e[H(G+1,$)];q=v[x]*(F-1)+J[x]*(W-1);l=L(F);return p(p(U,z,l),p(K,q,l),L(W))}function M(F,x,W){F[x]=W}function O(F,W,f,$,H){var A=Math.min(Math.min(W,256),Math.min(256,f)),G=A==256||A<8,l=8,K=new Uint32Array(l),U=new Uint32Array(l),z=new Float32Array(l),q=new Float32Array(l),P=1,g=1,a=G?Z:o,w=M,y;
for(var T=0;T<l;T++){y=g*1/A;if(G){U[T]=(1<<Math.ceil(Math.log2(f*y)))-1;K[T]=(1<<Math.ceil(Math.log2(W*y)))-1}else{U[T]=y*f;
K[T]=y*W}z[T]=P;q[T]=y;P*=.5;g=g<<1}E(Math.random());for(var S=0,x=0;S<f;S++){for(var i=0;i<W;i++){var C=0;
for(var Y=0;Y<l;Y++){y=q[Y];C+=u(i*y,S*y,K[Y],U[Y],a)*z[Y]}w($,x++,Math.round(Math.max(0,255*Math.min(1,.5+C*.5))))}}}return O}();
B.W.aba=function(){function h(e,v,J,m){var d=new Uint8Array(e.length>>>2),x=new Uint8Array(e.length>>>2),j=new Uint8Array(e.length);
for(var T=0;T<e.length;T+=4){var E=e[T+0]*.3+e[T+1]*.59+e[T+2]*.11;x[T>>>2]=E;j[T]=e[T];j[T+1]=e[T+1];
j[T+2]=e[T+2]}B.Zq.aaa(x,d,v,J);B.Zq.uy(e,m,v,J,B.Zq.If[1],0,!0);for(var T=0;T<e.length;T+=4){j[T+3]=255-d[T>>>2]}for(var T=0,L=e.length;
T<L;T+=4){var p=j[T+3]/255;m[T]=j[T]*p+m[T]*(1-p);m[T+1]=j[T+1]*p+m[T+1]*(1-p);m[T+2]=j[T+2]*p+m[T+2]*(1-p)}}return h}();
B.W.auF=function(){function h(d,x,j,E,L){var p=new Uint32Array(d.buffer),Z=0;for(var T=0;T<j;T++){for(var o=0;
o<x;o++,Z+=4){var u=p[T*x+o],N=u&255,M=u>>>8&255,O=u>>>16&255,F=u>>>24&255,W=~~(Math.random()*8),f=W%3,$=0,H=0;
if(W<3){H--}else if(W>4){H++}if(f==0){$--}else if(f==2){$++}var A=o+$,G=T+H;if(A<0)A=0;else if(A>x-1)A=x-1;
if(G<0)G=0;else if(G>j-1)G=j-1;var u=p[G*x+A],l=u&255,K=u>>>8&255,U=u>>>16&255,z=u>>>24&255;E[Z]=L(N,l);
E[Z+1]=L(M,K);E[Z+2]=L(O,U);E[Z+3]=L(F,z)}}}function e(d,x){return x}function v(d,x){return d>x?x:d}function J(d,x){return d<x?x:d}function m(d,x,j,E,L){var p=L[0];
if(p==0)h(d,x,j,E,e);else if(p==1)h(d,x,j,E,v);else if(p==2)h(d,x,j,E,J);else if(p==3){console.error("Not implemented")}else console.error("Mew mew")}return m}();
B.W.a5h=function(){function h(e,v,J,m,d){var x=d&&d[0]?d[0]:4,j,E,L,p,Z,o,u;for(var T=0;T<J;T++){var N=Math.max(T-x,0),M=Math.min(T+x,J-1);
for(var O=0;O<v;O++){var F=Math.max(O-x,0),W=Math.min(O+x,v-1);j=N*v+F<<2;p=e[j];Z=e[j+1];o=e[j+2];u=e[j+3];
j=N*v+W<<2;p+=e[j];Z+=e[j+1];o+=e[j+2];u+=e[j+3];j=M*v+F<<2;p+=e[j];Z+=e[j+1];o+=e[j+2];u+=e[j+3];j=M*v+W<<2;
p+=e[j];Z+=e[j+1];o+=e[j+2];u+=e[j+3];j=T*v+O<<2;m[j]=p+2>>>2;m[j+1]=Z+2>>>2;m[j+2]=o+2>>>2;m[j+3]=u+2>>>2}}}return h}();
B.W.ajF=function(){function h(e,v,J,m){var d=new Uint8Array(e.length),x=new Uint8Array(e.length>>>2),j=new Uint8Array(e.length>>>2);
B.Zq.uy(e,d,v,J,B.Zq.If[2],0,!0);for(var T=0;T<e.length;T+=4){var E=d[T+0]*.3+d[T+1]*.59+d[T+2]*.11;
x[T>>>2]=E;m[T+0]=e[T+0];m[T+1]=e[T+1];m[T+2]=e[T+2];m[T+3]=e[T+3]}B.Zq.aaa(x,j,v,J);for(var T=0;T<e.length;
T+=4){d[T+3]=~~(Math.max(0,255-j[T>>>2]-50)*(255/205))}for(var T=0,L=e.length;T<L;T+=4){var p=d[T+3]/255;
m[T]=d[T]*p+m[T]*(1-p);m[T+1]=d[T+1]*p+m[T+1]*(1-p);m[T+2]=d[T+2]*p+m[T+2]*(1-p)}}return h}();B.W.dF=function(){function h(W,f){return W[f]+W[f+1]+W[f+2]+W[f+3]}function e(W,f){return W[f]+W[f+1]+W[f+2]+2*W[f+3]}function v(W,f,$,H){W[f]=$[H];
W[f+1]=$[H+1];W[f+2]=$[H+2];W[f+3]=$[H+3]}function J(W,f,$){W[f]=W[$];W[f+1]=W[$+1];W[f+2]=W[$+2];W[f+3]=W[$+3]}function m(W,f,$){W[$]=f[$];
W[$+1]=f[$+1];W[$+2]=f[$+2];W[$+3]=255-f[$+3]}function d(W){for(var T=0,f=W.length;T<f;T+=4){W[T+3]=255-W[T+3]}}function x(){var W=Math.random();
if(W>.5)return 0;if(W>.25)return 1;if(W>.1)return 2;if(W>.02143)return 3;if(W>.00445)return 4;if(W>65e-5)return 5;
if(W>415e-6)return 6;if(W>55e-6)return 7;return 8}function j(W,f,$,H,A,G){W[f]=$[H]+(A[G]-$[H]>>1);W[f+1]=$[H+1]+(A[G+1]-$[H+1]>>1);
W[f+2]=$[H+2]+(A[G+2]-$[H+2]>>1);W[f+3]=$[H+3]+(A[G+3]-$[H+3]>>1)}function E(W,f,$,H,A,G){W[f]=A[G]+$[H]>>1;
W[f+1]=A[G+1]+$[H+1]>>1;W[f+2]=A[G+2]+$[H+2]>>1;W[f+3]=A[G+3]+$[H+3]>>1}function L(W,f,$,H,A,G,l,K,U){var z=0,q=0,P=0,T,g=A[G],a;
j(K,0,W,f,W,$);for(T=0;T<g;T++){j(K,(T+1)*4,K,T*4,W,$)}q=(g+1)*4;P+=g;G--;v(W,f,K,q-4);H[G]=h(W,f);f-=U;
while(G>0&&H[G-1]<H[G]){a=K;K=l;l=a;z=q;E(K,0,W,f-U,l,0);for(T=4;T<z;T+=4){E(K,T,K,T-4,l,T)}g=A[G];for(T=P;
T<g;T++){j(K,q,K,q-4,l,z-4);q+=4;P++}G--;v(W,f,K,q-4);H[G]=h(W,f);f-=U}}function p(W,f,$,H,A){var G=f*4,l=0,K,U,z=new Uint8Array(f+1),q=new Uint8Array(10*4),P=new Uint8Array(10*4);
for(var T=0;T<$;T++){m(H,W,l);A[0]=h(H,l);z[0]=x();K=l;l+=4;for(var g=1;g<f;g++){m(H,W,l);A[g]=h(H,l);
U=x();z[g]=U;if(A[g-1]<A[g]&&U>0){L(H,l-4,l,A,z,g,q,P,4)}l+=4}A[f]=A[0];z[f]=z[0];if(A[f-1]<A[f]&&U>0){L(H,l,K,A,z,f,q,P,4)}}d(H)}function Z(){var W=Math.random();
if(W>.659755)return 0;if(W>.1625)return 10;if(W>.06)return 20;if(W>.01)return 30;if(W>.0035)return 40;
if(W>65e-5)return 50;if(W>415e-6)return 60;if(W>55e-6)return 70;return 80}function o(W,f,$,H,A,G){var l=Z()+1,K=H[A];
for(var T=1;T<l;T++){if(0>A)break;if(H[A-T]<K){J(W,f,$)}else{break}f+=G}}function u(W,f,$,H,A){var G=f*4,l=0;
for(var T=0;T<$;T++){m(H,W,l);A[0]=h(H,l);l+=4;for(var K=1;K<f;K++){m(H,W,l);A[K]=h(W,l);if(A[K-1]<A[K]){o(H,l-4,l,A,K,-4)}l+=4}A[f]=A[0];
if(A[K-1]<A[K]){o(H,l-4,l-G,A,K,-4)}}d(H)}function N(W,f,$,H,A,G){var l=1,K,U,z=new Uint8Array(4),q,P=f;
while(Math.random()<1/l){P=f;if(H<=1)break;K=$[H];U=$[H-1];if(K<=U)break;v(z,0,W,P-G);q=!0;for(var T=H;
T<A;T++){if(U>$[T]){v(W,P-G,z,0);$[T-1]=U;q=!1;break}v(W,P-G,W,P);$[T-1]=$[T];P+=G}if(q){v(W,P-G,z,0);
$[A-1]=U}l++;H--;f-=G}}function M(W,f,$,H,A){var G=0,l=0,K=f*4;for(var T=0;T<$;T++){l=G;for(var U=0;
U<f;U++){m(H,W,G);A[U]=e(H,G);G+=4}G=l;for(var U=1;U<f;U++){if(A[U-1]<A[U]&&Math.random()<.66){N(H,G+4,A,U,f,4)}G+=4}G+=4}d(H)}function O(W,f,$,H,A){var G=A[0],l=A[1],K=new Uint16Array(f+1),U=W,z=H,q;
if(l){q=H.slice(0);F(W,H,f,$);U=H;z=q}if(G==0)p(U,f,$,z,K);else if(G==1)u(U,f,$,z,K);else if(G==2)M(U,f,$,z,K);
if(l){F(q,H,f,$)}}function F(W,f,$,H){for(var A=0;A<H;A++)for(var G=0;G<$;G++){var l=A*$+G<<2,K=A*$+($-1-G)<<2;
f[K]=W[l];f[K+1]=W[l+1];f[K+2]=W[l+2];f[K+3]=W[l+3]}}return O}();B.W.apM=function(h,e,v,J,m){var d=B.W.F,x=1,O=0,f=0;
d.j1(e,v);d.nw(m[2]);var j=3<<13,E=Math.PI/2.43,L=E/256,p=Math.PI*2/256;function Z(){var G=d.random()*256,l=d.random()*256;
return x*~~(Math.tan(E-G*L)*325*Math.cos(l*p)*256)+j>>16}x=m[0];var o=m[1],u=(o+2)/2,N=d.random()*255,M=d.jw(1);
for(var T=0;T<v;T++){var F=d.Da(Z()+N);for(var W=0;W<e;W++){F=d.Da(Z()+F);M[O++]=F}}O=e;for(var T=1;
T<v;T++){var $=d.Da(Z()+M[f++]);M[O++]=$;for(var W=1;W<e;W++){var H=f+1;if(W+1==e){H--}var A=(u+$+M[H]+M[f]*o)/(o+2);
$=d.Da(Z()+A);M[O++]=$;f++}}d.YP(M,J)};var jZ=function(){function h(I){I=I^61^I>>>16;I=I+(I<<3);I=I^I>>>4;
I=I*668265261;I=I^I>>>15;return I}var e=function(){var e=function(I){if(I){this.DR=I}this.DR=h(this.DR);
return(this.DR&16777215)*(1/16777215)};return e};function v(I,r){if(r==null){r=[0,0]}return Math.sqrt((r[0]-I[0])*(r[0]-I[0])+(r[1]-I[1])*(r[1]-I[1]))}function J(I,r){if(r==null){r=[0,0]}return[-(r[1]-I[1])/v(I,r),(r[0]-I[0])/v(I,r)]}function m(I){return[Math.cos(I),Math.sin(I)]}function d(I){var r=v(I,[0,0]),n=[I[0]/r,I[1]/r],Q=Math.atan(n[1]/n[0]);
if(n[0]>0&&n[1]<0){Q+=2*Math.PI}else if(n[0]<0&&n[1]<0){Q+=Math.PI}else if(n[0]<0&&n[1]>0){Q+=Math.PI}return Q}function x(I){var x=0;
for(var T=1;T<I.length/2;++T){x+=v([I[2*T],I[2*T+1]],[I[2*(T-1)],I[2*(T-1)+1]])}return x}function j(I,r,n){var Q=new Float32Array(I.length),D=1/(I.length/2),dG=H(n);
for(var T=0;T<I.length/2;++T){var R=T*D,X=R/2+.5,dx=1,jv=0;if(n.shape==2){dx=1/(2*X)}if(n.shape==3){X=(1-R)/2+.5;
dx=1/(2*X)+.5}if(n.shape==4){X=R;dx=Math.sin(3/2*Math.PI*X)/4+1}if(n.shape==5){X=(R-.5)*6;dx=(-Math.atan(X)/1.25+1)/5+.6-.2*R}var gB=[null,null];
if(T==0){gB=J([I[2*T],I[2*T+1]],[I[2*(T+1)],I[2*(T+1)+1]])}else if(T==I.length/2-1){gB=J([I[2*(T-1)],I[2*(T-1)+1]],[I[2*T],I[2*T+1]])}else{gB=J([I[2*(T-1)],I[2*(T-1)+1]],[I[2*(T+1)],I[2*(T+1)+1]])}Q[2*T]=I[2*T]+(dx*r+jv)*gB[0];
Q[2*T+1]=I[2*T+1]+(dx*r+jv)*gB[1];if(n.style==2){Q[2*T]+=A(2*T/Q.length,dG,n)}}return Q}function E(I,r,n){var Q=new Float32Array(I.length),D=1/(I.length/2);
for(var T=0;T<I.length/2;++T){var dG=T*D,R=[null,null],X=.6*n.Zs*K(dG,r.a5n)*n.bU/100,dx=.6*n.Zs*K(dG,r.a5W)*n.bU/100,jv=r.aGG*X+(1-r.aGG)*dx;
if(T==0){R=J([I[2*T],I[2*T+1]],[I[2*(T+1)],I[2*(T+1)+1]])}else if(T==I.length/2-1){R=J([I[2*(T-1)],I[2*(T-1)+1]],[I[2*T],I[2*T+1]])}else{R=J([I[2*(T-1)],I[2*(T-1)+1]],[I[2*(T+1)],I[2*(T+1)+1]])}Q[2*T]=I[2*T]+jv*R[0];
Q[2*T+1]=I[2*T+1]+jv*R[1]}return Q}function L(I){if(I.TU==1){return[.150684932,.205479452,.465753425,.178082192]}else if(I.TU==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var r=[],n=1/(P(I)-1);
for(var T=0;T<P(I)-1;++T){r.push(n)}return r}}function p(I,r,n){var Q=[],D=r-I,dG=I;for(var T=0;T<n.length-1;
++T){Q.push(dG+n[T]*D);dG=Q[T]}return Q}function Z(I,r,n,Q){var D=new Float32Array(n.length),dG=0,R={shape:Math.floor(Q.random()*2.99),ax7:Q.random()*.1+.15};
for(var T=0;T<n.length-1;++T){var X=dG+n[T];D[T]=((1-X)*I+X*r)*F(Q,X,R);dG=X}return D}function o(I,r,n,Q){var D=z(Q),dG=Q.random(),R=dG*20+(1-dG)*26,X=new Float32Array(n.length),dx=0;
for(var T=0;T<n.length-1;++T){var jv=dx+n[T];X[T]=(1-jv)*I+jv*r+D/R*(2/3*Math.sin(Math.PI*jv)+1/3*Math.sqrt(Math.sin(Math.PI*jv)));
dx=jv}return X}function u(I,r,n){var Q=[];for(var T=0;T<r.length-1;++T){Q.push(r[T].slice());var D=T*(P(n)-1),dG=(T+1)*(P(n)-1),R=I[dG]-I[D];
for(var X=D+1;X<dG;++X){var dx=H(n),jv=new Float32Array(r[0].length),gB=(I[X]-I[D])/R;for(var hQ=0;hQ<r[0].length/2;
++hQ){jv[2*hQ]=(1-gB)*r[T][2*hQ]+gB*r[T+1][2*hQ];jv[2*hQ+1]=(1-gB)*r[T][2*hQ+1]+gB*r[T+1][2*hQ+1];if(n.style==2){jv[2*hQ]+=A(2*hQ/r[0].length,dx,n)}}Q.push(jv)}}Q.push(r[r.length-1]);
return Q}function N(I,r,n){var Q=new Array(r.length),D=C(I),R=null;for(var T=0;T<r.length;++T){Q[T]=j(D,(r[T]-.5)*n.bU,n)}var dG=1+.05*n.amM*z(n)/z({TU:1});
for(var T=0;T<r.length;++T){if(r[T]==0){R=T}}for(var T=0;T<r.length;++T){var X=(n.random()-.5)*2,dx=Math.round(n.random()*9+1),jv=new Float32Array(dx*2+2);
for(var gB=0;gB<=dx;++gB){jv[2*gB]=Q[T][0]-(Q[T][2*gB]-Q[T][0]);jv[2*gB+1]=Q[T][1]-(Q[T][2*gB+1]-Q[T][1])}if(T==R){X*=.1}for(var gB=(Q[T].length-1)/2;
gB>dx;--gB){Q[T][2*gB]=(1-X)*Q[T][2*gB]+X*(Q[T][2*(gB-dx)]+dG*(Q[T][2*gB]-Q[T][2*(gB-dx)]));Q[T][2*gB+1]=(1-X)*Q[T][2*gB+1]+X*(Q[T][2*(gB-dx)+1]+dG*(Q[T][2*gB+1]-Q[T][2*(gB-dx)+1]))}for(var gB=dx-1;
gB>=0;--gB){Q[T][2*gB]=(1-X)*Q[T][2*gB]+X*(jv[2*(dx-gB)]+dG*(Q[T][2*gB]-jv[2*(dx-gB)]));Q[T][2*gB+1]=(1-X)*Q[T][2*gB+1]+X*(jv[2*(dx-gB)+1]+dG*(Q[T][2*gB+1]-jv[2*(dx-gB)+1]))}}var hQ=l(r,n);
if(n.Zs>0){var ah=0;for(var T=0;T<r.length;++T){if(T==0){ah+=r[T]}else{ah+=Math.abs(r[T]-r[T-1])}var kG=ah-Math.floor(ah),iZ=1;
if(kG==0){iZ=0}Q[T]=E(Q[T],{a5n:hQ[Math.floor(ah)],a5W:hQ[Math.floor(ah)+iZ],aGG:kG},n)}}return Q}function M(I,r){var n=w(r,I),Q=y(r,I),D=[],dG=[],R=[],X=L(I);
for(var T=0;T<r.length-1;++T){D.push(r[T]);dG.push(n[T]);R.push(Q[T]);var dx=p(r[T],r[T+1],X),jv=Z(n[T],n[T+1],X,I),gB=o(Q[T],Q[T+1],X,I);
for(var hQ=0;hQ<dx.length;++hQ){D.push(dx[hQ]);dG.push(jv[hQ]);R.push(gB[hQ])}}D.push(r[r.length-1]);
dG.push(n[n.length-1]);R.push(Q[Q.length-1]);return{ayy:D,a1q:dG,Hm:R}}function O(I,r,n,Q){var D=new Float32Array(2*Q),dG=I.length/2,R=dG-r,X=n*R,dx=X/Q;
for(var T=0;T<Q;++T){var jv=Math.floor(r+T*dx),gB=Math.ceil(r+T*dx),n=r+T*dx,hQ=gB-jv,ah=1,kG=0;if(hQ!=0){ah=(gB-n)/hQ;
kG=(n-jv)/hQ}D[2*T]=ah*I[2*jv]+kG*I[2*gB];D[2*T+1]=ah*I[2*jv+1]+kG*I[2*gB+1]}return D}function F(I,r,n){var Q=n.ax7,D=r*2*Math.PI,dG=D,R=0;
if(n.shape==0){R=(Math.sin(2*dG+Math.PI/2)+1)/2}else if(n.shape==1){R=(Math.sin(dG+Math.PI/2)+1)/2}else{R=(4*Math.sin(3/4*dG+Math.PI)+Math.sin(Math.PI/2+2*dG)-2*dG/Math.PI+6)/7}return Math.min(1,1-Q+Q*R)}function W(I,r,n,Q){var D=[];
for(var T=0;T<I.length;++T){D.push(O(I[T],r[T],n[T],Q))}return D}function f(I,r,n){var Q=[];for(var T=0;
T<I.length;++T){var D=m(2*Math.PI*n.random()),dG=m(2*Math.PI*n.random()),R=n.Ve*.5*g({TU:1})/g(n),X=R*n.bU/200,dx=R*r/500,jv=new Float32Array(I[0].length);
for(var gB=0;gB<I[0].length/2;++gB){var hQ=m(2*Math.PI*n.random()),ah=2*gB/I[0].length;jv[2*gB]=I[T][2*gB]+X*(hQ[0]+((1-ah)*D[0]+ah*dG[0]));
jv[2*gB+1]=I[T][2*gB+1]+dx*(hQ[1]+((1-ah)*D[1]+ah*dG[1]))}Q.push(jv)}return Q}function $(I,r,n){var Q=n.cL,D=2/Q,dG=[1/10,1/30,1/40,1/45,1/100],R=dG[n.TU-1],X=4*(n.S2/25*D*R)*(1-n.Ve/150),hQ=0,kG=0;
if(n.style==3){return X*.09}var dx=2.2*(I-.5),jv=dx*dx*dx*dx+.27+Math.max(0,(n.S2-50)/15),gB=2*(Math.sin(3*Math.PI*r)/(Math.PI*r+2)+1.1)-r/2;
r=2*r;if(r<.41){var ah=2*Math.PI*r/.41;hQ=(Math.sin(ah-Math.PI/2)+1)/4+.5}else if(r<.77){var ah=2*Math.PI*(r-.41)/.36;
hQ=(Math.sin(ah-Math.PI/2)+1)/4+.5-ah/2/Math.PI*.5}else{var ah=2*Math.PI*(r-.77)/.23;hQ=(Math.sin(ah-Math.PI/2)+1)/2*.12}hQ*=3;
hQ+=Math.max(0,(n.S2-50)/15);if(n.c==6){kG=gB}else{kG=hQ}return X*jv*kG}function H(I){return{l:I.random()*7/2+.5,BS:I.random()*2*Math.PI}}function A(I,r,n){return n.bU/300*P({TU:1})/P(n)*10*(Math.sin(r.l*2*Math.PI*I+r.BS)+10*(n.random()-.5))}function G(I){var r=Math.exp(-I.Zs/25);
return{l:I.random()*3/2+.5,BS:I.random()*2*Math.PI,jo:(I.random()-.5)*10*r}}function l(I,r){var n=Math.ceil(S(I)),Q=[];
for(var T=0;T<=n;++T){Q.push(G(r))}return Q}function K(I,r){var n=r.l*4*Math.PI*I+r.BS;return Math.exp(-1/2*Math.PI*I)*Math.cos(n)*Math.cos(n)*Math.cos(n)*Math.cos(n)*Math.cos(n)+I*r.jo-r.jo/4}function U(I,r,n,Q,D){var dG=0,R=g(r)-1;
for(var T=0;T<R;++T){for(var X=0;X<I.length-1;X+=P(r)-1){for(var dx=T;dx<I[0].length/2-R;dx+=R){for(var jv=X;
jv<X+(P(r)-1);++jv){n[D+dG]=$(jv*(r.cL-1)/(I.length-1)%1,dx/I[0].length,r);var gB=0,hQ=0;if(r.c==6&&jv!=0&&jv!=I.length-1){hQ=(I[jv][2*(dx+1)+1]-I[jv][2*dx+1])/2;
gB=(I[jv][2*(dx+1)]-I[jv][2*dx])/2}Q[8*D+8*dG]=I[jv][2*dx]+gB;Q[8*D+8*dG+1]=I[jv][2*dx+1]+hQ;Q[8*D+8*dG+2]=I[jv][2*(dx+R)]+gB;
Q[8*D+8*dG+3]=I[jv][2*(dx+R)+1]+hQ;Q[8*D+8*dG+4]=I[jv+1][2*(dx+R)];Q[8*D+8*dG+5]=I[jv+1][2*(dx+R)+1];
Q[8*D+8*dG+6]=I[jv+1][2*dx];Q[8*D+8*dG+7]=I[jv+1][2*dx+1];++dG}}}}}function z(I){var r=[100,300,500,700,1e3];
return r[I.TU-1]}function q(I){var r=[30,70,100,140,300];return r[I.TU-1]}function P(I){var r=[5,7,26,40,100];
return r[I.TU-1]}function g(I){if(I.TU==1){return 4}else if(I.TU==2){return 8}else{return Math.floor(q(I)/9)}}function a(I){var r=I.cL,n=new Float32Array(r),Q=null;
for(var T=0;T<r;++T){n[T]=I.random()}if(I.cL<=3){n[0]=0;n[I.cL-1]=1}else{for(var T=0;T<2;++T){var D=Math.floor(I.random()*r);
if(Q==null||Q!=D){n[D]=T;Q=D}else{n[D+1]=T}}}return n}function w(I,r){var n=[],Q=.2,dG=0;for(var T=0;
T<I.length;++T){var D=r.random()*(1-Q)+Q;n.push(D)}var R=Math.min(3,r.cL);for(var T=0;T<I.length;++T){if(n[T]>.9){++dG}}while(dG<R){var X=Math.floor(r.random()*I.length);
if(n[X]<=.9){n[X]=.9+.1*r.random();++dG}}return n}function y(I,r){var n=z(r),Q=z({TU:1}),D=[];for(var T=0;
T<I.length;++T){D.push(Math.max(1,(r.random()*10+2)*n/Q))}return D}function S(I){var r=0;for(var T=0;
T<I.length;++T){if(T==0){r+=I[T]}else{r+=Math.abs(I[T]-I[T-1])}}return r}function i(I,r){if(I.length/2-1==z(r)){return I}var n=new Float32Array(2*(z(r)+1)),Q=(I.length-2)/(n.length-2);
for(var T=0;T<n.length/2;++T){var D=T*Q,dG=Math.floor(D),R=Math.ceil(D),X=R-dG,dx=1,jv=0;if(X!=0){dx=(R-D)/X;
jv=(D-dG)/X}n[2*T]=dx*I[2*dG]+jv*I[2*R];n[2*T+1]=dx*I[2*dG+1]+jv*I[2*R+1]}return n}function C(I,r){var n=I.length/2,Q=x(I),D=Q/n,dG=!1,dx=0,jv=0,gB=1;
if(r){var R=Math.floor(Q/r.a3h),X=r.a3h;if(r.awF&&I[0]==I[I.length-2]&&I[1]==I[I.length-1]){dG=!0;X=Q/(R+1)}if(r.c==2&&!dG&&X*R+r.length>Q){n=R+1}else{n=R+2}D=X}var hQ=new Float32Array(n*2);
hQ[0]=I[0];hQ[1]=I[1];for(var T=1;T<n;++T){while(dx<=T*D){jv=dx;dx+=v([I[2*gB],I[2*gB+1]],[I[2*(gB-1)],I[2*(gB-1)+1]]);
++gB}var ah=1-(T*D-jv)/(dx-jv);hQ[2*T]=(1-ah)*I[2*gB]+ah*I[2*(gB-1)];hQ[2*T+1]=(1-ah)*I[2*gB+1]+ah*I[2*(gB-1)+1]}hQ[hQ.length-2]=I[I.length-2];
hQ[hQ.length-1]=I[I.length-1];return hQ}function Y(I,r){var n=C(I,r),Q=[];for(var T=0;T<(n.length-2)/2;
++T){var D=[];D.push(n[2*T]);D.push(n[2*T+1]);var dG=v([n[2*(T+1)],n[2*(T+1)+1]],[n[2*T],n[2*T+1]]),R=[(n[2*(T+1)]-n[2*T])/dG,(n[2*(T+1)+1]-n[2*T+1])/dG],X=m((r.a0C-90)/360*2*Math.PI),dx=R;
if(r.c==3){dx=X}else if(r.c==4){dx=m(d(R)+d(X))}else if(r.c==5){dx=m(((r.random()-.5)*r.a0C-90)/360*2*Math.PI)}var jv=r.length;
if(r.avJ){jv=2*r.random()*r.length}D.push(n[2*T]+dx[0]*jv);D.push(n[2*T+1]+dx[1]*jv);Q.push(D)}return Q}function _(I){if(I.ay9){I.$S=100*Math.random()}else{I.$S=I.a9L}I.random=new e;
I.random(I.$S);if(I.c==6){I.cL=2;I.shape=5;I.amM=0}}function t(I,r){I=i(I,r);var n=[I],jv=0;if(r.c>=2&&r.c<6){n=Y(I,r)}var Q=g(r)-1,D=q(r)-Q,dG=(r.cL-1)*(P(r)-1),R=n.length*D*dG,X=new Float32Array(R),dx=new Float32Array(8*R);
for(var T=0;T<n.length;++T){for(var gB=0;gB<1e4;++gB){r.$S=h(r.$S)}r.random(r.$S);var I=i(n[T],r),hQ=a(r),ah=S(hQ),kG=N(I,hQ,r),iZ=M(r,hQ),bs=u(iZ.ayy,kG,r);
bs=W(bs,iZ.Hm,iZ.a1q,q(r));if(r.Ve>0){bs=f(bs,x(n[T]),r)}U(bs,r,X,dx,jv);jv+=D*dG}return[X,dx]}var jZ=function(I){var r=performance.now(),n=I[0],Q=I[1];
_(Q);var D=[new Float32Array(0),new Float32Array(0)];for(var T=0;T<n.length;++T){Q.$S=h(Q.$S);var dG=t(n[T],Q),R=new Float32Array(D[0].length+dG[0].length),X=new Float32Array(D[1].length+dG[1].length);
R.set(D[0]);R.set(dG[0],D[0].length);D[0]=R;X.set(D[1]);X.set(dG[1],D[1].length);D[1]=X}var dx=performance.now();
if(Q.abN){console.en("Geometry: "+String(dx-r)+"ms")}return D};return jZ}(),aC=function(){function h(m,d){var x=[],j=0,E=d.length,L=0,p=0,Z=new fP,o=0,u=1e9;
for(p=0;p<E;p++){var N=p*8,M=d[p];if(M<u)u=M;var O=m[N+0],F=m[N+1],W=m[N+2],f=m[N+3],$=m[N+4],H=m[N+5],A=m[N+6],G=m[N+7],l=Math.min(O,W,$,A),K=Math.max(O,W,$,A),U=Math.min(F,f,H,G),z=Math.max(F,f,H,G),q=new fP(l,U,K-l,z-U),P=q.R$(Z),g=o+M;
if(p-L<10&&(p==L||P.$()*.8<q.$()+Z.$())){Z=P;o=g}else{x.push(p-L);L=p;Z=q;o=M;u=M}}if(p!=L)x.push(p-L);
return x}function e(m,d,x,j,E,L){var p=document.createElement("canvas"),F=0,R=.8;p.width=d;p.height=x;
var Z=p.getContext("2d"),o=E[0],u=E[1],N=new Float64Array(d*x),M=Date.now(),O=h(u,o);for(var W=0;W<O.length;
W++){var f=F,$=F+O[W],G=1e9,K=1e9,w=0;F=$;var H=f*8,A=$*8,l=-G,U=-K;for(var z=H;z<A;z+=2){var q=u[z],P=u[z+1];
if(q<G)G=q;if(q>l)l=q;if(P<K)K=P;if(P>U)U=P}G=Math.floor(G);l=Math.ceil(l);K=Math.floor(K);U=Math.ceil(U);
var g=l-G,a=U-K;for(var y=f;y<$;y++)w+=o[y];for(var z=H;z<A;z+=8){var S=o[z>>>3],i=u[z+0],C=u[z+1],Y=u[z+2],_=u[z+3],t=u[z+4],I=u[z+5],r=u[z+6],n=u[z+7];
Z.fillStyle="rgba(0,0,0,"+S/w+")";Z.beginPath();Z.moveTo(i,C);Z.lineTo(Y,_);Z.lineTo(t,I);Z.lineTo(r,n);
Z.closePath();Z.fill()}var Q=Z.getImageData(G,K,g,a).data;for(var P=0;P<a;P++)for(var q=0;q<g;q++){var T=P*g+q,D=Q[T*4+3],dG=(K+P)*d+G+q;
if(D!=0)N[dG]+=D*w}Z.clearRect(G,K,g,a)}var X=L[1].color,dx=Math.pow(X.n/255,R),jv=Math.pow(X.i/255,R),gB=Math.pow(X.b/255,R),hQ=new fP(0,0,d,x),ah=B.U(d*x*4);
for(var P=0;P<x;P++)for(var q=0;q<d;q++){var T=P*d+q,y=T*4,o=N[T]*(1/255);ah[y]=J(dx,o);ah[y+1]=J(jv,o);
ah[y+2]=J(gB,o);ah[y+3]=Math.min(255,o*255)}B.B.lU("norm",ah,hQ,j,hQ,hQ,1)}var v=new Uint8Array(2e3);
for(var T=0;T<2e3;T++)v[T]=255*Math.min(1,Math.log(T/700+1));function J(m,d){return v[Math.min(1500,~~(m*d*1e3))]}return e}(),kF=function(){var h=new Float32Array(3e3),e=new Float32Array(3e3),v=new Float32Array(256),J=new Float32Array(3e3);
function m(){var u=h.length;h[0]=Math.log10(157647e-9);for(var T=1;T<u;++T)h[T]=Math.log10(T/u)}function d(){var u=e.length;
for(var T=0;T<u;++T)e[T]=Math.pow(10,20*(T-u/2)/u)}function x(){var u=v.length;for(var T=0;T<u;++T)v[T]=B.ps(T/255)}function j(){var u=J.length;
for(var T=0;T<u;++T)J[T]=255*B.sq(T/(u-1))}function E(u,N){var M=u.length>>>2;for(var T=0;T<M;++T){var O=v[u[4*T]],F=v[u[4*T+1]],W=v[u[4*T+2]],f=.3811*O+.5783*F+.0402*W,$=.1967*O+.7244*F+.0782*W,H=.0241*O+.1288*F+.8444*W;
f=h[~~(f*h.length)];$=h[~~($*h.length)];H=h[~~(H*h.length)];N[3*T]=(f+$+H)*.5773502692;N[3*T+1]=(f+$-2*H)*.4082482905;
N[3*T+2]=(f-$)*.7071067812}}function L(u,N){var M=N.length>>>2,O=J.length-1;for(var T=0;T<M;++T){var F=.5773502692*u[3*T],W=.4082482905*u[3*T+1],f=.7071067812*u[3*T+2],$=e[~~((F+W+f+10)*(3e3/20))],H=e[~~((F+W-f+10)*(3e3/20))],A=e[~~((F-2*W+10)*(3e3/20))],G=4.4679*$-3.5873*H+.1193*A,l=-1.2186*$+2.3809*H-.1624*A,K=.0497*$-.2439*H+1.2045*A;
N[4*T]=J[~~(O*Math.max(0,Math.min(1,G)))];N[4*T+1]=J[~~(O*Math.max(0,Math.min(1,l)))];N[4*T+2]=J[~~(O*Math.max(0,Math.min(1,K)))]}}function p(u){var N=0,M=0,O=0;
for(var T=0;T<u.length;T+=3){N+=u[T];M+=u[T+1];O+=u[T+2]}return[N/(u.length/3),M/(u.length/3),O/(u.length/3)]}function Z(u,p){var N=0,M=0,O=0;
for(var T=0;T<u.length;T+=3){var F=u[T]-p[0],W=u[T+1]-p[1],f=u[T+2]-p[2];N+=F*F;M+=W*W;O+=f*f}return[Math.sqrt(N/(u.length/3)),Math.sqrt(M/(u.length/3)),Math.sqrt(O/(u.length/3))]}function o(u,N,M,O,F,W){m();
d();x();j();var f=0,C,Y;if(W[0]>100)f=-(W[0]-100)/100*.13;else if(W[0]>=75)f=(100-W[0])/25*.04;else if(W[0]>=50)f=.04+(75-W[0])/25*.04;
else if(W[0]>=25)f=.08+(50-W[0])/25*.08;else f=.16+(25-W[0])/25*.24;var $=(W[1]-100+100)/100,H=W[2]/100,A=W[3],G=new Float32Array(u.length*3/4),l=new Float32Array(O.length*3/4),K=Date.now();
E(u,G);E(O,l);var U=Date.now(),z=p(G),q=p(l),P=Date.now(),g=Z(G,z),a=Z(l,q),w=Date.now();q[0]*=Math.pow(10,f);
var y=[a[0]/g[0],a[1]/g[1],a[2]/g[2]],S=G.length,i=1/-1.1546978950500488;for(var T=0;T<S;T+=3){if(A){var _=Math.max(0,Math.min(1,G[T]*i));
_=1-Math.sqrt(_);C=_*q[1];Y=_*q[2]}else{C=q[1];Y=q[2]}G[T]=(G[T]-z[0])*y[0]+q[0];G[T+1]=(G[T+1]-z[1])*y[1]*$+C;
G[T+2]=(G[T+2]-z[2])*y[2]*$+Y}var t=Date.now();L(G,F);var I=F.length>>>2;for(var T=0;T<I;++T){F[4*T]=(1-H)*F[4*T]+H*u[4*T];
F[4*T+1]=(1-H)*F[4*T+1]+H*u[4*T+1];F[4*T+2]=(1-H)*F[4*T+2]+H*u[4*T+2];F[4*T+3]=255}}return o}(),aM=function(){function h(e,v,J,m,d){var x=[-1,-1,-1,-1],j=255,E=160,L,p=!1,Z=new Array(4);
Z[0]=new Array(v);Z[1]=new Array(J);Z[2]=new Array(v);Z[3]=new Array(J);var o=new Array(2);o[0]=new Array(J);
o[1]=new Array(J);function u(a,w,y,S,i){this.start=S;this.axis=i;this.dir=a;this.end=-1;this.source=w;
this.$=y}function N(a,w,y,S,i){if(y%2==0){if(!Z[y][a])Z[y][a]=new Array;Z[y][a].push(new u(y,S,i,w,a))}else{if(!Z[y][w])Z[y][w]=new Array;
Z[y][w].push(new u(y,S,i,a,w))}var C=Date.now()}function M(T){var a=!1,w=0;if(e[4*T+3]<j)return a;var y=T%v,S=Math.floor(T/v);
O(y,S);if(T+v<v*J&&e[4*(T+v)+3]<j&&e[4*(T-v)+3]>=j&&e[4*(T-2*v)+3]>=j){var i=2;if(e[4*(T+v)+3]<=E)w=-1;
if(e[4*(T+2*v-1)+3]<j&&e[4*(T+2*v+1)+3]<j)a=!0;else if(e[4*(T+2*v-1)+3]>=j&&e[4*(T+1)+3]>=j)a=!0;else if(e[4*(T+2*v+1)+3]>=j&&e[4*(T-1)+3]>=j)a=!0;
N(y,S,i,w,a)}else if(T-v>=0&&e[4*(T-v)+3]<j&&e[4*(T+v)+3]>=j&&e[4*(T+2*v)+3]>=j){var i=0;if(e[4*(T-v)+3]<=E)w=-1;
if(e[4*(T-2*v-1)+3]<j&&e[4*(T-2*v+1)+3]<j)a=!0;else if(e[4*(T-2*v-1)+3]>=j&&e[4*(T+1)+3]>=j)a=!0;else if(e[4*(T-2*v+1)+3]>=j&&e[4*(T-1)+3]>=j)a=!0;
N(y,S,i,w,a)}w=0;if(T+1<v*J&&e[4*(T+1)+3]<j&&e[4*(T-1)+3]>=j&&e[4*(T-2)+3]>=j){var i=3;if(e[4*(T+1)+3]<=E)w=-1;
if(!a&&e[4*(T+v+2)+3]<j&&e[4*(T-v+2)+3]<j){a=!0;N(y,S,i,w,!0)}else N(y,S,i,w,!1)}else if(T>=1&&e[4*(T-1)+3]<j&&e[4*(T+1)+3]>=j&&e[4*(T+2)+3]>=j){var i=1;
if(e[4*(T-1)+3]<=E)w=-1;if(!a&&e[4*(T+v-2)+3]<j&&e[4*(T-v-2)+3]<j){a=!0;N(y,S,i,w,!0)}else N(y,S,i,w,!1)}return a}function O(T,a){if(x[0]==-1){x[0]=T;
x[1]=a;x[2]=1;x[3]=1}if(T<x[0]){x[2]+=x[0]-T;x[0]=T}if(T>x[0]+x[2])x[2]=T-x[0];if(a<x[1]){x[3]+=x[1]-a;
x[1]=a}if(a>x[1]+x[3])x[3]=a-x[1]}function F(a,T,w,y){if(!w.$)return;var S=(a+2)%4,i=w.start,C=x[1];
if(a==2)C+=x[3];else if(a==1)C=x[0];else if(a==3)C=x[0]+x[2];var Y=w.source;if(Z[S][T])for(var _=0;_<Z[S][T].length;
++_){if(a>1){var t=i+Math.floor((Z[S][T][_].start-i)/2);if(Z[S][T][_].start>i&&t<C)C=t}else{var t=i-Math.floor((i-Z[S][T][_].start)/2);
if(Z[S][T][_].start<i&&t>C)C=t}}for(var I=1;I<Math.abs(C-i);++I){var _=i+I;if(a==1||a==0)_=i-I;for(var r=0;
r<2;++r){var n=2*r,Q=!1;if(a%2==0)n+=1;if(Z[n][_]){for(var D=0;D<Z[n][_].length;++D){if(Z[n][_][D].$){var dG=Z[n][_][D].start,R=T-dG,X=_-i;
if(n==0||n==1)R=-R;if(R<=0)continue;if(a==0||a==1)X=-X;if(X>R){C=_;Q=!0;break}}}if(Q)break}}}w.end=C;
$(a,T,i,C,Y)}function W(a){for(var T=0;T<Z[a].length;++T){if(Z[a][T])for(var w=0;w<Z[a][T].length;++w){F(a,T,Z[a][T][w])}}}function f(){var a=[2,0,3,1];
for(var T=0;T<a.length;++T)W(a[T])}function $(a,T,w,y,S){if(a==2)for(var i=w;i<=y;++i){if(!H(i*v+T,(w+S)*v+T))return!1}else if(a==0)for(var i=w;
i>=y;--i){if(!H(i*v+T,(w-S)*v+T))return!1}else if(a==1)for(var i=w;i>=y;--i){if(!H(T*v+i,T*v+w-S))return!1}else if(a==3)for(var i=w;
i<=y;++i){if(!H(T*v+i,T*v+w+S))return!1}}function H(a,w){if(!L[a]){m[4*a]=m[4*w];m[4*a+1]=m[4*w+1];m[4*a+2]=m[4*w+2];
if(p)m[4*a+3]=255;L[a]=!0;return!0}return!1}function A(){for(var T=0;T<4;T+=1){for(var a=0;a<Z[T].length;
++a){if(Z[T][a])for(var w=0;w<Z[T][a].length;++w){var y=Z[T][a][w];for(var S=1;S<3;S+=2){var i=(T+S)%4;
if(Z[i][y.start])for(var C=0;C<Z[i][y.start].length;++C){if(Z[i][y.start][C].start==y.axis){var iW=v*y.start+y.axis;
if(T%2==1){iW=y.start+v*y.axis;G(Z[i][y.start][C])}else G(y)}}}}}}}function G(a){if(a.dir%2==0){var iW=v*a.start+a.axis,w=a.start,y=1;
if(!L[iW+1])y=3;else if(L[iW-1])return;var S=m[4*iW],i=m[4*iW+1],C=m[4*iW+2];while(m[4*iW]==S&&m[4*iW+1]==i&&m[4*iW+2]==C){if(y==1){if(!o[0][w])o[0][w]=new Array;
o[0][w].push(new u(y,0,!1,a.axis,w))}else{if(!o[1][w])o[1][w]=new Array;o[1][w].push(new u(y,0,!1,a.axis,w))}if(a.dir==2){iW+=v;
w++}else{iW-=v;w--}}}}function l(){for(var a=0;a<2;++a){var w=(a+1)%2;for(var T=0;T<o[a].length;++T){if(o[a][T])for(var y=0;
y<o[a][T].length;++y){var S=x[0];if(a==1)S+=x[2];var i=o[a][T][y].start;if(o[w][T])for(var C=0;C<o[w][T].length;
++C){var Y=o[w][T][C].eL;if(a==0){if(Y>S&&Y<i){S=i-Math.floor((i-Y)/2)}}else{if(Y<S&&Y>i){S=i+Math.ceil((Y-i)/2)}}}if(a==0)$(o[a][T][y].dir,T,i-1,S,-1);
else $(o[a][T][y].dir,T,i+1,S,-1)}}}for(var T=0;T<L.length;++T){if(!L[T]&&T%v>=x[0]&&T%v<=x[0]+x[2]&&Math.floor(T/v)>=x[1]&&Math.floor(T/v)<=x[1]+x[3]){var i=v;
if(T<i||!L[T-i])i=1;m[4*T]=m[4*(T-i)];m[4*T+1]=m[4*(T-i)+1];m[4*T+2]=m[4*(T-i)+2];L[T]=!0;if(p)m[4*T+3]=255}}}function K(){L=new Array(e.length/4);
for(var T=0;T<m.length/4;++T){L[T]=!1;m[4*T]=e[4*T];m[4*T+1]=e[4*T+1];m[4*T+2]=e[4*T+2];m[4*T+3]=e[4*T+3];
if(m[4*T+3]==255)L[T]=!0;if(M(T))L[T]=!1}if(x[0]>0){x[0]--;x[2]++}if(x[1]>0){x[1]--;x[3]++}if(x[0]+x[2]<v){x[2]++}if(x[1]+x[3]<J){x[3]++}}var U=Date.now();
K();var z=Date.now();f();var q=Date.now();A();var P=Date.now();l();var g=Date.now();console.log("Init: "+String(z-U));
console.log("Filling: "+String(q-z));console.log("Check areas: "+String(P-q));console.log("Fill areas: "+String(g-P))}return h}();
function hj(){}hj.a4h=function(h){var e=[B.ps(h[0]),B.ps(h[1]),B.ps(h[2]),0];return B.$c.QE(B.$c.ak0,e)};
hj.ag8=function(h){var e=B.$c.QE(B.$c.eq,h);return[B.sq(e[0]),B.sq(e[1]),B.sq(e[2])]};hj.s6=function(h,e){var v={},J=5003,m=1667,d=25e3,x=57.4,j=16.1,E=1.8,L=0,p=1.54,Z=.75,N=0;
if(e>0){h-=e/100*4}if(h<0){j=22.54;x=80.36;p=.756}if(e>0){E=1.3;Z=.2}var o=Math.min(J+x*h,d),u=Math.max(J-j*h,m);
if(h<0){o=Math.max(J+j*h,m);u=Math.min(J-x*h,d)}if(h>0){if(h<=14){N=(h-1)/13*.075+.025}else if(h<=29){N=.1}else if(h<=60){N=.1-.1*(h-29)/(60-29)}else{var M=h-60;
L=-20*(M/40);N=-.3*(M/40)}}else{if(h<-60){var M=h+60;L=-20*(M/40)}}var O=Math.abs(h)/100*p+Math.abs(e)/100*Z+N,F=-(e*E+L),W=gz.Bv(o,-F),f=gz.Oy(W),$=gz.Bv(u,0),H=gz.Oy($),A=gz.aiM(f,H);
v.aBu=O;v.a4K=A;if(h==0&&e==0)v.a5E=!0;else v.a5E=!1;return v};hj.a8N=function(h,e,v,J){if(J.a5E){return[h,e,v]}var m=this.a4h([h,e,v]),d=m[0],x=m[1],j=m[2],E=x+1e-12,L=[d/E,x/E,j/E,0],p=B.$c.QE(J.a4K,L),Z=0,o=.4;
p[0]*=E;p[1]*=E;p[2]*=E;if(E>o)Z=1/(1-o)*(E-o);m[0]=(1-Z)*p[0]+Z*d;m[1]=(1-Z)*p[1]+Z*x;m[2]=(1-Z)*p[2]+Z*j;
return this.ag8(m)};B.as3={mf:function(h,e){var T=h.length;h.push(e);var v=T>>>1;while(v!=0&&h[T][0]<h[v][0]){var J=h[T];
h[T]=h[v];h[v]=J;T=v;v=T>>>1}},kb:function(h){if(h.length==2)return h.pop();var top=h[1],T=1;h[1]=h.pop();
var e=h.length;while(!0){var v=T<<1,J=v+1,m=T;if(v<e&&h[v][0]<h[m][0])m=v;if(J<e&&h[J][0]<h[m][0])m=J;
if(m==T)break;var d=h[T];h[T]=h[m];h[m]=d;T=m}return top},a09:function(h){for(var T=1;T<h.length;T++){var e=T,v=1e9;
while(e!=0){var J=h[e][0];if(J>v){console.log(T);throw"e"}v=J;e=e>>>1}}}};B.B={};B.B.hp=new Float64Array(256);
B.B.wf=new Uint8Array(256*256);B.B.Rl=new Uint8Array(256*256);(function(){for(var T=0;T<256;T++)B.B.hp[T]=255/T;
for(var T=0;T<256;T++)for(var h=0;h<256;h++)B.B.wf[T*256+h]=T==0?0:Math.round(h*255/T);for(var T=0;T<256;
T++)for(var h=0;h<256;h++)B.B.Rl[T*256+h]=Math.round(T*(255-h)/255)}());B.B.lU=function(h,e,v,J,m,d,x,j){if(j==null)j=d4.xO();
var E=B._H(e);if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(h)==-1){x=x*j.fill;j.fill=1;
j.style=!1}var L="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),p="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),Z=B.B[h+"F"];
if(E==8){if(j.yH==null&&h=="norm")B.B.atK(e,v,J,m,d,x,Z,j.K3?1:0);else if(h=="diss")B.B.aqx(e,v,J,m,d,x,Z,j.K3?1:0);
else if(L.indexOf(h)!=-1)B.B.a34(e,v,J,m,d,x,Z,j);else if(p.indexOf(h)!=-1)B.B.aDX(e,v,J,m,d,x,Z,j)}else{if(h=="diss")B.B.a2q(e,v,J,m,d,x,Z,j.K3?1:0);
else if(L.indexOf(h)!=-1)B.B.aFk(e,v,J,m,d,x,Z,j);else if(p.indexOf(h)!=-1)B.B.aoJ(e,v,J,m,d,x,Z,j)}};
B.B.ay$=function(h,e,v){var J=h*v+1-v;return J<.001?0:1-Math.min(1,(1-e)/J)};B.B.ahW=function(h,e,v){return h*v==1?1:Math.min(1,e/(1-h*v))};
B.B.Gu=function(h){return h<=.25?((16*h-12)*h+4)*h:Math.sqrt(h)};B.B.normF=function(h,e,v){return h};
B.B.darkF=function(h,e,v){return Math.min(h,e)};B.B["mul F"]=function(h,e,v){return h*e};B.B.idivF=function(h,e,v){var J=h*v+1-v;
return e==1?1:1-e>=J?0:1-(1-e)/J};B.B.lbrnF=function(h,e,v){return Math.max(0,h*v+e-v)};B.B.dkClF=function(h,e,v){var J=B.qG(h)<B.qG(e)?h:e;
v.n=J.n;v.i=J.i;v.b=J.b;return v};B.B.liteF=function(h,e,v){return Math.max(h,e)};B.B.scrnF=function(h,e,v){return e+h-e*h};
B.B["div F"]=function(h,e,v){h*=v;return e==0?0:e>=1-h?1:e/(1-h)};B.B.lddgF=function(h,e,v){h*=v;return Math.min(1,h+e)};
B.B.lgClF=function(h,e,v){var J=B.qG(h)>B.qG(e)?h:e;v.n=J.n;v.i=J.i;v.b=J.b;return v};B.B.overF=function(h,e,v){return B.B.hLitF(e,h,v)};
B.B.sLitF=function(h,e,v){return h<=.5?e-(1-2*h)*e*(1-e):e+(2*h-1)*(B.B.Gu(e)-e)};B.B.hLitF=function(h,e,v){return h<=.5?B.B["mul F"](2*h,e,v):B.B.scrnF(2*h-1,e,v)};
B.B.vLitF=function(h,e,v){return h<=.5?B.B.ay$(2*h,e,v):B.B.ahW(2*h-1,e,v)};B.B.lLitF=function(h,e,v){return h<=.5?B.B.lbrnF(2*h,e,v):B.B.lddgF(2*h-1,e,v)};
B.B.pLitF=function(h,e,v){return h<=.5?B.B.darkF(2*h,e,v):B.B.liteF(2*h-1,e,v)};B.B.hMixF=function(h,e,v){if(v>.99)return h+e<1?0:1;
return Math.min(1,Math.max(0,(e+h*v-v)/(1-v+1e-6)))};B.B.diffF=function(h,e,v){h*=v;return Math.abs(h-e)};
B.B.smudF=function(h,e,v){return h+e-2*h*e};B.B.fsubF=function(h,e,v){return Math.max(e-h,0)};B.B.fdivF=function(h,e,v){return Math.min(e/h,1)};
B.B["hue F"]=function(h,e,v){B.B.t_(h,B.RI(e),v);B.B.Lt(v,B.qG(e),v)};B.B["sat F"]=function(h,e,v){B.B.t_(e,B.RI(h),v);
B.B.Lt(v,B.qG(e),v)};B.B.colrF=function(h,e,v){B.B.Lt(h,B.qG(e),v)};B.B["lum F"]=function(h,e,v){B.B.Lt(e,B.qG(h),v)};
B.B.Lt=function(h,e,v){var J=e-B.qG(h);v.n=h.n+J;v.i=h.i+J;v.b=h.b+J;B.B.a9H(v)};B.B.a9H=function(h){var e=h.n,v=h.i,J=h.b,m=B.Pr(e,v,J),iW=Math.min(e,v,J),d=Math.max(e,v,J);
if(iW<0){var x=m/(m-iW);e=m+(e-m)*x;v=m+(v-m)*x;J=m+(J-m)*x}if(d>1){var x=(1-m)/(d-m);e=m+(e-m)*x;v=m+(v-m)*x;
J=m+(J-m)*x}h.n=e;h.i=v;h.b=J};B.B.t_=function(h,e,v){var J=B.B.auY,m=h.n,d=h.i,x=h.b;if(m==d&&d==x){v.n=v.i=v.b=0}else if(m>d){if(m>x){if(d>x){v.n=e;
v.i=J(m,d,x,e);v.b=0}else{v.n=e;v.b=J(m,x,d,e);v.i=0}}else{v.b=e;v.n=J(x,m,d,e);v.i=0}}else{if(m<x){if(d>x){v.i=e;
v.b=J(d,x,m,e);v.n=0}else{v.b=e;v.i=J(x,d,m,e);v.n=0}}else{v.i=e;v.n=J(d,m,x,e);v.b=0}}};B.B.auY=function(h,e,v,J){return(e-v)*J/(h-v)};
B.B.atK=function(h,e,v,J,m,d,x,j){var E=e.UP(J).UP(m),L=Math.max(0,E.x-e.x),p=Math.max(0,E.x-J.x),Z=Math.max(0,E.y-e.y),o=Math.max(0,E.y-J.y),u=E.q,N=E._,M=e.q,O=J.q,F=B.B.wf,W=B.B.Rl,f=new Uint32Array(h.buffer),$=new Uint32Array(v.buffer);
for(var T=0;T<N;T++){var H=(Z+T)*M+L,A=(o+T)*O+p;for(var G=0;G<u;G++){var l=f[H+G],y=1;if(l>>>24==0)continue;
if(l>>>24==255&&d==1&&j==0){$[A+G]=f[H+G];continue}var K=$[A+G],U=l&255,z=l>>>8&255,q=l>>>16&255,P=K&255,g=K>>>8&255,a=K>>>16&255,w=d,S=(K>>>24)*(1/255);
if(j==0){w=(l>>>24)*d*(1/255);y=S}var i=y*(1-w),C=w+i,Y=1/C;$[A+G]=~~(.5+(j*S+(1-j)*C)*255)<<24|~~(.5+(q*w+a*i)*Y)<<16|~~(.5+(z*w+g*i)*Y)<<8|~~(.5+(U*w+P*i)*Y)}}};
B.B.af$=function(h,e,v,J,m,d){var x=e.UP(J).UP(m),j=Math.max(0,x.x-e.x),E=Math.max(0,x.x-J.x),L=Math.max(0,x.y-e.y),p=Math.max(0,x.y-J.y),Z=x.q,o=x._,u=e.q,N=J.q,M=B.B.wf,O=B.B.Rl,F=new Uint32Array(h.buffer),W=new Uint32Array(v.buffer),f=Math.floor(Math.random()*16777215),$=0;
for(var T=0;T<o;T++){var H=(L+T)*u+j,A=(p+T)*N+E;for(var G=0;G<Z;G++){var l=F[H+G];if(l>>>24==0)continue;
if(l>>24==255&&d==1){W[A+G]=l;continue}var K=W[A+G],U=(l>>>24)*d*(1/255),z=(K>>>24)*(1/255),q=z*(1-U),P=U+q,g=l&255,a=l>>>8&255,w=l>>>16&255,y=K&255,S=K>>>8&255,i=K>>>16&255;
$>>>=8;if((G&3)==0)$=B.B.o2(A+G+f);var C=P==0?0:1/P,Y=Math.floor(P*(256*255))+($&255)>>>8,_=Math.floor((w*U+i*q)*C+.5),t=Math.floor((a*U+S*q)*C+.5),I=Math.floor((g*U+y*q)*C+.5);
W[A+G]=Y<<24|_<<16|t<<8|I}}};B.B.xv=function(h,e,v,J,m,d,x,j){var E=B.Pr(h,e,v),L=B.Pr(J,m,d),p=Math.min,Z=B.B.aB4,o=Z(E,j,0);
o=p(o,Z(h,j,8));o=p(o,Z(e,j,16));o=p(o,Z(v,j,24));var u=Z(L,j,4);u=p(u,Z(J,j,12));u=p(u,Z(m,j,20));u=p(u,Z(d,j,28));
u=Math.max(u,1-x);var N=Math.min(o,u);return N<0?0:N>1?1:N};B.B.aB4=function(h,e,T){return Math.min((h-e[T])*e[T+1],(h-e[T+3])*e[T+2])};
B.B.a34=function(h,e,v,J,m,d,x,j){var E=1/255,L=E*d,p=j.K3?1:0,Z=j.fill,o=j.style,u=e.UP(J).UP(m),N=Math.max(0,u.x-e.x),M=Math.max(0,u.x-J.x),O=Math.max(0,u.y-e.y),F=Math.max(0,u.y-J.y),W=u.q,f=u._,$=e.q,H=J.q,A=new Uint32Array(h.buffer),G=new Uint32Array(v.buffer);
for(var T=0;T<f;T++){var l=(O+T)*$+N,K=(F+T)*H+M;for(var U=0;U<W;U++,l++,K++){var z=A[l],C=1;if(z>>>24==0)continue;
var q=G[K],P=(z&255)*E,g=(z>>>8&255)*E,a=(z>>>16&255)*E,w=(q&255)*E,y=(q>>>8&255)*E,S=(q>>>16&255)*E,i=d;
if(p==0){i=(z>>>24)*L;C=(q>>>24)*E}if(j.yH)i*=B.B.xv(P,g,a,w,y,S,C,j.yH);var Y=C*(1-i),_=i+Y,t=_==0?0:255/_,I=o?1:i,r=((1-C)*i*P+(1-I)*C*w+I*C*x(P,w,(1+i-I)*Z))*t,n=((1-C)*i*g+(1-I)*C*y+I*C*x(g,y,(1+i-I)*Z))*t,Q=((1-C)*i*a+(1-I)*C*S+I*C*x(a,S,(1+i-I)*Z))*t;
_=i*Z+C*(1-i*Z);var D=~~(_*255+.5);G[K]=p*(q>>>24)+(1-p)*D<<24|Q<<16|n<<8|r}}};B.B.aFk=function(h,e,v,J,m,d,x,j){var E=B._H(h),L=E==32?1:E==16?65535:255,p=1/L,Z=j.K3?1:0,o=j.fill,u=j.style,N=e.UP(J).UP(m),M=Math.max(0,N.x-e.x),O=Math.max(0,N.x-J.x),F=Math.max(0,N.y-e.y),W=Math.max(0,N.y-J.y),f=N.q,$=N._,H=e.q,A=J.q;
for(var T=0;T<$;T++){var G=(F+T)*H+M,l=(W+T)*A+O;for(var K=0;K<f;K++,G++,l++){var U=G*4,z=l*4,q=h[U]*p,P=h[U+1]*p,g=h[U+2]*p,i=1;
if(h[U+3]==0)continue;var a=v[z]*p,w=v[z+1]*p,y=v[z+2]*p,S=d;if(Z==0){S=h[U+3]*p*d;i=v[z+3]*p}if(j.yH)S*=B.B.xv(q,P,g,a,w,y,i,j.yH);
var C=i*(1-S),Y=S+C,_=Y==0?0:L/Y,t=u?1:S,I=((1-i)*S*q+(1-t)*i*a+t*i*x(q,a,(1+S-t)*o))*_,r=((1-i)*S*P+(1-t)*i*w+t*i*x(P,w,(1+S-t)*o))*_,n=((1-i)*S*g+(1-t)*i*y+t*i*x(g,y,(1+S-t)*o))*_;
Y=S*o+i*(1-S*o);v[z]=I;v[z+1]=r;v[z+2]=n;v[z+3]=Z*v[z+3]+(1-Z)*(Y*L)}}};B.B.aDX=function(h,e,v,J,m,d,x,j){var E=1/255,L=E*d,p=j.K3?1:0,Z=e.UP(J).UP(m),o=Math.max(0,Z.x-e.x),u=Math.max(0,Z.x-J.x),N=Math.max(0,Z.y-e.y),M=Math.max(0,Z.y-J.y),O=Z.q,F=Z._,W=new Uint32Array(h.buffer),f=new Uint32Array(v.buffer),$={n:0,i:0,b:0},H={n:0,i:0,b:0},A={n:0,i:0,b:0};
for(var T=0;T<F;T++){var G=(N+T)*e.q+o,l=(M+T)*J.q+u;for(var K=0;K<O;K++,G++,l++){var U=W[G],z=f[l],q=(U&255)*E,P=(U>>>8&255)*E,g=(U>>>16&255)*E,a=(z&255)*E,w=(z>>>8&255)*E,y=(z>>>16&255)*E,S=d,i=1;
if(p==0){S=(U>>>24)*L;i=(z>>>24)*E}if(j.yH)S*=B.B.xv(q,P,g,a,w,y,i,j.yH);var C=i*(1-S),Y=S+C,_=255/Y;
$.n=q;$.i=P;$.b=g;H.n=a;H.i=w;H.b=y;x($,H,A);var t=(((1-i)*q+i*A.n)*S+a*C)*_,I=(((1-i)*P+i*A.i)*S+w*C)*_,r=(((1-i)*g+i*A.b)*S+y*C)*_,n=p*(z>>>24)+(1-p)*Math.round(Y*255);
f[l]=n<<24|r<<16|I<<8|t}}};B.B.aoJ=function(h,e,v,J,m,d,x,j){var E=B._H(h),L=E==32?1:E==16?65535:255,p=1/L,Z=j.K3?1:0,o=e.UP(J).UP(m),u=Math.max(0,o.x-e.x),N=Math.max(0,o.x-J.x),M=Math.max(0,o.y-e.y),O=Math.max(0,o.y-J.y),F=o.q,W=o._,f={n:0,i:0,b:0},$={n:0,i:0,b:0},H={n:0,i:0,b:0};
for(var T=0;T<W;T++){var A=(M+T)*e.q+u,G=(O+T)*J.q+N;for(var l=0;l<F;l++,A++,G++){var K=A*4,U=G*4,z=h[K]*p,q=h[K+1]*p,P=h[K+2]*p,S=1;
if(h[K+3]==0)continue;var g=v[U]*p,a=v[U+1]*p,w=v[U+2]*p,y=d;if(Z==0){y=h[K+3]*p*d;S=v[U+3]*p}if(j.yH)y*=B.B.xv(z,q,P,g,a,w,S,j.yH);
var i=S*(1-y),C=y+i,Y=L/C;f.n=z;f.i=q;f.b=P;$.n=g;$.i=a;$.b=w;x(f,$,H);v[U]=(((1-S)*z+S*H.n)*y+g*i)*Y;
v[U+1]=(((1-S)*q+S*H.i)*y+a*i)*Y;v[U+2]=(((1-S)*P+S*H.b)*y+w*i)*Y;v[U+3]=Z*v[U+3]+(1-Z)*Math.round(C*L)}}};
B.B.qx=function(h){h=h^61^h>>>16;h=h+(h<<3);h=h^h>>>4;h=h*668265261;h=h^h>>15;return(h&16777215)*(1/16777215)};
B.B.o2=function(h){h=h^61^h>>>16;h=h+(h<<3);h=h^h>>>4;h=h*668265261;h=h^h>>>15;return h};B.B.Ay=function(h){this.nw=h};
B.B.Ay.prototype.get=function(){var h=this.nw=B.B.o2(this.nw);return(h&16777215)*(1/16777215)};B.B.aqx=function(h,e,v,J,m,d,x,j){var E=Math.round(d*(256*256*256/255)),L=e.UP(J).UP(m),p=Math.max(0,L.x-e.x),Z=Math.max(0,L.x-J.x),o=Math.max(0,L.y-e.y),u=Math.max(0,L.y-J.y),N=L.q,M=L._,O=new Uint32Array(h.buffer),F=new Uint32Array(v.buffer);
for(var T=0;T<M;T++){var W=(o+T)*e.q+p,f=(u+T)*J.q+Z;for(var $=0;$<N;$++,W++,f++){var H=O[W],A=F[f],G=j*255+(1-j)*(H>>>24);
if((B.B.o2(W)&16777215)>=G*E)continue;F[f]=H&16777215|j*(A>>>24)+(1-j)*255<<24}}};B.B.a2q=function(h,e,v,J,m,d,x,j){var E=B._H(h),L=E==32?1:E==16?65535:255,p=1/L,Z=e.UP(J).UP(m),o=Math.max(0,Z.x-e.x),u=Math.max(0,Z.x-J.x),N=Math.max(0,Z.y-e.y),M=Math.max(0,Z.y-J.y),O=Z.q,F=Z._;
for(var T=0;T<F;T++){var W=(N+T)*e.q+o,f=(M+T)*J.q+u;for(var $=0;$<O;$++,W++,f++){var H=W*4,A=f*4,G=h[H+3]*p,l=v[A+3]*p;
G=j+(1-j)*G;if((B.B.o2(W)&255)*(1/255)>=G*d)continue;v[A]=h[H];v[A+1]=h[H+1];v[A+2]=h[H+2];v[A+3]=(j*l+(1-j))*L}}};
B.B.akB=function(h,e,v){for(var T=0;T<h.length;T+=4){var J=v[T>>>2];if(J==0)continue;var m=J*(1/255),d=1/m,x=e[T],j=e[T+1],E=e[T+2],L=h[T],p=h[T+1],Z=h[T+2];
e[T]=Math.min(255,Math.max(0,Math.round((x-(1-m)*L)*d)));e[T+1]=Math.min(255,Math.max(0,Math.round((j-(1-m)*p)*d)));
e[T+2]=Math.min(255,Math.max(0,Math.round((E-(1-m)*Z)*d)));e[T+3]=255}};B.B.JD=function(h,e,v,J,m,d,x,j,E,L,p){if(L==null)L=!1;
if(p==null)p=[1,1,1];var Z=255<<24|p[2]*16711680|p[1]*65280|p[0]*255,o=~Z;if(m&&!e.lS(d)){var u=B.U(e.$()*4);
u.fill(x);B.Ww(m,d,u,e);m=u;d=e}if(L){if(m==null)B.B.a2f(h,e,v,J,m,j,E,Z,o);else B.B.aDo(h,e,v,J,m,j,E)}else{if(m==null)B.B.ama(h,e,v,J,m,j,E,Z,o);
else B.B.aFQ(h,e,v,J,m,j,E)}};B.B.ama=function(h,e,v,J,m,d,x,j,E){var L=1/255,p=e.UP(J).UP(d),Z=Math.max(0,p.x-e.x),o=Math.max(0,p.x-J.x),u=Math.max(0,p.y-e.y),N=Math.max(0,p.y-J.y),M=p.q,O=p._,F=new Uint32Array(h.buffer),W=new Uint32Array(v.buffer),f=B.B.wf,$=x*255&255;
for(var T=0;T<O;T++){var H=(u+T)*e.q+Z,A=(N+T)*J.q+o;for(var G=0;G<M;G++,H++,A++){var l=F[H],K=W[A],U=l>>>24,z=K>>>24,q=B.c1($*U+(255-$)*z),P=B.c1(U*$),g=B.c1(z*(255-$)),a=l&255,w=l>>>8&255,y=l>>>16&255,S=K&255,i=K>>>8&255,C=K>>>16&255,Y=P*a+S*g,_=P*w+i*g,t=P*y+C*g;
Y=f[q<<8|B.c1(Y)];_=f[q<<8|B.c1(_)];t=f[q<<8|B.c1(t)];var I=q<<24|t<<16|_<<8|Y;W[A]=E&K|j&I}}};B.B.a2f=function(h,e,v,J,m,d,x,j,E){var L=1/255,p=e.UP(J).UP(d),Z=Math.max(0,p.x-e.x),o=Math.max(0,p.x-J.x),u=Math.max(0,p.y-e.y),N=Math.max(0,p.y-J.y),M=p.q,O=p._,F=new Uint32Array(h.buffer),W=new Uint32Array(v.buffer),f=B.B.wf,$=x*16777215&16777215;
for(var T=0;T<O;T++){var H=(u+T)*e.q+Z,A=(N+T)*J.q+o;for(var G=0;G<M;G++,H++,A++){if((B.B.o2(H)&16777215)<$){W[A]=E&W[A]|j&F[H]}}}};
B.B.aFQ=function(h,e,v,J,m,d,x){var j=1/255,E=e.UP(J).UP(d),L=Math.max(0,E.x-e.x),p=Math.max(0,E.x-J.x),Z=Math.max(0,E.y-e.y),o=Math.max(0,E.y-J.y),u=E.q,N=E._,M=new Uint32Array(h.buffer),O=new Uint32Array(v.buffer),F=B.B.wf;
for(var T=0;T<N;T++){var W=(Z+T)*e.q+L,f=(o+T)*J.q+p;for(var $=0;$<u;$++,W++,f++){var H=m[W]*x&255;if(H==0)continue;
if(H==255){O[f]=M[W];continue}var A=M[W],G=O[f],l=A>>>24,K=G>>>24,U=B.c1(H*l+(255-H)*K),z=B.c1(l*H),q=B.c1(K*(255-H)),P=A&255,g=A>>>8&255,a=A>>>16&255,w=G&255,y=G>>>8&255,S=G>>>16&255,i=F[U<<8|B.c1(z*P+w*q)],C=F[U<<8|B.c1(z*g+y*q)],Y=F[U<<8|B.c1(z*a+S*q)];
O[f]=U<<24|Y<<16|C<<8|i}}};B.B.aDo=function(h,e,v,J,m,d,x){var j=1/255,E=e.UP(J).UP(d),L=Math.max(0,E.x-e.x),p=Math.max(0,E.x-J.x),Z=Math.max(0,E.y-e.y),o=Math.max(0,E.y-J.y),u=E.q,N=E._,M=new Uint32Array(h.buffer),O=new Uint32Array(v.buffer),F=B.B.wf,W=Math.round(x*257);
for(var T=0;T<N;T++){var f=(Z+T)*e.q+L,$=(o+T)*J.q+p;for(var H=0;H<u;H++,f++,$++){var A=m[f]*W;if((B.B.o2(f)&65535)<A)O[$]=M[f]}}};
B.B.adq=function(h,e,v,J,m,d,x){var j=1/255,E=e.UP(J).UP(d),L=Math.max(0,E.x-e.x),p=Math.max(0,E.x-J.x),Z=Math.max(0,E.y-e.y),o=Math.max(0,E.y-J.y),u=E.q,N=E._,M=new Uint32Array(h.buffer),O=new Uint32Array(v.buffer),F=Math.floor(Math.random()*J.$()),W=B.B.a3c;
for(var T=0;T<N;T++){var f=(Z+T)*e.q+L,$=(o+T)*J.q+p;for(var H=0;H<u;H++){var A=m[f+H]*x;if(A==0)continue;
if(A==255){O[$+H]=M[f+H];continue}var G=M[f+H],l=O[$+H],K=G>>>24,U=l>>>24,z=K*A*(1/255),q=U*(255-A)*(1/255),P=G&255,g=G>>>8&255,a=G>>>16&255,w=l&255,y=l>>>8&255,S=l>>>16&255,i=B.B.o2($+H+F),C=Math.floor((z+q)*256+.5)+(i>>>0&255)>>>8,Y=C==0?0:256/(z+q),_=P*z+w*q,t=g*z+y*q,I=a*z+S*q,r=Math.floor(_*Y+.5)+(i>>>8&255)>>>8,n=Math.floor(t*Y+.5)+(i>>>16&255)>>>8,Q=Math.floor(I*Y+.5)+(i>>>24&255)>>>8;
O[$+H]=C<<24|Q<<16|n<<8|r}}};B.B.a3c=function(h){return Math.floor(h+Math.random())};B.B.Y3=function(h,e,v,J,m,d,x){var j=1/255,E=e.UP(J).UP(d),L=Math.max(0,E.x-e.x),p=Math.max(0,E.x-J.x),Z=Math.max(0,E.y-e.y),o=Math.max(0,E.y-J.y),u=E.q,N=E._;
for(var T=0;T<N;T++){var M=(Z+T)*e.q+L,O=(o+T)*J.q+p;for(var F=0;F<u;F++,M++,O++){var W=x*m[M]*j;if(W==0)continue;
if(W==1){v[O]=h[M];continue}v[O]=h[M]*W+v[O]*(1-W)}}};B.atb=function(){function h(d){var x=d*.85;return Math.exp(-(x*x)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function e(d,x){var j=d<x?1:h((d-x)/Math.pow(1.001-x,.86));
return j}var v=[];function J(d){if(v[d])return v[d];var x=Math.pow(d,.55),j=new Float64Array(8e3),E=0,L=8e3;
for(var T=0;T<8e3;T++){var p=e(T*(1.55/4e3),x);if(p>=1)E=T;else if(p<=0&&L==8e3)L=T;j[T]=p}var Z=[j,E,L];
v[d]=Z;return Z}function m(d,x,j){if(d<4)x=1;var E=1+.55*(1-x),L=Math.round(j*d*E)+2,p=new fP(0,0,L,L),Z=B.U(L*L),o=[Z,p],u=L/2,N=E/(u-1);
if(d==2)N*=2;if(d==3)N*=1.6;var M=Date.now(),O=J(x),F=Math.round(8e3/u),W=O[0],f=O[1]-F,$=O[2]+F,H=Math.min(L,L+1>>>1),A=N*.4*(4e3/1.55),G=B.U(8e3);
for(var T=0;T<8e3;T++){var l=T,K=T,U=~~Math.max(0,l-A-A),z=~~Math.max(0,l-A),q=~~Math.min(7999,l+A),P=~~Math.min(7999,l+A+A),g=~~(.5+255*(1/5)*(W[K]+W[U]+W[z]+W[q]+W[P]));
G[T]=g;if(g==0)break}for(var T=0;T<H;T++){var a=N*(T-u+.5),w=a*a,y=T*L,S=(L-1-T)*L;for(var i=0;i<H;i++){var C=N*(i-u+.5),K=~~(Math.sqrt(C*C+w)*(4e3/1.55));
if($<K)continue;else if(K<f){var g=255;while(i<H){var Y=L-1-i;Z[y+i]=g;Z[y+Y]=g;Z[S+i]=g;Z[S+Y]=g;i++}break}else{var g=G[K],Y=L-1-i;
Z[y+i]=g;Z[y+Y]=g;Z[S+i]=g;Z[S+Y]=g}}}return o}return{a5R:m}}();B.Y6={};B.Y6.acx=function(h,e,v,J,m,d){B.Y6.v_(h,e,v,J,m,d,null,0)};
B.Y6.a4C=function(h,e,v,J,m){B.Y6.v_(h,e,v,J,m,null,null,0)};B.Y6.a6u=function(h,e,v,J,m,d,x){B.Y6.v_(h,e,v,J,m,null,d,x*.5)};
B.Y6.v_=function(h,e,v,J,m,d,x,j){var E=0,q=0,P=1e9,g=0,a=1e9,w=0,y=1e9,S=0,i=0,C=0,Y=0;if(d){E=m*.5;
m=3+Math.round((m-3)*.75)}if(x){m=Math.round(m*2.2)}var L=1/m,p=Math.floor(e*L)+1,Z=Math.floor(v*L)+1,o=[],u=new Uint8Array(p*Z*4),N=x?.5:1,M=d?64:0;
for(var O=0;O<Z;O++){var F=x?.5*(O&1):0;for(var W=0;W<p;W++){var f=(W+Math.random()*N+F)*m,$=(O+Math.random()*N)*m;
o.push(f,$);var H=Math.min(e-1,Math.floor(f)),A=Math.min(v-1,Math.floor($)),G=(A*e+H)*4,l=(O*p+W)*4;
for(var T=0;T<4;T++)u[l+T]=Math.max(0,Math.min(255,Math.floor(h[G+T]+(Math.random()-.5)*M)))}}var K=d?d:x?x:[0,0,0],U=p*Z*2,z=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1];
for(var O=0;O<v;O++){C=0;for(var W=0;W<e;W++){var _=W+.5,t=O+.5,I=Math.floor(t*L),r=Math.floor(_*L),n=I*p+r,dG=0,R=0;
if(C>1+j){P=B.Y6.ahV(o,q,_,t);S=Math.sqrt(P);C--;Y++}else{P=a=y=1e9;for(var T=0;T<z.length;T++){var Q=(n+z[T])*2;
if(Q<0||Q>=U)continue;var D=B.Y6.ahV(o,Q,_,t);if(D<y){if(D<a){if(D<P){w=g;y=a;g=q;a=P;q=Q;P=D}else{w=g;
y=a;g=Q;a=D}}else{w=Q;y=D}}}S=Math.sqrt(P);i=Math.sqrt(a);C=i-(S+i)*.5}if(x==null){var X=(S+i)*.5,dx=d?Math.max(0,X-E):0;
dG=Math.max(0,Math.min(1,.5+X-S-dx));R=Math.max(0,Math.min(1,1-(.5+X-S)-dx))}else{var jv=Math.min(B.Y6.atG(o,q,g,_,t),B.Y6.atG(o,q,w,_,t));
dG=Math.max(0,Math.min(1,jv-j*.5));if(_<j||e-j<_||t<j||v-j<t)dG=0;R=0}var gB=1-R-dG,l=O*e+W<<2,hQ=q<<1,ah=g<<1;
J[l+0]=Math.floor(.5+dG*u[hQ+0]+R*u[ah+0]+gB*K[0]);J[l+1]=Math.floor(.5+dG*u[hQ+1]+R*u[ah+1]+gB*K[1]);
J[l+2]=Math.floor(.5+dG*u[hQ+2]+R*u[ah+2]+gB*K[2]);J[l+3]=h[l+3]}}};B.Y6.ahV=function(h,e,v,J){var m=v-h[e],d=J-h[e+1];
return m*m+d*d};B.Y6.atG=function(h,e,v,J,m){var d=h[e],x=h[e+1],j=h[v],E=h[v+1],L=(d+j)*.5,p=(x+E)*.5,Z=L+(E-x),o=p-(j-d),u=o-p,N=Z-L;
return Math.abs(u*J-N*m+Z*p-o*L)/Math.sqrt(N*N+u*u)};B.kK={};B.kK.q6=function(h){if(B.kK.aO.length<h)B.kK.aO=B.U(h);
return B.kK.aO};B.kK.aO=B.U(0);B.kK.a0$=function(h){if(B.kK.nO.length<h)B.kK.nO=new Float32Array(h);
return B.kK.nO};B.kK.nO=new Float32Array(0);B.kK.he=function(h,e,v,J){var m=v.q,d=v._;B.kK.at0(h,e,m,d,J)};
B.kK.PX=function(h,e,v,J){var m=v.q,d=v._;B.kK.atz(h,e,m,d,J)};B.kK.Yo=function(h,e,v){var J=e.q,m=e._;
B.kK.aeg(h,J,m,v)};B.kK.p2=function(h,e,v,J){var m=e.q,d=e._;B.kK.aBN(h,m,d,v,J)};B.kK.akp=function(h,e,v,J){var m=v.q,d=v._;
J=Math.round(J);var x=B.kK.q6(m*d);B.N7(h,e);B.kK.fh(e,x,m,d,J)};B.kK.A7=function(h,e,v){var J=e.q,m=e._;
v=Math.round(v);var d=B.kK.q6(J*m*4);B.kK.Pf(h,d,J,m,v)};B.kK.ay4=function(h,e,v){var J=e.q,m=e._;v=Math.round(v);
B.kK.aEY(h,B.kK.a0$(J*m),J,m,v)};B.kK.a9y=function(h,e,v){var J=e.q,m=e._;v=Math.round(v);var d=B.kK.q6(J*m*4);
B.kK.axu(h,d,J,m,v);B.N7(d,h)};B.kK.ET=function(h,iW){var e=Math.sqrt(12*h*h/iW+1),v=Math.floor(e);if(v%2==0)v--;
var J=v+2,m=(12*h*h-iW*v*v-4*iW*v-3*iW)/(-4*v-4),d=Math.round(m),x=[];for(var T=0;T<iW;T++)x.push(T<d?v:J);
return x};B.kK.at0=function(h,e,v,J,m){var d=B.kK.ET(m,3),x=B.kK.q6(v*J);B.N7(h,e);B.kK.fh(e,x,v,J,d[0]-1>>1);
B.kK.fh(e,x,v,J,d[1]-1>>1);B.kK.fh(e,x,v,J,d[2]-1>>1)};B.kK.atz=function(h,e,v,J,m){var d=B.kK.ET(m,2),x=B.kK.q6(v*J);
B.N7(h,e);B.kK.fh(e,x,v,J,d[0]-1>>1);B.kK.fh(e,x,v,J,d[1]-1>>1)};B.kK.aeg=function(h,e,v,J){var m=B.kK.ET(J,3),d=B.kK.q6(e*v*4);
B.kK.Pf(h,d,e,v,m[0]-1>>1);B.kK.Pf(h,d,e,v,m[1]-1>>1);B.kK.Pf(h,d,e,v,m[2]-1>>1)};B.kK.aBN=function(h,e,v,J,m){if(m==null)m=3;
var d=B.kK.ET(J,m),x=B.kK.a0$(e*v);for(var T=0;T<m;T++)B.kK.aEY(h,x,e,v,(d[T]-1)/2)};B.kK.fh=function(h,e,v,J,m){B.kK.a1c(h,e,v,J,m);
B.kK.aiJ(e,h,v,J,m)};B.kK.Pf=function(h,e,v,J,m){B.kK.axu(h,e,v,J,m);B.kK.aGo(e,h,v,J,m)};B.kK.aEY=function(h,e,v,J,m){B.kK.a7W(h,e,v,J,m);
B.kK.aqm(e,h,v,J,m)};B.kK.Bp=[];B.kK.UT=function(h){if(B.kK.Bp[h])return B.kK.Bp[h];var e=1/(h+h+1),v=(h+h+1)*256,J=B.U(v);
for(var T=0;T<v;T++)J[T]=Math.round(T*e);B.kK.Bp[h]=J;return J};B.kK.a1c=function(h,e,v,J,m){var d=1/(m+m+1),x=v-m-m-1,j=B.kK.UT(m);
for(var T=0;T<J;T++){var E=T*v,L=E,p=E+m,Z=h[E],o=h[E+v-1],u=(m+1)*Z;for(var N=0;N<m;N++)u+=h[E+N];for(var N=0;
N<=m;N++){u+=h[p+N]-Z;e[E+N]=j[u]}p+=m+1;E+=m+1;for(var N=0;N<x;N++){u+=h[p+N]-h[L+N];e[E+N]=j[u]}p+=x;
L+=x;E+=x;for(var N=v-m;N<v;N++){u+=o-h[L++];e[E++]=j[u]}}};B.kK.axu=function(h,e,v,J,m){var d=v<<2,x=m<<2,j=1/(m+m+1),E=v-m-m-1,L=E<<2,p=B.kK.UT(m);
for(var T=0;T<J;T++){var Z=T*d,o=Z,u=Z+x,N=Z+d,M=h[Z],O=h[Z+1],F=h[Z+2],W=h[Z+3],f=(m+1)*M,$=(m+1)*O,H=(m+1)*F,A=(m+1)*W;
for(var G=0;G<x;G+=4){f+=h[Z+G];$+=h[Z+G+1];H+=h[Z+G+2];A+=h[Z+G+3]}for(var G=0;G<=x;G+=4){f+=h[u]-M;
e[Z]=p[f];$+=h[u+1]-O;e[Z+1]=p[$];H+=h[u+2]-F;e[Z+2]=p[H];A+=h[u+3]-W;e[Z+3]=p[A];u+=4;Z+=4}for(var G=0;
G<L;G+=4){f+=h[u+G]-h[o+G];e[Z+G]=p[f];$+=h[u+G+1]-h[o+G+1];e[Z+G+1]=p[$];H+=h[u+G+2]-h[o+G+2];e[Z+G+2]=p[H];
A+=h[u+G+3]-h[o+G+3];e[Z+G+3]=p[A]}u+=L;o+=L;Z+=L;M=h[N-4];O=h[N-3];F=h[N-2];W=h[N-1];for(var G=v-m;
G<v;G++){f+=M-h[o];e[Z]=p[f];$+=O-h[o+1];e[Z+1]=p[$];H+=F-h[o+2];e[Z+2]=p[H];A+=W-h[o+3];e[Z+3]=p[A];
o+=4;Z+=4}}};B.kK.a7W=function(h,e,v,J,m){var d=1/(m+m+1),x=v-m-m-1;for(var T=0;T<J;T++){var j=T*v,E=j,L=j+m,p=h[j],Z=h[j+v-1],o=(m+1)*p;
for(var u=0;u<m;u++)o+=h[j+u];for(var u=0;u<=m;u++){o+=h[L+u]-p;e[j+u]=o*d}L+=m+1;j+=m+1;for(var u=0;
u<x;u++){o+=h[L+u]-h[E+u];e[j+u]=o*d}L+=x;E+=x;j+=x;for(var u=v-m;u<v;u++){o+=Z-h[E++];e[j++]=o*d}}};
B.kK.aiJ=function(h,e,v,J,m){var d=1/(m+m+1),x=J-m-m-1,j=B.kK.UT(m);for(var T=0;T<v;T++){var E=T,L=E,p=E+m*v,Z=h[E],o=h[E+v*(J-1)],u=(m+1)*Z;
for(var N=0;N<m;N++)u+=h[E+N*v];for(var N=0;N<=m;N++){u+=h[p]-Z;e[E]=j[u];p+=v;E+=v}for(var N=0;N<x;
N++){var M=N*v;u+=h[p+M]-h[L+M];e[E+M]=j[u]}L+=x*v;p+=x*v;E+=x*v;for(var N=J-m;N<J;N++){u+=o-h[L];e[E]=j[u];
L+=v;E+=v}}};B.kK.aGo=function(h,e,v,J,m){var d=v<<2,x=m<<2,j=1/(m+m+1),E=J-m-m-1,L=E<<2,p=B.kK.UT(m);
for(var T=0;T<v;T++){var Z=T<<2,o=Z,u=Z+m*d,N=Z+d*(J-1),M=h[Z],O=h[Z+1],F=h[Z+2],W=h[Z+3],f=(m+1)*M,$=(m+1)*O,H=(m+1)*F,A=(m+1)*W;
for(var G=0;G<m;G++){var l=Z+G*d;f+=h[l];$+=h[l+1];H+=h[l+2];A+=h[l+3]}for(var G=0;G<=m;G++){f+=h[u]-M;
e[Z]=p[f];$+=h[u+1]-O;e[Z+1]=p[$];H+=h[u+2]-F;e[Z+2]=p[H];A+=h[u+3]-W;e[Z+3]=p[A];u+=d;Z+=d}for(var G=0;
G<E;G++){var K=G*d;f+=h[u+K]-h[o+K];e[Z+K]=p[f];$+=h[u+K+1]-h[o+K+1];e[Z+K+1]=p[$];H+=h[u+K+2]-h[o+K+2];
e[Z+K+2]=p[H];A+=h[u+K+3]-h[o+K+3];e[Z+K+3]=p[A]}o+=E*d;u+=E*d;Z+=E*d;M=h[N];O=h[N+1];F=h[N+2];W=h[N+3];
for(var G=J-m;G<J;G++){f+=M-h[o];e[Z]=p[f];$+=O-h[o+1];e[Z+1]=p[$];H+=F-h[o+2];e[Z+2]=p[H];A+=W-h[o+3];
e[Z+3]=p[A];o+=d;Z+=d}}};B.kK.aqm=function(h,e,v,J,m){var d=1/(m+m+1),x=J-m-m-1;for(var T=0;T<v;T++){var j=T,E=j,L=j+m*v,p=h[j],Z=h[j+v*(J-1)],o=(m+1)*p;
for(var u=0;u<m;u++)o+=h[j+u*v];for(var u=0;u<=m;u++){o+=h[L]-p;e[j]=o*d;L+=v;j+=v}for(var u=0;u<x;u++){var N=u*v;
o+=h[L+N]-h[E+N];e[j+N]=o*d}E+=x*v;L+=x*v;j+=x*v;for(var u=J-m;u<J;u++){o+=Z-h[E];e[j]=o*d;E+=v;j+=v}}};
B.Hy=function(){var h=[];function e(w,y,S,i){var C=i.length,Y=0,_=0,t=0;for(var T=0;T<C;T++){var I=i[T];
Y=Math.max(Y,I[2]);_=Math.max(_,I[0],y-I[0]);t=Math.max(t,I[1],S-I[1])}if(C==1){w.fill(255);return}if(C==2){var n=i[0],Q=i[1];
if(n[2]<Q[2]){var D=n;n=Q;Q=D}var dG=n[0],R=n[1],X=Q[0]-dG,dx=-(Q[1]-R),jv=Math.sqrt(dx*dx+X*X),gB=1/jv;
dx/=jv;X/=jv;var hQ=Math.round(255*Math.min(n[2],Q[2])/Y),ah=[];for(var T=0;T<1100;T++){var kG=Math.pow(T*.001,.82);
ah[T]=~~(.5+kG*hQ+(1-kG)*255)}for(var iZ=0;iZ<S;iZ++)for(var bs=0;bs<y;bs++){var D=(bs-dG)*dx+(iZ-R)*X,ey=dG+D*dx-bs,jp=R+D*X-iZ,eh=Math.sqrt(ey*ey+jp*jp),dt=0;
if(ey*X-jp*dx>0)dt=255;else if(eh>jv)dt=hQ;else dt=ah[~~(.5+1e3*eh*gB)];w[iZ*y+bs]=dt}return}var jN=Math.round((_*_+t*t)*.021),jX=h.length;
if(jX<jN)for(var T=jX;T<jN;T++)h[T]=1/(1e-6+Math.pow(.02*T,1.57));var jw=260/Y;for(var iZ=0;iZ<S;iZ++)for(var bs=0;
bs<y;bs++){var i7=0,kn=0;for(var T=0;T<C;T++){var eK=i[T],dx=bs-eK[0],X=iZ-eK[1],eh=h[~~(.02*(dx*dx+X*X))];
kn+=eh*eK[2];i7+=eh}w[iZ*y+bs]=Math.min(~~(jw*kn/i7),255)}}var v=[];for(var T=0;T<1100;T++)v[T]=Math.pow(.5-.5*Math.cos(T/1e3*Math.PI),2);
function J(w,y,S,i){var C=m(i),Y=1-i[10];for(var _=0;_<S;_++)for(var t=0;t<y;t++){var I=C.DR*t+C.tg*_+C.TO,n=C.b*t+C.l_*_+C.bZ,Q=Math.sqrt(I*I+n*n),D=Q<=Y?0:Q>1?1:(Q-Y)/(1-Y);
w[_*y+t]=~~(.5+w[_*y+t]*v[~~(D*1e3)])}}function m(w){var y=w[0],S=w[1],i=w[2]-y,C=w[3]-S,Y=w[6]-y,_=w[7]-S,t=Math.sqrt(i*i+C*C),I=Math.sqrt(Y*Y+_*_),n=new aJ;
n.scale(t,I);n.rotate(Math.atan2(-C,i));n.translate(y,S);n.ia();n.translate(-.5,-.5);n.scale(2,2);return n}var d=[];
for(var T=0;T<1100;T++)d[T]=Math.pow(.5-.5*Math.cos(T/1e3*Math.PI),.8);function x(w,T,y){var S=w[T]-w[y],i=w[T+1]-w[y+1];
return Math.sqrt(S*S+i*i)}function j(w,y,S,i){var C=i[0],Y=i[1],_=i[2]-C,t=-(i[3]-Y),I=Math.sqrt(t*t+_*_);
t/=I;_/=I;var n=x(i,0,2),Q=x(i,0,4),D=x(i,0,6),dG=x(i,0,8);for(var R=0;R<S;R++)for(var X=0;X<y;X++){var dx=(X-C)*t+(R-Y)*_,jv=C+dx*t-X,gB=Y+dx*_-R,hQ=Math.sqrt(jv*jv+gB*gB),ah=0;
if(jv*_-gB*t<0)ah=hQ<D?0:hQ>n?1:d[~~(1e3*(hQ-D)/(n-D))];else ah=hQ<dG?0:hQ>Q?1:d[~~(1e3*(hQ-dG)/(Q-dG))];
w[R*y+X]=~~(.5+w[R*y+X]*ah)}}function E(w,y,S){var i=w[0],C=w[1],Y=C[0]+C[1]+C[2]+C[3],n=!1;if(Y==0)return[B.U(y*S),Y];
var _=i[0],t=i[1],I=i[3];if(n)console.log(_,t,I);var Q=Date.now(),D=B.U(y*S);D.fill(255);if(C[0]!=0)e(D,y,S,_);
if(n)console.log(Date.now()-Q,"field done");Q=Date.now();var dG=B.U(y*S);dG.fill(255);if(C[1]!=0)for(var T=0;
T<t.length;T++)J(dG,y,S,t[T]);if(n)console.log(Date.now()-Q,"iris done");Q=Date.now();var R=B.U(y*S);
R.fill(255);if(C[3]!=0)for(var T=0;T<I.length;T++)j(R,y,S,I[T]);if(n)console.log(Date.now()-Q,"tilt done");
Q=Date.now();var X=C[0]/Y,dx=C[1]/Y,jv=C[3]/Y,gB=D,hQ=y*S;for(var T=0;T<hQ;T++){gB[T]=X*D[T]+dx*dG[T]+jv*R[T]}return[gB,Y]}function L(w,y,S,i,C){var Y=Date.now(),_=new Uint32Array(5),t=B.aj1(w,y,S),I=C/255;
for(var n=0;n<S;n++)for(var Q=0;Q<y;Q++){var T=n*y+Q,D=T<<2,dG=i[T]*I,R=~~(dG*.948);if(R==0){continue}_[0]=0;
_[1]=0;_[2]=0;_[3]=0;_[4]=0;var X=~~(dG*.612);if(1<=Q-R&&Q+R+1<=y&&1<=n-R&&n+R+1<=S){var dx=Q-R,jv=Q-X,gB=Q+X+1,hQ=Q+R+1,ah=n-R,kG=n-X,iZ=n+X+1,bs=n+R+1;
p(t,y,jv,gB,ah,kG,_);p(t,y,dx,hQ,kG,iZ,_);p(t,y,jv,gB,iZ,bs,_)}else{var dx=Math.max(1,Q-R),jv=Math.max(1,Q-X),gB=Math.min(y,Q+X+1),hQ=Math.min(y,Q+R+1),ah=Math.max(1,n-R),kG=Math.max(1,n-X),iZ=Math.min(S,n+X+1),bs=Math.min(S,n+R+1);
p(t,y,jv,gB,ah,kG,_);p(t,y,dx,hQ,kG,iZ,_);p(t,y,jv,gB,iZ,bs,_)}if(_[4]!=0){var ey=1/_[4];w[D]=Math.min(255,~~(_[0]*ey));
w[D+1]=Math.min(255,~~(_[1]*ey));w[D+2]=Math.min(255,~~(_[2]*ey));w[D+3]=Math.min(255,~~(_[3]*ey))}}}function p(w,y,S,i,C,Y,_){var t=(i-S)*(Y-C);
if(0<t){B.aj3(w,S-1,i-1,(C-1)*y,(Y-1)*y,_);_[4]+=t}}var Z="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function o(w){var y=[!1,!1,!1,!1,!1,!1];for(var T=0;T<6;T++){var S="blurb"+Z[T]+"EffectApplied";if(w[S]&&w[S].v)y[T]=!0}return y}function u(w,y){for(var T=0;
T<6;T++){var S="blurb"+Z[T]+"EffectApplied";w[S]={t:"bool",v:y[T]}}}var N=[];for(var M=0;M<6;M++){var O,F="blurbWidgetLocationX",W="blurbWidgetLocationY";
if(M==0)O=[F,W,"blurbGeneralBlurAmount"];if(M==1||M==5){var f="blurb"+(M==1?"IrisBlur":"WheelSpin"),$=f+"Corner",H=f+"Feather";
O=[$+"0x",$+"0y",$+"1x",$+"1y",$+"2x",$+"2y",$+"3x",$+"3y",F,W,H+"0",H+"1",H+"2",H+"3",M==1?f+"Amount":f+"BlurAmount"]}if(M==3){var f="blurbTiltShift",A=f+"InnerPoint",G=f+"OuterPoint";
O=[f+"CenterX",f+"CenterY",G+"1X",G+"1Y",G+"2X",G+"2Y",A+"1X",A+"1Y",A+"2X",A+"2Y",f+"BlurAmount"]}N.push(O)}function l(w,y){function S(gB,_){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:gB},Vrtc:{t:"doub",v:_}}}}var i=[];
for(var M=0;M<6;M++){var C=w[M],O=N[M];for(var T=0;T<C.length;T++){var Y=C[T],_={classID:M==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:M}};
i.push({t:"Objc",v:_});if(M==4){y.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:C[0][4]*100}};var t=_.blurbPathPointList={t:"VlLs",v:[S(Y[0],Y[1]),S(Y[5],Y[6])]};
for(var I=0;I<2;I++){var n={classID:"blurbBezierKernel"};_["blurb"+(I==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:n};
var Q=Y[I*5],D=Y[I*5+1],dG=Y[I*5+2],R=Y[I*5+3];n.blurbBezierKernelUIControlPoint=S((Q+dG)/2,(D+R)/2);
var X=dG-Q,dx=R-D,jv=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]);n.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-dx,X)-jv+Math.PI)*180/Math.PI};
n.blurbBezierKernelLocation=S(Q,D);n.blurbBezierKernelOuterPoint=S(dG,R);if(X==0&&dx==0)n.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var I=0;
I<O.length;I++)_[O[I]]={t:"doub",v:Y[I]}}}y.blurbWidgetList2={t:"VlLs",v:i}}function K(w){var y=w.blurbWidgetList;
if(y==null||y.v.length==0)y=w.blurbWidgetList2;y=y.v;var S=[[],[],[],[],[],[]],i=[0,0,0,0,0,0];for(var T=0;
T<y.length;T++){var C=y[T].v,M=C.blurbWidgetType.v,h=[];S[M].push(h);if(M<4||M==5){var O=N[M];for(var Y=0;
Y<O.length;Y++){h[Y]=C[O[Y]].v}if(M==5){var _=h[0]-h[4],t=h[1]-h[5],I=Math.sqrt(_*_+t*t),n=h[h.length-1]*I*.005;
i[M]=Math.max(i[M],n)}else i[M]=Math.max(i[M],h[h.length-1])}if(M==4){var Q=w.blurbPathBlurSpeed.v.val/100;
for(var Y=0;Y<2;Y++){var D=C["blurb"+(Y==0?"Start":"End")+"BezierKernel"].v,R=D.blurbBezierKernelIsNull;
for(var X=0;X<2;X++){var dx=D["blurbBezierKernel"+(X==0?"Location":"OuterPoint")].v;h.push(dx.Hrzn.v,dx.Vrtc.v)}var jv=h.length-4,gB=h[jv],hQ=h[jv+1],_=h[jv+2]-gB,t=h[jv+3]-hQ,I=Math.sqrt(_*_+t*t);
if(R&&R.v)I=0;h.push(Q);i[M]=Math.max(i[M],I*Q)}}}return[S,i]}function U(w,y,S){var i=y.R.q,C=y.R._,Y=i*C,_=K(w),t=o(w);
for(var T=0;T<6;T++)if(!t[T])_[1][T]=0;var I=Date.now(),n=E(_,i,C),Q=n[0],D=n[1];S.buffer.set(y.buffer);
var dG=B.kx(S.buffer);if(dG)B.kj(S.buffer);if(D!=0)L(S.buffer,i,C,Q,D);var R=Math.max(_[1][4],_[1][5]);
if(R!=0&&fM.QX){var I=Date.now(),X=B.U(i*C*4);for(var T=0;T<X.length;T+=4){X[T]=127;X[T+1]=127}if(_[1][4]!=0)q(X,_,i,C,R);
if(_[1][5]!=0)z(X,_,i,C,R);var dx=R*.25,jv=new Float32Array([1/i,1/C]),gB=fM.cm(0,i,C);gB.set(S.buffer);
var hQ=fM.cm(1,i,C);hQ.set(X);fM.qH(gB,y.R);gB.Ie(y.R);fM.filter.Ce({c:fM.filter.al0,Dr:hQ.nS,DV:jv,ZR:dx,Bi:2},gB.vH);
gB.get(S.buffer)}if(dG)B.Az(S.buffer)}function z(w,y,S,i,C){var Y=y[0][5];if(Y.length==0)return;var _=Date.now();
for(var T=0;T<Y.length;T++){var t=Y[T],I=m(t),n=I.O();n.ia();var Q=1-t[10],D=t[14]*2.15/C;for(var dG=0;
dG<i;dG++)for(var R=0;R<S;R++){var X=I.DR*R+I.tg*dG+I.TO,dx=I.b*R+I.l_*dG+I.bZ,jv=X*X+dx*dx;if(jv<1){var gB=X-dx*D,hQ=dx+X*D,ah=n.w7(new fq(gB,hQ)),kG=4*(dG*S+R),iZ=Math.sqrt(jv),bs=iZ<Q?0:(iZ-Q)/(1-Q);
w[kG]=Math.max(0,Math.min(255,bs*w[kG]+(1-bs)*(127+ah.x-R)));w[kG+1]=Math.max(0,Math.min(255,bs*w[kG+1]+(1-bs)*(127+ah.y-dG)))}}}console.log(Date.now()-_)}function q(w,y,S,i,C){var Y=y[0][4];
if(Y.length==0)return;var _=Y[0];for(var T=1;T<Y.length;T++)_=_.concat(Y[T]);var t=[];for(var T=0;T<_.length;
T+=5){var I=_[T],n=_[T+1],Q=_[T+2]-I,D=_[T+3]-_[T+1],dG=Math.sqrt(Q*Q+D*D);if(dG!=0){Q/=dG;D/=dG}t.push(I,n,Q,D,dG,_[T+4])}_=t;
var R=Math.floor(_.length/6),X=127/C;for(var n=0;n<i;n++)for(var I=0;I<S;I++){var dx=0,jv=0,gB=0,hQ=0;
for(var T=0;T<R;T++){var ah=T*6,kG=_[ah],iZ=_[ah+1],Q=I-kG,D=n-iZ,dG=1/Math.pow(Q*Q+D*D,.5);jv+=dG*_[ah+2];
gB+=dG*_[ah+3];hQ+=dG*_[ah+4]*_[ah+5];dx+=dG}var bs=Math.sqrt(jv*jv+gB*gB),ey=X*hQ/(bs*dx);w[4*(n*S+I)]=Math.min(jv*ey+127,255);
w[4*(n*S+I)+1]=Math.min(gB*ey+127,255)}}function P(w){var y=w.blurbOpenPanel;if(y)return y.v;else{var S=w.blurbWidgetList2.v;
for(var T=0;T<S.length;T++){var i=S[T].v.blurbWidgetSelected;if(i&&i.v)return S[T].v.blurbWidgetType.v}}return 0}function g(w,y){if(y<4)w.blurbOpenPanel={t:"long",v:y};
else{delete w.blurbOpenPanel;var S=w.blurbWidgetList2.v;for(var T=0;T<S.length;T++){S[T].v.blurbWidgetSelected.v=S[T].v.blurbWidgetType.v==y}}}function a(w,M,y,S){var i=K(w)[0],C=i[M],Y;
if(M==0){Y=C.length;C.push([y,S,20])}if(M==1||M==5){Y=C.length*6+1;var _=100;C.push([y-_,S-_,y+_,S-_,y+_,S+_,y-_,S+_,y,S,.8,.8,.8,.8,20])}if(M==3){Y=C.length*5;
C.push([y,S,y,S-50,y,S+50,y,S-20,y,S+20,20])}if(M==4){Y=C.length*4+2;C.push([y-100,S,y-50,S,1,y,S,y+50,S,1])}l(i,w);
g(w,M);return Y}return{apply:U,pP:K,BO:l,abp:a,a0N:o,azP:u,a16:m,aBl:P,_n:g}}();B.ih={};B.ih.U=function(h,e,v,J){var m=[];
for(var d=0;d<4;d++)for(var x=0;x<4;x++)m.push(h+v*x/3,e+J*d/3);return m};B.ih.a6W=function(h,e){var v=h.slice(0);
for(var T=0;T<4;T++)for(var J=0;J<4;J++){var m=2*(T*4+J),d=2*(J*4+(3-T));if(e){var x=m;m=d;d=x}v[d]=h[m];
v[d+1]=h[m+1]}return v};B.ih.Hw=B.U(0);B.ih.drawImage=function(h,e,v,J,m,d,x){var j=!1,E=Date.now(),L=2;
if(!J.xB(v)){J.x=v.x;J.y=v.y}v.x-=J.x;v.y-=J.y;J.x=J.y=0;var p=J.O();p.offset(L,L);var Z=p.O();Z.vY(L,L);
var o=B.ih.Hw;if(o.length!=Z.$()*4)o=B.ih.Hw=B.U(Z.$()*4);else o.fill(0);var u=v.O();v.offset(L,L);B.YZ(e,v,o,Z);
if(j)console.log(Date.now()-E,"copy rect");E=Date.now();B.kj(o);if(j)console.log(Date.now()-E,"multiply alpha");
E=Date.now();var N=Z.q-2*L,M=Z._-2*L,O=Math.max(N,M),F=Math.round(50*N/O),W=Math.round(Math.sqrt(3)*.5*50*M/O),f=F-.5,$=N+2*L,H=M+2*L,A=[],G=[],l=[];
for(var K=0;K<W+1;K++){var U=(K&1)==0;for(var z=0;z<F+1;z++){var q=(z-(U?.5:0))/f,P=K/W;if(z==0)q=0;
if(z==F)q=1;A.push($*q,H*P);if(z<F&&K<W){var g=K*(F+1)+z,a=g+1,w=g+F+1,y=w+1;if(U)G.push(g,a,w,w,a,y);
else G.push(g,a,y,g,y,w)}var S=B.ih.aCG(h,q,P);l.push(-S)}}var i=A.slice(0);B.ih.C(h,i,p);B.w.C(i,new aJ(1,0,0,1,-d.x,-d.y),i);
if(j)console.log(Date.now()-E,"mesh built");E=Date.now();var C=d.q,Y=d._;B.tz.sU(o,$,H,m,C,Y,A,i,l,G,x);
if(j)console.log(Date.now()-E,"rendered");E=Date.now();B.Az(m);if(j)console.log(Date.now()-E,"divided");
E=Date.now()};B.ih.Ft=new Array(10);B.ih.gr=function(h,e){var v=200,J=0,m=0,d=1e9,x=B.ih.Ft;for(var j=0;
j<v+1;j++)for(var E=0;E<v+1;E++){var L=E/v,p=j/v;B.ih.aC$(h,L,p,x);var Z=x[8]-e.x,o=x[9]-e.y,u=Z*Z+o*o;
if(u<d){d=u;J=L;m=p}}return[J,m]};B.ih.C=function(h,e,v){var J=v.x,m=v.y,d=1/v.q,x=1/v._,j=B.ih.Ft;for(var E=0;
E<e.length;E+=2){var L=(e[E]-J)*d,p=(e[E+1]-m)*x;B.ih.aC$(h,L,p,j);e[E]=j[8];e[E+1]=j[9]}};B.ih.aCG=function(h,e,v){var J,m,d,x,j=B.ih.Ft;
B.ih.a2g(h,e,v,j);J=j[8];m=j[9];B.ih.a86(h,e,v,j);d=j[8];x=j[9];return J*x-m*d};B.ih.cn=function(h,e,v){var J=0,m=0,d=h[2][0],x=h[2][1];
while(J+2<d.length&&d[J+1]<e)J++;e=(e-d[J])/(d[J+1]-d[J]);while(m+2<x.length&&x[m+1]<v)m++;v=(v-x[m])/(x[m+1]-x[m]);
return[J*3,m*3,e,v]};B.ih.aC$=function(h,e,v,J){var m=B.ih.cn(h,e,v);B.ih.B8(J,0,m[3]);B.ih.B8(J,4,m[2]);
B.ih.Xw(h[3],m[0],m[1],h[0],J)};B.ih.a2g=function(h,e,v,J){var m=B.ih.cn(h,e,v);B.ih.B8(J,0,m[3]);B.ih.asn(J,4,m[2]);
B.ih.Xw(h[3],m[0],m[1],h[0],J)};B.ih.a86=function(h,e,v,J){var m=B.ih.cn(h,e,v);B.ih.asn(J,0,m[3]);B.ih.B8(J,4,m[2]);
B.ih.Xw(h[3],m[0],m[1],h[0],J)};B.ih.asn=function(h,T,e){var v=1-e;h[T]=-3*(v*v);h[T+1]=3*(v*v)-6*(e*v);
h[T+2]=6*(e*v)-3*(e*e);h[T+3]=3*(e*e)};B.ih.B8=function(h,T,e){var v=1-e;h[T]=v*(v*v);h[T+1]=3*e*(v*v);
h[T+2]=3*(e*e)*v;h[T+3]=e*e*e};B.ih.agI=function(h,e,v,J,m){var d=B.ih.cn(h,e,v),x=d[0],j=d[1],E=d[2],L=d[3],p=h[0],Z=Math.floor(E*3),o=Math.floor(L*3),u=B.ih.Ft,N=16,G=0;
B.ih.B8(u,0,L);B.ih.B8(u,4,E);var M=[],O=[],F=[];for(var W=0;W<4;W++){for(var f=0;f<4;f++){var T=W*4+f,$=u[W]*u[4+f];
M.push($);O.push((j+W)*p+x+f);if((W==o||W==o+1)&&(f==Z||f==Z+1)){var H=E*3-Z;if(f==Z)H=1-H;var A=L*3-o;
if(W==o)A=1-A;F[T]=H*A/$}else F[T]=0}}for(var T=0;T<N;T++)G+=M[T]*F[T];for(var T=0;T<N;T++)F[T]/=G;for(var T=0;
T<N;T++){var $=M[T],l=O[T];h[3][l*2]+=F[T]*J;h[3][l*2+1]+=F[T]*m}};B.ih.nc=function(h){var e=h[0],v=h[1],J=h[2],m=h[3],d=m.slice(0);
for(var x=0;x<v;x++)for(var j=0;j<e;j++){m[(j*v+x)*2]=d[(x*e+j)*2];m[(j*v+x)*2+1]=d[(x*e+j)*2+1]}h[0]=v;
h[1]=e;h[2]=[J[1],J[0]]};B.ih.split=function(h,e,v){if(e==1)B.ih.nc(h);var J=h[0],m=h[1],d=h[2][0],x=h[3],j=0;
while(d[j+1]&&d[j+1]<v)j++;var E=(v-d[j])/(d[j+1]-d[j]),L=1-E;for(var p=0;p<m;p++){var T=(p*(J+3)+j*3)*2,Z=L*x[T]+E*x[T+2],o=L*x[T+1]+E*x[T+3],u=L*x[T+2]+E*x[T+4],N=L*x[T+3]+E*x[T+5],M=L*x[T+4]+E*x[T+6],O=L*x[T+5]+E*x[T+7],F=L*Z+E*u,W=L*o+E*N,f=L*u+E*M,$=L*N+E*O,H=L*F+E*f,A=L*W+E*$;
x.splice(T+2,4,Z,o,F,W,H,A,f,$,M,O)}d.push(v);d.sort();h[0]+=3;if(e==1)B.ih.nc(h)};B.ih.Xw=function(h,e,v,J,m){var d=0,x=0,j=0,E=m[0],L=m[1],p=m[2],Z=m[3],o=m[4],u=m[5],N=m[6],M=m[7],T=(v*J+e)*2;
j=E*o;d+=h[T+0]*j;x+=h[T+1]*j;j=E*u;d+=h[T+2]*j;x+=h[T+3]*j;j=E*N;d+=h[T+4]*j;x+=h[T+5]*j;j=E*M;d+=h[T+6]*j;
x+=h[T+7]*j;T+=J+J;j=L*o;d+=h[T+0]*j;x+=h[T+1]*j;j=L*u;d+=h[T+2]*j;x+=h[T+3]*j;j=L*N;d+=h[T+4]*j;x+=h[T+5]*j;
j=L*M;d+=h[T+6]*j;x+=h[T+7]*j;T+=J+J;j=p*o;d+=h[T+0]*j;x+=h[T+1]*j;j=p*u;d+=h[T+2]*j;x+=h[T+3]*j;j=p*N;
d+=h[T+4]*j;x+=h[T+5]*j;j=p*M;d+=h[T+6]*j;x+=h[T+7]*j;T+=J+J;j=Z*o;d+=h[T+0]*j;x+=h[T+1]*j;j=Z*u;d+=h[T+2]*j;
x+=h[T+3]*j;j=Z*N;d+=h[T+4]*j;x+=h[T+5]*j;j=Z*M;d+=h[T+6]*j;x+=h[T+7]*j;T+=J+J;m[8]=d;m[9]=x};B.ZZ={};
B.ZZ.a5P=function(h,e,v){var J=Date.now();return B.ZZ.aFl(h,e,v)};B.ZZ.a85=function(h,e,v,J){var m=v*J,d=new Uint32Array(m),x=new Uint8Array(m),j=new Int16Array(m);
d.fill(4294967295);d[e]=0;var E=new bV(m);E.push(e,d[e]);var L={cw:h,y5:d,rU:x,TX:j,hO:E,avt:e,Vz:[-v-1,-v,-v+1,1,v+1,v,v-1,-1]};
return L};B.ZZ.i0=function(h,e){var v=h.cw,J=h.y5,m=h.rU,d=h.TX,x=h.hO,j=h.Vz;while(x.pg!=0&&(e==null||m[e]==0)){var E=x.pop();
if(m[E]==1)continue;m[E]=1;for(var T=0;T<8;T++){var L=v[8*E+T],p=E+j[T];if(L==255||m[p]==1)continue;
var Z=J[E]+L;if(Z<J[p]){J[p]=Z;d[p]=E-p;x.push(p,Z)}}}};function bV(h){this.list=[];this.pg=0;this.D9=4294967295}bV.prototype.push=function(h,e){var v=this.list;
if(v[e]==null)v[e]=[];v[e].push(h);this.pg++;this.D9=Math.min(this.D9,e)};bV.prototype.pop=function(){this.pg--;
var h=this.list,e=this.D9,v=h[e].pop();if(h[e].length==0){h[e]=null;if(this.pg==0)this.D9=4294967295;
else{while(h[e]==null)e++;this.D9=e}}return v};B.ZZ.aub=function(h,e,v,J){var m=new Int16Array(J);for(var d=0;
d<v;d++)for(var x=0;x<e;x++){var T=d*e+x,j=0;if(1<x&&x<e-2&&1<d&&d<v-2){j+=h[T-e-e];j+=h[T-e-1]+2*h[T-e]+h[T-e+1];
j+=h[T-2]+2*h[T-1]-16*h[T]+2*h[T+1]+h[T+2];j+=h[T+e-1]+2*h[T+e]+h[T+e+1];j+=h[T+e+e]}else j=-16*h[T];
m[T]=j}return m};B.ZZ.awo=function(h,e,v,J){if(J==null)J=128;var m=new Uint8Array(e*v);for(var d=1;d<v;
d++)for(var x=1;x<e;x++){var T=d*e+x;B.ZZ.abB(h,T,T-1,m,J);B.ZZ.abB(h,T,T-e,m,J)}return m};B.ZZ.abB=function(h,T,e,v,J){var m=h[T],d=h[e];
if(Math.abs(m-d)>J&&m*d<0){if(Math.abs(m)<Math.abs(d))v[T]=1;else v[e]=1}};B.ZZ.aFT=function(h,e,v,J){var m=new Float32Array(J),d=0;
new Uint32Array(J).fill(0);for(var x=0;x<v;x++)for(var j=0;j<e;j++){var E=0,L=0,T=x*e+j,p=T*3;if(0<j&&j<e-1)E=h[T+1]-h[T-1];
if(0<x&&x<v-1)L=h[T+e]-h[T-e];var Z=E*E+L*L;if(Z!=0){var o=m[p+2]=Math.sqrt(Z),u=1/o;m[p]=E*u;m[p+1]=L*u;
if(o>d)d=o}}var N=3*e*v,M=d==0?0:1/d;for(var T=0;T<N;T+=3)m[T+2]=1-m[T+2]*M;return m};B.ZZ.aFl=function(){function h(j,E,L){var p=new ArrayBuffer(E*L*12),Z=Date.now(),o=B.ZZ.aub(j,E,L,p),u=B.ZZ.awo(o,E,L),N=B.ZZ.aFT(j,E,L,p),M=new Uint8Array(E*L*8);
new Uint32Array(M.buffer).fill(4294967295);var O=[-E-1,-E,-E+1,1];for(var F=1;F<L-1;F++)for(var W=1;
W<E-1;W++){var f=F*E+W;for(var $=0;$<4;$++)x(f,f+O[$],$,M,u,N)}return M}var e=new Float64Array(256);
for(var T=0;T<256;T++)e[T]=Math.acos(-1+2*T/255)*(.95/Math.PI);var v=[-1,0,1,1,1,0,-1,-1],J=[-1,-1,-1,0,1,1,1,0];
for(var T=0;T<8;T++){var m=1/Math.sqrt(v[T]*v[T]+J[T]*J[T]);v[T]*=m;J[T]*=m}var d=[v[0],J[0],v[1],J[1],v[2],J[2],v[3],J[3]];
function x(j,E,L,p,Z,o){var u=3*j,N=3*E,M=1-Z[E],O=1-Z[j],F=(L&1)==0?1:Math.SQRT1_2,W=o[N+2]*F,f=o[u+2]*F,$=o[N+1],H=-o[N],A=o[u+1],G=-o[u],l=d[L+L],K=d[L+L+1],U=A*l+G*K,z=$*l+H*K;
if(U+z<0){U=-U;z=-z}var q=e[~~((.5+.5*U)*255)]+e[~~((.5+.5*z)*255)];p[(j<<3)+L]=1+~~(.5+20*(.43*M+.43*q+.14*W));
p[(E<<3)+L+4]=1+~~(.5+20*(.43*O+.43*q+.14*f))}return h}();B.Zq={};B.Zq.Du=function(h){var e=h.slice(0),v=0;
for(var T=0;T<h.length;T++)v+=h[T];for(var T=0;T<h.length;T++)e[T]/=v;return e};B.Zq.If=[B.Zq.Du([1,2,1,2,16,2,1,2,1]),B.Zq.Du([1,2,1,2,4,2,1,2,1]),B.Zq.Du([0,-1,0,-1,8,-1,0,-1,0]),B.Zq.Du([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
B.Zq.uy=function(h,e,v,J,m,d,x,j){if(x==null)x=!1;if(j==null)j=!1;var E=Math.floor(Math.sqrt(m.length)),L=E-1>>>1,p=new Uint32Array(h.buffer),e=new Uint8ClampedArray(e.buffer);
for(var T=0;T<J;T++)for(var Z=0;Z<v;Z++){var o=0,u=0,N=0,M=0;for(var O=0;O<E;O++)for(var F=0;F<E;F++){var W=m[O*E+F];
if(W==0)continue;var f=Z-L+F,$=T-L+O;if(f<0)f=0;else if(f>v-1)f=v-1;if($<0)$=0;else if($>J-1)$=J-1;if(j&&p[$*v+f]>>>24==0){$=T;
f=Z}var H=p[$*v+f];o+=(H&255)*W;u+=(H>>>8&255)*W;N+=(H>>>16&255)*W;M+=(H>>>24&255)*W}if(x){if(o<0)o=-o;
if(u<0)u=-u;if(N<0)N=-N;if(M<0)M=-M}if(j){o=Math.max(0,Math.min(255,o));u=Math.max(0,Math.min(255,u));
N=Math.max(0,Math.min(255,N));M=Math.max(0,Math.min(255,M))}var A=T*v+Z<<2;e[A]=~~(.5+o);e[A+1]=~~(.5+u);
e[A+2]=~~(.5+N);e[A+3]=255-d&e[A+3]|d&~~(.5+M)}};B.Zq.adf=function(h,e,v,J){var m=h.length,d=new Uint8Array(m);
B.Zq.uy(h,e,v,J,B.Zq.If[4],0,!0);B.Zq.uy(h,d,v,J,B.Zq.If[5],0,!0);for(var T=0;T<m;T+=4){var x=e[T],j=e[T+1],E=e[T+2],L=e[T+3],p=d[T],Z=d[T+1],o=d[T+2],u=d[T+3];
e[T]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+p*p)));e[T+1]=255-Math.max(0,Math.min(255,Math.sqrt(j*j+Z*Z)));
e[T+2]=255-Math.max(0,Math.min(255,Math.sqrt(E*E+o*o)))}};B.Zq.aaa=function(h,e,v,J){var m=h.length,d=new Uint8Array(m);
B.Zq.xQ(h,e,v,J,B.Zq.If[4],!0);B.Zq.xQ(h,d,v,J,B.Zq.If[5],!0);for(var T=0;T<m;T++){var x=e[T],j=d[T];
e[T]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+j*j)))}};B.Zq.xQ=function(h,e,v,J,m,d){e=new Uint8ClampedArray(e.buffer);
var x=[-v-1,-v,-v+1,-1,0,1,v-1,v,v+1],j=J-1,E=v-1;for(var T=1;T<j;T++)for(var L=1;L<E;L++){var p=T*v+L,Z=B.Zq.M2(h,p,v,m);
if(d){if(Z<0)Z=-Z}e[p]=~~(Z+.5)}};B.Zq.M2=function(h,e,v,J){return h[e-v-1]*J[0]+h[e-v]*J[1]+h[e-v+1]*J[2]+h[e-1]*J[3]+h[e]*J[4]+h[e+1]*J[5]+h[e+v-1]*J[6]+h[e+v]*J[7]+h[e+v+1]*J[8]};
B.Zq.aow=function(h,e,v,J,m){var d=[-v-1,-v,-v+1,-1,0,1,v-1,v,v+1],x=J-1,j=v-1;for(var T=1;T<x;T++)for(var E=1;
E<j;E++){var L=T*v+E;e[L]=B.Zq.asM(h,L,v,m)}};B.Zq.asM=function(h,e,v,J){return h[e-v-1]*J[0]+h[e-v]*J[1]+h[e-v+1]*J[2]+h[e-1]*J[3]+h[e]*J[4]+h[e+1]*J[5]+h[e+v-1]*J[6]+h[e+v]*J[7]+h[e+v+1]*J[8]};
B.iN={};B.iN.D3=function(){function h(x,j,E,L,p,Z){if(p==0){j.set(x);return}var o=B.U(E*L),u=B.U(E*L);
if(B.kx(x)){e(x,j,E,L,p,Z);B.Bq(x,o,3);B.iN.asC(o,u,E,L,p,Z);B.ar(u,j,3)}else{for(var T=0;T<3;T++){B.Bq(x,o,T);
B.iN.asC(o,u,E,L,p,Z);B.ar(u,j,T)}}}function e(x,j,E,L,p,Z){var o=0,u=new ArrayBuffer(512*4*3),N=[new Int32Array(u,0),new Int32Array(u,2048),new Int32Array(u,2*2048)],M=1+2*Math.round(Math.sqrt(p)),O=M>>>1,F=new Array(M),W=new Array(M);
for(var T=0;T<M;T++){var u=new ArrayBuffer(512*4*3);F[T]=[new Int32Array(u,0),new Int32Array(u,2048),new Int32Array(u,2*2048)];
W[T]=F[T][0]}var f=[B.iN.cS,B.iN.iE][Z],$=f[0],H=f[1],A=N[0];for(var G=0;G<E;G++)if(G<p||G>E-p-M-1){A.fill(0);
var l=Math.max(G-p,0),K=Math.min(E,G+p+1),U=K-l;for(var P=0;P<p;P++)J(A,x,P*E+l,P*E+K,1);for(var P=0;
P<L;P++){var g=P-p-1,a=P+p;if(a<L)J(A,x,a*E+l,a*E+K,1);if(g>=0)J(A,x,g*E+l,g*E+K,-1);var w=P*E+G<<2;
o=A[300];if(o!=0)for(var T=0;T<3;T++)j[w+T]=$(N[T],x[w+T],o)}}else{for(var T=0;T<M;T++)W[T].fill(0);
var l=G-p+O,K=G+p+1+O;for(var P=0;P<p;P++)v(W,x,P*E+l,P*E+K,1,O);for(var P=0;P<L;P++){var g=P-p-1,a=P+p;
if(g>=0)v(W,x,g*E+l,g*E+K,-1,O);if(a<L)v(W,x,a*E+l,a*E+K,1,O);var y=F[O];o=y[0][300];for(var T=0;T<O;
T++){var S=O-1-T,i=O+1+T,C=F[S],Y=F[i],_=o+C[0][300],t=o+Y[0][300],I=P*E+G+S<<2,r=P*E+G+i<<2;if(_!=0)for(var n=0;
n<3;n++)j[I+n]=H(y[n],C[n],x[I+n],_);if(t!=0)for(var n=0;n<3;n++)j[r+n]=H(y[n],Y[n],x[r+n],t)}var w=P*E+G+O<<2;
if(o!=0)for(var n=0;n<3;n++)j[w+n]=$(y[n],x[w+n],o)}G+=M-1}}function v(x,j,E,L,p,Z){var o=m,u=E<<2,N=L<<2;
o(x[Z-1],j,E-1<<2,p);o(x[Z-1],j,L-1<<2,-p);o(x[Z+1],j,L<<2,p);o(x[Z+1],j,E<<2,-p);for(var T=1;T<Z;T++){var M=x[Z-T-1],O=x[Z+T+1];
for(var F=0;F<=T;F++){var W=F<<2;o(M,j,E-1-F<<2,p);o(M,j,L-1-F<<2,-p);o(O,j,L+F<<2,p);o(O,j,E+F<<2,-p)}}J(x[Z],j,E,L,p)}function J(x,j,T,E,L){var p=T<<2,Z=E<<2;
while(p<Z){m(x,j,p,L);p+=4}}function m(x,j,E,L){var p=L*j[E+3];x[300]+=p;d(x,j[E],0,p);d(x,j[E+1],512,p);
d(x,j[E+2],1024,p)}function d(x,j,E,L){x[E|j]+=L;x[E|256|j>>>4]+=L}return h}();B.iN.asC=function(){function h(Z,o,u,N,M,O){if(M==0){o.set(Z);
return}if(M<=200)e(Z,o,u,N,M,O);else d(Z,o,u,N,M,O)}function e(Z,o,u,N,M,O){var F=0,W=new Int32Array(512),f=1+2*Math.round(Math.sqrt(M)),$=f>>>1,H=new Array(f);
for(var T=0;T<f;T++)H[T]=new Int32Array(512);var A=[B.iN.cS,B.iN.iE][O],G=A[0],l=A[1];for(var K=0;K<u;
K++)if(K<M||K>u-M-f-1){W.fill(0);F=0;var U=Math.max(K-M,0),P=Math.min(u,K+M+1),g=P-U;for(var a=0;a<M;
a++){F+=g;J(W,Z,a*u+U,a*u+P,1)}for(var a=0;a<N;a++){var w=a-M-1,y=a+M;if(w>=0){F-=g;J(W,Z,w*u+U,w*u+P,-1)}if(y<N){F+=g;
J(W,Z,y*u+U,y*u+P,1)}var S=G(W,Z[a*u+K],F);o[a*u+K]=S}}else{for(var T=0;T<f;T++)H[T].fill(0);F=0;var U=K-M+$,P=K+M+1+$,g=P-U;
for(var a=0;a<M;a++){F+=g;v(H,Z,a*u+U,a*u+P,1,$)}for(var a=0;a<N;a++){var w=a-M-1,y=a+M;if(w>=0){F-=g;
v(H,Z,w*u+U,w*u+P,-1,$)}if(y<N){F+=g;v(H,Z,y*u+U,y*u+P,1,$)}for(var T=0;T<$;T++){var i=$-1-T,C=$+1+T;
o[a*u+K+i]=l(H[$],H[i],Z[a*u+K+i],F);o[a*u+K+C]=l(H[$],H[C],Z[a*u+K+C],F)}o[a*u+K+$]=G(H[$],Z[a*u+K+$],F)}K+=f-1}}function v(Z,o,u,N,M,O){var F=m;
F(Z[O-1],o[u-1],0,M);F(Z[O-1],o[N-1],0,-M);F(Z[O+1],o[N],0,M);F(Z[O+1],o[u],0,-M);for(var T=1;T<O;T++){var W=Z[O-T-1],f=Z[O+T+1];
for(var $=0;$<=T;$++){F(W,o[u-1-$],0,M);F(W,o[N-1-$],0,-M);F(f,o[N+$],0,M);F(f,o[u+$],0,-M)}}J(Z[O],o,u,N,M)}function J(Z,o,T,u,N){while(T<u)m(Z,o[T++],0,N)}function m(Z,o,u,N){Z[u|o]+=N;
Z[u|256|o>>>4]+=N}function d(Z,o,u,N,M,O){var F=0,W=new Int32Array(512),f=new Int32Array(1*u),$=new Int32Array(512*u),H=Math.min(M,u),A=Math.min(M,N),G=[B.iN.cS,B.iN.iE][O],l=G[0];
for(var K=0;K<A;K++)x($,f,Z,u,K,1);for(var K=0;K<N;K++){if(K+M<N)x($,f,Z,u,K+M,1);if(K-M-1>=0)x($,f,Z,u,K-M-1,-1);
W.fill(0);F=0;for(var U=0;U<H;U++){F+=f[U];j(W,$,U)}for(var U=0;U<u;U++){var z=U-M-1,q=U+M;if(z>=0&&f[z]!=0){F-=f[z];
E(W,$,z)}if(q<u&&f[q]!=0){F+=f[q];j(W,$,q)}var P=F==0?0:l(W,Z[K*u+U],F);o[K*u+U]=P}}}function x(Z,o,u,N,M,O){var T=M*N;
for(var F=0;F<N;F++){m(Z,u[T+F],F<<9,O);o[F]+=O}}function j(Z,o,u){for(var T=0;T<16;T++){var N=o[u<<9|256|T];
if(N==0)continue;Z[256|T]+=N;var M=T<<4,O=u<<9|M;L(Z,o,M,O);L(Z,o,M+4,O+4);L(Z,o,M+8,O+8);L(Z,o,M+12,O+12)}}function E(Z,o,u){for(var T=0;
T<16;T++){var N=o[u<<9|256|T];if(N==0)continue;Z[256|T]-=N;var M=T<<4,O=u<<9|M;p(Z,o,M,O);p(Z,o,M+4,O+4);
p(Z,o,M+8,O+8);p(Z,o,M+12,O+12)}}function L(Z,o,u,N){Z[u]+=o[N];Z[u+1]+=o[N+1];Z[u+2]+=o[N+2];Z[u+3]+=o[N+3]}function p(Z,o,u,N){Z[u]-=o[N];
Z[u+1]-=o[N+1];Z[u+2]-=o[N+2];Z[u+3]-=o[N+3]}return h}();B.iN.e8=.5;B.iN.cS=[function(h,e,v){var J=~~(.5+B.iN.e8*v),m=0,T=256;
while(m+h[T]<J)m+=h[T++];T=T-256<<4;while(m<J)m+=h[T++];return T-1},function(h,e,v,J){var m=~~(.5+B.iN.e8*J),d=0,T=256;
while(d+h[T]+e[T]<m){d+=h[T]+e[T];T++}T=T-256<<4;while(d<m){d+=h[T]+e[T];T++}return T-1}];B.iN.GR=100;
B.iN.iE=[function(h,e,v){var J=B.iN.GR,m=0,d=0,T=Math.max(0,e-J),x=Math.min(256,e+J+1);while(T<x){var j=h[T];
m+=T*j;d+=j;T++}return d==0?0:m/d},function(h,e,v,J){var m=B.iN.GR,d=0,x=0,T=Math.max(0,v-m),j=Math.min(256,v+m+1);
while(T<j){var E=h[T]+e[T];d+=T*E;x+=E;T++}return x==0?0:d/x}];B.D={};B.D.li=function(h){var e=c.L2.RT(h.Trnf),v=new fP(0,0,1e3,1e3);
if(h.Sz){var J=h.Sz.v;v=new fP(0,0,J.Wdth.v,J.Hght.v)}var m=B.D.s6(e,v);return B.D.FY(m)};B.D.s6=function(h,e){var v=h[0],J=h[1],m=h[2],d=h[3],x=h[6],j=h[7],E=h[4],L=h[5],p=0,Z=0,o=1,u=0,N=0,M=1,O=1,F=1;
if(e){p=e.x;Z=e.y;o=e.x+e.q;u=e.y;N=e.x;M=e.y+e._;O=e.x+e.q;F=e.y+e._}return B.D.at7(h,[p,Z,o,u,O,F,N,M])};
B.D.agv=function(h){function e(m,d){for(var T=0;T<d.length;T+=2)if(!v(m,d[T],d[T+1]))return!1;return!0}function v(m,d,x){return m[2*d]==m[2*x]&&m[2*d+1]==m[2*x+1]}var J=0;
if(e(h,[0,1,2,3]))J+=1;if(e(h,[0,3,1,2]))J+=2;return J};B.D.at7=function(h,e){function v(w,T,y){var P=w[T*2]-w[y*2],g=w[T*2+1]-w[y*2+1];
return Math.sqrt(P*P+g*g)}var J=h[0],m=h[1],d=h[2],x=h[3],j=h[6],E=h[7],L=h[4],p=h[5],Z=e[0],o=e[1],u=e[2],N=e[3],M=e[6],O=e[7],F=e[4],W=e[5],f=[[Z,o,1,0,0,0,-Z*J,-o*J,J],[0,0,0,Z,o,1,-Z*m,-o*m,m],[u,N,1,0,0,0,-u*d,-N*d,d],[0,0,0,u,N,1,-u*x,-N*x,x],[M,O,1,0,0,0,-M*j,-O*j,j],[0,0,0,M,O,1,-M*E,-O*E,E],[F,W,1,0,0,0,-F*L,-W*L,L],[0,0,0,F,W,1,-F*p,-W*p,p]],$=[0,0,0,0,0,0,0,0],H=B.ok.ef(f,$);
if(H!=0){$=[0,0,0,0,0,0,0,0];var A=B.D.agv(h),G=B.D.agv(e);if(A==G&&A!=0){var l=A==1,K=l?3:1,U=v(h,0,K),z=v(e,0,K),q=z/U,P=h[2*K]-h[0],g=h[2*K+1]-h[1],a=new aJ;
a.translate(-J,-m);a.rotate(Math.atan2(g,P)-(l?Math.PI/2:0));if(l)a.scale(1,q);else a.scale(q,1);a.translate(Z,o);
a.ia();$=B.D.fi(a)}}return $};B.D.U=function(h,e){if(h==null)h=e=0;return[1,0,h,0,1,e,0,0]};B.D.s_=function(h){return Math.abs(h[6])<1e-10&&Math.abs(h[7])<1e-10};
B.D.FY=function(h){return new aJ(h[0],h[3],h[1],h[4],h[2],h[5])};B.D.fi=function(h){return[h.DR,h.tg,h.TO,h.b,h.l_,h.bZ,0,0]};
B.D.C=function(h,e){var v=new Float64Array(2);for(var J=0;J<e.length;J+=2){var m=e[J],d=e[J+1];B.D.CJ(m,d,h,v);
e[J]=v[0];e[J+1]=v[1]}};B.D.CJ=function(h,e,v,J){var m=1/(v[6]*h+v[7]*e+1);J[0]=(v[0]*h+v[1]*e+v[2])*m;
J[1]=(v[3]*h+v[4]*e+v[5])*m};B.D.awp=function(h,e){var v=new Float64Array(2);B.D.CJ(e.x,e.y,h,v);return new fq(v[0],v[1])};
B.D.nc=function(h,e,v,J){h=new Uint32Array(h.buffer);e=new Uint32Array(e.buffer);for(var m=0;m<J;m++){for(var d=0;
d<v;d++){e[d*J+m]=h[m*v+d]}}};B.D.cU=function(h,e,v,J){h=new Uint32Array(h.buffer);e=new Uint32Array(e.buffer);
for(var m=0;m<J;m++){for(var d=0;d<v;d++){e[m*v+d]=h[m*v+v-1-d]}}};B.D.ayY=function(h,e,v,J){h=new Uint32Array(h.buffer);
e=new Uint32Array(e.buffer);for(var m=0;m<J;m++){for(var d=0;d<v;d++){e[m*v+d]=h[(J-1-m)*v+d]}}};B.D.aEh=function(h){return Math.abs(h[6])<1e-9&&Math.abs(h[7])<1e-9};
B.D.ap6=function(h){return Math.abs(h[0])<1e-9&&Math.abs(h[4])<1e-9||Math.abs(h[1])<1e-9&&Math.abs(h[3])<1e-9};
B.D.drawImage=function(h,e,v,J,m,d,x,j,E){if(x==null)x=!1;if(j==null)j=!1;var L=B.D.ia(h),p=!0,Z=0;for(var T=0;
T<8;T++){var o=Math.round(h[T]);if(T!=2&&T!=5)Z+=Math.abs(o);if(Math.abs(o-h[T])>1e-9)p=!1}var u=B.D.aEh(h),N=B.D.ap6(h)&&u,M=N?1:0;
if(x||p&&Z==v+J&&u){B.D.agH(L,e,v,J,m,d,j,u,E);return}var O=d.q,F=d._,W=new Float64Array(2);m=new Uint32Array(m.buffer);
e=new Uint32Array(e.buffer);for(var f=0;f<F;f++)for(var $=0;$<O;$++){var H=f*O+$,A,G,l,K,C=0,Y=0,_=0,t=0;
m[H]=0;var U=$+d.x+.5,z=f+d.y+.5;A=U;G=z;l=L;var q=l[0]*A+l[1]*G+l[2],P=l[3]*A+l[4]*G+l[5];if(!u){K=1/(l[6]*A+l[7]*G+1);
q*=K;P*=K}var g=q*v,a=P*J,w=g<-1||g>v+1||a<-1||a>J+1;if(j){g=Math.max(.001,Math.min(v-1,g));a=Math.max(.001,Math.min(J-1,a))}else if(w)continue;
var y=B.D.aCM(h,v,J,U,z,q,P),S=Math.round(y*2.3);if(y<1.1){B.D.Kw(g,a,e,v,J,m,H,M);continue}if(!j&&(g<.6||g>v-.6||a<.6||a>J-.6)){S=Math.max(S,5)}if(j&&w)S=1;
var i=1/S,I=d.x+$,r=d.y+f;l=L;for(var T=0;T<S;T++)for(var n=0;n<S;n++){A=I+(T+.5)*i;G=r+(n+.5)*i;var g=l[0]*A+l[1]*G+l[2],a=l[3]*A+l[4]*G+l[5];
if(!u){K=1/(l[6]*A+l[7]*G+1);g*=K;a*=K}if(j){g=Math.max(.001,Math.min(.999,g));a=Math.max(.001,Math.min(.999,a))}else if(g<0||g>=1||a<0||a>=1)continue;
g=Math.floor(g*v);a=Math.floor(a*J);var Q=a*v+g,D=e[Q],dG=D>>>24;C+=(D&255)*dG;Y+=(D>>>8&255)*dG;_+=(D>>>16&255)*dG;
t+=dG}if(t!=0){var R=1/t;C=~~(C*R+.5);Y=~~(Y*R+.5);_=~~(_*R+.5);t=~~(t*i*i+.5);m[H]=t<<24|_<<16|Y<<8|C}}};
B.D.aCM=function(h,e,v,J,m,d,x){var j=B.D.ao5(h,J,m,d+1/e,x),E=B.D.ao5(h,J,m,d,x+1/v);return 1/Math.sqrt(Math.max(j,E))};
B.D.ao5=function(h,e,v,J,m){var d=1/(h[6]*J+h[7]*m+1),x=(h[0]*J+h[1]*m+h[2])*d-e,j=(h[3]*J+h[4]*m+h[5])*d-v;
return x*x+j*j};B.D.agH=function(h,e,v,J,m,d,x,j,E){if(j&&!x&&d.$()>4e6&&E){B.D.a0Q(h,e,v,J,m,d,x,j,E);
return}var L=d.x+d.q,p=d.y+d._,Z=0,o=new Uint32Array(m.buffer),u=new Uint32Array(e.buffer),N=h[0]*v,M=h[1]*v,O=h[2]*v,F=h[3]*J,W=h[4]*J,f=h[5]*J,$=h[6],H=h[7];
if(j&&!x)for(var A=d.y+.5;A<p;A++)for(var G=d.x+.5;G<L;G++){var l=N*G+M*A+O,K=F*G+W*A+f;if(0<l&&l<v&&0<K&&K<J){var U=~~K*v+~~l;
o[Z]=u[U]}else o[Z]=0;Z++}else for(var A=d.y+.5;A<p;A++)for(var G=d.x+.5;G<L;G++){var z=1/($*G+H*A+1),l=(N*G+M*A+O)*z,K=(F*G+W*A+f)*z;
if(x){l=Math.max(.001,Math.min(v-1,l));K=Math.max(.001,Math.min(J-1,K))}if(0<l&&l<v&&0<K&&K<J){var U=Math.floor(K)*v+Math.floor(l);
o[Z]=u[U]}else o[Z]=0;Z++}};B.D.a0Q=function(h,e,v,J,m,d,x,j,E){var L=new Uint32Array(m.buffer),p=new Uint32Array(e.buffer),H=0;
if(E&&(d.q&3)!=0)throw"e";var Z=h[0]*v,o=h[1]*v,u=h[2]*v,N=h[3]*J,M=h[4]*J,O=h[5]*J,F=h[6],W=h[7],f=d.q,$=d._,A=d.x+.5,G=d.y+.5,l=(f>>>2<<2)-1e-9,K=-.1+($>>>1<<1)-1e-9,U=~~v,z=Z==0?0:1/Z,q=N==0?0:1/N;
for(var P=0;P<$;P++){var g=A*Z+o*(P+G)+u,a=A*N+M*(P+G)+O,w=0,y=f;if(Z==0){}else if(z>0){w=Math.max(w,-g*z);
y=Math.min(y,(v-g)*z)}else{y=Math.min(y,-g*z);w=Math.max(w,(v-g)*z)}if(N==0){}else if(q>0){w=Math.max(w,-a*q);
y=Math.min(y,(J-a)*q)}else{y=Math.min(y,-a*q);w=Math.max(w,(J-a)*q)}if(y<0)y=0;if(w>y)w=y;w=~~Math.ceil(w);
y=~~y;H=~~(P*f);L.fill(0,H,H+w);H+=w;for(var S=w;S<y;S+=4){var i=Z*S+g,C=N*S+a,Y=~~C*U+~~i,_=p[Y];L[H]=_;
L[H+1]=_;L[H+2]=_;L[H+3]=_;H+=4}L.fill(0,H,H+f-y)}};B.D.ia=function(h){var e=h[4]-h[5]*h[7],v=h[2]*h[7]-h[1],J=h[1]*h[5]-h[2]*h[4],m=h[5]*h[6]-h[3],d=h[0]-h[2]*h[6],x=h[3]*h[2]-h[0]*h[5],j=h[3]*h[7]-h[4]*h[6],E=h[1]*h[6]-h[0]*h[7],L=1/(h[0]*h[4]-h[1]*h[3]);
return[e*L,v*L,J*L,m*L,d*L,x*L,j*L,E*L]};B.D.Eh=function(h,e){var v=h[0],J=h[1],m=h[2],d=h[3],x=h[4],j=h[5],E=h[6],L=h[7],p=e[0],Z=e[1],o=e[2],u=e[3],N=e[4],M=e[5],O=e[6],F=e[7],W=[v*p+J*u+m*O,v*Z+J*N+m*F,v*o+J*M+m,d*p+x*u+j*O,d*Z+x*N+j*F,d*o+x*M+j,E*p+L*u+O,E*Z+L*N+F],f=1/(E*o+L*M+1);
for(var T=0;T<8;T++)W[T]*=f;return W};B.D.Kw=function(h,e,v,J,m,d,x,j){var E=h,L=e,o=0,u=0,N=0,M=0;h-=.499999;
e-=.499999;var p=Math.floor(h),Z=Math.floor(e);if(j==0){var T=Z*J+p,O=p>=0&&p<J,F=p+1>=0&&p+1<J,W=Z>=0&&Z<m,f=Z+1>=0&&Z+1<m;
if(O&&W)o=v[T];if(F&&W)u=v[T+1];if(O&&f)N=v[T+J];if(F&&f)M=v[T+J+1]}else if(j==1){var $=p<0?0:p>J-1?J-1:p,H=p<-1?0:p>J-2?J-1:p+1,A=Z<0?0:Z>m-1?m-1:Z,G=Z<-1?0:Z>m-2?m-1:Z+1;
o=v[A*J+$];u=v[A*J+H];N=v[G*J+$];M=v[G*J+H]}else{var $=(p+50*J)%J,H=(p+50*J+1)%J,A=(Z+50*m)%m,G=(Z+50*m+1)%m;
o=v[A*J+$];u=v[A*J+H];N=v[G*J+$];M=v[G*J+H]}var l=h-p,K=e-Z,U=(1-K)*(1-l)*(o>>>24),z=(1-K)*l*(u>>>24),q=K*(1-l)*(N>>>24),P=K*l*(M>>>24),g=U+z+q+P,a=U*(o&255)+z*(u&255)+q*(N&255)+P*(M&255),w=U*(o>>>8&255)+z*(u>>>8&255)+q*(N>>>8&255)+P*(M>>>8&255),y=U*(o>>>16&255)+z*(u>>>16&255)+q*(N>>>16&255)+P*(M>>>16&255);
if(g==0)d[x]=0;else{var S=1/g;a=~~(a*S+.5);w=~~(w*S+.5);y=~~(y*S+.5);g=~~(g+.5);d[x]=g<<24|y<<16|w<<8|a}};
B.D.aFv=function(h,e,v,J,m,d){var x=h-.499999,j=e-.499999,E=~~x,L=~~j,p=x-E,Z=j-L,o=(1-Z)*(1-p),u=(1-Z)*p,N=Z*(1-p),M=Z*p,O=L*J+E<<2,F=(L+1)*J+E<<2,W=o*v[O]+u*v[O+4]+N*v[F]+M*v[F+4],f=o*v[O+1]+u*v[O+5]+N*v[F+1]+M*v[F+5],$=o*v[O+2]+u*v[O+6]+N*v[F+2]+M*v[F+6],H=o*v[O+3]+u*v[O+7]+N*v[F+3]+M*v[F+7];
d[0]=W;d[1]=f;d[2]=$;d[3]=H};B.D.WV=function(h,e,v,J,m){h-=.499999;e-=.499999;var d=Math.floor(h),x=Math.floor(e),j=h-d,E=e-x,L=(1-E)*(1-j),p=(1-E)*j,Z=E*(1-j),o=E*j,u=(d+50*J)%J,N=(d+1+50*J)%J,M=(x+50*m)%m,O=(x+1+50*m)%m,F=v[M*J+u],W=v[M*J+N],f=v[O*J+u],$=v[O*J+N];
if(F==null||$==null)throw"e";return L*F+p*W+Z*f+o*$};B.D.asZ=function(h,e,v,J,m){h-=.499999;e-=.499999;
var d=Math.floor(h),x=Math.floor(e),j=h-d,E=e-x,L=(1-E)*(1-j),p=(1-E)*j,Z=E*(1-j),o=E*j,u=0,N=x*J+d,M=N+J;
if(0<=x&&x<m&&0<=d&&d<J)u+=L*v[N];if(0<=x&&x<m&&0<=d+1&&d+1<J)u+=p*v[N+1];if(0<=x+1&&x+1<m&&0<=d&&d<J)u+=Z*v[M];
if(0<=x+1&&x+1<m&&0<=d+1&&d+1<J)u+=o*v[M+1];return u};B.D.aop=function(h,e,v,J,m,d,x,j,E,L,p,Z){var o=new Uint32Array(h.buffer),u=new Uint32Array(J.buffer),N=(1+2*L)/m,M=[],O=[];
for(var F=0;F<m;F++){var W=-.25+L-F*N;M.push(Math.cos(2*Math.PI*W)*Z/p);M.push(Math.sin(2*Math.PI*W)/p)}x*=e;
j*=v;for(var f=0;f<d;f++){var $=Math.pow(f/d,E)*d;for(var F=0;F<m;F++){var H=x+M[F<<1]*$,A=j+M[(F<<1)+1]*$,G=~~(.5+(H<0?0:H>e-1?e-1:H)),l=~~(.5+(A<0?0:A>v-1?v-1:A));
u[f*m+F]=o[l*e+G]}}};B.D.aqn=function(h,e,v,J,m,d,x,j,E,L,p,Z){var o=new Uint32Array(h.buffer),u=new Uint32Array(J.buffer),N=1/Z,M=[],O=v*4,F=1/O;
for(var W=0;W<O+10;W++)M.push(Math.pow(W*F,1/E)*v*p);x*=m;j*=d;for(var W=0;W<d;W++)for(var f=0;f<m;f++){var $=N*(f-x),H=W-j,A=1.75-Math.atan2(H,$)*(1/(2*Math.PI));
A=A-~~A;A=(A+L)*(1/(1+2*L));var G=Math.sqrt($*$+H*H);G=M[~~(G*4)];B.D.Kw(A*e+.5,G+.5,o,e,v,u,W*m+f,1)}};
B.D.fk=function(h,e,v,J,m){var d=m[0],x=m[1];for(var j=0;j<x;j++)for(var E=0;E<d;E++){var L=m[2]*E+m[3]*j+m[4],p=m[5]*E+m[6]*j+m[7],Z=j*d+E<<2,o=p*e+L<<2;
J[Z]=h[o+0];J[Z+1]=h[o+1];J[Z+2]=h[o+2];J[Z+3]=h[o+3]}};B.Vh={x0:function(h,e){var v=~~(.499+h*e);return v<0?0:v>e?e:v},a9E:function(h,e,v,J,m,d,x,j){var E=v[0],L=v[1],p=v[2],Z=v[3],o=J.q,u=J._,N=new Uint32Array(1),M=new Uint8Array(N.buffer),O=Math.round(Math.random()*J.$()*100);
for(var F=0,T=0;F<u;F++){for(var W=0;W<o;W++,T++){var f=W+m,$=F+d,H=E*f+L*$,A=p*f+Z*$,G=0,U=0;if(j==0)G=H+.5;
else if(j==1)G=2*Math.sqrt(H*H+A*A);else if(j==2)G=(Math.PI+Math.atan2(-A,-H))/(2*Math.PI);else if(j==3)G=Math.abs(H*2);
else if(j==4)G=2*(Math.abs(H)+Math.abs(A));var l=B.Vh.x0(G,x)*4,K=W*4;N[0]=B.B.o2(T+O);for(var z=0;z<4;
z++){var q=e[l+z],P=Math.floor(q);if(M[z]<(q-P)*255)P++;U|=P<<z*8}h[T]=U}}},em:[function(h,e,v,J,m,d,x){var j=v[0],E=v[1],L=v[2],p=v[3],Z=J.q,o=J._;
for(var u=0,T=0;u<o;u++)for(var N=0;N<Z;N++,T++){var M=N+m,O=u+d,F=j*M+E*O,W=L*M+p*O,f=F+.5;h[T]=e[B.Vh.x0(f,x)]}},function(h,e,v,J,m,d,x){var j=v[0],E=v[1],L=v[2],p=v[3],Z=J.q,o=J._;
for(var u=0,T=0;u<o;u++)for(var N=0;N<Z;N++,T++){var M=N+m,O=u+d,F=j*M+E*O,W=L*M+p*O,f=2*Math.sqrt(F*F+W*W);
h[T]=e[B.Vh.x0(f,x)]}},function(h,e,v,J,m,d,x){var j=v[0],E=v[1],L=v[2],p=v[3],Z=J.q,o=J._;for(var u=0,T=0;
u<o;u++)for(var N=0;N<Z;N++,T++){var M=N+m,O=u+d,F=j*M+E*O,W=L*M+p*O,f=(Math.PI+Math.atan2(-W,-F))/(2*Math.PI);
h[T]=e[B.Vh.x0(f,x)]}},function(h,e,v,J,m,d,x){var j=v[0],E=v[1],L=v[2],p=v[3],Z=J.q,o=J._;for(var u=0,T=0;
u<o;u++)for(var N=0;N<Z;N++,T++){var M=N+m,O=u+d,F=j*M+E*O,W=L*M+p*O,f=Math.abs(F*2);h[T]=e[B.Vh.x0(f,x)]}},function(h,e,v,J,m,d,x){var j=v[0],E=v[1],L=v[2],p=v[3],Z=J.q,o=J._;
for(var u=0,T=0;u<o;u++)for(var N=0;N<Z;N++,T++){var M=N+m,O=u+d,F=j*M+E*O,W=L*M+p*O,f=2*(Math.abs(F)+Math.abs(W));
h[T]=e[B.Vh.x0(f,x)]}}]};B.Vh.auN=function(h,e){return h+.5};B.Vh.arz=function(h,e){return 2*Math.sqrt(h*h+e*e)};
B.Vh.aiL=function(h,e){return(Math.PI+Math.atan2(-e,-h))/(2*Math.PI)};B.Vh.aA3=function(h,e){return Math.abs(h*2)};
B.Vh.a0Y=function(h,e){return 2*(Math.abs(h)+Math.abs(e))};B.Vh.YE=function(h,e,v,J,m,d,x,j,E,L,p,Z){var o=h.Clrs,u=new Uint32Array(e.buffer),N=1023,M=o?B.Vh.M6(h,E,L):null;
if(Z&&o){var O=B.Vh.aDp(h,M,N+1,x);B.Vh.a9E(u,O,J,v,v.x-m,v.y-d,N,j)}else{var F=o?B.Vh.abP(h,M,N+1,x):B.Vh.a4r(h,N+1,x);
if(j<5){B.Vh.em[j](u,F,J,v,v.x-m,v.y-d,N)}else{var W=new Uint8Array(F.buffer),f=v.q,$=v._,H=p.k_-p.f1,A=1/H,G=p.x4.q-v.q>>1,l=p.x4._-v._>>1,K=p.x4.q,U=-.6*A,z=(-.6+.4)*A,q=(-.6+2*.4)*A,P=(-.6+3*.4)*A;
for(var g=0,T=0;g<$;g++)for(var a=0;a<f;a++,T+=4){var w=0,y=0,S=0,i=0,C=(g+l)*K+a+G,Y=(p.GN[C]-p.f1)*A,_=0;
if(Y<=0||Y>=1){_=(Y<=0?0:N)<<2;e[T]=W[_];e[T+1]=W[_+1];e[T+2]=W[_+2];e[T+3]=W[_+3];continue}_=Math.max(0,Math.min(N-1,Math.round((Y+U)*N)))<<2;
y+=W[_];S+=W[_+1];i+=W[_+2];w+=W[_+3];_=Math.max(0,Math.min(N-1,Math.round((Y+z)*N)))<<2;y+=W[_];S+=W[_+1];
i+=W[_+2];w+=W[_+3];_=Math.max(0,Math.min(N-1,Math.round((Y+q)*N)))<<2;y+=W[_];S+=W[_+1];i+=W[_+2];w+=W[_+3];
_=Math.max(0,Math.min(N-1,Math.round((Y+P)*N)))<<2;y+=W[_];S+=W[_+1];i+=W[_+2];w+=W[_+3];e[T]=y>>>2;
e[T+1]=S>>>2;e[T+2]=i>>>2;e[T+3]=w>>>2}}}};B.Vh.M6=function(h,e,v){var J=[h.Clrs.v,h.Trns.v],m=[[],[]],d=255;
for(var x=0;x<2;x++)for(var T=0;T<J[x].length;T++){var j,E=J[x][T].v;if(x==0){var L=E.Type.v.Clry;if(L=="FrgC")j={n:e>>16&255,i:e>>8&255,b:e&255};
else if(L=="BckC")j={n:v>>16&255,i:v>>8&255,b:v&255};else j=B.Vh.SL(E.Clr.v)}else{j=E.Opct.v.val*(255/100);
if(j<d)d=j}m[x].push([j,E.Lctn.v/4096,E.Mdpn.v/100])}m.push(d>254);return m};B.Vh.SL=function(h){var e,v=h.classID;
if(v=="RGBC"){if(h.Rd)e={n:h.Rd.v,i:h.Grn.v,b:h.Bl.v};else e={n:h.redFloat.v*255,i:h.greenFloat.v*255,b:h.blueFloat.v*255}}else if(v=="HSBC"){e=B.Qh(h.H.v.val/360,h.Strt.v/100,h.Brgh.v/100);
e.n*=255;e.i*=255;e.b*=255}else if(v=="CMYC"){var J=h.Cyn.v,m=h.Mgnt.v,d=h.Ylw.v,x=h.Blck.v,j=[J/100,m/100,d/100,x/100],E=B.VG(j);
e={n:E[0]*255,i:E[1]*255,b:E[2]*255}}else if(v=="Grsc")e={n:255-h.Gry.v,i:255-h.Gry.v,b:255-h.Gry.v};
else if(v=="LbCl"){e=B.n3(h.Lmnc.v,h.A.v,h.B.v)}else if(v=="BkCl")e={n:0,i:0,b:0};else console.log(h);
if(isNaN(e.n))e.n=e.i=e.b=0;return e};B.Vh.a4r=function(h,e,v){var J=new Uint32Array(e),m=new Uint8Array(J.buffer);
J.fill(4278190080);var d=[],x=[],j=h.RndS.v,E=h.Smth.v/4096;for(var T=0;T<4;T++){d[T]=~~(h.Mnm.v[T].v*255/100);
x[T]=~~(h.Mxm.v[T].v*255/100)}var L=B.U(e*4),p=B.U(e);for(var Z=0;Z<3;Z++){B.W.apM(null,e,1,L,[1+Math.round(E*E*E*60),22,j*(2+Z)]);
B.Bq(L,p,0);B.ar(p,m,Z);var o=d[Z],u=x[Z];for(var T=0;T<e;T++)m[4*T+Z]=Math.max(o,Math.min(u,m[4*T+Z]))}if(v)for(var T=0;
T<e/2;T++){var N=J[T];J[T]=J[e-1-T];J[e-1-T]=N}return J};B.Vh.WZ=function(h){return{classID:"RGBC",Rd:{t:"doub",v:h.n},Grn:{t:"doub",v:h.i},Bl:{t:"doub",v:h.b}}};
B.Vh.aDp=function(h,e,v,J){var m=[],d=1/(v-0);for(var T=0;T<v;T++){var x=T*4,j=B.Vh.x6(h,e,(J?v-1-T:T)*d);
m[x]=j[0];m[x+1]=j[1];m[x+2]=j[2];m[x+3]=j[3]}return m};B.Vh.abP=function(h,e,v,J){var m=new Uint32Array(v),d=1/(v-0);
for(var T=0;T<v;T++)m[T]=B.Vh.Sf(h,e,(J?v-1-T:T)*d);return m};B.Vh.x6=function(h,e,v){var J=h.Intr.v*(1/4096),m=e[0],d=e[1],x=m.length-1,j=d.length-1,T=-1,E=0,L=0,p=0,Z=0;
if(e[2])E=255;else{while(T<j&&d[T+1][1]<=v)T++;if(T==-1){E=d[0][0]}else if(T==j){E=d[T][0]}else{var o=B.Vh.aDr(d,T,v,J);
E=o*d[T][0]+(1-o)*d[T+1][0]}}T=-1;while(T<x&&m[T+1][1]<=v)T++;if(T==-1){var u=m[0][0];L=u.n;p=u.i;Z=u.b}else if(T==x){var u=m[T][0];
L=u.n;p=u.i;Z=u.b}else{var N=m[T][0],M=m[T+1][0],O=B.Vh.aDr(m,T,v,J);L=Math.min(255,O*N.n+(1-O)*M.n);
p=Math.min(255,O*N.i+(1-O)*M.i);Z=Math.min(255,O*N.b+(1-O)*M.b)}return[L,p,Z,E]};B.Vh.Sf=function(h,e,v){var J=B.Vh.x6(h,e,v),m=~~(.5+J[0]),d=~~(.5+J[1]),x=~~(.5+J[2]),j=~~(.5+J[3]);
return j<<24|x<<16|d<<8|m};B.Vh.aDr=function(h,T,e,v){if(h.length==2)v*=.5;var J=h[T][1],m=h[T+1][1],d=J+h[T+1][2]*(m-J),x;
if(e<d)x=.5*(e-J)/(d-J);else x=.5+.5*(e-d)/(m-d);x=.5+.5*(v*Math.cos(Math.PI*x)+(1-v)*(1-2*x));return x};
B.Vh.aAW=function(h,e,v){var J=.5*v._,m=J*(h/e),d=Math.sqrt(J*J+m*m),x=.5*v.q,j=x*(e/h),E=Math.sqrt(x*x+j*j);
return Math.min(d,E)};B.Vh.aCr=function(h,e){var v=Math.PI*h.Angl.v.val/180,J=h.Scl.v.val/100,m=h.Ofst.v,d=m.Hrzn.v.val/100,x=m.Vrtc.v.val/100,j=Math.cos(v),E=-Math.sin(v),L=B.Vh.aAW(j,E,e),p=L*J,Z=e.x+e.q/2+d*e.q,o=e.y+e._/2+x*e._;
return[new fq(Z,o),new fq(Z+j*p,o+E*p)]};B.Vh.Xf=function(h,e,v,J){var m=e.x-h.x,d=-(e.y-h.y),x=Math.sqrt(m*m+d*d),j=Math.atan2(d,m),E=Math.cos(j),L=-Math.sin(j),p=B.Vh.aAW(E,L,v),Z=x/p,o=(h.x-v.x-v.q/2)/v.q,u=(h.y-v.y-v._/2)/v._;
J.Angl.v.val=180*j/Math.PI;J.Scl.v.val=Z*100;var N=J.Ofst.v;N.Hrzn.v.val=o*100;N.Vrtc.v.val=u*100};B.Vh.Q_=function(h,e){for(var T=0;
T<h.length;T++){var v=h[T],J=Math.round(v[0]*4096),m=v[1],d=v[2],x=h[Math.max(0,T-1)][3];if(d==null)d=1;
if(x==null)x=.5;var j=B.Vh.WZ({n:m[0]*255,i:m[1]*255,b:m[2]*255});e.Clrs.v[T]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:J},Mdpn:{t:"long",v:Math.round(x*100)},Clr:{t:"Objc",v:j},Type:{t:"enum",v:{Clry:"UsrS"}}}};
e.Trns.v[T]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:J},Mdpn:{t:"long",v:Math.round(x*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(d*100)}}}}}};
B.Vh.alh=function(h,e,v){if(e){h=B.t(h);for(var T=0;T<2;T++){var J=h[T==0?"Clrs":"Trns"].v;for(var m=0;
m<J.length;m++)J[m].v.Lctn.v=4096-J[m].v.Lctn.v;J.reverse()}}var d=[],x=1/255,j=h.Clrs.v,E=h.Trns.v,J=j;
if(jD==0||j.length!=E.length){if(jD!=0)console.log("strange gradient");if(v!=!0)J=j.concat(E);var L=B.Vh.M6(h,0,0);
for(var T=0;T<J.length;T++){var p=J[T].v,Z=p.Lctn.v/4096,o=B.Vh.x6(h,L,Z);d.push([Z,[o[0]*x,o[1]*x,o[2]*x],o[3]*x,p.Mdpn.v/100])}d.sort(function(N,M){return N[0]-M[0]});
for(var T=1;T<d.length;T++)if(d[T][0]-d[T-1][0]<.001){d.splice(T,1);T--}}else{for(var T=0;T<J.length;
T++){var p=j[T].v,u=p.Clr.v,Z=p.Lctn.v/4096;d.push([Z,[u.Rd.v*x,u.Grn.v*x,u.Bl.v*x],E[T].v.Opct.v.val/100,j[Math.min(T+1,j.length-1)].v.Mdpn.v/100])}}return d};
B.Vh.jQ=function(h,e){function v(h,x){h.addColorStop(x[0],CSS.aCE(x[1],x[2]))}function J(x,j,E,L){var p=Math.log(.5)/Math.log(L),Z=Math.log(.5)/Math.log(1-L),o=L>.5?Math.pow(E,p):1-Math.pow(1-E,Z),u=1-o,N=x[0],M=x[1],O=j[1],F=[N+(j[0]-N)*E,[M[0]*u+O[0]*o,M[1]*u+O[1]*o,M[2]*u+O[2]*o],x[2]*u+j[2]*o];
return F}v(h,e[0]);for(var T=1;T<e.length;T++){var m=e[T-1][3];if(m!=.5)for(var d=1;d<20;d++)v(h,J(e[T-1],e[T],d/20,m));
v(h,e[T])}};B.azB={};B.azB.aY=function(h,e,v,J,m,d,x,j,E,L,p,Z){var o,u,N,M=Date.now(),O=!1,F=x,W=L,f,$,H,A,G=d*255,l=255-E*255,K=1+m*6,U=1+j*6,z=1+Z*4,q=(z-1)/7,P=0,g=255-0,a,w,y,S,i,C,Y,_,t,I,r,n,Q,D=0,dG=1,R,X,dx,jv,gB,hQ,ah,kG,iZ,bs,ey=1+p,jp,eh=B.U(v*J),dt=B.U(v*J),jN=B.U(v*J),jX=B.U(v*J),jw=255/G,i7=255/(255-l);
for(u=0;u<J;u++){for(o=0;o<v;o++){var T=u*v+o,kn=T<<2;R=B.Pr(h[kn],h[kn+1],h[kn+2]);jX[T]=R;if(R<G)eh[T]=255-R*jw;
if(R>l)dt[T]=255-(255-R)*i7}}if(O)console.log("init",Date.now()-M);M=Date.now();if(m*F>0){jN.set(eh);
B.kK.PX(jN,eh,new fP(0,0,v,J),F)}if(j*W>0){jN.set(dt);B.kK.PX(jN,dt,new fP(0,0,v,J),W)}if(O)console.log("blur",Date.now()-M);
M=Date.now();var eK=B.U(256),ee=B.U(256);for(var T=0;T<256;T++){var az=T*(1/255),k7=0;k7=(1-Math.pow(1-az,K))*255;
eK[T]=Math.max(0,Math.min(255,~~(k7+.5)));k7=Math.pow(az,U)*255;ee[T]=Math.max(0,Math.min(255,~~(k7+.5)))}var al=new Uint8ClampedArray(e.buffer),kl=new Float32Array(32768);
for(var T=0;T<32768;T++){jp=Math.sqrt(T)*(1/128);if(ey>1)jp=(1-jp)*(ey-1)+1;else jp=jp*(ey-1)+1;kl[T]=jp}for(u=0;
u<J;u++){for(o=0;o<v;o++){var T=u*v+o,kn=T<<2,k7=jX[T],b9=eh[T]*(1/255),h9=dt[T]*(1/255);k7=(1-b9)*k7+b9*eK[~~k7];
k7=(1-h9)*k7+h9*ee[~~k7];R=k7;var ge=h[kn],iN=h[kn+1],a8=h[kn+2];X=-ge*.168736-iN*.331264+a8*.5;dx=ge*.5-iN*.418688-a8*.081312;
jp=kl[~~(.5+X*X+dx*dx)];jv=X*jp;hQ=dx*jp;dG=1-Math.min(2-(b9+h9),1);X=dG*X+(1-dG)*jv;dx=dG*dx+(1-dG)*hQ;
kG=R+1.402*dx;iZ=R-.34414*X-.71414*dx;bs=R+1.772*X;al[kn]=~~(.5+kG);al[kn+1]=~~(.5+iZ);al[kn+2]=~~(.5+bs)}}if(O)console.log("apply masks",Date.now()-M);
M=Date.now()};B.Q1={};B.Q1.aJ=function(h,e,v,J,m){var d=Date.now(),x=!1,M=1,g=0,t=0;if(!e.xB(m)){var j=e.R$(m),E=B.U(j.$()*4);
B.YZ(h,e,E,j);h=E;e=j}var L=B.U(e.$());B.Ww(v,m,L,e);B.round(L);m=m.UP(e);var p=m.q,Z=m._,o=p*3<Z?2:1,u=Z*3<p?2:1;
if(m.$()*(o*2+1)*(u*2+1)<e.$()){var j=new fP(m.x-p*o,m.y-Z*o,p*(o*2+1),Z*(u*2+1)).UP(e),E=B.U(j.$()*4);
B.YZ(h,e,E,j);var N=B.U(j.$());B.Ww(L,e,N,j);e=j;h=E;L=N}while((e.q+e._)/2/M>400)M++;var O=h,F=e,W=L,f=Math.floor(F.q/M),$=Math.floor(F._/M);
h=B.U(f*$*4);B.scale.hE(O,F.q,F._,h,f,$,1/M);L=B.U(f*$);B.scale.fk(W,F.q,F._,L,f,$,1/M);B.round(L,1);
if(x)console.log("scale down:",M,f,$);var H=B.sH(L,new fP(0,0,f,$));if(H.EG())return 1;var A=Math.round((H.q+H._)/2/15);
if(x)console.log(Date.now()-d,"preprocess");d=Date.now();var G=B.U(f*$*4);B.aA$(h,G);var l=Int16Array,K=new l(f*$*24),U=new l(64),z=new l(64),q=new l(64),P=new l(64);
for(var a=3;a<$-4;a++)for(var w=3;w<f-4;w++){var y=a*f+w;if(L[y]==255)continue;if(B.Q1.a4F(G,L,w,a,f,$,U,z,q)!=0)continue;
B.Q1.u7(U,P);var S=g*24;K[S]=w;K[S+1]=a;B.Q1.N7(U,K,S+4,12);B.Q1.u7(z,P);B.Q1.N7(z,K,S+16,4);B.Q1.u7(q,P);
B.Q1.N7(q,K,S+20,4);var i=K[S+5],C=K[S+6];K[S+5]=K[S+16];K[S+6]=K[S+20];K[S+16]=i;K[S+20]=C;g++}if(g==0)return 2;
if(x)console.log(Date.now()-d,"FWHT computed");d=Date.now();var Y=[];B.Q1.Yq(0,g-1,Y,K,new l(2*24));
if(x)console.log(Date.now()-d,"KD tree computed");d=Date.now();var _=new Uint32Array(f*$*4);for(var T=0;
T<g;T++){var I=T,r=B.Q1.anq(I,K,Y,A);if(r==-1)continue;var n=I*24,Q=r*24,D=K[n],dG=K[n+1],R=K[Q],X=K[Q+1];
t+=B.Q1.getError(Q,n,K,1e99);var dx=R-D,jv=X-dG;_[($+jv)*2*f+(f+dx)]+=1}if(x)console.log(Date.now()-d,"NN found");
d=Date.now();var gB=[],hQ=1/(2*f);for(var T=0;T<_.length;T++){if(_[T]>0){var a=Math.floor(T*hQ),w=T-a*2*f;
gB.push({x:w-f,y:a-$,J:_[T],$z:-1})}}gB.sort(function(al,kl){return kl.J-al.J});var ah=new Int32Array(f*$),kG=[];
for(var T=0;T<f*$;T++){if(L[T]==255){ah[T]=kG.length>>>1;kG.push(T%f,Math.floor(T/f))}else if(h[(T<<2)+3]<200){ah[T]=-2}else{ah[T]=-1}}var iZ=B.Q1.acH(f,$,gB,ah,kG);
if(iZ==null){if(x)console.log("no appropriate labeling");return 3}var bs=iZ.tF,top=iZ.top;bs=B.Q1.aAw(bs,h,f,$,top,ah,kG);
if(x)console.log(Date.now()-d,"optimal labeling found");d=Date.now();var j=m.O();j.vY(1,1);j=j.UP(F);
var ey=B.U(j.$()*4),jp=B.U(j.$());B.YZ(O,F,ey,j);var eh=F.q,dt=F._;for(var a=0;a<dt;a++)for(var w=0;
w<eh;w++){if(W[a*eh+w]==0)continue;var jN=Math.min(Math.floor(w/M),f-1),jX=Math.min(Math.floor(a/M),$-1),jw=ah[jX*f+jN];
if(jw==-1)continue;var i7=bs[jw],kn=top[i7],eK=w+kn.x*M,ee=a+kn.y*M,az=ee*eh+eK<<2,k7=(a-j.y+F.y)*j.q+(w-j.x+F.x)<<2;
ey[k7]=O[az];ey[k7+1]=O[az+1];ey[k7+2]=O[az+2];ey[k7+3]=O[az+3];ey[k7+3]=O[az+3];jp[k7>>2]=i7+1}if(x)console.log(Date.now()-d,"copied back");
d=Date.now();B.JS.aJ(ey,jp,j,null,1e3);if(x)console.log(Date.now()-d,"poisson smooth");d=Date.now();
B.YZ(ey,j,J,m);return 0};B.Q1.awi=function(h,e,v,J,m,d){return B.Q1.On(h+m.x,e+m.y,v,J,d)?0:1e9};B.Q1.aAw=function(h,e,v,J,top,m,d){var x=Date.now(),j=d.length>>>1,E=[-1,0,0,-1,1,0,0,1],L=1e99,p=[],Z=[],o=2*(j*2*3+j*2),u=null,N=0,M=0,O=0,F=1e99;
while(!0&&Date.now()<x+12e3){O++;var W=null,f=L;for(var $=0;$<top.length;$++){var H=top[$],A=0,G=j+2,l=0;
for(var T=0;T<j;T++){var K=d[T*2],U=d[T*2+1],z=top[h[T]],q=B.Q1.awi(K,U,v,J,H,m),P=h[T]==$?1e9:B.Q1.awi(K,U,v,J,z,m);
for(var iW=0;iW<4;iW++){if(iW==0&&K==0||iW==1&&U==0||iW==2&&K==v-1||iW==3&&U==J-1)continue;var g=E[2*iW],a=E[2*iW+1],w=K+g,y=U+a,S=m[y*v+w];
if(S==-2){}else if(S==-1){q+=3*B.Q1.L6(w+H.x,y+H.y,w,y,v,J,e,m);q+=2*B.Q1.L6(w+H.x+g,y+H.y+a,w+g,y+a,v,J,e,m);
P+=3*B.Q1.L6(w+z.x,y+z.y,w,y,v,J,e,m);P+=2*B.Q1.L6(w+z.x+g,y+z.y+a,w+g,y+a,v,J,e,m)}else if(iW>1){if(h[T]==h[S]){var i=0;
i+=B.Q1.L6(K+z.x,U+z.y,K+H.x,U+H.y,v,J,e,m);i+=B.Q1.L6(w+z.x,y+z.y,w+H.x,y+H.y,v,J,e,m);p[A]=T;p[A+1]=S;
Z[A]=i;Z[A+1]=i;A+=2}else{var C=top[h[S]],Y=G,_=0,t=0,I=0;G++;_+=B.Q1.L6(K+z.x,U+z.y,K+H.x,U+H.y,v,J,e,m);
_+=B.Q1.L6(w+z.x,y+z.y,w+H.x,y+H.y,v,J,e,m);t+=B.Q1.L6(K+C.x,U+C.y,K+H.x,U+H.y,v,J,e,m);t+=B.Q1.L6(w+C.x,y+C.y,w+H.x,y+H.y,v,J,e,m);
I+=B.Q1.L6(K+C.x,U+C.y,K+z.x,U+z.y,v,J,e,m);I+=B.Q1.L6(w+C.x,y+C.y,w+z.x,y+z.y,v,J,e,m);p[A]=T;p[A+1]=Y;
Z[A]=_;Z[A+1]=_;A+=2;p[A]=S;p[A+1]=Y;Z[A]=t;Z[A+1]=t;A+=2;p[A]=Y;p[A+1]=j+1;Z[A]=I;Z[A+1]=0;A+=2}}}p[A]=j;
p[A+1]=T;Z[A]=q;Z[A+1]=0;A+=2;p[A]=T;p[A+1]=j+1;Z[A]=P;Z[A+1]=0;A+=2;l+=Math.min(q,P)}if(l>f)continue;
var r=B.qh.ef(G,A,j,j+1,p,Z,f);if(r.y5<f){f=r.y5;var n=h.slice(0);B.Q1.anf(n,A,p,r.mY,$,j);W=n}}if(f*1>=L){break}L=f;
h=W;if((O&3)==0){if(f*1.03>=F)break;F=f}if((O&3)==0){var Q=0*top.length;for(var T=0;T<top.length&&top.length>Q;
T++){if(h.indexOf(T)!=-1)continue;top.splice(T,1);for(var S=0;S<h.length;S++)if(h[S]>T)h[S]--;T--}}}return h};
B.Q1.anf=function(h,e,v,J,m,d){for(var T=0;T<J.length;T++){var x=J[T]<<1,j=0,E=0;if(x<e){j=v[x];E=v[x+1]}else{E=v[x];
j=v[x+1]}if(j==d&&h[E]!=m)h[E]=m}};B.Q1.aa7=function(top,h,e,v,J,m,d,x,j){for(var T=0;T<e.length;T++){var E=e[T],L=!0;
if(x!=null&&!B.Q1.On(x+E.x,j+E.y,m,d,v))continue;if(E.$z==-1)E.$z=B.Q1.anZ(E,v,J,m,d);if(E.$z<=0)continue;
for(var p=0;p<top.length;p++){var Z=top[p],o=E.x-Z.x,u=E.y-Z.y;if(o*o+u*u<h){L=!1;break}}if(L)return E}return null};
B.Q1.anZ=function(h,e,v,J,m){var d=0;for(var T=0;T<v.length;T+=2){var x=v[T]+h.x,j=v[T+1]+h.y;if(B.Q1.On(x,j,J,m,e))d++}return d/(v.length>>1)};
B.Q1.acH=function(h,e,v,J,m){var d=m.length>>>1,top=[];for(var T=0;T<60;T++){var x=B.Q1.aa7(top,25,v,J,m,h,e);
if(x==null)break;else top.push(x)}if(top.length==0)return null;var j=[];for(var T=0;T<d;T++){var E=m[T*2],L=m[T*2+1],p=-1,Z=0;
while(!0){Z++;var o=Math.random();p=Math.floor(o*.99999*top.length);var u=top[p],N=E+u.x,M=L+u.y;if(B.Q1.On(N,M,h,e,J))break;
if(Z>1e3){var x;x=B.Q1.aa7(top,0,v,J,m,h,e,E,L);if(x==null)for(var O=0;O<4;O++){var F,W,f=0;while(!0){F=~~(Math.random()*h);
W=~~(Math.random()*e);if(B.Q1.On(F,W,h,e,J))break;f++;if(f>500)throw"e"}x={x:F-E,y:W-L,J:1,$z:-1};v.push(x);
top.push(x)}else top.push(x);Z=0}}j.push(p)}return{top:top,tF:j}};B.Q1.L6=function(h,e,v,J,m,d,x,j){if(h==v&&e==J)return 0;
if(h<0||e<0||h>=m||e>=d||v<0||J<0||v>=m||J>=d||j[e*m+h]!=-1||j[J*m+v]!=-1)return 1e7;var E=e*m+h<<2,L=J*m+v<<2,p=x[E]-x[L],Z=x[E+1]-x[L+1],o=x[E+2]-x[L+2];
return 1+(p*p+Z*Z+o*o)};B.Q1.On=function(h,e,v,J,m){return h>=0&&h<v&&e>=0&&e<J&&m[e*v+h]==-1};B.Q1.anq=function(h,e,v,J){var m=24*h,d=e[m],x=e[m+1],j=J*J,E=0,o=1e9;
while(v[E]!=99)if(e[m+v[E]]<v[E+1])E=v[E+2];else E=v[E+3];var L=v[E+1],p=v[E+2],Z=-1;for(var T=L;T<=p;
T++){var E=T,u=E*24,N=e[u],M=e[u+1];if((N-d)*(N-d)+(M-x)*(M-x)<j)continue;var O=B.Q1.getError(u,m,e,o);
if(O<o){o=O;Z=E}}return Z};B.Q1.getError=function(h,e,v,J){var m=0;for(var d=4;d<24;d+=4){var x=v[e+d]-v[h+d],j=v[e+d+1]-v[h+d+1],E=v[e+d+2]-v[h+d+2],L=v[e+d+3]-v[h+d+3];
m+=x*x+j*j+E*E+L*L;if(m>=J)return m+1}return m};B.Q1.Yq=function(h,e,v,J,m){var d=16,o=0;if(e-h<=d){v.push(99,h,e);
return}B.Q1.oS(h,e,J,m);var x=-1,j=-1;for(var T=4;T<24;T++){var E=m[2*T+1]-m[2*T];if(E>j){j=E;x=T}}var L=h+e>>1,p=B.Q1.aoF(L,h,e,J,x),Z=-1;
for(var T=h;T<=e;T++)if(J[24*T+x]==p){if(Z==-1)Z=T;o=T}if(h+8<Z&&Z-h>e-o)L=Z;else if(o+1<e-8)L=o+1;else if(e-h<64){v.push(99,h,e);
return}else L=L;var u=v.length;v.push(x,p,0,0);v[u+2]=u+4;B.Q1.Yq(h,L-1,v,J,m);v[u+3]=v.length;B.Q1.Yq(L,e,v,J,m)};
B.Q1.oS=function(h,e,v,J){for(var T=0;T<48;T+=4){J[T]=3e4;J[T+1]=-3e4;J[T+2]=3e4;J[T+3]=-3e4}for(var T=h;
T<=e;T++){var m=T*24;for(var d=0;d<24;d++){var x=v[m+d],j=J[d<<1],E=J[(d<<1)+1];if(x<j)J[d<<1]=x;if(x>E)J[(d<<1)+1]=x}}};
B.Q1.kz=function(h,e,v){var J=0,T=0;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;
T++;J=v[h+T];v[h+T]=v[e+T];v[e+T]=J;T++};B.Q1.aA=function(h,e,v,J){var m=v+J>>>1,d=h[24*m+e];while(v<=J){while(h[24*v+e]<d)v++;
while(h[24*J+e]>d)J--;if(v<=J){if(h[24*v+e]!=h[24*J+e])B.Q1.kz(v*24,J*24,h);v++;J--}}return v};B.Q1.aoF=function(h,e,v,J,m){var d=0;
while(e!=v){d=B.Q1.aA(J,m,e,v);if(h<d)v=d-1;else e=d}return J[h*24+m]};B.Q1.N7=function(h,e,v,J){for(var T=0;
T<J;T++)e[v+T]=h[T]};B.Q1.a4F=function(h,e,v,J,m,d,x,j,E){var L=(J-3)*m+(v-3),p=L<<2;for(var Z=0;Z<8;
Z++){if(e[L]+e[L+1]+e[L+2]+e[L+3]+e[L+4]+e[L+5]+e[L+6]+e[L+7]!=0||h[p+3]<200||h[p+7]<200||h[p+11]<200||h[p+15]<200||h[p+19]<200||h[p+23]<200||h[p+27]<200||h[p+31]<200)return 1;
var T=Z<<3;x[T+0]=h[p+0];j[T+0]=h[p+1];E[T+0]=h[p+2];x[T+1]=h[p+4];j[T+1]=h[p+5];E[T+1]=h[p+6];x[T+2]=h[p+8];
j[T+2]=h[p+9];E[T+2]=h[p+10];x[T+3]=h[p+12];j[T+3]=h[p+13];E[T+3]=h[p+14];x[T+4]=h[p+16];j[T+4]=h[p+17];
E[T+4]=h[p+18];x[T+5]=h[p+20];j[T+5]=h[p+21];E[T+5]=h[p+22];x[T+6]=h[p+24];j[T+6]=h[p+25];E[T+6]=h[p+26];
x[T+7]=h[p+28];j[T+7]=h[p+29];E[T+7]=h[p+30];p+=m<<2;L+=m}return 0};B.Q1.u7=function(h,e){e[0]=h[32]+h[0];
e[1]=h[33]+h[1];e[2]=h[34]+h[2];e[3]=h[35]+h[3];e[4]=h[36]+h[4];e[5]=h[37]+h[5];e[6]=h[38]+h[6];e[7]=h[39]+h[7];
e[8]=h[40]+h[8];e[9]=h[41]+h[9];e[10]=h[42]+h[10];e[11]=h[43]+h[11];e[12]=h[44]+h[12];e[13]=h[45]+h[13];
e[14]=h[46]+h[14];e[15]=h[47]+h[15];e[16]=h[48]+h[16];e[17]=h[49]+h[17];e[18]=h[50]+h[18];e[19]=h[51]+h[19];
e[20]=h[52]+h[20];e[21]=h[53]+h[21];e[22]=h[54]+h[22];e[23]=h[55]+h[23];e[24]=h[56]+h[24];e[25]=h[57]+h[25];
e[26]=h[58]+h[26];e[27]=h[59]+h[27];e[28]=h[60]+h[28];e[29]=h[61]+h[29];e[30]=h[62]+h[30];e[31]=h[63]+h[31];
e[32]=h[0]-h[32];e[33]=h[1]-h[33];e[34]=h[2]-h[34];e[35]=h[3]-h[35];e[36]=h[4]-h[36];e[37]=h[5]-h[37];
e[38]=h[6]-h[38];e[39]=h[7]-h[39];e[40]=h[8]-h[40];e[41]=h[9]-h[41];e[42]=h[10]-h[42];e[43]=h[11]-h[43];
e[44]=h[12]-h[44];e[45]=h[13]-h[45];e[46]=h[14]-h[46];e[47]=h[15]-h[47];e[48]=h[16]-h[48];e[49]=h[17]-h[49];
e[50]=h[18]-h[50];e[51]=h[19]-h[51];e[52]=h[20]-h[52];e[53]=h[21]-h[53];e[54]=h[22]-h[54];e[55]=h[23]-h[55];
e[56]=h[24]-h[56];e[57]=h[25]-h[57];e[58]=h[26]-h[58];e[59]=h[27]-h[59];e[60]=h[28]-h[60];e[61]=h[29]-h[61];
e[62]=h[30]-h[62];e[63]=h[31]-h[63];h[0]=e[16]+e[0];h[1]=e[17]+e[1];h[2]=e[18]+e[2];h[3]=e[19]+e[3];
h[4]=e[20]+e[4];h[5]=e[21]+e[5];h[6]=e[22]+e[6];h[7]=e[23]+e[7];h[8]=e[24]+e[8];h[9]=e[25]+e[9];h[10]=e[26]+e[10];
h[11]=e[27]+e[11];h[12]=e[28]+e[12];h[13]=e[29]+e[13];h[14]=e[30]+e[14];h[15]=e[31]+e[15];h[16]=e[0]-e[16];
h[17]=e[1]-e[17];h[18]=e[2]-e[18];h[19]=e[3]-e[19];h[20]=e[4]-e[20];h[21]=e[5]-e[21];h[22]=e[6]-e[22];
h[23]=e[7]-e[23];h[24]=e[8]-e[24];h[25]=e[9]-e[25];h[26]=e[10]-e[26];h[27]=e[11]-e[27];h[28]=e[12]-e[28];
h[29]=e[13]-e[29];h[30]=e[14]-e[30];h[31]=e[15]-e[31];e[0]=h[8]+h[0];e[1]=h[9]+h[1];e[2]=h[10]+h[2];
e[3]=h[11]+h[3];e[4]=h[12]+h[4];e[5]=h[13]+h[5];e[6]=h[14]+h[6];e[7]=h[15]+h[7];e[8]=h[0]-h[8];e[9]=h[1]-h[9];
e[10]=h[2]-h[10];e[11]=h[3]-h[11];e[12]=h[4]-h[12];e[13]=h[5]-h[13];e[14]=h[6]-h[14];e[15]=h[7]-h[15];
h[0]=e[4]+e[0];h[1]=e[5]+e[1];h[2]=e[6]+e[2];h[3]=e[7]+e[3];h[4]=e[0]-e[4];h[5]=e[1]-e[5];h[6]=e[2]-e[6];
h[7]=e[3]-e[7];h[8]=e[12]+e[8];h[9]=e[13]+e[9];h[10]=e[14]+e[10];h[11]=e[15]+e[11];h[12]=e[8]-e[12];
h[13]=e[9]-e[13];h[14]=e[10]-e[14];h[15]=e[11]-e[15];e[0]=h[2]+h[0];e[1]=h[3]+h[1];e[2]=h[0]-h[2];e[3]=h[1]-h[3];
e[4]=h[6]+h[4];e[5]=h[7]+h[5];e[6]=h[4]-h[6];e[7]=h[5]-h[7];e[8]=h[10]+h[8];e[9]=h[11]+h[9];e[10]=h[8]-h[10];
e[11]=h[9]-h[11];e[12]=h[14]+h[12];e[13]=h[15]+h[13];e[14]=h[12]-h[14];e[15]=h[13]-h[15];h[0]=e[1]+e[0];
h[1]=e[0]-e[1];h[2]=e[3]+e[2];h[3]=e[2]-e[3];h[4]=e[5]+e[4];h[5]=e[4]-e[5];h[6]=e[7]+e[6];h[7]=e[6]-e[7];
h[8]=e[9]+e[8];h[9]=e[8]-e[9];h[10]=e[11]+e[10];h[11]=e[10]-e[11];h[12]=e[13]+e[12];h[13]=e[12]-e[13];
h[14]=e[15]+e[14];h[15]=e[14]-e[15]};B.Q1.ahG=function(){var h="",iW=64,e="v",v="t",J="a",m=5,T,d,x;
for(T=iW>>1;T>0;T>>=1,m--){for(d=0;d<iW;d++){x=(d>>m&1)!=0;if(x){h+=v+"["+d+"] = "+e+"["+(-T+d)+"] - "+e+"["+d+"];  "}else{h+=v+"["+d+"] = "+e+"["+(T+d)+"] + "+e+"["+d+"];  "}}J=e;
e=v;v=J;h+="\n"}console.log(h)};B.Q1.aE8=function(iW,h,e){var v=h,J=e,m=v,d=0,T,j,E;while(iW>>d!=2)d++;
var x=d;for(T=iW>>1;T>0;T>>=1,d--){for(j=0;j<iW;j++){E=(j>>d&1)!=0;if(E)J[j]=v[-T+j]-v[j];else J[j]=v[T+j]+v[j]}m=v;
v=J;J=m}if((x&1)==1)for(T=0;T<iW;T++)e[T]=v[T]};B.MF={};B.MF.Fs=function(h,e,v,J,m,d,x,j,E){var L=Date.now(),p=new Uint32Array(h.buffer),Z=new Uint32Array(e.buffer),o=x/v,u=j/J,N=1/o,M=1/u,O=new Float64Array(2),F=3,W=1/F,f=1/(F*F),$=0,H=0,A=v,G=J;
if(m){$=m.x;H=m.y;A=m.q;G=m._}for(var l=0;l<G;l++)for(var K=0;K<A;K++){var U=$+K,z=H+l,T=z*v+U,q=T<<1,P=T<<2;
B.MF.aCl(d,x,j,(U+.5)*o,(z+.5)*u,O);var g=O[0]*N,a=O[1]*M;if(g==0&&a==0)Z[T]=p[T];else{B.D.Kw(U+g+.5,z+a+.5,p,v,J,Z,T,E)}}};
B.MF.aCl=function(h,e,v,J,m,d){J-=.499999;m-=.499999;var x=~~J,j=~~m,E=J-x,L=m-j,p=(1-L)*(1-E),Z=(1-L)*E,o=L*(1-E),u=L*E,N=x<e-1?x+1:x,M=j<v-1?j+1:j,O=j*e+x<<1,F=j*e+N<<1,W=M*e+x<<1,f=M*e+N<<1;
d[0]=p*h[O]+Z*h[F]+o*h[W]+u*h[f];d[1]=p*h[O+1]+Z*h[F+1]+o*h[W+1]+u*h[f+1]};B.MF.aoG=function(h,e,v,J,m){var d=1/h,x=[-1,1,-h,h],j=J.length;
for(var E=0;E<j;E++){var T=J[E],L=T<<1,p=E<<1,Z=~~(T*d),o=T-h*Z,u=v[L],N=v[L+1],M=0,O=0;if(o!=0&&o!=h-1){var F=T-1<<1,W=T+1<<1,f=v[F],$=v[W],H=v[F+1],A=v[W+1],G=u-(f+$)*.5,l=N-(H+A)*.5;
M-=G*m;O-=l*m}if(Z!=0&&Z!=e-1){var F=T-h<<1,W=T+h<<1,f=v[F],$=v[W],H=v[F+1],A=v[W+1],G=u-(f+$)*.5,l=N-(H+A)*.5;
M-=G*m;O-=l*m}v[L]=u+M;v[L+1]=N+O}};B.MF.a7H=function(h,e){var v=h+","+e;if(B.MF.ao4==v)return B.MF.ash;
var J=B.MF.ash=[];B.MF.ao4=v;for(var T=0;T<=1e3;T++){var m=T*.001,d=Math.sqrt(m),x=Math.exp(-4*d),j=.96*(1-d*d),E=e*((1-h)*x+h*j);
J[T]=E}return J};B.MF.ao4="";B.MF.ash=[];B.MF.aa6=function(h,e,v,J,m,d,x,j,E,L,p,Z,o){var u=Math.max(0,Math.floor(m-x-1)),N=Math.min(e,Math.ceil(m+x+1)),M=Math.max(0,Math.floor(d-x-1)),O=Math.min(v,Math.ceil(d+x+1)),F=2*e,W=x*x,f=1/x,$=0;
if(o&&(J==3||J==6))E=-E;var H=B.MF.a7H(j,E);for(var A=M;A<O;A++)for(var G=u;G<N;G++){var T=A*e+G,l=T<<1,K=(m-G)*f,U=(d-A)*f,z=K*K+U*U;
if(z<1){Z[$]=T;var q=H[~~(z*1e3)];if(J==1){h[l]=h[l]*(1-q*.05);h[l+1]=h[l+1]*(1-q*.05)}else{var P=0,g=0,y,S,i,C;
if(J==0){P=L*q;g=p*q}else if(J==2){}else if(J==3){P=q*U;g=-q*K}else if(J==4){P=q*K;g=q*U}else if(J==5){P=-q*K;
g=-q*U}else if(J==6){P=p*q;g=-L*q}var a=h[l],w=h[l+1];if(G==0||G!=e-1&&P<0){y=1+h[l+2]-a;i=h[l+3]-w}else{y=a-h[l-2]+1;
i=w-h[l-1]}if(A==0||A!=v-1&&g<0){S=h[l+F]-a;C=1+h[l+F+1]-w}else{S=a-h[l-F];C=w-h[l-F+1]+1}h[l]=-(y*P+S*g-a);
h[l+1]=-(i*P+C*g-w)}$++}}};B.MF.am_=function(h){var e=h[0],v=h[0],J=h[1],m=h[1];for(var T=0;T<h.length;
T+=2){var d=h[T],x=h[T+1];if(d<e)e=d;else if(d>v)v=d;if(x<J)J=x;else if(x>m)m=x}return[e,J,v,m]};B.ays=function(h,e,v,J,m){function d(R,X,dx,jv){return Math.sqrt((R-dx)*(R-dx)+(X-jv)*(X-jv))}function x(R,X){return R>=0&&R<e&&X>=0&&X<v}function j(R){if(R<0)return 0;
if(R>=e)return e-1;return R}function E(R){if(R<0)return 0;if(R>=v)return v-1;return R}function L(T,R){var X=R[3]*(1/255),dx=J[T]+R[0]*X;
if(dx>255)dx=255;J[T]=dx;dx=J[T+1]+R[1]*X;if(dx>255)dx=255;J[T+1]=dx;dx=J[T+2]+R[2]*X;if(dx>255)dx=255;
J[T+2]=dx}function p(R,X,dx){if(!Y(R,X))return;if(dx[3]<0)dx[3]=0;L((X*e+R)*4,dx)}function Z(R){var X=R.slice(0,3);
X[3]=0;return X}var o=e/800;function u(R){return Math.round(R*o)}function N(){for(var T=0;T<=300;T++){t[T]=M(T)}}function M(v){var R=.8,X=.2,dx=R*X,jv=v/60%2-1,gB=dx*(1-jv*jv),hQ=X-dx,ah;
if(v<60){ah=[dx+hQ,gB,0]}else if(v<120){ah=[gB,dx,0]}else if(v<180){ah=[0,dx,gB]}else if(v<240){ah=[0,gB,dx]}else if(v<300){ah=[gB,0,dx]}else{ah=[dx,0,gB]}return[(ah[0]+hQ)*255,(ah[1]+hQ)*255,(ah[2]+hQ)*255]}function O(v){return t[~~v]}function F(R){return 1-W(R)}function W(R){return R-~~R}function f(R,X,dx,jv){i(R,X,dx,0,X+1,1,jv)}function $(R,X,dx,jv,gB,hQ){i(R,X,dx,0,jv,1,gB,hQ)}function H(R){for(var T=0;
T<J.length;T+=4){L(T,R)}}function A(R,X,dx,jv,gB,hQ,ah,kG){G(R,X,dx,jv,gB,1,hQ,ah,kG)}function G(R,X,dx,jv,gB,hQ,ah,kG,iZ){if(hQ==null)hQ=.5;
if(ah==null)ah=0;if(kG==null)kG=0;if(iZ==null)iZ=!1;var bs=R.x,ey=R.y,jp=dx.slice(0),eh=~~(dx[3]*r);
jv=jv*r;if(!iZ){X=C(X);gB=C(gB);ah=C(ah);kG=C(kG)}var dt=j(bs-X),jN=j(bs+X);for(var jX=dt;jX<=jN;jX++){var jw=jX-bs,i7=Math.floor(Math.sqrt(X*X-jw*jw)),kn=E(ey-i7),eK=E(ey);
for(var ee=kn;ee<=eK;ee++){var az=d(jX,ee,bs,ey);if(az>X||az<=X-gB)break;var k7=(az-X+gB)/gB;jp[3]=eh-jv*(hQ==1?k7:Math.pow(k7,hQ));
L((ee*e+jX)*4,jp)}kn=E(ey+i7);for(var ee=kn;ee>eK;ee--){var az=d(jX,ee,bs,ey);if(az>X||az<=X-gB)break;
var k7=(az-X+gB)/gB;jp[3]=eh-jv*(hQ==1?k7:Math.pow(k7,hQ));L((ee*e+jX)*4,jp)}}if(ah>0){i(R,X+ah,jp,jp[3],ah,1,0,0,!0)}if(kG>0){i(R,X-gB,_(dx),-dx[3],kG,1,0,0,!0)}}function l(R,X,dx,jv,gB,hQ){i(R,X,dx,dx[3],X+1,1,jv,gB,hQ)}function K(R,X,dx,jv,gB){if(gB==null)gB=!1;
var hQ=R.x,ah=R.y;jv*=r;if(!gB){X=C(X);dx=C(dx)}var kG=j(hQ-X),iZ=j(hQ+X);for(var bs=kG;bs<iZ;bs++){var ey=bs-hQ,jp=~~Math.sqrt(X*X-ey*ey),eh=E(ah-jp),dt=E(ah);
for(var jN=eh;jN<=dt;jN++){var jX=d(bs,jN,hQ,ah);if(jX>X||jX<=X-dx)break;var jw=(X-jX)/dx,i7=O(300*jw);
i7[3]=jv;L((jN*e+bs)*4,i7)}eh=E(ah+jp);for(var jN=eh;jN>dt;jN--){var jX=d(bs,jN,hQ,ah);if(jX>X||jX<=X-dx)break;
var jw=(X-jX)/dx,i7=O(300*jw);i7[3]=jv;L((jN*e+bs)*4,i7)}}}function U(I,R){var X=I.wW,dx=I.JR,jv=R.slice(0),gB=R[3]*r,hQ=Math.abs(dx.y-X.y)>Math.abs(dx.x-X.x);
if(hQ){var ah=X.x;X.x=X.y;X.y=ah;ah=dx.x;dx.x=dx.y;dx.y=ah}if(X.x>dx.x){var ah=X;X=dx;dx=ah}var kG=dx.x-X.x,iZ=dx.y-X.y,bs=kG==0?1:iZ/kG,ey=Math.round(X.x),jp=X.y+bs*(ey-X.x),eh=F(X.x+.5),dt=ey,jN=~~jp;
if(hQ){jv[3]=gB*F(jp)*eh;p(jN,dt,jv);jv[3]=gB*W(jp)*eh;p(jN+1,dt,jv)}else{jv[3]=gB*F(jp)*eh;p(dt,jN,jv);
jv[3]=gB*W(jp)*eh;p(dt,jN+1,jv)}var jX=jp-bs;ey=Math.round(dx.x);jp=dx.y+bs*(ey-dx.x);eh=W(dx.x+.5);
var jw=ey,i7=~~jp;if(hQ){jv[3]=gB*F(jp)*eh;p(i7,jw,jv);jv[3]=gB*W(jp)*eh;p(i7+1,jw,jv)}else{jv[3]=gB*F(jp)*eh;
p(jw,i7,jv);jv[3]=gB*W(jp)*eh;p(jw,i7+1,jv)}if(hQ){for(var kn=dt+1;kn<=jw-1;kn++){jv[3]=gB*F(jX);p(~~jX,kn,jv);
jv[3]=gB*W(jX);p(~~jX+1,kn,jv);jX+=bs}}else{for(var kn=dt+1;kn<=jw-1;kn++){jv[3]=gB*F(jX);p(kn,~~jX,jv);
jv[3]=gB*W(jX);p(kn,~~jX+1,jv);jX+=bs}}}function z(R,X,dx,jv){for(var T=0;T<4;T++){var gB=R.Z_(X+1.3*T,dx);
U(gB,jv,1)}}function fq(R,X){this.x=Math.round(R);this.y=Math.round(X)}var q=Math.PI/180;fq.prototype.Z_=function(R,X){R=R*q;
var dx=this.x+X*Math.cos(R),jv=this.y+X*Math.sin(R);return new P(this.x,this.y,dx,jv)};fq.prototype.a4o=function(R,X){R=R*q;
var dx=this.R6+X*Math.cos(R),jv=this.fD+X*Math.sin(R);return new fq(dx,jv)};function P(R,X,dx,jv){this.wW=new fq(R,X);
this.JR=new fq(dx,jv)}P.prototype.tu=function(R){var X=R*this.wW.x+(1-R)*this.JR.x,dx=R*this.wW.y+(1-R)*this.JR.y;
return new fq(X,dx)};var g=A,a=l,w=f,y=$,S=K,i=G,C=u,Y=x,_=Z,t=[];N();for(var T=0;T<h.length;T++){J[T]=h[T]}var I=new P(e*m[2],v*m[3],e/2,v/2),r=m[1],n=[];
n[0]=function Q(){var R=[80,40,15,60],dx=0,jv=0;w(I.tu(1.4),260,R,10);w(I.tu(1),100,[240,50,50,30],30);
a(I.tu(1),60,[255,40,0,40]);var X=[255,255,255,255];i(I.tu(1),70,X,X[3],58,.5);w(I.tu(1),12,X);X[3]=40;
g(I.tu(1),150,X,X[3],150);for(var T=0;T<40;T++){dx+=Math.random()*25;jv=Math.random()*C(300)+C(100);
var gB=I.tu(1).Z_(dx,jv);U(I.tu(1).Z_(dx,jv),[110,110,110,30])}a(I.tu(1),130,[255,255,255,8]);var hQ=[170,30,23,70];
y(I.tu(1),70,hQ,1,3,3);var ah=[60,60,130,40];w(I.tu(.47),44,ah,5);w(I.tu(.43),22,ah,3);ah[3]=16;w(I.tu(.53),15,ah,2);
var kG=[138,94,42,100];w(I.tu(.2),16,kG,2);var iZ=[130,255,170,180];a(I.tu(0),4,iZ);a(I.tu(-.25),5,iZ);
kG=[150,90,0,50];g(I.tu(-.45),55,_(kG),-kG[3],40,2);w(I.tu(-.42),35,kG,2);w(I.tu(-.5),15,kG,2);S(I.tu(-1.28),145,11,70);
var bs=O(0);bs[3]=50;g(I.tu(-1.28),149,bs,bs[3],4);bs=O(300);bs[3]=50;g(I.tu(-1.28),155-1,_(bs),-bs[3],3);
var ey=[130,130,10,50];y(I.tu(-1),73,ey,3,2);var jp=[40,130,70,40];g(I.tu(-1),70,_(jp),-jp[3],35);jp=[40,170,60,50];
w(I.tu(-.7),25,jp,4);var jp=[70,110,50,60];g(I.tu(1.3),30,_(jp),-jp[3],11,3);ah=[0,50,210,80];a(I.tu(-.72),20,ah)};
n[1]=function D(){a(I.tu(1),150,[240,70,70,60]);w(I.tu(1),100,[200,60,60,40],30);var R=[255,255,255,255],X=0,dx=0;
i(I.tu(1),75,R,R[3],63);w(I.tu(1),12,R);a(I.tu(1),270,[200,200,200,20],10);for(var T=0;T<10;T++){X+=10+Math.random()*40;
dx=Math.random()*C(250)+C(80);var jv=I.tu(1).Z_(X,dx);U(jv,[110,110,110,35])}X=5;dx=100;for(var T=0;
T<12;T++){X+=30;z(I.tu(1),X,dx,[90,90,90,40])}var gB=[150,40,23,100];y(I.tu(1),70,gB,1,3,3);var hQ=[30,100,60,40];
a(I.tu(-.9),180,[255,255,255,20]);w(I.tu(-.9),140,hQ,15);var ah=[170,80,25,15];y(I.tu(-.9),120,ah,1,4,4);
var kG=[110,240,190,200];a(I.tu(-.6),3,kG);kG[3]=100;a(I.tu(-.6),7,kG);var iZ=[230,120,40,85];a(I.tu(-.73),9,iZ);
var bs=[60,60,190,50];w(I.tu(.3),28,bs,6);bs[3]=25;w(I.tu(.34),20,bs,3)};n[2]=function dG(){var R=[255,255,255,255],dx=0,jv=0;
w(I.tu(1),13,R);i(I.tu(1),150,R,R[3],137);var X=[120,80,35,20];w(I.tu(1.4),260,X,10);for(var T=0;T<40;
T++){dx+=5+Math.random()*30;jv=Math.random()*C(300);U(I.tu(1).Z_(dx,jv),[110,110,110,20])}var gB=[10,30,255,30];
w(I.tu(1),70,gB,50);var hQ=[15,90,170,15];w(I.tu(1.5),60,hQ);var ah=[220,220,20,50];w(I.tu(-1.15),8,ah,2);
var R=[255,255,255,40];a(I.tu(-1.18),6,R);a(I.tu(-1.18),4,R);ah=[110,110,10,8];g(I.tu(-1.2),32,_(ah),-ah[3],20,3);
var kG=[5,0,16,255];for(var T=0;T<4;T++){w(I.tu(-1.36),10,kG,3)}var iZ=[90,200,150,20],bs=iZ.slice(0);
bs[3]*=2;w(I.tu(-1.32),7,bs,3);w(I.tu(-1.36),7,bs,3);w(I.tu(-1.4),7,bs,3);var R=[230,230,230,100];a(I.tu(-1.36),2,R);
R[3]=3;w(I.tu(-.55),10,R);ah=[120,100,10,18];w(I.tu(-.55),160,ah,8);w(I.tu(-.55),80,ah,4);iZ[3]=3;bs[3]=6;
g(I.tu(-.49),13,_(bs),-bs[3],13,2);g(I.tu(-.55),13,_(bs),-bs[3],13,2);iZ[3]=20;w(I.tu(.15),25,iZ,3);
ah[3]=100;a(I.tu(-.52),3,ah);ah=[200,200,50,40];w(I.tu(.27),1,ah,4);var ey=[150,40,23,30];g(I.tu(1),80,_(ey),-ey[3],2,1)};
return n[m[0]]()};B.ok={};B.ok.nc=function(h){var e=h.length,iW=h[0].length,v=new Array(iW);for(var T=0;
T<iW;T++)v[T]=new Array(e);for(var T=0;T<iW;T++)for(var J=0;J<e;J++)v[T][J]=h[J][T];return v};B.ok.am=function(h,e){var v=h.length,iW=h[0].length,J=new Array(v);
for(var T=0;T<v;T++)J[T]=new Array(iW);for(var T=0;T<v;T++)for(var m=0;m<iW;m++)J[T][m]=h[T][m]-e[T][m];
return J};B.ok.add=function(h,e){var v=h.length,iW=h[0].length,J=new Array(v);for(var T=0;T<v;T++)J[T]=new Array(iW);
for(var T=0;T<v;T++)for(var m=0;m<iW;m++)J[T][m]=h[T][m]+e[T][m];return J};B.ok.multiply=function(h,e){var v=h.length,J=h[0].length,iW=e[0].length;
if(J!=e.length)throw"e";var m=new Array(v);for(var T=0;T<v;T++)m[T]=new Array(iW);if((J&1)!=0)for(var T=0;
T<v;T++){var d=h[T],x=m[T];for(var j=0;j<iW;j++){var E=0;for(var L=0;L<J;L++)E+=d[L]*e[L][j];x[j]=E}}else for(var T=0;
T<v;T++){var d=h[T],x=m[T];for(var j=0;j<iW;j++){var E=0;for(var L=0;L<J;L+=2)E+=d[L]*e[L][j]+d[L+1]*e[L+1][j];
x[j]=E}}return m};B.ok.Ig=function(h,e){var v=h.length,iW=h[0].length,J=new Array(v);for(var T=0;T<v;
T++){var m=0;for(var d=0;d<iW;d++)m+=h[T][d]*e[d];J[T]=m}return J};B.ok.Hm=function(h,e){var v=[];for(var T=0;
T<h;T++){v.push([]);for(var J=0;J<e;J++)v[T].push(0)}return v};B.ok.aAo=function(h){for(var T=0;T<h.length;
T++)console.log(JSON.stringify(h[T]))};B.ok.aGp=function(h){var e=[];for(var T=0;T<h.length;T++)e.push(h[T].join(","));
return"["+e.join(";")+"]"};B.ok.ef=function(h,e){var v=h.length;for(var J=0;J<v;J++){var m=0,d=Number.NEGATIVE_INFINITY;
for(var T=J;T<v;T++)if(Math.abs(h[T][J])>d){m=T;d=Math.abs(h[T][J])}B.ok.a0B(h,J,m);for(var T=J+1;T<v;
T++){if(h[J][J]==0)return 1;var x=h[T][J]/h[J][J];for(var j=J;j<v+1;j++)h[T][j]-=h[J][j]*x}}for(var T=v-1;
T>=0;T--){if(h[T][T]==0)return 1;var E=h[T][v]/h[T][T];e[T]=E;for(var j=T-1;j>=0;j--){h[j][v]-=h[j][T]*E;
h[j][T]=0}}return 0};B.ok.a0B=function(h,e,v){var J=h[e];h[e]=h[v];h[v]=J};B.ok.asg=function(h){var e=h.length,v=B.ok.Hm(e,e);
for(var T=0;T<e;T++)v[T][T]=h[T];return v};B.ok.aDm=function(h){var e=h.length,v=h[0].length,J=new Array(e);
for(var T=0;T<e;T++){J[T]=0;for(var m=0;m<v;m++)J[T]+=h[T][m];J[T]/=v}return J};B.ok.pO=function(h){var e=0;
for(var T=0;T<h.length;T++)e+=h[T]*h[T];return Math.sqrt(e)};B.$c={};B.$c._7=function(h){var e=~~(h+.5);
return e<0?0:e>255?255:e};B.$c.transform=function(h,e,v){var J=B.$c._7,m=h.n.length;for(var T=0;T<m;
T++){var d=h.n[T],x=h.i[T],j=h.b[T];e.n[T]=J(v[0]*d+v[1]*x+v[2]*j+v[3]*255);e.i[T]=J(v[4]*d+v[5]*x+v[6]*j+v[7]*255);
e.b[T]=J(v[8]*d+v[9]*x+v[10]*j+v[11]*255)}};B.$c.a9G=function(h,e,v){var J=B.$c._7,m=h.length;for(var T=0;
T<m;T+=4){var d=h[T],x=h[T+1],j=h[T+2];e[T]=J(v[0]*d+v[1]*x+v[2]*j+v[3]*255);e[T+1]=J(v[4]*d+v[5]*x+v[6]*j+v[7]*255);
e[T+2]=J(v[8]*d+v[9]*x+v[10]*j+v[11]*255)}};B.$c.acE=function(h){var e=h[0]+h[1]+h[2],v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(e==1){var J=h.indexOf(1);v[J]=v[J+4]=v[J+8]=1}else{v[0]=h[0];v[5]=h[1];v[10]=h[2]}return v};B.$c.vr=function(h,e,v){return[1,0,0,h,0,1,0,e,0,0,1,v,0,0,0,1]};
B.$c.wd=function(h,e,v){return[h,0,0,0,0,e,0,0,0,0,v,0,0,0,0,1]};B.$c.alL=function(h){return[h[0],h[1],h[2],h[4],h[5],h[6],h[8],h[9],h[10]]};
B.$c.Nf=function(h){return[h[0],h[1],h[2],0,h[3],h[4],h[5],0,h[6],h[7],h[8],0,0,0,0,1]};B.$c.QE=function(h,e){return[h[0]*e[0]+h[1]*e[1]+h[2]*e[2]+h[3]*e[3],h[4]*e[0]+h[5]*e[1]+h[6]*e[2]+h[7]*e[3],h[8]*e[0]+h[9]*e[1]+h[10]*e[2]+h[11]*e[3],h[12]*e[0]+h[13]*e[1]+h[14]*e[2]+h[15]*e[3]]};
B.$c.nc=function(h){var e=[];e[0]=h[0];e[1]=h[4];e[2]=h[8];e[3]=h[12];e[4]=h[1];e[5]=h[5];e[6]=h[9];
e[7]=h[13];e[8]=h[2];e[9]=h[6];e[10]=h[10];e[11]=h[14];e[12]=h[3];e[13]=h[7];e[14]=h[11];e[15]=h[15];
return e};B.$c.add=function(h,e){var v=h.slice(0);for(var T=0;T<16;T++)v[T]+=e[T];return v};B.$c.multiply=function(h,e){var v=[];
v[0]=h[0]*e[0]+h[1]*e[4]+h[2]*e[8]+h[3]*e[12];v[1]=h[0]*e[1]+h[1]*e[5]+h[2]*e[9]+h[3]*e[13];v[2]=h[0]*e[2]+h[1]*e[6]+h[2]*e[10]+h[3]*e[14];
v[3]=h[0]*e[3]+h[1]*e[7]+h[2]*e[11]+h[3]*e[15];v[4]=h[4]*e[0]+h[5]*e[4]+h[6]*e[8]+h[7]*e[12];v[5]=h[4]*e[1]+h[5]*e[5]+h[6]*e[9]+h[7]*e[13];
v[6]=h[4]*e[2]+h[5]*e[6]+h[6]*e[10]+h[7]*e[14];v[7]=h[4]*e[3]+h[5]*e[7]+h[6]*e[11]+h[7]*e[15];v[8]=h[8]*e[0]+h[9]*e[4]+h[10]*e[8]+h[11]*e[12];
v[9]=h[8]*e[1]+h[9]*e[5]+h[10]*e[9]+h[11]*e[13];v[10]=h[8]*e[2]+h[9]*e[6]+h[10]*e[10]+h[11]*e[14];v[11]=h[8]*e[3]+h[9]*e[7]+h[10]*e[11]+h[11]*e[15];
v[12]=h[12]*e[0]+h[13]*e[4]+h[14]*e[8]+h[15]*e[12];v[13]=h[12]*e[1]+h[13]*e[5]+h[14]*e[9]+h[15]*e[13];
v[14]=h[12]*e[2]+h[13]*e[6]+h[14]*e[10]+h[15]*e[14];v[15]=h[12]*e[3]+h[13]*e[7]+h[14]*e[11]+h[15]*e[15];
return v};B.$c.ia=function(h){var e=[];e[0]=h[5]*h[10]*h[15]-h[5]*h[14]*h[11]-h[6]*h[9]*h[15]+h[6]*h[13]*h[11]+h[7]*h[9]*h[14]-h[7]*h[13]*h[10];
e[1]=-h[1]*h[10]*h[15]+h[1]*h[14]*h[11]+h[2]*h[9]*h[15]-h[2]*h[13]*h[11]-h[3]*h[9]*h[14]+h[3]*h[13]*h[10];
e[2]=h[1]*h[6]*h[15]-h[1]*h[14]*h[7]-h[2]*h[5]*h[15]+h[2]*h[13]*h[7]+h[3]*h[5]*h[14]-h[3]*h[13]*h[6];
e[3]=-h[1]*h[6]*h[11]+h[1]*h[10]*h[7]+h[2]*h[5]*h[11]-h[2]*h[9]*h[7]-h[3]*h[5]*h[10]+h[3]*h[9]*h[6];
e[4]=-h[4]*h[10]*h[15]+h[4]*h[14]*h[11]+h[6]*h[8]*h[15]-h[6]*h[12]*h[11]-h[7]*h[8]*h[14]+h[7]*h[12]*h[10];
e[5]=h[0]*h[10]*h[15]-h[0]*h[14]*h[11]-h[2]*h[8]*h[15]+h[2]*h[12]*h[11]+h[3]*h[8]*h[14]-h[3]*h[12]*h[10];
e[6]=-h[0]*h[6]*h[15]+h[0]*h[14]*h[7]+h[2]*h[4]*h[15]-h[2]*h[12]*h[7]-h[3]*h[4]*h[14]+h[3]*h[12]*h[6];
e[7]=h[0]*h[6]*h[11]-h[0]*h[10]*h[7]-h[2]*h[4]*h[11]+h[2]*h[8]*h[7]+h[3]*h[4]*h[10]-h[3]*h[8]*h[6];e[8]=h[4]*h[9]*h[15]-h[4]*h[13]*h[11]-h[5]*h[8]*h[15]+h[5]*h[12]*h[11]+h[7]*h[8]*h[13]-h[7]*h[12]*h[9];
e[9]=-h[0]*h[9]*h[15]+h[0]*h[13]*h[11]+h[1]*h[8]*h[15]-h[1]*h[12]*h[11]-h[3]*h[8]*h[13]+h[3]*h[12]*h[9];
e[10]=h[0]*h[5]*h[15]-h[0]*h[13]*h[7]-h[1]*h[4]*h[15]+h[1]*h[12]*h[7]+h[3]*h[4]*h[13]-h[3]*h[12]*h[5];
e[11]=-h[0]*h[5]*h[11]+h[0]*h[9]*h[7]+h[1]*h[4]*h[11]-h[1]*h[8]*h[7]-h[3]*h[4]*h[9]+h[3]*h[8]*h[5];e[12]=-h[4]*h[9]*h[14]+h[4]*h[13]*h[10]+h[5]*h[8]*h[14]-h[5]*h[12]*h[10]-h[6]*h[8]*h[13]+h[6]*h[12]*h[9];
e[13]=h[0]*h[9]*h[14]-h[0]*h[13]*h[10]-h[1]*h[8]*h[14]+h[1]*h[12]*h[10]+h[2]*h[8]*h[13]-h[2]*h[12]*h[9];
e[14]=-h[0]*h[5]*h[14]+h[0]*h[13]*h[6]+h[1]*h[4]*h[14]-h[1]*h[12]*h[6]-h[2]*h[4]*h[13]+h[2]*h[12]*h[5];
e[15]=h[0]*h[5]*h[10]-h[0]*h[9]*h[6]-h[1]*h[4]*h[10]+h[1]*h[8]*h[6]+h[2]*h[4]*h[9]-h[2]*h[8]*h[5];var v=h[0]*e[0]+h[1]*e[4]+h[2]*e[8]+h[3]*e[12];
for(var T=0;T<16;T++)e[T]/=v;return e};B.$c.aqQ=function(h){var e=[],v=h[5]*h[10]*h[15]-h[5]*h[14]*h[11]-h[6]*h[9]*h[15]+h[6]*h[13]*h[11]+h[7]*h[9]*h[14]-h[7]*h[13]*h[10],J=-h[4]*h[10]*h[15]+h[4]*h[14]*h[11]+h[6]*h[8]*h[15]-h[6]*h[12]*h[11]-h[7]*h[8]*h[14]+h[7]*h[12]*h[10],m=h[4]*h[9]*h[15]-h[4]*h[13]*h[11]-h[5]*h[8]*h[15]+h[5]*h[12]*h[11]+h[7]*h[8]*h[13]-h[7]*h[12]*h[9],d=-h[4]*h[9]*h[14]+h[4]*h[13]*h[10]+h[5]*h[8]*h[14]-h[5]*h[12]*h[10]-h[6]*h[8]*h[13]+h[6]*h[12]*h[9];
return h[0]*v+h[1]*J+h[2]*m+h[3]*d};B.$c.qY=function(h,e,v,J){var m=Math.sin(J),d=Math.cos(J),x=1/Math.sqrt(h*h+e*e+v*v);
h*=x;e*=x;v*=x;return B.$c.Nf([h*h*(1-d)+d,h*e*(1-d)-v*m,h*v*(1-d)+e*m,h*e*(1-d)+v*m,e*e*(1-d)+d,e*v*(1-d)-h*m,h*v*(1-d)-e*m,e*v*(1-d)+h*m,v*v*(1-d)+d])};
B.$c.eq=B.$c.Nf([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
B.$c.a1O=B.$c.Nf([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
B.$c.ak0=B.$c.ia(B.$c.eq);B.qh={};B.qh.RS=new Uint32Array(1);B.qh.ag4=function(h,e,v,J,m,d){var x=new Uint32Array(h),j=0,E=B.qh.RS;
if(E.length<e*4)B.qh.RS=E=new Uint32Array(e*4);var L=new Float64Array(E.buffer);for(var T=0;T<e;T+=2){var p=m[T],Z=m[T+1],o=d[T],u=d[T+1];
E[j]=Z;L[j+2>>1]=o;E[j+1]=x[p];x[p]=j+1;j+=4;E[j]=p;L[j+2>>1]=u;E[j+1]=x[Z];x[Z]=j+1;j+=4}return{rU:E,aqe:L,as1:x}};
B.qh.ef=function(h,e,v,J,m,d,x){var j=1,E=B.qh.ag4(h,e,v,J,m,d),L=E.rU,p=E.aqe,Z=E.as1,o=new Uint32Array(h),u=new B.qh.ce(h),M=1,$=0;
u.push(v);u.push(J);var N=new B.qh.ce(h),O=new Uint8Array(h),F=new Uint32Array(h);O[v]=1;O[J]=2;var W=new Uint32Array(h),f=new Uint32Array(h);
f[v]=f[J]=0;W[v]=W[J]=1;while(!0){var H=-1,q=0,w=1e30;while(!u.MK()&&H==-1){var A=u.top(),G=O[A],l=Z[A]-1;
while(l!=-1){var K=L[l],U=O[K],z=l^G-1<<2;if(p[z+2>>1]!=0){if(U==0){B.qh.OU(A,l,K,O,F,f,W);u.push(K)}else if(U==G&&W[K]<=W[A]&&f[K]>f[A])B.qh.OU(A,l,K,O,F,f,W);
else if(U!=G){H=z}}l=L[l+1]-1}if(H!=-1)break;u.pop()}if(H==-1){break}M++;var P=H;while(P!=-1){o[q]=P;
q++;P=F[L[P^4]]-1}var g=q>>1;for(var T=0;T<g;T++){var a=o[T];o[T]=o[q-T-1];o[q-T-1]=a}P=F[L[H]]-1;while(P!=-1){o[q]=P^4;
q++;P=F[L[P^4]]-1}for(var T=0;T<q;T++)w=Math.min(w,p[o[T]+2>>1]);$+=w;if($>=x)return{mY:null,y5:$};for(var T=0;
T<q;T++){var y=o[T],S=y^4,A=L[S],K=L[y];p[y+2>>1]-=w;p[S+2>>1]+=w;if(p[y+2>>1]==0&&O[A]==O[K]){if(O[A]==1){F[K]=0;
N.push(K)}if(O[A]==2){F[A]=0;N.push(A)}}}while(!N.MK()){var A=N.pop(),G=O[A],l=Z[A]-1,i=G==1?4:0,C=0,Y=0,_=1e9;
while(l!=-1){var K=L[l],t=l^4,z=l^i;if(O[K]==G&&p[z+2>>1]>0&&B.qh.akz(K,v,J,F,L,M,W,f)+1<_){C=K;Y=t;
_=f[K]+1}l=L[l+1]-1}if(Y!=0){B.qh.OU(C,Y,A,O,F,f,W);continue}l=Z[A]-1;while(l!=-1){var K=L[l],z=l^i;
if(O[K]==G){if(p[z+2>>1]>0){u.push(K)}if(F[K]==l+1){F[K]=0;N.push(K)}}l=L[l+1]-1}O[A]=0;u.remove(A)}}var I=[];
for(var T=0;T<e;T+=2){var A=m[T],K=m[T+1];if(O[A]==1&&O[K]!=1){I.push(T>>1)}if(O[K]==1&&O[A]!=1){I.push(e+T>>1)}}return{mY:I,y5:$}};
B.qh.OU=function(h,e,v,J,m,d,x){J[v]=J[h];m[v]=e+1;d[v]=d[h]+1;x[v]=x[h]};B.qh.akz=function(h,e,v,J,m,d,x,j){var E=h,L=J[h]-1,p=0;
while(L!=-1&&x[h]!=d){h=m[L^4];L=J[h]-1;p++}if(L==-1&&h!=e&&h!=v)return 1e9;var Z=j[h]+p;p=0;L=J[E]-1;
while(E!=h){j[E]=Z-p;p++;x[E]=d;E=m[L^4];L=J[E]-1}return Z};B.qh.ac_=function(h,e,v,J,m,d){var x=B.qh.ag4(h,e,v,J,m,d),j=x.rU,E=x.aqe,L=x.as1,p=0,Z=0,o=new Uint32Array(h*2),u=new B.qh.a0j(h),N=0;
while(!0){u.reset();u.push(v);for(var T=0;T<h;T++)o[T<<1]=0;while(!u.MK()){var M=u.pop(),O=L[M]-1;while(O!=-1){N=j[O];
if(o[N<<1]==0&&E[O+2>>1]>0&&N!=v){o[N<<1]=M+1;o[(N<<1)+1]=O;u.push(N)}O=j[O+1]-1}if(o[J<<1]!=0){break}}if(o[J<<1]==0){break}var F=1e30;
N=J;while(!0){var W=o[N<<1]-1;if(W==-1)break;var f=o[(N<<1)+1];F=Math.min(F,E[f+2>>1]);N=W}N=J;while(!0){var W=o[N<<1]-1;
if(W==-1)break;var f=o[(N<<1)+1],$=f^4;E[f+2>>1]-=F;E[$+2>>1]+=F;N=W}p+=F}var H=[];for(var T=0;T<e;T+=2){var W=m[T],N=m[T+1];
if((o[W<<1]!=0||W==v)&&o[N<<1]==0&&N!=v){H.push(T>>1)}if((o[N<<1]!=0||N==v)&&o[W<<1]==0&&W!=v){H.push(e+T>>1)}}return{mY:H,y5:p}};
B.qh.a0j=function(h){h|=h>>1;h|=h>>2;h|=h>>4;h|=h>>8;h|=h>>16;this.yd=new Uint32Array(h+1);this.nJ=h;
this.jp=0;this.il=0};B.qh.a0j.prototype={push:function(h){var e=this.il;this.yd[e]=h;this.il=e+1&this.nJ},pop:function(){var h=this.jp,e=this.yd[h];
this.jp=h+1&this.nJ;return e},MK:function(){return this.jp==this.il},reset:function(){this.jp=0;this.il=0}};
B.qh.ce=function(h){h|=h>>1;h|=h>>2;h|=h>>4;h|=h>>8;h|=h>>16;this.yd=new Uint32Array(h+1);this.V7=new Uint32Array(h+1);
this.nJ=h;this.jp=0;this.il=0};B.qh.ce.prototype={top:function(){return this.yd[this.jp]},amS:function(){return this.yd[this.il]},push:function(h){if(this.V7[h]!=0)return;
this.V7[h]=this.il+1;var e=this.il;this.yd[e]=h;this.il=e+1&this.nJ},pop:function(){var h=this.jp,e=this.yd[h];
this.V7[e]=0;this.jp=h+1&this.nJ;return e},MK:function(){return this.jp==this.il},remove:function(h){var e=this.V7[h]-1;
if(e==-1)return;this.V7[h]=0;if(e==this.jp){this.pop();return}var v=this.pop();this.yd[e]=v;this.V7[v]=e+1},tK:function(T){return T+this.nJ+1&this.nJ}};
B.qh.a9q=function(h,e,v){var J=B.qh.aA(h,e,v);if(e<J-1)B.qh.a9q(h,e,J-1);if(J<v)B.qh.a9q(h,J,v)};B.qh.aA=function(h,e,v){var J=h[e+v>>>1];
while(e<=v){while(h[e]<J)e++;while(h[v]>J)v--;if(e<=v){B.qh.kz(h,e,v);e++;v--}}return e};B.qh.kz=function(h,e,v){var J=h[e];
h[e]=h[v];h[v]=J};B.TI=function(){var h,e;function v(x,j,iW){var E=iW-1,L=j+iW;h[iW-2]=x[L-2];e[0]=x[L-1];
var p=Math.max;for(var T=1;T<E;T++){h[iW-2-T]=p(h[iW-1-T],x[L-2-T]);e[T]=p(e[T-1],x[L-1+T])}for(var T=0;
T<E;T++)x[j+T]=p(h[T],e[T])}function J(x,j,iW){var E=iW-1,L=Math.ceil(j/E)*E;for(var p=0;p<L;p+=E)v(x,p,iW)}function m(x,j,E,L,iW,p){j.set(x);
if(iW==1)return;h=B.U(iW-1);e=B.U(iW-1);var Z=iW>>>1,o=B.U(Math.ceil(Math.max(E,L)/(iW-1))*(iW-1)+(iW-2)),u=new Uint8Array(o.buffer,0,E);
if(!p)B.ia(j);for(var N=0;N<L;N++){o.fill(0);o.set(new Uint8Array(j.buffer,N*E,E),Z);J(o,E,iW);j.set(u,N*E)}for(var M=0;
M<E;M++){o.fill(0);for(var N=0;N<L;N++)o[N+Z]=j[N*E+M];J(o,L,iW);for(var N=0;N<L;N++)j[N*E+M]=o[N]}if(!p)B.ia(j)}function d(x,j,E,L,iW,p){var Z=B.U(E*L);
for(var o=0;o<4;o++){B.Bq(x,Z,o);if(o==3)B.ia(Z);m(Z,Z,E,L,iW,p);if(o==3)B.ia(Z);B.ar(Z,j,o)}}return{aY:m,a84:d}}();
B.WU={};B.WU.a5N=function(h){for(var T=0;T<h.length;T++)B.WU.YU(h,T)};B.WU.YU=function(h,T){h[T].v.keyShapeInvalidated={t:"bool",v:!0}};
B.WU.auD=function(h){for(var T=0;T<h.length;T++)h[T].v.keyOriginIndex.v=T};B.WU.ML=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
B.WU.e5=function(h,e,v){h=h.v;var J={Rctn:2,Ln:4,Elps:5},m=J[h.classID],d=h.topLeft?B.WU.at9(h):null,x=null,j=0,E=[!1,!1,0,0,0];
if(m==4){var L=h.Strt.v,p=h.End.v;x=[L.Hrzn.v.val,L.Vrtc.v.val,p.Hrzn.v.val,p.Vrtc.v.val];j=h.Wdth.v.val;
for(var T=0;T<2;T++){var Z=h[T==0?"StrA":"EndA"];if(Z==null)continue;Z=Z.v;E[T]=Z.On.v;E[2]=Z.Wdth.v;
E[3]=Z.Lngt.v;E[4]=Z.Cncv.v.val}}if(m==null)return null;return B.WU.lJ(m,m==4?null:B.WU.AB(h,e,v),d,x,j,E)};
B.WU.xh=function(h,e,v,J,m,d,x){var j={classID:h,unitValueQuadVersion:{t:"long",v:1}};if(e)B.WU.qn(j,["Left","Top","Rght","Btom"],e);
if(v)B.WU.qn(j,["topLeft","topRight","bottomRight","bottomLeft"],v);if(h=="Ln"){j.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:J[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:J[1]}}}},j.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:J[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:J[3]}}}},j.Wdth={t:"UntF",v:{type:"#Pxl",val:m}};
for(var T=0;T<2;T++){var E=T==0?"StrA":"EndA";j[E]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:x[T]},Wdth:{t:"doub",v:x[2]},Lngt:{t:"doub",v:x[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:x[4]}}}}}}if(d)j.Nm={t:"TEXT",v:d};
return{t:"Objc",v:j}};B.WU.adX=function(h,e){var v=B.WU.Cr(h),J=h[2]-h[0],m=h[3]-h[1],d=Math.sqrt(J*J+m*m),x=[0,0,d,0,d,e,0,e],j=new aJ;
j.rotate(-v);j.translate(h[0],h[1]);B.w.C(x,j,x);return x};B.WU.lJ=function(h,e,v,J,m,d){var x=B.WU.ML(),j=x.v,E;
delete j.keyShapeInvalidated;j.keyOriginType={t:"long",v:h};j.keyOriginResolution={t:"doub",v:75};if(h==4){j.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:J[0]},Vrtc:{t:"doub",v:J[1]}}};
j.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:J[2]},Vrtc:{t:"doub",v:J[3]}}};E=B.WU.adX(J,m);
var L=B.w.oS(E);e=[L.x,L.y,L.x+L.q,L.y+L._];j.keyOriginLineWeight={t:"doub",v:m};if(d)B.WU.apf(j,d)}else E=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];
j.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};B.WU.fV(j,"keyOriginBoxCorners",E);var p={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
j.keyOriginShapeBBox={t:"Objc",v:p};B.WU.a1n(j,e);if(v!=null){var Z={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
j.keyOriginRRectRadii={t:"Objc",v:Z};B.WU.TR(j,v)}return x};B.WU.C=function(h,e,v,J){var m=B.D.ap6(e),d=B.D.aEh(e),x=B.D.FY(e),j=x.DR*x.l_-x.b*x.tg;
for(var T=0;T<h.length;T++){var E=h[T].v;if(!B.WU.fd(E))continue;if(v.length!=0&&v.indexOf(T)==-1)continue;
var L=E.keyOriginType.v,p=e;if(j<0&&L==2){var Z=B.WU.Tx(E),o=0;o=Z[0];Z[0]=Z[1];Z[1]=o;o=Z[2];Z[2]=Z[3];
Z[3]=o;B.WU.TR(E,Z);var u=B.WU.oD(E,"keyOriginBoxCorners"),N=B.w.oS(u),M=N.x+N.q/2,O=new aJ;O.translate(-M,0);
O.scale(-1,1);O.translate(M,0);p=B.D.Eh(p,B.D.fi(O))}var F=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var W=0;W<F.length;W++){var u=B.WU.oD(E,F[W]);if(u==null)continue;B.D.C(p,u);B.WU.fV(E,F[W],u);var N=B.w.oS(u);
B.WU.a1n(E,[N.x,N.y,N.x+N.q,N.y+N._]);var f=new aJ;f.rotate(-B.WU.Cr(u));var $={classID:"Trnf"};E.Trnf={t:"Objc",v:$};
var H="xx xy yx yy tx ty".split(" "),A=[f.DR,f.b,f.tg,f.l_,f.TO,f.bZ];for(var G=0;G<6;G++)$[H[G]]={t:"doub",v:A[G]}}if(L==2&&J){var Z=B.WU.Tx(E);
for(var W=0;W<4;W++)Z[W]=Math.round(Z[W]*e[0]);B.WU.TR(E,Z)}var u=B.WU.oD(E,"keyOriginBoxCorners"),l=u[2]-u[0],K=u[3]-u[1],U=Math.sqrt(l*l+K*K);
l/=U;K/=U;var z=u[6]-u[0],q=u[7]-u[1],P=Math.sqrt(z*z+q*q);z/=P;q/=P;if(L==4){E.keyOriginLineWeight.v=P;
var g=B.WU.Z6(E);B.D.C(e,g);B.WU.azG(E,g)}var a=l*z+K*q;if(Math.abs(a)>.001){B.WU.YU(h,T)}}};B.WU.fd=function(h){var e=h.keyShapeInvalidated,v=h.keyOriginType;
return(e==null||!e.v)&&v!=null&&v.v!=9};B.WU.ad_=function(h){var e=h.keyOriginType.v,v=B.WU.oc(h),J=v[0],m=v[1],d=v[2],x=v[3],j=new aJ,E=h.keyOriginPolyCornerRadius,u;
E=E?E.v:0;var L=B.WU.oD(h,e==7||e==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),p=B.WU.as0(L),Z=p[2],o=p[3];
J=-Z/2;d=Z/2;m=-o/2;x=o/2;j.rotate(-B.WU.Cr(L));j.TO=p[0];j.bZ=p[1];if(e==1||e==2){var N=e==1?0:B.WU.Tx(h);
u=B.s.z0.Rect(J,m,d-J,x-m,N)}else if(e==4){var M=B.WU.Z6(h),O=B.WU.aeN(h);j=new aJ;if(O==null)u=B.s.z0.Yt(M[0],M[1],M[2],M[3],h.keyOriginLineWeight.v);
else u=B.s.z0.nD(M[0],M[1],M[2],M[3],h.keyOriginLineWeight.v,O)}else if(e==5){u=B.s.z0.FO(J,m,d-J,x-m)}else if(e==7||e==8){var F=e==7?3:h.keyOriginPolySides.v;
u=B.s.z0.BZ(0,0,100,Math.PI/F-Math.PI/2,F,E,d,x)}B.s.Ma(u,j);return u};B.WU.r2=function(h,e){var v=e.z;
for(var T=0;T<h.length;T++){var J=h[T].v;if(!B.WU.fd(J))continue;var m=B.WU.ad_(J),d=B.s.n2(v,T),x=B.s.lo(v,T);
m[2].Jb=v[d].Jb;var j=v;v=v.slice(0,d);for(var E=2;E<m.length;E++)v.push(m[E]);for(var E=d+x;E<j.length;
E++)v.push(j[E])}e.z=v;e.c8=!0};B.WU.s6=function(h){var e=1e9,v=-e,J=1e9,m=-J,d=[],x=h.rx(),j=x[0],E=x[1];
for(var L=0;L<E.length;L++){var p=j[E[L]],Z=p.add.vogk;if(Z==null)continue;var o=p.add.vmsk.X;for(var u=0;
u<Z.length;u++){var N=Z[u].v,F=0;if(!B.WU.fd(N))continue;if(E.length==1&&o.length!=0&&o.indexOf(u)==-1)continue;
var M=N.keyOriginType.v;if(M==9)continue;var O=B.WU.oc(N);e=Math.min(e,O[0]);J=Math.min(J,O[1]);v=Math.max(v,O[2]);
m=Math.max(m,O[3]);var W=B.WU.oD(N,"keyOriginBoxCorners");if(W){var f=B.WU.as0(W),$=f[2],H=f[3];O[2]=O[0]+$;
O[3]=O[1]+H;F=B.WU.Cr(W)}var A=[M,O,F];d.push(A);var G=N.keyOriginPolyCornerRadius;if(M==2)A.push(B.WU.Tx(N));
if(M==7||M==8)A.push(G?G.v:0);if(M==8)A.push(N.keyOriginPolySides.v)}}return d.length==1?d[0]:[0,e<v?[e,J,v,m]:null,0]};
B.WU.Cr=function(h){var e=h[2]-h[0],v=h[3]-h[1];return-Math.atan2(-v,e)};B.WU.a7Q=function(h){var e=B.WU.oc(h);
return B.WU.Cr(e)};B.WU.azc=function(h,e,v){var J=B.WU.s6(h),m=-1;for(var T=0;T<e.length;T++)if(JSON.stringify(e[T])!=JSON.stringify(J[T]))m=T;
if(m==1||m==2){}var d=h.rx(),x=d[0],j=d[1];for(var E=0;E<j.length;E++){var L=x[j[E]],p=L.add.vogk;if(p==null)continue;
var Z=L.add.vmsk.X;for(var o=0;o<p.length;o++){var u=p[o].v;if(!B.WU.fd(u))continue;if(j.length==1&&Z.length!=0&&Z.indexOf(o)==-1)continue;
var N=u.keyOriginType.v;if(m==1||m==2){B.WU.C(p,B.WU.aq3(m,u,J,e),Z,!1);break}if(m==3)if(N==2)B.WU.TR(u,e[3]);
else u.keyOriginPolyCornerRadius={t:"doub",v:e[3]};if(m==4)u.keyOriginPolySides.v=e[4];if(v)B.WU.YU(p,o)}}};
B.WU.aq3=function(h,e,v,J){var m=J[1],d=v[1],x=(m[2]-m[0])/(d[2]-d[0]),j=(m[3]-m[1])/(d[3]-d[1]),E=new aJ;
if(h==1){if(Math.max(Math.abs(x-1),Math.abs(j-1))>1e-8){var L=m[0],p=m[1];if(J[0]!=0){var Z=B.WU.oD(e,"keyOriginBoxCorners");
L=Z[0];p=Z[1]}E.translate(-L,-p);E.rotate(J[2]);E.scale(x,j);E.rotate(-J[2]);E.translate(L,p)}else{E.translate(-d[0],-d[1]);
E.translate(m[0],m[1])}}else{if(J[0]!=0)m=B.WU.oc(e);var L=(m[0]+m[2])/2,p=(m[1]+m[3])/2;E.translate(-L,-p);
if(v[0]!=0)E.rotate(v[2]);E.rotate(-J[2]);E.translate(L,p)}return B.D.fi(E)};B.WU.as0=function(h){var e=h[0],v=h[1],J=h[2],m=h[3],d=h[4],x=h[5],j=h[6],E=h[7],L=J-e,p=m-v,Z=Math.sqrt(L*L+p*p),L=d-J,p=x-m,o=Math.sqrt(L*L+p*p);
return[(e+d)/2,(v+x)/2,Z,o]};B.WU.oD=function(h,e){var v=h[e];if(v==null)return null;var J=[];v=v.v;
for(var m=0;m<4;m++){var d=v["rectangleCorner"+["A","B","C","D"][m]].v;J.push(d.Hrzn.v,d.Vrtc.v)}return J};
B.WU.fV=function(h,e,v){var J=h[e];if(J==null)return null;J=J.v;for(var m=0;m<4;m++){var d="rectangleCorner"+["A","B","C","D"][m];
J[d]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:v[2*m]},Vrtc:{t:"doub",v:v[2*m+1]}}}}};B.WU.oc=function(h){return B.WU.AB(h.keyOriginShapeBBox.v)};
B.WU.AB=function(h,e,v){var J=h.classID,m=h.Left.v,d=h.Rght.v,x=h.Top.v,j=h.Btom.v,E=m.type;if(m.val!=null){m=m.val;
d=d.val;x=x.val;j=j.val}if(E=="#Prc"&&e){m*=e/100;d*=e/100;x*=v/100;j*=v/100}return[m,x,d,j]};B.WU.YO=function(h,e,v){var J=B.WU.AB(h,e,v);
return new fP(J[0],J[1],J[2]-J[0],J[3]-J[1])};B.WU.a1n=function(h,e){B.WU.qn(h.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],e)};
B.WU.Tx=function(h){var e=h.keyOriginRRectRadii;if(e==null)return[0,0,0,0];return B.WU.at9(e.v)};B.WU.at9=function(h){var e=[],v=["topLeft","topRight","bottomRight","bottomLeft"];
for(var J=0;J<4;J++)e.push(h[v[J]].v.val);return e};B.WU.TR=function(h,e){B.WU.qn(h.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],e)};
B.WU.qn=function(h,e,v){var J=h.classID;if(J=="unitRect"||J=="radii"||J=="Rctn"){for(var T=0;T<4;T++)if(v[T]!=null)h[e[T]]={t:"UntF",v:{type:"#Pxl",val:v[T]}}}else{for(var T=0;
T<4;T++)if(v[T]!=null)h[e[T]]={t:"doub",v:v[T]}}};B.WU.Z6=function(h){var e=h.keyOriginLineStart.v,v=h.keyOriginLineEnd.v;
return[e.Hrzn.v,e.Vrtc.v,v.Hrzn.v,v.Vrtc.v]};B.WU.azG=function(h,e){var v=h.keyOriginLineStart.v,J=h.keyOriginLineEnd.v;
v.Hrzn.v=e[0];v.Vrtc.v=e[1];J.Hrzn.v=e[2];J.Vrtc.v=e[3]};B.WU.aeN=function(h){var e=[],v=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var T=0;T<5;T++){var J=h["keyOriginLineArr"+v[T]];if(J==null)return null;e[T]=J.v}return e};B.WU.apf=function(h,e){h.keyOriginLineArrowSt={t:"bool",v:e[0]};
h.keyOriginLineArrowEnd={t:"bool",v:e[1]};h.keyOriginLineArrWdth={t:"doub",v:e[2]};h.keyOriginLineArrLngth={t:"doub",v:e[3]};
h.keyOriginLineArrConc={t:"long",v:e[4]}};B.WU.asJ=function(h){function e($,H){return Math.abs($-H)<.5}function v($,H){return e($.x,H.x)&&e($.y,H.y)}function J($,H,A,G,l,K,U){for(var T=0;
T<U;T++){var z=$[H+(A+T)%U],q=G[l+(K+T)%U];if(!(v(z.Q,q.Q)&&v(z.NA,q.NA)&&v(z.Xb,q.Xb)))return!1}return!0}var m=[];
for(var d=0;d<h.length;d++){var x=h[d],E=null;if(x.c!=0&&x.c!=3||x.Jb==-1)continue;var j=d;if(x.length==4||x.length==8){var L=B.s.aeU(h.slice(0,2).concat(h.slice(j,j+x.length+1)));
j=2;if(x.length==4){var p=B.s.z9(L,j+1,4),Z=p.x,o=p.y,u=Z+p.q,N=o+p._;if(p.$()>4){if(B.s.nt(L.slice(j-2,j+5)))E=B.WU.lJ(2,[Z,o,u,N],[0,0,0,0]);
else{var M=-1;for(var T=0;T<4;T++)if(e(L[j+1+T].Q.y,N))M=T;if(M!=-1){var O=B.s.z0.FO(Z,o,u-Z,N-o),F=J(L,j+1,M,O,3,0,4);
if(F)E=B.WU.lJ(5,[Z,o,u,N])}}}}if(x.length==8){var p=B.s.z9(L,j+1,8),Z=p.x,o=p.y,u=Z+p.q,N=o+p._;if(p.$()>4){var M=-1;
for(var T=0;T<8;T++)if(e(L[j+1+(T+1&7)].Q.y,o)&&e(L[j+1+(T+2&7)].Q.y,o))M=T;if(M!=-1){var W=Math.abs(L[j+1+M].Q.y-o),f=[W,W,W,W];
if(W>.5){var O=B.s.z0.Rect(Z,o,u-Z,N-o,f),F=J(L,j+1,M,O,3,0,8);if(F)E=B.WU.lJ(2,[Z,o,u,N],f)}}}}}m.push(E?E:B.WU.ML())}return m};
B.w={};B.w.O=function(h){return{WQ:h.WQ.slice(0),g:h.g.slice(0)}};B.w.akM=function(h){if(h.length<6)return!0;
var e=h.length-4;for(var T=0;T<e;T+=2)if(!B.w.Pk(h[T],h[T+1],h[T+2],h[T+3],h[T+4],h[T+5]))return!1;if(!B.w.Pk(h[e],h[e+1],h[e+2],h[e+3],h[0],h[1]))return!1;
if(!B.w.Pk(h[e+2],h[e+3],h[0],h[1],h[2],h[3]))return!1;return!0};B.w.Pk=function(h,e,v,J,m,d){return(e-J)*(m-v)+(v-h)*(d-J)>=0};
B.w.akH=function(h,e){function v(_,t,l){var A=t[0]-_[0],G=t[1]-_[1],I=B.w.aW(l[0],l[1],-G,A,_[0],_[1],A,G);
return[l[0]-G*I,l[1]+A*I]}function J(_,t){var A=_[0]-t[0],G=_[1]-t[1];return Math.sqrt(A*A+G*G)}h=B.w.al_(h);
var m=[0,0,0,0],d=h.length,x=[0,0,0,0],j=Math.PI/2,E=Math.atan2(-1,0),u=1e9,N,M=0;function L(){for(var T=0;
T<4;T++){var F=m[T],W=(F+2)%d,_=h[W]-h[F],t=h[W+1]-h[F+1],I=Math.atan2(t,_),r=E+T*j;if(I<r)r-=2*Math.PI;
x[T]=I-r}}for(var T=0;T<d;T+=2){var p=h[T],Z=h[T+1];if(p<h[m[0]])m[0]=T;if(Z<h[m[1]+1])m[1]=T;if(p>h[m[2]])m[2]=T;
if(Z>h[m[3]+1])m[3]=T}L();var o=B.w.oS(h).$();while(M<d/2){var O=0;for(var T=0;T<4;T++)if(x[T]<x[O])O=T;
var F=m[O],W=(F+2)%d,f=m[O+2&3],$=m[O+3&3],H=m[O+1&3],p=h[F],A=h[W]-p,Z=h[F+1],G=h[W+1]-Z,l=h.slice(F,F+2),K=h.slice(W,W+2),U=h.slice(f,f+2),z=h.slice($,$+2),q=h.slice(H,H+2),P=v(l,K,U),g=v(z,[z[0]-G,z[1]+A],q),a=J(P,U),w=J(g,q);
if(w*a<u){u=w*a;var y=v(l,K,z);N=[y[0],y[1],A,G,w,a]}E+=x[O];m[O]=W;L();M++}var p=N[0],Z=N[1],A=N[2],G=N[3],w=N[4],a=N[5],S=Math.sqrt(A*A+G*G);
A/=S;G/=S;var i=p+A*w,C=Z+G*w,Y=[p,Z,i,C,i-G*a,C+A*a,p-G*a,Z+A*a];while(Y[0]>Y[2]||Math.abs((Y[3]-Y[1])/(Y[2]-Y[0]))>1){Y.push(Y.shift(),Y.shift())}return Y};
B.w.al_=function(h){var e=0;for(var T=0;T<h.length;T+=2)if(h[T]<h[e])e=T;var v=[e];while(!0){var J=v[v.length-1],m=h[J],d=h[J+1],x=v.length==1?v[0]:v[v.length-2],j=h[x],E=h[x+1],o=0,u=1e9,N=0;
if(v.length==1)E+=20;var L=j-m,p=E-d,Z=Math.sqrt(L*L+p*p);L/=Z;p/=Z;for(var T=0;T<h.length;T+=2){if(T==x||T==J)continue;
var M=h[T],O=h[T+1],F=M-m,W=O-d,f=Math.sqrt(F*F+W*W);F/=f;W/=f;var $=L*F+p*W;if($<u||$==u&&f>N){u=$;
o=T;N=f}}if(o==v[0])break;v.push(o)}var H=[];for(var T=0;T<v.length;T++)H.push(h[v[T]],h[v[T]+1]);return H};
B.w.FE=function(h){var e={},v=0,J={M:2,L:2,Q:4,C:6},m="",d="",x={g:[],WQ:[]};for(var T=0;T<h.WQ.length;
T++){var j=h.WQ[T];if(j[0]=="#")m=j;else if(j[0]=="X"){var E=m+d;if(e[E]==null)e[E]={g:[],WQ:[]};B.w.concat(e[E],x);
m="";d="";x={g:[],WQ:[]}}else if(j[0]=="O"&&j[1]=="-")d=j;else if(j=="OX"){if(d!="")d+="-1"}else{x.WQ.push(j);
var L=J[j];if(L==null)L=0;for(var p=0;p<L;p++)x.g.push(h.g[v+p]);v+=L}}return e};B.w.abH=function(h,e,v){var J=h[e]-h[v-2],m=h[e+1]-h[v-1];
return J*J+m*m<1e-4};B.w.GJ=function(h,e,v){h=B.w.$P(h);var J=h.g,m=h.WQ,d=0,x="",j=0,E=0,d=0,Z=null;
for(var T=0;T<m.length;T++){var L=m[T];if(L=="M"){j=J[d];E=J[d+1];d+=2;x=L}if(L=="C"){if(x=="Z"){m.splice(T,0,"M");
J.splice(d,0,j,E);T--;continue}d+=6;x=L}if(L=="Z"){x=L}}var p=[];d=0;for(var T=0;T<m.length;T++){var L=m[T];
if(L=="M"){Z={e6:d,T7:0,yL:!1};p.push(Z);d+=2}if(L=="C"){Z.T7++;d+=6}if(L=="Z"&&Z!=null){Z.yL=!0}}var o=[];
for(var T=0;T<p.length;T++)if(p[T].T7!=0)o.push(p[T]);p=o;for(var T=0;T<p.length;T++){var u=p[T],N=u.e6,M=N+2+u.T7*6,F=0;
u.Fv=B.w.oS(J,N,M);var O=B.w.abH(J,N,M);for(var W=0;W<u.T7;W++){var f=N+W*6,$=f+6;F+=(J[$]-J[f])*(J[$+1]+J[f+1])}if(u.T7==2){var H=function(D,dG,R){var X=1-R;
return X*X*X*D[dG]+3*X*X*R*D[dG+2]+3*X*R*R*D[dG+4]+R*R*R*D[dG+6]},A=J[N],G=J[N+1],l=J[N+6],K=J[N+7],U=J[N+6],z=J[N+7],q=H(J,N,.5),P=H(J,N+1,.5),g=H(J,N+6,.5),a=H(J,N+7,.5);
F=(q-A)*(P-G)+(l-q)*(K-P)+(g-l)*(a-K)+(U-g)*(z-a)}if(!O)F+=(J[N]-J[M-2])*(J[N+1]+J[M-1]);u.qS=F<=0}for(var T=0;
T<p.length-1;T++)for(var f=T+1;f<p.length;f++){var w=p[T],y=p[f];if(y.Fv.xB(w.Fv)){p[T]=y;p[f]=w}}var S=p.length==0?!0:p[0].qS,i=[{c:6},{c:8,all:0}];
for(var T=0;T<p.length;T++){var u=p[T],N=u.e6,M=N+2+u.T7*6,O=B.w.abH(J,N,M);if(u.T7==1)O=!1;var C=u.yL||O?0:3,Y=u.qS==S&&!e?1:0;
if(!e&&T!=0){if(p[T-1].Fv.xB(u.Fv)&&p[T-1].qS!=u.qS)Y=0;for(var f=0;f<p.length;f++)if(f!=T&&p[f].Fv.xB(u.Fv))Y=0}i.push({c:C,length:u.T7+(O?0:1),Jb:v?0:Y,rH:2});
for(var f=0;f<u.T7;f++){var d=N+f*6,_=new fq(J[d],J[d+1]),t=new fq(J[d+2],J[d+3]),I;if(f==0){if(O){I=new fq(J[M-4],J[M-3]);
if(fq.mr(I,_)<1e-5)I=_.O()}else I=_.O()}else I=new fq(J[d-2],J[d-1]);i.push({c:C+2,NA:I,Q:_,Xb:t})}if(!O){var r=new fq(J[M-2],J[M-1]);
i.push({c:C+2,NA:new fq(J[M-4],J[M-3]),Q:r,Xb:r.O()})}}for(var f=0;f<i.length;f++){var n=i[f];if(n.c>5||n.c==0||n.c==3)continue;
var Q=n.NA.lS(n.Q)||n.Xb.lS(n.Xb);if(!Q){var w=n.NA.x*(n.Q.y-n.Xb.y)+n.Q.x*(n.Xb.y-n.NA.y)+n.Xb.x*(n.NA.y-n.Q.y);
if(Math.abs(w)<1e-6)Q=!0}if(Q)n.c--}return i};B.w.Hd=function(h,e){var v=B.s.bJ(h),J=[];for(var T=2;
T<h.length;T++){var m=h[T].Jb;if(m!=null){if(m==2||m==0||m==3||m==-1)J.push(m)}}var d=J.length!=0;if((d||e)&&h.length<5e3&&1<v&&v<200)h=B.s.n7(h);
var x=B.w._i(h);return{gA:x,cM:d?1:0}};B.w._i=function(){function h(J,m,d,x){if(x!=2&&J.Xb.lS(J.Q)&&m.NA.lS(m.Q)){d.g.push(m.Q.x,m.Q.y);
d.WQ.push("L")}else{var j=J.Q,E=J.Xb,L=m.NA,p=m.Q,Z=3/2*E.x-1/2*j.x,o=3/2*E.y-1/2*j.y,u=3/2*L.x-1/2*p.x,N=3/2*L.y-1/2*p.y,M=u-Z,O=N-o;
if(x==0&&M*M+O*O<.001){d.g.push((Z+u)*.5,(o+N)*.5,p.x,p.y);d.WQ.push("Q")}else{d.g.push(E.x,E.y,L.x,L.y,p.x,p.y);
d.WQ.push("C")}}}function e(J,m,T,d,x,j){var E=m[T];J.g.push(E.Q.x,E.Q.y);J.WQ.push("M");for(var L=T;
L<T+d-1;L++)h(m[L],m[L+1],J,j);if(!x)h(m[L],m[T],J,j)}function v(J,m){if(m==null)m=0;var d={g:[],WQ:[]};
for(var T=0;T<J.length;T++){if(J[T].c>5)continue;var x=J[T].length;if(x==0)continue;if(T==J.length-1)break;
var j=J[T].c==3;e(d,J,T+1,x,j,m);if(!j)d.WQ.push("Z");T+=x}return d}return v}();B.w.ayH=function(h){var e=h.g,v=[],J,m=0;
for(var T=0;T<h.WQ.length;T++){var d=h.WQ[T];if(d=="C"){J.push(e[m++],e[m++],e[m++],e[m++],e[m++],e[m++])}else if(d=="Z"){}else{J=[];
if(d!="M"){J.push(d);T++}J.push(e[m++],e[m++]);v.push(J)}}return v};B.w.P0=function(h,e,v,J){if(J==null)J=1e9;
var m=1e9,d=0;for(var T=0;T<h.length;T+=2){var x=e-h[T],j=v-h[T+1],E=x*x+j*j;if(E<m){m=E;d=T>>>1}}return m<J*J?d:-1};
B.w.aCL=function(h,e,v,J){for(var T=0;T<h.length;T+=2){var m=h[T],d=h[T+1],x=e[T],j=e[T+1];v[T]=m+(x-m)*J;
v[T+1]=d+(j-d)*J}};B.w.C=function(h,e,v){for(var T=0;T<h.length;T+=2){var J=h[T],m=h[T+1];v[T]=J*e.DR+m*e.tg+e.TO;
v[T+1]=J*e.b+m*e.l_+e.bZ}};B.w.oS=function(h,e,v){if(e==null)e=0;if(v==null)v=h.length;var J=99999999999,m=-J,d=99999999999,x=-d;
for(var T=e;T<v;T+=2){var j=h[T],E=h[T+1];J=Math.min(J,j);d=Math.min(d,E);m=Math.max(m,j);x=Math.max(x,E)}return new fP(J,d,m-J,x-d)};
B.w.a7x=function(h,e){var v=Math.max(e.x,Math.min(e.x+e.q,h.x)),J=Math.max(e.y,Math.min(e.y+e._,h.y)),m=h.x-v,d=h.y-J;
return Math.sqrt(m*m+d*d)};B.w.jg=function(h,e){var v=Math.floor,J=Math.ceil;if(e){v=Math.ceil;J=Math.floor}var m=v(h.x),d=J(h.x+h.q),x=v(h.y),j=J(h.y+h._);
return new fP(m,x,d-m,j-x)};B.w.Ob=function(h,e){return B.w.jg(B.w.oS(h),e)};B.w.Tp=function(h,e){var v=h.x,J=h.y,m=h.x+h.q,d=h.y+h._,x=[v,J,m,J,m,d,v,d];
if(e){var j=e.O();j.ia();B.w.C(x,j,x)}return{WQ:["M","L","L","L","Z"],g:x}};B.w.concat=function(h,e,v){if(v==null)v=new aJ;
for(var T=0;T<e.g.length;T+=2){var J=e.g[T],m=e.g[T+1];h.g.push(J*v.DR+m*v.tg+v.TO);h.g.push(J*v.b+m*v.l_+v.bZ)}for(var T=0;
T<e.WQ.length;T++)h.WQ.push(e.WQ[T])};B.w.reverse=function(h){var e=h.WQ.slice(1),v=e.pop();if(v!="Z")e.push(v);
e.reverse();e=["M"].concat(e);if(v=="Z")e.push("Z");var J=[],m=h.g.length;for(var d=0;d<m;d+=2){J[d]=h.g[m-2-d];
J[d+1]=h.g[m-2-d+1]}return{g:J,WQ:e}};B.w.aw_=function(h,e,v,J,m){function d(o,u,N){return new fq(o.x*(1-N)+u.x*N,o.y*(1-N)+u.y*N)}var x=d(h,e,m),j=d(v,J,m),E=d(e,v,m),L=d(x,E,m),p=d(E,j,m),Z=d(L,p,m);
return[x,L,Z,p,j]};B.w.$P=function(h){var e=h.g,v=[],J=[],m=0,d=0,x=0,j=0,E=0,L=0,p=0,Z=0,o=0,u=0,N=0;
for(var T=0;T<h.WQ.length;T++){var M=h.WQ[T];if(M=="M"){d=e[m];x=e[m+1];m+=2;J.push(M);v.push(d,x);u=d;
N=x}else if(M=="C"){j=e[m];E=e[m+1];L=e[m+2];p=e[m+3];Z=e[m+4];o=e[m+5];m+=6;J.push(M);v.push(j,E,L,p,Z,o);
d=Z;x=o}else if(M=="Q"){j=e[m];E=e[m+1];L=e[m+2];p=e[m+3];m+=4;var O=j-d,F=E-x,W=L-j,f=p-E;J.push("C");
v.push(d+2/3*O,x+2/3*F,j+1/3*W,E+1/3*f,L,p);d=L;x=p}else if(M=="L"){j=e[m];E=e[m+1];m+=2;if(j!=d||E!=x){J.push("C");
v.push(d,x,j,E,j,E);d=j;x=E}}else{if(M=="Z"){d=u;x=N}J.push(M)}}return{WQ:J,g:v}};B.w.a4q=function(h){var e=h.g,v=[],J=[],m=0;
for(var T=0;T<h.WQ.length;T++){var d=h.WQ[T];if(d=="Q"){var x=e[m-2],j=e[m-1],E=e[m],L=e[m+1],p=e[m+2],Z=e[m+3];
m+=4;var o=E-x,u=L-j,N=p-E,M=Z-L;J.push("C");v.push(x+2/3*o,j+2/3*u,E+1/3*N,L+1/3*M,p,Z)}else{var O=0;
if(d=="M"||d=="L")O=2;else if(d=="C")O=6;for(var F=0;F<O;F++)v.push(e[m+F]);m+=O;J.push(d)}}return{WQ:J,g:v}};
B.w.JH=function(h,e){var v=h.g,J=[],m=[],d=0,x=0,j=0,E=0,L=0,p=0,Z=0,o=0,u=0;for(var T=0;T<h.WQ.length;
T++){var N=h.WQ[T];if(N=="M"){x=v[d];j=v[d+1];d+=2;m.push(N);J.push(x,j)}else if(N=="C"){E=v[d];L=v[d+1];
p=v[d+2];Z=v[d+3];o=v[d+4];u=v[d+5];d+=6;B.w.EV(x,j,E,L,p,Z,o,u,e,m,J,0);x=o;j=u}else m.push(N)}return{WQ:m,g:J}};
B.w.EV=function(h,e,v,J,m,d,x,j,E,L,p,Z){var o=Math.sqrt((x-h)*(x-h)+(j-e)*(j-e)),u=Math.sqrt((x-m)*(x-m)+(j-d)*(j-d))+Math.sqrt((m-v)*(m-v)+(d-J)*(d-J))+Math.sqrt((v-h)*(v-h)+(J-e)*(J-e)),N=(o+u)/2;
if(N<=E){L.push("C");p.push(v,J,m,d,x,j)}else{var M=0,O=0,F=0,W=0,f=0,$=0,H=0,A=0,G=0,l=0,K=0,U=0,z=0;
O=(h+v)/2;F=(e+J)/2;W=(v+m)/2;f=(J+d)/2;$=(m+x)/2;H=(d+j)/2;A=(O+W)/2;G=(F+f)/2;l=(W+$)/2;K=(f+H)/2;
U=(A+l)/2;z=(G+K)/2;B.w.EV(h,e,O,F,A,G,U,z,E,L,p,Z+1);B.w.EV(U,z,l,K,$,H,x,j,E,L,p,Z+1)}};B.w.zr=function(h,e,v,J,m){var d=Date.now(),x=B.w.a7X(h,e,v);
if(m){console.log("trace polygons",Date.now()-d);d=Date.now()}var j=[];for(var T=0;T<x.length;T++){var E=x[T],L=E[0],p=["M"],Z=h[L[1]*e+L[0]];
if(L.length>8)L=B.w.a31(L,J,E[1]);if(L.length<=4)continue;for(var o=2;o<L.length;o+=2)p.push("L");p.push("Z");
j.push({path:{g:L,WQ:p},color:Z,parent:-1,Fv:B.w.oS(L)})}if(m){console.log("simplify polygons",Date.now()-d);
d=Date.now()}for(var T=1;T<j.length;T++){var u=j[T],N=u.path.g,M=N[0],O=N[1],F=N[2],W=N[3],f=F-M,$=W-O,H=M+.5*f-.001*$,A=O+.5*$+.001*f;
for(var o=T-1;o>=0;o--){var G=j[o];if(!G.Fv.xB(u.Fv))continue;if(!fg.Wk(G.path.g,H,A))continue;u.parent=o;
break}}if(m){console.log("checking parents",Date.now()-d);d=Date.now()}return j};B.w.a7X=function(h,e,v){var J=e*v,m=new Uint16Array(e*v),x=0;
for(var T=0;T<J;T++)m[T]=h[T];var d=new Uint8Array(e*v);d[1*e+1]=d[(v-1)*e+1]=d[1*e+e-1]=d[(v-1)*e+e-1]=1;
for(var j=1;j<v;j++)for(var E=1;E<e;E++){var T=j*e+E,L=m[T-e-1],p=m[T-e],Z=m[T-1],o=m[T],u=L==o&&p==Z&&L!=p,N=0;
if(o<Z){x=o;o=Z;Z=x}if(Z<p){x=Z;Z=p;p=x}if(p<L){x=p;p=L;L=x}if(o<Z){x=o;o=Z;Z=x}if(Z<p){x=Z;Z=p;p=x}if(o<Z){x=o;
o=Z;Z=x}if(L!=p)N++;if(p!=Z)N++;if(Z!=o)N++;if(o!=L)N++;if(N>=3||u)d[T]=1}var M=[];for(var j=1;j<v;j++)for(var E=1;
E<e;E++){var T=j*e+E;if(m[T]!=m[T-1]){var O=B.w.aH0(m,e,v,E,j),F=[];for(var W=0;W<O.length;W+=2)if(d[O[W+1]*e+O[W]]==1)F.push(W>>>1);
M.push([O,F]);B.w.Hr(m,e,v,E,j)}}return M};B.w.Hr=function(h,e,v,J,m){var d=[m*e+J],x=h[m*e+J];h[m*e+J]=65535;
while(d.length!=0){var T=d.pop();h[T]=0;if(h[T+e]==x){d.push(T+e);h[T+e]=65535}if(h[T-e]==x){d.push(T-e);
h[T-e]=65535}if(h[T-1]==x){d.push(T-1);h[T-1]=65535}if(h[T+1]==x){d.push(T+1);h[T+1]=65535}}};B.w.aH0=function(h,e,v,J,m){var d=[0,-1,1,0,0,1,-1,0],p=1;
function x(o,u,p){var T=L*e+E,N=0;if(p==0)N=T-e;else if(p==1)N=T;else if(p==2)N=T-1;else if(p==3)N=T-e-1;
return h[N]}var j=[],E=J,L=m,Z=x(E,L,p);do{j.push(E,L);E+=d[p*2];L+=d[p*2+1];if(x(E,L,p)!=Z)p=p+1&3;
else if(x(E,L,p+3&3)!=Z)p=p;else if(x(E,L,p+2&3)!=Z)p=p+3&3}while(E!=J||L!=m);return j};B.w.a31=function(h,e,v){if(e==null||e==0)return h;
var J=h.length-2;if(v&&v.length!=0){var m=v[0]*2,d=v[v.length-1]*2,x=m==0?J:m-2,j=h.slice(d);for(var T=0;
T<m;T++)j.push(h[T]);if(m==d)j.push(.9*h[m]+.1*h[x],.9*h[m+1]+.1*h[x+1]);else j.push(h[m],h[m+1]);j=B.w.HW(j,e);
j.pop();j.pop();for(var T=0;T<v.length-1;T++){var E=h.slice(v[T]*2,v[T+1]*2+2);E=B.w.HW(E,e);for(var L=0;
L<E.length-2;L++)j.push(E[L])}return j}var p=h.slice(0);p.push(.9*h[0]+.1*h[J],.9*h[1]+.1*h[J+1]);p=B.w.HW(p,e);
p.pop();p.pop();return p};B.w.HW=function(h,e){var v=h.length-2,J=h[0],m=h[1],d=h[v],x=h[v+1],j=d-J,E=x-m,L=1/Math.sqrt(j*j+E*E),p=d*m-x*J,Z=-1,o=-1,u=0;
for(var T=2;T<v;T+=2){var N=h[T],M=h[T+1],O=M*M*1e6+N*N,F=Math.abs(E*N-j*M+p)*L;if(F>o||F==o&&O>u){o=F;
Z=T;u=O}}if(o<e)return[J,m,d,x];var W=B.w.HW(h.slice(0,Z+2),e),f=B.w.HW(h.slice(Z),e);for(var T=2;T<f.length;
T++)W.push(f[T]);return W};B.w.af7=function(){var h=function(J,m,d,x,j,E){return(m-x)*(j-d)+(d-J)*(E-x)>=0},e=function(J,m,d,x,j,E,L,p){var Z=L-d,o=p-x,u=j-d,N=E-x,M=J-d,O=m-x,F=Z*Z+o*o,W=Z*u+o*N,f=Z*M+o*O,$=u*u+N*N,H=u*M+N*O,A=1/(F*$-W*W),G=($*f-W*H)*A,l=(F*H-W*f)*A;
return G>=0&&l>=0&&G+l<1},v=function(J){var iW=J.length>>>1,T=0;if(iW<3)return[];var m=[],d=[];for(var T=0;
T<iW;T++)d.push(T);var x=iW;while(x>3){var j=d[(T+0)%x],E=d[(T+1)%x],L=d[(T+2)%x],p=J[2*j],Z=J[2*j+1],o=J[2*E],u=J[2*E+1],N=J[2*L],M=J[2*L+1],O=!1;
if(h(p,Z,o,u,N,M)){O=!0;for(var F=0;F<x;F++){var W=d[F];if(W==j||W==E||W==L)continue;if(e(J[2*W],J[2*W+1],p,Z,o,u,N,M)){O=!1;
break}}}if(O){m.push(j,E,L);d.splice((T+1)%x,1);x--;T=0}else if(T++>3*x)break}m.push(d[0],d[1],d[2]);
return m};return v}();B.w.aco=function(h,e){var v={},J={WQ:[],g:[]};for(var T=0;T<e.length;T+=3){var m=e[T]*2,d=e[T+1]*2,x=e[T+2]*2;
B.w.un(h,m,d,J,v);B.w.un(h,m,x,J,v);B.w.un(h,d,x,J,v)}return J};B.w.un=function(h,e,v,J,m){if(e>v){var d=v;
v=e;e=d}if(m[e+","+v])return;m[e+","+v]=!0;J.WQ.push("M","L");J.g.push(h[e],h[e+1],h[v],h[v+1])};B.w.a3U=function(h,e){var v=[],J=h.length;
for(var T=0;T<J;T+=2){var m=h[T],d=h[T+1],x=h[(T+2)%J],j=h[(T+3)%J];if(j<d){var E=d;d=j;j=E}if(d<e&&e<j){var L=(e-d)/(j-d);
v.push(m+L*(x-m))}}v.sort(function(p,Z){return p-Z});return v};B.w.a1V=function(h,e,v,J,m,d,x){var j=h-v,E=e-J,L=m-v,p=d-J,Z=1/Math.sqrt(j*j+E*E),o=1/Math.sqrt(L*L+p*p),u=j*Z,N=E*Z,M=L*o,O=p*o,F=N*x,W=-u*x,f=-O*x,$=M*x,H=B.w.aW(F,W,u,N,f,$,M,O),A=F+u*H,G=W+N*H,H=B.w.aW(0,0,u,N,A,G,-N,u),l=u*H,K=N*H;
return[Math.sqrt(l*l+K*K),u,N,M,O]};B.w.awY=function(h,e,v,J,m,d,x){var j=B.w.a1V(h,e,v,J,m,d,x),E=j[0],L=j[1],p=j[2],Z=j[3],o=j[4],u=Math.atan2(L*o-p*Z,L*Z+p*o);
if(u<0){u=u*-1}var N=Math.PI-u,M=4/3*Math.tan(N/4),O=v+E*L,F=J+E*p,W=v+E*Z,f=J+E*o,$=O+M*x*-L,H=F+M*x*-p,A=W+M*x*-Z,G=f+M*x*-o;
return[0,0,O,F,$,H,A,G,W,f]};B.w.aW=function(h,e,v,J,m,d,x,j){var E=x*(e-d)-j*(h-m),L=j*v-x*J;if(L==0)return 0;
return E/L};B.w.bl=function(h,e,v,J,m,d){return h*(J-d)+v*(d-e)+m*(e-J)};B.w.awR=function(h){function e(g,a,w,y,S,i,C,Y,_){var t=B.w.aW(g,a,w,y,S,i,C,Y);
_.push(g+w*t,a+y*t)}var v=[],J=h.length,m=[];for(var T=0;T<J;T+=2){var d=T==0?J-2:T-2,x=T==J-2?0:T+2,j=h[T],E=h[T+1],L=j-h[d],p=E-h[d+1],Z=h[x]-j,o=h[x+1]-E,u=Math.sqrt(L*L+p*p),N=Math.sqrt(Z*Z+o*o);
m.push(N);var M=u/(u+N),O=j-L*.5,F=E-p*.5,W=j+Z*.5,f=E+o*.5,$=(h[x]+h[d])*.5,H=(h[x+1]+h[d+1])*.5,A=O+M*(W-O),G=F+M*(f-F),l=j-A,K=E-G,U=(Z*-L+o*-p)/(u*N),z=(M-.5)*7,q=1+z*M,P=1-z*(1-M);
v.push(O+l*q,F+K*q,W+l*P,f+K*P)}return v};B.JS=function(){};B.JS.aJ=function(h,e,v,J,m){var d=v.q,x=v._,j=d*x,E=new Int32Array(j),iW=0;
for(var T=0;T<j;T++)if(e[T]!=0){E[T]=iW;iW++}else if(h[(T<<2)+3]<200){E[T]=-2}else E[T]=-1;if(iW==0)return;
var L=new B.CP(iW,iW),p=new Array(3*iW),Z=new Array(3*iW);for(var T=0;T<Z.length;T++)Z[T]=p[T]=0;var o=1/255,u=[-d,-1,1,d],N=[],M=[];
for(var O=0;O<x;O++)for(var F=0;F<d;F++){var W=O*d+F,f=W<<2,T=E[W],$=T*3,H=0,A=0,G=0;if(T==-1||T==-2)continue;
for(var l=0;l<4;l++){if(l==2){A=G;N[G]=0;M[G]=T;G++}var K=W+u[l],U=K<<2,z=E[K];if(l==0&&O==0||l==1&&F==0||l==2&&F==d-1||l==3&&O==x-1||z==-2)continue;
H++;if(z==-1){p[$+0]+=h[U+0];p[$+1]+=h[U+1];p[$+2]+=h[U+2]}else{N[G]=-1;M[G]=z;G++;if(e[W]==e[K]){p[$+0]+=h[f+0]-h[U+0];
p[$+1]+=h[f+1]-h[U+1];p[$+2]+=h[f+2]-h[U+2]}}}N[A]=H;L.Dg(N,M,G)}for(var T=0;T<j;T++)if(E[T]!=-1){var q=T<<2,P=E[T],g=P*3;
Z[g]=h[q+0];Z[g+1]=h[q+1];Z[g+2]=h[q+2]}var a=Date.now();L.apv(Z,p,J,m);console.log(Date.now()-a);for(var T=0;
T<j;T++){var P=E[T],w=P*3,q=T<<2;if(P==-1||h[q+3]!=255)continue;h[q+0]=~~(.5+Math.max(0,Math.min(255,Z[w+0])));
h[q+1]=~~(.5+Math.max(0,Math.min(255,Z[w+1])));h[q+2]=~~(.5+Math.max(0,Math.min(255,Z[w+2])))}};B.R={};
B.R.agU=function(h,e){var v=[h],J=[];for(var T=0;T<e.length;T++){var m=e[T],d=!1;for(var x=T+1;x<e.length;
x++){var j=e[x];if(j[0]<=m[0]&&j[1]<=m[1]&&m[2]<=j[2]&&m[3]<=j[3]){d=!0;break}}if(!d)J.push(m)}e=J;for(var T=0;
T<e.length;T++){var m=e[T];for(var x=0;x<v.length;x++){var j=v[x],E=Math.max(m[0],j[0]),L=Math.min(m[2],j[2]),p=Math.max(m[1],j[1]),Z=Math.min(m[3],j[3]);
if(E<L&&p<Z){var o=[];if(j[1]<m[1]){var u=j.slice(0);u[3]=m[1];o.push(u)}if(j[0]<m[0]){var N=j.slice(0);
N[1]=p;N[2]=m[0];o.push(N)}if(m[2]<j[2]){var M=j.slice(0);M[1]=p;M[0]=m[2];o.push(M)}if(m[3]<j[3]){var O=[E,Z,L,j[3]];
o.push(O)}if(o.length!=0){v[x]=o[0];for(var F=1;F<o.length;F++)v.push(o[F])}}}v.push(m);v=B.R.ah$(v)}v.sort(function(m,j){return m[1]!=j[1]?m[1]-j[1]:m[0]-j[0]});
for(var T=1;T<v.length;T++){var m=v[T-1],j=v[T];if(m[0]==j[0]&&m[1]==j[1]&&m[2]==j[2]&&m[3]==j[3]){v.splice(m[4]==null?T-1:T,1);
T--}}return v};B.R.ah$=function(h){h=h.slice(0);for(var T=0;T<h.length;T++){var e=h[T],v=null;if(e[4]!=null)continue;
for(var J=0;J<h.length;J++){var m=h[J];if(T==J||m[4]!=null)continue;var d=e[0]==m[0],x=e[1]==m[1],j=e[2]==m[2],E=e[3]==m[3];
if(x&&E&&(e[2]==m[0]||e[0]==m[2])){v=[Math.min(e[0],m[0]),e[1],Math.max(e[2],m[2]),e[3]]}if(d&&j&&(e[3]==m[1]||e[1]==m[3])){v=[e[0],Math.min(e[1],m[1]),e[2],Math.max(e[3],m[3])]}if(v){h[T]=v;
h.splice(J,1);break}}if(v){T--}}return h};B.R.qz=function(h){var e=new fP;for(var T=0;T<h.length;T++)e=e.R$(h[T]);
return e};B.R.agY=function(h,e){var v=B.R.qz,J=new UnionFind(h.length),A=1e3,G=1e3;for(var T=0;T<h.length;
T++)for(var m=T+1;m<h.length;m++){if(!e)continue;var d=h[T],x=h[m],Z=1e9,o=1e9;if(d.qm(x)){J.link(T,m);
continue}var j=d.x+d.q,E=d.y+d._,L=x.x+x.q,p=x.y+x._;if((j<x.x||L<d.x)&&(E<x.y||p<d.y))continue;if(!(E<x.y||p<d.y))Z=Math.min(Math.abs(j-x.x),Math.abs(d.x-L));
if(!(j<x.x||L<d.x))o=Math.min(Math.abs(E-x.y),Math.abs(d.y-p));var u=Math.min(Z,o),N=Math.min(d.q,d._,x.q,x._);
if(u<.3*N)J.link(T,m)}var M=[],O={};for(var T=0;T<h.length;T++){var F=J.find(T),W=h[T];if(O[F]==null){O[F]=M.length;
M.push([])}M[O[F]].push(W)}var f=[],$=[];for(var T=0;T<M.length;T++){f.push(v(M[T]));var H=v(M[T]);H.tK=T;
$.push(H)}$.sort(function(y,S){return Math.max(S._,S.q)-Math.max(y._,y.q)});var l=new NETXUS.RectanglePacker(A,G);
while(!0){var K=!1;l.reset(A,G);for(var T=0;T<$.length;T++){var U=l.findCoords($[T].q,$[T]._);if(U){$[T].x=U.x;
$[T].y=U.y}else{A=Math.floor(A*1.1);G=Math.floor(G*1.1);K=!0;break}}if(K)continue;break}for(var T=0;
T<M.length;T++){var z=$[T],q=z.tK,P=f[q],g=M[q],a=z.x-P.x,w=z.y-P.y;for(var m=0;m<g.length;m++)g[m].offset(a,w)}};
B.R.a7_=function(h){var e=[],v=[],J=function(H,A){return H-A};for(var T=0;T<h.length;T++){var m=h[T];
if(e.indexOf(m[0])==-1)e.push(m[0]);if(e.indexOf(m[2])==-1)e.push(m[2]);if(v.indexOf(m[1])==-1)v.push(m[1]);
if(v.indexOf(m[3])==-1)v.push(m[3])}e.sort(J);v.sort(J);e.push(e[e.length-1]+1);v.push(v[v.length-1]+1);
var d=[],x=e.length-1,j=v.length-1;for(var E=0;E<j;E++){var L=[];d.push(L);for(var p=0;p<x;p++){var Z=e[p],o=e[p+1],u=v[E],N=v[E+1],M=(Z+o)/2,O=(u+N)/2,F=-1,W=-1;
for(var T=0;T<h.length;T++){var m=h[T];if(m[0]==Z&&m[1]==u)F=T;if(m[0]<M&&M<m[2]&&m[1]<O&&O<m[3])W=T}if(F!=-1){var m=h[F],f=1,$=1;
while(e[p+f]<m[2])f++;while(v[E+$]<m[3])$++;L.push([F,m[2]-m[0],m[3]-m[1],f,$])}else if(W!=-1)continue;
else L.push([-1,o-Z,N-u,1,1])}}return[e.pop(),v.pop(),d]};B.R.axh=function(h,e,v,J){var m=B.R.a7_(h),d=["<table id=\"Table_01\" width=\""+m[0]+"\" height=\""+m[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],x=m[2];
for(var T=0;T<x.length;T++){var j=x[T];d.push("\t<tr>");for(var E=0;E<j.length;E++){var L=j[E],p=null,Z="",o="",u=L[3],N=L[4],F="";
if(L[0]!=-1){var M=L[0],O=h[M];if(O.length==5){p=v[O[4]].v;Z=p.url.v}o="src=\""+e[M]+"\"";if(O[4]==null&&J==2)o=""}if(u!=1)F+=" colspan=\""+u+"\"";
if(N!=1)F+=" rowspan=\""+N+"\"";d.push("\t\t<td"+F+">");if(Z!="")d.push("\t\t\t<a href=\""+Z+"\" target=\""+p.null.v+"\">");
d.push((Z==""?"":"\t")+"\t\t\t<img "+o+" width=\""+L[1]+"\" height=\""+L[2]+"\" alt=\""+(p?p.altTag.v:"")+"\"></td>"+(Z==""?"":"</a>"))}if(T==x.length-1){d.pop();
d.pop();d.push("\t\t<td></td>")}d.push("\t</tr>")}d.push("</table>");return d.join("\n")};B.yu=function(){};
B.yu.ma=Math.floor(16*window.devicePixelRatio);B.yu.RQ={};B.yu.Cu=0;B.yu.Gw=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
B.yu.aGn=["px","in","cm","mm","%"];B.yu.e$=function(h,e,v,J){var m=[1,e,e/2.54,e/25.4,v/100][J];return h*m};
B.yu.U9=function(h,e,v,J){var m=[1,e,e/2.54,e/25.4,v/100][J];return h/m};B.yu.U_=function(h,e,v,J,m){var d=v.Kd.XB,x=[1,e,e/2.54,e/25.4,J/100][d],j=[2,3,2,1,2][d];
h=h/x;var E=Math.round(h),L=d==0&&Math.abs(h-E)<1e-6?E+"":h.toFixed(j);if(m)L+=" "+B.yu.aGn[d];return L};
B.yu.ak8=function(h,e,v,J){var m=v.Kd.XB,d=[1,e,e/2.54,e/25.4,J/100][m];h=parseFloat(h)*d;return h};
B.yu.awV=function(h,e){var v=h+","+e;if(B.yu.RQ.clr==v)return;var J=Math.round(B.yu.ma*.5);B.yu.Cu=J;
var m=B.Ut(J,J);m.save();m.font=J*1.5+"px monospace";var d="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var T=0;
T<d.length;T++){m.fillStyle="#"+B.zF(e);m.fillRect(0,0,J,J);m.fillStyle="#"+B.zF(h);m.fillText(d[T],0,J);
B.yu.RQ[d[T]]=new Uint8Array(m.getImageData(0,0,J,J).data.buffer)}B.yu.RQ.clr=v;m.restore()};B.yu.a4A=function(h,e,v,J){var m=0,d=0,x=4*B.yu.ma;
for(var T=9;T>=0;T--){var j=Math.pow(10,T);if(5*j*h<=x){m=5*j;d=10;break}if(2*j*h<=x){m=2*j;d=4;break}if(1*j*h<=x){m=1*j;
d=J;break}}if(m==0){m=1;d=J}var E=Math.ceil(m*h),L=B.U(E*B.yu.ma*4);B.yV(L,4278190080|v);for(var T=0;
T<B.yu.ma;T++)B.yu.vW(L,4*T*E,e);for(var T=0;T<E;T++)B.yu.vW(L,4*((B.yu.ma-1)*E+T),e);if(m==2)d=2;if(m==5)d=5;
if(m>1||m==1&&E>20)for(var T=1;T<d;T++)B.yu.adA(L,T*(E/d),E,(T&1)==1?.8:.7,e);return{wp:L,step:m}};B.yu.adA=function(h,e,v,J,m){var e=Math.round(e);
for(var d=Math.round(B.yu.ma*J);d<B.yu.ma-1;d++)B.yu.vW(h,4*(d*v+e),m)};B.yu.vW=function(h,e,v){h[e+0]=v>>16&255;
h[e+1]=v>>8&255;h[e+2]=v&255};B.yu.aiD=function(h,e,v,J,m,d,x,j){var E=h.L1.q,L=h.L1._,p=B.yu.ma,Z=e&255,o=e>>8&255,u=e>>16&255;
e=Math.round(Z*.6)<<16|Math.round(o*.6)<<8|Math.round(u*.6);B.yu.awV(Math.round(Z*.8)<<16|Math.round(o*.8)<<8|Math.round(u*.8),v);
var N=h.e4,M=h.d,O=h.dW;for(var F=0;F<2;F++){var W=F==0?d:x;h.e4=W[0];h.d=W[1];h.dW=0;var f=this.a4A(h.e4,e,v,j),$=h.$$(0,0),H=h.$$(E,L),A=Math.floor($.x/f.step)*f.step,G=Math.ceil(H.x/f.step)*f.step,l=Math.floor($.y/f.step)*f.step,K=Math.ceil(H.y/f.step)*f.step,U=h.IK(A,l),z=h.IK(G,l),q=f.step*h.e4,P=Math.ceil(q);
if(F==1){var g=f.wp;f.wp=B.U(g.length*4);B.D.nc(g,f.wp,P,p)}var a=F==0?h.j4.data:h.MY.data,w=new fP(0,0,[E,p][F],[p,L][F]),y=new fP(0,0,[P,p][F],[p,P][F]),S=new fP([0,Math.round(p*.2)][F],[Math.round(p*.08),0][F],B.yu.Cu,B.yu.Cu),i=(F==0?G-A:K-l)/f.step;
for(var T=0;T<i;T++){if(F==0)y.x=Math.round(U.x+T*q);else y.y=Math.round(U.y+T*q);B.YZ(f.wp,y,a,w,y);
var C=(F==0?A+T*f.step:Math.abs(l+T*f.step)).toString(10);for(var Y=0;Y<C.length;Y++){if(F==0)S.x=y.x+3+Y*Math.round(B.yu.Cu*.8);
else S.y=y.y+3+Y*Math.round(B.yu.Cu*1.15);var _=B.yu.RQ[C[Y]];B.YZ(_,S,a,w,S)}}}h.e4=N;h.d=M;h.dW=O;
var t=Math.floor(p*.6),I=new Uint32Array(h.j4.data.buffer),r=new Uint32Array(h.MY.data.buffer),n=Z<128?4278190080:4294967295;
if(0<J&&J<E)for(var T=0;T<t;T++)I[T*E+J]=n;if(0<m&&m<L)for(var T=0;T<t;T++)r[m*p+T]=n};B.scale={};B.scale._y=document.createElement("canvas");
B.scale.h_=B.scale._y.getContext("2d");B.scale.$U=function(h,e,v){var J=B.scale._y,m=B.scale.h_;J.width=e;
J.height=v;var d=new ImageData(new Uint8ClampedArray(h.buffer),e,v);m.putImageData(d,0,0);return m.createPattern(m.canvas,"repeat")};
B.scale.af0=function(h,e,v,J,m,d,x,j,E){var L=B.scale.a12(h,v,J,m,d,x,j,E);if(e)e.set(L);return new Uint8Array(L.buffer)};
B.scale.a12=function(h,e,v,J,m,d,x,j){var E=B.Ut(e,v);E.save();E.rect(0,0,e,v);E.translate(d,x);E.scale(J,m);
if(j!=null)E.rotate(-j);E.fillStyle=h;E.fill();E.restore();return new Uint8Array(E.getImageData(0,0,e,v).data.buffer)};
B.scale.C=function(h,e,v,J,m){var d=v.b==0&&v.tg==0,x=m.q,j=m._,E=B.w.Tp(e,v).g,L=B.w.Ob(E,d).UP(m),p=L.x,Z=L.y,o=p+L.q,u=Z+L._,N=~~e.x,M=~~e.y,O=~~e.q,F=~~e._;
if(d)for(var W=Z;W<u;W++){var f=v.l_*(W+.5)+v.bZ-M,$=~~f*O;for(var H=p;H<o;H++){var A=v.DR*(H+.5)+v.TO-N;
J[W*x+H]=h[$+~~A]}}else for(var W=Z;W<u;W++)for(var H=p;H<o;H++){var G=H+.5,l=W+.5,A=v.DR*G+v.tg*l+v.TO-N,f=v.b*G+v.l_*l+v.bZ-M;
if(0<=A&&0<=f&&A<O&&f<F)J[W*x+H]=h[~~f*O+~~A]}};B.scale.aBO=function(h,e,v,J,m,d){var x=B._H(h),j=new Uint32Array(h.buffer),E=new Uint32Array(J.buffer),L=m.q,p=m._,Z=B.w.Tp(e,v).g,o=d?m:B.w.Ob(Z).UP(m),u=o.x,N=o.y,M=u+o.q,O=N+o._,F=~~e.x,W=~~e.y,f=~~e.q,$=~~e._;
for(var H=N;H<O;H++)for(var A=u;A<M;A++){var G=A+.5,l=H+.5,K=v.DR*G+v.tg*l+v.TO-F,U=v.b*G+v.l_*l+v.bZ-W;
if(d){K=((f<<10)+K)%f;U=(($<<10)+U)%$}if(0<=K&&0<=U&&K<f&&U<$){if(x==8)E[H*L+A]=j[~~U*f+~~K];else{var z=(~~U*f+~~K)*4,m,q,P,g;
if(x==16){m=h[z]>>>8;q=h[z+1]>>>8;P=h[z+2]>>>8;g=h[z+3]>>>8}else{m=h[z]*255;q=h[z+1]*255;P=h[z+2]*255;
g=h[z+3]*255}E[H*L+A]=g<<24|P<<16|q<<8|m}}}};B.scale.fk=function(h,e,v,J,m,d,x){if(x<1)B.scale.a47(h,e,v,J,m,d,Math.round(1/x));
else B.scale.aas(h,e,v,J,m,d,x)};B.scale.hE=function(h,e,v,J,m,d,x,j){if(j)j=j.UP(new fP(0,0,e,v));h=new Uint32Array(h.buffer);
J=new Uint32Array(J.buffer);if(x<1)B.scale.axv(h,e,v,J,m,d,Math.round(1/x),j);else B.scale.aew(h,e,v,J,m,d,x)};
B.scale.aas=function(h,e,v,J,m,d,x){for(var j=0;j<v;j++)for(var E=0;E<e;E++){var L=h[j*e+E],p=Math.min(x,m-E*x),Z=Math.min(x,d-j*x);
for(var T=0;T<Z;T++)for(var o=0;o<p;o++)J[(x*j+T)*m+x*E+o]=L}};B.scale.a47=function(h,e,v,J,m,d,x){for(var j=0;
j<d;j++)for(var E=0;E<m;E++){var L=0,p=Math.min(x,e-E*x),Z=Math.min(x,v-j*x);for(var T=0;T<Z;T++)for(var o=0;
o<p;o++)L+=h[(x*j+T)*e+(x*E+o)];J[j*m+E]=Math.round(L/(p*Z))}};B.scale.aew=function(h,e,v,J,m,d,x){for(var j=0;
j<v;j++)for(var E=0;E<e;E++){var L=h[j*e+E],p=Math.min(x,m-E*x),Z=Math.min(x,d-j*x);for(var T=0;T<Z;
T++)for(var o=0;o<p;o++)J[(x*j+T)*m+x*E+o]=L}};B.scale.aAg=function(h,e,v){return(h>>>v&255)+(e>>>v&255)>>>1};
B.scale.e1=function(h,e){var v=B.scale.aAg;return v(h,e,24)<<24|v(h,e,16)<<16|v(h,e,8)<<8|v(h,e,0)};
B.scale.apA=function(h,e,v,J,m,d){var x=new Uint32Array(h.buffer),j=new Uint32Array(J.buffer);for(var E=0;
E<v;E++){for(var L=0;L<e;L++){var p=E*e+L,Z=x[p],o=Z,u=Z,N=Z;if(L<e-1)o=B.scale.e1(Z,x[p+1]);if(E<v-1)u=B.scale.e1(Z,x[p+e]);
if(L<e-1&&E<v-1)N=B.scale.e1(Z,x[p+e+1]);var M=(E*m+L)*2;j[M]=Z;j[M+1]=o;j[M+m]=u;j[M+m+1]=N}}if((m&1)==1)for(var E=0;
E<d;E++)j[E*m+m-1]=j[E*m+m-2];var O=m*(d-1);if((d&1)==1)for(var L=0;L<m;L++)j[O+L]=j[O-m+L]};B.scale.axv=function(h,e,v,J,m,d,x,j){var E=0,L=m,p=0,Z=d;
if(j){E=Math.floor(j.x/x);L=Math.ceil((j.x+j.q)/x);p=Math.floor(j.y/x);Z=Math.ceil((j.y+j._)/x)}for(var o=p;
o<Z;o++)for(var u=E;u<L;u++){var N=0,M=0,O=0,F=0,W=Math.min(x,e-u*x),f=Math.min(x,v-o*x);for(var T=0;
T<f;T++)for(var $=0;$<W;$++){var H=h[(x*o+T)*e+x*u+$],A=H>>>24;N+=A;M+=A*(H>>>16&255);O+=A*(H>>>8&255);
F+=A*(H&255)}if(N!=0){var G=1/N;J[o*m+u]=N/(W*f)<<24|M*G<<16|O*G<<8|F*G}else J[o*m+u]=0}};B.K=function(){function h(j,E,T){return(128&j[T-E-1]&j[T-E]&j[T-2]&j[T-1]&j[T+1]&j[T+E-1]&j[T+E])==0}function e(j,E,T){return(128&j[T-E-E]&j[T-E+1]&j[T+2]&j[T+E+1]&j[T+E+E])==0}function v(j,E,T){return(j[T-E]&j[T-1]&j[T+1]&j[T+E]&128)==0}function J(j,T){return(j[T]&128)!=0}function m(j,E,L,p){var T=0,Z=L.q,o=L._;
if(p)for(var u=0;u<o;u++)for(var N=0;N<Z;N++){if(J(j,T)&&(N<2||u<2||N>Z-3||u>o-3||((j[T-1]&128)==0||E[T-1]!=0)&&h(j,Z,T)||e(j,Z,T)))E[T]=255;
T++}else for(var u=0;u<o;u++)for(var N=0;N<Z;N++){if(J(j,T)&&(N==0||u==0||N==Z-1||u==o-1||v(j,Z,T)))E[T]=255;
T++}}function d(j,E,L,p,Z){var o=L.q,u=L._,N=new Uint8Array(E.buffer),M=new Uint32Array(E.buffer);if(Z)for(var O=2;
O<u-2;O++)for(var F=2;F<o-2;F++){var T=O*o+F;if(J(j,T)&&(((j[T-1]&128)==0||M[T-1]!=0)&&h(j,o,T)||e(j,o,T)))M[T]=p[(F+O&4)>>>2]}else for(var O=1;
O<u-1;O++)for(var F=1;F<o-1;F++){var T=O*o+F;if(J(j,T)&&v(j,o,T)){M[T]=p[(F+O&4)>>>2]}}}function x(j,E,L,p,Z){var o=L.q,u=L._,N=new Uint8Array(E.buffer),M=new Uint32Array(E.buffer),T=0;
if(p==1)for(var O=0;O<u;O++)for(var F=0;F<o;F++,T++){var W=j[T];M[T]=255-W>>>1<<24|255}else for(var O=0;
O<u;O++)for(var F=0;F<o;F++,T++){var W=j[T];M[T]=255<<24|(W<<16|W<<8|W)}}return{alT:m,aqu:d,akf:x}}();
B.HE={};B.HE.Vy=function(h,e,v){var J,m;if(v==0){J=h.R.O();m=B.HE.aax}if(v==1){J=h.R.R$(e.R);m=B.HE.R$}if(v==2){J=e.R.O();
m=B.HE.ate}if(v==3){J=h.R.UP(e.R);m=B.HE.UP}if(v==4){J=h.R.R$(e.R);m=B.HE.a9n}if(J.EG())return null;
var d=B.U(J.$());B.Ww(e.G,e.R,d,J);var x=B.U(J.$());B.Ww(h.G,h.R,x,J);m(x,d,d);var j=B.sH(d,J);if(j.EG())return null;
if(!j.lS(J)){var E=B.U(j.$());B.Ww(d,J,E,j);d=E;J=j}return{G:d,R:J}};B.HE.aax=function(h,e,v){for(var T=0;
T<h.length;T++)v[T]=h[T]};B.HE.R$=function(h,e,v){for(var T=0;T<h.length;T++)v[T]=Math.min(h[T]+e[T],255)};
B.HE.ate=function(h,e,v){for(var T=0;T<h.length;T++)v[T]=Math.max(e[T]-h[T],0)};B.HE.UP=function(h,e,v){var J=1/255;
for(var T=0;T<h.length;T++)v[T]=h[T]*e[T]*J};B.HE.a9n=function(h,e,v){var J=1/255;for(var T=0;T<h.length;
T++)v[T]=Math.min(h[T]+e[T],255)-h[T]*e[T]*J};B.CP=function(h,e){this.l=[];this.nR=[0];this.Zh=[];this.oF=[];
this.lg=[0];this.QV=[];this.fY=[];this.rows=h;this.cols=e};B.CP.prototype.O=function(){var h=this,e=h.rows,v=h.cols,J=new B.CP(e,v);
J.l=h.l.slice(0);J.nR=h.nR.slice(0);J.Zh=h.Zh.slice(0);J.oF=h.oF.slice(0);J.lg=h.lg.slice(0);J.QV=h.QV.slice(0);
J.fY=h.fY.slice(0);return J};B.CP.prototype.Dg=function(h,e,v){var J=this.nR.length-1;for(var T=0;T<v;
T++){var m=h[T],d=e[T];this.l.push(m);this.Zh.push(d);if(d==J){this.fY.push(m==0?0:1/m)}else{this.oF.push(m);
this.QV.push(d)}}this.nR.push(this.l.length);this.lg.push(this.oF.length)};B.CP.prototype.Ig=function(h,e){var v=this,J=v.rows,m=v.l,d=v.Zh;
if(e==null)e=new Array(J);for(var T=0;T<J;T++){var x=v.nR[T],j=v.nR[T+1],E=0;while((j-x&3)!=0){E+=m[x]*h[d[x]];
x++}for(var L=x;L<j;L+=4)E+=m[L]*h[d[L]]+m[L+1]*h[d[L+1]]+m[L+2]*h[d[L+2]]+m[L+3]*h[d[L+3]];e[T]=E}return e};
B.CP.prototype.multiply=function(h){return this.Y4(h.nc())};B.CP.prototype.Y4=function(h){var e=this,v=e.rows,J=e.cols,m=h.rows,d=new B.CP(v,m),x=e.Zh,j=h.Zh;
for(var T=0;T<v;T++){var E=[],L=[],p=e.nR[T],Z=e.nR[T+1];for(var o=0;o<m;o++){var u=h.nR[o],N=h.nR[o+1],M=0,O=p,F=u;
while(O<Z&&F<N){var W=Math.max(x[O],j[F]);while(O<Z&&x[O]<W)O++;while(F<N&&j[F]<W)F++;if(O<Z&&F<N&&x[O]==j[F])M+=e.l[O++]*h.l[F++]}if(M!=0){E.push(M);
L.push(o)}}d.Dg(E,L,E.length)}return d};B.CP.prototype.nc=function(){var h=this.rows,e=this.cols,v=[];
for(var T=0;T<e;T++)v.push([[],[]]);var J=this.l,m=this.nR,d=this.Zh;for(var T=0;T<h;T++){var x=m[T],j=m[T+1];
for(var E=x;E<j;E++){var L=v[d[E]];L[0].push(J[E]);L[1].push(T)}}var p=new B.CP(e,h);for(var T=0;T<e;
T++)p.Dg(v[T][0],v[T][1],v[T][1].length);return p};B.CP.prototype.RE=function(){var h=this.rows,e=this.cols,v=new Array(h),J=this.l,m=this.nR,d=this.Zh;
for(var T=0;T<h;T++){var x=v[T]=new Array(e);for(var j=0;j<e;j++)x[j]=0;var E=m[T],L=m[T+1];for(var p=E;
p<L;p++)x[d[p]]=J[p]}return v};B.CP.prototype.Hj=function(h,e,v,J,m){function d(G,e,l,K){var U=G.length;
for(var T=0;T<U;T++)K[T]=G[T]-e[T]*l}function x(G,e,l,K){var U=G.length,z=0;while((U-z&3)!=0){K[z]=G[z]+e[z]*l;
z++}for(var T=z;T<U;T+=4){K[T]=G[T]+e[T]*l;K[T+1]=G[T+1]+e[T+1]*l;K[T+2]=G[T+2]+e[T+2]*l;K[T+3]=G[T+3]+e[T+3]*l}}function j(G,e,l){var K=G.length;
for(var T=0;T<K;T++)l[T]=G[T]*e[T]}function E(G,e){var l=G.length,K=0,U=0;while((l-K&3)!=0){U+=G[K]*e[K];
K++}for(var T=K;T<l;T+=4)U+=G[T]*e[T]+G[T+1]*e[T+1]+G[T+2]*e[T+2]+G[T+3]*e[T+3];return U}var L=J!=null?2:1,p=Date.now(),Z=0,o=this,u=h.slice(0),N=h.slice(0);
o.Ig(h,N);d(e,N,1,u);var M=this.fY;if(L==0){M=u.slice(0);M.fill(1)}var O=u.slice(0);j(M,u,O);var F=O.slice(0),W=E(u,O);
while(!0){o.Ig(F,N);var f=W/E(F,N);x(h,F,f,h);d(u,N,f,u);if((Z&7)==0&&Math.sqrt(E(u,u))<v)break;if(L<=1)j(M,u,O);
else{var $=u.slice(0);J.a3g($,u);m.aa4(O,$)}var H=E(u,O),A=H/W;x(O,F,A,F);W=H;Z++}};B.CP.prototype.asE=function(h,e,v,J){var m=Date.now(),d=1.96,j=0;
if(v==null)v=5e-6;if(J==null)J=1e9;var x=1-d,iW=this.rows,E=this.oF,L=this.lg,p=this.QV,Z=this.fY;while(!0){var o=0;
for(var T=0;T<iW;T++){var u=e[T],N=L[T],M=L[T+1];if(M-N==4)u-=E[N]*h[p[N]]+E[N+1]*h[p[N+1]]+E[N+2]*h[p[N+2]]+E[N+3]*h[p[N+3]];
else for(var O=N;O<M;O++)u-=E[O]*h[p[O]];var F=h[T]*x+Z[T]*u*d,W=F-h[T];o+=W*W;h[T]=F}if(o/iW<v||Date.now()>m+J)break}};
B.CP.prototype.apv=function(h,e,v,J){var m=Date.now(),d=1.96,j=0;if(v==null)v=5e-5;if(J==null)J=1e9;
var x=1-d,iW=this.rows,E=this.oF,L=this.lg,p=this.QV,Z=this.fY;while(!0){var o=0;for(var T=0;T<iW;T++){var u=T*3,N=e[u],M=e[u+1],O=e[u+2],F=L[T],W=L[T+1];
for(var f=F;f<W;f++){var $=E[f],H=p[f]*3;N-=$*h[H+0];M-=$*h[H+1];O-=$*h[H+2]}var A=Z[T]*d,G=h[u+0]*x+N*A,l=h[u+1]*x+M*A,K=h[u+2]*x+O*A,U=G-h[u+0],z=l-h[u+1],q=K-h[u+2];
o+=.4*U*U+.5*z*z+.1*q*q;h[u+0]=G;h[u+1]=l;h[u+2]=K}if(o/iW<v||Date.now()>m+J)break}};B.CL={};B.CL.M$=function(h,e,v){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:h},Vrtc:{t:"doub",v:e},Cnty:{t:"bool",v:v}}}};
B.CL.C=function(h,e){for(var T=0;T<h.length;T++){var v=h[T].v,J=e.w7(new fq(v.Hrzn.v,v.Vrtc.v));v.Hrzn.v=Math.round(J.x);
v.Vrtc.v=Math.round(J.y)}};B.CL.a7n=function(h,e,v){var iW=h.length-1,J=B.ok.Hm(iW+1,iW+2);for(var T=1;
T<iW;T++){J[T][T-1]=1/(h[T]-h[T-1]);J[T][T]=2*(1/(h[T]-h[T-1])+1/(h[T+1]-h[T]));J[T][T+1]=1/(h[T+1]-h[T]);
J[T][iW+1]=3*((e[T]-e[T-1])/((h[T]-h[T-1])*(h[T]-h[T-1]))+(e[T+1]-e[T])/((h[T+1]-h[T])*(h[T+1]-h[T])))}J[0][0]=2/(h[1]-h[0]);
J[0][1]=1/(h[1]-h[0]);J[0][iW+1]=3*(e[1]-e[0])/((h[1]-h[0])*(h[1]-h[0]));J[iW][iW-1]=1/(h[iW]-h[iW-1]);
J[iW][iW]=2/(h[iW]-h[iW-1]);J[iW][iW+1]=3*(e[iW]-e[iW-1])/((h[iW]-h[iW-1])*(h[iW]-h[iW-1]));B.ok.ef(J,v)};
B.CL.adi=function(h,e,v,J){if(h<=e[0])return v[0];if(h>=e[e.length-1])return v[e.length-1];var T=1;while(e[T]<h)T++;
var m=e[T],d=e[T-1],x=v[T],j=v[T-1],E=(h-d)/(m-d),L=J[T-1]*(m-d)-(x-j),p=-J[T]*(m-d)+(x-j),Z=(1-E)*j+E*x+E*(1-E)*(L*(1-E)+p*E);
return Z};B.CL.ae5=function(h,e,v,J){var m={iP:[h[0]],QP:[e[0]],IA:[]};J[0]=m;for(var T=1;T<h.length-1;
T++){m.iP.push(h[T]);m.QP.push(e[T]);if(v[T]==!1){B.CL.a7n(m.iP,m.QP,m.IA);m={iP:[h[T]],QP:[e[T]],IA:[]}}J[T]=m}m.iP.push(h[T]);
m.QP.push(e[T]);B.CL.a7n(m.iP,m.QP,m.IA);J[T]=m};B.CL.auU=function(h,e,v,J){if(h<=e[0])return v[0];if(h>=e[e.length-1])return v[e.length-1];
var T=1;while(e[T]<h)T++;var m=J[T-1];return B.CL.adi(h,m.iP,m.QP,m.IA)};B.CL.a1e=function(h){var e={iP:[],QP:[],AO:[]};
for(var T=0;T<h.length;T++){e.iP[T]=h[T].v.Hrzn.v;e.QP[T]=h[T].v.Vrtc.v;e.AO[T]=h[T].v.Cnty?h[T].v.Cnty.v:!0}return e};
B.CL.zA=function(h,iW,e){var v=0,J=255;if(e){v=-1e9;J=1e9}var m=B.CL.a1e(h),d=[];B.CL.ae5(m.iP,m.QP,m.AO,d);
var x=[];for(var T=0;T<iW;T++)x[T]=1/255*Math.max(v,Math.min(J,B.CL.auU(T*(255/(iW-1)),m.iP,m.QP,d)));
return x};B.CL.ads=function(h,iW,e){var v=Math.round(h.length/20),J=iW-h.length,m=e?(h[v]-h[0])/v:0,d=e?h[0]-J*m:h[h.length-1],x=[];
for(var T=0;T<J;T++)x.push(d+T*m);return e?x.concat(h):h.concat(x)};B.CL.Oh=function(h,iW,e){var v=B.CL.a1e(h),J=[];
B.CL.ae5(v.iP,v.QP,v.AO,J);var m=new Uint8Array(iW),d=iW/256;for(var T=0;T<iW;T++)m[T]=Math.max(0,Math.min(iW-1,B.CL.auU(T*d,v.iP,v.QP,J)));
if(e){m[0]=0;if(m[1]>100)m[1]=.4*m[1];if(m[2]>150)m[1]=.7*m[2]}return m};B.CL.ab4=function(h,e){var v=new Uint8Array(h.length);
for(var T=0;T<h.length;T++)v[T]=e[h[T]];return v};B.CL.lT=function(h,e,v){var J=document.createElement("canvas");
J.width=e;J.height=v;var m=J.getContext("2d"),d=B.CL.Oh(h,256);m.scale(e/255,v/255);m.fillStyle="#fff";
m.fillRect(0,0,255,255);m.fillStyle="#333";m.beginPath();m.moveTo(0,255);for(var T=0;T<d.length;T++)m.lineTo(T,255-d[T]);
m.lineTo(255,255);m.closePath();m.fill();return J.toDataURL()};B.style={};B.style.stroke=function(h,e,v,J){var m=v.q,d=v._,x=B.style.Be(h,m,d);
B.style.Xx(e,v,x,v,J)};B.style.Xx=function(h,e,v,J,m){var d=e.UP(J),x=d.q,j=d._;m+=.5;var E=d.x-e.x,L=d.y-e.y,p=e.q,Z=d.x-J.x,o=d.y-J.y,u=J.q;
for(var N=0;N<j;N++){var M=(N+o)*u+Z,O=(N+L)*p+E;for(var F=0;F<x;F++){var W=Math.max(0,Math.min(1,m-v[M+F]));
h[O+F]=Math.round(W*255)}}};B.style.aqt=function(h,e,v,J){for(var m=0;m<v;m++)for(var d=0;d<e;d++){var x=m*e+d,j=0,E=0,L=h[x];
if(d==0||m==0){j=h[x+1]-L;E=h[x+e]-L}else if(d==v-1||m==e-1){j=L-h[x-1];E=L-h[x-e]}else{j=h[x+1]-h[x-1];
E=h[x+e]-h[x-e]}if(j!=0||E!=0){var p=1/Math.sqrt(j*j+E*E);j*=p;E*=p}J[x+x]=j;J[x+x+1]=E}};B.style.Be=function(h,e,v){var J=e*v,m=new ArrayBuffer((J+e*4)*4),d=new Float32Array(m,0,J),x=new Uint16Array(m,0,J<<1),j=new Int32Array(m,J*4,e),E=new Int32Array(m,(J+e)*4,e),L=new Int32Array(m,(J+e*2)*4,e),p=new Int32Array(m,(J+e*3)*4,e),Z=1/255;
for(let T=0;T<e;++T){let o=-v-e,u=0,N=T,M=0;for(;M<v;++M,N+=e){if(h[N]>128)o=M,u=h[N];x[N<<1]=M-o;x[(N<<1)+1]=u}o=x[N+=N-e-e],u=x[N+1];
for(;M>1;--M){if(x[N-=e+e]>o)x[N]=++o,x[N+1]=u;else o=x[N],u=x[N+1]}}for(let O=0;O<J;O+=e){var F=O+e,W=x[O<<1]*x[O<<1],f=0;
let $=j[0]=O,H=E[0]=O,A=W,G=A;for(let N=O+1;N<F;++N){var l=x[N<<1]*x[N<<1];while(f&&G>(H-N)*(H-N)+l){H=E[--f],$=j[f],A=x[$<<1]*x[$<<1],G=(H-$)*(H-$)+A}if(f||G<=(H-N)*(H-N)+l){var K=N-$,U=O+Math.floor((K*(N+$-O-O)+l-A)/(K<<1))+1;
if(U<F){H=E[++f]=U,$=j[f]=N,A=l,G=(H-$)*(H-$)+A}}else H=O,$=j[0]=N,A=l,G=(H-$)*(H-$)+A}for(let T=0;T<f;
++T){var z=j[T]<<1;L[T]=x[z]*x[z];p[T]=x[z+1]}let q=.5-x[(j[f]<<1)+1]*Z;for(let N=F-1;N>=O;--N){d[N]=Math.max(0,Math.sqrt((N-$)*(N-$)+A)+q);
if(f&&N==H){H=E[--f],$=j[f],A=L[f],q=.5-p[f]*Z}}}return d};B.style.ac2=function(h,e,v){var J=new Float64Array(e*v),m=0,d=e*v;
for(var T=0;T<d;T++)m|=h[T];if(m==0){J.fill(1e9);return}var x=B.style.Xg(h,e,v);for(var j=0;j<v;j++)for(var E=0;
E<e;E++){var T=j*e+E,L=x[T*2],p=x[T*2+1];if(L==0&&p==0){J[T]=0;continue}var Z=Math.sqrt(L*L+p*p),o=h[(j+p)*e+E+L]*(1/255);
J[T]=Z+.5-o}return J};B.style.aiG=function(h,e,v){return(.5-v)*h};B.style.Xg=function(h,e,v,J){var m=new Int16Array(e*v*2);
B.style.amI(h,m,e,v,128);return m};B.style.amI=function(h,e,v,J,m){var d=new Int32Array(v*J);B.style.a7z(h,d,v,J,m);
B.style.a4c(d,e,v,J)};B.style.a7z=function(h,e,v,J,m){var d=new Int32Array(J);for(var x=0;x<v;x++){var j=v+J;
for(var E=J-1;E>=0;E--){if(h[E*v+x]>m)j=0;else j++;d[E]=j}j=v+J;for(var E=0;E<J;E++){if(h[E*v+x]>m)j=0;
else j++;e[E*v+x]=j<d[E]?-j:d[E]}}};B.style.a4c=function(h,e,v,J){var m=(v+J)*(v+J),d=new Float64Array(v),x=new Uint16Array(v);
for(var j=0;j<J;j++){var E=j*v,L=0;x[0]=0;d[0]=-m;d[1]=+m;for(var p=1;p<v;p++){var Z=h[p+E]*h[p+E]+p*p,o=(Z-(h[x[L]+E]*h[x[L]+E]+x[L]*x[L]))/(2*p-2*x[L]);
while(o<=d[L]){L--;o=(Z-(h[x[L]+E]*h[x[L]+E]+x[L]*x[L]))/(2*p-2*x[L])}L++;x[L]=p;d[L]=o;d[L+1]=m}L=0;
for(var p=0;p<v;p++){while(d[L+1]<p)L++;var u=x[L]-p,N=h[x[L]+E],T=j*v+p<<1;e[T]=u;e[T+1]=N}}};B.style._2=function(h,e,v){if(v)for(var T=0;
T<h.length;T++){var J=h[T];if(J>0)h[T]=Math.max(0,Math.min(255,J+e*2*(B.style.qx(T)-128)))}else for(var T=0;
T<h.length;T++){var J=h[T];if(J>0)h[T]=Math.max(0,Math.min(255,J+Math.min(J*3,e*2*(B.style.qx(T)-128))))}};
B.style.qx=function(h){h=h^61^h>>16;h=h+(h<<3);h=h^h>>4;h=h*668265261;h=h^h>>15;return h&255};B.mT={};
B.mT.aG=function(h,e,v){var J=h.canvas;if(J.width!=e||J.height!=v){J.width=e;J.height=v}};B.mT.gy=function(h,e,v,J,m,d){var x=B._H(m.G),j=x==8?255:x==16?65535:1,E=1/j;
B.mT.aG(h,e,v);if(d==null)d=!1;var L=m.G,p=m.R,Z=!m.isEnabled;if(e*v==0)return;var o=new ImageData(e,v),u=o.data,N=1/e,M=1/v,O=m.color/255;
for(var T=0;T<v;T++)for(var F=0;F<e;F++){var W=(T*e+F)*4,f=Math.round(J.x+F*N*J.q),$=Math.round(J.y+T*M*J._),H=0;
if(f<p.x||f>=p.x+p.q||$<p.y||$>=p.y+p._)H=O;else H=L[($-p.y)*p.q+(f-p.x)]*E;H=255-m.DH+H*m.DH;if(d)H=170+Math.round(.4*(H-170));
u[W]=H;u[W+1]=H;u[W+2]=H;u[W+3]=255}h.putImageData(o,0,0);if(Z)B.mT.auE(h,e,v)};B.mT.aGL=[];B.mT.am8=function(h,e,v,J){var m,d,x;
m=Math.ceil(Math.max(e,v)*.35);d=e-m;x=v-m;var j=B.mT.aGL[m];if(j==null){var E=B.Ut(m,m);E.fillStyle="#eeeeee";
E.fillRect(0,0,m,m);var L=Math.round(m*.27),p=E.lineWidth=Math.max(1,Math.round(m*.12)),Z=p/2;E.strokeRect(1+Z,1+Z,m-p-2,m-p-2);
E.strokeRect(L+Z,L+Z,m-L-L-p,m-L-L-p);j=B.mT.aGL[m]=E.getImageData(0,0,m,m)}h.putImageData(j,d,x)};B.mT.acd=[];
B.mT.aCX=function(h,e,v){var J,m,d;J=Math.ceil(Math.max(e,v)*.35);m=e-J;d=v-J;var x=B.mT.acd[J];if(x==null){var j=B.Ut(J,J);
j.fillStyle="#eeeeee";j.fillRect(0,0,J,J);j.lineWidth=1;j.strokeRect(2.5,2.5,J-5,J-5);var E=new ImageData(3,3),L=E.data;
B.yV(L,4278190080);L[4*4]=L[4*4+1]=L[4*4+2]=238;j.putImageData(E,1,1);j.putImageData(E,J-4,1);j.putImageData(E,1,J-4);
j.putImageData(E,J-4,J-4);x=B.mT.acd[J]=j.getImageData(0,0,J,J)}h.putImageData(x,m,d)};B.mT.a67=function(h,e,v,J,m){B.mT.aG(h,e,v);
var d=e/J.q;if(e*v==0)return;h.fillStyle="#999999";h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,e,v);
var x=B.mT.aoj;if(x==null)x=B.mT.aoj=fL.gL.UX(!0,!0);x.strokeStyleLineWidth.v.val=1/d;h.fillStyle="#ffffff";
h.scale(d,d);B.s.vs(m.z,h,0,0);B.s.vs(m.z,h,0,0,x)};B.mT.agL=function(h,e,v,J,m){B.mT.aG(h,e,v);if(e*v==0)return;
h.setTransform(1,0,0,1,0,0);h.fillStyle="white";h.fillRect(0,0,e,v);var d=m.L,x;if(d.add.SoLd)x=c.L2.RT(d.add.SoLd.nonAffineTransform);
else if(d.add.vmsk)x=d.add.vmsk.VI();else if(d.add.TySh){if(d.em.NW==null)return;x=B.w.Tp(d.em.NW).g;
B.w.C(x,d.add.TySh.C,x)}var j=B.w.oS(x),E=Math.min(e/j.q,v/j._),L=j.q*E,p=j._*E;h.translate(-j.x*E+(e-L)*.5,-j.y*E+(v-p)*.5);
h.scale(E,E);m._5(J,h,null,null)};B.mT.asW=null;B.mT.fb=function(h,e,v,J,m,d,x,j,E){B.mT.aG(h,e,v);if(e*v==0)return;
var L=Math.max(e,v),p=B.mT.asW;if(p==null||p.width<L||p.height<L){B.mT.asW=p=new ImageData(L,L)}L=p.width;
var Z=p.data,o=J.q/e,u=J._/v,N=d.x,M=d.x+d.q,O=d.y,F=d.y+d._,W=B._H(m)-8;for(var T=0;T<v;T++)for(var f=0;
f<e;f++){var $=T*L+f,H=$*4,A=~~(J.x+f*o),G=~~(J.y+T*u),l=B.afr(T,f,2);if(A<N||A>=M||G<O||G>=F||E){Z[H]=l;
Z[H+1]=l;Z[H+2]=l;Z[H+3]=255}else{var K=(G-d.y)*d.q+(A-d.x)<<2;if(W!=24){var U=(m[K+3]>>>W)*(1/255);
Z[H]=(m[K+0]>>>W)*U+l*(1-U);Z[H+1]=(m[K+1]>>>W)*U+l*(1-U);Z[H+2]=(m[K+2]>>>W)*U+l*(1-U)}else{var U=m[K+3];
Z[H]=m[K+0]*U*255+l*(1-U);Z[H+1]=m[K+1]*U*255+l*(1-U);Z[H+2]=m[K+2]*U*255+l*(1-U)}Z[H+3]=255}}if(j!=null)for(var T=0;
T<Z.length;T+=4)Z[T]=Z[T+1]=Z[T+2]=Z[T+j];h.putImageData(p,0,0);if(x)B.mT.auE(h,e,v)};B.mT.aHO=function(h,e,v,J){B.mT.aG(h,e,v);
h.fillStyle=B.mT.SL(J.Clr.v);h.fillRect(0,0,e,v);B.mT.Gb(h,e,v)};B.mT.axR=null;B.mT.auI=function(h,e,v,J){B.mT.aG(h,e,v);
var m=h.canvas.width,d=h.canvas.height,x=B.mT.axR;if(x==null||x.width!=m||x.height!=d){h.fillStyle="#ffffff";
h.fillRect(0,0,e,v);h.fillStyle="#000000";h.font=""+v*.7+"px serif";h.fillText("T",(e-v*.43)/2,v*.75);
h.fillText("T",(e-v*.43)/2,v*.75);B.mT.axR=h.getImageData(0,0,m,d)}else h.putImageData(x,0,0)};B.mT.a8c=function(h,e,v){B.mT.aG(h,e,v);
h.clearRect(0,0,e,v);h.font=v*.7+"px serif";h.fillText(":(",(e-v*.43)/2,v*.7)};B.mT.arv=function(h,e,v,J){B.mT.aG(h,e,v);
var m=hy.get(J),d=h.canvas.width,x=B.mT.aDz[d+m];if(x==null){var j=PIMG["adj/"+m],E=gI.DU(j),L=UPNG.decode(E.buffer),p=new Uint8Array(UPNG.toRGBA8(L)[0]),Z=new fP(0,0,160,160),o=0,u=d-o*2,N=c.L2.X_([p,Z],new aJ(u/160,0,0,u/160,0,0)),M=new fP(0,0,d,d),O=B.U(M.$()*4);
B.B.lU("norm",N.buffer,N.R,O,M,N.R,1);x=B.mT.aDz[d+m]=new ImageData(new Uint8ClampedArray(O.buffer),d,d)}h.putImageData(x,0,0)};
B.mT.aDz={};B.mT.a1L=function(h,e,v,J){B.mT.aG(h,e,v);var m=h.canvas.width,d=h.canvas.height,x=h.getImageData(0,0,m,d);
B.Vh.YE(J.Grad.v,new Uint8Array(x.data.buffer),new fP(0,0,m,d),[1/m,0,0,1/d],m/2,d/2,!1,0,16711680,65280);
h.putImageData(x,0,0);B.mT.Gb(h,e,v)};B.mT.aCF=function(h,e,v,J,m){B.mT.aG(h,e,v);var d=h,x=d4.bI(J.Ptrn.v,m.add.Patt);
if(x==null)return;var j=x.$O[1];B.mT.fb(h,e,v,j,x.$O[0],j,!1);B.mT.Gb(d,e,v)};B.mT.auE=function(h,e,v){h.strokeStyle="#bb0000";
h.lineWidth=3;h.beginPath();h.moveTo(e*.15,v*.15);h.lineTo(e*.85,v*.85);h.moveTo(e*.85,v*.15);h.lineTo(e*.15,v*.85);
h.closePath();h.stroke()};B.mT.Gb=function(h,e,v){h.fillStyle="#eeeeee";h.fillRect(0,v*.75,e,v*.25);
h.beginPath();h.moveTo(0,v*.75);h.lineTo(e,v*.75);h.moveTo(e*.1,v*.875);h.lineTo(e*.9,v*.875);h.moveTo(e*.65,v*.825);
h.lineTo(e*.65,v*.95);h.closePath();h.stroke()};B.mT.SL=function(h){var e=B.Vh.SL(h),v=Math.round(e.n)<<16|Math.round(e.i)<<8|Math.round(e.b);
return"#"+B.zF(v)};B.s={};B.s.WE=function(h,e,v){var J=[],m=-1;for(var T=0;T<h.length;T++){var d=h[T];
if((d.c==0||d.c==3)&&d.Jb!=-1)m++;if(d.c>5||d.c==0||d.c==3)continue;if(e!=null&&e.indexOf(m)==-1)continue;
if(v!=null&&v.indexOf(T)==-1)continue;J.push(d.NA.x);J.push(d.NA.y);J.push(d.Q.x);J.push(d.Q.y);J.push(d.Xb.x);
J.push(d.Xb.y)}return J};B.s.Xk=function(h,e,v,J){var m=0,d=-1;for(var T=0;T<e.length;T++){var x=e[T];
if((x.c==0||x.c==3)&&x.Jb!=-1)d++;if(x.c>5||x.c==0||x.c==3)continue;if(v!=null&&v.indexOf(d)==-1)continue;
if(J!=null&&J.indexOf(T)==-1)continue;x.NA.Cg(h[m],h[m+1]);x.Q.Cg(h[m+2],h[m+3]);x.Xb.Cg(h[m+4],h[m+5]);
m+=6}};B.s.Ma=function(h,e,v,J){var m=B.s.WE(h,v,J);B.w.C(m,e,m);B.s.Xk(m,h,v,J)};B.s.aFi=function(h,e,v,J){var m=B.s.WE(h,v,J);
B.D.C(e,m);B.s.Xk(m,h,v,J)};B.s.awP=function(h,e,v,J){if(J==null){var m=B.s.arY(h,40,v);for(var T=0;
T<m.length;T++)h[T]=m[T]}var d=B.s.WE(h,v,J);B.ih.C(e,d,B.w.oS(d));B.s.Xk(d,h,v,J)};B.s.arY=function(h,e,v){var J=[],m=-1;
for(var T=0;T<h.length;T++){var d=h[T],x=d.length;if(d.c>5){J.push(B.t(d));continue}d=B.t(d);J.push(d);
if(d.Jb!=-1)m++;if(v&&v.indexOf(m)==-1){J=J.concat(h.slice(T+1,T+1+x))}else{var j=B.s.a5G(h,T+1,x);j=B.w.JH(j,e);
var E=B.s.aoQ(j);d.length=E.length;for(var L=0;L<E.length;L++)J.push(E[L])}T+=x}return J};B.s.a5G=function(h,e,v){var J={WQ:["M"],g:[]},m=h[e],d=h[e+v-1];
J.g.push(m.Q.x,m.Q.y);for(var T=1;T<v;T++){var x=h[e+T-1],j=h[e+T];J.WQ.push("C");J.g.push(x.Xb.x,x.Xb.y,j.NA.x,j.NA.y,j.Q.x,j.Q.y)}J.WQ.push("C");
J.g.push(d.Xb.x,d.Xb.y,m.NA.x,m.NA.y,m.Q.x,m.Q.y);return J};B.s.aoQ=function(h){var e=[],v=h.WQ,J=h.g,m=0,iW=J.length;
e.push({c:2,NA:new fq(J[iW-4],J[iW-3]),Q:new fq(J[0],J[1]),Xb:new fq(J[2],J[3])});for(var T=0;T<v.length-2;
T++){var d=T*6+4;e.push({c:2,NA:new fq(J[d],J[d+1]),Q:new fq(J[d+2],J[d+3]),Xb:new fq(J[d+4],J[d+5])})}return e};
B.s.awd=function(h){for(var T=0;T<h.length;T++){if(h[T].c>5)continue;var e=h[T].length;if(!(e==4||e==6||e==8)){T+=e;
continue}for(var v=0;v<e;v++){var J=h[T+1+v],m=h[T+1+(v+1)%e],d=Math.min(J.Q.x,m.Q.x),x=Math.min(J.Q.y,m.Q.y),j=0,E=0;
if(J.Q.x<m.Q.x){j=J.Q.y-x;E=j-(m.Q.x-d)}else{j=m.Q.y-x;E=j-(J.Q.x-d)}if(Math.abs(E)<.2*j)return j}}return-1};
B.s.jd=function(h,e,v){function J(o,u){var N=Math.min(o.x,u.x),M=Math.min(o.y,u.y),O=Math.max(o.x+o.q,u.x+u.q),F=Math.max(o.y+o._,u.y+u._);
return new fP(N,M,O-N,F-M)}var m=null,d=-1,x=!B.s.Ug(h);for(var T=0;T<h.length;T++){var j=h[T];if(j.c>5)continue;
if((j.c==0||j.c==3)&&j.Jb!=-1)d++;if(e!=null&&e.indexOf(d)==-1)continue;if(T==h.length-1)break;var E=j.c==3,L=j.length,p=j.Jb,Z=B.s.z9(h,T+1,L,E);
if(m==null)m=Z;else if(v)m=J(m,Z);else if(x){if(e!=null||p==0||p==-1||p==2)m=J(m,Z);else if(p==1)m=m;
else if(p==3){m=Z;x=!1}}else{if(e!=null||p==0||p==-1||p==1)m=J(m,Z);else if(p==2)m=m;else if(p==3)m=m.UP(Z)}T+=L}if(m==null||m.q<0||m._<0)m=new fP(0,0,0,0);
return m};B.s.aE3=new Float64Array(4);B.s.z9=function(h,T,e,v){var J=B.s.aE3;J[0]=1e30;J[1]=1e30;J[2]=-1e30;
J[3]=-1e30;var m=h[T+e-1];if(!v)B.s.a5A(m.Q.x,m.Q.y,m.Xb.x,m.Xb.y,h[T].NA.x,h[T].NA.y,h[T].Q.x,h[T].Q.y,J);
for(var d=T;d<T+e-1;d++){var x=h[d],j=h[d+1];B.s.a5A(x.Q.x,x.Q.y,x.Xb.x,x.Xb.y,j.NA.x,j.NA.y,j.Q.x,j.Q.y,J)}return new fP(J[0],J[1],J[2]-J[0],J[3]-J[1])};
B.s.a5A=function(h,e,v,J,m,d,x,j,E){if(h==v&&e==J&&m==x&&d==j){E[0]=Math.min(E[0],Math.min(h,x));E[1]=Math.min(E[1],Math.min(e,j));
E[2]=Math.max(E[2],Math.max(h,x));E[3]=Math.max(E[3],Math.max(e,j));return}var L=h,p=e,Z=h,o=e,u=40,N=1/(u-1);
for(var M=0;M<u;M++){var O=M*N,F=1-O,W=F*F*F,f=3*F*F*O,$=3*F*O*O,H=O*O*O,A=W*h+f*v+$*m+H*x,G=W*e+f*J+$*d+H*j;
if(A<L)L=A;else if(A>Z)Z=A;if(G<p)p=G;else if(G>o)o=G}if(L<E[0])E[0]=L;if(p<E[1])E[1]=p;if(Z>E[2])E[2]=Z;
if(o>E[3])E[3]=o};B.s.aaY=function(h,e){var v=h.length-3,J=e%v,m=Math.floor(J);if(e<0||m>=v)return null;
var d=h[3+m],x=h[3+(m+1)%v],j=d.Q,E=d.Xb,L=x.NA,p=x.Q,Z=J-m,o=1-Z,u=o*o*o*j.x+3*o*o*Z*E.x+3*o*Z*Z*L.x+Z*Z*Z*p.x,N=o*o*o*j.y+3*o*o*Z*E.y+3*o*Z*Z*L.y+Z*Z*Z*p.y;
return new fq(u,N)};B.s.vg=function(h,e){var v=B.w.Hd(h),J=v.gA;v.gA=Typr.U.pathToSVG({crds:J.g,cmds:J.WQ},e==null?2:e);
return v};B.s.n7=function(h){B.s.iO();var e,v=B.s.l8(h),J=[];for(var T=0;T<v.length;T++){var m=v[T][0],d=v[T][1];
if(Math.abs(m.area)<1e-5)J.push(m);else if(e==null)e=m;else{if(!m.closed)m.closed=!0;e=e[d](m);e.remove()}}if(e==null)e=new paper.CompoundPath(J);
else{if(e.segments)e=new paper.CompoundPath(e);for(var T=0;T<J.length;T++){e.addChild(J[T])}}var x=h.slice(0,2);
x=x.concat(B.s.Tu(e));B.s.kD(v);B.s.kD([[e]]);if(x[2])x[2].Jb=1;for(var T=3;T<x.length;T++)if(x[T].Jb!=null)x[T].Jb=-1;
return x};B.s.iO=function(){if(B.s.abd==null){var h=document.createElement("canvas");paper.setup(h);
B.s.abd=!0}};B.s.a37=function(h,e){B.s.iO();var v=[],J=B.s.l8(h),m=new paper.Path.Rectangle(new paper.Rectangle(e.x,e.y,e.q,e._));
m.remove();m.fillColor=new paper.Color(1,0,0);for(var T=0;T<J.length;T++){if(m.intersects(J[T][0])||m.contains(J[T][0].children[0].segments[0].point))v.push(T)}B.s.kD(J);
return v};B.s.v0=function(h,e,v,J){B.s.iO();var m=v?{curves:!0,tolerance:J}:null,d=new paper.Point(e.x,e.y),x=B.s.l8(h);
B.s.kD(x);for(var T=x.length-1;T>=0;T--){var j=x[T][0],E=j.hitTest(d,m);if(E!=null)return{yl:T,QU:v?E.location.index:null,OL:v?E.location.time:0}}return{yl:-1}};
B.s.Kb=function(h,e,v,J){var m=[[],[],[]];for(var T=0;T<h.length;T++){var d=h[T];if(d.c>5||d.c==0||d.c==3)continue;
var x=e.GX(d.Q),j=e.GX(d.NA),E=e.GX(d.Xb);if(v&&v.indexOf(T)==-1){if(J){if(v.indexOf(T-1)==-1)j=!1;if(v.indexOf(T+1)==-1)E=!1}else j=E=!1}if(x)m[0].push(T);
if(j)m[1].push(T);if(E)m[2].push(T)}m[3]=m[0].length+m[1].length+m[2].length;return m};B.s.agD=function(h,e,v){var J=h[e];
for(var m=e+1;m<v;m++)h[m-1]=h[m];h[v-1]=J};B.s.axb=function(h,e,v,J){var T,m,d,x=0;h=h.slice(0);e.sort(function(N,M){return N-M});
d=-1;for(T=2;T<h.length;){var j=h[T],E=j.length;if(j.Jb!=-1)d++;var L=x;while(L<e.length&&e[L]<T+1+E)L++;
if(x!=L){var p=e.slice(x,L);x=L;for(m=0;m<E;m++)if(p.indexOf(T+1+m)!=-1)h[T+1+m]=null;if(j.c==0){var Z=p[0]-(T+1);
while(Z!=0){B.s.agD(h,T+1,T+1+E);Z--}}var o=j;o.length=0;m=0;while(m<E&&h[T+1+m]==null)m++;while(m<E){var u=h[T+1+m];
if(u!=null)o.length++;else if(m<E+1&&h[T+1+m+1]&&J){o=h[T+1+m]={c:0,Jb:-1,length:0,rd:0,O1:0,rH:1}}m++}if(J)for(m=-1;
m<E;m++)if(h[T+1+m]&&h[T+1+m].c<3)h[T+1+m].c+=3;B.WU.YU(v,d)}T+=1+E}for(T=0;T<h.length;T++)if(h[T]==null){h.splice(T,1);
T--}d=0;for(T=2;T<h.length;T++){var j=h[T];if(j.length==0){if(h[T+1]&&h[T+1].Jb==-1)h[T+1].Jb=j.Jb;else if(j.Jb!=-1)v.splice(d,1);
h.splice(T,1);T--}else if(j.length!=null&&j.Jb!=-1)d++}return h};B.s.asO=function(h,e){var v=h.slice(0,2),J=-1;
for(var T=2;T<h.length;T++){if((h[T].c==0||h[T].c==3)&&h[T].Jb!=-1)J++;if(e.indexOf(J)==-1)v.push(h[T])}return v};
B.s.aF8=function(h,e){var v=h.slice(0,2),J=-1;for(var T=2;T<h.length;T++){if((h[T].c==0||h[T].c==3)&&h[T].Jb!=-1)J++;
if(e.indexOf(J)!=-1)v.push(h[T])}return v};B.s.abt=function(h){var e=0;for(var T=0;T<h.length;T++)if(h[T].c==0||h[T].c==3)e=T;
return h[e]};B.s.bJ=function(h){var e=-1;for(var T=0;T<h.length;T++)if((h[T].c==0||h[T].c==3)&&h[T].Jb!=-1)e++;
return e+1};B.s.n2=function(h,e,v){var J=-1;for(var T=0;T<h.length;T++)if((h[T].c==0||h[T].c==3)&&(v||h[T].Jb!=-1)){J++;
if(J==e)return T}return-1};B.s.ym=function(h,e,v){var J=-1;for(var T=0;T<h.length;T++)if((h[T].c==0||h[T].c==3)&&(v||h[T].Jb!=-1)){if(T>=e)return J;
J++}return J};B.s.lo=function(h,e){var v=-1,J=0;for(var T=0;T<h.length;T++){if((h[T].c==0||h[T].c==3)&&h[T].Jb!=-1)v++;
if(v==e)J++}return J};B.s.abv=function(h){var e=180;for(var T=0;T<h.length;T++){if(h[T].c!=0&&h[T].c!=3)continue;
var v=h[T].length;if(v<3)continue;for(var J=0;J<v;J++){var m=h[T+1+(J-1+v)%v],d=h[T+1+J],x=h[T+1+(J+1)%v],j=d.Q,E=d.NA.lS(j)?m.Xb:d.NA,L=d.Xb.lS(j)?x.NA:d.Xb;
if(j.lS(E)||j.lS(L))continue;var p=E.x-j.x,Z=E.y-j.y,o=L.x-j.x,u=L.y-j.y,E=Math.atan2(E.y-j.y,E.x-j.x)*180/Math.PI,L=Math.atan2(L.y-j.y,L.x-j.x)*180/Math.PI,N=Math.abs(L-E)%360,M=N>180?360-N:N;
if(M<e)e=M}}return e*Math.PI/180};B.s.Tu=function(h){var e=h.segments?[h]:h.children,v=[];for(var T=0;
T<e.length;T++){var J=e[T],m=J.segments,d=J.closed?0:3,x=v.length,j=null;if(m.length<=1)continue;v.push({c:d,length:m.length,Jb:0,rH:2});
for(var E=0;E<m.length;E++){var L=m[E],p=new fq(L.handleIn.x,L.handleIn.y),Z=new fq(L.handleOut.x,L.handleOut.y),o=new fq(L.point.x,L.point.y),u={c:d+1,NA:o.add(p),Q:o,Xb:o.add(Z)};
if(j==null)j=u;v.push(u);if(E+1==m.length&&fq.mr(j.Q,u.Q)<1e-5){v.pop();v[x].length--;j.NA=u.NA;if(d==3)for(var N=x;
N<v.length;N++)v[N].c-=3}}}return v};B.s.l8=function(h){B.s.iO();var e=[],v,J=new paper.Color(1,0,0);
function m(u,j){u.remove();u.closed=!j;u.fillRule="evenodd"}for(var T=0;T<h.length;T++){if(h[T].c>5)continue;
var d=h[T].length,x;if(T==h.length-1)break;var j=h[T].c==3;if(T==2){if(!B.s.D2(h))x="subtract";else x="unite"}else{if(h[T].Jb==0)x="exclude";
if(h[T].Jb==1)x="unite";if(h[T].Jb==2)x="subtract";if(h[T].Jb==3)x="intersect"}if(h[T].Jb!=-1){v=new paper.CompoundPath;
e.push([v,x]);v.fillRule="evenodd";v.fillColor=J}var E=[];for(var L=0;L<d;L++){var p=h[T+1+L],Z=p.NA.am(p.Q),o=p.Xb.am(p.Q);
E.push([[p.Q.x,p.Q.y],[Z.x,Z.y],[o.x,o.y]])}var u=new paper.Path(E);m(u,j);v.addChild(u);T+=d}return e};
B.s.kD=function(h){for(var T=0;T<h.length;T++)h[T][0].remove()};B.s.A3=function(h){for(var T=0;T<h.length;
T++){var e=h[T];if(e.Q==null)continue;if(!e.Q.lS(e.NA)||!e.Q.lS(e.Xb))return!1}return!0};B.s.au3=function(h){if(h.length<=5)return 0;
var e=0,v=h.length-3-1;for(var T=0;T<v;T++){var J=h[3+T],m=h[3+T+1];if(J.c==0||m.c==0)return 0;e+=(m.Q.x-J.Q.x)*(J.Q.y+m.Q.y)}e+=(h[3].Q.x-h[3+v].Q.x)*(h[3+v].Q.y+h[3+1].Q.y);
return-e*.5};B.s.Ug=function(h){var e=h[2],v=!1;if(h.length==2)v=h[1].all==0;else if(h[1].all==1){if(e.Jb==1||e.Jb==3)v=!0;
else v=!1}else{if(e.Jb==1||e.Jb==3||e.Jb==0)v=!0;else v=!1}return v};B.s.D2=function(h){var e=B.s.Ug(h);
for(var T=3;T<h.length;T++)if(h[T].Jb==3)e=!0;return e};B.s.anP=0;B.s.a13=0;B.s.aHo=0;B.s.a21=function(h,e,v,J){if(v.EG())return;
var m=v.$(),F=16384;B.s.anP+=m;if(m>B.s.a13){B.s.a13=m}var d=v.q,x=v._;if(J==null&&B.s.A3(h)&&h[2]&&h[2].Jb!=2){var j=!0;
for(var T=2;T<h.length;)if(h[T].length==2)T+=3;else{j=!1;break}if(j){return}if(B.s.nt(h)){e.fill(255);
var E=B.s.jd(h);if(E.$()!=m){var L=1-(E.x-v.x),p=1-(E.y-v.y),Z=1-(v.x+v.q-(E.x+E.q)),o=1-(v.y+v._-(E.y+E._)),u=~~(L*255),N=~~(Z*255),M=~~(p*255),O=~~(o*255);
e.fill(M,0,d);e[0]=~~(L*p*255);e[d-1]=~~(Z*p*255);for(var T=d;T<m;T+=d){e[T]=u;e[T+d-1]=N}e.fill(O,(x-1)*d,x*d);
e[m-d]=~~(L*o*255);e[m-1]=~~(Z*o*255)}return}}var W=Math.ceil(d/F),f=Math.ceil(x/F),$=Math.ceil(d/W),H=Math.ceil(x/f),A=Date.now();
for(var G=0;G<f;G++)for(var l=0;l<W;l++){var K=l*$,U=G*H,z=$,q=H,P=B.Ut(z,q);if(!B.s.Ug(h))P.fillRect(0,0,z,q);
B.s.vs(h,P,-v.x-K,-v.y-U,J);var g=new Uint8Array(P.getImageData(0,0,z,q).data.buffer);if(z==d&&q==x)B.Bq(g,e,3);
else B.Si(g,new fP(K,U,z,q),e,new fP(0,0,d,x))}};B.s.am6=function(h){var e=!1,v=!1,J=0,m=!1;for(var T=0;
T<h.length;T++){var d=h[T].Jb;if(d!=null){J++;if(d==-1)e=!0;if(d==1||d==2||d==3)v=!0;if(h[T].c==0)m=!0}}if(!e&&J<20&&m&&v)h=B.s.n7(h);
return h};B.s.vs=function(h,e,v,J,m,d){if(m!=null){h=B.s.am6(h)}for(var T=0;T<h.length;T++){if(h[T].c>5)continue;
var x=h[T].length;if(x==0)continue;if(T==h.length-1)break;var j=h[T].c==3,E=h[T].Jb;if(E!=-1&&m==null){var L=["xor","source-over","destination-out","source-in"][E];
e.globalCompositeOperation=L}if(h[T].Jb!=-1){e.beginPath();if(m)B.s.ba(fL.gL.th(m),e)}B.s.ay2(e,h,T+1,x,v,J,j);
if(j){}else e.closePath();if(h[T+1+x]==null||h[T+1+x].Jb!=-1){if(m){if(d)e.clip();e.stroke()}else e.fill(E==-1?"nonzero":"evenodd")}T+=x}e.globalCompositeOperation="source-over";
e.setLineDash([])};B.s.ba=function(h,e){var v=h.T8;e.setLineDash(h.fe);e.lineCap=["butt","round","square"][h.qP];
e.lineJoin=["miter","round","bevel"][h.Jv];e.lineWidth=h.Tt==1?v:v*2;e.miterLimit=h.Mm};B.s.ay2=function(h,e,T,v,J,m,d){var x=e[T],j=null;
h.moveTo(x.Q.x+J,x.Q.y+m);for(var E=T;E<T+v-1;E++){x=e[E];j=e[E+1];if(x.Q.lS(x.Xb)&&j.NA.lS(j.Q))h.lineTo(j.Q.x+J,j.Q.y+m);
else h.bezierCurveTo(x.Xb.x+J,x.Xb.y+m,j.NA.x+J,j.NA.y+m,j.Q.x+J,j.Q.y+m)}if(!d){x=e[E];j=e[T];if(x.Q.lS(x.Xb)&&j.NA.lS(j.Q))h.lineTo(j.Q.x+J,j.Q.y+m);
else h.bezierCurveTo(x.Xb.x+J,x.Xb.y+m,j.NA.x+J,j.NA.y+m,j.Q.x+J,j.Q.y+m)}};B.s.a1R=function(h,e){var v=[],J=e?4:1;
for(var T=0;T<h.length;T+=2){var m=new fq(h[T],h[T+1]);v.push({c:J,NA:m.O(),Q:m.O(),Xb:m.O()})}return v};
B.s.aFO=function(h,e,v){var J=(1-(v!=null?v:25)*.01)*10;if(J>0){for(var T=0;T<e.length;T++){var m=e[T],d=B.s.n2(h,m),x=B.s.lo(h,m),j=h.slice(d,d+x);
B.s.iO();var E=new paper.Path;E.remove();E.closed=!0;for(var L=1;L<j.length;L++)E.add(new paper.Point(j[L].Q.x,j[L].Q.y));
var p=E.simplify(J);if(p)h.splice(d,x,...B.s.Tu(E))}}return h};B.s.jr=function(h,e,v){var J=B.w.oS(h),m=Math.sqrt(Math.sqrt(J.$()))*.2,d=.2;
h=h.slice(0);var x=h.length,j=e?0:2;for(var E=0;E<5;E++)for(var T=j;T<h.length-j;T+=2){var L=(T-2+x)%x,p=(T+2)%x,Z=h[T],o=h[T+1],u=(h[L]+h[p])*.5,N=(h[L+1]+h[p+1])*.5;
h[T]=Z+(u-Z)*d;h[T+1]=o+(N-o)*d}if(v)return B.s.z0.Ad(h,null,!e);B.s.iO();var M=new paper.Path;M.remove();
M.closed=e;for(var T=0;T<h.length;T+=2)M.add(new paper.Point(h[T],h[T+1]));M.simplify(m);var O=[{c:6},{c:8,all:0}];
O=O.concat(B.s.Tu(M));return O};B.s.Zm=function(h,e,v){var J=h[e].length,m=h[e].c,d=0,x=h.slice(e+1,e+1+J);
for(var T=0;T<J;T++){var j=v[(T-1+J)%J],E=v[(T+1+J)%J],L=v[T];if(L!=0){var p=x[(T-1+J)%J].Q,Z=x[(T+0+J)%J].Q,o=x[(T+1+J)%J].Q,u=fq.mr(Z,p),N=fq.mr(Z,o),M=B.w.a1V(p.x,p.y,Z.x,Z.y,o.x,o.y,L)[0],O=Math.min(M,j==0?u:u/2,E==0?N:N/2);
L*=O/M;var F=B.w.awY(p.x,p.y,Z.x,Z.y,o.x,o.y,L),W={c:m+1,NA:new fq(F[2],F[3]),Q:new fq(F[2],F[3]),Xb:new fq(F[4],F[5])},f={c:m+1,NA:new fq(F[6],F[7]),Q:new fq(F[8],F[9]),Xb:new fq(F[8],F[9])};
h.splice(e+d+1,1,W,f);d++;h[e].length++}d++}};B.s.A3=function(h){for(var T=0;T<h.length;T++){var e=h[T],v=e.c;
if(v==1||v==2||v==4||v==5)if(!e.Q.lS(e.NA)||!e.Q.lS(e.Xb))return!1}return!0};B.s.nt=function(h){if(h.length!=7||h[2].length!=4||!B.s.A3(h))return!1;
for(var T=0;T<4;T++){var e=!0;for(var v=0;v<4;v++){var J=h[3+(T+v&3)],m=h[3+(T+v+1&3)];if(J.Q.x!=m.Q.x&&J.Q.y!=m.Q.y)e=!1}if(e)return!0}return!1};
B.s.ake=function(h){if(h.length<6)return 0;var e=h.length-2,v=0;for(var T=0;T<e;T+=2)v+=(h[T+2]-h[T])*(h[T+1]+h[T+3]);
v+=(h[0]-h[e])*(h[e+1]+h[1]);return-v*.5};B.s.aeU=function(h){h=s.eo.p3(h);var e=B.s.bJ(h);for(var v=0;
v<e;v++){var J=B.s.n2(h,v)+1,m=h[J-1].length,d=[];for(var T=0;T<m;T++){var x=h[J+T].Q;d.push(x.x,x.y)}var j=B.s.ake(d);
if(j<0)B.s.ack(h,J-1)}return h};B.s.ack=function(h,e){var v=e+1,J=h[e].length,m=[];for(var T=0;T<J;T++){var d=h[v+T],x=d.NA;
d.NA=d.Xb;d.Xb=x;m.push(d)}for(var T=0;T<J;T++)h[v+T]=m[J-1-T]};B.s.z0={};B.s.z0.Ad=function(h,e,v){var J=[{c:6},{c:8,all:0}],m=null;
J.push({c:v?3:0,Jb:1,length:0,rd:0,O1:0,rH:1});if(e==0||e==null)m=null;else if(e instanceof Array)m=e;
else{m=[];for(var T=0;T<h.length;T+=2)m.push(e)}J=J.concat(B.s.a1R(h,v));J[2].length=J.length-3;if(m)B.s.Zm(J,2,m);
return J};B.s.z0.ajI=function(h,e,v,J,m){var d=[],x=[],j=.553,E=1,L=-1;d.push({c:1,NA:new fq(0,j),Q:new fq(0,0),Xb:new fq(0,-j)});
m+=2;for(var T=0;T<m;T++){var p={c:1};if(T==0){p.Q=new fq(1,-1);p.NA=new fq(1-j,-1);p.Xb=new fq(1+j,-1)}else{var Z=-(T+2)*Math.PI/2,o=1+((T&1)==1?T-1:T),u=Math.sin(Z),N=Math.cos(Z);
E+=o*(u-N);L+=o*(N+u);p.Q=new fq(E,L);p.NA=new fq(E+o*N*j,L-o*u*j);if((T&1)==1)o+=2;p.Xb=new fq(E-o*N*j,L+o*u*j)}var M={c:1,NA:new fq(-p.Xb.x,-p.Xb.y),Q:new fq(-p.Q.x,-p.Q.y),Xb:new fq(-p.NA.x,-p.NA.y)};
d.push(p);if(T<m-2)x.push(M)}x.reverse();d=d.concat(x);var O=[{c:6},{c:8,all:0}];O.push({c:0,Jb:1,length:d.length,rd:0,O1:0,rH:1});
O=O.concat(d);var F=new aJ(v/m,0,0,v/m,0,0);F.rotate(J);F.translate(h,e);B.s.Ma(O,F);return O};B.s.z0.Rect=function(h,e,v,J,m){var d=[h,e,h+v,e,h+v,e+J,h,e+J];
return B.s.z0.Ad(d,m)};B.s.z0.BZ=function(h,e,v,J,m,d,x,j){var E=[],L=2*Math.PI/m;for(var T=0;T<m;T++)E.push(Math.cos(T*L-J),Math.sin(T*L-J));
if(x!=null){var p=B.w.oS(E),Z=p.q,o=p._,u=x/(Z/2),N=j/(o/2);for(var T=0;T<E.length;T+=2){E[T]=(E[T]-(p.x+Z/2))*u;
E[T+1]=(E[T+1]-(p.y+o/2))*N}v=1}var M=new aJ(v,0,0,v,0,0);M.translate(h,e);B.w.C(E,M,E);return B.s.z0.Ad(E,d)};
B.s.z0.aBo=function(h,e,v,J,m,d,x){var j=[],E=Math.PI/m;for(var T=0;T<m*2;T++){var L=(T&1)==0?1:x;j.push(L*Math.cos(T*E),L*Math.sin(T*E))}var p=new aJ(v,0,0,v,0,0);
p.rotate(J);p.translate(h,e);B.w.C(j,p,j);return B.s.z0.Ad(j,d)};B.s.z0.Yt=function(h,e,v,J,m){return B.s.z0.GD(0,h,e,v,J,m)};
B.s.z0.aAR=function(h,e,v,J,m,d){return B.s.z0.GD(1,h,e,v,J,m,d)};B.s.z0.nD=function(h,e,v,J,m,d){return B.s.z0.GD(2,h,e,v,J,m,d)};
B.s.z0.GD=function(h,e,v,J,m,d,x){var j=Math.sqrt((J-e)*(J-e)+(m-v)*(m-v)),E;d/=2;if(h==0)E=[-d,0,d,0,d,j,-d,j];
if(h==1){var L=d*2*x*1.3/1.5,p=d*x;E=[-d,0,d,0,d,j-L,p,j-L,0,j,-p,j-L,-d,j-L]}if(h==2){var L=x[3],p=x[2]/2,Z=L*(2/3)*x[4]/100,o=L-Z,u=L;
E=[];if(x[0])E.push(-d,o,-p,u,0,0,p,u,d,o);else if(d==0)E.push(0,0);else E.push(-d,0,d,0);if(x[1])E.push(d,j-o,p,j-u,0,j,-p,j-u,-d,j-o);
else if(d==0)E.push(0,j);else E.push(d,j,-d,j)}var N=new aJ(1,0,0,1,0,0);N.rotate(Math.atan2(-m+v,J-e)+Math.PI/2);
N.translate(e,v);B.w.C(E,N,E);return B.s.z0.Ad(E,0)};B.s.z0.FO=function(h,e,v,J){var m=[{c:6},{c:8,all:0}],Z=.553;
m.push({c:0,Jb:1,length:4,rd:0,O1:0,rH:1});var d=h,x=e,j=h+v,E=e+J,h=(d+j)/2,e=(x+E)/2,L=(d-j)/2,p=(x-E)/2;
m.push({c:1,NA:new fq(h-Z*L,e-p),Q:new fq(h,e-p),Xb:new fq(h+Z*L,e-p)});m.push({c:1,NA:new fq(h+L,e-Z*p),Q:new fq(h+L,e),Xb:new fq(h+L,e+Z*p)});
m.push({c:1,NA:new fq(h+Z*L,e+p),Q:new fq(h,e+p),Xb:new fq(h-Z*L,e+p)});m.push({c:1,NA:new fq(h-L,e+Z*p),Q:new fq(h-L,e),Xb:new fq(h-L,e-Z*p)});
return m};B.s.z0.a9e=function(h,e,v,J,m){var d=[{c:6},{c:8,all:0}];d.push({c:3,Jb:1,length:5,rd:0,O1:0,rH:1});
var x=(m-J)/4;for(var T=0;T<5;T++){var j=T*x,E=Math.cos(j),L=Math.sin(j),p=.553*(x/(Math.PI/2)),Z=L*p,o=-E*p,u=new fq(E,L);
d.push({c:4,NA:T==0?u.O():new fq(E+Z,L+o),Q:u,Xb:T==4?u.O():new fq(E-Z,L-o)})}var N=new aJ;N.rotate(-J);
N.scale(v,v);N.translate(h,e);B.s.Ma(d,N);return d};B.aI={};B.aI.c={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
B.aI.a4$={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
B.aI.bS=function(h){var e=h.warpStyle.v.warpStyle;if(e=="warpNone")return!0;else if(e=="warpCylinder")return!1;
else if(e=="warpCustom"){var v=!1,J=B.aI.aps(h);for(var T=0;T<4;T++)for(var m=0;m<4;m++){var d=J[T*2]-J[(m*4+T)*2],x=J[T*4*2+1]-J[(T*4+m)*2+1];
if(d*d>1||x*x>1)v=!0}return!v}else return h.warpValue.v==0&&h.warpPerspective.v==0&&h.warpPerspectiveOther.v==0};
B.aI.a7D=function(h){var e=B.t(h);e.v.classID="quiltWarp";e.v.deformNumRows={t:"long",v:4};e.v.deformNumCols={t:"long",v:4};
if(e.v.customEnvelopeWarp)B.aI.asT(e.v,[[0,1],[0,1]]);return e};B.aI.awt=function(h){var e;if(B.aI.KS(h.v)==16)e=B.t(h);
else e={t:"Objc",v:B.aI.U(B.aI.YO(h.v))};e.v.classID="warp";delete e.v.deformNumRows;delete e.v.deformNumCols;
var v=e.v.customEnvelopeWarp;if(v){delete v.v.quiltSliceX;delete v.v.quiltSliceY}return e};B.aI.KS=function(h){return h.deformNumRows.v*h.deformNumCols.v};
B.aI.U=function(h){var e={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(h){e.classID="quiltWarp";e.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:h.y}},Left:{t:"UntF",v:{type:"#Pxl",val:h.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:h.y+h._}},Rght:{t:"UntF",v:{type:"#Pxl",val:h.x+h.q}}}};
e.uOrder={t:"long",v:4};e.vOrder={t:"long",v:4};e.deformNumRows={t:"long",v:4};e.deformNumCols={t:"long",v:4}}return e};
B.aI.a6O=function(h,e,v){for(var T=0;T<h.length;T+=2){var J=h[T],m=h[T+1],d=(1-e)/2,x=1-d,j=d+J*(x-d);
m=.5+(m-.5)*j*2;var E=(1-v)/2,L=1-E,p=E+m*(L-E);J=.5+(J-.5)*p*2;h[T]=J;h[T+1]=m}};B.aI.Ak=function(h,e){return{id:h,type:"UnFl",uID:"#Pxl",arr:e}};
B.aI.asT=function(h,e){var v=B.aI.YO(h);function J(d,x){d=d.slice(0);var j=d.length,T;for(T=0;T<j;T++)d[T]*=x;
d[0]-=.6;d[j-1]+=.6;return d}var m=h.customEnvelopeWarp.v;m.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[B.aI.Ak("quiltSliceX",J(e[0],v.q))]}};
m.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[B.aI.Ak("quiltSliceY",J(e[1],v._))]}}};B.aI.a8C=function(h){var e=B.aI.YO(h);
function v(x,j){x=x.slice(0);var d=x.length,T,E=1e9,L=-E;for(T=0;T<d;T++){if(x[T]<E)E=x[T];if(x[T]>L)L=x[T]}for(T=0;
T<d;T++)x[T]=(x[T]-E)/(L-E);x[0]=0;x[d-1]=1;return x}var J=h.customEnvelopeWarp.v,m=[],d=["X","Y"];for(var T=0;
T<2;T++)m.push(v(J["quiltSlice"+(T==0?"X":"Y")].v.arr[0].arr.slice(0),T==0?e.q:e._));return m};B.aI.ahK=function(h,e){var v=[],J=[];
for(var T=0;T<e.length;T+=2){v.push(e[T]);J.push(e[T+1])}h.customEnvelopeWarp.v.meshPoints.v.arr=[B.aI.Ak("Hrzn",v),B.aI.Ak("Vrtc",J)]};
B.aI.aps=function(h){var e=[],v=h.customEnvelopeWarp.v.meshPoints.v.arr,J=v[0].arr,m=v[1].arr;for(var T=0;
T<J.length;T++)e.push(J[T],m[T]);return e};B.aI.hW=function(h,e){var v,J=h.warpStyle.v.warpStyle;if(J=="warpCustom")v=[h.deformNumCols.v,h.deformNumRows.v,B.aI.a8C(h),B.aI.aps(h)];
else{if(e==null)e=B.aI.YO(h);if(e.EG())e.q=e._=1;if(J=="warpCylinder"){var m=c.L2.RT(h.warpValues);v=B.aI.aI(J,m)}else{var d="warpPerspective";
v=B.aI.aI(J,h.warpValue.v/100,h.warpRotate.v.Ornt=="Hrzn",h[d].v/100,h[d+"Other"].v/100,e.q/e._)}B.aI.a9P(v[3],e)}return v};
B.aI.a9P=function(h,e){for(var T=0;T<h.length;T+=2){h[T]=e.x+h[T]*e.q;h[T+1]=e.y+h[T+1]*e._}};B.aI.adz=function(h){var e=Math.sin(h*Math.PI/2),v=Math.pow(h,1/3.5),J=(1-h)*e+h*v;
J=Math.pow(J,1.045);var m=.1725+.0573*J,d=1-(.96*e+.04*v);d=Math.pow(d,1.27);var x=1/129+(.167684-1/129)*d;
return[m,x]};B.aI.BV=function(h,e){h.warpStyle.v.warpStyle="warpCustom";h.deformNumCols.v=e[0];h.deformNumRows.v=e[1];
var v="customEnvelopeWarp";if(h[v]==null)h[v]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
B.aI.asT(h,e[2]);B.aI.ahK(h,e[3])};B.aI.YO=function(h){var e=h.bounds.v,v=e.Left.v.val,J=e.Rght.v.val,m=e.Top.v.val,d=e.Btom.v.val;
if(v==null){v=e.Left.v,J=e.Rght.v;m=e.Top.v,d=e.Btom.v}return new fP(v,m,J-v,d-m)};B.aI.aI=function(h,e,v,J,m,d){if(h=="warpCylinder"){var x=e,j=x[0],E=x[1],L=x[2],p=x[3],Z=x[4],o=x[5],u=x[6],N=[];
for(var M=0;M<4;M++)for(var O=0;O<13;O++)N.push(O/12,M/3);var F=L-j,W=E-p,f=Z*.5*(F/W),$=o*.5*(F/W),H=B.aI.adz(u),A=[0,0,0,0,0,H[0],.5],G=[0,0,0,0,f*.42,f,f],l=[0,0,0,0,$*.42,$,$];
for(var M=0;M<4;M++)for(var O=0;O<7;O++){var T=M*13+O;N[T*2]=A[O];var K=G[O],U=1+l[O],z=M/3;N[T*2+1]=K*(1-z)+U*z}for(var M=0;
M<4;M++)for(var O=0;O<6;O++){var T=M*13+O,q=M*13+12-O;N[q*2]=1-N[T*2];N[q*2+1]=N[T*2+1]}var z=H[1];return[13,4,[[0,z,.5,1-z,1],[0,1]],N]}var P=B.ih.U(0,0,1,1);
if(h!="warpNone"){if(!v)d=1/d;B.aI.aod(P,h,e,J,m,d);var g=P.slice(0);if(!v)for(var M=0;M<4;M++)for(var O=0;
O<4;O++){P[(M*4+O)*2]=g[(O*4+M)*2+1];P[(M*4+O)*2+1]=g[(O*4+M)*2]}if(e==0)B.aI.a6O(P,J,m);else{var a=new aJ;
a.translate(-.5,-.5);B.w.C(P,a,P);B.aI.aiK(P,m,J);a.ia();B.w.C(P,a,P)}}return[4,4,[[0,1],[0,1]],P]};
B.aI.aod=function(h,e,v,J,m,d){var x=new fP(0,0,d,1);for(var T=0;T<h.length;T+=2)h[T]*=d;for(var T=0;
T<4;T++){for(var j=0;j<4;j++){var E=2*(4*T+j),L=h[E]-x.x,p=h[E+1]-x.y,Z=L,o=p;if(v!=0){var u=x.q/2,N=x._/2;
Z-=u;o-=N;var M=Z,O=Z,F=-N,W=N,f=Math.abs(v),$=Math.tan((1-f)*Math.PI/2),H=Math.sqrt($*$+1),A=Math.atan2(1,$),G=Z/u*A,l=u*H,K=u*H+x._,U=Math.cos(A),z=Math.sin(A),q=B.aI.a3C(U,z),P=B.aI.arO(U,z),g=-$*u+q*l;
if(e=="warpArc"){M=Math.sin(G)*K;F=$*u-Math.cos(A)*K+N;O=Math.sin(G)*l;W=$*u-Math.cos(A)*l+N;if(j==1||j==2){M=j==1?-P*K:P*K;
O=j==1?-P*l:P*l;F=$*u+N-q*K;W=$*u+N-q*l}if(v<0){var a=M;M=O;O=a;a=F;F=-W;W=-a}}if(e=="warpArcLower"){if(j==1||j==2){O=j==1?-P*l:P*l;
W=v<0?N-g:N+g}}if(e=="warpArcUpper"||e=="warpArch"||e=="warpBulge"){if(j==1||j==2){M=j==1?-P*l:P*l;F=v<0?-N+g:-N-g}if(e=="warpArch"){O=M;
W=F+2*N}if(e=="warpBulge"){O=M;W=-F}}if(e=="warpFish"||e=="warpFlag"||e=="warpWave"){var w=j;if(e=="warpFlag")w=3-j;
if(w==1){F-=v*4*N;W+=v*4*N}if(w==2){F+=v*4*N;W-=v*4*N}if(e=="warpFlag"||e=="warpWave")F=W-2*N}if(e=="warpRise"){if(j<2)F=-N+v*N*4;
W=F+2*N}var y=(o+N)/x._;Z=M+y*(O-M);o=F+y*(W-F);if(e=="warpWave"){if(T==0)o=-N;if(T==3)o=N;if(T==1||T==2)o=2*N*(T/3-.5)*(1/3)+o*(2/3)}if(e=="warpFisheye"){if((T==1||T==2)&&(j==1||j==2)){Z=Z+4*Z*v;
o=o+4*o*v}}if(e=="warpInflate"){var S=2/3;if((T==1||T==2)&&(j==1||j==2)){Z=Z+.5*Z*v;o=o+.5*o*v}else if(T==1||T==2)Z=Z+S*Z*v;
else if(j==1||j==2)o=o+S*o*v}if(e=="warpSqueeze"){var S=2/3;if((T==1||T==2)&&(j==1||j==2)){if(v>0)Z=Z-S*Z*v;
else o=o+S*o*v}else if(T==1||T==2)Z=Z-S*Z*v;else if(j==1||j==2)o=o+S*o*v}if(e=="warpTwist"){if((T==1||T==2)&&(j==1||j==2)){var i=v*Math.PI/2,H=1+Math.abs(v)*2,C=Z*Math.cos(i)-o*Math.sin(i),Y=Z*Math.sin(i)+o*Math.cos(i);
Z=C*H;o=Y*H}}if(e=="warpShellLower"||e=="warpShellUpper"){if(e=="warpShellUpper"){T=3-T;o=-o}if(T>2||T==2&&(j==0||j==3)){if(v>0){var _=l+T/3*2*N;
Z=Math.sin(G)*_;o=-$*u-N+Math.cos(G)*_;if(j==1||j==2){Z=j==1?-P*_:P*_;o=-$*u-N+q*_}}else{if((j==1||j==2)&&T==3){Z=j==1?-P*l:P*l;
o=$*u-q*l+N}else if(T==2){o=N-N*(2/3)*Math.cos(G);Z=Z+N*(2/3)*Math.sin(G)}}}if(e=="warpShellUpper"){T=3-T;
o=-o}}Z+=u;o+=N}L=Z,p=o;h[E]=L+x.x;h[E+1]=p+x.y}}for(var T=0;T<h.length;T+=2)h[T]/=d};B.aI.aiK=function(h,e,v){var J=[];
for(var m=0;m<4;m++)J.push(1-v+m/3*2*v);var d=[];for(var m=0;m<4;m++)d.push(1-e+m/3*2*e);var x=[0,0,0,0],j=[0,0,0,0];
for(var T=0;T<4;T++)for(var m=0;m<4;m++){var E=2*(4*T+m),L=h[E],p=h[E+1];x[m]+=L/4;j[m]+=p/4}for(var T=0;
T<4;T++)for(var m=0;m<4;m++){var Z=J[m],E=2*(4*T+m),L=h[E],p=h[E+1],o=x[m],u=j[m];h[E]=o+Z*(L-o);h[E+1]=u+Z*(p-u)}var N=h.slice(0);
for(var T=0;T<4;T++)for(var m=1;m<3;m++){var E=2*(4*T+m),L=h[E],p=h[E+1],M=E+(m==1?-2:2),O=h[M],F=h[M+1];
h[E]=L-O;h[E+1]=p-F}var W=h[0],f=h[1],$=h[8],H=h[9],A=h[16],G=h[17],l=h[24],K=h[25],U=h[6],z=h[7],q=h[14],P=h[15],g=h[22],a=h[23],w=h[30],y=h[31],S=U-W,i=z-f,C=q-$,Y=P-H,_=g-A,t=a-G,I=w-l,r=y-K;
for(var T=0;T<4;T++){var n=2*T*4,Q=0,D=0,dG=T==1?.33:.66,R=1-dG;if(T==0){Q=S;D=i}if(T==1){Q=R*S+dG*-I;
D=R*i+dG*-r}if(T==2){Q=R*S+dG*-I;D=R*i+dG*-r}if(T==3){Q=-I;D=-r}h[n]=h[n]+Q/2;h[n+1]=h[n+1]+D/2;h[n+6]=h[n+6]-Q/2;
h[n+7]=h[n+7]-D/2}for(var T=0;T<4;T++)for(var m=1;m<3;m++){var E=2*(4*T+m),L=h[E],p=h[E+1],M=E+(m==1?-2:2),O=h[M],F=h[M+1],Z=2*T/3;
h[E]=O+Z*L;h[E+1]=F+Z*p}for(var T=1;T<3;T++)for(var m=1;m<3;m++){var E=2*(4*T+m),L=h[E],p=h[E+1],X=T==1?-8:-16,dx=T==1?16:8,jv=h[E+X],gB=h[E+X+1],hQ=h[E+dx],ah=h[E+dx+1],Z=T/3;
L=(1-Z)*jv+Z*hQ;p=(1-Z)*gB+Z*ah;h[E]=L;h[E+1]=p}B.w.aCL(N,h,h,e)};B.aI.a3C=function(h,e){return(4-h)*(1/3)};
B.aI.arO=function(h,e){return(1-h)*(3-h)/(3*e)};B.U5={};B.U5.amf=function(h,e,v,J,m,d,x,j,E,L){for(var p=0;
p<j;p++)for(var Z=0;Z<x;Z++){var o=3*(p*x+Z),u=p+d,N=Z+m,M=h[u*e+N];J[o]=M;J[o+1]=M;J[o+2]=M}};B.U5.fk=function(h,e,v,J,m,d,x,j,E,L){var p=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],Z=1/E,o=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],u=new Uint32Array(6);
for(var N=0;N<j;N++){for(var M=0;M<x;M++){var O=3*(N*x+M),F=N+d,W=M+m;u[0]=0;u[1]=0;u[2]=0;u[3]=0;u[4]=0;
u[5]=0;for(var T=0;T<16;T+=2){var f=W+o[T],$=F+o[T+1],H=f-E*~~(f*Z),A=$-E*~~($*Z),G=L[A*E+H];u[G]+=h[$*e+f];
u[G+3]++}var f=W,$=F,H=f-E*~~(f*Z),A=$-E*~~($*Z),G=L[A*E+H];u[G]=h[F*e+W];u[G+3]=1;J[O]=u[0]*p[u[3]];
J[O+1]=u[1]*p[u[4]];J[O+2]=u[2]*p[u[5]]}}};B.U5.avS=function(h,e,v){for(var T=0;T<v;T+=2)h[e+T]=h[e+T+1];
e=e+v;for(var T=0;T<v;T+=2)h[e+T+1]=h[e+T]};B.U5.ayl=function(h,e,v,J){for(var T=0;T<J;T+=2){var m=e+T*v;
h[m]=h[m+v];h[m+v+1]=h[m+1]}};B.U5.abS=function(h,e,v,J,m,d){var x=J[m],j=J[m+1],E=J[d],L=J[d+1],p=j+E>>>1;
h[e]=h[e+3]=h[v]=h[v+3]=x;h[e+1]=p;h[e+4]=j;h[v+1]=E;h[v+4]=p;h[e+2]=h[e+5]=h[v+2]=h[v+5]=L};B.U5.a38=function(h,e,v,J,m,d){var x=d*3;
for(var T=0;T<d;T+=2){var j=e+T,E=m+T*3;B.U5.abS(J,E,E+x,h,j,j+v)}};B.U5.abU=function(h,e,v,J,m,d,x){var j=d*3;
for(var T=0;T<x;T+=2){var E=e+T*v,L=m+T*d*3;B.U5.abS(J,L,L+j,h,E,E+v)}};B.U5.aDw=function(h,T,e){var v=h[T-e-e],J=h[T-e],m=h[T-2],d=h[T-1],x=h[T],j=h[T+1],E=h[T+2],L=h[T+e],p=h[T+e+e],Z=Math.abs(J-L),o=Math.abs(d-j),u=Math.abs(x-v)*2+Z,N=Math.abs(x-E)*2+o,M=Math.abs(x-m)*2+o,O=Math.abs(x-p)*2+Z,F=Math.min(u,Math.min(N,Math.min(M,O)));
if(F==u)return J*3+L+x-v>>2;if(F==N)return j*3+d+x-E>>2;if(F==M)return d*3+j+x-m>>2;return L*3+J+x-p>>2};
B.U5.bY=function(h,e,v,J,m){if(h<e&&e<v||h>e&&e>v)return~~(.5+J+(m-J)*(e-h)/(v-h));else return(J+m>>1)+(e+e-h-v>>2)};
B.U5.azv=function(h,e,T,v){var J=e[T-v-1],m=e[T-v+1],d=e[T],x=e[T+v-1],j=e[T+v+1],E=h[T-v-1],L=h[T-v+1],p=h[T],Z=h[T+v-1],o=h[T+v+1],u=Math.abs(L-Z)+Math.abs(h[T-v-v+2]-p)+Math.abs(p-h[T+v+v-2])+Math.abs(m-d)+Math.abs(d-x),N=Math.abs(E-o)+Math.abs(h[T-v-v-2]-p)+Math.abs(p-h[T+v+v+2])+Math.abs(J-d)+Math.abs(d-j);
if(u<N)return B.U5.bY(m,d,x,L,Z);else return B.U5.bY(J,d,j,E,o)};B.U5.ZK=function(h,e,v,J,m,d){h[e+0]=v[m];
h[e+1]=J[m];h[e+2]=B.U5.azv(v,J,m,d)};B.U5.er=function(h,e,v,J,m,d){var x=J[m];h[e+0]=B.U5.bY(J[m-1],x,J[m+1],v[m-1],v[m+1]);
h[e+1]=x;h[e+2]=B.U5.bY(J[m-d],x,J[m+d],v[m-d],v[m+d])};B.U5.Te=function(h,e,v,J,m,d){var x=J[m];h[e+0]=B.U5.bY(J[m-d],x,J[m+d],v[m-d],v[m+d]);
h[e+1]=x;h[e+2]=B.U5.bY(J[m-1],x,J[m+1],v[m-1],v[m+1])};B.U5.Ts=function(h,e,v,J,m,d){h[e+0]=B.U5.azv(v,J,m,d);
h[e+1]=J[m];h[e+2]=v[m]};B.U5.as$=function(h,e,v,J,m,d,x,j,E){var L=Date.now(),p=2,Z=e-2,o=2;if((m&1)==1){p++;
Z--}var u=v-2;if((d&1)==1){o++;u--}if(E==1||E==3){p++;Z--}var N=h.slice(0);B.U5.avS(N,0,e);B.U5.ayl(N,0,e,v);
B.U5.ayl(N,e-2,e,v);B.U5.avS(N,(v-2)*e,e);for(var M=o;M<u;M+=2)for(var O=p;O<Z;O+=2){var T=M*e+O,F=B.U5.aDw(N,T,e),W=B.U5.aDw(N,T+e+1,e);
N[T]=Math.max(0,F);N[T+e+1]=Math.max(0,W)}var f=x,$=j;if(d+j==v){$-=2;B.U5.a38(h,(v-2)*e+m,e,J,(j-2)*x*3,x)}if(m+x==e){f-=2;
B.U5.abU(h,d*e+m+x-2,e,J,(x-2)*3,x,j)}if(E==0)for(var M=0;M<$;M+=2)for(var O=0;O<f;O+=2){var H=(M+d)*e+O+m,A=(M*x+O)*3;
B.U5.ZK(J,A,h,N,H,e);B.U5.er(J,A+3,h,N,H+1,e);H+=e;A+=3*x;B.U5.Te(J,A,h,N,H,e);B.U5.Ts(J,A+3,h,N,H+1,e)}else if(E==1)for(var M=0;
M<$;M+=2)for(var O=0;O<f;O+=2){var H=(M+d)*e+O+m,A=(M*x+O)*3;B.U5.er(J,A,h,N,H,e);B.U5.ZK(J,A+3,h,N,H+1,e);
H+=e;A+=3*x;B.U5.Ts(J,A,h,N,H,e);B.U5.Te(J,A+3,h,N,H+1,e)}else if(E==2)for(var M=0;M<$;M+=2)for(var O=0;
O<f;O+=2){var H=(M+d)*e+O+m,A=(M*x+O)*3;B.U5.Ts(J,A,h,N,H,e);B.U5.Te(J,A+3,h,N,H+1,e);H+=e;A+=3*x;B.U5.er(J,A,h,N,H,e);
B.U5.ZK(J,A+3,h,N,H+1,e)}else if(E==3)for(var M=0;M<$;M+=2)for(var O=0;O<f;O+=2){var H=(M+d)*e+O+m,A=(M*x+O)*3;
B.U5.Te(J,A,h,N,H,e);B.U5.Ts(J,A+3,h,N,H+1,e);H+=e;A+=3*x;B.U5.ZK(J,A,h,N,H,e);B.U5.er(J,A+3,h,N,H+1,e)}};
B.raw={};B.raw.ai_=function(h){var e=Date.now(),v=h.width,J=h.height,m=0,d=0,x=v,j=J;if(h.t50829){var E=h.t50829;
m=E[1];d=E[0];x=E[3];j=E[2]}if(h.t50720&&h.t50720[0]*1.2>v){if(h.t50719){var L=h.t50719;m+=L[0]>>1<<1;
d+=L[1]>>1<<1}if(h.t50720){var p=h.t50720;x=m+p[0];j=d+p[1]}}var Z=x-m,o=j-d,u=B.raw.atA(h),N=h.t33422,M=h.t33421;
if(M){var p=M[0],O=N.slice(0);for(var F=0;F<p;F++)for(var W=0;W<p;W++){var f=(W+(m&1))%p,$=(F+(d&1))%p;
O[F*p+W]=N[$*p+f]}N=O}if(h.t277[0]==1&&N)B.raw.ae$(u,v,J,h,N);B.raw.Ri(2,h,u,v,J);var H=new Float32Array(Z*o*3);
if(h.t277[0]==1){if(M==null){B.U5.amf(u,v,J,H,m,d,Z,o)}else if(M.length!=2||M[0]!=2||M[1]!=2){console.log("Unknown CFA pattern size",M);
B.U5.fk(u,v,J,H,m,d,Z,o,M[0],N)}else{var A=h.t33422.join(","),G=0;if(A=="0,1,1,2")G=0;else if(A=="1,0,2,1")G=1;
else if(A=="2,1,1,0")G=2;else if(A=="1,2,0,1")G=3;else throw"Unknown CFA pattern "+A;if((Z&1)!=0||(o&1)!=0)throw"e";
B.U5.as$(u,v,J,H,m,d,Z,o,G)}}else{for(var F=0;F<o;F++)for(var W=0;W<Z;W++){var l=((F+d)*v+W+m)*3,K=(F*Z+W)*3;
H[K+0]=u[l+0];H[K+1]=u[l+1];H[K+2]=u[l+2]}}var U=H,z=H.length,q=B.raw.FB(h),P=1/q;for(var T=0;T<z;T+=3){H[T]=U[T]*P;
H[T+1]=U[T+1]*P;H[T+2]=U[T+2]*P}B.raw.Ri(3,h,H,Z,o);var g=h.eT,a=Z,w=o;if(g==1||g==9){}else{var y=B.raw.au1(g,Z,o),K=0;
a=y[0];w=y[1];var S=H.slice(0);for(var F=0;F<w;F++)for(var W=0;W<a;W++){var i=y[2]*W+y[3]*F+y[4],C=y[5]*W+y[6]*F+y[7],l=(C*Z+i)*3;
H[K]=S[l];H[K+1]=S[l+1];H[K+2]=S[l+2];K+=3}}return{su:H,Lp:a,wT:w}};B.raw.au1=function(h,e,v){var J=e,m=v;
if(!1){}else if(h==0)return[v,e,0,-1,e-1,1,0,0];else if(h==2)return[e,v,-1,0,e-1,0,1,0];else if(h==3)return[e,v,-1,0,e-1,0,-1,v-1];
else if(h==4)return[e,v,1,0,0,0,-1,v-1];else if(h==5)return[v,e,0,1,0,1,0,0];else if(h==6)return[v,e,0,1,0,-1,0,v-1];
else if(h==7)return[v,e,0,-1,e-1,-1,0,v-1];else if(h==8)return[v,e,0,-1,e-1,1,0,0];else throw"unknown orientation "+h};
B.raw.ae$=function(h,e,v,J,m){var d=Date.now(),P=0,w=0;if(B.raw.FB(J)>4e4){for(var T=0;T<h.length;T++)h[T]>>=1;
var x=["t50714","t50715","t50712","t50717"];for(var T=0;T<x.length;T++){var j=J[x[T]];if(j)for(var E=0;
E<j.length;E++)j[E]>>>=1}console.log("remapping to lower bit depth")}var L=~~Math.sqrt(m.length),p=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],Z=[];
for(var o=0;o<L;o++)for(var u=0;u<L;u++){var T=o*L+u,N=m[T],M=4,O=4,F=8,W=0,f=0;for(var E=0;E<18;E+=2){var $=(L+u+p[E])%L,H=(L+o+p[E+1])%L,A=m[H*L+$];
if(A==N){}else if(M==4){M=A;W=E}else if(O==4&&A!=M){O=A;f=E;break}}if(O<M){var G=O;O=M;M=G;G=f;f=W;W=G}if(M<N){var G=M;
M=N;N=G;G=W;W=F;F=G}if(O<M){var G=O;O=M;M=G;G=f;f=W;W=G}Z[T*3]=p[F+1]*e+p[F];Z[T*3+1]=p[W+1]*e+p[W];
Z[T*3+2]=p[f+1]*e+p[f]}var l=~~(.996*B.raw.FB(J)),K=~~(.992*B.raw.FB(J)),U=J.t50728;if(U==null||U[0]==0)U=[1,1,1];
var z=[],q=[0,0,0];for(var o=1;o<v-1;o++)for(var u=1;u<e-1;u++){var T=o*e+u,g=o%L*L+u%L,N=h[T+Z[g*3+0]],M=h[T+Z[g*3+1]],O=h[T+Z[g*3+2]],a=Math.max(N,M,O);
if(a>l)z.push(T);else if(a>K){q[0]+=N;q[1]+=M;q[2]+=O;P++}}if(z.length==0)return;if(P/(e*v)<1e-5){console.log("not enough semi-saturated pixels",P);
q=U}if(q[1]<q[w])w=1;if(q[2]<q[w])w=2;var y=[q[0]/q[w],q[1]/q[w],q[2]/q[w]],S=h.slice(0);for(var i=0;
i<z.length;i++){var T=z[i],o=~~(T/e),u=T-o*e,g=o%L*L+u%L,C=Math.min(65535,~~(h[T+Z[g*3+w]]*y[m[g]]));
if(C>S[T])S[T]=C}h.set(S)};B.raw.tY=function(h,e,v,J){var m=Math.round(h.length/3),d=gz.Bv(J[0],J[1]),x=B.raw.a8$(v,d),j=B.$c.multiply(B.$c.eq,x),E=Math.pow(2,v.t50730?v.t50730[0]:0);
j=B.$c.multiply(j,B.$c.wd(E,E,E));var L=B.raw.tY.aEB;if(L==null){L=B.raw.tY.aEB=new Float64Array(8e3);
for(var T=0;T<8e3;T++)L[T]=B.sq(T*(1/1e3))}for(var T=0;T<m;T++){var p=T<<2,Z=p-T,o=h[Z],u=h[Z+1],N=h[Z+2],M=j[0]*o+j[1]*u+j[2]*N,O=j[4]*o+j[5]*u+j[6]*N,F=j[8]*o+j[9]*u+j[10]*N;
if(M<0)M=0;if(O<0)O=0;if(F<0)F=0;e[Z]=L[~~(M*1e3)];e[Z+1]=L[~~(O*1e3)];e[Z+2]=L[~~(F*1e3)]}};B.raw.atA=function(h){var e=h.width,v=h.height,J=e*v*h.t277,m=new Uint16Array(J),d=null,x=0;
B.raw.aBF(h,m);B.raw.Ri(1,h,m,e,v);if(h.t50712){d=h.t50712;x=d.length-1;if(d[x]>65535)throw"too big values"}var j=B.raw.aul(h),E=B.raw.axA(h);
if(d==null)for(var T=0;T<J;T++)m[T]=Math.max(0,m[T]-j);else for(var T=0;T<J;T++){var L=m[T];if(L>x)L=x;
L=d[L];m[T]=Math.max(0,L-j)}return m};B.raw.aul=function(h){var e=h.t50714,v=e?e[0]:0,J=h.t50715,m=h.t50716;
if(J)v+=J[0][0]/J[0][1];if(m)v+=m[0][0]/m[0][1];return Math.round(v)};B.raw.axA=function(h){var e=null,v=0;
if(h.t50712){e=h.t50712;v=e.length-1}var J=h.t50717?h.t50717[0]:(1<<h.t258[0])-1;if(e)J=Math.min(J,e[v]);
return J};B.raw.FB=function(h){var e=B.raw.aul(h),v=B.raw.axA(h);return v-e};B.raw.aBF=function(h,e){var v=e.length,J=h.data,m=h.t258[0];
if(m!=16&&m!=14&&m!=12&&m!=10&&m!=8)throw"Unsupported Bits Per Sample:"+m;m=Math.round(J.length*8/v);
if(m==16&&h.isLE){B.N7(J,e);return}for(var T=0;T<v;T+=2){var d=0,x=0,j=0;if(m==16){d=T<<1;x=J[d]<<8|J[d+1];
j=J[d+2]<<8|J[d+3]}else if(m==14){var E=T*14,L=E>>>3,p=J[L]<<24|J[L+1]<<16|J[L+2]<<8|J[L+3];if((E&7)==0){x=p>>>18;
j=p>>>4&16383}else{x=p>>>14&16383;j=p&16383}}else if(m==12){d=T+(T>>>1);x=J[d]<<4|J[d+1]>>4;j=(J[d+1]&15)<<8|J[d+2]}else if(m==10){var E=T*10,L=E>>>3;
if((E&7)==0){x=(J[L]<<2|J[L+1]>>6)&1023;j=(J[L+1]<<4|J[L+2]>>4)&1023}else{x=(J[L]<<6|J[L+1]>>2)&1023;
j=(J[L+1]<<8|J[L+2]>>0)&1023}}else if(m==8){d=T;x=J[d];j=J[d+1]}e[T]=x;e[T+1]=j}};B.raw.aBp=function(h,e,v,J,m,d,x){var j=h-.499999,E=e-.499999,L=~~j,p=~~E,Z=j-L,o=E-p,u=(1-o)*(1-Z),N=(1-o)*Z,M=o*(1-Z),O=o*Z,F=(p*J+L)*3,W=((p+1)*J+L)*3,f=u*v[F]+N*v[F+3]+M*v[W]+O*v[W+3],$=u*v[F+1]+N*v[F+4]+M*v[W+1]+O*v[W+4],H=u*v[F+2]+N*v[F+5]+M*v[W+2]+O*v[W+5];
d[x]=f;d[x+1]=$;d[x+2]=H};B.raw.Ri=function(h,e,v,J,m){var d=e["t"+[51008,51009,51022][h-1]],p=0;if(d==null)return;
var x=J*m,j=b.d$,E=b.aN,L=new Uint8Array(d),fW=b.d$(L,p);p+=4;for(var Z=0;Z<fW;Z++){var o=j(L,p);p+=4;
var u=j(L,p);p+=4;var N=j(L,p);p+=4;var M=j(L,p);p+=4;if(!1){}else if(o==1&&h==3){var O=p,F=j(L,O);O+=4;
var W=E(L,O);O+=8;var f=E(L,O);O+=8;var $=E(L,O);O+=8;var H=E(L,O);O+=8;var A=E(L,O);O+=8;var G=E(L,O);
O+=8;O+=(F-1)*8*6;var l=E(L,O);O+=8;var K=E(L,O);O+=8;var U=l*J,z=K*m,q=Math.max(U,J-U),P=Math.max(z,m-z),g=Math.sqrt(q*q+P*P),a=1/g,w=v.slice(0);
for(var y=0;y<m;y++)for(var S=0;S<J;S++){var i=(S+.5-U)*a,C=(y+.5-z)*a,Y=i*i+C*C,_=W+f*Y+$*(Y*Y)+H*(Y*Y)*Y,t=A*(2*i*C)+G*(Y+2*i*i),I=G*(2*i*C)+A*(Y+2*C*C),r=Math.min(U+g*(_*i+t),J-1),n=Math.min(z+g*(_*C+I),m-1),Q=(y*J+S)*3;
B.raw.aBp(r,n,w,J,m,v,Q)}}else if(o==3&&h==3){var O=p,D=E(L,O);O+=8;var dG=E(L,O);O+=8;var R=E(L,O);
O+=8;var X=E(L,O);O+=8;var dx=E(L,O);O+=8;var l=E(L,O);O+=8;var K=E(L,O);O+=8;var U=l*J,z=K*m,q=Math.max(U,J-U),P=Math.max(z,m-z),g=Math.sqrt(q*q+P*P),a=1/g;
for(var y=0;y<m;y++)for(var S=0;S<J;S++){var i=(S+.5-U)*a,C=(y+.5-z)*a,Y=i*i+C*C,jv=1+(D+(dG+(R+(X+dx*Y)*Y)*Y)*Y)*Y,Q=(y*J+S)*3;
v[Q]=jv*v[Q];v[Q+1]=jv*v[Q+1];v[Q+2]=jv*v[Q+2]}}else if(o==4&&h==1){var O=p,gB=j(L,O);O+=4;var hQ=j(L,O);
O+=4;for(var T=0;T<x;T++)if(v[T]==gB)v[T]=v[T-2]+v[T+2]>>1}else if(o==5&&h==1){var O=p,ah=j(L,O);O+=4;
var kG=j(L,O);O+=4;var iZ=j(L,O);O+=4;for(var T=0;T<kG;T++){var bs=j(L,O);O+=4;var ey=j(L,O);O+=4;var T=bs*J+ey;
v[T]=v[T-2]+v[T+2]>>1}}else if(o==7&&h==1){var O=p,jp=b.gY(L,O);O+=16;var eh=j(L,O);O+=4;var dt=j(L,O);
O+=4;var jN=j(L,O),jX=j(L,O+4);O+=8;var jw=j(L,O);O+=4;var i7=new Uint16Array(jw);for(var T=0;T<jw;T++)i7[T]=b.hm(L,O+2*T);
var kn=jp.q,eK=jp._;for(var y=0;y<eK;y+=jN)for(var S=0;S<kn;S+=jX){var T=(jp.y+y)*J+(jp.x+S);v[T]=i7[v[T]]}}else if(o==8&&h==2){var O=p,jp=b.gY(L,O);
O+=16;var eh=j(L,O);O+=4;var dt=j(L,O);O+=4;var jN=j(L,O),jX=j(L,O+4);O+=8;var ee=j(L,O);O+=4;var az=[];
for(var T=0;T<=ee;T++)az[T]=b.aN(L,O+T*8);var k7=jp.x,al=jp.x+jp.q,kl=jp.y,b9=jp.y+jp._,h9=e.t50717[0],ge=1/h9;
for(var iN=0;iN<dt;iN++)for(var y=kl;y<b9;y+=jN){var Q=3*y*J+eh+iN;for(var S=k7;S<al;S+=jX){var T=Q+3*S,a8=v[T]*ge,dK=az[ee];
for(var f6=ee;f6>0;f6--)dK=dK*a8+az[f6-1];v[T]=Math.max(0,Math.min(65535,~~(dK*h9)))}}}else if(o==9&&h==2){var O=p,jp=b.gY(L,O),e3=!0;
O+=16;var eh=j(L,O);O+=4;var dt=j(L,O);O+=4;var jN=j(L,O),jX=j(L,O+4);O+=8;var fS=j(L,O),cf=j(L,O+4);
O+=8;var iG=E(L,O),eC=E(L,O+8);O+=16;var kH=E(L,O),i0=E(L,O+8);O+=16;var e5=j(L,O);O+=4;if(e5!=1)throw"more than one map plane";
var gA=fS*cf,bW=new Float32Array(gA);for(var f6=0;f6<gA;f6++)bW[f6]=b.SN(L,O+f6*4);for(var f6=0;f6<gA;
f6++)if(bW[f6]!=1)e3=!1;if(!e3){var kn=jp.q,eK=jp._,iL=.9999*(cf-1)/kn,h4=.9999*(fS-1)/eK;for(var y=0;
y<eK;y+=jN)for(var S=0;S<kn;S+=jX){var T=(jp.y+y)*J+(jp.x+S),iT=S*iL,hC=y*h4,dS=Math.floor(iT),il=Math.floor(hC),i6=iT-dS,co=hC-il,Q=il*cf+dS,bH=bW[Q]*(1-i6)+bW[Q+1]*i6,b5=bW[Q+cf]*(1-i6)+bW[Q+1+cf]*i6,ej=bH*(1-co)+b5*co;
v[T]=Math.max(0,Math.min(65535,~~(v[T]*ej+.5)))}}}else console.log("Unknown opcode "+o+" in OpcodeList"+h+". Length: "+M);
p+=M}};B.raw.a8$=function(h,e){var v=gz.Oy(e),J=B.raw.axY(h,e),m=B.$c.ia(J),d=gz.aiM(v,gz.Oy(gz.a7B)),x=B.$c.multiply(d,m);
return x};B.raw.azZ=function(h){var e=h.t50728,m=1;if(e==null||e[0]==0)e=[1,1,1];var v=e.slice(0);v.push(0);
var J={x:.34567,y:.3585};do{var d=B.$c.ia(B.raw.axY(h,J)),x=B.$c.QE(d,v),j=gz.aCI(x);m=Math.abs(J.x-j.x)+Math.abs(J.y-j.y);
J=j}while(m>1e-7);return J};B.raw.axY=function(h,e){var v=gz.acO(e),J=B.raw.anx,m=h.t50778?h.t50778[0]:0,d=h.t50779?h.t50779[0]:0,x=h.t50723,j=h.t50724;
if(x&&x.length==3)x=null;if(j&&j.length==3)j=null;var E=J(h.t50721,h.t50722,m,d,v.xb),L=J(x,j,m,d,v.xb);
E=E||[1,0,0,0,1,0,0,0,1];L=L||[1,0,0,0,1,0,0,0,1];var p=h.t50727?[h.t50727[0],0,0,0,h.t50727[1],0,0,0,h.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return B.$c.multiply(B.$c.Nf(p),B.$c.multiply(B.$c.Nf(L),B.$c.Nf(E)))};B.raw.anx=function(h,e,v,J,m){if(!h&&!e){return null}else if(h&&!e){return h}else if(m<v){return h}else if(m>J){return e}else{var d=(1/m-1/J)/(1/v-1/J),x=1-d,j=[];
for(var T=0;T<9;T++)j[T]=h[T]*d+e[T]*x;return j}};var gz={};gz.a7B={x:.34567,y:.3585};gz.acs=[{n:0,T3:.18006,GL:.26352,xr:-.24341},{n:10,T3:.18066,GL:.26589,xr:-.25479},{n:20,T3:.18133,GL:.26846,xr:-.26876},{n:30,T3:.18208,GL:.27119,xr:-.28539},{n:40,T3:.18293,GL:.27407,xr:-.3047},{n:50,T3:.18388,GL:.27709,xr:-.32675},{n:60,T3:.18494,GL:.28021,xr:-.35156},{n:70,T3:.18611,GL:.28342,xr:-.37915},{n:80,T3:.1874,GL:.28668,xr:-.40955},{n:90,T3:.1888,GL:.28997,xr:-.44278},{n:100,T3:.19032,GL:.29326,xr:-.47888},{n:125,T3:.19462,GL:.30141,xr:-.58204},{n:150,T3:.19962,GL:.30921,xr:-.70471},{n:175,T3:.20525,GL:.31647,xr:-.84901},{n:200,T3:.21142,GL:.32312,xr:-1.0182},{n:225,T3:.21807,GL:.32909,xr:-1.2168},{n:250,T3:.22511,GL:.33439,xr:-1.4512},{n:275,T3:.23247,GL:.33904,xr:-1.7298},{n:300,T3:.2401,GL:.34308,xr:-2.0637},{n:325,T3:.24792,GL:.34655,xr:-2.4681},{n:350,T3:.25591,GL:.34951,xr:-2.9641},{n:375,T3:.264,GL:.352,xr:-3.5814},{n:400,T3:.27218,GL:.35407,xr:-4.3633},{n:425,T3:.28039,GL:.35577,xr:-5.3762},{n:450,T3:.28863,GL:.35714,xr:-6.7262},{n:475,T3:.29685,GL:.35823,xr:-8.5955},{n:500,T3:.30505,GL:.35907,xr:-11.324},{n:525,T3:.3132,GL:.35968,xr:-15.628},{n:550,T3:.32129,GL:.36011,xr:-23.325},{n:575,T3:.32931,GL:.36038,xr:-40.77},{n:600,T3:.33724,GL:.36051,xr:-116.45}];
gz.acO=function(h){var e=gz.acs,v=2*h.x/(1.5-h.x+6*h.y),J=3*h.y/(1.5-h.x+6*h.y),m=0,d=0,x=0;for(;x<31;
x++){m=J-e[x].GL-e[x].xr*(v-e[x].T3);if(x>0&&m<0){break}d=m}while(x>=e.length)x--;m/=Math.sqrt(1+e[x].xr*e[x].xr);
d/=Math.sqrt(1+e[x-1].xr*e[x-1].xr);var j=d/(d-m),E=1e6/((e[x].n-e[x-1].n)*j+e[x-1].n),L=v-((e[x].T3-e[x-1].T3)*j+e[x-1].T3),p=J-((e[x].GL-e[x-1].GL)*j+e[x-1].GL),Z=Math.sqrt(1+e[x].xr*e[x].xr),o=1/Z,u=e[x].xr/Z,N=Math.sqrt(1+e[x-1].xr*e[x-1].xr),M=1/N,O=e[x-1].xr/N,F=(o-M)*j+M,W=(u-O)*j+O,f=Math.sqrt(F*F+W*W);
F/=f;W/=f;var $=(L*F+p*W)*-3e3;return{xb:E,ge:$}};gz.Bv=function(h,e){var v=gz.acs,J=1e6/h,m=1;for(;
m<31;m++){if(J<v[m].n){break}}var d=(v[m].n-J)/(v[m].n-v[m-1].n),x=(v[m-1].T3-v[m].T3)*d+v[m].T3,j=(v[m-1].GL-v[m].GL)*d+v[m].GL,E=Math.sqrt(1+v[m].xr*v[m].xr),L=1/E,p=v[m].xr/E,Z=Math.sqrt(1+v[m-1].xr*v[m-1].xr),o=1/Z,u=v[m-1].xr/Z,N=(o-L)*d+L,M=(u-p)*d+p,O=Math.sqrt(N*N+M*M);
N/=O;M/=O;x+=N*e/-3e3;j+=M*e/-3e3;return{x:1.5*x/(x-4*j+2),y:j/(x-4*j+2)}};gz.aCI=function(h){var e=h[0]+h[1]+h[2];
return{x:h[0]/e,y:h[1]/e}};gz.Oy=function(h){return{x:h.x/h.y,y:1,It:(1-h.x-h.y)/h.y}};gz.aiM=function(h,e){var v=B.$c.Nf([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),J=[h.x,h.y,h.It,0],m=[e.x,e.y,e.It,0];
J=B.$c.QE(v,J);m=B.$c.QE(v,m);var d=m[0]/J[0],x=m[1]/J[1],j=m[2]/J[2],E=B.$c.Nf([d,0,0,0,x,0,0,0,j]),L=B.$c.ia(v);
return B.$c.multiply(B.$c.multiply(L,E),v)};B.raw.pO={};B.raw.l2=function(h){h*=8;var e=[8,10,12,14,16];
for(var v in CAMS){var J=CAMS[v];if(J.length==4)continue;var m=J[4],d=J[5];for(var T=0;T<e.length;T++)if(m*d*e[T]==h)return[v,e[T]]}var x=[[4e3,3e3]];
for(var T=0;T<x.length;T++){var J=x[T],m=J[0],d=J[1];for(var T=0;T<e.length;T++)if(m*d*e[T]==h)return[J,e[T]]}return null};
B.raw.aFN=function(h){var h=new Uint8Array(h);for(var T=0;T<h.length;T+=2){var e=h[T];h[T]=h[T+1];h[T+1]=e}var v=B.raw.l2(h.length),J=CAMS[v[0]];
if(J==null)J=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,v[0][0],v[0][1]];var m=J[4],d=J[5],x=Math.max(J[2],116),j={data:h,eT:1,width:m,height:d,t256:[m],t257:[d],t258:[v[1]],t277:[1],t33421:[2,2],t33422:B.raw.m7[J[1]],t50706:[1,2,0,0],t50714:[x,x,x,x],t50717:[J[3]],t50721:J[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var T=0;T<9;T++)j.t50721[T]/=1e4;return j};B.raw.ard=function(h){if(h==null||h.length==0||typeof h[0]=="number")return h;
var e=[];for(var T=0;T<h.length;T++)e[T]=h[T][1]==0?0:h[T][0]/h[T][1];return e};B.raw.m7=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
B.raw.normalize=function(h,e){if(h.t50706!=null||h.t271[0].startsWith("Hasselblad")){var v=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var T=0;T<v.length;T++)if(h["t"+v[T]]!=null)h["t"+v[T]]=B.raw.ard(h["t"+v[T]]);if(h.t271&&h.t271[0].startsWith("Hasselblad")){h.t50706=[1,2,0,0];
h.t33422=B.raw.m7[1];h.t50723=[1,0,0,0,1,0,0,0,1];h.t50778=[17];if(!h.isLE)for(var T=0;T<h.data.length;
T+=2){var J=h.data[T];h.data[T]=h.data[T+1];h.data[T+1]=J}}if(h.t272&&h.t272[0]=="HERO10 Black"){h.t50728=[.469725,1,.739884];
if(!h.t305[0].startsWith("Adobe")){var m=new Uint16Array(h.data.buffer);for(var T=0;T<m.length;T++)m[T]>>>=2}}return}var d=h.t258[0],x=h.exifIFD,e=new Uint8Array(e);
h.t50706=[1,2,0,0];var j=h.t271[0].trim(),E=h.t272[0].trim();if(h.t50708==null)h.t50708=[j+" "+E];var L=(j+":"+E).toLowerCase().trim(),p=CAMS[L];
if(L=="panasonic:dmc-lx2")p[3]=1<<16;if(p==null){alert("Unknown camera:"+L);if(L.startsWith("canon"))p=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(p!=null){var Z=p[2];
h.t50714=[Z,Z,Z,Z];if(h.t272=="Canon EOS REBEL T3")p[3]=13584;h.t50717=[p[3]];h.t50721=p[0].slice(0);
for(var T=0;T<9;T++)h.t50721[T]=h.t50721[T]*(1/1e4)}h.t50723=[1,0,0,0,1,0,0,0,1];if(h.t50728==null)h.t50728=[.35,1,.6];
h.t50778=[17];if(j.startsWith("OLYMPUS")||j.startsWith("OM Digital Solutions")){h.t33422=[2,1,1,0];var o=x.t41730,O;
if(o)h.t33422=[o[4],o[5],o[6],o[7]];var u=h.t50341;if(u==null)u=x.t36864;var N=B.raw.a73(u.buffer,h);
h.data=new Uint8Array(N.buffer);if((h.height&1)==1)h.t50829=[0,0,h.height-1,h.width];var M=x.makerNote,F=M.t8256;
if(F)O=F.t256;else O=M.t12288.t256;if(O)h.t50728=[256/O[0],1,256/O[1]]}else if(h.t271[0].startsWith("SONY")){var W=UTIF["_bin"+(h.isLE?"LE":"BE")],f=h.t28688,U;
if(JSON.stringify(f)!="[8000,10400,12900,14100]")console.log(f);if(f&&f.join("")!="0000"){var $=[0,0,0,0,0,4095],H=new Uint16Array(16385);
for(var T=0;T<4;T++){var A=f[T]>>>2;$[T+1]=A;if(A>4095)throw"e"}for(var T=0;T<16385;T++)H[T]=T;for(var T=0;
T<5;T++)for(var G=$[T]+1;G<=$[T+1];G++)H[G]=H[G-1]+(1<<T);var l=e.length*8<h.width*h.height*d;if(l)h.t50712=H}else console.log("no curve");
var K=h.dngPrvt;if(K){var z=K.t29184[0],q=K.t29185[0],P=(h.isLE?b.bB:b.d$)(K.t29217,0),g=new Uint32Array(e.slice(z,z+(q&4294967292)).buffer),a=new Uint32Array(q>>>2);
B.raw.anl(g,a,q>>>2,P);var w=new Uint8Array(z+q);w.set(new Uint8Array(a.buffer),z);var y=[];UTIF._readIFD(W,w,z,y,0,!1);
var S=y.pop(),i=S.t29458;h.t50728=[i[1]/i[0],1,i[1]/i[3]];h.t50730=[.5];var C=S.t29891;h.t50829=[C[1],C[0],C[3],C[2]]}else if(x.makerNote&&x.makerNote.t8208){var U=x.makerNote,Y=U.t8208,_=Y.length,t=0,I=new Uint8Array(256);
for(var T=249;T<256;T++)I[T]=T;for(var T=0;T<249;T++)I[T*T*T%249]=T;for(var T=0;T<_;T++)Y[T]=I[Y[T]];
if(_==6604)t=612;else throw"e";var i=[];for(var T=0;T<3;T++)i.push(b.Iy(Y,t+T*2));console.log(i);h.t50728=[i[1]/i[0],1,i[1]/i[2]]}else console.log("no white balance");
if(h.width*h.height*1.5==h.t279[0]){Z=Z>>>2;h.t50714=[Z,Z,Z,Z];h.t50717=[p[3]>>>2]}}else if(h.t271[0].startsWith("Canon")){var e=h.data,r=e.slice(0),n=h.t50752,Q=[],dG=0;
if(n==null||n[0]==0&&n[1]==0)Q.push(h.width);else{for(var T=0;T<n[0];T++)Q.push(n[1]);Q.push(n[2])}var D=h.width*2,R=h.t50885&&h.t50885[0]==4;
if(!R)for(var X=0;X<Q.length;X++){var dx=Q[X],jv=2*dG,gB=2*dx;for(var hQ=0;hQ<h.height;hQ+=2){var ah=hQ*D+jv,kG=h.height*jv+hQ*gB;
for(var T=0;T<gB;T++){e[ah+T]=r[kG+T];e[ah+T+D]=r[kG+T+gB]}}dG+=dx}else{var iZ=new Uint16Array(r.buffer),bs=new Uint16Array(e.buffer);
function ey(eh,dt){bs[dt*3+0]=iZ[eh*3+0];bs[dt*3+1]=iZ[eh*3+1];bs[dt*3+2]=iZ[eh*3+2]}var jp=(n[0]*n[1]+n[2])/h.width;
for(var X=0;X<Q.length;X++){var dx=Math.round(Q[X]/jp);for(var hQ=0;hQ<h.height;hQ++){var eh=h.height*dG+(jp==3?(hQ>>>3)*8+[0,4,1,5,2,6,3,7][hQ&7]:hQ)*dx,dt=hQ*h.width+dG;
for(var jN=0;jN<dx;jN++)ey(eh+jN,dt+jN)}dG+=dx}var jX=new Uint16Array(e.buffer),jw=new Uint16Array(1),i7=new Int16Array(jw.buffer);
for(var T=0;T<jX.length;T+=3){var kn=jX[T],eK=jX[T+1],ee=jX[T+2];jw[0]=eK<<2;eK=i7[0]>>2;jw[0]=ee<<2;
ee=i7[0]>>2;jX[T+0]=Math.max(0,ee+kn);jX[T+1]=Math.max(0,(kn<<12)-eK*778-(ee<<11)>>12);jX[T+2]=Math.max(0,eK+kn)}}var U=x.makerNote,eh=U.t224;
if(eh){var z=h.t50719=[eh[5],eh[6]],az=h.t50720=[eh[7]+1-eh[5],eh[8]+1-eh[6]],k7=U.t154;if(k7){z[0]+=k7[3];
z[1]+=k7[4];az[0]=k7[1];az[1]=k7[2]}}if(U.t16385){var al=U.t16385,kl=al.length;if(al instanceof Array)al=new Uint16Array(al);
if(al instanceof Uint8Array)al=new Int16Array(al.slice(0).buffer);var b9=al[0];if(kl==1273||kl==1275)b9=66;
var h9=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
h9[-3]=[71,264,662];h9[-4]=[71,333,1385];h9[66]=[63,251,483];h9[32]=[85,343,810];h9[33]=[85,343,810];
h9[34]=[105,363,640];h9[48]=[105,363,640];var ge=h9[b9];if(ge==null){if(kl==582)ge=[25,166,null];if(kl==653)ge=[34,286,null]}var t=ge[0],iN=ge[1],a8=ge[2];
if(t)h.t50728=[al[t+1]/al[t],1,al[t+1]/al[t+3]];if(iN)h.t50714=[al[iN],al[iN],al[iN],al[iN]];if(a8)h.t50717=[al[a8]]}else{h.t50728=[.4,1,.6]}if(R){h.t277=[3];
h.t50728=[1,1,1];h.t50714=[0,0,0,0]}}else if(h.t271[0].startsWith("NIKON")){var U=x.makerNote,dK=h.isLE?b.Iy:b.WW,kH=0,i0=0,iL,co=0;
if(U.t61){var f6=U.t61,fS=[];for(var T=0;T<4;T++)fS[T]=f6[T]/Math.pow(2,14-d);h.t50714=fS}if(U.t3585){var cf=U.t3585,T=0,z=22;
while(z<cf.length&&T!=-4){var iG=b.bB(cf,z);z+=4;z+=14;T=b.bB(cf,z)-4;z+=4;if(iG==1990472198){if(cf[z]!=0)throw"Flip"}if(iG==1990472199){var eC=b.Iy(cf,z);
if(eC==0)h.eT=1;else if(eC==270)h.eT=8;else throw"e "+eC}z+=T}}if(U.t183){var e5=U.t183,az=[];for(var T=0;
T<6;T++)az.push(dK(e5,16+T*2));kH=az[0];i0=az[1]}if(U.t3614){var gA=U.t3614;kH=b.bB(gA,8);i0=b.bB(gA,12)}if(kH!=0&&Math.max(kH,i0)<Math.max(h.width,h.height)){if(kH<i0){var J=kH;
kH=i0;i0=J}var jN=h.width-kH>>>1,hQ=h.height-i0>>>1;h.t50829=[hQ,jN,hQ+i0,jN+kH]}else h.t50829=[8,8,h.height-8,h.width-56];
var bW=U.t69;if(bW){var e3=bW[1];if((e3&1)==1)e3++;h.t50829=[e3,bW[0],e3+bW[3],bW[0]+bW[2]]}if(U.t12){var h4=B.raw.ard(U.t12);
iL=[1/h4[0],1,1/h4[1]]}else if(U.t151){var iT=B.raw.a7Z(U,151),hC=iT[0],cg=iT[1],dS=iT[2];if(hC=="0100"&&cg>=80){var il=[];
for(var T=0;T<4;T++)il.push(dK(dS,68+T*2));iL=[il[3]/il[0],1,il[3]/il[1]]}else if(hC=="0102"){var il=[];
for(var T=0;T<4;T++)il.push(dK(dS,6+T*2));iL=[il[1]/il[0],1,il[1]/il[3]]}else if(hC=="0103"&&cg>=26){var il=[];
for(var T=0;T<4;T++)il.push(dK(dS,16+T*2));iL=[il[1]/il[0],1,il[3]/il[2]]}else if(hC=="0204"&&cg>=564||hC=="0205"&&cg>=284){var z=hC=="0204"?6:14,il=[];
for(var T=0;T<4;T++)il.push(dK(dS,z+T*2));iL=[il[1]/il[0],1,il[1]/il[3]]}else throw"e"}else console.log("no white balance info");
if(E=="NIKON D1")iL=[1,1,1];if(iL)h.t50728=iL;var i6=U.t150?U.t150:U.t140;if(i6){var bH=i6[co++],b5=i6[co++],dH;
if(bH==73||b5==88)co+=2110;co+=8;var ej=1<<d&32767,id=dK(i6,co);co+=2;var H=[];if(id>1)dH=Math.floor(ej/(id-1));
if(bH==68&&b5==32&&dH>0){for(T=0;T<id;T++){H[T*dH]=dK(i6,co);co+=2}for(T=0;T<ej;T++)H[T]=Math.floor((H[T-T%dH]*(dH-T%dH)+H[T-T%dH+dH]*(T%dH))/dH)}else if(bH!=70&&id<=16385){ej=id;
for(var T=0;T<id;T++)H[T]=dK(i6,co+2*T);co+=2*id}var E=h.t272[0];if(H.length!=0)h.t50712=new Uint16Array(H);
if(h.t258[0]==14&&h.t50717&&h.t50717[0]<1e4){console.log("fixing white");h.t50717[0]*=4}}}else if(j.startsWith("FujiFilm")){}else if(j.startsWith("Panasonic")){if(h.t277==null)h.t277=[1]}else alert("Unknown camera "+j)};
B.raw.anl=function(h,e,v,J){if(0==v)return;var m=new Uint32Array(128),d=new Uint8Array(m.buffer),x=127,j=0,E=0;
for(var x=0;x<4;x++)m[x]=J=(J*15625>>>0)*3125+1>>>0;m[3]=m[3]<<1|(m[0]^m[2])>>>31;for(var x=4;x<127;
x++)m[x]=(m[x-4]^m[x-2])<<1|(m[x-3]^m[x-1])>>>31;for(var x=0;x<127;x++)m[x]=b.d$(d,x*4);for(;v>0;v--){m[x&127]=m[x+1&127]^m[x+1+64&127];
var L=m[x&127],p=h[j];p^=L;e[E]=p;j++;E++;x++}};B.raw.awC=function(h,e){var v=b.RZ(e,0,4),J=B.raw.akN;
for(var T=0;T<J.length;T++)if(J[T][0]==h&&v.startsWith(J[T][1])&&(J[T][2]==0||J[T][2]==e.length))return J[T];
throw"e"};B.raw.av0=function(h){if(h.t29==null)return[];var e=B.raw.ava,v=B.raw.aoP,J=h.t29[0],m=0,x=0;
for(var T=0;T<J.length;T++){var d=J.charCodeAt(T);m=m*10+(48<=d&&d<=57?d-48:d%10)}var cg=h.t167[0];for(var T=0;
T<4;T++)x^=cg>>>(T<<3)&255;var j=e[m&255],E=v[x&255];return[j,E,96]};B.raw.a7Z=function(h,e){var v=h["t"+e],cg=v.length,J=B.raw.awC(e,v),m=b.RZ(v,0,4),d,x=J[4];
if(x==null)d=v.slice(4);else{d=new Uint8Array(cg-x);var j=B.raw.av0(h),E=j[0],L=j[1],p=j[2];for(var T=0;
T<d.length;T++){L=L+E*p++&255;d[T]=v[x++]^L}}return[m,cg,d]};B.raw.a73=function(h,e){var v=e.t271[0],J=e.t272[0],m=e.t256[0],d=e.t257[0],x=e.t258[0],j=e.t273[0],E=j,L=new Uint8Array(h),p,Z=m-4,o=d,u=L.length-j,O=0,F=0;
function N(){var A=new Uint16Array(4096),iW=0;A[iW]=3084;for(var T=12;T--;)for(var G=0;G<2048>>T;G++)A[++iW]=T+1<<8|T;
return A}function M(){return L[E++]}function W(A,G){var l;if(A>25)return 0;if(A==0||F<0)return 0;if(A<0){O=0;
F=0;return 0}while(F<A){l=M();if(l==null)break;O=(O<<8)+(255&l);F+=8}l=F==0?0:O<<32-F>>>32-A;if(G){F-=G[l]>>8;
l=255&G[l]}else F-=A;return l}function f(){var A=N();E+=7;W(-1);for(var G=0;G<o;G++){var l=[new Int32Array(3),new Int32Array(3)];
for(var K=0;K<m;K++){var U=l[K&1],T=2*(U[2]<3),z;for(z=2+T;(65535&U[0])>>z+T;z++);var q=W(3),P=q&3;q=q<<29>>31;
var g=W(12,A);if(g==12)g=W(16-z)>>>1;var a=W(z);U[0]=g<<z|a;var w=(U[0]^q)+U[1];U[1]=w*3+U[1]>>5;U[2]=U[0]>16?0:U[2]+1;
if(K>=Z)continue;var y=p[G*m+K-2],iW=p[(G-2)*m+K],S=p[(G-2)*m+K-2];p[G*m+K]=(G<2&&K<2?0:G<2?y:K<2?iW:y<S&&S<iW||iW<S&&S<y?Math.abs(y-S)>32||Math.abs(iW-S)>32?y+iW-S:y+iW>>1:Math.abs(y-S)>Math.abs(iW-S)?y:iW)+(w<<2|P)}}}function $(){var A=m*x/8,G=d+1>>1,K=0,U=0;
A+=A&6>>7;var l=A*8-m*x;for(var z=0;z<d;z++){var q=z%G*2+~~(z/G);if(q==1){K=0;E=j-(-G*A&-2048)}for(var P=0;
P<m;P++){for(K-=x;K<0;K+=8){U<<=8;for(var T=0;T<8;T+=8)U|=M()<<T}var g=U<<64-x-K>>>64-x;p[q*m+P]=g}K-=l}}function H(){var A=!v.startsWith("OLYMPUS")||!v.startsWith("OM Digi")||!v.toLowerCase().startsWith("clauss")&&!J.toLowerCase().startsWith("pix 5oo");
return A&&u<m*d*(x/8)}if(H()){p=new Uint16Array(Z*o);f()}else if(m*d*2==e.data.length){p=new Uint16Array(e.data.buffer)}else{p=new Uint16Array(m*d);
$()}return p};B.raw.akN=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
B.raw.ava=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
B.raw.aoP=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
B.o$={};B.o$.o$=function(h,e,v,J,m){if(J==null)J=3;if(m==null)m=!0;var d=h.q,x=h._,j=1/d,E=d*x,L=Date.now(),p=!1,Z=B.o$.aqF(v,d,x,255,128),o=B.o$.aqF(v,d,x,0,128),R=0;
if(p)console.log("extract contours",Date.now()-L);L=Date.now();var u=function(cf,iG){var eC=cf<<2,kH=iG<<2;
return e[eC]+e[eC+1]+e[eC+2]-(e[kH]+e[kH+1]+e[kH+2])};Z.sort(u);o.sort(u);var N=B.U(E),M=B.U(E),O=[],F=new Uint32Array(d*x);
F.fill(4294967295);for(var T=0;T<E;T++)if(v[T]==0)M[T]=255;else if(v[T]==255)N[T]=255;else{F[T]=O.length;
O.push(T)}var W=Z.length,f=o.length,$=O.length;function H(cf,iG,eC,kH){var i0=cf.length,e5=new Array(i0*2);
for(var T=0;T<i0;T++){var y=cf[T],S=~~(y*kH),i=y-S*eC,a8=y<<2;e5[T*2]=i<<16|S;e5[T*2+1]=iG[a8]<<16|iG[a8+1]<<8|iG[a8+2]}return e5}var A=H(Z,e,d,j),G=H(o,e,d,j),l=H(O,e,d,j);
if(p)console.log("Itemize",Date.now()-L,"Unknown:",$,W,f);L=Date.now();var K=B.style.Xg(N,d,x,!0),U=B.style.Xg(M,d,x,!0),z=new Array($),q=new Array($),P=new Array($),g=new Array($),a=new Array($);
if(p)console.log("Dist transform",Date.now()-L);L=Date.now();var w=B.o$.y5;for(var T=0;T<$;T++){var y=O[T],S=~~(y*j),i=y-S*d,C=K[y<<1],Y=K[(y<<1)+1],_=Math.sqrt(C*C+Y*Y),t=U[y<<1],I=U[(y<<1)+1],r=Math.sqrt(t*t+I*I);
z[T]=1/_;q[T]=1/r;var n=Math.floor(B.B.qx(y*17)*W),Q=Math.floor(B.B.qx(y*19)*f);P[T]=n;g[T]=Q;a[T]=w(l[T*2],l[T*2+1],A[n*2],A[n*2+1],G[Q*2],G[Q*2+1],z[T],q[T],1e9)}var D=[-d-1,-d,-d+1,-1,1,d-1,d,d+1];
while(Math.floor(Math.max(W,f)*Math.pow(.5,R))>1)R++;for(var X=0;X<J;X++){var dx=0;for(var T=0;T<$;T++){var y=O[T],S=~~(y*j),i=y-S*d,jv=z[T],gB=q[T],hQ=l[T*2],ah=l[T*2+1],kG=a[T],n=P[T],Q=g[T],dt=1;
if(S!=0&&i!=0&&i!=d-1&&S!=x-1)for(var iZ=0;iZ<8;iZ++){var bs=F[y+D[iZ]];if(bs==4294967295)continue;var ey=P[bs],jp=g[bs];
if(ey==n&&jp==Q)continue;var eh=w(hQ,ah,A[ey*2],A[ey*2+1],G[jp*2],G[jp*2+1],jv,gB,kG);if(eh<kG){kG=eh;
n=ey;Q=jp}}for(var jw=0;jw<R;jw++){var i7=~~(W*dt),kn=~~(f*dt);dt*=.5;var eK=B.B.qx(y+X*17+jw*31),ee=B.B.qx(y+X*29+jw*63),az=Math.max(0,n-i7),k7=Math.min(n+i7,W-1),al=Math.max(0,Q-kn),kl=Math.min(Q+kn,f-1),ey=az+~~(eK*(k7-az)),jp=al+~~(ee*(kl-al)),eh=w(hQ,ah,A[ey*2],A[ey*2+1],G[jp*2],G[jp*2+1],jv,gB,kG);
if(eh<kG){kG=eh;n=ey;Q=jp}}a[T]=kG;P[T]=n;g[T]=Q;dx+=kG}}if(p)console.log(dx);if(p)console.log("iterations",Date.now()-L);
L=Date.now();var b9=v.slice(0);for(var T=0;T<$;T++){var h9=B.o$.alpha(l[T*2+1],A[P[T]*2+1],G[g[T]*2+1]);
b9[O[T]]=~~(.5+255*h9)}b9=B.vA.awJ(b9,e,new fP(0,0,d,x),16,.01*.01);if(p)console.log("guided filter",Date.now()-L);
L=Date.now();if(m)for(var T=0;T<E;T++)if(v[T]==255||v[T]==0)b9[T]=v[T];var ge=e.slice(0);for(var T=0;
T<$;T++){var iN=O[T],n=Z[P[T]],kG=a[T],a8=iN<<2,f6=b9[iN],fS=(f6>=250?iN:n)<<2;ge[a8]=e[fS];ge[a8+1]=e[fS+1];
ge[a8+2]=e[fS+2]}B.ar(b9,ge,3);if(p)console.log(Date.now()-L);L=Date.now();return ge};B.o$.y5=function(h,e,v,J,m,d,x,j,E){var L=h>>>16,p=h&65535,Z=L-(v>>>16),o=p-(v&65535),u=L-(m>>>16),N=p-(m&65535),M=Math.sqrt(Z*Z+o*o)*x,O=Math.sqrt(u*u+N*N)*j;
if(M+O>=E)return 1e9;var F=B.o$.al1(e,J,d);return F+M+O};B.o$.al1=function(h,e,v){var J=h>>>16,m=h>>>8&255,d=h&255,x=e>>>16,j=e>>>8&255,E=e&255,L=v>>>16,p=v>>>8&255,Z=v&255,o=B.o$.alpha(h,e,v),u=J-(o*x+(1-o)*L),N=m-(o*j+(1-o)*p),M=d-(o*E+(1-o)*Z);
return Math.sqrt(u*u+N*N+M*M)};B.o$.alpha=function(h,e,v){var J=h>>>16,m=h>>>8&255,d=h&255,x=e>>>16,j=e>>>8&255,E=e&255,L=v>>>16,p=v>>>8&255,Z=v&255,o=x-L,u=j-p,N=E-Z,M=J-L,O=m-p,F=d-Z,W=o*o+u*u+N*N,f=W==0?.5:(M*o+O*u+F*N)/W;
return Math.max(0,Math.min(1,f))};B.o$.aqp=function(h){};B.o$.aqF=function(h,e,v,J,m){var d=[],x=e-1,j=v-1;
for(var E=1;E<j;E++)for(var L=1;L<x;L++){var T=E*e+L;if(h[T]==J&&(h[T-e-1]==m||h[T-e]==m||h[T-e+1]==m||(h[T-1]==m||h[T+1]==m)||(h[T+e-1]==m||h[T+e]==m||h[T+e+1]==m)))d.push(T)}return d};
B.vA={};B.vA.atH=function(h,e,v,J,m){var d=v.q,x=v._,j=d*x,E=B.vA.a8q,L=B.U(j*4),p;B.yV(L,4294967295);
var Z=v,o=h,u=e,N=J;B.ar(h,L,0);p=B.Uq(L,v);p=B.Uq(p.su,p.R);Z=p.R;N=J>>>2;console.log(Z,N);o=B.U(Z.$());
B.Bq(p.su,o,0);B.ar(e,L,0);p=B.Uq(L,v);p=B.Uq(p.su,p.R);u=B.U(Z.$());B.Bq(p.su,u,0);var M=B.vA.ait(o,u,Z,N,m),O=M[0],F=M[1],W=new fP(0,0,Z.q*2,Z._*2);
O=E(O,Z,W,!0);O=E(O,W,v,!0);F=E(F,Z,W,!0);F=E(F,W,v,!0);var f=B.U(j);for(var T=0;T<j;T++)f[T]=Math.max(0,Math.min(255,Math.floor(.5+(O[T]*e[T]+255*F[T]))));
return f};B.vA.kK=function(h,e,v,J){e.set(h);B.kK.ay4(e,v,J)};B.vA.a8q=function(h,e,v,J){var m=v.q,d=v._,x=e.q,j=e._,E=B.vA.Kw,L=new Float32Array(m*d);
for(var p=0;p<j;p++){var Z=(p+p)*m;for(var o=0;o<x;o++){if(!0||o==0||p==0||o==x-1||p==j-1)L[Z]=L[Z+1]=L[Z+m]=L[Z+m+1]=h[p*x+o];
else{L[Z]=E(o+.25,p+.25,h,x,j);L[Z+1]=E(o+.75,p+.25,h,x,j);L[Z+m]=E(o+.25,p+.75,h,x,j);L[Z+m+1]=E(o+.75,p+.75,h,x,j)}Z+=2}}return L};
B.vA.Kw=function(h,e,v,J,m){h-=.499999;e-=.499999;var d=Math.floor(h),x=Math.floor(e),j=x*J+d,E=h-d,L=e-x,p=(1-L)*(1-E),Z=(1-L)*E,o=L*(1-E),u=L*E;
if(v[j]==null||v[j+J+1]==null){console.log(h,e,J,m);throw"e"}return p*v[j+0]+Z*v[j+1]+o*v[j+J+0]+u*v[j+J+1]};
B.vA.ait=function(h,e,v,J,m){var d=v.q,x=v._,j=d*x,E=B.vA.aiu,L=B.vA.U,p=B.vA.kK,Z=B.vA.lL,e=E(e,j),h=E(h,j),o=L(j);
p(e,o,v,J);var u=L(j);p(h,u,v,J);var N=L(j);Z(e,e,N);p(N,N,v,J);var M=L(j);Z(e,h,M);p(M,M,v,J);var O=L(j),F=L(j);
for(var T=0;T<j;T++){var W=o[T],f=u[T],$=N[T]-W*W,H=M[T]-W*f,A=H/($+m),G=f-A*W;O[T]=A;F[T]=G}var l=L(j);
p(O,l,v,J);var K=L(j);p(F,K,v,J);return[l,K]};B.vA.awJ=function(h,e,v,J,m){var d=v.q,x=v._,j=d*x,E=B.vA.a8q,L=Date.now(),p=!1,Z=v,o=h,u=e,N=J;
Z=new fP(0,0,d>>>2,x>>>2);N=J>>>2;o=B.vA.aqd(h,d,x);u=B.vA.aG9(e,d,x);if(p)console.log(Date.now()-L);
L=Date.now();var M=B.vA.aFy(o,u,Z,N,m),O=M[0],F=M[1],W=M[2],f=M[3];if(p)console.log(Date.now()-L);L=Date.now();
var $=B.U(j);for(var H=0;H<x;H++)for(var A=0;A<d;A++){var T=H*d+A,G=(H>>>2)*(d>>>2)+(A>>>2),l=T<<2,K=O[G]*e[l]+F[G]*e[l+1]+W[G]*e[l+2]+f[G]*255;
$[T]=Math.max(0,Math.min(255,~~(.5+K)))}if(p)console.log(Date.now()-L);L=Date.now();return $};B.vA.aqd=function(h,e,v){var J=e>>>2,m=v>>>2,d=B.U(J*m);
for(var x=0;x<m;x++)for(var j=0;j<J;j++)d[x*J+j]=h[x*e+j<<2];return d};B.vA.aG9=function(h,e,v){var J=e>>>2,m=v>>>2,d=B.U(J*m*4);
for(var x=0;x<m;x++)for(var j=0;j<J;j++){var E=x*J+j<<2,L=x*e+j<<4;d[E]=h[L];d[E+1]=h[L+1];d[E+2]=h[L+2];
d[E+3]=h[L+3]}return d};B.vA.aFy=function(h,e,v,J,m){var d=v.q,x=v._,j=d*x,E=B.vA.aiu,L=B.vA.U,p=B.vA.kK,Z=B.vA.lL,h=E(h,j),o=new B.Em(d*x);
B.G3(e,o);var e=[E(o.n,j),E(o.i,j),E(o.b,j)],u=B.vA.a6m(h,e,v,J,m),N=L(j);p(h,N,v,J);var M=L(j);Z(e[0],h,M);
p(M,M,v,J);var O=L(j);Z(e[1],h,O);p(O,O,v,J);var F=L(j);Z(e[2],h,F);p(F,F,v,J);var W=L(j),f=L(j),$=L(j),H=L(j);
for(var T=0;T<j;T++){var A=N[T],G=u.tj[T],l=u.XF[T],K=u.eU[T],U=M[T]-G*A,z=O[T]-l*A,q=F[T]-K*A;W[T]=u.a6S[T]*U+u.IH[T]*z+u.OI[T]*q;
f[T]=u.IH[T]*U+u.at1[T]*z+u.uV[T]*q;$[T]=u.OI[T]*U+u.uV[T]*z+u.aB6[T]*q;H[T]=A-W[T]*G-f[T]*l-$[T]*K}p(W,W,v,J);
p(f,f,v,J);p($,$,v,J);p(H,H,v,J);return[W,f,$,H]};B.vA.a6m=function(h,e,v,J,m){var d=v.q,x=v._,j=d*x,E=B.vA.U,L=B.vA.kK,p=B.vA.lL,Z={};
Z.tj=E(j);L(e[0],Z.tj,v,J);Z.XF=E(j);L(e[1],Z.XF,v,J);Z.eU=E(j);L(e[2],Z.eU,v,J);var o=E(j);p(e[0],e[0],o);
L(o,o,v,J);var u=E(j);p(e[0],e[1],u);L(u,u,v,J);var N=E(j);p(e[0],e[2],N);L(N,N,v,J);var M=E(j);p(e[1],e[1],M);
L(M,M,v,J);var O=E(j);p(e[1],e[2],O);L(O,O,v,J);var F=E(j);p(e[2],e[2],F);L(F,F,v,J);Z.a6S=o;Z.IH=u;
Z.OI=N;Z.at1=M;Z.uV=O;Z.aB6=F;for(var T=0;T<j;T++){var W=Z.tj[T],f=Z.XF[T],$=Z.eU[T],H=o[T]-W*W+m,A=u[T]-W*f,G=N[T]-W*$,l=M[T]-f*f+m,K=O[T]-f*$,U=F[T]-$*$+m,z=l*U-K*K,q=K*G-A*U,P=A*K-l*G,g=H*U-G*G,a=G*A-H*K,w=H*l-A*A,y=z*H+q*A+P*G,S=1/y;
Z.a6S[T]=z*S;Z.IH[T]=q*S;Z.OI[T]=P*S;Z.at1[T]=g*S;Z.uV[T]=a*S;Z.aB6[T]=w*S}return Z};B.vA.U=function(h){return new Float32Array(h)};
B.vA.aiu=function(h,e){var v=new Float32Array(e);for(var T=0;T<e;T++)v[T]=h[T]*(1/255);return v};B.vA.lL=function(h,e,v){for(var T=0;
T<h.length;T++)v[T]=h[T]*e[T]};B.i6={};B.i6._9=function(h,e,v,J){var m=h[e]-v[J],d=h[e+1]-v[J+1],x=h[e+2]-v[J+2];
return Math.sqrt(m*m+d*d+x*x)*(1/441.7)};B.i6.getSelection=function(h,e,v){var J=e*v,m=B.U(J),d=!1,x=Math.round(v*.7),j=1,E=new Uint32Array(12),L=B.U(12);
for(var p=0;p<x;p++)for(var Z=0;Z<e;Z++){if(Z<j||p<j||Z>e-j-1||p>v-j-1){var T=p*e+Z,o=T<<2,u=0;if(p<j)u=4;
else if(Z>e-j-1)u=8;E[u]+=h[o];E[u+1]+=h[o+1];E[u+2]+=h[o+2];E[u+3]++;m[T]=255}}for(var T=0;T<12;T+=4)for(var N=0;
N<3;N++)L[T+N]=E[T+N]/E[T+3];var M=new Float32Array(J);for(var T=0;T<J;T++){var o=T*4,O=B.i6._9(h,o,L,0),F=B.i6._9(h,o,L,4),W=B.i6._9(h,o,L,8),f=Math.max(O,Math.max(F,W));
M[T]=O+F+W-f}B.i6.Ca(M);var $=Date.now(),H=new Float32Array(J),A=[],G=B.U(J);for(var T=0;T<3;T++){B.Bq(h,G,T);
var l=new Uint16Array(J);A.push(l);B.i6.aaz(G,m,e,v,l)}if(d)console.log("MBD",Date.now()-$);$=Date.now();
for(var T=0;T<J;T++)H[T]=A[0][T]+A[1][T]+A[2][T];B.i6.Ca(H);for(var T=0;T<J;T++)H[T]+=.4*M[T];var K=e>>>1,x=v>>>1,U=1/Math.sqrt(K*K+x*x);
for(var p=0;p<v;p++)for(var Z=0;Z<e;Z++){var z=Z-K,q=p-x,P=1-Math.sqrt(z*z+q*q)*U;H[p*e+Z]*=P}if(d)console.log("Centeredness",Date.now()-$);
$=Date.now();for(var T=0;T<J;T++)m[T]=H[T]*255;var g=Math.round(e/120),a=Math.round(g*.8);if(d)console.log(g,a);
B.TI.aY(m,m,e,v,g+g+1,!1);if(d)console.log("erosion",Date.now()-$);$=Date.now();for(var T=0;T<J;T++)H[T]=m[T];
B.i6.Ca(H);var w=B.U(256);for(var T=0;T<256;T++)w[T]=256/(1+Math.exp(-20*(T/255-.5)));for(var T=0;T<J;
T++){var y=~~(H[T]*255+.5);m[T]=w[y]}if(d)console.log("Simoid",Date.now()-$);$=Date.now();return m};
B.i6.Ca=function(h){var e=h.length,v=0;for(var T=0;T<e;T++)v=Math.max(v,h[T]);var J=1/v;for(var T=0;
T<e;T++)h[T]=h[T]*J};B.i6.aaz=function(h,e,v,J,m){var d=v*J,x=h.slice(0),j=h.slice(0);for(var T=0;T<d;
T++)m[T]=e[T]==255?0:65535;B.i6.a2k(h,j,x,m,v,J);B.i6.a5m(h,j,x,m,v,J);B.i6.a2k(h,j,x,m,v,J);B.i6.a5m(h,j,x,m,v,J);
return m};B.i6.a2k=function(h,e,v,J,m,d){for(var x=1;x<m;x++)B.i6.iz(x,-1,h,e,v,J);for(var j=1;j<d;j++){B.i6.iz(j*m,-m,h,e,v,J);
for(var x=1;x<m;x++){var T=j*m+x;B.i6.iz(T,-1,h,e,v,J);B.i6.iz(T,-m,h,e,v,J)}}};B.i6.a5m=function(h,e,v,J,m,d){for(var x=m-2;
x>=0;x--)B.i6.iz(m*d-m+x,1,h,e,v,J);for(var j=d-2;j>=0;j--){B.i6.iz(j*m+m-1,m,h,e,v,J);for(var x=m-2;
x>=0;x--){var T=j*m+x;B.i6.iz(T,1,h,e,v,J);B.i6.iz(T,m,h,e,v,J)}}};B.i6.iz=function(T,h,e,v,J,m){var d=T+h,x=e[T],j=v[d],E=J[d];
if(j<x)j=x;else if(x<E)E=x;var L=j-E;if(m[d]!=65535&&L<m[T]){m[T]=L;v[T]=j;J[T]=E}};B.r_={};B.r_.filter=function(h,e,v,J){var m=e.q,d=e._,x=m*d,j=J[0],E=J[1],L=J[2],p=J[3],Z=J[4],o=J[5],u=J[6],N=Date.now(),M=new Float32Array(m*d*4);
B.r_.a8D(h,m,d,M);var O=Math.ceil(j*Math.sqrt(-2*Math.log(.1))),F=new ArrayBuffer(x*4),W=new Float32Array(F),f=new Float32Array(x),$=new Float32Array(x);
for(var T=0;T<x;T++){var H=T*4;W[T]=M[H];f[T]=M[H+1];$[T]=M[H+2]}B.kK.p2(W,e,O*1/2.4,2);B.kK.p2(f,e,O*1/2.4,2);
B.kK.p2($,e,O*1/2.4,2);for(var T=0;T<x;T++){var H=T*4;M[H]=W[T];M[H+1]=f[T];M[H+2]=$[T]}var A=new Uint8Array(F);
for(var T=0;T<x;T++){var H=T*4,G=T*4,W=M[H],f=M[H+1],$=M[H+2],l=Math.sqrt((W-$)*(W-$)+4*f*f),K=(W+$+l)*.5,U=(W+$-l)*.5,z=U-$,q=f,P=z*z+q*q;
if(P!=0){var g=Math.sqrt(P),a=1/g;z*=a;q*=a}A[G]=128+127*z;A[G+1]=128+127*q}var w=1.3*E+2,y=p*(2/10),S=h.slice();
if(fM.QX){var i=new Float32Array([1/m,1/d]),C=fM.cm(0,m,d);C.set(S);var Y=fM.cm(1,m,d);Y.set(A);fM.qH(C,e);
if(Z){C.Ie(e);fM.filter.Ce({c:fM.filter.a4U,DV:i,aia:1/L,ah6:y},C.vH)}C.Ie(e);fM.filter.Ce({c:fM.filter.sN,Dr:Y.nS,DV:i,ZR:w,Bi:2},C.vH);
if(Z){C.Ie(e);fM.filter.Ce({c:fM.filter.alj,DV:i,ayS:new Float32Array(u),azO:o},C.vH)}C.get(v)}else{if(Z)B.r_._2(1/L,y,S,m,d);
B.r_.sN(S,v,A,m,d,w);if(Z)B.r_.abT(m,d,v,u,o)}var _=x*4;for(var T=3;T<_;T+=4)v[T]=h[T]};B.r_.sN=function(h,e,v,J,m,d){var x=Math.ceil(2*d),j=-1/(2*d*d),E=[],L=1;
for(var T=0;T<x+20;T++)E[T]=Math.exp(T*T*j);var p=[0,0,0,0];for(var Z=0;Z<m;Z++){for(var o=0;o<J;o++){var u=Z*J+o,N=u*4,M=1,O=h[N],F=h[N+1],W=h[N+2],f=h[N+3],$=(v[N]-128)*(1/127),H=(v[N+1]-128)*(1/127),A=$,G=H,l=o==0?.51:.49,K=Z==0?.51:.49;
for(var T=0;T<2;T++){var U=o+l,z=Z+K,q=0;while(q<x){if(U<.5||J-.5<U||z<.5||m-.5<z)break;var P=~~U,g=~~z,a=g*J+P,w=a*4,y=(v[w]-128)*(1/127),S=(v[w+1]-128)*(1/127);
if(y*A+S*G<0){y=-y;S=-S}A=y;G=S;U+=L*y;z+=L*S;if(U<.5||J-.5<U||z<.5||m-.5<z)break;var i=~~U,C=~~z,Y=C*J+i<<2;
q+=L;var _=E[~~q];B.D.aFv(U,z,h,J,m,p);O+=p[0]*_;F+=p[1]*_;W+=p[2]*_;f+=p[3]*_;M+=_}A=-$;G=-H}var t=1/M;
e[N]=~~(.5+O*t);e[N+1]=~~(.5+F*t);e[N+2]=~~(.5+W*t);e[N+3]=~~(.5+f*t)}}};B.r_.abT=function(h,e,v,J,m){for(var d=0;
d<e;d++)for(var x=0;x<h;x++){var j=d*h+x<<2,E=1+B.r_.a23(x,d,v,h,e,J)*m;v[j]=Math.max(0,Math.min(255,v[j]*E));
v[j+1]=Math.max(0,Math.min(255,v[j+1]*E));v[j+2]=Math.max(0,Math.min(255,v[j+2]*E))}};B.r_.a23=function(h,e,v,J,m,d){var x=v[(e*J+Math.max(0,h-1))*4+3],j=v[(e*J+Math.min(J-1,h+1))*4+3],E=v[(Math.max(0,e-1)*J+h)*4+3],L=v[(Math.min(m-1,e+1)*J+h)*4+3],p=.7,Z=(j-x)*(1/255),o=.7,u=(L-E)*(1/255),N=-Z*o,M=-p*u,O=p*o,F=Math.sqrt(N*N+M*M+O*O),W=1/F,f=N*W,$=M*W,H=O*W,A=d[0]*f+d[1]*$+d[2]*H;
return A};B.r_._2=function(h,e,v,J,m){function d(j,L,p){return Math.max(L,Math.min(p,j))}for(var x=0;
x<m;x++)for(var j=0;j<J;j++){var E=B.r_.anQ(j+.5,x+.5,h,e);v[(x*J+j)*4+3]=Math.max(0,Math.min(255,E*255))}};
B.r_.anQ=function(h,e,v,J){function m(G,l,K){return(1-K)*G+K*l}var d=(h+613)*v,x=(e+117)*v,j=~~d,E=~~x,L=d-j,p=x-E,Z=Math.sin(11),o=Math.cos(j)*Z,u=Math.cos(j+1)*Z,N=Math.cos(E)*Z,M=Math.cos(E+1)*Z,iW=B.r_.hash(o,N),O=B.r_.hash(u,N),F=B.r_.hash(o,M),W=B.r_.hash(u,M),f=m(iW,O,L),$=m(F,W,L),H=m(f,$,p);
H=H<.5?0:1;var A=H+J*B.r_.hash(Math.cos(d)*Z,Math.cos(x)*Z);return A*(1/3)};B.r_.hash=function(h,e){var v=Math.sin(h*11.697096+e*73.32456)*12157.47691;
return v-Math.floor(v)};B.r_.a8D=function(h,e,v,J){var m=[-1,0,1,-2,0,2,-1,0,1],d=[-1,-2,-1,0,0,0,1,2,1],x=e-1,j=v-1,E=e*4;
for(var L=1;L<j;L++)for(var p=1;p<x;p++){var T=L*e+p,Z=T*4,o=B.r_.M2(h,Z,E,m),u=B.r_.M2(h,Z,E,d),N=B.r_.M2(h,Z+1,E,m),M=B.r_.M2(h,Z+1,E,d),O=B.r_.M2(h,Z+2,E,m),F=B.r_.M2(h,Z+2,E,d);
J[Z]=o*o+N*N+O*O;J[Z+1]=o*u+N*M+O*F;J[Z+2]=u*u+M*M+F*F}B.r_.a3V(J,e,v)};B.r_.M2=function(h,e,v,J){return h[e-v-4]*J[0]+h[e-v]*J[1]+h[e-v+4]*J[2]+h[e-4]*J[3]+h[e]*J[4]+h[e+4]*J[5]+h[e+v-4]*J[6]+h[e+v]*J[7]+h[e+v+4]*J[8]};
B.r_.a3V=function(h,e,v){function J(E,T,L){var p=T*4,Z=L*4;E[Z]=E[p];E[Z+1]=E[p+1];E[Z+2]=E[p+2]}var m=e-1,d=v-1;
J(h,e+1,0);J(h,2*e-2,e-1);for(var x=1;x<m;x++)J(h,e+x,x);for(var j=1;j<d;j++){J(h,j*e+1,j*e);J(h,j*e+e-2,j*e+e-1)}for(var x=1;
x<m;x++)J(h,(v-2)*e+x,(v-1)*e+x);J(h,(j-2)*e+1,(j-1)*e);J(h,(j-1)*e-2,j*e-1)};B.EF=function(){function h(L,p,Z,o){var u=new Float32Array(L*L),N=L/2;
for(var M=0;M<L;M++)for(var O=0;O<L;O++){var F=O+Z-N,W=M+o-N;u[M*L+O]=Math.max(0,Math.min(1,p+.5-Math.sqrt(F*F+W*W)))}return u}var e=[],J=null;
function v(L,p,Z,o){var u=Math.floor(p*10),N=e[u],M=L*8,O=M>>>1;if(N==null){N=e[u]=[];var F=new fP(0,0,M,M),W=L/2/(1+.2*p),f=Math.floor(L*u*.1);
for(var $=0;$<2;$++)for(var H=0;H<2;H++){var A=h(M,W,.25+H*.5,.25+$*.5),G=0;B.kK.p2(A,F,f);while(A[M*O+G]<.005)G++;
if(G!=0)G--;var l=2*(O-G),K=new fP(G,G,l,l),U=new Float32Array(l*l);for(var z=0;z<l;z++)for(var q=0;
q<l;q++)U[z*l+q]=A[(G+z)*M+G+q];N.push([U,K])}}var P=Math.floor(Z),g=Math.floor(o),a=Z-P,w=o-g,y=a<.5?1:0,S=w<.5?1:0;
N=N[S*2+y];var K=N[1].O();K.x+=P-O;K.y+=g-O;return[N[0],K]}function m(L,p,Z){if(J==null){J=new Uint8Array(4e4);
for(var T=0;T<4e4;T++)J[T]=Math.min(255,~~(.5+255*B.ps(T*(1/255))))}var o=L.length;for(var T=0;T<o;T++){var u=L[T],N=~~(255*u);
p[T]=J[N]<<24|Z}}function d(L,p,Z,o,u){var N=p.UP(o),M=Math.max(0,N.x-p.x),O=Math.max(0,N.x-o.x),F=Math.max(0,N.y-p.y),W=Math.max(0,N.y-o.y),f=N.q,$=N._;
for(var T=0;T<$;T++){var H=(F+T)*p.q+M,A=(W+T)*o.q+O;for(var G=0;G<f;G++){Z[A+G]+=u*L[H+G]}}}var x=-1;
function j(L,p,Z,o,u){var N=Math.round(o[1]*p*Z*.01),M=o[2],O=o[3],F=o[4],W=o[5],f=o[6],$=o[7],H=o[8],A=o[9],G=o[10]?o[10]:1,_=!1;
if(M!=x){e=[];x=M}var l=Date.now(),K=new fP(0,0,p,Z),U=new E(o[0]);if(u)L.fill(0);var z=new Float32Array(u?L.buffer:p*Z);
for(var T=0;T<N;T++){var q=U.get()*p,P=U.get()*Z,g=U.get()*O,a=U.get()*M*4,w=(U.get()+f)*Math.PI*2,y=U.get()*M*4,S=(U.get()+2*f)*Math.PI*2;
q+=A*(a*Math.cos(w)+y*Math.cos(S));P+=A*(a*Math.sin(w)+y*Math.sin(S));if(H)P=P+f*Z*G;var i=v(M,g,q,P%Z),C=F,Y=U.get();
if($)C=.5+.5*F*(.5+.5*Math.sin((2*f+Y)*2*Math.PI));d(i[0],i[1],z,K,C)}if(_)console.log(Date.now()-l,"add floats");
l=Date.now();var t=new Uint8Array(z.buffer);m(z,new Uint32Array(t.buffer),W.b<<16|W.i<<8|W.n);if(_)console.log(Date.now()-l,"toInt");
l=Date.now();if(!u){B.B.lU("scrn",t,K,L,K,K,1);if(_)console.log(Date.now()-l,"blendOver")}}function E(L){this._l=123456789;
this.cP=987654321;this.N=4294967295;this.nw(L)}E.prototype.nw=function(T){this._l=123456789+T&this.N;
this.cP=987654321-T&this.N};E.prototype.get=function(){this.cP=36969*(this.cP&65535)+(this.cP>>16)&this.N;
this._l=18e3*(this._l&65535)+(this._l>>16)&this.N;var L=(this.cP<<16)+(this._l&65535)>>>0;L/=4294967296;
return L};return{pN:j}}();B.x7={};B.x7.dl=function(h,e,v,J){var m=h[e*2],d=h[e*2+1],x=h[v*2],j=h[v*2+1],E=h[J*2],L=h[J*2+1];
return m*j+x*L+E*d-E*j-x*d-m*L};B.x7.apm=function(h,e){var v=[],J=[],m=[],d={};for(var T=0;T<e.length;
T+=3){var x=~~(T*(1/3)),j=e[T+0],E=e[T+1],L=e[T+2],p=B.x7.dl(h,j,E,L);if(p>0){var Z=E;E=L;L=Z}var o=d[L+"-"+E],u=d[E+"-"+j],N=d[j+"-"+L],M=[L,o,x,null],O=[E,u,x,M],F=[j,N,x,O];
M[3]=F;if(o)o[1]=M;if(u)u[1]=O;if(N)N[1]=F;d[L+"-"+j]=F;d[j+"-"+E]=O;d[E+"-"+L]=M;v[j]=O;m[T]=O;v[E]=M;
m[T+1]=M;v[L]=F;m[T+2]=F;J[x]=O}return{wB:v,FG:J,ph:m}};B.x7.ap_=function(h){var e=[],v=h.FG;for(var T=0;
T<v.length;T++){var J=v[T];e.push(J[0]);J=J[3];e.push(J[0]);J=J[3];e.push(J[0])}return e};B.x7.a4p=function(h,e,v,J){var m=h[e*2],d=h[e*2+1],x=h[v*2],j=h[v*2+1],E=h[J*2],L=h[J*2+1],p=x-m,Z=j-d,o=E-m,u=L-d,N=p*(m+x)+Z*(d+j),M=o*(m+E)+u*(d+L),O=2*(p*(L-j)-Z*(E-x));
if(Math.abs(O)<1e-5){var F=Math.min(m,x,E),W=Math.min(d,j,L),f=(Math.max(m,x,E)-F)*.5,$=(Math.max(d,j,L)-W)*.5;
return[F+f,W+$,f*f+$*$,1]}var H=(u*N-Z*M)/O,A=(p*M-o*N)/O,f=H-m,$=A-d;return[H,A,f*f+$*$,0]};B.x7.a7P=function(h,e,v){var J=v[1],m=v[3],d=m[3],x=J[3],j=x[3],E=v[2],L=J[2],p=v[0],Z=J[0],o=m[0],u=x[0],N=B.x7.a4p(h,Z,u,o),M=h[p*2]-N[0],O=h[p*2+1]-N[1],F=M*M+O*O>N[2]&&N[3]==0&&B.x7.dl(h,u,p,o)<0&&B.x7.dl(h,o,Z,u)<0;
if(F){v[0]=o;J[0]=u;v[3]=d;d[3]=x;x[3]=v;J[3]=j;j[3]=m;m[3]=J;m[2]=L;x[2]=E;e.FG[L]=j;e.FG[E]=d;e.wB[Z]=x;
e.wB[p]=m}return F};B.x7.aoZ=function(h,e,v){var J=h[e*2]-h[v*2],m=h[e*2+1]-h[v*2+1];return Math.sqrt(J*J+m*m)};
B.x7.a8u=function(h,e,v){var J=v[1],m=v[3],d=m[3],x,j,E=v[2],L,p=v[0],Z=d[0],o=m[0],u;if(J){x=J[3];j=x[3];
L=J[2];u=x[0]}var N=h.length>>>1;h[2*N]=(h[2*Z]+h[2*p])*.5;h[2*N+1]=(h[2*Z+1]+h[2*p+1])*.5;if(!0){var M=E,O=v,F=e.FG.length,W=[N,null,M,O],f=[o,W,F,d];
W[1]=f;var $=[N,null,F,f];m[3]=W;d[3]=$;d[2]=F;e.FG[M]=m;e.FG[F]=$;e.wB[p]=m;e.wB[o]=d;e.ph.push(W,f,$)}if(J){var H=L,A=J,G=F+1;
$[1]=A,A[1]=$;var l=[N,null,H,A],K=[u,l,G,j];l[1]=K;var U=[N,O,G,K];O[1]=U;x[3]=l;j[3]=U;j[2]=G;e.FG[H]=x;
e.FG[G]=j;e.wB[Z]=x;e.wB[u]=j;e.ph.push(l,K,U)}e.wB[N]=O};B.x7.a51=function(h,e){var v=0;while(!0){var J=v;
for(var T=0;T<e.ph.length;T++){var m=e.ph[T];if(m[1]==null)continue;var d=B.x7.a7P(h,e,m);if(d){v++;
break}}if(J==v)break}return v!=0};B.x7.aFP=function(h,e,v,J){var m=0;for(var T=0;T<J;T++){var d=null,x=0;
for(var j=0;j<e.ph.length;j++){var E=e.ph[j],L=B.x7.aoZ(h,E[0],E[3][3][0])*(E[1]?1:2);if(L>x){d=E;x=L}}if(x>v){B.x7.a8u(h,e,d);
m++}}return m!=0};B.x7.ahy=function(h,e){var v=[],o=0;for(var T=0;T<h.length;T++)v.push(0);for(var T=0;
T<e.ph.length;T++){var J=e.ph[T],m=J[0],d=J[3][3][0],x=h[m*2],j=h[m*2+1],E=h[d*2],L=h[d*2+1],p=x-E,Z=j-L;
v[m*2]+=-p;v[m*2+1]+=-Z;v[d*2]+=p;v[d*2+1]+=Z}for(var T=0;T<h.length;T+=2){var u=T>>>1,N=e.wB[u],J=N,M=!0;
do{if(J[1]==null){M=!1;break}J=J[1][3]}while(J!=N);if(M){var O=.02;h[T]+=O*v[T];h[T+1]+=O*v[T+1];o+=O*(v[T]*v[T]+v[T+1]*v[T+1])}}return o};
B.x7.a0X=function(h,e,v){var J=B.w.oS(h),m=B.x7.apm(h,e);B.x7.a51(h,m);for(var d=0;d<300;d++){var x=!1,j=!1;
x=B.x7.aFP(h,m,v,5);if(x)j=B.x7.a51(h,m);var E=B.x7.ahy(h,m);if(!x&&!j&&E<1e-4){break}}return B.x7.ap_(m)};
B.tz={};B.tz.a7l=function(h){var e=h.S4,v=h.Z4,J=h.Wi,m=h.sn,d=h.p_,x=h.MI,j=h.LM,E=B.ok.Ig,W,f,$=0;
function L(iW){var X=new Array(iW);for(var T=0;T<iW;T++)X[T]=0;return X}var p=v.length>>>1,Z=L(e.SP*2),o=L(e.SP),u=L(e.SP),N=Date.now();
for(var T=0;T<h.oL.length;T++){var M=e.aqL+T,O=e.VA*(x[T*2]+j[T*2]),F=e.VA*(x[T*2+1]+j[T*2+1]);Z[M*2]=O;
Z[M*2+1]=F;o[M]=O;u[M]=F}e.aA8.Hj(m,e.aFF.Ig(Z),.01,W,f);for(var T=0;T<e.anB.ph.length;T++){var H=e.anB.ph[T],A=H[3][3][0],G=H[0],l=H[3][0],K=H[1]?H[1][3][0]:l;
if(H[1]&&A>G)continue;var U=v[A*2],z=v[A*2+1],q=v[G*2],P=v[G*2+1],g=m[A*2],a=m[A*2+1],w=m[G*2],y=m[G*2+1],S=m[l*2],i=m[l*2+1],C=m[K*2],Y=m[K*2+1],_=[g,a,w,y,S,i];
if(H[1])_.push(C,Y);var t=E(e.aqJ[$],_),I=t[0],r=t[1],n=1/Math.sqrt(I*I+r*r);I*=n;r*=n;var Q=q-U,D=P-z;
o[$]=I*Q+r*D;u[$]=-r*Q+I*D;$++}var dG=new Array(p),R=new Array(p);for(var T=0;T<p;T++){dG[T]=d[T*2];
R[T]=d[T*2+1]}e.acS.Hj(dG,e.a6r.Ig(o),.5);e.acS.Hj(R,e.a6r.Ig(u),.5);for(var T=0;T<p;T++){d[T*2]=dG[T];
d[T*2+1]=R[T]}};B.tz.agf=function(h){var e=h.Z4,v=h.Wi,J=h.oL,m=B.ok.multiply,d=Date.now(),x=B.x7.apm(e,v),j=e.length>>>1,E=0,N=0,r=1e3;
for(var T=0;T<x.ph.length;T++)E+=x.ph[T][1]?.5:1;var L=E+J.length,p=[],Z=new B.CP(L*2,j*2),o=new B.CP(L,j),u=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],M=[],O=[];
for(var T=0;T<x.ph.length;T++){var F=x.ph[T],W=F[3][3][0],f=F[0],$=F[3][0],H=F[1]?F[1][3][0]:$;if(F[1]&&W>f)continue;
var A=e[W*2],G=e[W*2+1],l=e[f*2],K=e[f*2+1],U=e[$*2],z=e[$*2+1],q=e[H*2],P=e[H*2+1],g=[[A,G,1,0],[G,-A,0,1],[l,K,1,0],[K,-l,0,1],[U,z,1,0],[z,-U,0,1]];
if(F[1])g.push([q,P,1,0],[P,-q,0,1]);var a=B.ok.nc(g),w=m(linear.invert(m(a,g)),a);w.pop();w.pop();p.push(w);
var y=l-A,S=K-G,i=u[F[1]?1:0];i=B.ok.am(i,m([[y,S],[S,-y]],w));var C=[W*2,W*2+1,f*2,f*2+1,$*2,$*2+1,H*2,H*2+1],Y=F[1]?8:6,_=[];
for(var t=0;t<Y;t++)_.push([C[t],i[0][t],i[1][t]]);_.sort(function(X,dx){return X[0]-dx[0]});for(var I=0;
I<2;I++){for(var t=0;t<Y;t++){M[t]=_[t][0];O[t]=_[t][1+I]}Z.Dg(O,M,Y)}if(W<f)o.Dg([-1,1],[W,f],2);else o.Dg([1,-1],[f,W],2);
N++}for(var T=0;T<J.length;T++){var n=J[T];Z.Dg([r],[n*2],1);Z.Dg([r],[n*2+1],1);o.Dg([r],[n],1)}var Q=Z.nc(),D=Q.Y4(Q),dG=o.nc(),R=dG.Y4(dG);
return{aqL:E,SP:L,aFF:Q,aA8:D,a6r:dG,acS:R,anB:x,aqJ:p,VA:r}};B.tz.a1Z=function(h,e,v,J,m){var d=new fP(0,0,e,v),x=B.U(d.$());
B.Bq(h,x,3);B.round(x,70);var j=B.sH(x,d),E=[.1,.065,.035][J]*Math.max(j.q,j._),L=m+1,p=e+L*2,Z=v+L*2,o=new fP(-L,-L,p,Z),u=B.U(o.$());
B.Ww(x,d,u,o);var N=u.slice(0);for(var M=0;M<m;M++){for(var O=1;O<Z-1;O++){for(var F=1;F<p-1;F++){var T=O*p+F;
N[T]=u[T-p]|u[T-1]|u[T]|u[T+1]|u[T+p]}}var W=N;N=u;u=W}var f=fg.EU(u,p,Z,Math.round(j.$()*5e-4)),$=fg.rx(f),H=new aJ(1,0,0,1,-L,-L);
for(var T=0;T<$.length;T++){var A=$[T];B.w.C(A.path.g,H,A.path.g);A.Z4=B.tz.alC(A.path);A.Wi=B.w.af7(A.Z4);
A.Wi=B.x7.a0X(A.Z4,A.Wi,E)}return $};B.tz.alC=function(h){var e=[],v=h.g,J=h.WQ.length-1,m=0,d=0;for(var x=0;
x<J;x++){var T=x*6,j=v[T+6]-v[T+0],E=v[T+7]-v[T+1],L=Math.ceil(Math.sqrt(j*j+E*E));for(var p=0;p<L;p++){var Z=p/L,o=1-Z,u=o*o*o*v[T+0]+3*o*o*Z*v[T+2]+3*o*Z*Z*v[T+4]+Z*Z*Z*v[T+6],N=o*o*o*v[T+1]+3*o*o*Z*v[T+3]+3*o*Z*Z*v[T+5]+Z*Z*Z*v[T+7];
e.push(u,N);m=u;d=N}}e=B.w.a31(e,1);var M=[],O=e.length;for(var T=0;T<O;T+=2){var N=e.pop(),u=e.pop();
M.push(u,N)}return M};B.tz.ax1=function(h,e,v,J){function m(l,K,U,z,q){var P=q[l*2]-q[K*2],g=q[l*2+1]-q[K*2+1],a=Math.sqrt(P*P+g*g);
if(U[l].indexOf(K)==-1){U[l].push(K);z[l].push(a)}if(U[K].indexOf(l)==-1){U[K].push(l);z[K].push(a)}}var d=h.length>>>1,x=new Array(d);
if(v.length==0){x.fill(0);return x}var j=new Array(d),E=new Array(d);for(var T=0;T<d;T++){j[T]=[];E[T]=[]}for(var T=0;
T<e.length;T+=3){m(e[T],e[T+1],j,E,h);m(e[T],e[T+2],j,E,h);m(e[T+1],e[T+2],j,E,h)}var L=new Float64Array(d*2),p=new Uint32Array(d*2);
L.fill(1e9);var Z=new Uint8Array(d);for(var o=0;o<v.length;o++){Z.fill(0);var u=["---",[0,v[o]]];while(u.length!=1){var N=B.as3.kb(u),M=N[0],O=N[1];
if(Z[O]==1)continue;var F=O<<1;if(M<L[F]){L[F+1]=L[F];p[F+1]=p[F];L[F]=M;p[F]=o}else if(M<L[F+1]){L[F+1]=M;
p[F+1]=o}Z[O]=1;var W=j[O],f=E[O];for(var T=0;T<W.length;T++){var $=W[T];if(Z[$]!=1){B.as3.mf(u,[M+f[T],$])}}}}for(var T=0;
T<d;T++){var F=T<<1,H=L[F],A=L[F+1],G=1/(H+A);x[T]=(1-H*G)*J[p[F]]+(1-A*G)*J[p[F+1]]}return x};B.tz.at$=function(h){var e={WQ:[],g:[]},v=[h];
while(v.length!=0){var J=v.pop(),m=J.Fv;if(J.aGd instanceof Array||J.aDM instanceof Array){e.WQ.push("M","L","L","L","Z");
e.g.push(m[0],m[1],m[2],m[1],m[2],m[3],m[0],m[3])}else v.push(J.aGd,J.aDM)}return e};B.tz.sU=function(h,e,v,J,m,d,x,j,E,L,p){var Z=Math.round(L.length/3),o=new Array(Z);
for(var T=0;T<Z;T++)o[T]=T;o.sort(function(N,M){return E[L[N*3]]-E[L[M*3]]});for(var T=0;T<Z;T++){var u=o[T]*3;
B.tz.aiE(L[u]*2,L[u+1]*2,L[u+2]*2,x,j,h,e,v,J,m,d,p)}};B.tz.aiE=function(h,e,v,J,m,d,x,j,E,L,p,Z){var o=[h,e,v,1.2,1.2,1.2,0],u=[0,0,0,0],N=m[h],M=m[h+1],O=m[e],F=m[e+1],W=m[v],f=m[v+1],$=O-N,H=F-M,A=W-N,G=f-M,l=$*G-A*H+1e-9,K=1/l,U=Math.max(0,Math.min(x-1,J[h])),z=Math.max(0,Math.min(x-1,J[e])),q=Math.max(0,Math.min(x-1,J[v])),P=Math.max(0,Math.min(j-1,J[h+1])),g=Math.max(0,Math.min(j-1,J[e+1])),a=Math.max(0,Math.min(j-1,J[v+1])),w=N<O?N<W?h:v:O<W?e:v,y=m[w+1]+.5,S=Math.max(0,Math.floor(Math.min(N,O,W))),i=Math.min(L,Math.ceil(Math.max(N,O,W))),C=Math.max(0,Math.floor(Math.min(M,F,f))),Y=Math.min(p,Math.ceil(Math.max(M,F,f))),_=1e9;
for(var t=C;t<Y;t++){var I=t>y&&_!=1e9?_:S;_=1e9;for(var r=I;r<i;r++){var n=r+.5-N,Q=t+.5-M,D=(n*G-A*Q)*K,dG=($*Q-n*H)*K;
if(D>=0&&dG>=0&&D+dG<=1){if(_==1e9)_=r;var R=1-D-dG,X=U*R+z*D+q*dG,dx=P*R+g*D+a*dG;if(Z){var jv=Math.floor(.5+dx)*x+Math.floor(.5+X),gB=jv<<2,hQ=t*L+r<<2;
E[hQ]=d[gB];E[hQ+1]=d[gB+1];E[hQ+2]=d[gB+2];E[hQ+3]=d[gB+3]}else{B.D.aFv(X,dx,d,x,j,u);B.tz.a0F(u,E,t*L+r<<2)}}else if(_!=1e9)break}}};
B.tz.a0F=function(h,e,v){if(h[3]>250){e[v]=~~(.5+h[0]);e[v+1]=~~(.5+h[1]);e[v+2]=~~(.5+h[2]);e[v+3]=~~(.5+h[3])}else{var J=e[v],m=e[v+1],d=e[v+2],x=e[v+3],j=1-h[3]*(1/255);
e[v]=~~(.5+h[0]+J*j);e[v+1]=~~(.5+h[1]+m*j);e[v+2]=~~(.5+h[2]+d*j);e[v+3]=~~(.5+h[3]+x*j)}};B.tz.ap2=function(){var h=function(v,J,m,d){var x=d[0],j=d[1],E=d[2],L=v[x+0],p=v[x+1],Z=v[j+0],o=v[j+1],u=v[E+0],N=v[E+1],M=Z-L,O=o-p,F=u-L,W=N-p,f=J-L,$=m-p,H=M*W-F*O,A=1/(H+1e-9),G=(f*W-F*$)*A,l=(M*$-f*O)*A;
if(G>=0&&l>=0&&G+l<=1){d[3]=1-G-l;d[4]=G;d[5]=l;return 1}return 0},e=function(v,J,m,d){var x=[0,0,0,0,0,0];
for(var T=0;T<J.length;T+=3){x[0]=J[T]*2;x[1]=J[T+1]*2;x[2]=J[T+2]*2;if(h(v,m,d,x)==1)return!0}return!1};
return{a5M:h,asG:e}}();B.kL={};B.kL.a41=function(h,e,v,J){h=h.slice(0);if(J)B.ar(J,h,3);else for(var T=0;
T<h.length;T+=4)h[T+3]=0;var m=B.U(e*v*4),d=!1;B.D.fk(h,e,v,m,[v,e,0,1,0,1,0,0]);return[B.kL.Hh(h,e,v,d),B.kL.Hh(m,v,e,d)]};
B.kL.C=function(h,e){var v=!1,J=h[0],m=h[1],d=J[1],x=J[2],j=J[3],E=e.q,L=e._;if(x==E&&j==L)d=d.slice(0);
else if(j!=L){var p=B.U(x*L*4);B.kL.R1(m,L,p,v);d=B.U(x*L*4);B.D.fk(p,L,x,d,[x,L,0,1,0,1,0,0]);if(x!=E){J=B.kL.Hh(d,x,L,v);
d=B.U(E*L*4);B.kL.R1(J,E,d,v)}}else if(x!=E){d=B.U(E*j*4);B.kL.R1(J,E,d,v)}for(var T=0;T<d.length;T+=4)d[T+3]=255;
return d};B.kL.Hh=function(h,e,v,J){var m=Date.now(),d=new Uint16Array(e*v),L=1;B.kL.aDB(h,e,v,d);var x=B.U(e*v);
B.Bq(h,x,3);for(var j=0;j<v;j++)for(var E=0;E<e;E++)d[j*e+E]+=Math.floor((65535-d[j*e+E])*x[j*e+E]*(1/255));
var p=Math.ceil(e/L),Z=new Uint32Array(L),o=new Uint32Array(L),p=Math.floor(e/L);for(var u=0;u<L;u++)o[u]=u<L-1?p:e-(L-1)*p;
for(var j=0;j<v;j++){var T=j*e;for(var u=0;u<L;u++){var p=o[u];for(var E=0;E<p;E++)Z[u]+=d[T+E];T+=p}}if(J){console.log(Date.now()-m,"cost");
m=Date.now()}var N=new Uint32Array(e),M=new Uint32Array(e),O=new Uint32Array(e*v);for(var E=0;E<e;E++){O[(v-1)*e+E]=d[(v-1)*e+E]}for(var j=v-2;
j>=0;j--){var F=j*e;for(var u=0;u<L;u++){var p=o[u];O[F]=d[F]+Math.min(O[F+e],O[F+e+1]);for(var E=1;
E<p-1;E++){var T=F+E;O[T]=d[T]+Math.min(O[T+e-1],Math.min(O[T+e],O[T+e+1]))}F+=p-1;O[F]=d[F]+Math.min(O[F+e-1],O[F+e]);
F++}}if(J){console.log(Date.now()-m,"Building M");m=Date.now()}function W(q,P){return q<P?q:P}function f(T,q){var P=M[T],g=O[q],a=~~(P*g*1e-4);
return a}var $=new Uint8Array(e*v),H=new Uint32Array(e);for(var T=0;T<e;T++){N[T]=T;M[T]=d[T]}for(var j=1;
j<v;j++){var A=0,F=j*e;for(var u=0;u<L;u++){var p=o[u],T=F;H[A]=f(A,T);var G=H[A]+f(A+1,T+1),l=f(A,T+1)+f(A+1,T);
H[A+1]=W(G,l);for(var E=2;E<p;E++){var T=F+E,K=H[A+E-1]+f(A+E-1,T-1),U=H[A+E-2]+f(A+E-1,T-2)+f(A+E-2,T-1);
H[A+E]=W(K,U)}var E=p-1;while(E>=2){var T=F+E,K=H[A+E-1]+f(A+E-1,T-1),U=H[A+E-2]+f(A+E-1,T-2)+f(A+E-2,T-1);
if(H[A+E]==K){$[T-e]=1;E-=1}else{$[T-e]=0;$[T-e-1]=2;E-=2}}var T=F;if(E==0){$[T-e]=1}else{if(H[A+1]==G){$[T+1-e]=1;
$[T-e]=1}else{$[T+1-e]=0;$[T-e]=2}}F+=p;A+=p}B.kL.aph(j,e,$,d,N,M,!0,m)}if(J){console.log(Date.now()-m,"Matching");
m=Date.now()}var z=d;return[UZIP.adler(h,0,h.length),h,e,v,L,o,Z,N,M,$,z]};B.kL.R1=function(h,e,v,J){var m=h.slice(0),d=m.shift(),x=m.shift(),j=m.shift(),E=m.shift(),L=m.shift(),p=m.shift(),Z=m.shift(),o=m.shift(),u=m.shift().slice(0),N=m.shift(),M=m.shift(),O=Date.now(),F=Math.abs(j-e),W=Math.floor(F/L),f=new Uint32Array(L),H=0,A=1e9,l=0,K=0,U=0;
for(var $=0;$<L;$++)f[$]=$<L-1?W:F-(L-1)*W;M.fill(0);for(var G=0;G<j;G++){H=Math.max(H,u[G]);A=Math.min(A,u[G])}for(var $=0;
$<L;$++){var z=p[$],W=f[$];for(var q=0;q<W;q++){var P=0,g=1e9;for(var G=0;G<z;G++)if(u[K+G]<g){g=u[K+G];
P=K+G}if(e<j)u[P]=1e9;else u[P]*=1.2;if(U<j/3)l+=g;var a=o[P],w=M[a],y=w<65280?65280:w+1;if(y<65280)throw"e";
for(var S=0;S<E;S++){var T=S*j+a;M[T]=y;a+=N[T]-1}U++}K+=z}if(J){console.log(Date.now()-O,"Removing best seams");
O=Date.now()}function i(T,Y){var _=T<<2,t=Y<<2;v[_]=x[t];v[_+1]=x[t+1];v[_+2]=x[t+2];v[_+3]=x[t+3]}for(var S=0;
S<E;S++){var C=0,T=S*j;for(var G=0;G<e;G++,C++){if(e<j){while(M[T+C]==65280)C++;i(S*e+G,S*j+C)}else{i(S*e+G,S*j+C);
while(M[T+C]>=65280){M[T+C]--;G++;i(S*e+G,S*j+C)}}}}if(J){console.log(Date.now()-O,"Shifting image pixels");
O=Date.now()}};B.kL.aph=function(h,e,v,J,m,d){var x=0,T=h*e;while(x<e){if(v[T-e]==1){d[x]=d[x]+J[T];
x++;T++}else{var j=m[x];m[x]=m[x+1];m[x+1]=j;var E=d[x];d[x]=d[x+1]+J[T];d[x+1]=E+J[T+1];x+=2;T+=2}}};
B.kL.aDB=function(h,e,v,J){function m(h,T,E){var Z=T<<2,o=E<<2,u=h[Z]-h[o],N=h[Z+1]-h[o+1],M=h[Z+2]-h[o+2];
return Math.abs(u)+Math.abs(N)+Math.abs(M)}for(var d=1;d<e;d++){var x=m(h,d,d-1);J[d-1]+=x;J[d]+=x}for(var j=1;
j<v;j++){var E=j*e,x=m(h,E,E-e);J[E]+=x;J[E-e]+=x;for(var d=1;d<e;d++){var T=j*e+d,L=m(h,T,T-1),p=m(h,T,T-e);
J[T-e]+=p;J[T-1]+=L;J[T]+=p+L}}for(var j=0;j<v;j++){J[j*e]*=2;J[j*e+e-1]*=2}for(var T=0;T<J.length;T++)if(J[T]==0)J[T]=1};
B.uF=function(){function h(){return 1953e6+Math.floor(Math.random()*999999)}function e(g,a){var w=a[0]-g[0],y=a[1]-g[1];
return w*w+y*y}function v(g,a,w,y,S,i,C,Y){var _=w-g,t=y-a,I=B.w.aW(g,a,_,t,S,i,C-S,Y-i),r=[g+I*_,a+I*t],n=I>0?[[[g,a],r,!1,0,1],[[S,i],r,!1,0,5]]:[[[w,y],r,!1,0,1],[[C,Y],r,!1,0,5]];
return n}function J(g,a){var w=v(g[0],g[1],g[2],g[3],g[6],g[7],g[4],g[5]),y=v(g[0],g[1],g[6],g[7],g[2],g[3],g[4],g[5]),S=[w,y],i=[w[0][1],y[0][1]];
for(var T=0;T<2;T++){var C=i[1-T],Y=S[T];if(e(Y[0][0],C)<e(Y[1][0],C)){var _=Y[0];Y[0]=Y[1];Y[1]=_}}var t=[h(),0,-1,0,[0,0],w[0],w[1],y[0],y[1]],I=H(t,a),r=I[1][0];
t[3]=r;t[4]=I[0][r];t[5][3]=t[6][3]=I[0].indexOf(t[5][1]);t[7][3]=t[8][3]=I[0].indexOf(t[7][1]);if((t[6][3]+1)%3!=t[7][3]){var _=t[5];
t[5]=t[7];t[7]=_;var _=t[6];t[6]=t[8];t[8]=_}for(var T=0;T<4;T++)t[5+T][4]=[1,5,7,3][T];return t}function m(g){var a=g[5],w=g[8],y=g[6],S=a[0],i=w[0],C=y[0],Y=a[1],_=w[1],t=i[0],I=i[1],r=_[0]-t,n=_[1]-I,Q=B.w.aW(t,I,r,n,C[0],C[1],Y[0]-C[0],Y[1]-C[1]);
return[S[0],S[1],t,I,t+Q*r,I+Q*n,C[0],C[1]]}function d(g,a){return g[0]==a[0]&&g[1]==a[1]}function x(g){return{1:0,5:1,7:2,3:3}[g]}function j(g,a,w){var y=a[5+x(g)],S=y[1],i=y[0][0]-S[0],C=y[0][1]-S[1],Y=Math.sqrt(i*i+C*C);
i/=Y;C/=Y;for(var _=0;_<w.length;_++){var t=w[_];if(t[0]!=a[1]&&t[1]!=a[0])continue;for(var T=0;T<4;
T++){var I=t[5+T],r=I[0];if(!d(S,I[1]))continue;var n=r[0]-S[0],Q=r[1]-S[1];Y=Math.sqrt(n*n+Q*Q);n/=Y;
Q/=Y;var D=n*i+Q*C;if(Math.abs(D-1)<1e-7)return!0}}return!1}function E(g,a){B.D.C(g,a);return a}function L(g,a){var w=[];
for(var y=0;y<g.length;y++){var S=g[y],i=S[1];for(var C=0;C<i.length;C++){if(a&&a[y].indexOf(C)==-1)continue;
var Y=i[C],_=[],t=B.D.s6(m(Y),new fP(0,0,1,1));for(var T=1;T<=7;T+=2){_[T]=j(T,Y,i)}if(!_[1]){if(!_[7])w.push([E(t,[0,0]),y,C,0]);
w.push([E(t,[.5,0]),y,C,1])}if(!_[3]){if(!_[1])w.push([E(t,[1,0]),y,C,2]);w.push([E(t,[1,.5]),y,C,3])}if(!_[5]){if(!_[3])w.push([E(t,[1,1]),y,C,4]);
w.push([E(t,[.5,1]),y,C,5])}if(!_[7]){if(!_[5])w.push([E(t,[0,1]),y,C,6]);w.push([E(t,[0,.5]),y,C,7])}}}return w}function p(g){var a=g.length-2,w=0;
for(var T=0;T<a;T+=2)w+=(g[T+2]-g[T])*(g[T+1]+g[T+3]);w+=(g[0]-g[a])*(g[a+1]+g[1]);return-w*.5}function Z(g,a,w,y){}function o(g,T){var a=g[T+2&7]-g[T&7],w=g[T+3&7]-g[T+1&7],y=1/Math.sqrt(a*a+w*w);
return[a*y,w*y]}function u(g){var a=g[2];g[2]=g[6];g[6]=a;var a=g[3];g[3]=g[7];g[7]=a}function N(g,a,w,y){if(y==null)y=0;
var S=a[1],i=m(a),Q=null,D,dx,jv,ee,az,n,k7;if(S==0){if(p(i)<0)u(i);var C=6,Y=i[7]+i[1];for(var T=0;
T<6;T+=2){var _=i[T+1]+i[T+3];if(_<Y){Y=_;C=T}}i=i.slice(C).concat(i.slice(0,C));var t=c.Zk.K6(i,w[0],w[1]),I=Math.sqrt(e(i,i.slice(2))),r=Math.sqrt(e(i.slice(4),i.slice(6))),n=(I+r)*.5;
return[i,new fP(0,0,n,n/t)]}for(var T=0;T<g.length&&Q==null;T++){D=g[T][1];for(var dG=0;dG<D.length&&Q==null;
dG++)if(D[dG][0]==S)Q=D[dG]}var R=N(g,Q,w,y+1),X=R[0];R=R[1];for(var T=0;T<8;T+=2){var gB=X[T&7],hQ=X[T+1&7],ah=X[T+2&7],kG=X[T+3&7];
for(var dG=0;dG<8;dG+=2){var iZ=i[dG],bs=i[dG+1],ey=i[dG+2&7],jp=i[dG+3&7],eh=Math.abs(B.w.bl(gB,hQ,ah,kG,iZ,bs))+Math.abs(B.w.bl(gB,hQ,ah,kG,ey,jp));
if(eh<=30){dx=dG;jv=T}}}var dt=o(X,jv),jN=o(i,dx),jX=dt[0]-jN[0],jw=dt[1]-jN[1],i7=jX*jX+jw*jw;if(i7<.001){u(i);
dx={0:6,2:4,4:2,6:0}[dx]}while(dx!=(jv+4&7)){i.unshift(i.pop());dx=dx+1&7}var t=c.Zk.K6(i,w[0],w[1]),kn=B.D.s6(X,R);
kn=B.D.ia(kn);var eK=[i[dx],i[dx+1],i[dx+2&7],i[dx+3&7]];B.D.C(kn,eK);var al=B.w.oS(eK);if(jv==0||jv==4){n=al.q;
k7=n/t;ee=al.x;az=al.y+(jv==0?-k7:0)}else{k7=al._;n=k7*t;az=al.y;ee=al.x+(jv==6?-n:0)}return[i,new fP(ee,az,n,k7)]}function M(g,a){function w(r,n,Q,D){var dG=E(r,[n,Q]);
dG.push(D);return dG}var y=[];for(var S=0;S<g.length;S++){var i=g[S],C=i[1];for(var Y=0;Y<C.length;Y++){var _=C[Y],t=N(g,_,a),I=t[0],r=B.D.s6(I,new fP(0,0,1,1));
y.push(w(r,.5,0,1));y.push(w(r,1,.5,3));y.push(w(r,.5,1,5));y.push(w(r,0,.5,7));y.push(w(r,.5,.5,[t?(t[1].q/t[1]._).toFixed(2):""].join(", ")))}}return y}function O(g,a,w,y){var S=[a],i=[a];
while(!0){var C=[];for(var T=0;T<g.length;T++){var Y=g[T],_=!1;for(var t=0;t<S.length;t++){if(Y[1]==g[S[t]][0]||Y[0]==g[S[t]][1])C.push(T)}}var I=S.length;
for(var T=0;T<C.length;T++){var r=C[T],Y=g[r];if(i.indexOf(r)!=-1)continue;i.push(r);var n=N([[10,g]],Y,y);
if(n[1].qm(w))S.push(r)}if(I==S.length)break}return S}function F(g,a,w){var y=w[0],S=w[1],i=a.x-g[0],C=a.y-g[1],Y=B.w.aW(g[0],g[1],i,C,S[0],S[1],y[0]-S[0],y[1]-S[1]);
return[g[0]+Y*i,g[1]+Y*C]}function W(g,a,w){g=B.t(g);var y=g[a[1]][1][a[2]],S=a[3]>=8,i=a[3]&7;if((i&1)==0)return g;
var C=x(i);if(i==1||i==7){var Y=y[5+C],_=y[5+2-C],t=y[5+(i==1?3:1)],I=y[5+(i==1?1:3)],r=Y[1],n=F(r,w,_);
if(!S&&e(n,_[1])<e(I[0],_[1]))return g;Y[0]=_[0]=n;t[0]=F(r,w,t)}else{var t=y[5+C],r=t[1],Y=y[5+(i==3?0:2)],n=F(r,w,Y);
if(!S&&e(n,Y[1])>e(Y[0],Y[1]))return g;if(Math.sign(Y[1][0]-Y[0][0])!=Math.sign(Y[1][0]-n[0]))return g;
t[0]=n}return g}function f(g,a,w){var y=a[0]-g[0],S=a[1]-g[1],i=B.w.aW(w[0],w[1],-S,y,g[0],g[1],y,S);
return[w[0]-S*i,w[1]+y*i]}function $(g,a,w){var y=w[0],S=w[1],E=f(g,a,w),i=E[0],C=E[1],Y=f(g,w,a),_=B.w.aW(i,C,y-i,S-C,a[0],a[1],Y[0]-a[0],Y[1]-a[1]);
return[i+(y-i)*_,C+(S-C)*_]}function H(g,a){var w=g[5][1],y=g[7][1],S=$(w,y,a),i=[w,y,S];i.sort(function(_,t){return _[0]-t[0]});
if(p([i[0][0],i[0][1],i[1][0],i[1][1],i[2][0],i[2][1]])<0){var C=i[1];i[1]=i[2];i[2]=C}var Y=[i.indexOf(w),i.indexOf(y),i.indexOf(S)];
return[i,Y]}function A(g,a,w){g=B.t(g);var y=a[1],S=g[y][1][a[2]],i=a[3];if((i&1)!=1)return g;var C=H(S,w),Y=C[1][2],_=C[0][Y],t=B.t(S);
g[y][1].push(t);t[0]=h();t[1]=S[0];t[2]=-10+i;t[3]=Y;t[4]=_;if(i==1||i==5){t[7][3]=t[8][3]=Y;t[7][1]=t[8][1]=_;
if(i==5){t[5][0]=t[7][0]=S[6][0];t[8][0]=m(S).slice(4,6)}}else{t[5][3]=t[6][3]=Y;t[5][1]=t[6][1]=_;if(i==3){t[5][0]=t[7][0]=S[8][0];
t[6][0]=m(S).slice(4,6)}}return g}function G(g,a,w){g=B.t(g);var y=a[1],S=g[y][1][a[2]],i=S[2]+10,C=i+4&7,Y=i==1||i==5,_=S[5+x(Y?7:1)][1],t=S[5+x(C)][0],I=S[5+x(i)][0];
S[2]=(Y?90:0)+(e(t,_)<e(I,_)?180:0);var r=J(m(S),w);for(var T=5;T<9;T++)S[T]=r[T];return g}function l(g,a,w){var iW=g.length>>1,y,S=g[2*iW-3]-w,i=g[2*iW-2]-a,C=g[2*iW-1]-w,Y=!1,_=0;
for(var T=0;T<iW;T++){y=i;S=C;i=g[2*T]-a;C=g[2*T+1]-w;if(S==C)continue;Y=C>S}for(var T=0;T<iW;T++){y=i;
S=C;i=g[2*T]-a;C=g[2*T+1]-w;if(S<0&&C<0)continue;if(S>0&&C>0)continue;if(y<0&&i<0)continue;if(S==C&&Math.min(y,i)<=0)return!0;
if(S==C)continue;var t=y+(i-y)*-S/(C-S);if(t==0)return!0;if(t>0)_++;if(S==0&&Y&&C>S)_--;if(S==0&&!Y&&C<S)_--;
Y=C>S}return(_&1)==1}function K(g,a,w,y,S){var i=null;for(var C=0;C<g.length;C++){var Y=g[C][1];for(var _=0;
_<Y.length;_++){var t=m(Y[_]);if(l(t,a,w)||S&&S[0]==C&&S[1]==_&&i==null){i=[C,_];if(y){var I=N(g,Y[_],y),r=B.D.s6(I[0],I[1]),n=[a,w];
r=B.D.ia(r);B.D.C(r,n);i.push(n)}}}}return i}function U(g,a){for(var w=0;w<g.length;w++){var y=g[w][1],S=a[w];
if(S.length==0)continue;var i=z(y,S);for(var C=0;C<y.length;C++){if(i.indexOf(y[C][0])!=-1){y.splice(C,1);
C--}}}for(var w=0;w<g.length;w++)if(g[w][1].length==0){g.splice(w,1);w--}return g}function z(g,a){var w=[];
for(var T=0;T<10;T++)for(var y=0;y<g.length;y++){var S=g[y];if(a.indexOf(y)!=-1||w.indexOf(S[1])!=-1)if(w.indexOf(S[0])==-1)w.push(S[0])}return w}function q(g){var a=b.RZ(g,0,g.length),w=a.split("\n").slice(1);
function y(){return parseFloat(w.shift())}function S(){var iZ=[y(),y()];i(1);return iZ}function i(iW){for(var T=0;
T<iW;T++)w.shift()}var C=[],Y=y();for(var _=0;_<Y;_++){var t=y(),I=y(),r=[];C.push([t,r]);for(var n=0;
n<I;n++){var Q=y(),D=y(),dG=y(),R=y(),X=S(),dx=[Q,D,dG,R,X];r.push(dx);for(var T=0;T<4;T++){var jv=S(),gB=S(),hQ=y()==1,ah=y(),kG=y();
dx.push([jv,gB,hQ,ah,kG])}}}return C}function P(g){function a(I){w.push(I[0],I[1],"")}var w=["tNaF203"];
w.push(g.length);for(var y=0;y<g.length;y++){w.push(g[y][0]);var S=g[y][1];w.push(S.length);for(var i=0;
i<S.length;i++){var C=S[i];w.push(C[0],C[1],C[2],C[3]);a(C[4]);for(var T=0;T<4;T++){var Y=C[5+T];a(Y[0]);
a(Y[1]);w.push(Y[2]?1:0,Y[3],Y[4])}}}var _=w.join("\n"),t=new Uint8Array(_.length);b._z(t,0,_);return t}return{kq:q,el:P,amA:m,a8R:J,Un:L,acJ:W,_W:M,adj:function(g,a){return a&&(a[3]&1)==0&&g[a[1]][1].length==1},Pm:function(g,a){return a&&(a[3]&1)==1},oG:N,a7Y:A,ayJ:G,aAc:U,fy:z,D_:K,$p:O}}();
B.apN=function(){var h=0,e=0,J=15,d=256;function v(p,Z,o,u,N,M){var O=(N-1)*Z,F=M*Z;return p[F+u]-p[F+o-1]-p[O+u]+p[O+o-1]}var m=Math.round(J/8),x=[];
function j(p,Z){for(var o=0;o<Z.length;o++){var u=Z[o],N=0,M=0,O=p[u.ee],F=O.xA,W=O.VA,f=O.qw;for(var $=-J;
$<=J;$++)for(var H=-J;H<=J;H++){var A=H+u.a99,G=$+u.aue;if(H*H+$*$>J*J||A<0||G<0||A>=W||G>=W)continue;
var l=F[G*W+A];N+=H*l;M+=$*l}u.Yk=Math.atan2(M,N)}}function E(p,Z,o,u,N){var M=~~(p+.5),O=~~(Z+.5);return v(o,u,M-m,M+m,O-m,O+m)}function L(p,Z,o,u,N){h=u;
e=N;if(x.length==0){var M=new B.B.Ay(16200817),f=8,$=0;function O(X){var U=X[0]-X[2],z=X[1]-X[3];return U*U+z*z}function F(){var X=0,dx=0;
while(X===0)X=M.get();while(dx===0)dx=M.get();return Math.sqrt(-2*Math.log(X))*Math.cos(2*Math.PI*dx)}var W=F,H=[];
while($!=d){var A=Math.max(-J,Math.min(J,W()*f)),G=Math.max(-J,Math.min(J,W()*f)),l=Math.max(-J,Math.min(J,W()*f)),K=Math.max(-J,Math.min(J,W()*f)),U=A-l,z=G-K,q=Math.sqrt(U*U+z*z);
if(q<3||q>12)continue;x.push(A,G,l,K);$++}}var P=20;for(var g=0;g<Z.length;g++){var a=Z[g],w=p[a.ee],y=w.b1,o=w.xA,u=w.VA,N=w.qw,S=a.a99,i=a.aue,C=a.Yk,Y=Math.cos(C),_=Math.sin(C),t=new Uint8Array(d>>>3);
a.TH=t;for(var T=0;T<d;T++){var I=T*4,A=x[I+0],G=x[I+1],l=x[I+2],K=x[I+3],r=Y*A-_*G,n=_*A+Y*G,Q=Y*l-_*K,D=_*l+Y*K,dG=E(S+r,i+n,y,u,N),R=E(S+Q,i+D,y,u,N);
t[T>>>3]|=(dG<R?0:1)<<(T&7)}}}return{auk:j,a6V:L}}();B.arK=function(){function h(e,v){var J=[[9]],m=Date.now(),d=[];
for(var x=0;x<e.length;x++){var j=e[x],E=j.b1,L=j.VA,p=j.qw,u=9,f=1,a=24;if(E==null)continue;var Z=new Float32Array(L*p),o=new Uint8Array(L*p),N=u>>>1,M=N>>>1,O=Math.round(u/3);
if(O!=u/3)throw"e";var F=1/(u*u),W=1.2*(u/9);for(var $=N+1;$<p-N;$+=f)for(var H=N+1;H<L-N;H+=f){var A=B.aq(E,L,H-M,H+M,$-N,$+N)-3*B.aq(E,L,H-M,H+M,$-N+O,$+N-O),G=B.aq(E,L,H-N,H+N,$-M,$+M)-3*B.aq(E,L,H-N+O,H+N-O,$-M,$+M),l=H-N+1,K=H+N-1,U=$-N+1,z=$+N-1,q=B.aq(E,L,l,H-1,U,$-1)+B.aq(E,L,H+1,K,$+1,z)-B.aq(E,L,H+1,K,U,$-1)-B.aq(E,L,l,H-1,$+1,z),P=(G*A-.9*q*(.9*q))*(F*F);
Z[$*L+H]=Math.abs(P);o[$*L+H]=P<0?0:1}var g=L*f;for(var $=a;$<p-a;$+=f)for(var H=a;H<L-a;H+=f){var T=$*L+H,w=Z[T];
if(w<16)continue;if(Z[T-f]>=w||Z[T+f]>=w)continue;if(Z[T-g-f]>=w||Z[T-g]>=w||Z[T-g+f]>=w)continue;if(Z[T+g-f]>=w||Z[T+g]>=w||Z[T+g+f]>=w)continue;
d.push({x:~~(H*j._w+.5),y:~~($*j._w+.5),a99:H,aue:$,ee:x,J:w,avL:o[T],eL:W})}}if(v!=null){d.sort(function(I,r){return r.J-I.J});
d=d.slice(0,v)}return d;var y=[];for(var T=0;T<d.length;T++){var S=!0,i=d[T];for(var C=0;C<d.length;
C++){var Y=d[C];if(C!=T&&Y.J>i.J&&(Y.ee==i.ee+1||Y.ee==i.ee-1)){var _=i.x-Y.x,t=i.y-Y.y;if(_*_+t*t<5){S=!1;
break}}}if(S)y.push(i)}console.log(d.length,y.length);return y}return{a8a:h}}();B.P5={};B.P5.awk=function(h){var e=h.length,v=B.P5.anU(h,!1),m=0,d=1;
throw"e";var J=[];for(var T=0;T<e;T++)J[T]=B.P5.a1J(v[T]);var x=h[0][1],j=B.P5.match(v[m],v[d],J[d]);
console.log(j.length);var E=Math.max(Math.min(j.length,40),j.length*.54);E=Math.min(E,200);var L=j.slice(0,E),p=B.aU.agQ(v[m],v[d],L,x.q,x._),Z=B.aU.aoE(p,[0,0,0],1),o=x.q/2,u=x._/2,N=1/Math.max(o,u);
for(var T=0;T<1;T++){var M=L[T],O=v[m][M[0]],F=v[d][M[1]],W=B.aU.avQ(Z,N*(O.x-o),N*(O.y-u),N*(F.x-o),N*(F.y-u))}var f=B.aU.arJ(p,x),$=[];
for(var T=0;T<2;T++){var H=f[T],A=[H[0][0],H[0][1],H[0][2],H[1][0],H[1][1],H[1][2],H[2][0],H[2][1]],G=c.L2.pf(h[T],null,A);
$.push([G.buffer,G.R])}return[B.P5.a5T($[0],$[1],v[m],v[d],L,p,f,x)]};B.P5.u3=function(h,e){var v=h.length,J=!1,m=Date.now(),d=B.P5.anU(h,!1,1e4);
if(J)console.log("Descriptors ready",Date.now()-m);m=Date.now();for(var T=0;T<v;T++){var x=h[T][1];for(var j=0;
j<d[T].length;j++){d[T][j].x+=x.x;d[T][j].y+=x.y}}if(J)console.log("shifted",Date.now()-m);m=Date.now();
var E=[];for(var T=0;T<v;T++)E[T]=B.P5.a1J(d[T]);if(J)console.log("trees built",Date.now()-m);m=Date.now();
var L=[];for(var T=0;T<v-1;T++)for(var j=T+1;j<v;j++){var p=B.P5.match(d[T],d[j],E[j]);if(J)console.log("Matches found",T,j,p.length);
p=p.slice(0,p.length>>>1);if(p.length<10)continue;var Z=B.P5.atk(d[T],d[j],p,2);L.push([T,j,p,Z])}L.sort(function(K,U){return U[2].length-K[2].length});
if(J)console.log("Matches found",Date.now()-m);m=Date.now();var o=[],u=new UnionFind(v);for(var T=0;
T<L.length;T++){var N=L[T],M=u.find(N[0]),O=u.find(N[1]);if(M!=O){o.push(N);u.link(M,O)}}var F=[];for(var T=0;
T<v;T++)F[T]=[1,0,0,0,1,0,0,0];var W=[0],f=new Uint8Array(v);f[W[0]]=1;while(W.length!=0){var O=W.pop(),Z=F[O],$=[];
for(var T=0;T<o.length;T++){var N=o[T],H=N[0],A=N[1];if(H==O&&f[A]==0){F[A]=B.D.Eh(Z,N[3]);W.push(A);
f[A]=1}if(A==O&&f[H]==0){F[H]=B.D.Eh(Z,B.D.ia(N[3]));W.push(H);f[H]=1}}}if(e==null){var G=[];for(var T=0;
T<v;T++)G.push([F[T][2],T]);G.sort(function(K,U){return K[0]-U[0]});e=G[G.length>>>1][1]}var l=B.D.ia(F[e]);
for(var T=0;T<v;T++)F[T]=B.D.Eh(F[T],l);if(J)console.log("Transforms reordered",Date.now()-m);m=Date.now();
return F};B.P5.anU=function(h,e,v){var J=[],m=!1;for(var T=0;T<h.length;T++){var d=h[T][0],x=h[T][1],j=x.q,E=x._,L=B.U(x.$());
B.hS(d,L);var p=Date.now(),Z=B.P5.a6o(L,x,!0);if(m)console.log("Pyramid built ---------------",Date.now()-p);
p=Date.now();var o=B.arK.a8a(Z,v);if(m)console.log("SURF Generation",Date.now()-p);p=Date.now();if(!e){B.apN.auk(Z,o);
if(m)console.log("ORB Orientations",Date.now()-p);p=Date.now();B.apN.a6V(Z,o,L,j,E);if(m)console.log("ORB Descriptors",Date.now()-p);
p=Date.now()}J.push(o)}return J};B.P5.a6o=function(h,e,v){var J=[],m=[h,e];B.mU(m);if(v){var d=B.auC(h,e),x=d.R,j=[d.su,x];
B.mU(j)}for(var T=0;T<m.length;T++){var E=m[2*T],L=m[2*T+1],p=L.q,Z=L._,o=Math.min(p,Z);if(o<30)break;
if(o<1600)J.push({xA:E,VA:p,qw:Z,_w:1<<T,b1:B.wR(E,p,Z)});if(!v)continue;var E=j[2*T],L=j[2*T+1],p=L.q,Z=L._,o=Math.min(p,Z);
if(o<30)break;if(o<1600)J.push({xA:E,VA:p,qw:Z,_w:(1<<T)*3/2,b1:B.wR(E,p,Z)})}return J};B.P5.atk=function(h,e,v,J){var m=Date.now(),d,x=0,j=0,E=v.length,L=new Float64Array(2);
for(var p=0;p<3e3;p++){var Z=~~(Math.random()*E),o=~~(Math.random()*E),u=~~(Math.random()*E),N=~~(Math.random()*E),g=0,a=0;
if(Z==o||Z==u||Z==N||o==u||o==N||u==N)continue;var M=v[Z],O=v[o],F=v[u],W=v[N],f=h[M[0]],$=e[M[1]],H=h[O[0]],A=e[O[1]],G=h[F[0]],l=e[F[1]],K=h[W[0]],U=e[W[1]],z=[f.x,f.y,H.x,H.y,G.x,G.y,K.x,K.y],q=[$.x,$.y,A.x,A.y,l.x,l.y,U.x,U.y],P=B.D.at7(z,q);
if(P[0]==0&&P[1]==0&&P[3]==0&&P[4]==0)continue;var w=E-x+2;for(var T=0;T<E&&T-g<w;T++){var y=h[v[T][0]],S=e[v[T][1]];
B.D.CJ(S.x,S.y,P,L);var i=L[0]-y.x,C=L[1]-y.y,Y=i*i+C*C;if(Y<J){g++;a+=Y}}if(g>x||g==x&&a<j){d=P;x=g;
j=a}}return d};var fW=new Uint8Array(256);for(var T=0;T<256;T++){var cg=0,iW=T;while(iW!=0){iW=iW&iW-1;
cg++}fW[T]=cg}B.P5.a3p=function(h,e,v){var J=0,m=h.length;for(var T=0;T<m&&J<v;T++)J+=fW[h[T]^e[T]];
return J};B.P5.a0z=function(h,e,v,top,J){if(J[v]==1)return;var m=B.P5.a3p(h.TH,e.TH,top[0]);if(m<top[0]){if(m<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=m;top[3]=v}else{top[0]=m;top[1]=v}}J[v]=1};B.P5.a1J=function(h){var e=[],v=[],J=[[],[]],m=4;
for(var T=0;T<h.length;T++)(h[T].avL==0?e:v).push(T);for(var d=0;d<2;d++){var x=new Array(m),j=[],E=d==0?e:v,L=E.length/256,p=[];
for(var Z=0;Z<32;Z++){var o=new Array(256),M=0;for(var u=0;u<256;u++)o[u]=[];for(var u=0;u<E.length;
u++){var N=E[u];o[h[N].TH[Z]].push(N)}for(var u=0;u<256;u++)M+=Math.abs(o[u].length-L);p.push([M,Z,o])}p.sort(function(O,F){return O[0]-F[0]});
var j=[],x=[];J[d]=[j,x];for(var T=0;T<m;T++){j.push(p[T][1]);x.push(p[T][2])}}return J};B.P5.match=function(h,e,v){var J=[],m=new Uint16Array(e.length);
m.fill(65535);var d=new Uint8Array(e.length),top=new Uint32Array(4),x=[];for(var j=0;j<h.length;j++){var E=h[j],L=E.TH;
top.fill(1e6);d.fill(0);var p=v[E.avL];for(var Z=0;Z<p[1].length;Z++){var o=p[1][Z][L[p[0][Z]]];for(var u=0;
u<o.length;u++){var N=o[u];B.P5.a0z(E,e[N],N,top,d)}}if(top[2]<50&&top[2]<top[0]*.5){var M=m[top[3]];
if(M==65535){m[top[3]]=J.length;J.push([j,top[3],top[2]])}else if(top[2]<J[M][2]){J[M]=[j,top[3],top[2]]}}}J.sort(function(O,F){return O[2]-F[2]});
return J};B.P5.a19=function(h){var e=new fP;for(var T=0;T<h.length;T++)e=e.R$(h[T][1]);var v=B.U(e.$()*4);
for(var T=0;T<h.length;T++)B.B.lU("norm",h[T][0],h[T][1],v,e,e,1);return[v,e]};B.P5.a5T=function(h,e,v,J,m,d,x,j){var E=h[1].O(),L=E.O();
E.x=E.y=0;var p=e[1].O(),Z=p.O();p.x=p.y=0;p.x=E.q;var o=E.R$(p),u=Z.y-L.y,N=B.U(o.$()*4);B.YZ(h[0],E,N,o);
B.YZ(e[0],new fP(p.x,p.y+u,p.q,p._),N,o);var M=document.createElement("canvas");M.width=o.q;M.height=o._;
var O=M.getContext("2d");O.lineWidth=.5;O.putImageData(new ImageData(new Uint8ClampedArray(N.buffer),o.q,o._),0,0);
if(d){var F=d[0],W=B.ok.nc(F),f=E.q,$=j.q;for(var T=0;T<m.length;T++){var H=m[T],h=v[H[0]],e=J[H[1]];
O.strokeStyle="#"+"ff0000";O.beginPath();var A=B.aU.a3o(W,x[0],e,0,$),G=B.aU.a3o(F,x[1],h,0,$);O.moveTo(-L.x+A[0],-L.y+A[1]);
O.lineTo(-L.x+A[2],-L.y+A[3]);O.moveTo(f-Z.x+G[0],-Z.y+u+G[1]);O.lineTo(f-Z.x+G[2],-Z.y+u+G[3]);O.stroke()}}if(m){var l=m.length;
for(var T=0;T<l;T++){var H=m[T],h=v[H[0]],e=J[H[1]];O.strokeStyle="#"+"ffff00"}}var K=new Uint8Array(O.getImageData(0,0,o.q,o._).data.buffer);
if(!1){for(var U=0;U<2;U++){var z=U==0?v:J,q=U*E.q;for(var T=0;T<z.length;T++){var P=z[T],g=~~P.x,a=~~P.y,w=(a*o.q+g+q)*4;
K[w+1]=K[w+2]=P.afC*60;K[w+0]=0;K[w+3]=255}}}return[K,o]};B.stack={};B.stack.stack=function(h,e,v){var J=h.length,m=e.length;
if(J==1){e.set(h[0]);return}if(v=="avrg"||v=="stdv"||v=="summ"||v=="vari"){var d=1/J;for(var T=0;T<m;
T++){var x=0;for(var j=0;j<J;j++)x+=h[j][T];var E=~~(x*d+.5);if(v=="avrg"||(T&3)==3)e[T]=E;else if(v=="summ")e[T]=255*Math.pow(Math.min(255,x)*(1/255),1/2.4);
else{var L=0;for(var j=0;j<J;j++){var p=h[j][T]-E;L+=p*p}var Z=Math.sqrt(L*d)*(1/255);if(v=="stdv")e[T]=255*Math.pow(Z,1/2.4);
else e[T]=255*Math.pow(Z*Z,1/2.4)}}}else if(v=="maxx"){for(var T=0;T<m;T++){var o=0;for(var j=0;j<J;
j++)o=Math.max(o,h[j][T]);e[T]=o}}else if(v=="minn"){for(var T=0;T<m;T++){var o=255;for(var j=0;j<J;
j++)o=Math.min(o,h[j][T]);e[T]=o}}else if(v=="medn"||v=="rang"){var u=function(F,W){return F-W},N=new Array(J),M=0,O=0;
if((J&1)==0){O=J>>>1;M=O-1}else{M=O=J>>>1}for(var T=0;T<m;T++){for(var j=0;j<J;j++)N[j]=h[j][T];N.sort(u);
if(v=="medn")e[T]=N[M]+N[O]>>>1;else e[T]=(T&3)==3?N[J-1]:N[J-1]-N[0]}}else console.log(v)};B.yw={};
B.yw.aqb=function(h,e,v,J){var m=Date.now(),d=new Uint32Array(e*v),x=new Uint8Array(e*v);while(!0){x.fill(0);
d.fill(0);var j=[],E=0;for(var L=0;L<v;L++){for(var p=0;p<e;p++){var T=L*e+p;if(x[T]==0){var Z=j.length,o=B.yw.Hr(h,e,v,p,L,x,d,Z);
j.push([Z,p,L,o[0],o[1],h[T]]);if(o[0]<J)E++}}}if(E==0)break;var u=j.length,N=new UnionFind(u),M=[];
for(var T=0;T<u;T++)M.push([]);for(var T=0;T<u;T++){var o=j[T],O=o[4],F=0,W=0;if(o[3]>=J)continue;var Z=o[0];
for(var f=0;f<O.length;f+=2){var $=d[O[f+1]*e+O[f]],H=j[$];if(H[3]>W){W=H[3];F=$}}if(N.find(Z)!=N.find(F)){N.link(Z,F);
M[Z].push(F);M[F].push(Z)}}var A=new Uint32Array(u);A.fill(4294967295);var G=new Uint32Array(u);for(var T=0;
T<u;T++){if(A[T]!=4294967295||M[T].length==0)continue;var l=[T],K=[T],U=T,z=j[T][3];while(K.length!=0){var q=K.pop(),P=M[q];
for(var f=0;f<P.length;f++){var g=P[f];if(l.indexOf(g)==-1){l.push(g);K.push(g);var a=j[g];if(a[3]>z){z=a[3];
U=g}}}}for(var f=0;f<l.length;f++){A[l[f]]=U;var w=j[U];G[l[f]]=h[w[2]*e+w[1]]}}for(var L=0;L<v;L++)for(var p=0;
p<e;p++){var T=L*e+p,y=A[d[T]];if(y!=4294967295)h[T]=G[y]}}};B.yw.Hr=function(h,e,v,J,m,d,x,j){var E=[J,m],L=h[m*e+J],p=0,Z=[];
d[m*e+J]=1;while(E.length!=0){var o=E.pop(),u=E.pop(),T=o*e+u;x[T]=j;p++;if(o!=v-1)if(h[T+e]==L){if(d[T+e]==0){E.push(u,o+1);
d[T+e]=1}}else Z.push(u,o+1);if(o!=0)if(h[T-e]==L){if(d[T-e]==0){E.push(u,o-1);d[T-e]=1}}else Z.push(u,o-1);
if(u!=e-1)if(h[T+1]==L){if(d[T+1]==0){E.push(u+1,o);d[T+1]=1}}else Z.push(u+1,o);if(u!=0)if(h[T-1]==L){if(d[T-1]==0){E.push(u-1,o);
d[T-1]=1}}else Z.push(u-1,o)}return[p,Z]};B.yw.av1=function(h,e,v){var J=new Uint32Array(e*v);for(var T=0;
T<J.length;T++)J[T]=h[T];var m=[];for(var d=0;d<v;d++){for(var x=0;x<e;x++){var T=d*e+x,j=J[T];if(j<1e3){var E=B.yw.atV(J,e,v,x,d,1e3+m.length);
m.push([x,d,j,E,0])}}}for(var T=0;T<J.length;T++)J[T]-=1e3;var L=new Float32Array(e*v);L.fill(e+v);for(var d=0;
d<v;d++)for(var x=0;x<e;x++){var T=d*e+x,j=J[T];if(x==0||d==0||J[T-1]!=j||J[T-e]!=j)L[T]=0;else{var p=Math.min(L[T],L[T-1]+1,L[T-e]+1);
if(J[T-e-1]==j)p=Math.min(p,L[T-e-1]+1.414);L[T]=p}}for(var d=v-1;d>=0;d--)for(var x=e-1;x>=0;x--){var T=d*e+x,j=J[T];
if(x==e-1||d==v-1||J[T+1]!=j||J[T+e]!=j)L[T]=0;else{var p=Math.min(L[T],L[T+1]+1,L[T+e]+1);if(J[T+e+1]==j)p=Math.min(p,L[T+e+1]+1.414);
L[T]=p}}for(var d=0;d<v;d++)for(var x=0;x<e;x++){var T=d*e+x,Z=m[J[T]];if(L[T]>Z[4]){Z[4]=L[T];Z[0]=x;
Z[1]=d}}return m};B.yw.atV=function(h,e,v,J,m,d){var x=[J,m],j=h[m*e+J],E=0;h[m*e+J]=4294967295;while(x.length!=0){var m=x.pop(),J=x.pop(),T=m*e+J;
E++;h[T]=d;if(m<v-1&&h[T+e]==j){x.push(J,m+1);h[T+e]=4294967295}if(m>0&&h[T-e]==j){x.push(J,m-1);h[T-e]=4294967295}if(J>0&&h[T-1]==j){x.push(J-1,m);
h[T-1]=4294967295}if(J<e-1&&h[T+1]==j){x.push(J+1,m);h[T+1]=4294967295}}return E};B.yw.auG=function(h,e,v,J,m){var d=B.yw.a6s(h.buffer,e,v).KW,x=Date.now(),j=[];
for(var T=0;T<d.length;T++){var E=d[T],L=1;for(var p=0;p<L;p++)j.push(E.tg)}var Z=new Uint32Array(j),o=UPNG.quantize.getKDtree(new Uint8Array(Z.buffer),J),u=[e,1,-e,-1,e+1,-e+1,-e-1,e-1,e+e,2,-e-e,-2,e+e-1,e+e+1,e+2,-e+2,-e-e+1,-e-e-1,-e-2,e-2,e+e+2,-e-e+2-e-e-2,e+e-2],N=new Uint8Array(e*v),M=h;
for(var O=0;O<v;O++)for(var F=0;F<e;F++){var T=O*e+F<<2,W=M[T]*(1/255),f=M[T+1]*(1/255),$=M[T+2]*(1/255),H=M[T+3]*(1/255),A=B.yw.L3(o,W,f,$,H,m);
if(A==null){var G=[],l=0;while(l<20){var K=O*e+F+u[l]<<2,U=M[K]*(1/255),z=M[K+1]*(1/255),q=M[K+2]*(1/255),P=M[K+3]*(1/255),g=B.yw.L3(o,U,z,q,P,.005);
if(g!=null){if(G.indexOf(g)==-1){G.push(g);g.Pw=1}else g.Pw++}l++}G.sort(function(H,$){return $.Pw-H.Pw});
while(G.length!=0&&G[G.length-1].Pw<3)G.pop();if(G.length==0)A=B.yw.L3(o,W,f,$,H,100);else if(G.length==1)A=G[0];
else if(G.length==2){var a=G[0],w=G[1],y=a.est.q,S=w.est.q,i=S[0]-y[0],C=S[1]-y[1],Y=S[2]-y[2],_=S[3]-y[3],t=W-y[0],I=f-y[1],r=$-y[2],n=H-y[3],Q=i*i+C*C+Y*Y+_*_,D=t*t+I*I+r*r+n*n,dG=(t*i+I*C+r*Y+n*_)/Q,R=D-dG*dG*Q;
if(R<.5)A=dG<.5?a:w;else{A=B.yw.L3(o,W,f,$,H,100)}}else{var a=G[0],w=G[1],X=G[2],y=a.est.q,S=w.est.q,dx=X.est.q,jv=y[0]-dx[0],gB=y[1]-dx[1],hQ=y[2]-dx[2],ah=y[3]-dx[3],kG=S[0]-dx[0],iZ=S[1]-dx[1],bs=S[2]-dx[2],ey=S[3]-dx[3],jp=dx[0]-W,eh=dx[1]-f,dt=dx[2]-$,jN=dx[3]-H,jX=jv*jv+gB*gB+hQ*hQ+ah*ah,jw=jv*kG+gB*iZ+hQ*bs+ah*ey,i7=jp*jv+eh*gB+dt*hQ+jN*ah,kn=jv*kG+gB*iZ+hQ*bs+ah*ey,eK=kG*kG+iZ*iZ+bs*bs+ey*ey,ee=jp*kG+eh*iZ+dt*bs+jN*ey,az=1/(jw*kn-jX*eK),dG=(eK*i7-ee*jw)*az,k7=(ee*jX-i7*kn)*az,al=1-dG-k7,kl=Math.max(dG,k7,al);
if(kl==dG)A=a;else if(kl==k7)A=w;else A=X}}N[T>>2]=A.ind}return{Wi:N,KW:o[1]}};B.yw.a6s=function(h,e,v){var J=[],m={},d=e-1,x=v-1,j=0,E=new Uint32Array(h),L=[-e-1,-e,-e+1,-1,1,e-1,e,e+1,e+e,2,-e-e,-2,e+e-1,e+e+1,e+2,-e+2,-e-e+1,-e-e-1,-e-2,e-2,e+e+2,-e-e+2-e-e-2,e+e-2];
for(var p=1;p<x;p++)for(var Z=1;Z<d;Z++){var o=p*e+Z,u=E[o],N=!0;for(var T=0;T<8;T++)N=N&&E[o+L[T]]==u;
if(N){j++;var M=m[u];if(M==null){m[u]=J.length;J.push({tg:u,VJ:1})}else J[M].VJ++}}return{KW:J,aFX:j}};
B.yw.L3=function(h,e,v,J,m,d){var x=UPNG.quantize.getNearest(h[0],e,v,J,m);return B.yw.acV(x,e,v,J,m)<d?x:null};
B.yw.acV=function(h,e,v,J,m){var d=h.est.q,x=e-d[0],j=v-d[1],E=J-d[2],L=m-d[3];return x*x+j*j+E*E+L*L};
(function(){B.yw.jr=function(j,E,L,p,Z){var o=j.uX,u=E*L,N=j.xx,M=j.Wi,O=J(p,M,o,u),F=new UnionFind(o),G=0;
for(var W=1;W<L;W++)for(var f=1;f<E;f++){var T=W*E+f,$=M[T],H=0;if((H=M[T-1])!=$&&O[H]==O[$]&&h(N,0,$*6,H*6)<Z)F.link($,H);
if((H=M[T-E])!=$&&O[H]==O[$]&&h(N,0,$*6,H*6)<Z)F.link($,H)}var A=new Uint16Array(o);A.fill(65535);var l=new Uint16Array(o);
for(var T=0;T<o;T++){var K=F.find(T);if(A[K]==65535)A[K]=G++;l[T]=A[K]}var U=new Uint16Array(u);for(var T=0;
T<u;T++)U[T]=l[M[T]];return{Wi:U,uX:G}};B.yw.TJ=function(j,E,L){var p=B.U(E),Z=j.length;for(var T=0;
T<Z;T++){var o=L[T];if(o==0||o==255){var u=j[T],N=2-(o>>>7),M=p[u]=p[u]|N;if(M==3)return u}}return-1};
function h(j,E,L,p){var Z=1/j[L+5],o=1/j[p+5],u=j[L]*Z-j[p]*o,N=j[L+1]*Z-j[p+1]*o,M=j[L+2]*Z-j[p+2]*o,O=j[L+3]*Z-j[p+3]*o,F=j[L+4]*Z-j[p+4]*o,W=Math.sqrt(u*u+N*N+M*M),f=Math.sqrt(O*O+F*F);
return~~(W+E*f+.5)}function e(j,E){var T=0,L=j.length;while(T!=L&&j[T]!=E)T+=2;return T==L?-1:T}function v(j,T){if(T==j.length-2){j.pop();
j.pop()}else{j[T+1]=j.pop();j[T]=j.pop()}}B.yw.a6_=function(j,E,L,p,Z){var o=new Uint32Array(Z*4400),u=[];
for(var T=0;T<Z;T++)u.push([]);for(var N=0;N<L;N++)for(var M=0;M<E;M++){var T=N*E+M,O=T<<2,F=p[T],W=0,f=j[O]>>>4,$=j[O+1]>>>4,H=j[O+2]>>>4;
o[F*4400+(f<<8|$<<4|H)]++;o[F*4400+4096]++;o[F*4400+4100+(f<<4|$)]++;o[F*4400+4360+f]++;if(M!=0&&(W=p[T-1])!=F&&e(u[F],W)==-1){u[F].push(W,0);
u[W].push(F,0)}if(N!=0&&(W=p[T-E])!=F&&e(u[F],W)==-1){u[F].push(W,0);u[W].push(F,0)}}for(var T=0;T<Z;
T++){var H=u[T];for(var A=0;A<H.length;A+=2)H[A+1]=x(o,T,H[A])}return[o,u]};function J(j,E,L,p){var Z=B.U(L);
for(var T=0;T<p;T++){var o=j[T];if(o==0||o==255)Z[E[T]]=2-(o>>>7)}return Z}B.yw.a7p=function(j,E,L,p,Z,o,u){var N=E*L,M=u[0],O=u[1],F=new UnionFind(p),W=J(Z,j,p,N),f=-1,$=!0,H=0;
for(var T=0;T<p;T++)if(W[T]==1){if(f==-1)f=T;else F.link(T,f)}if(f==-1){for(var T=0;T<N;T++)o[T]=Z[T]==255?255:0;
return}while($){while($){$=!1;for(var T=0;T<p;T++){if(W[T]==0){var A=m(O[T]);if(W[A]==1){W[T]=W[A];$=!0;
F.link(T,A)}}}}$=!0;H=0;while($){$=!1;for(var T=0;T<p;T++){if(W[T]==0){var A=m(O[T]);if(W[A]==0){var G=T*4400,l=A*4400;
for(var K=0;K<4400;K+=2){M[G+K]+=M[l+K];M[G+K+1]+=M[l+K+1]}d(O,M,T,A);H++;W[A]=3;$=!0;F.link(T,A)}}}}$=H!=0}var U=F.find(f);
for(var T=0;T<p;T++)W[T]=F.find(T)==U?255:0;for(var T=0;T<N;T++){o[T]=W[j[T]]}for(var T=0;T<N;T++){var A=Z[T];
if(A==0||A==255)o[T]=A}};function m(j){var E=0,L=0,p=j.length;for(var Z=0;Z<p;Z+=2){var o=j[Z+1];if(o>L){L=o;
E=Z}}return j[E]}function d(j,E,L,p){var Z=j[L],o=j[p];v(Z,e(Z,p));v(o,e(o,L));for(var T=0;T<o.length;
T+=2){var u=o[T],N=j[u];v(N,e(N,p));if(e(N,L)==-1){N.push(L,0);Z.push(u,0)}}for(var T=0;T<Z.length;T+=2){var u=Z[T],N=j[u],M=x(E,L,u);
Z[T+1]=M;N[e(N,L)+1]=M}}function x(j,E,L){var p=0,Z=4096,o=E*4400,u=L*4400;for(var N=0;N<16;N++){if(j[o+4360+N]==0||j[u+4360+N]==0)continue;
for(var M=0;M<16;M++){var O=N<<4|M;if(j[o+4100+O]==0||j[u+4100+O]==0)continue;var F=o+(O<<4),W=u+(O<<4);
for(var T=0;T<16;T++)p+=Math.sqrt(j[F+T]*j[W+T])}}var f=p/Math.sqrt(j[o+Z]*j[u+Z]);return~~(999.99999*f)}}());
B.yw.CO=function(){var h,e,v,x=0,j=0;function J(u,N,M){var O=[],F=M,W=M,f=M>>>2;for(var $=0;$<N;$++)for(var H=0;
H<u;H++){var A=~~((H+.5)*F),G=~~(($+.5)*W),l=1e9,K=Math.max(0,A-f),U=Math.min(e,A+f+1),z=Math.max(0,G-f),q=Math.min(v,G+f+1);
for(var P=z;P<q;P++)for(var g=K;g<U;g++){var a=m(g,P);if(a<l){A=g;G=P;l=a}}O.push(A,G)}return O}function m(u,N){var M=(N*e+u)*4,O=e*4,F=d(M-4,M)+d(M,M+4),W=d(M-O,M)+d(M,M+O);
return F+W}function d(u,N){var M=h[u]-h[N],O=h[u+1]-h[N+1],F=h[u+2]-h[N+2];return M*M+O*O+F*F}function E(u,N,M,O){j++;
if(O<x)x=O;u[O].push(N,M)}function L(u){j--;while(u[x].length==0)x++}function p(u,N,M,O,F){var W=(M*e+N)*4,f=O[F+5],$=1/f,H=h[W]*f-O[F],A=h[W+1]*f-O[F+1],G=h[W+2]*f-O[F+2],l=N*f-O[F+3],K=M*f-O[F+4],U=Math.sqrt(H*H+A*A+G*G),z=Math.sqrt(l*l+K*K);
return~~((U+u*z)*$+.5)}function Z(u,N,M,O,F){h=u;e=N;v=M;x=0;j=0;var W=e*v,f=Math.round(Math.min(e,v)/(O?O:30));
if(f==0)f=1;var $=(F?F:30)/f,H=Math.floor(e/f),A=Math.floor(v/f),G=new Uint16Array(W);for(var T=0;T<W;
T++)G[T]=65535;var l=J(H,A,f),K=l.length>>>1;if(K>65535)throw K;var U=new Uint32Array(K*6),z=[];for(var T=0;
T<1e3+v;T++)z.push([]);var q=1e3*700/(e*v),P=Math.floor(A*q);P=Math.min(A,Math.max(4,P));P=A;var U=new Uint32Array(K*6);
for(var g=0;g<A;g+=P){var a=Math.min(g+P,A);for(var w=g;w<a;w++)for(var y=0;y<H;y++){var T=w*H+y;E(z,l[T*2+1]<<16|l[T*2],T,0)}var S=Math.min(v,a*f);
if(g+P>=A)S=v;o(U,z,G,$,S)}h=null;return{Wi:G,uX:K,xx:U,ajG:$}}function o(u,N,M,O,F){while(j!=0){L(N);
var W=N[x].pop(),f=N[x].pop(),$=f>>>16,H=f&65535,T=$*e+H;if(M[T]==null)throw"e";if(M[T]==65535){var A=W*6,G=T<<2;
M[T]=W;u[A]+=h[G];u[A+1]+=h[G+1];u[A+2]+=h[G+2];u[A+3]+=H;u[A+4]+=$;u[A+5]++;if($!=F-1&&M[T+e]==65535)E(N,$+1<<16|H,W,p(O,H,$+1,u,A));
if($!=0&&M[T-e]==65535)E(N,$-1<<16|H,W,p(O,H,$-1,u,A));if(H!=0&&M[T-1]==65535)E(N,$<<16|H-1,W,p(O,H-1,$,u,A));
if(H!=e-1&&M[T+1]==65535)E(N,$<<16|H+1,W,p(O,H+1,$,u,A))}}}Z.JH=function(u,N,M,O,F,W){h=u;e=N;v=M;var f=O.uX=O.uX+1,$=O.Wi,H=O.xx,A=O.xx=new Uint32Array(f*6);
A.set(H,0);var G=$[F[1]*e+F[0]];for(var T=0;T<$.length;T++)if($[T]==G)$[T]=65535;for(var T=0;T<6;T++)A[G*6+T]=0;
var l=[];for(var T=0;T<1e3+v;T++)l.push([]);for(var T=0;T<F.length;T+=2)E(l,F[T+1]<<16|F[T],G,0);for(var T=0;
T<W.length;T+=2)E(l,W[T+1]<<16|W[T],f-1,0);o(A,l,$,O.ajG,v);h=null};return Z}();B.awb={};B.awb.aFK=function(){var h=11,e=7,v=h>>>1,iW=e>>>1,J=2,m=2e3/J,d=[],j=null,E="";
function x(p,Z,o){var u=(p[Z+0]-p[o+0])*(1/255),N=(p[Z+1]-p[o+1])*(1/255),M=(p[Z+2]-p[o+2])*(1/255),O=(p[Z+3]-p[o+3])*(1/255),F=u*u*.125+N*N*.25+M*M*.5+O*O;
return d[~~(F*m)]}function L(p,Z,o,u,N,M){var O=Date.now(),F=B.U(Z*o);B.hS(p,F);var W=UZIP.adler(F,0,Z*o);
if(W!=E){var f=B.wR(F,Z,o);j=B.U(Z*o*4);E=W;var $=[1,1/9,1/25,1/49,1/81];for(var H=0;H<o;H++)for(var A=0;
A<Z;A++)for(var T=0;T<4;T++){var G=Math.max(1,A-T),l=Math.min(Z-1,A+T),K=Math.max(1,H-T),U=Math.min(o-1,H+T),z=B.aq(f,Z,G,l,K,U);
if(isNaN(z))throw A+","+H+","+T+","+z;j[(H*Z+A)*4+T]=z*$[T]}}if(fM.QX){var q=fM.cm(0,Z,o);q.set(p);var P=fM.cm(1,Z,o);
P.set(j);var g=fM.cm(2,Z,o);fM.qH(g);fM.filter.Ce({c:fM.filter.aqw,DV:new Float32Array([1/Z,1/o]),auu:P.nS,a9Q:N,amY:M},q.nS);
g.get(u)}else{for(var T=0;T<2e3;T++)d[T]=Math.exp(-(T/2e3)*J*(100+(1-N)*(1-N)*1e4));var a=iW+2;for(var H=a;
H<o-a;H++)for(var A=a;A<Z-a;A++){var w=0,y=0,S=0,i=0;for(var C=0;C<h;C++)for(var Y=0;Y<h;Y++){var _=A+Y-v,t=H+C-v;
if(_==A&&t==H||_<a||t<a||_>=Z-a||t>=o-a)continue;var I=x(j,(H*Z+A)*4,(t*Z+_)*4),r=t*Z+_<<2;w+=I*p[r+0];
y+=I*p[r+1];S+=I*p[r+2];i+=I}if(i==0){continue}var n=1/i,Q=(H*Z+A)*4;u[Q+0]=~~((1-M)*n*w+M*u[Q+0]);u[Q+1]=~~((1-M)*n*y+M*u[Q+1]);
u[Q+2]=~~((1-M)*n*S+M*u[Q+2])}}}return L}();B.am9=function(){var h=6,e=h>>>1,v=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],J=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function m(M,O){var F=!1,W=M.length,f=O[0],G=5,K=0,U=0;for(var T=1;T<W;T++)f=f.R$(O[T]);if((f.q&1)!=0)f.q++;
if((f._&1)!=0)f._++;var $=f.q,H=f._,A=Math.max($,H);while(A>>>G>8&&G<10)G++;var l=1<<G;if($%l!=0)K=l-$%l;
if(H%l!=0)U=l-H%l;f.vY(K>>>1,U>>>1);$=f.q;H=f._;if($%l!=0||H%l!=0)throw"e";var z=Date.now(),q=[],P=B.U(f.$()),g=[],a=$*H,w=new Float32Array($*H*2);
for(var T=0;T<W;T++){var y=O[T],S=B.U(y.$());B.hS(M[T],S);P.fill(0);B.Ww(S,y,P,f);q.push(P.slice(0));
var i=y.x-f.x,C=y.y-f.y,Y=i+y.q-2,_=C+y._;for(var t=0;t<y._;t++){var I=(t+C)*$;for(var r=0;r<i;r++)P[I+r]=P[I+i];
for(var r=Y;r<$;r++)P[I+r]=P[I+Y-1]}for(var r=0;r<$;r++){for(var t=0;t<C;t++)P[t*$+r]=P[C*$+r];for(var t=_;
t<H;t++)P[t*$+r]=P[(_-1)*$+r]}var n=new Float32Array($*H*2);g.push(n);for(var Q=0;Q<a;Q++)n[Q*2]=P[Q]*(1/255);
E(n,w,$,H,G);d(n,$,H,G)}if(F)console.log("to gray, decompose",Date.now()-z);z=Date.now();var D=B.U($*H);
for(var t=0;t<H;t++)for(var r=0;r<$;r++){var dG=0,R=0,X=t*$+r<<1;for(var T=0;T<W;T++){var dx=g[T],jv=dx[X],gB=dx[X+1],hQ=jv*jv+gB*gB;
if(hQ>R){R=hQ;dG=T}}D[X>>>1]=dG}if(F)console.log("max abs value",Date.now()-z);z=Date.now();x(D,$,H,G);
j(D,$,H);if(F)console.log("denoise",Date.now()-z);z=Date.now();var ah=w.slice(0);for(var t=0;t<H;t++)for(var r=0;
r<$;r++){var T=t*$+r,X=T<<1,kG=g[D[T]];ah[X]=kG[X];ah[X+1]=kG[X+1]}L(ah,w,$,H,G);if(F)console.log("compose",Date.now()-z);
z=Date.now();for(var Q=0;Q<a;Q++){var hQ=ah[Q*2]*255,dG=0,R=1e9;for(var T=0;T<W;T++){var iZ=Math.abs(q[T][Q]-hQ);
if(iZ<R){R=iZ;dG=T}q[T][Q]=0}q[dG][Q]=255}if(F)console.log("toRGB",Date.now()-z);z=Date.now();return[q,f]}function d(M,O,F,W){var f=O>>>W,$=F>>>W,H=1e-4;
for(var A=0;A<F;A++)for(var G=0;G<O;G++){if(G<f&&A<$)continue;var l=(A*O+G)*2,K=M[l],U=M[l+1],z=K*K+U*U;
if(z<H)K=U=0;else{var q=(z-H)/z;K*=q;U*=q}M[l]=K;M[l+1]=U}}function x(M,O,F,W){for(var f=0;f<W;f++){var $=O>>>f,H=F>>>f,A=$>>>1,G=H>>>1;
for(var l=0;l<G;l++)for(var K=0;K<A;K++){var U=l*O+A+K,z=(l+G)*O+A+K,q=(l+G)*O+K,P=M[U],g=M[z],a=M[q];
if(P==g==a){}else if(P==g)M[q]=P;else if(g==a)M[U]=g;else if(P==a)M[z]=P}}}function j(M,O,F){for(var W=1;
W<F-1;W++)for(var f=1;f<O-1;f++){var T=W*O+f,$=M[T-O],H=M[T-1],A=M[T],G=M[T+1],l=M[T+O],K=$==H&&$==G||$==G&&G==l||G==l&&H==l||$==H&&l==H;
if(K)M[T]=$==H?$:H==G?H:$;else if(A>$&&A>H&&A>G&&A>l)M[T]=$+H+G+l>>>2;else if(A<$&&A<H&&A<G&&A<l)M[T]=$+H+G+l>>>2}}function E(M,O,F,W,f){for(var T=0;
T<f;T++){var $=F>>>T,H=W>>>T;p(M,O,F,W,$,H)}}function L(M,O,F,W,f){for(var T=f-1;T>=0;T--){var $=F>>T,H=W>>T;
Z(M,O,F,W,$,H)}}function p(M,O,F,W,f,$){u(M,O,F,W,f,$,!0);u(O,M,F,W,f,$,!1)}function Z(M,O,F,W,f,$){N(M,O,F,W,f,$,!0);
N(O,M,F,W,f,$,!1)}function o(M,O,F,W,f,$){var H=F*W+O<<1;M[H]=f;M[H+1]=$}function u(M,O,F,W,f,$,H){var cg=H?f:$,A=H?$:f,G=A>>>1;
for(var l=0;l<cg;l++){for(var K=0;K<A;K+=2){var U=0,z=0,q=0,P=0,g=K>>>1;for(var a=0;a<6;a++){var w=K+a-3;
if(w<0)w=A+w;if(w>=A)w=w-A;var y=(H?w*F+l:l*F+w)<<1,S=M[y],i=M[y+1],C=v[a],Y=J[a];U+=S*C[0]-i*C[1];z+=i*C[0]+S*C[1];
q+=S*Y[0]-i*Y[1];P+=i*Y[0]+S*Y[1]}if(H){o(O,l,g,F,U,z);o(O,l,g+G,F,q,P)}else{o(O,g,l,F,U,z);o(O,g+G,l,F,q,P)}}}}function N(M,O,F,W,f,$,H){var cg=H?f:$,A=H?$:f,G=A>>>1,l,K,U,z;
for(var q=0;q<cg;q++){for(var P=0;P<A;P++){var g=0,a=0;for(var w=P+3&1;w<6;w+=2){var y=P-w+3>>1;if(y<0)y=G+y;
if(y>=G)y=y-G;if(H){l=q;K=y;U=q;z=y+G}else{K=q;l=y;z=q;U=y+G}var S=K*F+l<<1,i=z*F+U<<1,C=M[S],Y=M[S+1],_=M[i],t=M[i+1],I=v[w],r=J[w];
g+=C*I[0]+_*r[0];g+=Y*I[1]+t*r[1];a+=Y*I[0]+t*r[0];a-=C*I[1]+_*r[1]}if(H)o(O,q,P,F,g,a);else o(O,P,q,F,g,a)}}}return{aY:m}}();
B.ao9=function(){var h=Math.floor(12e3/8),e=UPNG.quantize.findNearest,v,J,m,d;function x(o,u,N,M){var O=[o,new fP(0,0,u,N)],W;
B.Nb(O);var F=Date.now(),f=u+N>>>1;for(var T=f<1e3?2:4;T>=0;T-=2){var $=O[T+1],J=$.q,m=$._;if(W==null){W=new Uint8Array(J*m);
e(O[T],W,M)}j(O[T],J,m,M,W);if(T!=0){var H=O[T-1],A=H.q,G=H._,l=new Uint8Array(A*G);for(var K=0;K<G;
K++)for(var U=0;U<A;U++)l[K*A+U]=W[(K>>>1)*J+(U>>>1)];W=l}}return W}function j(o,u,N,M,O){v=o;J=u;m=N;
d=M;var F=d.length>>>2,W=[-1,-J,1,J],f=[-1,-J,-J+1,2,J+1,J],$=[-1,-J,1,J+1,J+J,J-1],H=8,A=J+m>>>1,G=1e9;
while(A>512){H>>=1;A>>=1}H=Math.max(1,Math.min(4,H));for(var l=0;l<H;l++){var K=0;for(var U=0;U<m;U++)for(var z=0;
z<J;z++){if(p(O,z,U)<2)continue;var q=U*J+z,P=O[q],g=1e9,a=0,w=z==0||U==0||z>J-3||U>m-3;if(w){g=1e9;
for(var T=0;T<F;T++){O[q]=T;var y=Z(O,z,U,2);if(y<g){g=y;a=T}}O[q]=a;if(a==P&&z+1<J&&O[q+1]==P){g=1e9;
for(var T=0;T<F;T++){O[q]=O[q+1]=T;var y=Z(O,z,U,2)+Z(O,z+1,U,2);if(y<g){g=y;a=T}}O[q]=O[q+1]=a}if(a==P&&U+1<m&&O[q+J]==P){g=1e9;
for(var T=0;T<F;T++){O[q]=O[q+J]=T;var y=Z(O,z,U,2)+Z(O,z,U+1,2);if(y<g){g=y;a=T}}O[q]=O[q+J]=a}}else{g=1e9;
a=-1;for(var T=0;T<4;T++){var S=O[q+W[T]];if(S==a)continue;O[q]=S;var y=Z(O,z,U,2);if(y<g){g=y;a=S}}O[q]=a;
if(a==P&&z+1<J&&O[q+1]==P){g=1e9;a=-1;for(var T=0;T<6;T++){var S=O[q+f[T]];if(S==a)continue;O[q]=O[q+1]=S;
var y=Z(O,z,U,2)+Z(O,z+1,U,2);if(y<g){g=y;a=S}}O[q]=O[q+1]=a}if(a==P&&U+1<m&&O[q+J]==P){g=1e9;a=-1;for(var T=0;
T<6;T++){var S=O[q+$[T]];if(S==a)continue;O[q]=O[q+J]=S;var y=Z(O,z,U,2)+Z(O,z,U+1,2);if(y<g){g=y;a=S}}O[q]=O[q+J]=a}}K+=g}}}function E(o){var u=0;
for(var N=0;N<m;N++)for(var M=0;M<J;M++)u+=Z(o,M,N,1);return u/(J*m)}function L(o,u,N){var T=N*J+u,M=T*4,O=o[T]*4,F=v[M]-d[O],W=v[M+1]-d[O+1],f=v[M+2]-d[O+2],$=v[M+3]-d[O+3];
return F*F+W*W+f*f+$*$}function p(o,u,N){if(u<0||u>=J||N<0||N>=m)throw"e";var T=N*J+u,M=o[T],O=0;if(N>0&&M!=o[T-J])O+=2;
if(u>0&&M!=o[T-1])O+=2;if(u<J-1&&M!=o[T+1])O+=2;if(N<m-1&&M!=o[T+J])O+=2;if(N>0&&u>0&&M!=o[T-J-1])O++;
if(N<m-1&&u>0&&M!=o[T+J-1])O++;if(N>0&&u<J-1&&M!=o[T-J+1])O++;if(N<m-1&&u<J-1&&M!=o[T+J+1])O++;return O}function Z(o,u,N,M){return L(o,u,N)+p(o,u,N)*M*h}return x}();
var fg=function(){function h(){this.$=0;this.T7=0;this.Au={};this.Q2=[];this.Vm=1e5;this.vl=1e5;this.Zl=-1;
this.oY=-1;this.color=0}function e(iW){this.cv=iW;this.Ps=new Array(iW);this.tg=new Array(iW*6);this.aey=0;
this.A8=new Array(iW*2);this.alpha=new Array(iW);this.zL=new Array(iW);this.wU=new Array(iW)}function v(m,d,x,j){function E(O,F,m,d){return m[d*F+O]}function L(T){var G=m.length;
while(T<G&&m[T]==0)T++;return T<G?T:-1}function p(O,F,G){for(var T=2;T<5;T++){var l=0;for(var K=-T+1;
K<=T-1;K++){l+=E(O+K,F+T-1,m,d)==G?1:-1;l+=E(O+T-1,F+K-1,m,d)==G?1:-1;l+=E(O+K-1,F-T,m,d)==G?1:-1;l+=E(O-T,F+K,m,d)==G?1:-1}if(l>0)return 1;
else if(l<0)return 0}return 0}function Z(G,N){var M=new h,O=G,F=N,l=0,K=1,U;M.color=m[N*d+G];M.sign=E(G,N,m,d)==M.color?"+":"-";
while(1){M.Q2.push(O,F);if(O>M.Zl)M.Zl=O;if(O<M.Vm)M.Vm=O;if(F>M.oY)M.oY=F;if(F<M.vl)M.vl=F;M.T7++;O+=l;
F+=K;M.$-=O*K;if(O==G&&F==N)break;var z=E(O+(l+K-1>>1),F+(K-l-1>>1),m,d)==M.color,q=E(O+(l-K-1>>1),F+(K+l-1>>1),m,d)==M.color;
if(q&&!z){if(j.b9=="right"||j.b9=="black"&&M.sign=="+"||j.b9=="white"&&M.sign=="-"||j.b9=="majority"&&p(O,F,M.color)||j.b9=="minority"&&!p(O,F,M.color)){U=l;
l=-K;K=U}else{U=l;l=K;K=-U}}else if(q){U=l;l=-K;K=U}else if(!z){U=l;l=K;K=-U}}return M}var o=0,u=[];
while(!0){var o=L(o);if(o==-1)break;var N=Math.floor(o/d),M=Z(o-N*d,N);for(var T=0;T<M.Q2.length-2;T+=2){var O=M.Q2[T],F=M.Q2[T+1],W=F*d+O;
if(O==M.Q2[T+2]&&F+1==M.Q2[T+3]&&m[W]!=0)fg.fill(W,m,d,0)}if(M.$>j.api)u.push(M)}for(var T=0;T<u.length;
T++)u[T].parent=-1;var f=Date.now();for(var T=1;T<u.length;T++){var $=u[T];for(var H=T-1;H>=0;H--){var A=u[H];
if($.Vm<A.Vm||$.Zl>A.Zl||$.vl<A.vl||$.oY>A.oY)continue;if(!fg.Wk(A.Q2,$.Q2[0]+.5,$.Q2[1]+.5))continue;
$.parent=H;break}}return u}function J(m,d){function x(l,K,U,z,q){this.x=l;this.y=K;this.hD=U;this.sM=z;
this.gm=q}function j(l,iW){return(iW+l)%iW}function E(l,K,U,z){return l*z-U*K}function L(l,K,U,z){return l*U+K*z}function p(l,K,U){if(l<=U)return l<=K&&K<U;
else return l<=K||K<U}function Z(l,K,U){var z=0;z+=K*l[0]*K;z+=K*l[1]*U;z+=K*l[2];z+=U*l[3]*K;z+=U*l[4]*U;
z+=U*l[5];z+=l[6]*K;z+=l[7]*U;z+=l[8];return z}function o(l,K,U){return K+l*(U-K)}function u(l,K,U,z){var q=Math.sign(U-l),P=-Math.sign(z-K);
return q*(U-l)-P*(z-K)}function N(l,K){return Math.sqrt(l*l+K*K)}function M(l,K,U,z,q){var P=1-l;return P*P*P*K+3*(P*P*l)*U+3*(l*l*P)*z+l*l*l*q}function O(l,K,U,z,q,P,g,a){var w=E(l,K,g,a),y=E(U,z,g,a),S=E(q,P,g,a),i=w-2*y+S,C=-2*w+2*y,Y=w,_=C*C-4*i*Y;
if(i==0||_<0)return-1;var t=Math.sqrt(_),I=(-C+t)/(2*i),r=(-C-t)/(2*i);if(I>=0&&I<=1)return I;else if(r>=0&&r<=1)return r;
else return-1}function F(G){var T,l,K;G.JV=G.Q2[0];G.aEQ=G.Q2[1];G.UN=[];var U=G.UN;U.push(new x(0,0,0,0,0));
for(T=0;T<G.T7;T++){l=G.Q2[T<<1]-G.JV;K=G.Q2[(T<<1)+1]-G.aEQ;U.push(new x(U[T].x+l,U[T].y+K,U[T].hD+l*K,U[T].sM+l*l,U[T].gm+K*K))}}function W(G){var iW=G.T7,l=G.Q2,K,U=new Array(iW),z=new Array(iW),q=new Array(4),P,g,a,w,y,S,i,C,Y,_,t,T,I,r,n,Q,D,dG,R=0;
G.Xc=new Array(iW);for(T=iW-1;T>=0;T--){if(l[T<<1]!=l[R<<1]&&l[(T<<1)+1]!=l[(R<<1)+1])R=T+1;z[T]=R}for(T=iW-1;
T>=0;T--){var X=j(T+1,iW)<<1;q[0]=q[1]=q[2]=q[3]=0;K=(3+3*(l[X]-l[T<<1])+(l[X+1]-l[(T<<1)+1]))/2;q[K]++;
P=0;g=0;a=0;w=0;R=z[T];r=T;while(1){t=0;K=(3+3*Math.sign(l[R*2]-l[r*2])+Math.sign(l[R*2+1]-l[r*2+1]))/2;
q[K]++;if(q[0]&&q[1]&&q[2]&&q[3]){U[T]=r;t=1;break}Y=l[R*2]-l[T*2];_=l[R*2+1]-l[T*2+1];if(E(P,g,Y,_)<0||E(a,w,Y,_)>0){break}if(Math.abs(Y)<=1&&Math.abs(_)<=1){}else{y=Y+(_>=0&&(_>0||Y<0)?1:-1);
S=_+(Y<=0&&(Y<0||_<0)?1:-1);if(E(P,g,y,S)>=0){P=y;g=S}y=Y+(_<=0&&(_<0||Y<0)?1:-1);S=_+(Y>=0&&(Y>0||_<0)?1:-1);
if(E(a,w,y,S)<=0){a=y;w=S}}r=R;R=z[r];if(!p(R,T,r)){break}}if(t==0){i=Math.sign(l[R*2]-l[r*2]);C=Math.sign(l[R*2+1]-l[r*2+1]);
Y=l[r*2]-l[T*2];_=l[r*2+1]-l[T*2+1];n=E(P,g,Y,_);Q=E(P,g,i,C);D=E(a,w,Y,_);dG=E(a,w,i,C);I=1e7;if(Q<0){I=Math.floor(n/-Q)}if(dG>0){I=Math.min(I,Math.floor(-D/dG))}U[T]=j(r+I,iW)}}I=U[iW-1];
G.Xc[iW-1]=I;for(T=iW-2;T>=0;T--){if(p(T+1,U[T],I)){I=U[T]}G.Xc[T]=I}for(T=iW-1;p(j(T+1,iW),I,G.Xc[T]);
T--){G.Xc[T]=I}}function f(G){function l(G,T,K){var iW=G.T7,Y=G.Q2,_=G.UN,t,I,r,n,Q,z,D,dG,C,R,X,dx,jv,gB,hQ=0;
if(K>=iW){K-=iW;hQ=1}if(hQ==0){t=_[K+1].x-_[T].x;I=_[K+1].y-_[T].y;n=_[K+1].sM-_[T].sM;r=_[K+1].hD-_[T].hD;
Q=_[K+1].gm-_[T].gm;z=K+1-T}else{t=_[K+1].x-_[T].x+_[iW].x;I=_[K+1].y-_[T].y+_[iW].y;n=_[K+1].sM-_[T].sM+_[iW].sM;
r=_[K+1].hD-_[T].hD+_[iW].hD;Q=_[K+1].gm-_[T].gm+_[iW].gm;z=K+1-T+iW}X=(Y[T<<1]+Y[K<<1])/2-Y[0];dx=(Y[(T<<1)+1]+Y[(K<<1)+1])/2-Y[1];
gB=Y[K<<1]-Y[T<<1];jv=-(Y[(K<<1)+1]-Y[(T<<1)+1]);D=(n-2*t*X)/z+X*X;dG=(r-t*dx-I*X)/z+X*dx;C=(Q-2*I*dx)/z+dx*dx;
R=jv*jv*D+2*jv*gB*dG+gB*gB*C;return Math.sqrt(R)}var T,K,U,z,iW=G.T7,q=new Array(iW+1),P=new Array(iW+1),g=new Array(iW),a=new Array(iW+1),w=new Array(iW+1),y=new Array(iW+1),S,i,C;
for(T=0;T<iW;T++){C=j(G.Xc[j(T-1,iW)]-1,iW);if(C==T){C=j(T+1,iW)}if(C<T){g[T]=iW}else{g[T]=C}}K=1;for(T=0;
T<iW;T++){while(K<=g[T]){a[K]=T;K++}}T=0;for(K=0;T<iW;K++){w[K]=T;T=g[T]}w[K]=iW;U=K;T=iW;for(K=U;K>0;
K--){y[K]=T;T=a[T]}y[0]=0;q[0]=0;for(K=1;K<=U;K++){for(T=y[K];T<=w[K];T++){i=-1;for(z=w[K-1];z>=a[T];
z--){S=l(G,z,T)+q[z];if(i<0||S<i){P[T]=z;i=S}}q[T]=i}}G.ae0=U;G.af2=new Array(U);for(T=iW,K=U-1;T>0;
K--){T=P[T];G.af2[K]=T}}function $(G){function l(G,T,S,g,a,ah){var iW=G.T7,kG=G.UN,iZ=0,C;while(S>=iW){S-=iW;
iZ+=1}while(T>=iW){T-=iW;iZ-=1}while(S<0){S+=iW;iZ-=1}while(T<0){T+=iW;iZ+=1}var bs=kG[S+1].x-kG[T].x+iZ*kG[iW].x,ey=kG[S+1].y-kG[T].y+iZ*kG[iW].y,jp=kG[S+1].sM-kG[T].sM+iZ*kG[iW].sM,eh=kG[S+1].hD-kG[T].hD+iZ*kG[iW].hD,dt=kG[S+1].gm-kG[T].gm+iZ*kG[iW].gm,i=S+1-T+iZ*iW;
g[ah]=bs/i;g[ah+1]=ey/i;var jN=(jp-bs*bs/i)/i,jX=(eh-bs*ey/i)/i,jw=(dt-ey*ey/i)/i,i7=(jN+jw+Math.sqrt((jN-jw)*(jN-jw)+4*jX*jX))/2;
jN-=i7;jw-=i7;if(Math.abs(jN)>=Math.abs(jw)){C=Math.sqrt(jN*jN+jX*jX);if(C!=0){a[ah]=-jX/C;a[ah+1]=jN/C}}else{C=Math.sqrt(jw*jw+jX*jX);
if(C!=0){a[ah]=-jw/C;a[ah+1]=jX/C}}if(C==0){a[ah]=a[ah+1]=0}}var K=G.ae0,U=G.af2,iW=G.T7,z=G.Q2,q=G.JV,P=G.aEQ,g=new Array(K*2),a=new Array(K*2),w=new Array(K),y=new Array(3),T,S,i,C,I,r,n,Q,D,dG,R;
G.Au=new e(K);for(T=0;T<K;T++){S=U[j(T+1,K)];S=j(S-U[T],iW)+U[T];g[T<<1]=0;g[(T<<1)+1]=0;a[T<<1]=0;a[(T<<1)+1]=0;
l(G,U[T],S,g,a,T<<1)}for(T=0;T<K;T++){w[T]=[0,0,0,0,0,0,0,0,0];var Y=a[T<<1]*a[T<<1]+a[(T<<1)+1]*a[(T<<1)+1],_=1/Y;
if(Y!=0){y[0]=a[(T<<1)+1];y[1]=-a[T<<1];y[2]=-y[1]*g[(T<<1)+1]-y[0]*g[T<<1];for(C=0;C<3;C++){w[T][C*3+0]=y[C]*y[0]*_;
w[T][C*3+1]=y[C]*y[1]*_;w[T][C*3+2]=y[C]*y[2]*_}}}var t=[0,0,0,0,0,0,0,0,0];for(T=0;T<K;T++){t[0]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=0;
var X=z[U[T]<<1]-q,dx=z[(U[T]<<1)+1]-P,jv=0,gB=0;S=j(T-1,K);for(C=0;C<9;C+=3){t[C+0]=w[S][C+0]+w[T][C+0];
t[C+1]=w[S][C+1]+w[T][C+1];t[C+2]=w[S][C+2]+w[T][C+2]}while(1){var hQ=t[0]*t[4]-t[1]*t[3];if(hQ!=0){jv=(-t[2]*t[4]+t[5]*t[0])/hQ;
gB=(t[2]*t[3]-t[5]*t[0])/hQ;break}if(t[0]>t[4]){y[0]=-t[1];y[1]=t[0]}else if(t[4]){y[0]=-t[4];y[1]=t[3]}else{y[0]=1;
y[1]=0}var Y=y[0]*y[0]+y[1]*y[1],_=1/Y;y[2]=-y[1]*dx-y[0]*X;for(C=0;C<3;C++){t[C*3+0]+=y[C]*y[0]*_;t[C*3+1]+=y[C]*y[1]*_;
t[C*3+2]+=y[C]*y[2]*_}}I=Math.abs(jv-X);r=Math.abs(gB-dx);if(I<=.5&&r<=.5){G.Au.A8[T<<1]=jv+q;G.Au.A8[(T<<1)+1]=gB+P;
continue}n=Z(t,X,dx);D=X;dG=dx;if(t[0]!=0){for(R=0;R<2;R++){gB=dx-.5+R;jv=-(t[1]*gB+t[2])/t[0];I=Math.abs(jv-X);
Q=Z(t,jv,gB);if(I<=.5&&Q<n){n=Q;D=jv;dG=gB}}}if(t[4]!=0){for(R=0;R<2;R++){jv=X-.5+R;gB=-(t[3]*jv+t[5])/t[4];
r=Math.abs(gB-dx);Q=Z(t,jv,gB);if(r<=.5&&Q<n){n=Q;D=jv;dG=gB}}}for(C=0;C<2;C++){for(i=0;i<2;i++){jv=X-.5+C;
gB=dx-.5+i;Q=Z(t,jv,gB);if(Q<n){n=Q;D=jv;dG=gB}}}G.Au.A8[T<<1]=D+q;G.Au.A8[(T<<1)+1]=dG+P}}function H(G){var l=G.Au.cv,K=G.Au,T,U,z,q,P,g,a,w,y;
for(T=0;T<l;T++){U=j(T+1,l);z=j(T+2,l);var S=K.A8[T<<1],i=K.A8[(T<<1)+1],C=K.A8[z<<1],Y=K.A8[(z<<1)+1],_=K.A8[U<<1],t=K.A8[(U<<1)+1],I=o(.5,C,_),r=o(.5,Y,t);
P=u(S,i,C,Y);if(P!=0){q=E(_-S,t-i,C-S,Y-i)/P;q=Math.abs(q);g=q>1?1-1/q:0;g=g*(1/.75)}else{g=4/3}K.zL[U]=g;
var n=3*U<<1;if(g>=d.aC5){K.Ps[U]=0;K.tg[n+0]=K.tg[n+1]=0;K.tg[n+2]=_;K.tg[n+3]=t;K.tg[n+4]=I;K.tg[n+5]=r}else{if(g<.55){g=.55}else if(g>1){g=1}var Q=.5+.5*g;
K.Ps[U]=1;K.tg[n]=o(Q,S,_);K.tg[n+1]=o(Q,i,t);K.tg[n+2]=o(Q,C,_);K.tg[n+3]=o(Q,Y,t);K.tg[n+4]=I;K.tg[n+5]=r}K.alpha[U]=g;
K.wU[U]=.5}K.aG5=1}function A(G){function l(){this.DJ=0;this.bj=0;this.Jf=0;this.Zo=0;this._G=0;this.xr=0;
this.eL=0;this.alpha=0}function K(G,T,S,eK,ee,D,dG){var z=G.Au.cv,az=G.Au.tg,k7=G.Au.A8;if(T==S)return 1;
var al=T,_=j(T+1,z),kl=j(al+1,z),eh=k7[T<<1],dt=k7[(T<<1)+1],b9=k7[_<<1],h9=k7[(_<<1)+1],ge=D[kl];if(ge==0)return 1;
var iN=N(eh-b9,dt-h9);for(al=kl;al!=S;al=kl){var kl=j(al+1,z),a8=j(al+2,z),dK=k7[kl<<1],f6=k7[(kl<<1)+1],fS=k7[a8<<1],cf=k7[(a8<<1)+1];
if(D[kl]!=ge)return 1;if(Math.sign(E(b9-eh,h9-dt,fS-dK,cf-f6))!=ge)return 1;if(L(b9-eh,h9-dt,fS-dK,cf-f6)<iN*N(dK-fS,f6-cf)*-.999847695156)return 1}var iG=j(T,z)*3+2<<1,eC=j(T+1,z)<<1,kH=j(S,z)<<1,i0=j(S,z)*3+2<<1,ah=az[iG],kG=az[iG+1],e5=k7[eC],gA=k7[eC+1],bW=k7[kH],e3=k7[kH+1],iL=az[i0],h4=az[i0+1],R=k7[0],X=k7[1];
iG=S*3+2<<1;var iT=az[iG],hC=az[iG+1],t=dG[S]-dG[T];t-=E(iT-R,hC-X,iT-R,hC-X)/2;if(T>=S){t+=dG[z]}var dS=e5-ah,il=gA-kG,i6=bW-ah,co=e3-kG,bH=iL-ah,b5=h4-kG,ej=E(dS,il,i6,co),id=E(dS,il,bH,b5),dH=E(i6,co,bH,b5),hA=ej+dH-id;
if(id==ej)return 1;var Q=dH/(dH-hA),n=id/(id-ej),fn=id*Q/2;if(fn==0)return 1;var d3=t/fn,I=2-Math.sqrt(4-d3/.3);
eK.bj=o(Q*I,ah,e5);eK.Jf=o(Q*I,kG,gA);eK.Zo=o(n*I,iL,bW);eK._G=o(n*I,h4,e3);eK.alpha=I;eK.xr=Q;eK.eL=n;
e5=eK.bj;gA=eK.Jf;bW=eK.Zo;e3=eK._G;eK.DJ=0;for(al=j(T+1,z);al!=S;al=kl){kl=j(al+1,z);var iF=k7[al<<1],hF=k7[(al<<1)+1],dK=k7[kl<<1],f6=k7[(kl<<1)+1];
Q=O(e5-ah,gA-kG,bW-e5,e3-gA,iL-bW,h4-e3,dK-iF,f6-hF);if(Q<-.5)return 1;var bz=M(Q,ah,e5,bW,iL),hN=M(Q,kG,gA,e3,h4),iN=N(dK-iF,f6-hF);
if(iN==0)return 1;var cA=E(dK-iF,f6-hF,bz-iF,hN-hF)/iN;if(Math.abs(cA)>ee)return 1;if(L(dK-iF,f6-hF,bz-iF,hN-hF)<0||L(iF-dK,hF-f6,bz-dK,hN-f6)<0){return 1}eK.DJ+=cA*cA}for(al=T;
al!=S;al=kl){kl=j(al+1,z);var iG=al*3+2<<1,eC=kl*3+2<<1,km=az[iG],gm=az[iG+1],gS=az[eC],jl=az[eC+1];
Q=O(e5-ah,gA-kG,bW-e5,e3-gA,iL-bW,h4-e3,gS-km,jl-gm);if(Q<-.5)return 1;var bz=M(Q,ah,e5,bW,iL),hN=M(Q,kG,gA,e3,h4),iN=N(gS-km,jl-gm);
if(iN==0)return 1;var cA=E(gS-km,jl-gm,bz-km,hN-gm)/iN,jn=E(gS-km,jl-gm,k7[kl<<1]-km,k7[(kl<<1)+1]-gm)/iN;
jn*=.75*G.Au.alpha[kl];if(jn<0){cA=-cA;jn=-jn}if(cA<jn-ee)return 1;if(cA<jn){eK.DJ+=(cA-jn)*(cA-jn)}}return 0}var U=G.Au,z=U.cv,q=U.A8,P=new Array(z+1),g=new Array(z+1),a=new Array(z+1),w=new Array(z+1),y,T,S,i,C=new l,Y,_,t,I,r,n,Q,D=new Array(z),dG=new Array(z+1);
for(T=0;T<z;T++){if(U.Ps[T]=="CURVE"){var R=q[j(T-1,z)<<1],X=q[(j(T-1,z)<<1)+1],dx=q[T<<1],jv=q[(T<<1)+1],gB=q[j(T+1,z)<<1],hQ=q[(j(T+1,z)<<1)+1];
D[T]=Math.sign(E(dx-R,jv-X,gB-dx,hQ-jv))}else{D[T]=0}}t=0;dG[0]=0;var ah=U.A8[0],kG=U.A8[1];for(T=0;
T<z;T++){_=j(T+1,z);if(U.Ps[_]=="CURVE"){I=U.alpha[_];var iZ=T*3+2<<1,bs=_*3+2<<1,ey=U.tg[iZ],jp=U.tg[iZ+1],eh=q[_<<1],dt=q[(_<<1)+1],jN=U.tg[bs],jX=U.tg[bs+1];
t+=.3*I*(4-I)*E(eh-ey,dt-jp,jN-ey,jX-jp)/2;t+=E(ey-ah,jp-kG,jN-ah,jX-kG)/2}dG[T+1]=t}P[0]=-1;g[0]=0;
a[0]=0;for(S=1;S<=z;S++){P[S]=S-1;g[S]=g[S-1];a[S]=a[S-1]+1;for(T=S-2;T>=0;T--){i=K(G,T,j(S,z),C,d.a7O,D,dG);
if(i){break}if(a[S]>a[T]+1||a[S]==a[T]+1&&g[S]>g[T]+C.DJ){P[S]=T;g[S]=g[T]+C.DJ;a[S]=a[T]+1;w[S]=C;C=new l}}}y=a[z];
r=new e(y);n=new Array(y);Q=new Array(y);S=z;for(T=y-1;T>=0;T--){var jw=j(S,z),i7=T*3+0<<1,kn=jw*3+0<<1;
if(P[S]==S-1){r.Ps[T]=U.Ps[jw];r.tg[i7]=U.tg[kn];r.tg[i7+1]=U.tg[kn+1];r.tg[i7+2]=U.tg[kn+2];r.tg[i7+3]=U.tg[kn+3];
r.tg[i7+4]=U.tg[kn+4];r.tg[i7+5]=U.tg[kn+5];r.A8[T<<1]=U.A8[jw<<1];r.A8[(T<<1)+1]=U.A8[(jw<<1)+1];r.alpha[T]=U.alpha[jw];
r.zL[T]=U.zL[jw];r.wU[T]=U.wU[jw];n[T]=Q[T]=1}else{r.Ps[T]="CURVE";r.tg[i7]=w[S].bj;r.tg[i7+1]=w[S].Jf;
r.tg[i7+2]=w[S].Zo;r.tg[i7+3]=w[S]._G;r.tg[i7+4]=U.tg[kn+4];r.tg[i7+5]=U.tg[kn+5];r.A8[T<<1]=o(w[S].eL,U.tg[kn+4],q[jw<<1]);
r.A8[(T<<1)+1]=o(w[S].eL,U.tg[kn+5],q[(jw<<1)+1]);r.alpha[T]=w[S].alpha;r.zL[T]=w[S].alpha;n[T]=w[S].eL;
Q[T]=w[S].xr}S=P[S]}for(T=0;T<y;T++){_=j(T+1,y);r.wU[T]=n[T]/(n[T]+Q[_])}r.aG5=1;G.Au=r}for(var T=0;
T<m.length;T++){var G=m[T];F(G);W(G);f(G);$(G);H(G);if(d.aiT)A(G)}}return{aeB:v,apU:J}}();fg.EU=function(h,e,v,J){var m={b9:"minority",api:J,aiT:!0,aC5:1,a7O:.2},d=fg.aeB(h,e,v,m);
fg.apU(d,m);return d};fg.rx=function(h){var e=[];for(var T=0;T<h.length;T++){var v=h[T],J=v.Au,m=["M"],d=[J.tg[(J.cv-1)*6+4],J.tg[(J.cv-1)*6+5]];
for(var x=0;x<J.cv;x++){var j=x*6;if(J.Ps[x]==1){m.push("C");for(var E=0;E<6;E++)d.push(J.tg[j+E])}else if(J.Ps[x]==0){m.push("L");
for(var E=2;E<4;E++)d.push(J.tg[j+E])}}m.push("Z");e.push({parent:v.parent,color:v.color,path:{g:d,WQ:m}})}return e};
fg.Wk=function(h,e,v){var iW=h.length>>1,J,m=h[2*iW-3]-v,d=h[2*iW-2]-e,x=h[2*iW-1]-v,j=x>m,E=0;for(var T=0;
T<iW;T++){J=d;m=x;d=h[2*T]-e;x=h[2*T+1]-v;if(m==x)continue;j=x>m}for(var T=0;T<iW;T++){J=d;m=x;d=h[2*T]-e;
x=h[2*T+1]-v;if(m<0&&x<0)continue;if(m>0&&x>0)continue;if(J<0&&d<0)continue;if(m==x&&Math.min(J,d)<=0)return!0;
if(m==x)continue;var L=J+(d-J)*-m/(x-m);if(L==0)return!0;if(L>0)E++;if(m==0&&j&&x>m)E--;if(m==0&&!j&&x<m)E--;
j=x>m}return(E&1)==1};fg.fill=function(h,e,v,J){var m=e[h],d=[h],x=0;while(x<d.length){var j=d[x];x++;
e[j]=J;if(e[j-v]==m){d.push(j-v);e[j-v]=254}if(e[j-1]==m){d.push(j-1);e[j-1]=254}if(e[j+1]==m){d.push(j+1);
e[j+1]=254}if(e[j+v]==m){d.push(j+v);e[j+v]=254}}};var gd=function(){function h(j){return Math.max(0,Math.min(1,j))}function e(j,E){var L=E<0?-E:E;
if(j>1)j=.99;j=j*.99;var p=Math.pow(L/5,.16),Z=Math.pow(2,L<1?L:1+(L-1)*.8);if(E<0)Z=1/Z;j=p*(1-Math.pow(1-j,Z))+(1-p)*j;
return j}function v(j,E){var L=E/100;j=j*.99;j=L*(.5-.5*Math.cos(j*Math.PI))+(1-L)*j;return j}var J=B.$c.qY(1,1,1,-.3),m=B.$c.ia(J);
function d(j,E,L,p,Z,o,u){var N=j[L],M=j[L+1],O=j[L+2],F=B.$c.QE(J,[N,M,O,1]);N=F[0];M=F[1];O=F[2];N=e(N,p);
M=e(M,p);O=e(O,p);var F=B.$c.QE(m,[N,M,O,1]);N=F[0];M=F[1];O=F[2];N=h(N);M=h(M);O=h(O);N=v(N,Z);M=v(M,Z);
O=v(O,Z);var W=hj.a8N(N,M,O,o);N=W[0];M=W[1];O=W[2];N=h(N);M=h(M);O=h(O);if(u){var f=new Uint8Array(4);
f[0]=~~(.5+N*255);f[1]=~~(.5+M*255);f[2]=~~(.5+O*255);hy.$a(u,f,f,new fP(0,0,1,1));N=f[0]/255;M=f[1]/255;
O=f[2]/255}E[L]=N;E[L+1]=M;E[L+2]=O}function x(j,E,L,p,Z,o){var u=Z.Temp?Z.Temp.v:0,N=Z.Tint?Z.Tint.v:0,M=Z.Ex12?Z.Ex12.v:0,O=Z.Cr12?Z.Cr12.v:0,F=Z.Vibr?Z.Vibr.v:0,W=Z.Strt?Z.Strt.v:0,f=hj.s6(u,N),$=null;
M+=f.aBu;if(F!=0||W!=0)$=hy.hc("vibA",{Strt:Z.Strt,vibrance:Z.Vibr});var H=Date.now();if(o){var A=Math.pow(2,M),G=j.length;
M=0;var l=new Float32Array(4e3);for(var T=0;T<4e3;T++){var K=T*(1/1e3);K=B.ps(K);K*=A;K=B.sq(K);K=h(K);
l[T]=K}for(var T=0;T<G;T+=3){p[T]=l[~~(j[T]*1e3)];p[T+1]=l[~~(j[T+1]*1e3)];p[T+2]=l[~~(j[T+2]*1e3)]}console.log(Date.now()-H,"Exposure normalizing");
H=Date.now()}else p.set(j);if(M!=0||O!=0||u!=0||N!=0||$){var U=17,z=1/(U-1),q=U*U*U,P=new Array(q*3);
for(var g=0;g<U;g++)for(var a=0;a<U;a++)for(var w=0;w<U;w++){var T=g*U*U+a*U+w,y=T*3;P[y]=g*z;P[y+1]=a*z;
P[y+2]=w*z}for(var T=0;T<q;T++)d(P,P,T*3,M,O,f,$);console.log(Date.now()-H,"making LUT");H=Date.now();
ICC.U.applyLUTFloat(P,U,p,p);console.log(Date.now()-H,"applying LUT");H=Date.now()}}return x}();function bI(){}bI.kq=function(h,e){var v=new Uint8Array(h),J=0,m=e.split("/").pop().split(".")[0];
function d(O){for(var T=0;T<O.length;T++)O[T].v.Nm.v=m+"/"+O[T].v.Nm.v.split("/").pop()}var x={kk:[],tr:[],list:[]},j=b.hm(v,J);
J+=2;if(j<=2){x=bI.aFd(v);d(x.list);return x}var E=b.hm(v,J);J+=2;var L=b.RZ(v,J,8);J+=8;var p=b.d$(v,J);
J+=4;if(p>0)x.kk=bI.axk(v,J,p,E,j);J+=p;var Z=b.RZ(v,J,8);J+=8;var o=b.d$(v,J);J+=4;if(o>0)x.tr=aT.ed(v,J,o);
J+=o;var u=b.RZ(v,J,8);J+=8;var N=b.d$(v,J);J+=4;if(N>0){var M={};gl.V2(v,M,J+4);x.list=M.Brsh.v}J+=N;
var O=x.list;for(var T=0;T<O.length;T++){a2.pO.check(O[T].v)}d(O);return x};bI.PZ=function(h,e){h.v.Nm.v=e};
bI.aFd=function(h){var e={kk:[],tr:[],list:[]},v=0,J=b.hm(h,v);v+=2;var m=b.hm(h,v);v+=2;for(var T=0;
T<m;T++){var d=b.hm(h,v);v+=2;var x=b.d$(h,v);v+=4;var j=v;if(d==2){var E={};e.kk.push(E);var L=b.d$(h,j);
j+=4;var p=b.hm(h,j);j+=2;if(J==2){var Z=b.ZA(h,j);j+=4+Z.length*2+2}E.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";
j++;j+=8;E.e3=b.gY(h,j);j+=16;var o=b.hm(h,j);j+=2;var u=h[j];j++;var N=kK.B4(!1,o,h,E.e3.q,E.e3._,j,u);
N=B.D1(N,8);bI.aEA(E,N);var M=a2.EB(E.id),O=M.Brsh.v;O.Dmtr.v.val=E.e3.q;O.Spcn.v.val=p;e.list.push({t:"Objc",v:M})}v+=x}return e};
bI.mA=function(h){var e=new kg,v=0,J=0;b.mb(e,v,6);v+=2;b.mb(e,v,2);v+=2;var m={},d=[],x={},j=[];for(var T=0;
T<h.list.length;T++){var E=h.list[T].v,L=E.Brsh.v;if(L.classID=="sampledBrush")m[L.sampledData.v]=!0;
if(E.Txtr)x[E.Txtr.v.Idnt.v]=!0}for(var T=0;T<h.kk.length;T++)if(m[h.kk[T].id])d.push(h.kk[T]);for(var T=0;
T<h.tr.length;T++)if(m[h.tr[T].id])j.push(h.tr[T]);b.ey(e,v,"8BIMsamp");v+=8;v+=4;J=v;v=bI.apP(e,v,d);
b.fM(e,J-4,v-J);b.ey(e,v,"8BIMpatt");v+=8;v+=4;J=v;v=aT.aS(e,v,j);b.fM(e,J-4,v-J);var p=B.t(h.list);
for(var T=0;T<p.length;T++)p[T].v.Nm.v=p[T].v.Nm.v.split("/").pop();var Z={classID:"null",Brsh:{t:"VlLs",v:p}};
b.ey(e,v,"8BIMdesc");v+=8;v+=4;J=v;b.fM(e,v,16);v+=4;v+=gl.Qb(e,Z,v);b.fM(e,J-4,v-J);return e.data.slice(0,v).buffer};
bI.axk=function(h,e,v,J,m){var d=b.d$,x=b.gY,j=e+v,E=[];while(e<j){var L={};E.push(L);var p=d(h,e);e+=4;
var Z=e,o=b.bD(h,e);e+=o.length;L.id=o.De;if(J==1){e+=9;L.e3=x(h,e);e+=16}else{e+=7;var u=d(h,e);e+=4;
L.e3=x(h,e);e+=16;var N=d(h,e);e+=4;e+=N*4;var M=d(h,e);e+=4;var O=d(h,e);e+=4;var F=x(h,e);e+=16}var W=b.hm(h,e);
e+=2;var f=h[e];e+=1;var $=kK.B4(!1,W,h,L.e3.q,L.e3._,e,f);$=B.D1($,8);bI.aEA(L,$);if(p%4!=0)p+=4-p%4;
e=Z+p}return E};bI.aEA=function(h,e){var v=h.e3.O();v.x=v.y=0;h.$O=[e,v]};bI.apP=function(h,e,v){var J=b.fM,m=b.d3;
for(var T=0;T<v.length;T++){var d=v[T],x=e+4,E=56,p=1;e+=4;b.gP(h,e,d.id);e+=d.id.length+2;h.OQ(e,1);
h.data[e]=1;e+=3;J(h,e,3);e+=4;var j=e;e+=4;m(h,e,d.e3);e+=16;J(h,e,E);e+=4;e+=E*4;J(h,e-4,1);var L=e;
e+=4;J(h,e,8);e+=4;m(h,e,d.e3);e+=16;b.mb(h,e,8);e+=2;h.OQ(e,1);h.data[e]=p;e++;var Z=d.$O[0];h.OQ(e,d.e3.$()*2);
e=kK.OC(!1,Z,h.data,d.e3.q,d.e3._,e,p);h.OQ(e,8);e+=8;var o=e-x;J(h,x-4,o);J(h,j,o-49);J(h,L,o-305);
if(o%4!=0)e+=4-o%4}return e};function fZ(){}fZ.kq=function(h,e){var v=new Uint8Array(h),J=[],m=0,d=b.hm(v,m);
m+=2;if(d!=4){throw"Unknown version of curves: "+d}var x=b.hm(v,m);m+=2;for(var T=0;T<x;T++){var j=fZ.awD(v,m);
m+=2+2*j.length;J.push(j)}if(m!=v.length){var E=b.RZ(v,m,4);m+=4;var L=b.hm(v,m);m+=2;var p=b.hm(v,m);
m+=2;if(p!=0)throw"extra curves for channels"}var Z=fZ.ag3(J,0);Z.presetKind={t:"long",v:3};Z.presetFileName={t:"TEXT",v:e.split("/").pop().split(".")[0]};
return[Z]};fZ.S3=function(h,e,v,J){var m=J?b.bB:b.d$,d=e,x=[],j=h[e];e+=3;var E=m(h,e);e+=4;for(var T=0;
T<4;T++){var L=E>>>T&1;if(L){if(j==0){var p=fZ.awD(h,e,J);e+=2+2*p.length}else{var p=fZ.ank(h,e);e+=256}x.push(p)}else x.push(j==0?[0,0,255,255]:fZ.aE0())}var Z=fZ.ag3(x,j);
return Z};fZ.ag3=function(h,e){var v=f8.UX("curv");for(var T=0;T<4;T++){if(e==0){var J=h[T],m=[];for(var d=0;
d<J.length;d+=2)m.push(B.CL.M$(J[d],J[d+1],!0));fZ.mm(v,T,m)}else fZ.mm(v,T,h[T])}return v};fZ.w9=function(h,e,v){var J=[];
for(var T=0;T<4;T++){var m=fZ.GT(v,T);if(m.length==256)J.push(m);else{var d=[];for(var x=0;x<m.length;
x++)d.push(m[x].v.Hrzn.v,m[x].v.Vrtc.v);J.push(d)}}var j=e,E=J[0].length==256?1:0;h.OQ(e,3);h.data[e]=E;
h.data[e+1]=0;h.data[e+2]=1;e+=3;b.fM(h,e,15);e+=4;for(var T=0;T<4;T++){var L=J[T];if(E==0){fZ.akD(h,e,L);
e+=2+2*L.length}else{fZ.adM(h,e,L);e+=256}}return e-j};fZ.aE0=function(){var h=[];for(var T=0;T<256;
T++)h.push(T);return h};fZ.mm=function(h,e,v){var J=a4.YJ("CrvA",e);if(v.length<256)J.Crv={t:"VlLs",v:v};
else{J.Mpng={t:"VlLs",v:[]};for(var T=0;T<256;T++)J.Mpng.v[T]={t:"long",v:v[T]}}J={t:"Objc",v:J};var m=h.Adjs.v,d=a4.rO(m,e);
if(d==-1)m.push(J);else m[d]=J};fZ.GT=function(h,e){var v=h.Adjs.v,J=a4.rO(v,e);if(J==-1){if(v.length==0||v[0].v.Crv)return[B.CL.M$(0,0,!0),B.CL.M$(255,255,!0)];
if(v[0].v.autoMachineLearning||v[0].v.AuCo)return[B.CL.M$(0,0,!0),B.CL.M$(128,160,!0),B.CL.M$(255,255,!0)];
var m=[];for(var T=0;T<256;T++)m.push(T);return m}var d=v[J].v;if(d.Crv)return d.Crv.v;if(d.Mpng){var m=[];
for(var T=0;T<256;T++)m.push(d.Mpng.v[T].v);return m}return[B.CL.M$(0,0,!0),B.CL.M$(255,255,!0)]};fZ.awD=function(h,e,v){var J=v?b.B7:b.hm,m=[],d=J(h,e);
e+=2;for(var x=0;x<d;x++){var j=J(h,e);e+=2;var E=J(h,e);e+=2;m.push(E,j)}return m};fZ.akD=function(h,e,v){var J=v.length/2;
b.mb(h,e,J);e+=2;for(var m=0;m<J;m++){b.mb(h,e,v[m*2+1]);e+=2;b.mb(h,e,v[m*2+0]);e+=2}};fZ.ank=function(h,e){var v=[];
for(var T=0;T<256;T++)v.push(h[e+T]);return v};fZ.adM=function(h,e,v){h.OQ(e,256);for(var T=0;T<256;
T++)h.data[e+T]=v[T]};function bb(){}bb.S3=function(h,e,v,J){var m={},d=J?b.B7:b.hm,x=J?b.Iy:b.WW,j=d(h,e);
e+=2;m.ax=h[e]==1;e++;e++;m.aH=[x(h,e),x(h,e+2),x(h,e+4)];e+=6;m.jL=[x(h,e),x(h,e+2),x(h,e+4)];e+=6;
m.s3=[];for(var T=0;T<6;T++){var E={};E.fW=[x(h,e),x(h,e+2),x(h,e+4),x(h,e+6)];e+=8;E.dD=[x(h,e),x(h,e+2),x(h,e+4)];
e+=6;m.s3.push(E)}var L=f8.UX("hue2"),p=m;if(L.Clrz==null)L.Clrz={t:"bool",v:!1};L.Clrz.v=p.ax;for(var T=0;
T<7;T++){var Z=T==0?p.ax?p.aH:p.jL:p.s3[T-1];bb.mm(L,T,Z)}return L};bb.a4J=function(h){return{classID:"Hst2",H:{t:"long",v:h[0]},Strt:{t:"long",v:h[1]},Lght:{t:"long",v:h[2]}}};
bb.rO=function(h,e){for(var T=0;T<h.length;T++){var v=h[T].v.LclR;if(e==0&&v==null||v!=null&&v.v==e)return T}return-1};
bb.mm=function(h,e,v){var J=e==0?v:v.dD,m=bb.a4J(J);if(e!=0){var d=v.fW;m.LclR={t:"long",v:e},m.BgnR={t:"long",v:d[0]};
m.BgnS={t:"long",v:d[1]};m.EndS={t:"long",v:d[2]};m.EndR={t:"long",v:d[3]}}m={t:"Objc",v:m};var x=h.Adjs.v,j=bb.rO(x,e);
if(j==-1)x.push(m);else x[j]=m};bb.GT=function(h,e){var v=h.Adjs.v,J=bb.rO(v,e);if(J==-1){if(e==0)return[0,0,0];
else return[{fW:[315,345,15,45],dD:[0,0,0]},{fW:[15,45,75,105],dD:[0,0,0]},{fW:[75,105,135,165],dD:[0,0,0]},{fW:[135,165,195,225],dD:[0,0,0]},{fW:[195,225,255,285],dD:[0,0,0]},{fW:[255,285,315,345],dD:[0,0,0]}][e-1]}var m=v[J].v,d=[m.H.v,m.Strt.v,m.Lght.v];
if(e==0)return d;return{dD:d,fW:[m.BgnR.v,m.BgnS.v,m.EndS.v,m.EndR.v]}};bb.w9=function(h,e,v){var J={ax:v.Clrz?v.Clrz.v:!1,s3:[]};
J.aH=J.jL=bb.GT(v,0);for(var T=1;T<7;T++)J.s3.push(bb.GT(v,T));var m=2+2+12+6*14,d=h.data;h.OQ(e,m);
b.pu(d,e,2);e+=2;d[e]=J.ax?1:0;e++;e++;b.dC(d,e+0,J.aH[0]);b.dC(d,e+2,J.aH[1]);b.dC(d,e+4,J.aH[2]);e+=6;
b.dC(d,e+0,J.jL[0]);b.dC(d,e+2,J.jL[1]);b.dC(d,e+4,J.jL[2]);e+=6;for(var T=0;T<6;T++){var x=J.s3[T].fW,j=J.s3[T].dD;
b.dC(d,e+0,x[0]);b.dC(d,e+2,x[1]);b.dC(d,e+4,x[2]);b.dC(d,e+6,x[3]);e+=8;b.dC(d,e+0,j[0]);b.dC(d,e+2,j[1]);
b.dC(d,e+4,j[2]);e+=6}return m};function a4(){}a4.kq=function(h,e){var v=new Uint8Array(h),J=2,m=e?b.B7:b.hm,d=[];
for(var T=0;T<29;T++){var x=[];d.push(x);for(var j=0;j<5;j++)x.push(m(v,J+T*10+j*2))}J+=29*10;if(J<v.length){var E=b.Mg(v,J,e);
J+=4;var L=m(v,J);J+=2;var p=m(v,J);J+=2;var Z=p-29;for(var T=0;T<Z;T++){var x=[];d.push(x);for(var j=0;
j<5;j++)x.push(m(v,J+T*10+j*2))}}var o=f8.UX("levl");for(var T=0;T<4;T++)a4.mm(o,T,d[T]);return o};a4.YJ=function(h,T){var e=["Cmps","Rd","Grn","Bl"],v={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:e[T]}}]};
return{classID:h,Chnl:v}};a4.rO=function(h,e){var v={Cmps:0,Rd:1,Grn:2,Bl:3};for(var T=0;T<h.length;
T++){var J=h[T].v,m=v[J.Chnl.v[0].v.enum];if(m==e)return T}return-1};a4.mm=function(h,e,v){var J=a4.YJ("LvlA",e);
J.Inpt={t:"VlLs",v:[{t:"long",v:v[0]},{t:"long",v:v[1]}]};J.Otpt={t:"VlLs",v:[{t:"long",v:v[2]},{t:"long",v:v[3]}]};
J.Gmm={t:"doub",v:v[4]/100};J={t:"Objc",v:J};var m=h.Adjs.v,d=a4.rO(m,e);if(d==-1)m.push(J);else m[d]=J};
a4.GT=function(h,e){var v=[0,255,0,255,100],J=h.Adjs.v,m=a4.rO(J,e);if(m==-1)return v;var d=J[m].v;if(d.Inpt){v[0]=d.Inpt.v[0].v;
v[1]=d.Inpt.v[1].v}if(d.Otpt){v[2]=d.Otpt.v[0].v;v[3]=d.Otpt.v[1].v}if(d.Gmm){v[4]=Math.round(d.Gmm.v*100)}return v};
a4.mA=function(h,e){var v=[],J=0;for(var T=0;T<4;T++)v.push(a4.GT(e,T));while(v.length<29)v.push([0,255,0,255,100]);
h.OQ(0,2+10*29);b.pu(h.data,J,2);J+=2;for(var T=0;T<29;T++){var m=v[T];for(var d=0;d<5;d++)b.pu(h.data,J+T*10+d*2,m[d])}J+=29*10;
if(v.length==29)return J;h.OQ(J,8+10*(v.length-29));b._z(h.data,J,"Lvls");J+=4;b.pu(h.data,J,3);J+=2;
b.pu(h.data,J,v.length);J+=2;var x=v.length-29;for(var T=0;T<x;T++){var m=v[29+T];for(var d=0;d<5;d++)b.pu(h.data,J+T*10+d*2,m[d])}J+=10*x;
return J};function fG(){}fG.kq=function(h,e){var v=new Uint8Array(h),J=2,m=e.split("/").pop().split(".")[0],d={RL:[],bt:[]},x=b.RZ(v,J,4);
J+=4;var j=b.hm(v,J);J+=2;var E=b.d$(v,J);J+=4;d.RL=aT.ed(v,J,E);J+=E;var L=b.d$(v,J);J+=4;for(var T=0;
T<L;T++){var p=b.d$(v,J);J+=4;var Z=J,o={ks:{},bP:{}};d.bt.push(o);J+=4;J+=gl.V2(v,o.ks,J);o.ks.Nm.v=m+"/"+o.ks.Nm.v.split("=").pop();
J+=4;J+=gl.V2(v,o.bP,J);J=Z+p;var u=o.bP.blendOptions,N=o.bP.Lefx;if(u&&Object.keys(u.v).length>1){}if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};
ba.pw(N.v)}}return d};fG.PZ=function(h,e){h.ks.Nm.v=e};fG.mA=function(h){var e=new kg,v=0;b.mb(e,v,2);
v+=2;b.ey(e,v,"8BSL");v+=4;b.mb(e,v,3);v+=2;var J=v;v+=4;v=aT.aS(e,v,h.RL);b.fM(e,J,v-J-4);var m=h.bt.length;
b.fM(e,v,m);v+=4;for(var T=0;T<m;T++){v+=4;var d=v,x=h.bt[T];b.fM(e,v,16);v+=4;var j=x.ks.Nm.v;x.ks.Nm.v=x.ks.Nm.v.split("/").pop();
v+=gl.Qb(e,x.ks,v);x.ks.Nm.v=j;var E=x.bP.Lefx;if(E){x.bP.Lefx=B.t(E);ba.SM(x.bP.Lefx.v)}b.fM(e,v,16);
v+=4;v+=gl.Qb(e,x.bP,v);if(E)x.bP.Lefx=E;b.fM(e,d-4,v-d)}return e.data.slice(0,v).buffer};function dX(){}dX.S3=function(h,e,v,J){var m=J?b.B7:b.hm,d=J?b.Iy:b.WW,x=m(h,e);
e+=2;var j={};j.Ry=m(h,e)==1;e+=2;j.Ti=[];for(var T=0;T<10;T++){var E=[];j.Ti.push(E);for(var L=0;L<4;
L++)E.push(d(h,e+L*2));e+=8}var p=f8.UX("selc");p.Mthd.v.CrcM=j.Ry?"Absl":"Rltv";for(var T=1;T<10;T++)dX.mm(p,T-1,j.Ti[T]);
return p};dX.hR="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");dX.YJ=function(h,T){var e=["Cmps","Rd","Grn","Bl"],v={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:e[T]}}]};
return{classID:h,Chnl:v}};dX.rO=function(h,e){var v=dX.hR;for(var T=0;T<h.length;T++){var J=h[T].v,m=v.indexOf(J.Clrs.v.Clrs);
if(m==e)return T}return-1};dX.mm=function(h,e,v){var J=["Cyn","Mgnt","Ylw","Blck"],m={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:dX.hR[e]}}};
for(var d=0;d<4;d++)m[J[d]]={t:"UntF",v:{type:"#Prc",val:v[d]}};m={t:"Objc",v:m};var x=h.ClrC.v,j=dX.rO(x,e);
if(j==-1)x.push(m);else x[j]=m};dX.GT=function(h,e){var v=[0,0,0,0],J=h.ClrC.v,m=dX.rO(J,e);if(m==-1)return v;
var d=["Cyn","Mgnt","Ylw","Blck"];for(var T=0;T<4;T++)if(J[m].v[d[T]])v[T]=J[m].v[d[T]].v.val;return v};
dX.w9=function(h,e,v){var J={Ry:v.Mthd.v.CrcM=="Absl",Ti:[[0,0,0,0]]};for(var T=0;T<9;T++)J.Ti.push(dX.GT(v,T));
h.OQ(e,84);b.pu(h.data,e,1);e+=2;b.pu(h.data,e,J.Ry?1:0);e+=2;for(var T=0;T<10;T++){var m=J.Ti[T];for(var d=0;
d<4;d++)b.dC(h.data,e+d*2,m[d]);e+=8}return 84};function dI(){}dI.UX=function(){return{Fv:new fP(0,0,50,50),ks:"",zV:"play",z:B.s.z0.Ad([.1,.1,.9,.5,.1,.9],0)}};
dI.kq=function(h,e){h=new Uint8Array(h);var v=0,J=[],m=e.split("/").pop().split(".")[0],d=Date.now(),x=b.RZ(h,0,4);
v+=4;var j=b.d$(h,v);v+=4;var E=b.d$(h,v);v+=4;for(var T=0;T<E;T++){var L=b.ZA(h,v);v+=L.length*2+4+2;
if((L.length&1)==0)v+=2;v=dI.a9X(h,v,L,J);J[T].zV=m+"/"+J[T].zV}return J};dI.a9X=function(h,e,v,J){var m=b.d$(h,e);
e+=4;var d=b.d$(h,e);e+=4;var x=e,j=b.bD(h,x).De;x+=j.length+1;var E=b.gY(h,x);x+=16;var L=dI.kN(h,x,d-(x-e)),p=B.s.WE(L),Z=B.w.oS(p),o=1/Z.q,u=1/Z._;
B.s.Ma(L,new aJ(o,0,0,u,-Z.x*o,-Z.y*u));J.push({zV:v,ks:j,z:L,Fv:E});e+=d;return e};dI.PZ=function(h,e){h.zV=e};
dI.mA=function(h){var e=new kg,v=0;b.ey(e,v,"cush");v+=4;b.fM(e,v,2);v+=4;b.fM(e,v,h.length);v+=4;for(var T=0;
T<h.length;T++){var J=h[T],m=J.zV.split("/").pop()+"\0";b.DI(e,v,m);v+=4+m.length*2;if((m.length&1)==1)v+=2;
b.fM(e,v,1);v+=4;v+=4;var d=v;b.gP(e,v,J.ks);v+=J.ks.length+1;b.d3(e,v,J.Fv);v+=16;e.OQ(v,J.z.length*26);
dI.lx(e.data,v,J.z,1,1);v+=J.z.length*26;var x=v-d;if((x&3)!=0)x+=4-(x&3);b.fM(e,d-4,x);v=d+x}return e.data.slice(0,v).buffer};
dI.at3=function(h){var e=[];for(var T=0;T<h.length;T++){var v=h[T],J=v.c,m={type:J};e.push(m);if(J==6){}else if(J==8)m.all=v.all;
else if(J==0||J==3){m.length=v.length;m.frule=v.Jb;m.third=v.rH;m.prmA=v.rd;m.prmB=v.O1}else{m.c=[v.NA.x,v.NA.y,v.Q.x,v.Q.y,v.Xb.x,v.Xb.y]}}return e};
dI.a5s=function(h){var e=[];for(var T=0;T<h.length;T++){var v=h[T],J=v.type,m={c:J};e.push(m);if(J==6){}else if(J==8)m.all=v.all;
else if(J==0||J==3){m.length=v.length;m.Jb=v.frule;m.rH=v.third;m.rd=v.prmA;m.O1=v.prmB}else{var d=v.c;
m.NA=new fq(d[0],d[1]);m.Q=new fq(d[2],d[3]);m.Xb=new fq(d[4],d[5])}}return e};dI.kN=function(h,e,v,J,m,d){if(J==null)J=1;
if(m==null)m=1;var x=d?b.aDy:b.a6R;function j(W,f,$){var H=x(W,f)*$,A=Math.round(H);return Math.abs(H-A)<1e-6?A:H}var E=d?b.Iy:b.WW,L=d?b.bB:b.d$,p=[],Z=Math.floor(v/26);
for(var T=0;T<Z;T++){var o=e+T*26,u={},N=0;p.push(u);u.c=E(h,o);o+=2;if(u.c==6){N=24}if(u.c==8){u.all=E(h,o);
o+=2;N=22}if(u.c==0||u.c==3){u.length=E(h,o);o+=2;u.Jb=E(h,o);o+=2;u.rH=E(h,o);o+=2;u.rd=L(h,o);o+=4;
u.O1=L(h,o);o+=4;N=10}if(u.c==1||u.c==2||u.c==4||u.c==5){var M,O;O=j(h,o,m);o+=4;M=j(h,o,J);o+=4;u.NA=new fq(M,O);
O=j(h,o,m);o+=4;M=j(h,o,J);o+=4;u.Q=new fq(M,O);O=j(h,o,m);o+=4;M=j(h,o,J);o+=4;u.Xb=new fq(M,O);N=0}for(var F=0;
F<N;F++)if(h[o+F]!=0){console.log("Unexpected non-zero byte!",u,F,h[o+F])}}return p};dI.lx=function(h,e,v,J,m){var d=b.dC,x=b.aft,j=v.length;
for(var T=0;T<j;T++){var E=e+T*26,L=v[T];d(h,E,L.c);E+=2;if(L.c==6){}if(L.c==8)d(h,E,L.all);if(L.c==0||L.c==3){d(h,E,L.length);
E+=2;d(h,E,L.Jb);E+=2;d(h,E,L.rH);E+=2}if(L.c==1||L.c==2||L.c==4||L.c==5){x(h,E,L.NA.y/m);E+=4;x(h,E,L.NA.x/J);
E+=4;x(h,E,L.Q.y/m);E+=4;x(h,E,L.Q.x/J);E+=4;x(h,E,L.Xb.y/m);E+=4;x(h,E,L.Xb.x/J);E+=4}}};function fy(){}fy.a48=function(h,e,v,J){var m=J.split(".")[0];
if(e+3<h.length){var d={},E=0;ba._3(h,e,h.length,d);var x=d.phry.hierarchy.v,j=[[]];for(var T=0;T<x.length;
T++){var top=j[j.length-1],L=x[T].v,p=L.classID;if(p=="Grup"){var Z=[];j.push(Z);top.push([L.Nm.v,null,Z,!0])}else if(p=="preset"){top.push(v[E]);
E++}else if(p=="groupEnd"){j.pop()}}var o=fy.aau(j[0],fy);return[[m,null,j[0],!0]]}else{for(var T=0;
T<v.length;T++){var u=v[T][0].split("/");if(u.length>1){m=u[u.length-2];v[T][0]=u.pop().split("=").pop()}}return[[m,null,v,!0]]}};
fy.aau=function(h,e){var v=[],J=[];fy.o3(h,v,J);var m=new Uint8Array(e.mA(v)),d=new kg;d.OQ(0,m.length);
d.data.set(m,0);var x={phry:{classID:"null",hierarchy:{t:"VlLs",v:J}}},j=ba.Xs(d,m.length,x);return d.data.slice(0,j)};
fy.o3=function(h,e,v){for(var T=0;T<h.length;T++){var J=h[T];if(J[1]==null){v.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:J[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
fy.o3(J[2],e,v);v.push({t:"Objc",v:{classID:"groupEnd"}})}else{v.push({t:"Objc",v:{classID:"preset"}});
e.push(J)}}};fy.kq=function(h,e){var v=new Uint8Array(h),J=[],m=0;if(b.RZ(v,0,4)=="ASEF")m=fy.asu(v,J);
else{m=fy.aHR(v,m,J);if(m+3<v.length){J=[];m=fy.aHR(v,m,J)}}return fy.a48(v,m,J,e)};fy.asu=function(h,e){var v=8,J=b.d$(h,v),m,d=null,x,j,E,L;
v+=4;for(var p=0;p<J;p++){var Z=b.hm(h,v);v+=2;var o=b.d$(h,v);v+=4;var u=v+o;if(Z==49153||Z==1){var N=b.hm(h,v);
v+=2;var M=b.Qr(h,v,N-1);v+=N*2;if(Z==1)m=M;else d=M}if(Z==1){var O=b.RZ(h,v,4);v+=4;x=b.SN(h,v);v+=4;
j=b.SN(h,v);v+=4;E=b.SN(h,v);v+=4;if(O=="RGB "){}else if(O=="CMYK"){L=b.SN(h,v);v+=4;var F=UDOC.C.cmykToRgb([x,j,E,L]);
x=F[0];j=F[1];E=F[2]}else alert("Unknown color space: "+O);e.push([(d?d+" : ":"")+m,{n:x*255,i:j*255,b:E*255}])}v=u}return v};
fy.aHR=function(h,e,v){var J=b.hm,m=b.WW,d=J(h,e);e+=2;var x=J(h,e);e+=2;for(var T=0;T<x;T++){var j=fy.J3(h,e),E="clr"+T;
e+=10;if(d==2){E=b.ZA(h,e);e+=4+E.length*2+2}v.push([E,j])}return e};fy.J3=function(h,e,v){var J=v?b.B7:b.hm,m=v?b.Iy:b.WW,d=J(h,e),N=null;
e+=2;var x=J(h,e);e+=2;var j=J(h,e);e+=2;var E=J(h,e);e+=2;var L=J(h,e);e+=2;var p=1/65535,Z=255/65535,o=100/65535,u=255/1e4;
if(d==0)N={n:x*Z,i:j*Z,b:E*Z};else if(d==1){N=B.Qh(x*p,j*p,E*p);N.n*=255;N.i*=255;N.b*=255}else if(d==2)N=B.Vh.SL({classID:"CMYC",Cyn:{t:"doub",v:100-x*o},Mgnt:{t:"doub",v:100-j*o},Ylw:{t:"doub",v:100-E*o},Blck:{t:"doub",v:100-L*o}});
else if(d==7){var M=B.n3(x/100,m(h,e-6)/100,m(h,e-4)/100);N=M}else if(d==8){N={n:255-x*u,i:255-j*u,b:255-E*u}}else if(d==18){var O=255*x/16384;
N={n:O,i:O,b:O}}else{throw d}return N};fy.mA=function(h){var e=new kg,v=0,J=b.mb;for(var m=1;m<3;m++){J(e,v,m);
v+=2;J(e,v,h.length);v+=2;for(var T=0;T<h.length;T++){var d=h[T];e.OQ(v,10);fy.Q8(e.data,v,d[1]);v+=10;
if(m==2){var x=d[0]+"\0";b.DI(e,v,x);v+=4+x.length*2}}}return e.data.slice(0,v).buffer};fy.Q8=function(h,e,v){var J=65535/255,m=b.pu;
m(h,e,0);m(h,e+2,Math.round(v.n*J));m(h,e+4,Math.round(v.i*J));m(h,e+6,Math.round(v.b*J));m(h,e+8,0)};
fy.lT=function(h,e,v){var J=h[1],m=255<<24|J.b<<16|J.i<<8|J.n,d=new Uint32Array(e*v);d.fill(m);var x=UPNG.encode([d.buffer],e,v);
return"data:image/png;base64,"+gI.nQ(x)};function eN(){}eN.kq=function(h){var e=new Uint8Array(h),v=4,J={};
J.SQ=b.ZA(e,v);v+=4+J.SQ.length*2+2;J.exp=e[v++]==1;J.L1=[];var m=b.d$(e,v);v+=4;for(var T=0;T<m;T++){var d={};
J.L1.push(d);d.yl=b.hm(e,v);v+=2;d.shift=e[v++]==1;d.akm=e[v++]==1;d.color=b.hm(e,v);v+=2;d.SQ=b.ZA(e,v);
v+=4+d.SQ.length*2+2;d.exp=e[v++]==1;d.L1=[];var x=b.d$(e,v);v+=4;for(var j=0;j<x;j++){var E={};d.L1.push(E);
E.exp=e[v++]==1;E.m=e[v++]==1;E.aAV=e[v++]==1;E.aeb=e[v++];var L=b.RZ(e,v,4);v+=4;if(L=="TEXT"){E.UH=eN.ajh(e,v);
v+=4+E.UH.length}else if(L=="long"){E.UH=b.RZ(e,v,4);v+=4}else throw"e";E.i2=eN.ajh(e,v);v+=4+E.i2.length;
var p=b.Pp(e,v);v+=4;if(p==-1){E.TH={};var Z=gl.V2(e,E.TH,v);v+=Z}}}console.log(J);var o=new Uint8Array(eN.mA(J));
for(var T=0;T<o.length;T++)if(o[T]!=e[T]&&b.RZ(e,T+1,4)!="None"){console.log(e.length,o.length);var u=4*(T>>>2)-16;
console.log(b.Ki(e,u,64));console.log(b.Ki(o,u,64));console.log(e.slice(u,u+64));console.log(o.slice(u,u+64));
throw"i"}return[J]};eN.ajh=function(h,e){var v=b.d$(h,e);return b.RZ(h,e+4,v)};eN.aHM=function(h,e,v){b.fM(h,e,v.length);
b.ey(h,e+4,v)};eN.mA=function(h){var e=new kg,v=0;b.fM(e,v,16);v+=4;b.DI(e,v,h.SQ+"\0");v+=4+h.SQ.length*2+2;
e.OQ(v,1);e.data[v++]=h.exp?1:0;var J=h.L1.length;b.fM(e,v,J);v+=4;for(var T=0;T<J;T++){var m=h.L1[T];
b.mb(e,v,m.yl);v+=2;e.OQ(v,2);e.data[v++]=m.shift?1:0;e.data[v++]=m.akm?1:0;b.mb(e,v,m.color);v+=2;b.DI(e,v,m.SQ+"\0");
v+=4+m.SQ.length*2+2;e.OQ(v,1);e.data[v++]=m.exp?1:0;var d=m.L1.length;b.fM(e,v,d);v+=4;for(var x=0;
x<d;x++){var j=m.L1[x];e.OQ(v,4);e.data[v++]=j.exp?1:0;e.data[v++]=j.m?1:0;e.data[v++]=j.aAV?1:0;e.data[v++]=j.aeb;
var E="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(j.UH)!=-1;b.ey(e,v,E?"long":"TEXT");
v+=4;if(!E){eN.aHM(e,v,j.UH);v+=4+j.UH.length}else{b.ey(e,v,j.UH);v+=4}eN.aHM(e,v,j.i2);v+=4+j.i2.length;
b.DY(e,v,j.TH?-1:0);v+=4;if(j.TH){var L=gl.Qb(e,j.TH,v);v+=L}}}return e.data.slice(0,v).buffer};function eV(){}eV.kq=function(h){var e=new Uint8Array(h),v=0,J=b.d$(e,v),E;
v+=4;var m=b.RZ(e,v,8);v+=8;var d=b.bB(e,v);v+=4;var x=b.bB(e,v);v+=4;var j=b.bB(e,v);v+=4;console.log(d,x,j);
if(J==2){E=new Float32Array(h,32,h.byteLength-32>>>2)}else if(J==3||J==4){E=new Float32Array(x*j*2);
var L=0,p=0,Z=!0;v=J==3?32:16+8+40;while(v<e.length){var o=b.bB(e,v);v+=4;if(Z)p+=o;else{for(var T=0;
T<o;T++){E[L+p+T<<1]=b.be(e,v);E[(L+p+T<<1)+1]=b.be(e,v+4);v+=8}p+=o}Z=!Z;if(o!=0&&p==x){L+=x;p=0;Z=!0;
if(L==x*j)break}}}else throw"unknown Mesh version: "+J;return{VA:x,qw:j,map:E}};eV.el=function(h){var e=h.VA,v=h.qw,J=h.map,m=new Uint8Array(32+v*e*8+v*8),d=0,x=0;
b.ft(m,d,3);d+=4;b._z(m,d,"yfqLhseM");d+=8;b.lz(m,d,2);d+=4;b.lz(m,d,e);d+=4;b.lz(m,d,v);d+=4;b.lz(m,d,0);
d+=4;b.lz(m,d,1);d+=4;for(var j=0;j<v;j++){b.lz(m,d,0);d+=4;b.lz(m,d,e);d+=4;for(var E=0;E<e;E++){b.u1(m,d,J[x]);
b.u1(m,d+4,J[x+1]);x+=2;d+=8}}return m.buffer};function hM(){}hM.kq=function(h){var e=new Uint8Array(h),v=0,J=b.RZ(e,v,4);
v+=4;var m=b.hm(e,v);v+=2;var d=b.d$(e,v);v+=4;var x=[];for(var T=0;T<d;T++){var j=b.d$(e,v);v+=4;var E={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
x.push(E);var L=b.ZA(e,v);E.Nm.v=L;v+=4+L.length*2+2;var p=b.hm(e,v);v+=2;var Z=b.hm(e,v);v+=2;for(var o=0;
o<Z;o++){var u=B.CL.M$(0,0,!0);u.v.Vrtc.v=b.hm(e,v);v+=2;u.v.Hrzn.v=b.hm(e,v);v+=2;E.Crv.v.push(u)}if(j==1){}else if(j==2){for(var o=0;
o<Z;o++){E.Crv.v[o].v.Cnty.v=e[v]==1;v+=1}}else throw"error";var N=b.d$(e,v);v+=4;var M=b.d$(e,v);v+=4}return x};
hM.PZ=function(h,e){h.Nm.v=e};hM.mA=function(h){var e=new kg,v=0;b.ey(e,v,"8BFS");v+=4;b.mb(e,v,1);v+=2;
b.fM(e,v,h.length);v+=4;for(var T=0;T<h.length;T++){b.fM(e,v,2);v+=4;var J=h[T];b.DI(e,v,J.Nm.v+"\0");
v+=4+J.Nm.v.length*2+2;b.mb(e,v,2);v+=2;var m=J.Crv.v.length;b.mb(e,v,m);v+=2;for(var d=0;d<m;d++){var x=J.Crv.v[d];
b.mb(e,v,x.v.Vrtc.v);v+=2;b.mb(e,v,x.v.Hrzn.v);v+=2}e.OQ(v,m);for(var d=0;d<m;d++){e.data[v]=J.Crv.v[d].v.Cnty.v;
v++}b.fM(e,v,0);v+=4;b.fM(e,v,0);v+=4}return e.data.slice(0,v).buffer};function aT(){}aT.kq=function(h,e){var v=new Uint8Array(h),J=4,m=e.split("/").pop().split(".")[0],d=b.hm(v,J);
J+=2;var x=b.d$(v,J);J+=4;var j=[];for(var T=0;T<x;T++){var E={};j.push(E);J=aT.aj4(v,J,E);E.name=m+"/"+E.name.split("=").pop()}return j};
aT.PZ=function(h,e){h.name=e};aT.mA=function(h){var e=new kg,v=0;b.ey(e,v,"8BPT");v+=4;b.mb(e,v,1);v+=2;
b.fM(e,v,h.length);v+=4;for(var T=0;T<h.length;T++){var J=h[T],m=J.name;J.name=J.name.split("/").pop();
v=aT.any(e,v,J);J.name=m}return e.data.slice(0,v).buffer};aT.ed=function(h,e,v,J){var m=J?b.bB:b.d$,d=e+v,x=[];
while(e<d){var j={},E=m(h,e);e+=4;var L=e;e=aT.aj4(h,e,j,J);if(!j.$O[1].EG())x.push(j);if(E%4!=0)E+=4-E%4;
e=L+E}return x};aT.aS=function(h,e,v){for(var T=0;T<v.length;T++){var J=v[T];e+=4;var m=e;e=aT.any(h,e,J);
var d=e-m;b.fM(h,m-4,d);if(d%4!=0)m+=4-d%4;e=m+d}return e};aT.aj4=function(h,e,v,J){var m=J?b.bB:b.d$,d=J?b.B7:b.hm,x=J?b.aa:b.ZA,j=m(h,e);
e+=4;if(j!=1)alert("Unknown version of pattern");var E=m(h,e);e+=4;if(E!=1&&E!=2&&E!=3)console.log("Unsupported mode of pattern: "+E);
var L=d(h,e);e+=2;var p=d(h,e);e+=2;var Z=new fP(0,0,p,L);v.name=x(h,e);e+=4+2*v.name.length+2;var o=h[e];
e++;v.id=b.RZ(h,e,o);e+=v.id.length;var u=-1;if(E==2){u=e;e+=3*256+4}var N=new B.Em(p*L);e=aT.apa(h,e,N,J);
if(E==2){for(var T=0;T<N.n.length;T++){var M=3*N.n[T];N.n[T]=h[u+M+0];N.i[T]=h[u+M+1];N.b[T]=h[u+M+2]}}var O=B.U(Z.$()*4);
B.VT(N,O);v.$O=[O,Z];return e};aT.any=function(h,e,v){var J=v.$O[0],m=v.$O[1];b.fM(h,e,1);e+=4;b.fM(h,e,3);
e+=4;b.mb(h,e,m._);e+=2;b.mb(h,e,m.q);e+=2;b.DI(h,e,v.name+"\0");e+=4+2*v.name.length+2;b._e(h,e,v.id.length);
e++;b.ey(h,e,v.id);e+=v.id.length;var d=new B.Em(m.$());B.G3(J,d);e=aT.arw(h,e,d,m);return e};aT.apa=function(h,e,v,J){var m=J?b.bB:b.d$,d=J?b.B7:b.hm,x=e,j={e3:null,Y:[],ar8:null,lC:null},E=m(h,e);
e+=4;var L=m(h,e);e+=4;j.e3=b.gY(h,e,J);e+=16;var p=m(h,e);e+=4;for(var T=0;T<p+2;T++){var Z=m(h,e);
e+=4;if(Z==0)continue;var o=m(h,e);e+=4;if(o==0)continue;var u=m(h,e);e+=4;var N=b.gY(h,e,J);e+=16;var M=d(h,e);
e+=2;var O=h[e];e++;var F=kK.B4(!1,u,h,N.q,N._,e,O,o,J);F=B.D1(F,8);if(T<p)j.Y.push(F);if(T==p)j.ar8=F;
if(T==p+1)j.lC=F;e+=o-23}if(!j.e3.EG()){if(j.Y[0])v.n=j.Y[0];if(j.Y[1])v.i=j.Y[1];else v.i=j.Y[0].slice(0);
if(j.Y[2])v.b=j.Y[2];else v.b=j.Y[0].slice(0);if(j.lC)v.DR=j.lC;else v.DR.fill(255)}return e};aT.arw=function(h,e,v,J){var m=e,d={e3:J,Y:[v.n,v.i,v.b],ar8:null,lC:v.DR};
b.fM(h,e,3);e+=4;b.fM(h,e,0);e+=4;b.d3(h,e,J);e+=16;b.fM(h,e,24);e+=4;for(var T=0;T<24+2;T++){var x=e,j=T<3||T==25?1:0;
b.fM(h,e,j);e+=4;if(j==0)continue;b.fM(h,e,0);e+=4;b.fM(h,e,8);e+=4;b.d3(h,e,J);e+=16;b.mb(h,e,8);e+=2;
b._e(h,e,1,1);e++;var E=T<3?d.Y[T]:d.lC;h.OQ(e,J.$()+2);e=kK.OC(!1,E,h.data,J.q,J._,e,1);b.fM(h,x+4,e-x-8)}b.fM(h,m+4,e-m-8);
return e};function kt(){}kt.kq=function(h,e){var v=new Uint8Array(h),m=0;if(v[0]==71)return kt.a7m(v);
var J=e.split("/").pop().split(".")[0],d=b.RZ(v,m,4);m+=4;var x=b.hm(v,m);m+=2;var j=[];if(x<=3){var E=b.hm(v,m);
m+=2;for(var T=0;T<E;T++){var L=v[m++],p=b.RZ(v,m,L);m+=L;var Z=kt.a5Z(v,m,p),o=Z[0];m=Z[1];j.push(o)}}else{var Z={},u=gl.V2(v,Z,m+4),N=Z.GrdL.v;
for(var T=0;T<N.length;T++)j[T]=N[T].v.Grad.v;m+=4+u}for(var T=0;T<j.length;T++)j[T]=[j[T].Nm.v,j[T]];
return fy.a48(v,m,j,e)};kt.PZ=function(h,e){h.Nm.v=e};kt.mA=function(h){var e=new kg,v=0;b.ey(e,v,"8BGR");
v+=4;b.mb(e,v,5);v+=2;b.fM(e,v,16);v+=4;var J={classID:"null",GrdL:{t:"VlLs",v:[]}},m=J.GrdL.v;for(var T=0;
T<h.length;T++){var d=B.t(h[T]);d[1].Nm.v=d[0];m[T]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:d[1]}}}}v+=gl.Qb(e,J,v);
return e.data.slice(0,v).buffer};kt.a5Z=function(h,e,v,J){var m={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:v},Trns:{t:"VlLs",v:[]}},d=J?b.B7:b.hm,x=J?b.bB:b.d$,j=d(h,e);
e+=2;if(j==0)throw"e";for(var T=0;T<j;T++){var E=x(h,e),L=x(h,e+4),p=fy.J3(h,e+8,J),Z={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:p.n},Grn:{t:"doub",v:p.i},Bl:{t:"doub",v:p.b}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:E},Mdpn:{t:"long",v:L}}};
m.Clrs.v.push(Z);e+=20}var o=d(h,e);e+=2;for(var T=0;T<o;T++){var E=x(h,e),L=x(h,e+4),u=d(h,e+8),Z={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*u/255)}},Lctn:{t:"long",v:E},Mdpn:{t:"long",v:L}}};
m.Trns.v.push(Z);e+=10}var N=d(h,e);e+=2;m.Intr.v=N==2?d(h,e):4096;e+=2;var M=d(h,e);e+=2;return[m,e]};
kt.a2D=function(h,e,v){var J=v.Clrs.v.length;b.mb(h,e,J);e+=2;for(var T=0;T<J;T++){var m=v.Clrs.v[T];
b.fM(h,e,m.v.Lctn.v);b.fM(h,e+4,m.v.Mdpn.v);b.mb(h,e+8,0);var d=B.Vh.WZ(B.Vh.SL(m.v.Clr.v)),x=[d.Rd.v,d.Grn.v,d.Bl.v,0];
for(var j=0;j<4;j++)b.mb(h,e+10+j*2,Math.round(65535*(x[j]/255)));e+=20}var E=v.Trns.v.length;b.mb(h,e,E);
e+=2;for(var T=0;T<E;T++){var m=v.Trns.v[T];b.fM(h,e,m.v.Lctn.v);b.fM(h,e+4,m.v.Mdpn.v);b.mb(h,e+8,Math.round(255*m.v.Opct.v.val/100));
e+=10}b.mb(h,e,2);e+=2;b.mb(h,e,v.Intr.v);e+=2;b.mb(h,e,32);e+=2;return e};kt.a7m=function(h){var e=b.Is(h,0,h.length).split("\n"),v=parseFloat(e[2]),J=[],m=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]).Grad.v;
m.Intr.v=0;m.Nm.v=e[1];for(var T=0;T<v;T++){var d=e[3+T].split(" ").map(parseFloat),x=d[11],j=d[12];
J.push([d[0],d.slice(3,6),d[6]]);if(j!=0){var E=B.vB(d[3],d[4],d[5]),L=B.vB(d[7],d[8],d[9]),p=E.qw,Z=L.qw;
if(j==1&&p>Z)Z++;if(j==2&&p<Z)p++;var o=Math.round(Math.abs(Z-p)*7);if(o>1)for(var u=0;u<o;u++){var N=1-(u+1)/(o+1),M=1-N,O=B.Qh(N*p+M*Z,N*E.eL+M*L.eL,N*E.GL+M*L.GL);
J.push([N*d[0]+M*d[2],[O.n,O.i,O.b],N*d[6]+M*d[10]])}}J.push([d[2],d.slice(7,10),d[10]])}J.sort(function(F,W){return F[0]-W[0]});
B.Vh.Q_(J,m);return[m]};kt.lT=function(h,e,v){var J=c.Sa.lT(h[1],e,v,Math.PI/4,16777215,0);return J};
function ji(){}ji.kq=function(h){var e=new Uint8Array(h),v=[],J=[],m=[],d=[],x=[],j=0,E=b.RZ(e,j,4);
j+=4;var L=b.d$(e,j);j+=4;var p=b.d$(e,j);j+=4;while(j<e.length){var Z=b.RZ(e,j,4);j+=4;var o=b.RZ(e,j,4);
j+=4;var u=b.d$(e,j);j+=4;if(o=="tppa"){J=aT.ed(e,j,u);j+=u}else if(o=="tpbd"){m=bI.axk(e,j,u,1,1);j+=u}else if(o=="tptp"){var N=b.d$(e,j);
j+=4;for(var T=0;T<N;T++){var M=b.ZA(e,j);j+=6+M.length*2;j+=4;var O={};j+=gl.V2(e,O,j);v.push([M,O])}while((j&3)!=0)j++}else if(o=="tpsh"){var F=j,W=e.slice(j,j+u);
while(j<F+u){var f=b.d$(e,j);j+=4;j=dI.a9X(e,j,"Shape",d)}j=F+u}else if(o=="tpst"){var F=j;j+=4;while(j<F+u){var $=b.d$(e,j);
j+=4;var H=j,A=b.d$(e,j);j+=4;var O={ks:{},bP:{}};x.push(O);j+=4;j+=gl.V2(e,O.ks,j);j+=4;j+=gl.V2(e,O.bP,j);
j=H+$;var G=O.bP.Lefx;if(G){if(G.v.masterFXSwitch==null)G.v.masterFXSwitch={t:"bool",v:!0};ba.pw(G.v)}}j=F+u}else{console.log(e.slice(j-8,j+64));
console.log(b.RZ(e,j-8,64));throw o}}return{kk:m,tr:J,list:v,aH5:d,bt:x}};ji.PZ=function(h,e){h[0]=e};
ji.mA=function(h){var e=new kg,v=0;b.ey(e,v,"8BTP");v+=4;b.fM(e,v,3);v+=4;b.fM(e,v,1);v+=4;var J=[h.tr,h.kk,h.list];
for(var T=0;T<3;T++){if(J[T].length==0)continue;b.ey(e,v,"8BIM");v+=4;var m=["tppa","tpbd","tptp"][T];
b.ey(e,v,m);v+=4;var d=v;v+=4;if(m=="tppa"){v=aT.aS(e,v,h.tr)}else if(m=="tpbd"){v=bI.apP(e,v,h.kk)}else if(m=="tptp"){b.fM(e,v,h.list.length);
v+=4;for(var x=0;x<h.list.length;x++){var j=h.list[x];b.DI(e,v,j[0]+"\0");v+=6+j[0].length*2;b.fM(e,v,16);
v+=4;v+=gl.Qb(e,j[1],v)}}b.fM(e,d,v-d-4);while((v&3)!=0)v++;e.OQ(v,0)}return e.data.slice(0,v).buffer};
function gX(){}gX.kq=function(h,e){var v=new Uint8Array(h),J;if(b.d$(v,0)==v.length)J="icc";else if(v[0]=="<".charCodeAt(0))J="look";
else if(b.TE(v,"LUT_3D_SIZE")!=-1)J="cube";else J="3DL";if(J!="icc"){var m=gX.a4z(v,J),d=gX.ayA(m[0],m[1]);
v=d}var x=[];for(var T=0;T<v.length;T++)x.push(v[T]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:e?e:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:x}}]};
gX.mA=function(h){var e=h[0],v=new Uint8Array(e.profile.v);return v.buffer};gX.PZ=function(h,e){h.Nm.v=e};
gX.ayA=function(h,e){var v=new kg,J=128;v.OQ(0,128);var m=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var T=0;T<m.length;T++)v.data[T]=m[T];var d=["desc","A2B0"],x=d.length,j=128+4+x*12;b.fM(v,J,x);
J+=4;for(var E=0;E<x;E++){var L=d[E];b.ey(v,J,L);J+=4;b.fM(v,J,j);J+=4;var p=j;if(L=="desc"){b.ey(v,p,"mluc");
p+=4;p+=4;b.fM(v,p,1);p+=4;b.fM(v,p,12);p+=4;b.ey(v,p,"enUS");p+=4;var Z="ICC by Photopea\0",o=Z.length*2+2;
b.fM(v,p,o);p+=4;b.fM(v,p,28);p+=4;v.OQ(p,o);for(var T=0;T<Z.length;T++)v.data[p+T*2+1]=Z.charCodeAt(T);
p+=o}if(L=="A2B0"){b.ey(v,p,"mAB ");p+=4;p+=4;v.OQ(p,4);v.data[p]=3;v.data[p+1]=3;p+=4;v.OQ(p,4*5);p+=4*3;
b.fM(v,p,p+8-j);p+=4;p+=4;v.OQ(p,20);v.data[p]=h;v.data[p+1]=h;v.data[p+2]=h;p+=16;v.data[p]=2;p+=4;
var u=h*h*h*3;v.OQ(p,u*2);for(var T=0;T<u;T++)b.pu(v.data,p+T*2,Math.max(0,Math.min(65535,Math.round(e[T]*65535))));
p+=u*2}var N=p-j;while((N&3)!=0)N++;b.fM(v,J,N);J+=4;j+=N}b.fM(v,0,j);return v.data.slice(0,j)};gX.a4z=function(h,e){e="LUTFormat"+e.toUpperCase();
var v=[],J=0,m=b.Is(h,0,h.length),d="";for(var T=0;T<h.length&&d=="";T++){if(h[T]==10)d="\n";else if(h[T]==13){d="\r";
if(h[T+1]==10)d+="\n"}}if(e=="LUTFormatCUBE"){var x=m.split(d);for(var T=0;T<x.length;T++){if(x[T]==""||x[T][0]=="#")continue;
var j=x[T].split(" "),E=j[0];if(E=="LUT_3D_SIZE"){J=parseInt(j[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(E)!=-1)continue;
v.push(parseFloat(j[0]),parseFloat(j[1]),parseFloat(j[2]))}v=gX.aa9(J,v)}else if(e=="LUTFormat3DL"){var x=m.split(d),L=1/4095;
for(var T=0;T<x.length;T++){var p=x[T];if(p==""||p=="3DMESH"||p.startsWith("Mesh")||p[0]=="#")continue;
var j=p.split(" "),E=j[0];if(J==0){J=j.length;continue}v.push(parseFloat(j[0])*L,parseFloat(j[1])*L,parseFloat(j[2])*L)}}else if(e=="LUTFormatLOOK"){var Z=new DOMParser,o=Z.parseFromString(m,"text/xml"),u=o.getElementsByTagName("LUT")[0],N=u.children[0].textContent;
J=parseInt(JSON.parse(N));var M=u.children[1].textContent;M=M.replace(/"/g,"").replace(/\s/g,"");var O=3*J*J*J,F=O*4,W=new Uint8Array(F);for(var T=0;T<F;T++){var f=M.charCodeAt(T*2),$=M.charCodeAt(T*2+1),H=f<58?f-48:f-55,A=$<58?$-48:$-55;W[T]=(H<<4)+A}for(var T=0;T<O;T++)v.push(b.be(W,T<<2));v=gX.aa9(J,v)}else throw e;return[J,v]};gX.adF=function(h,e,v){var J=["#Created by www.Photopea.com","TITLE \""+v+"\"","","#LUT size","LUT_3D_SIZE "+e,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],m=6;
for(var T=0;T<h.length;T+=3){J.push(h[T].toFixed(m)+" "+h[T+1].toFixed(m)+" "+h[T+2].toFixed(m))}J.push("");
return b.YQ(J.join("\n")).buffer};gX.aa9=function(h,e){var v=[],J=h*h*h;for(var T=0;T<J;T++)v.push(0,0,0);
for(var m=0;m<h;m++)for(var d=0;d<h;d++)for(var x=0;x<h;x++){var T=3*(x+d*h+m*h*h),j=3*(m+d*h+x*h*h);
v[j]=e[T];v[j+1]=e[T+1];v[j+2]=e[T+2]}return v};function gl(){}gl.V2=function(h,e,v,J,m,d){var x=v,p;
if(m==null)m=0;var j=d?b.bB:b.d$,E=d?b.TB:b.Pp,L=d?b.aa:b.ZA,Z=j(h,v);if(Z==0){p="";v+=4}else{p=L(h,v);
v+=4+2*p.length+2}if(p!="")e.__name=p;e.classID=gl.OJ(h,v,d);if(J)console.log("\t".repeat(m),"- reading descriptor",e.classID,v);
v+=gl.yN(h,v,d);var o=E(h,v);v+=4;for(var T=0;T<o;T++){var u=gl.OJ(h,v,d);v+=gl.yN(h,v,d);var N=gl.apn(h,v,J,m,d);
e[u]=N;v+=N.size;delete N.size}return v-x};gl.Qb=function(h,e,v,J){var m=v,d=e.__name;if(d==null)d="";
d+="\0";b.DI(h,v,d);v+=4+2*d.length;gl.lR(h,v,e.classID);v+=gl.yN(h.data,v);b.DY(h,v,Object.keys(e).length-1-(e.__name==null?0:1));
v+=4;for(var x in e){if(x=="classID")continue;if(x=="__name")continue;gl.lR(h,v,x);v+=gl.yN(h.data,v);
v+=gl.apV(h,v,e[x])}return v-m};gl.apn=function(h,e,v,J,m){var d=e,x=b.Mg(h,e,m);e+=4;var j=m?b.QA:b.aN,E=m?b.bB:b.d$,L=m?b.TB:b.Pp,p=m?b.aa:b.ZA,Z={size:0,t:x,v:null};
if(v)console.log("\t".repeat(J),"reading key",x,d);switch(x){case"obj ":case"VlLs":Z.v=[];var o=E(h,e);
e+=4;for(var T=0;T<o;T++){var u=gl.apn(h,e,v,J+1,m);e+=u.size;delete u.size;Z.v.push(u)}break;case"UntF":Z.v={type:b.Mg(h,e,m),val:j(h,e+4)};
e+=12;break;case"doub":{Z.v=j(h,e);e+=8;break}case"bool":Z.v=h[e]==1;e+=1;break;case"long":Z.v=L(h,e);
e+=4;break;case"comp":Z.v=L(h,e+4);e+=8;break;case"Objc":Z.v={};var N=gl.V2(h,Z.v,e,v,J+1,m);e+=N;break;
case"TEXT":var M=E(h,e);if(M==0){Z.v="";e+=4}else{Z.v=p(h,e);e+=4+Z.v.length*2+2}break;case"enum":var O=gl.OJ(h,e,m);
e+=gl.yN(h,e,m);var F=gl.OJ(h,e,m);e+=gl.yN(h,e,m);Z.v={};Z.v[O]=F;break;case"tdta":var W=L(h,e);e+=4;
Z.v=Array.from(h.slice(e,e+W));e+=W;break;case"ObAr":var f=E(h,e);e+=4;var $=p(h,e);e+=4+2*$.length+2;
if($!="")throw $;var H=gl.OJ(h,e,m);e+=4+Math.max(4,H.length);Z.v={classID:H,arr:[]};var A=E(h,e);e+=4;
for(var T=0;T<A;T++){var H=gl.OJ(h,e,m);e+=4+Math.max(4,H.length);var O=b.Mg(h,e,m);e+=4;var G=b.Mg(h,e,m);
e+=4;var l={id:H,type:O,uID:G,arr:[]};Z.v.arr.push(l);var K=E(h,e,4);e+=4;for(var U=0;U<K;U++){var z=j(h,e);
e+=8;l.arr.push(z)}}break;case"Pth ":if(m)throw"e";var q=e,W=b.d$(h,e);e+=4;var P=b.RZ(h,e,4);e+=4;var g=b.bB(h,e);
e+=4;var a=b.aDF(h,e);e+=4+a.length*2;Z.v={sig:P,pth:a};break;case"Clss":case"type":case"rele":var a=p(h,e);
e+=4+a.length*2+2;var w=gl.OJ(h,e,m);e+=4+Math.max(4,w.length);Z.v={classID:w};if(a!="")Z.v.__name=a;
if(x=="rele"){Z.v.val=L(h,e);e+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var y=gl.W5[x],a=p(h,e);
e+=4+a.length*2+2;if(a.length!=0){console.log("String found",x,a)}Z.v={};for(var T=0;T<y.length;T++){var w=gl.OJ(h,e,m);
e+=4+Math.max(4,w.length);Z.v[y[T]]=w}if(x=="name"){var a=p(h,e);e+=4+a.length*2+2;Z.v.val=a}if(x=="indx"||x=="Idnt"){Z.v.val=E(h,e);
e+=4}break;case"alis":var W=E(h,e);e+=4;Z.v=b.RZ(h,e,W);e+=W;break;default:{console.log("unknown oskey: "+x+", "+d);
throw"e";return Z}}if(v){console.log("\t".repeat(J),Z.v);console.log("\t".repeat(J),"======",e)}Z.size=e-d;
return Z};gl.W5={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
gl.apV=function(h,e,v){var J=e,m=v.t;v=v.v;b.ey(h,e,m);e+=4;switch(m){case"obj ":case"VlLs":b.DY(h,e,v.length);
e+=4;for(var d=0;d<v.length;d++){var x=gl.apV(h,e,v[d]);e+=x}break;case"UntF":b.ey(h,e,v.type);b.I6(h,e+4,v.val);
e+=12;break;case"doub":b.I6(h,e,v);e+=8;break;case"bool":b._e(h,e,v?1:0,1);e+=1;break;case"long":b.DY(h,e,v);
e+=4;break;case"comp":b.DY(h,e+4,v);e+=8;break;case"Objc":var x=gl.Qb(h,v,e);e+=x;break;case"TEXT":b.DI(h,e,v+"\0");
e+=4+v.length*2+2;break;case"enum":var j=Object.keys(v)[0],E=v[j];gl.lR(h,e,j);e+=gl.yN(h.data,e);gl.lR(h,e,E);
e+=gl.yN(h.data,e);break;case"tdta":b.fM(h,e,v.length);e+=4;b.n5(h,e,v);e+=v.length;break;case"ObAr":b.fM(h,e,v.arr[0].arr.length);
e+=4;b.DI(h,e,"\0");e+=6;gl.lR(h,e,v.classID);e+=4+Math.max(4,v.classID.length);b.fM(h,e,v.arr.length);
e+=4;for(var T=0;T<v.arr.length;T++){var L=v.arr[T];gl.lR(h,e,L.id);e+=4+Math.max(4,L.id.length);b.ey(h,e,L.type);
e+=4;b.ey(h,e,L.uID);e+=4;b.fM(h,e,L.arr.length);e+=4;for(var d=0;d<L.arr.length;d++){b.I6(h,e,L.arr[d]);
e+=8}}break;case"Pth ":var p=v.pth.length*2+4+8;b.fM(h,e,p);e+=4;b.ey(h,e,v.sig);e+=4;b.rr(h,e,p);e+=4;
b.a0D(h,e,v.pth);e+=v.pth.length*2+4;break;case"Clss":case"type":case"rele":var Z=v.__name;if(Z==null)Z="";
b.DI(h,e,Z+"\0");e+=4+Z.length*2+2;var o=v.classID;gl.lR(h,e,o);e+=4+Math.max(4,o.length);if(m=="rele"){b.DY(h,e,v.val);
e+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var u=gl.W5[m],N="";if(m=="name"&&v.classID=="Grdn")N="Gradient";
b.DI(h,e,N+"\0");e+=4+N.length*2+2;for(var T=0;T<u.length;T++){var o=v[u[T]];gl.lR(h,e,o);e+=4+Math.max(4,o.length)}if(m=="name"){b.DI(h,e,v.val+"\0");
e+=4+v.val.length*2+2}if(m=="indx"||m=="Idnt"){b.fM(h,e,v.val);e+=4}break;case"alis":var p=v.length;
b.fM(h,e,p);e+=4;b.ey(h,e,v);e+=p;break;default:console.log("unknown oskey: "+m);e=J;break}return e-J};
gl.OJ=function(h,e,v){var J=v?b.TB:b.Pp,m=J(h,e);if(m>1e3)throw"e";if(m==0)return b.Mg(h,e+4,v).trim();
return b.RZ(h,e+4,m).trim()};gl.yN=function(h,e,v){var J=v?b.TB:b.Pp,m=J(h,e);return m==0?8:4+m};gl.lR=function(h,e,v){var J="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),m=4<v.length||J.indexOf(v)!=-1;
b.DY(h,e,m?v.length:0);b.ey(h,e+4,v);if(v.length<4&&!m){var d="";for(var T=v.length;T<4;T++)d+=" ";b.ey(h,e+4+v.length,d)}};
gl.a0y=function(h){var e={};for(var v in h){if(v=="classID")e[v]=h[v];else if(v=="__name")e[v]=h[v];
else e[v]=gl.aeF(h[v])}return e};gl.aeF=function(h){if(h.xr=="Objc")return gl.a0y(h.v);else if(h.xr=="VlLs"){var e=[];
for(var T=0;T<h.v.length;T++)e.push(gl.aeF(h.v[T]));return e}else if(h.xr=="UntF")return h.v.val;else return h.v};
function ba(){}ba._3=function(h,e,v,J,m,d,x){var j=x?b.bB:b.d$,E=x?b.TB:b.Pp,L=x?b.B7:b.hm,p=x?b.Iy:b.WW,Z=x?b.aho:b.PF,o=x?b.QA:b.aN,u=x?b.be:b.SN,N=x?b.aDF:b.j0;
while(e<v){var M=b.Mg(h,e,x);e+=4;if(M!="8BIM"&&M!="8B64"){console.log("layer information signature error! "+M,"PSB = "+m);
alert("Error in PSD file: wrong signature.");return v}var O=b.Mg(h,e,x);e+=4;var F=j(h,e);e+=4;var W=m&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(O)!=-1;
if(W){F=F<<32|E(h,e);e+=4}var f=["lrFX","PlLd"];if(f.indexOf(O)!=-1){if(F%4!=0)F+=4-F%4;e+=F;continue}switch(O){case"iOpa":J[O]=h[e];
break;case"brst":J[O]=[1,1,1];for(var T=0;T<F;T+=4)J[O][j(h,e+T)]=0;break;case"knko":J[O]=h[e];break;
case"infx":J[O]=h[e];break;case"clbl":J[O]=h[e];break;case"lmgm":J[O]=h[e];break;case"vmgm":J[O]=h[e];
break;case"fcmy":J[O]=h[e];break;case"lyid":J[O]=j(h,e);break;case"lsct":J[O]={c:j(h,e)};if(F>=12)J[O].fR=b.Mg(h,e+8,x);
break;case"lsdk":J.lsct={c:j(h,e)};break;case"lyvr":J[O]=j(h,e);break;case"lnsr":var $={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
J[O]=b.Mg(h,e,x);break;case"lspf":J[O]=j(h,e);break;case"lclr":J[O]=L(h,e);break;case"luni":J[O]=N(h,e);
break;case"fxrp":J[O]=new fq(o(h,e),o(h,e+8));break;case"phry":case"artb":case"artd":J[O]={};gl.V2(h,J[O],e+4,!1,null,x);
break;case"SoCo":J[O]={};gl.V2(h,J[O],e+4,!1,null,x);break;case"GdFl":J[O]={};gl.V2(h,J[O],e+4,!1,null,x);
ba.jM(J[O],O);break;case"PtFl":J[O]={};gl.V2(h,J[O],e+4,!1,null,x);ba.jM(J[O],O);break;case"CgEd":J[O]={};
gl.V2(h,J[O],e+4,!1,null,x);break;case"brit":var H=J.brit=f8.UX("brit"),A={};H.Brgh.v=p(h,e);H.Cntr.v=p(h,e+2);
H.useLegacy.v=!0;break;case"levl":var G=h.buffer.slice(e,e+F);J[O]=a4.kq(G,x);break;case"curv":J[O]=fZ.S3(h,e,F,x);
break;case"expA":var l=p(h,e),K=J[O]=f8.UX("expA");K.Exps.v=u(h,e+2);K.Ofst.v=u(h,e+6);K.gammaCorrection.v=u(h,e+10);
break;case"vibA":J[O]={};gl.V2(h,J[O],e+4,!1,null,x);break;case"hue2":J[O]=bb.S3(h,e,F,x);break;case"blnc":var K=J[O]=f8.UX(O);
K.PrsL.v=h[e+18]==1;var U=["ShdL","MdtL","HghL"];for(var T=0;T<3;T++)for(var z=0;z<3;z++)K[U[T]].v[z].v=p(h,e+T*6+z*2);
break;case"blwh":var q={};gl.V2(h,q,e+4,!1,null,x);var K=f8.UX(O),P="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var T=0;T<P.length;T++){K[P[T]]=q[P[T]];delete q[P[T]]}J[O]=K;break;case"phfl":var K=J[O]=f8.UX(O),g=K.Clr.v,l=L(h,e);
if(l==3){var a=[j(h,e+2),j(h,e+6),j(h,e+10)],w=32768,y=B.a4B(a[0]/w,a[1]/w,a[2]/w);g.Lmnc.v=y.hO;g.A.v=y.DR;
g.B.v=y.b}if(l==2){var S=L(h,e+2);if(S!=7)throw"e";g.Lmnc.v=p(h,e+4)/100;g.A.v=p(h,e+6)/100;g.B.v=p(h,e+8)/100}var i=e+2+(l==3?12:10);
K.Dnst.v=j(h,i);i+=4;K.PrsL.v=h[i]==1;break;case"mixr":var C={H4:L(h,e+2)==1,J:[]};for(var T=0;T<20;
T++)C.J.push(p(h,e+4+T*2));J[O]=hy.RF(C);break;case"clrL":case"rplc":J[O]={};gl.V2(h,J[O],e+6,!1,null,x);
break;case"nvrt":J[O]={};break;case"post":J[O]=f8.UX("post");J[O].Lvls.v=L(h,e);break;case"thrs":J[O]=f8.UX("thrs");
J[O].Lvl.v=L(h,e);break;case"grdm":var Y=e,_=L(h,Y);Y+=2;var t=h[Y]==1,I=h[Y+1]==1;Y+=2;var r=b.Mg(h,Y,x);
if(r=="Perc"||r=="Gcls"||r=="Lnr "||r=="\0\0\x0B\x1D")Y+=4;var n=N(h,Y);Y+=4+n.length*2;var Q=kt.a5Z(h,Y,n,x),D=Q[0];
Y=Q[1];var dG=L(h,Y);Y+=2;var R=j(h,Y);Y+=4;var X=L(h,Y)==1;Y+=2;var dx=L(h,Y)==1;Y+=2;var jv=j(h,Y);
Y+=4;var gB=L(h,Y);Y+=2;var hQ=[],ah=[];for(var T=0;T<4;T++){hQ.push({t:"long",v:~~(L(h,Y+T*2)*100/32768)});
ah.push({t:"long",v:~~(L(h,Y+T*2+8)*100/32768)})}Y+=16;var kG=L(h,Y);Y+=2;if(dG==1)D={classID:"Grdn",Nm:{t:"TEXT",v:n},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:X},VctC:{t:"bool",v:dx},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:R},Smth:{t:"long",v:jv},Mnm:{t:"VlLs",v:hQ},Mxm:{t:"VlLs",v:ah}};
var iZ=f8.UX("grdm");iZ.Rvrs.v=t;iZ.Grad.v=D;J[O]=iZ;break;case"selc":J[O]=dX.S3(h,e,F,x);break;case"vmsk":case"vsms":var bs=J.vmsk=new s.eo,ey=E(h,e+4),jp=(ey>>0&1)==1;
bs.jA=(ey>>1&1)==0;bs.isEnabled=(ey>>2&1)==0;bs.z=dI.kN(h,e+8,F-8,d.q,d._,x);break;case"shmd":J[O]={};
var eh=j(h,e),i=e+4;for(var T=0;T<eh;T++){var M=b.Mg(h,i,x);i+=4;var dt=b.Mg(h,i,x);i+=4;var jN=h[i];
i++;if(Math.max(h[i],h[i+1])!=0)throw"e";i+=3;var jX=j(h,i);i+=4;if(dt=="cust"||dt=="cmls"||dt=="extn"||dt=="mlst"){var jw=j(h,i);
if(jw!=16)i+=4;if(j(h,i)==16){var q={};gl.V2(h,q,i+4,!1,null,x);J[O][dt]=q;if(dt=="cmls")c.XM.aGK(J[O][dt])}}else{console.log("unknown shmd key: "+dt+", size: "+jX)}i+=jX}break;
case"shpa":var l=j(h,e),i7=j(h,e+4);if(i7!=0)console.log("some patterns present!");break;case"TySh":var kn=J[O]={},l=L(h,e);
kn.C=b.eI(h,e+2,x);var eK=L(h,e+2+48);kn.fB={};try{var ee=gl.V2(h,kn.fB,e+56)}catch(j3){J[O]=null;break}var az=fr.aqB();
for(var k7 in az)if(kn.fB[k7]==null)kn.fB[k7]=az[k7];kn.a5={};var al=gl.V2(h,kn.a5,e+56+ee+6,!1,null,x);
kn.dP=b.asx(h,e+56+ee+6+al);kn.lf=cx.kq(kn.fB.EngineData.v);fr.aBI(kn.lf.EngineDict.StyleRun.RunArray);
if(kn.lf.ResourceDict==null)kn.lf.ResourceDict=B.t(kn.lf.DocumentResources);delete kn.fB.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var kl=j(h,e),b9=j(h,e+4);J.lmfx={};var ee=gl.V2(h,J.lmfx,e+8,!1,null,x);
ba.pw(J.lmfx);break;case"FMsk":J[O]=h.slice(e,e+F);break;case"Txt2":J[O]={};J[O].raw=h.slice(e,e+F);
J[O].Gc=dQ.kq(J[O].raw);break;case"Patt":J[O]=aT.ed(h,e,F,x);break;case"SoLd":var h9=b.Mg(h,e,x),ge=j(h,e+4),iN=j(h,e+8),a8=J[O]={},dK=gl.V2(h,a8,e+12,null,null,x),f6=a8.warp,fS=a8.quiltWarp;
if(fS==null)fS=a8.quiltWarp=B.aI.a7D(f6);delete a8.warp;var cf=fS.v.warpStyle.v.warpStyle,iG=fS.v.warpValues;
if(cf!="warpCylinder"&&iG){fS.v.warpValue={t:"doub",v:iG.v[0].v};delete fS.v.warpValues}if(a8.nonAffineTransform==null)a8.nonAffineTransform=B.t(a8.Trnf);
if(a8.Impr==null)a8.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var ge=j(h,e);
J[O]={};var dK=gl.V2(h,J[O],e+4,!1,null,x);break;case"vscg":var dt=b.Mg(h,e,x),ge=j(h,e+4);J[dt]={};
var dK=gl.V2(h,J[dt],e+8,!1,null,x);ba.jM(J[dt],dt);break;case"vogk":var eC=j(h,e),ge=j(h,e+4);J[O]={};
var dK=gl.V2(h,J[O],e+8,!1,null,x);J[O]=J[O].keyDescriptorList.v;for(var T=0;T<J[O].length;T++){var kH=J[O][T].v;
if(!B.WU.fd(kH))continue;if(kH.keyOriginBoxCorners==null){var i0=B.WU.oc(kH);kH.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var e5=[i0[0],i0[1],i0[2],i0[1],i0[2],i0[3],i0[0],i0[3]];if(kH.keyOriginType.v==4)e5=B.WU.adX(B.WU.Z6(kH),kH.keyOriginLineWeight.v);
B.WU.fV(kH,"keyOriginBoxCorners",e5)}}break;case"lnk2":case"lnkD__":case"lnk3__":J[O]=[];var Y=e;while(Y<e+F){var gA=new s.AA;
J[O].push(gA);var bW=Z(h,Y);Y+=8;var e3=Y;gA.c=b.Mg(h,Y,x);Y+=4;if(gA.c!="liFD"){alert("Unknown Linked Layer type: "+gA.c);
break;throw gA.c}gA.$J=j(h,Y);Y+=4;var iL=b.bD(h,Y);Y+=1+iL.De.length;gA.mX=iL.De;var h4=x?b.aa:b.ZA;
gA.PY=h4(h,Y);Y+=4+gA.PY.length*2+2;gA.oH=b.Mg(h,Y,x);Y+=4;gA.DE=b.Mg(h,Y,x);Y+=4;var iT=Z(h,Y);Y+=8;
gA.open=h[Y];Y+=1;if(gA.open!=0){var hC={},ee=gl.V2(h,hC,Y+4,null,null,x);if(ee%4!=0)ee+=4-ee%4;console.log(hC);
Y+=ee+4}gA.open=0;gA.raw=h.slice(Y,Y+iT);Y=e3+bW;if(bW%4!=0)Y+=4-bW%4}break;case"FEid":var Y=e;J[O]=[];
var dS=Y+F,l=j(h,Y);Y+=4;while(Y<dS){var bW=Z(h,Y);Y+=8;var Q={};J[O].push(Q);Q.id=b.bD(h,Y).De;Y+=Q.id.length+1;
var l=j(h,Y);Y+=4;Y+=4;var il=j(h,Y);Y+=4;Q.R=b.gY(h,Y,x);Y+=16;var i6=j(h,Y);Y+=4;var co=j(h,Y);Y+=4;
var bH=new B.Em(0);for(var T=0;T<co+2;T++){var b5=j(h,Y);Y+=4;if(b5!=0){var ej=Z(h,Y),id=null;Y+=8;if(T<3||T==25){id=kK.eA(!0,i6,h,Q.R.q,Q.R._,Y,ej,x);
id=B.D1(id,8)}if(T==0)bH.n=id;if(T==1)bH.i=id;if(T==2)bH.b=id;if(T==25)bH.DR=id;Y+=ej}}Q.buffer=B.U(Q.R.$()*4);
B.VT(bH,Q.buffer);var dH=h[Y];Y++;if(dH!=0){Q.N=new s.xK;Q.N.R=b.gY(h,Y,x);Y+=16;var hA=Z(h,Y);Y+=8;
var id=kK.eA(!0,i6,h,Q.N.R.q,Q.N.R._,Y,hA,x);Q.N.G=B.D1(id,8);Q.N.color=255;Q.N.pE();Y+=hA}if(bW%4!=0)Y+=4-bW%4}break;
case"Lr16":jI.qJ(d,h,e,x);break;case"Lr32":jI.qJ(d,h,e,x);break;case"Anno":J[O]=[];var fn=e,d3=e+4,i7=j(h,d3);
d3+=4;for(var T=0;T<i7;T++){var bW=j(h,d3);d3+=4;var iF=b.Mg(h,d3,x);d3+=4;if(iF!="txtA")throw iF;var hF=h[d3++],bz=h[d3++],hN=L(h,d3);
d3+=2;var cA=b.gY(h,d3,x);d3+=16;var km=b.gY(h,d3,x);d3+=16;var g=fy.J3(h,d3,x);d3+=10;var gm=b.bD(h,d3);
d3+=gm.length;var gS=b.bD(h,d3);d3+=gS.length;var jl=b.bD(h,d3);d3+=jl.length;var jn=j(h,d3);d3+=4;var ad=b.Mg(h,d3,x);
d3+=4;var el=j(h,d3);d3+=4;var db=x?b.qa:b.Qr,dC=db(h,d3+2,el-2>>1);d3+=el;J[O].push([cA.x,cA.y,g,gm.De,dC])}break;
default:break}var jJ="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry".split(",");
if(jJ.indexOf(O)==-1)if(F%4!=0)console.log("size not multiple of 4!!!",O);if(O!="luni"&&O!="TySh"&&O!="tySh"&&O!="lfx2"&&O!="iOpa")if(F%4!=0)F+=4-F%4;
e+=F}var A=J.CgEd;if(A){var H=J.brit;if(H){H.Brgh.v=A.Brgh?A.Brgh.v:0;H.Cntr.v=A.Cntr?A.Cntr.v:0;H.useLegacy.v=A.useLegacy?A.useLegacy.v:0}delete J.CgEd}var cJ=[];
for(var T=0;T<cJ.length;T++)delete J[cJ[T]];return e};ba.Xs=function(h,e,v,J,m){if(v.SoLd){var d={};
for(var x in v){if(x=="SoLd")d.PlLd={};d[x]=v[x]}v=d}for(var j in v)if(v[j]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+j+"\" tag was present with a null value.");delete v[j]}for(var j in v){var E=J&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(j)!=-1,p=0;
b.ey(h,e,E?"8B64":"8BIM");e+=4;var L=e;b.ey(h,e,j);e+=4;b.DY(h,e,0);e+=E?8:4;switch(j){case"iOpa":b._e(h,e,v[j],1);
p=4;break;case"brst":p=0;for(var T=0;T<3;T++)if(v[j][T]==0){b.fM(h,e+p,T);p+=4}break;case"knko":b._e(h,e,v[j],1);
p=4;break;case"infx":b._e(h,e,v[j],1);p=4;break;case"clbl":b._e(h,e,v[j],1);p=4;break;case"lmgm":b._e(h,e,v[j],1);
p=4;break;case"vmgm":b._e(h,e,v[j],1);p=4;break;case"fcmy":b._e(h,e,v[j],1);p=4;break;case"lyid":b.fM(h,e,v[j]);
p=4;break;case"lsct":b.fM(h,e,v[j].c);p=4;if(v[j].fR){b.ey(h,e+4,"8BIM");b.ey(h,e+8,v[j].fR);p=12}break;
case"lyvr":b.fM(h,e,v[j]);p=4;break;case"lnsr":b.ey(h,e,v[j]);p=4;break;case"lspf":b.fM(h,e,v[j]);p=4;
break;case"lclr":b.mb(h,e,v[j]);p=8;break;case"luni":b.DI(h,e,v[j]);p=4+2*v[j].length;break;case"fxrp":b.I6(h,e,v[j].x);
b.I6(h,e+8,v[j].y);p=16;break;case"phry":case"artb":case"artd":b.fM(h,e,16);p=gl.Qb(h,v[j],e+4)+4;break;
case"SoCo":b.fM(h,e,16);p=gl.Qb(h,v[j],e+4)+4;break;case"GdFl":b.fM(h,e,16);p=gl.Qb(h,v[j],e+4)+4;break;
case"PtFl":b.fM(h,e,16);p=gl.Qb(h,v[j],e+4)+4;break;case"CgEd":var Z={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},o=Z,u=v[j];
o.Brgh.v=u.Brgh.v;o.Cntr.v=u.Cntr.v;o.useLegacy.v=u.useLegacy.v;b.fM(h,e,16);p=gl.Qb(h,Z,e+4)+4;break;
case"brit":h.OQ(e,8);p=8;break;case"levl":var N=new kg;p=a4.mA(N,v[j]);b.n5(h,e,N.data);break;case"curv":p=fZ.w9(h,e,v[j]);
break;case"expA":p=14;h.OQ(e,14);b.pu(h.data,e,1);b.Kp(h.data,e+2,v[j].Exps?v[j].Exps.v:0);b.Kp(h.data,e+6,v[j].Ofst?v[j].Ofst.v:0);
b.Kp(h.data,e+10,v[j].gammaCorrection?v[j].gammaCorrection.v:1);break;case"vibA":b.fM(h,e,16);p=gl.Qb(h,v[j],e+4)+4;
break;case"hue2":p=bb.w9(h,e,v[j]);break;case"blnc":p=19;h.OQ(e,p);var M=["ShdL","MdtL","HghL"];for(var T=0;
T<3;T++){var O=v[j][M[T]].v;for(var F=0;F<3;F++)O.push(b.dC(h.data,e+T*6+F*2,O[F].v))}h.data[e+18]=v[j].PrsL.v?1:0;
break;case"blwh":var Z={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},W="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var T=0;T<W.length;T++){Z[W[T]]=v[j][W[T]]}b.fM(h,e,16);p=gl.Qb(h,Z,e+4)+4;break;case"phfl":b.mb(h,e,2);
var f=v[j].Clr.v;b.mb(h,e+2,7);b.mb(h,e+4,Math.round(f.Lmnc.v*100));b.mb(h,e+6,Math.round(f.A.v*100));
b.mb(h,e+8,Math.round(f.B.v*100));b.mb(h,e+10,0);var $=e+2+10;h.OQ($,5);b.ft(h.data,$,v[j].Dnst.v);$+=4;
h.data[$]=v[j].PrsL.v?1:0;$++;p=$-e;break;case"mixr":p=44;h.OQ(e,p);var H=hy.i5(v[j]);b.pu(h.data,e,1);
b.pu(h.data,e+2,H.H4?1:0);for(var T=0;T<20;T++)b.dC(h.data,e+4+T*2,H.J[T]);break;case"clrL":case"rplc":b.mb(h,e,1);
b.fM(h,e+2,16);p=gl.Qb(h,v[j],e+6)+6;break;case"nvrt":p=0;break;case"post":b.mb(h,e,v[j].Lvls.v);p=2;
break;case"thrs":b.mb(h,e,v[j].Lvl.v);p=2;break;case"grdm":var A=v[j].Rvrs?v[j].Rvrs.v:!1,G=!1,l=867527939,K=!1,U=!1,z=2048,q=[0,0,0,0],P=[32768,32768,32768,32768],g=v[j].Grad.v,a,w,y=g.Clrs==null?1:0;
if(y==0){a=g;w=JSON.parse(fL.GB.a1y).v}else{a=f8.UX("grdm").Grad.v;w=g}h.OQ(e,4);b.pu(h.data,e,1);h.data[e+2]=A?1:0;
h.data[e+3]=G?1:0;var S=e+4;b.DI(h,S,g.Nm.v);S+=4+g.Nm.v.length*2;S=kt.a2D(h,S,a);b.mb(h,S,y);S+=2;b.fM(h,S,w.RndS.v);
S+=4;b.mb(h,S,w.ShTr.v?1:0);S+=2;b.mb(h,S,w.VctC.v?1:0);S+=2;b.fM(h,S,w.Smth.v);S+=4;b.mb(h,S,3);S+=2;
for(var T=0;T<4;T++)b.mb(h,S+T*2,q[T]);S+=8;for(var T=0;T<4;T++)b.mb(h,S+T*2,P[T]);S+=8;S+=2;p=S-e;break;
case"selc":p=dX.w9(h,e,v[j]);break;case"FMsk":b.n5(h,e,v[j]);p=v[j].length;break;case"Txt2":var i=new kg,C=dQ.el(v[j].Gc,i),Y=i.data.slice(0,C);
b.n5(h,e,Y);p=Y.length;break;case"vmsk":var _=v[j],t=0;b.fM(h,e,3);if(!_.jA)t+=1<<1;if(!_.isEnabled)t+=1<<2;
b.fM(h,e+4,t);p=8;var I=_.z.length;h.OQ(e+8,I*26);dI.lx(h.data,e+8,_.z,m.q,m._);p+=I*26;break;case"shmd":b.fM(h,e,Object.keys(v[j]).length);
var $=e+4;for(var r in v[j]){b.ey(h,$,"8BIM");$+=4;b.ey(h,$,r);$+=4;b.fM(h,$,0);$+=4;b.fM(h,$,0);$+=4;
b.fM(h,$,16);$+=4;var n=gl.Qb(h,v[j][r],$);if(n%4!=0)n+=4-n%4;b.fM(h,$-8,n+4);$+=n}p=$-e;break;case"TySh":var $=e;
b.CH(h,$,1);$+=2;var Q=v[j],i=new kg;Q.lf.DocumentResources=B.t(Q.lf.ResourceDict);var C=cx.el(Q.lf,i),Y=i.data.slice(0,C);
Q.fB.EngineData={t:"tdta",v:Y};var D=Q.lf.EngineDict.Editor.Text;Q.fB.Txt.v=D.substring(0,D.length-1);
b.abF(h,$,Q.C);$+=48;b.CH(h,$,50);$+=2;b.fM(h,$,16);$+=4;$+=gl.Qb(h,Q.fB,$);b.CH(h,$,1);$+=2;b.fM(h,$,16);
$+=4;$+=gl.Qb(h,Q.a5,$);b.aCy(h,$,Q.dP);$+=16;p=$-e;break;case"lmfx":b.fM(h,e,0);b.fM(h,e+4,16);var Z=B.t(v[j]),dG=!1;
ba.SM(Z);for(var T=0;T<fL.oN.length;T++)if(Z[fL.oN[T]]!=null)dG=!0;b.ey(h,L,dG?"lmfx":"lfx2");p=gl.Qb(h,Z,e+8)+8;
break;case"Patt":var $=aT.aS(h,e,v[j]);p=$-e;break;case"PlLd":var R=e;h.OQ(e,60);var O=v.SoLd;b.ey(h,e,"plcL");
b.fM(h,e+4,3);var X=h.data[e+8]=O.Idnt.v.length;b.ey(h,e+9,O.Idnt.v);var $=e+9+X,dx=[1,1,16,2];for(var T=0;
T<4;T++)b.fM(h,$+T*4,dx[T]);$+=16;dx=c.L2.RT(O.nonAffineTransform);for(var T=0;T<8;T++)b.I6(h,$+T*8,dx[T]);
$+=64;b.fM(h,$,0);b.fM(h,$+4,16);var jv=B.aI.awt(O.quiltWarp).v;$+=8+gl.Qb(h,jv,$+8);p=$-e;break;case"SoLd":var O=v[j],gB=O.quiltWarp;
O.warp=B.aI.awt(gB);if(B.aI.KS(gB.v)==16)delete O.quiltWarp;b.ey(h,e,"soLD");b.fM(h,e+4,4);b.fM(h,e+8,16);
p=gl.Qb(h,O,e+12)+12;O.quiltWarp=gB;delete O.warp;break;case"vstk":case"pths":b.fM(h,e,16);p=gl.Qb(h,v[j],e+4)+4;
break;case"vscg__":b.ey(h,e,v[j].key);b.fM(h,e+4,16);p=gl.Qb(h,v[j].J,e+8)+8;break;case"vogk":b.fM(h,e,1);
b.fM(h,e+4,16);B.WU.auD(v[j]);for(var T=0;T<v[j].length;T++){var hQ=v[j][T].v.keyOriginResolution;if(hQ)hQ.v=m.gx}var ah={classID:"null",keyDescriptorList:{t:"VlLs",v:v[j]}};
p=gl.Qb(h,ah,e+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var S=e;for(var T=0;T<v[j].length;T++){var kG=v[j][T],iZ=S;
b.Uy(h,S,0);S+=8;b.ey(h,S,kG.c);S+=4;b.fM(h,S,kG.$J);S+=4;h.OQ(S,1);h.data[S]=kG.mX.length;S++;b.ey(h,S,kG.mX);
S+=kG.mX.length;b.DI(h,S,kG.PY+"\0");S+=4+kG.PY.length*2+2;b.ey(h,S,kG.oH);S+=4;b.ey(h,S,kG.DE);S+=4;
b.Uy(h,S,kG.raw.length);S+=8;h.OQ(S,1);h.data[S]=kG.open;S++;b.n5(h,S,kG.raw);S+=kG.raw.length;b.fM(h,S,1);
S+=4;S+=11;var bs=S-iZ-8;b.Uy(h,iZ,bs);if(bs%4!=0){h.OQ(S,4-bs%4);S+=4-bs%4}}p=S-e;break;case"FEid":var S=e;
b.fM(h,S,3);S+=4;for(var ey=0;ey<v[j].length;ey++){var jp=v[j][ey];S+=4;var eh=S;S+=4;b.gP(h,S,jp.id);
S+=jp.id.length+1;b.fM(h,S,1);S+=4;var dt=B.U(jp.R.$()),jN=jp.R,jX=B.U(jN.$());S+=4;var jw=S;S+=4;b.d3(h,S,jN);
S+=16;b.fM(h,S,8);S+=4;b.fM(h,S,24);S+=4;for(var T=0;T<24+2;T++){var i7=-1;if(T==0)i7=0;if(T==1)i7=1;
if(T==2)i7=2;if(T==25)i7=3;b.fM(h,S,i7!=-1?1:0);S+=4;if(i7!=-1){B.Bq(jp.buffer,dt,i7);B.Ww(dt,jp.R,jX,jN);
S+=4;var kn=S;S+=4;h.OQ(S,jN.$()+2);S=kK.OK(!0,jX,h.data,jN.q,jN._,S,3);b.fM(h,kn,S-(kn+4))}}b.fM(h,jw,S-(jw+4));
h.OQ(S,1);h.data[S]=jp.N?1:0;S++;if(jp.N!=null){var eK=jN,ee=B.U(eK.$());ee.fill(jp.N.color);B.Ww(jp.N.G,jp.N.R,ee,eK);
b.d3(h,S,eK);S+=16;S+=4;var az=S;S+=4;h.OQ(S,eK.$()+2);S=kK.OK(!0,ee,h.data,eK.q,eK._,S,3);b.fM(h,az,S-(az+4))}var bs=S-(eh+4);
b.fM(h,eh,bs);if(bs%4!=0)S+=4-bs%4}p=S-e;break;case"Anno":var k7=e,al=v[j].length;b.mb(h,k7,2);b.mb(h,k7+2,1);
k7+=4;b.fM(h,k7,al);k7+=4;for(var T=0;T<al;T++){var kl=v[j][T],b9=kl[0],h9=kl[1],ge=k7;k7+=4;b.ey(h,k7,"txtA");
k7+=4;h.OQ(k7,2);h.data[k7]=1;h.data[k7+1]=28;k7+=2;b.mb(h,k7,1);k7+=2;b.d3(h,k7,new fP(b9,h9,17,21));
k7+=16;b.d3(h,k7,new fP(b9+8,h9+10,241,141));k7+=16;h.OQ(k7,10);fy.Q8(h.data,k7,kl[2]);k7+=10;k7+=b.gP(h,k7,kl[3]);
k7+=b.gP(h,k7,"");k7+=b.gP(h,k7,"D:20211012120233+01'00'");var iN=kl[4].length*2;b.fM(h,k7,12+2+iN);
k7+=4;b.ey(h,k7,"txtC");k7+=4;b.fM(h,k7,2+iN);k7+=4;h.OQ(k7,2);h.data[k7]=254;h.data[k7+1]=255;k7+=2;
b.agS(h,k7,kl[4]);k7+=iN;b.fM(h,ge,k7-ge)}p=k7-e;break;default:console.log("unknown layer tag: "+j+", size: "+p);
e-=12;continue}var a8=["Txt2","artd","extd","pths"];if(a8.indexOf(j)==-1)if(p%4!=0)p+=4-p%4;if(E)b.Uy(h,e-8,p);
else b.fM(h,e-4,p);if(j!="luni"&&j!="TySh")if(p%4!=0)p+=4-p%4;e+=p}return e};ba.pw=function(h){for(var T=0;
T<fL.order.length;T++){var e=fL.order[T],v=fL.oN[T];if(h[v]==null)h[v]={t:"VlLs",v:[]};if(h[e]!=null){h[v].v.push(h[e]);
delete h[e]}var J=[];for(var m=0;m<h[v].v.length;m++){var d=h[v].v[m];if(d.v.present==null||d.v.present.v==!0)J.push(d)}h[v].v=J}};
ba.SM=function(h){for(var T=0;T<fL.order.length;T++){var e=fL.order[T],v=fL.oN[T],J=h[v].v.length;if(J==0){delete h[v];
continue}if(J==1){h[e]=h[v].v[0];delete h[v];continue}}};ba.jM=function(h,e){if(e=="GdFl"){if(h.Angl==null)h.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(h.Algn==null)h.Algn={v:!0,t:"bool"};if(h.Scl==null)h.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(h.Ofst==null)h.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(h.Rvrs==null)h.Rvrs={v:!1,t:"bool"};if(h.Dthr==null)h.Dthr={v:!1,t:"bool"}}if(e=="PtFl"){if(h.Algn==null)h.Algn={v:!0,t:"bool"};
if(h.Angl==null)h.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(h.Scl==null)h.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(h.phase==null)h.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};ba.O=function(h,e){var v={};
if(h=="TySh"){v.C=e.C.O();v.fB=B.t(e.fB);v.a5=B.t(e.a5);v.dP=e.dP.O();v.lf=B.t(e.lf);if(e.add)v.add={vmsk:e.add.vmsk.O(),vogk:B.t(e.add.vogk)};
return v}else if(h=="fxrp")return e.O();else if(h=="vmsk")return e.O();else return B.t(e)};function aP(h,e){}aP.kq=function(h,e,v,J,m){J=aP.aHm(h,e,v,J,m);
return J};aP.el=function(h,e,v,J,m){J=aP.aob(h,e,v,J,m);return J};aP.aHm=function(h,e,v,J,m){var d=J;
h.R=b.gY(v,J,m);J+=16;var x=m?b.B7:b.hm,j=m?b.Iy:b.WW,E=x(v,J);J+=2;h.ZN=[];var L=e.qd,p=m?b.aho:b.PF,Z=m?b.bB:b.d$,o=L?p:Z;
for(var T=0;T<E;T++){h.ZN[T]={id:j(v,J),length:o(v,J+2)};J+=L?10:6}var u=b.Mg(v,J,m);J+=4;if(u!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(u));
alert("Error in Photoshop file: wrong signature.");throw"e"}h.fR=b.Mg(v,J,m);J+=4;h.S2=v[J];J+=1;h.ql=v[J]==1;
J+=1;h.IT=v[J];J+=1;if(v[J]!=0)console.log("error in filler!");J+=1;var N=Z(v,J);J+=4;var M=J;J=aP.a5y(h,v,J,m);
J=aP.aCJ(h,v,J,m);var O=b.bD(v,J);h.name=O.De;J+=O.length;if(O.length%4!=0)J+=4-O.length%4;J=ba._3(v,J,M+N,h.add,L,e,m);
if(h.add.lsct){if(h.add.lsct.fR)h.fR=h.add.lsct.fR;h.add.lsct=h.add.lsct.c}return J};aP.aob=function(h,e,v,J,m){var d=J;
b.d3(v,J,h.R);J+=16;var x=e.add.fcmy==1,j=h.afK(x);b.mb(v,J,j.length);J+=2;var E=e.qd;m.push(J);for(var T=0;
T<j.length;T++){b.CH(v,J,j[T]);if(E)b.Uy(v,J+2,0);else b.fM(v,J+2,0);J+=E?10:6}b.ey(v,J,"8BIM");J+=4;
b.ey(v,J,h.fR);J+=4;b._e(v,J,h.S2,1);J+=1;b._e(v,J,h.ql?1:0,1);J+=1;b._e(v,J,h.IT,1);J+=1;b._e(v,J,0,1);
J+=1;var L=J;b.fM(v,J,0);J+=4;var p=J;J=aP.a6Z(h,v,J);J=aP.ayp(h,v,J);var Z=b.gP(v,J,h.name.slice(0,255));
J+=Z;if(Z%4!=0)J+=4-Z%4;if(h.add.lsct){h.add.lsct={c:h.add.lsct};if(h.fR=="pass"){h.add.lsct.fR="pass";
h.fR="norm"}}if(h.fR=="pass")h.add.lsct={c:h.add.lsct,fR:"pass"};if(h.add.brit)h.add.CgEd=h.add.brit;
J=ba.Xs(v,J,h.add,E,e);delete h.add.CgEd;if(h.add.lsct){if(h.add.lsct.fR)h.fR=h.add.lsct.fR;h.add.lsct=h.add.lsct.c}var o=J-p;
b.fM(v,L,o);return J};aP.a5y=function(h,e,v,J){var m=J?b.bB:b.d$,d=m(e,v);v+=4;if(d==0)return v;var x=v;
h.N=new s.xK;h.N.R=b.gY(e,v,J);v+=16;h.N.color=e[v];v+=1;var j=aP.aze(h.N,e,v);v+=1;if(j){if(J)throw"e";
var E=!1,L=255,p=0,Z=255,o=0;for(var T=0;T<h.ZN.length;T++)if(h.ZN[T].id==-3)E=!0;if(E){h.zl=aP.aeG(e,v);
v+=18}var u=v,N=e[v];v++;if(N>>0&1){L=e[v];v++}if(N>>1&1){p=b.aN(e,v);v+=8}if(N>>2&1){Z=e[v];v++}if(N>>3&1){o=b.aN(e,v);
v+=8}if((v-u&1)==1)v++;h.bK=[L,p,Z,o]}else{if(d==20)v+=2;else{h.zl=aP.aeG(e,v,J);v+=18}}return x+d};
aP.a6Z=function(h,e,v){b.fM(e,v,0);v+=4;if(h.N==null)return v;var J=h.NH(),m=h.add.vmsk,d=v,x=!0;b.fM(e,v,0);
b.d3(e,v,h.N.R);v+=16;b._e(e,v,h.N.color);v+=1;aP.aoi(h.N,e,v,x);v+=1;if(x){if(h.zl){aP.afg(e,v,h.zl);
v+=18}var j=v;b._e(e,v,m?15:3);v+=1;b._e(e,v,J?J.DH:255);v+=1;b.I6(e,v,J?J.jC:0);v+=8;if(m){b._e(e,v,m?m.DH:255);
v+=1;b.I6(e,v,m?m.jC:0);v+=8}if((v-j&1)==1)v++}b.fM(e,d-4,v-d);return v};aP.aeG=function(h,e,v){var J=new s.xK;
aP.aze(J,h,e);e+=1;J.color=h[e];e+=1;J.R=b.gY(h,e,v);e+=16;return J};aP.afg=function(h,e,v){aP.aoi(v,h,e,!1);
e+=1;b._e(h,e,v.color);e+=1;b.d3(h,e,v.R);e+=16};aP.aze=function(h,e,v){var J=e[v];h.jA=(J>>0&1)==0;
h.isEnabled=(J>>1&1)==0;h.Lz=(J>>3&1)==1;return J>>4&1};aP.aoi=function(h,e,v,J){var m=0;if(!h.jA)m+=1<<0;
if(!h.isEnabled)m+=1<<1;if(h.Lz)m+=1<<3;if(J)m+=1<<4;b._e(e,v,m)};aP.aCJ=function(h,e,v,J){var m=J?b.bB:b.d$,d=m(e,v);
v+=4;for(var T=0;T<d;T++)h.DL[T]=e[v+T];return v+d};aP.ayp=function(h,e,v){b.fM(e,v,h.DL.length);v+=4;
e.OQ(v,40);for(var T=0;T<40;T++){e.data[v+T]=h.DL[T]}return v+40};function kK(){}kK.kq=function(h,e,v,J,m){J=kK.ag1(h,e,v,J,m);
return J};kK.mA=function(h,e,v,J,m,d,x){J=kK.aqH(h,e,v,J,m,d,x);return J};kK.ag1=function(h,e,v,J,m){var d=e.i9,x=h.ZN,j={},E=J;
for(var T=0;T<x.length;T++){var L=x[T],p=L.id,Z=L.length,o;if(p==-2&&h.N==null)p=-1;if(p==-3)o=h.zl.R;
else if(p==-2)o=h.N.R;else o=h.R;var u=kK.eA(e.qd,e.P7,v,o.q,o._,J,Z,m);u=B.D1(u,e.depth);J+=Z;if(p==-3)h.zl.G=u;
else if(p==-2)h.N.G=u;else j["c"+p]=u}var N=new B.Em(0);N.DR=null;if(d==3){N.n=j.c0;N.i=j.c1;N.b=j.c2;
N.DR=j["c-1"]}else if(d==1){N.n=j.c0;N.i=j.c0;N.b=j.c0;N.DR=j["c-1"]}else if(d==4){var M=e.Fz.r1039,O=null,F=j.c0,W=j.c1,f=j.c2,$=j.c3;
if(M){var O=M.aFx,H=17;if(O==null){var A=ICC.R(M.buffer);if(A.header.spaceIn=="RGB "){}else O=M.aFx=ICC.U.sampleLUT(A,H)}}if(O){var G={n:F,i:W,b:f,DR:$},l=B.U(F.length*4);
B.VT(G,l);B.ia(l);ICC.U.applyLUT4(O,H,l,l);B.G3(l,G)}else{for(var T=0;T<F.length;T++){var K=1-F[T]*(1/255),U=1-W[T]*(1/255),z=1-f[T]*(1/255),q=1-$[T]*(1/255),P=B.VG([K,U,z,q]);
F[T]=Math.floor(.5+P[0]*255);W[T]=Math.floor(.5+P[1]*255);f[T]=Math.floor(.5+P[2]*255)}}N.n=F;N.i=W;
N.b=f;N.DR=j["c-1"]}if(N.n==null)N.n=B.U(0);if(N.DR==null&&N.n!=null){N.DR=N.n.slice(0);N.DR.fill(255)}if(N.i==null)N.i=N.n.slice(0);
if(N.b==null)N.b=N.n.slice(0);h.buffer=B.U(Math.max(0,h.R.$()*4),e.depth);B.VT(N,h.buffer);return J};
kK.aqH=function(h,e,v,J,m,d,x){var j=e.afK(x),E=e.buffer,L=new B.Em(e.R.$());if(x){var p=L.DR.slice(0);
B.Bq(E,p,3);E=E.slice(0);B.asI(E);B.G3(E,L);L.aal=L.DR;L.DR=p}else B.G3(E,L);for(var T=0;T<j.length;
T++){var Z=j[T],o,u;if(Z==-3)o=e.zl.R;else if(Z==-2)o=e.N.R;else o=e.R;if(Z==-3)u=e.zl.G;if(Z==-2)u=e.N.G;
if(Z==-1)u=L.DR;if(Z==0)u=L.n;if(Z==1)u=L.i;if(Z==2)u=L.b;if(Z==3)u=L.aal;v.OQ(J,o.$()*3+4);var N=J;
J=kK.OK(h,u,v.data,o.q,o._,J,d[1]?3:1);var M=J-N;if(h)b.aES(v.data,m+T*10+2,M);else b.ft(v.data,m+T*6+2,M)}return J};
kK.eA=function(h,e,v,J,m,d,x,j){var E=j?b.B7:b.hm,L=E(v,d);d+=2;var p=kK.B4(h,e,v,J,m,d,L,x-2,j);return p};
kK.OK=function(h,e,v,J,m,d,x){b.dC(v,d,x);d+=2;d=kK.OC(h,e,v,J,m,d,x);return d};kK.B4=function(h,e,v,J,m,d,x,j,E){var L,p=J*m*(e>>>3),Z=p&3,o=p+(Z==0?0:4-Z);
if(j<=0){return B.U(o)}if(x>3){console.log("unknown compression: "+x,J,m,J*m,j);x=0}if(x==0){if(d+o<=v.length)L=v.slice(d,d+o);
else{L=B.U(p);for(var T=0;T<p;T++)L[T]=v[d+T]}d+=p}else if(x==1){L=B.U(p);var u=h?4:2,N=kK.a2Q(v,L,J,m,d,d+u*m,u,E);
d+=u*m+N}else if(x==2||x==3){var M=new Uint8Array(v.buffer,d+2,j-6),O=B.U(o);UZIP.inflateRaw(M,O);if(x==3){if(e==8)for(var F=0;
F<m;F++){var W=F*J+1,f=W+J-1,$=O[W-1];for(var H=W;H<f;H++){$+=O[H];O[H]=$&255}}else if(e==16)for(var F=0;
F<m;F++){var W=F*J,f=W+J,$=0;for(var H=W;H<f;H++){var A=H<<1;$+=O[A]<<8|O[A+1];O[A]=$&255;O[A+1]=$>>>8}}else{var G=J,l=O.slice(0,G*4);
for(var F=0;F<m;F++){var W=F*G*4+1,f=W+G*4-1,$=O[W-1];for(var H=W;H<f;H++){$+=O[H];O[H]=$&255}var K=F*G*4;
for(var H=0;H<G;H++){l[4*H+3]=O[K+H];l[4*H+2]=O[K+G+H];l[4*H+1]=O[K+G+G+H];l[4*H]=O[K+G+G+G+H]}O.set(l,K)}}}if(O.length==o)L=O;
else{L=B.U(o);for(var T=0;T<O.length;T++)L[T]=O[T]}}if(e==16)L=new Uint16Array(L.buffer);if(e==32)L=new Float32Array(L.buffer);
return L};kK.OC=function(h,e,v,J,m,d,x){var j=J*m;if(x==0)for(var T=0;T<j;T++)v[d++]=e[T];else if(x==1){var E=h?4:2,L=kK.ass(e,v,J,m,d,d+E*m,E);
d+=E*m+L}else if(x==2||x==3){if(x==3){var p=new Uint8Array(e.length);for(var Z=0;Z<m;Z++){var o=Z*J+1,u=o+J-1,N=e[o-1];
p[o-1]=N;for(var M=o;M<u;M++){p[M]=e[M]+(256-N)&255;N=e[M]}}e=p}v[d]=120;v[d+1]=156;d+=2;var O=pako.deflateRaw(e,{a3q:4});
b.aE$(v,d,O);d+=O.length+4}else console.log("Unknown compression: "+x);return d};kK.a2Q=function(h,e,v,J,m,d,x,j){if(!(h instanceof Uint8Array)||!(e instanceof Uint8Array))throw"e";
var E=d,L=J|0;if(j){if(x==2)for(var T=0;T<L;T++){var p=b.B7(h,m+(T<<1));kK.X2(h,d,p,e,T*v,v);d+=p}else for(var T=0;
T<L;T++){var p=b.bB(h,m+(T<<2));kK.X2(h,d,p,e,T*v,v);d+=p}}else{if(x==2)for(var T=0;T<L;T++){var p=b.hm(h,m+(T<<1));
kK.X2(h,d,p,e,T*v,v);d+=p}else for(var T=0;T<L;T++){var p=b.d$(h,m+(T<<2));kK.X2(h,d,p,e,T*v,v);d+=p}}return d-E};
kK.ass=function(h,e,v,J,m,d,x){var j=d;if(x==2)for(var T=0;T<J;T++){var E=kK.aiZ(h,T*v,v,e,d);b.pu(e,m+T*2,E);
d+=E}else for(var T=0;T<J;T++){var E=kK.aiZ(h,T*v,v,e,d);b.ft(e,m+T*4,E);d+=E}return d-j};kK.aiZ=function(h,e,iW,v,J){var m,d,x,j,E,cg,L;
j=e+iW;for(x=e,d=J;iW>0;x=m,iW-=cg){L=iW<128?iW:128;if(x<=j-3&&h[x+1]==h[x+0]&&h[x+2]==h[x+0]){for(m=x+3;
m<x+L&&h[m]==h[x+0];)++m;cg=m-x;v[d++]=1+256-cg;v[d++]=h[x+0]}else{for(m=x;m<x+L;)if(m<=j-3&&h[m+1]==h[m+0]&&h[m+2]==h[m+0])break;
else++m;cg=m-x;v[d++]=cg-1;for(var T=0;T<cg;T++)v[d+T]=h[x+T];d+=cg}}return d-J};kK.X2=function(h,e,v,J,m,d){for(var x=0;
x<v;){var iW=h[e++];if(iW>=128){var j=h[e++],E=m+(257-iW);J.fill(j,m,E);m=E;x+=2}else{for(var T=0;T<=iW;
T++)J[m+T]=h[e+T];e+=iW+1;m+=iW+1;x+=1+1+iW}}};function jI(){}jI.EA=function(h,e,v){return;var J="",m=e;
while(m!=0){var d=m%1e3+"";while(d.length<3)d="0"+d;J=(J==""?d:d+" ")+J;m=Math.floor(m/1e3)}while(J.startsWith("0")&&J!="0")J=J.slice(1);
while(J.length<11)J=" "+J;console.log("===",J,"\t".repeat(h),": "+v)};jI.ayb=function(h){var e={Fz:{},add:{}},J=0,m=0,j;
e.qd=!1;e.P7=8;var v=new Uint8Array(h);m=jI.Qe(e,v,J);J=m;m=jI.auq(e,v,J);J=m;var d=b.d$(v,J);J+=4+d;
var x=e.qd?8:4;if(e.qd)j=b.PF(v,J);else j=b.d$(v,J);J+=x+j;m=jI.anX(e,v,J);return[{Ei:new fP(0,0,e.q,e._),data:e.buffer.buffer}]};
jI.kq=function(h,e){e.qd=!1;var v=new Uint8Array(h),J=0,m=0,x=0,D,eh=!1,dt=!0,jN=!1,jX=0,cA=0;m=jI.Qe(e,v,J);
jI.EA(0,m-J,"PSD Header");J=m;m=jI.auq(e,v,J);jI.EA(0,m-J,"Color Mode Data");J=m;m=jI.ai5(e,v,J);jI.EA(0,m-J,"Image Resources");
J=m;m=jI.aqO(e,v,J);jI.EA(0,m-J,"Layer And Mask Info");J=m;m=jI.anX(e,v,J);jI.EA(0,m-J,"Merged Image");
J=m;if(e.T.length==0){var d=e.ws();d.Ip("Background");e.T.push(d);d.buffer=e.buffer.slice(0);d.R=new fP(0,0,e.q,e._)}for(var T=0;
T<e.T.length;T++){var m=e.T[T],j=m.add.lsct;if(j==d7.FJ)x++;else if(j==d7.W$||j==d7.kZ)x--}while(x<0){e.T.unshift(e.gB());
x++}if(e.Fz.r1005){e.gx=b.Dx(e.Fz.r1005,0)}if(e.Fz.r1026){var v=e.Fz.r1026;for(var T=0;T<v.length;T+=2){var m=e.T[T>>>1];
if(m)m.sg=b.hm(v,T)}}if(e.Fz.r1072){var v=e.Fz.r1072;for(var T=0;T<v.length;T++){var m=e.T[T];if(m)m.ga=v[T]==1}}if(e.Fz.r1032){e.nT=jI.avp(e.Fz.r1032,0)}delete e.Fz.r1036;
e.Qk(e.Fz.r1039);if(e.Fz.r1050){var E=b.d$,L=e.Fz.r1050,p=b.d$(L,0);if(p==6){var Z=4,o=b.gY(L,Z);Z+=16;
var u=b.j0(L,Z);Z+=4+u.length*2;var N=E(L,Z);Z+=4;var M=e.Ys;for(var T=0;T<N;T++){var O=c.E5.LJ(),W;
M.push(O);O=O.v;O.sliceID.v=E(L,Z);Z+=4;O.groupID.v=E(L,Z);Z+=4;var F=E(L,Z);Z+=4;if(F==1){W=E(L,Z);
Z+=4}var u=b.j0(L,Z);Z+=4+u.length*2;var f=E(L,Z);Z+=4;var $=[E(L,Z),E(L,Z+4),E(L,Z+8),E(L,Z+12)];Z+=16;
c.E5.zm(M,M.length-1,$);var H=O.url.v=b.j0(L,Z);Z+=4+H.length*2;var A=O.null.v=b.j0(L,Z);Z+=4+A.length*2;
var G=O.Msge.v=b.j0(L,Z);Z+=4+G.length*2;var l=O.altTag.v=b.j0(L,Z);Z+=4+l.length*2;O.cellTextIsHTML.v=L[Z]==1;
Z++;var K=O.cellText.v=b.j0(L,Z);Z+=4+K.length*2;var U=E(L,Z);Z+=4;var z=E(L,Z);Z+=4;var q=L.slice(Z,Z+4);
Z+=4;if(F!=2)M.pop()}}else if(p==8){var P={},g=new fP(0,0,e.q,e._);gl.V2(L,P,8,!1);var L=e.Ys=P.slices.v;
for(var T=0;T<L.length;T++){var a=c.E5.P8(L,T),w=new fP(a[0],a[1],a[2]-a[0],a[3]-a[1]);if(L[T].v.origin.v.ESliceOrigin!="userGenerated"||w.UP(g).EG()){L.splice(T,1);
T--}}}}if(e.Fz.r1058){var y=e.Fz.r1058,S=UTIF.decode(y.buffer,{parseMN:!1,debug:!1});cP.VB(S[0],e.dQ);
delete e.Fz.r1058}if(e.Fz.r1060){var i=b.Is(e.Fz.r1060);cP.VX(i,e.dQ);delete e.Fz.r1060}if(e.Fz.r1065){var v=e.Fz.r1065;
e.bW={};gl.V2(v,e.bW,4,!1)}if(e.Fz.r1069){var v=e.Fz.r1069,C=[];for(var T=2;T<v.length;T+=4){var W=b.d$(v,T);
for(var Y=0;Y<e.T.length;Y++){var m=e.T[Y];if(m.add.lyid==W&&m.add.lsct!=3&&C.indexOf(Y)==-1)C.push(Y)}}e.X=C}if(e.Fz.r1073){var v=e.Fz.r1073,Z=0,_=b.Pp(v,Z);
Z+=4;var t=b.Pp(v,Z);Z+=4;for(var T=0;T<t;T++){e.us.push({y:_>=2?b.SN(v,Z+2):b.Dx(v,Z+2),x:_>=2?b.SN(v,Z+6):b.Dx(v,Z+6)});
Z+=14}delete e.Fz.r1073}if(e.Fz.r1074){e.ck={};gl.V2(e.Fz.r1074,e.ck,4,!1);delete e.Fz.r1074}if(e.Fz.r1025){var I=e.Fz.r1025;
delete e.Fz.r1025;var r=dI.kN(I,0,I.length,e.q,e._),n=new s.eo;n.z=r;e.H0[0]=e7.O8("Work Path",{vmsk:n})}var Q=e.add.pths;
delete e.add.pths;var dG=e.Fz.r3000;if(dG){D={};gl.V2(dG,D,4,!1);delete e.Fz.r3000}if(Q){var R=Q.pathSymmetrySelectedPath;
if(R){var X=Q.pathList.v[R.v].v,dx=X.pathUnicodeName.v;e.m8=dx.startsWith("Tile Symmetry")}}for(var jv=0;
jv<=997;jv++){var gB="r"+(2e3+jv),I=e.Fz[gB];if(I==null)break;var r=dI.kN(I,0,I.length,e.q,e._),dx="Path "+jv;
if(Q){var hQ=Q.pathList.v[jv].v;dx=hQ.pathUnicodeName.v;if(dx=="Tile Symmetry 1")continue}var ah=D?D.keyRootDescriptorList.v[jv].v.keyDescriptorList.v:s.d6(r),n=new s.eo;
n.z=r;e.H0.push(e7.O8(dx,{vmsk:n,vogk:ah}));delete e.Fz[gB]}delete e.qd;if(e.Fz.r4000){e.uF=B.uF.kq(e.Fz.r4000)}var kG=e.Fz.r7000,iZ=e.Fz.r7001;
if(kG){var bs=b.Is(kG);e.pr=jI.arF(bs)}if(iZ){var bs=b.Is(iZ);e.X0=jI.agO(bs)}delete e.Fz.r7000;delete e.Fz.r7001;
var g=new fP(0,0,e.q,e._),ey=e.add.Txt2,jp=ey;if(jp){jp=jp.Gc;if(jp._DocumentResources==null)jp=au.amv(jp)}var jw=-1;
for(var T=0;T<e.T.length;T++){var m=e.T[T],i7=m.add.lsct,kn=m.add.vmsk,eK=m.NH();if(i7==d7.FJ){jX++;
m.add.lspf=0}else if(i7==d7.W$||i7==d7.kZ)jX--;if(m.name==""){m.name="Layer "+(T+1);jN=!0}if(jN&&m.XN()&&m.fR=="norm")m.fR="pass";
if(m.vO()&&m.o7(e)==null)delete m.add.SoLd;if(m.vO()&&m.o7(e).N){var ee=m.o7(e);ee.N.isEnabled=m.add.SoLd.filterFX.v.filterMaskEnable.v}if(kn&&m.Yb()){var az=fL.gL.UX(!0);
if(m.add.vstk==null)m.add.vstk=B.t(az);else{var k7="strokeStyleLineDashSet";if(m.add.vstk[k7]==null)m.add.vstk[k7]=B.t(az[k7])}m.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
m.add.vstk.strokeStyleResolution.v=e.gx}if(kn&&(m.add.vogk==null||B.s.bJ(kn.z)!=m.add.vogk.length))m.d6();
if(!1){var al=m.add.vogk,kl=!0;for(var b9=0;b9<al.length;b9++){var h9=al[b9].v.keyShapeInvalidated;if(h9==null||h9.v==!1)kl=!1}if(kl)m.d6()}if(m.add.SoLd&&m.R.EG()){console.log("redrawing smart instance");
m.eW(e,null,null,!0,!0)}if(eK==null&&m.N!=null){if(m.N.Lz==!1){m.N.Lz=!0;m.zl=m.N.O()}}eK=m.NH();if(m.bK){var az=m.bK,n=kn;
if(eK){eK.DH=az[0];eK.jC=az[1]}if(n){n.DH=az[2];n.jC=az[3]}m.bK=null}if(eK!=null&&kn!=null&&(eK.jC+kn.jC!=0||eK.DH+kn.DH!=2*255))m.vT(e);
else if(kn!=null&&!m.Yb())m.vT();else if(eK&&eK.DH!=255&&m.Yb())m.vT(e);var ge=m.add.artb;if(ge&&ge.artboardBackgroundType==null)ge.artboardBackgroundType={t:"long",v:1};
if(ge&&jX!=0)delete m.add.artb;var iN=m.add.vstk;if(m.Yb()&&(m.R.EG()||kn&&kn.jC!=0||iN&&!iN.fillEnabled.v&&(!iN.strokeEnabled.v||iN.strokeStyleLineWidth.v.val==0)))m.S_(e);
if(m.add.TySh){eh=!0;if(!m.R.EG())dt=!1}if(m.add.TySh&&jp){jw++;var a8=m.add.TySh.lf,dK=fr.hi(a8),f6=jp._DocumentObjects._TextObjects;
if(f6.length<=jw){console.log("Txt2 incomplete");continue}var fS=f6[jw]._Model,cf=fS._StyleRun?fS._StyleRun._RunArray:[],iG=a8.EngineDict.StyleRun.RunArray;
for(var eC=0;eC<iG.length;eC++){var kH=iG[eC].StyleSheet.StyleSheetData;if(cf[eC]==null)continue;var i0=cf[eC]._RunData._StyleSheet._Features;
if(i0){if(i0._BaselineDirection)kH.BaselineDirection=parseInt(i0._BaselineDirection.slice(1));if(i0._FillBackgroundFlag)kH._FillBackgroundFlag=i0._FillBackgroundFlag;
if(i0._FillBackgroundColor)kH._FillBackgroundColor={Type:1,Values:k6.Yj(i0._FillBackgroundColor._Color._Values)};
var j=fr.Ok;for(var Y=0;Y<j.length;Y++)if(i0[j[Y]]!=null)kH[j[Y]]=i0[j[Y]];var e5=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];
for(var Y=0;Y<e5.length;Y++)if(i0[e5[Y]]!=null)kH[e5[Y]]=parseInt(i0[e5[Y]].slice(1));if(i0._LineDashArray!=null)kH._LineDashArray=k6.Yj(i0._LineDashArray)}}var gA=a8.EngineDict.ParagraphRun.RunArray,bW=fS._ParagraphRun._RunArray;
if(bW==null)bW=[];var e3=Math.min(bW.length,gA.length);for(var Y=0;Y<e3;Y++){var iL=gA[Y].ParagraphSheet.Properties,h4=jp._DocumentResources._ParagraphSheetSet._Resources,iT=bW[Y]._RunData._ParagraphSheet;
if(typeof iT=="string")iT=h4[parseInt(iT.slice(1))]._Resource;var hC=iT._Parent==null?iT:h4[parseInt(iT._Parent.slice(1))]._Resource;
iT=iT._Features;hC=hC._Features;var dS=iT._ParagraphDirection;if(dS==null)dS=hC._ParagraphDirection;
if(dS)iL._Direction=parseInt(dS.slice(1));if(iT._ComposerEngine)iL._ComposerEngine=parseInt(iT._ComposerEngine.slice(1))}if(fS._AlternateGlyphRun){var bW=fS._AlternateGlyphRun._RunArray,e3=bW.length,il=a8.EngineDict.AlternateGlyphRun=fr.aCx();
for(var Y=0;Y<e3;Y++){var iT=bW[Y],i6={},co=iT._RunData._AlternateGlyphSheet;if(co)i6.Glyph=parseInt(co._Glyph.slice(1));
il.RunArray.push(i6);il.RunLengthArray.push(parseInt(iT._Length.slice(1)))}}var bH=jp._DocumentResources,b5=bH._TextFrameSet._Resources,ej=b5[jw]._Resource,id=ej._Data,dH=new aJ(1,0,0,1,0,0);
if(ej._0){var hA=parseFloat(ej._0[0].slice(1)),fn=parseFloat(ej._0[1].slice(1));dH.translate(hA,fn)}if(dK){dH.translate(dK[0],dK[1]);
fr.Uv(a8,[0,0,dK[2]-dK[0],dK[3]-dK[1]])}else{if(ej._Bezier&&ej._Bezier._Points){var r=ej._Bezier._Points,hA=parseFloat(r[0].slice(1)),fn=parseFloat(r[1].slice(1));
if(hA!=0||fn!=0){dH.translate(hA,fn)}}}if(ej._Data&&ej._Data._FrameMatrix){var d3=ej._Data._FrameMatrix;
d3=d3.map(function(gS){return parseFloat(gS.slice(1))});dH.concat(new aJ(d3[0],d3[1],d3[2],d3[3],d3[4],d3[5]))}dH.concat(m.add.TySh.C);
m.add.TySh.C=dH;var f=id._Type?parseInt(id._Type.slice(1)):0;if(f==2||f==1&&id._PathData&&id._PathData._Spacing=="i-3")if(ej._Bezier){var iF=function(gS){return parseFloat(gS.slice(1))},r=ej._Bezier._Points.map(iF);
if(dK)B.w.C(r,new aJ(1,0,0,1,-dK[0],-dK[1]),r);var hF=id._PathData?id._PathData._Reversed:!1,bz=id._TextOnPathTRange;
if(bz==null)bz=["f-3","f-3"];a8.Curve={Points:r,TextOnPathTRange:bz.map(iF),Reversed:hF==null?!1:hF};
m.add.TySh.add={vmsk:new s.eo,vogk:null};fr.BA(m.add.TySh)}if(id._LineOrientation=="i2")a8._LineOrientation=2}}c.XM.f0(e,!0);
var hN={},km=[];for(var T=0;T<e.T.length;T++){var gm=e.T[T].add.lyid;if(gm==null)continue;var cA=Math.max(cA,gm);
if(hN[gm]!=null)km.push(T);else hN[gm]=!0}for(var T=0;T<km.length;T++)e.T[km[T]].add.lyid=cA+1+T};jI.avp=function(h,e){e+=12;
var v=b.d$(h,e),J=[];e+=4;v=Math.min(v,Math.floor((h.length-e)/5));for(var T=0;T<v;T++){var m=Math.min(h[e+T*5+4],1),d=b.Pp(h,e+T*5)/32;
J.push([m,d])}return J};jI.arF=function(h){var e=new DOMParser,v=e.parseFromString(h,"text/xml").firstChild.children[0],J=v.getElementsByTagName("variables");
if(J.length==0)return[];J=J[0].children;var m=[],d="varName trait docRef placementMethod align valign clip".split(" ");
for(var x=0;x<J.length;x++){var j=J[x],E={};m.push(E);for(var L=0;L<d.length;L++){var p=d[L],Z=j.getAttribute(p);
if(Z==null)continue;E[p]=Z}}return m};jI.agO=function(h){var e=new DOMParser,v=e.parseFromString(h,"text/xml").firstChild.children,J=[[]];
if(v==null)return J;for(var T=0;T<v.length;T++){var m=v[T],d=[];J.push(d);for(var x=0;x<m.children.length;
x++){var j=m.children[x];if(T==0)J[0].push(j.tagName);d.push(j.textContent)}}return J};jI.el=function(h,e,v){c.XM.gj(h);
c.XM.f0(h,!1);h.qd=v[3]==!0;var J=[],m=[],O=0,W=1,N=16,bs=0;for(var T=0;T<h.T.length;T++){var d=h.T[T];
if(d.vO()&&d.o7(h).N){d.add.SoLd.filterFX.v.filterMaskEnable.v=d.o7(h).N.isEnabled}if(d.add.TySh){var x=d.add.TySh.lf,j=fr.tO(x);
d.add.TySh.fB.TextIndex={t:"long",v:J.length};J.push(x);if(j==2)fr.dd(d.add.TySh)}var E=d.add.vstk;if(E)E.strokeStyleResolution.v=h.gx;
if(d.Yb()||v[2]&&d.add.SoLd){m[T]=[d.R,d.buffer];d.R=new fP;d.buffer=B.U(0);if(d.add.SoLd){var L=d.o7(h);
if(L!=null){m[T].push(L.buffer);L.buffer=B.U(L.buffer.length)}}}}if(J.length>0){var p=h.add.Txt2?h.add.Txt2.Gc:null;
if(h.add.Txt2==null)h.add.Txt2={};h.add.Txt2.Gc=k6.awN(J,null,p)}var Z=[h.add.lnk2,h.add.FEid,h.add.Patt],o=h.aFe(h.T);
h.az6(o);h.Fz.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);b.aCq(h.Fz.r1005,0,h.gx);b.aCq(h.Fz.r1005,8,h.gx);
if(h.us.length>0){var u=h.us;h.Fz.r1073=new Uint8Array(8+u.length*14);b.RH(h.Fz.r1073,0,3);b.RH(h.Fz.r1073,4,u.length);
for(var T=0;T<u.length;T++){var N=8+14*T;b.dC(h.Fz.r1073,N,14);b.Kp(h.Fz.r1073,N+2,u[T].y);b.Kp(h.Fz.r1073,N+6,u[T].x);
b.dC(h.Fz.r1073,N+10,-1);b.dC(h.Fz.r1073,N+12,8)}}if(h.l9()){h.Fz.r1022=new Uint8Array([0,3+h.Ar.length-1,0])}else delete h.Fz.r1022;
var M=new Uint8Array(h.T.length*2),F=new Uint8Array(h.T.length);for(var T=0;T<h.T.length;T++){var d=h.T[T],f=d.sg,$=d.ga?1:0;
b.pu(M,T*2,f);F[T]=$;if(f>O)O=f;if($==0)W=0}if(O>0)h.Fz.r1026=M;if(W<1)h.Fz.r1072=F;var H=h.nT,A=H.length,G=h.Fz.r1032=new Uint8Array(16+5*A);
b.ft(G,0,1);b.ft(G,4,576);b.ft(G,8,576);b.ft(G,12,A);for(var T=0;T<A;T++){b.RH(G,N,Math.round(H[T][1]*32));
G[N+4]=H[T][0];N+=5}if(v[4]!=!0){var l=[h.pb(),new fP(0,0,h.q,h._)],K=0;B.Nb(l);while(l[K+1].$()>200*200)K+=2;
var U=gI.g6("jpg"),z=l[K+1],q=new Uint8Array(U.oZ([[l[K].buffer]],z.q,z._)),G=h.Fz.r1036=new Uint8Array(28+q.length);
b.ft(G,0,1);b.ft(G,4,z.q);b.ft(G,8,z._);b.ft(G,12,z.q*3);b.ft(G,16,z.$()*3);b.ft(G,20,q.length);b.pu(G,24,24);
b.pu(G,26,1);G.set(q,28)}var P=B.kx(h.buffer);if(h.add.fcmy)P=!1;var g=[];if(P)g.push({name:"Transparency",Rm:{n:255,i:0,b:0},lI:100,R4:1});
g=g.concat(h.Ar);delete h.Fz.r1045;delete h.Fz.r1006;delete h.Fz.r1077;var a=new kg;N=0;var w=new Uint8Array(4+g.length*13);
w[3]=1;for(var T=0;T<g.length;T++){var y=g[T],S=y.name+"\0";b.DI(a,N,S);N+=4+S.length*2;var i=4+T*13;
fy.Q8(w,i,y.Rm);w[i+11]=y.lI;w[i+12]=y.R4}if(N!=0)h.Fz.r1045=a.data.slice(0,N);h.Fz.r1077=w;for(var T=0;
T<h.Ys.length;T++)h.Ys[h.Ys.length-T-1].v.sliceID.v=2+T*3;var C={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:h.Ys}},a=new kg;
b.fM(a,0,8);b.fM(a,4,16);var Y=gl.Qb(a,C,8);h.Fz.r1050=a.data.slice(0,Y+8);var a=new kg;b.fM(a,0,16);
var Y=gl.Qb(a,h.bW,4);h.Fz.r1065=a.data.slice(0,Y+4);if(h.ck){var a=new kg;b.fM(a,0,16);var Y=gl.Qb(a,h.ck,4);
h.Fz.r1074=a.data.slice(0,Y+4)}var _=h.X;G=h.Fz.r1069=new Uint8Array(2+_.length*4);b.pu(G,0,_.length);
for(var T=0;T<_.length;T++)b.ft(G,2+4*T,h.T[_[T]].add.lyid);delete h.Fz.r1058;delete h.Fz.r1060;if(Object.keys(h.dQ).length!=0){var t=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
cP.u4(h.dQ,t[0],v[0]&&v[1]);h.Fz.r1058=new Uint8Array(UTIF.encode(t));var I=cP.E9(h.dQ);h.Fz.r1060=b.YQ(I)}var r=[],n=[],Q=h.H0.slice(0);
if(h.m8){var D=dI.a5s([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),dG=new s.eo;
dG.z=D;Q.push(e7.O8("Tile Symmetry 1",{vmsk:dG,vogk:s.d6(D)}))}for(var T=0;T<Q.length;T++){var R=Q[T],D=R.add.vmsk.z;
if(T==0&&D.length==2)continue;var X=B.U(D.length*26);dI.lx(X,0,D,h.q,h._);var dx=T==0?1025:2e3+T-1;h.Fz["r"+dx]=X;
if(T!=0){var jv={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:R.name}};if(R.name=="Tile Symmetry 1")jv.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
r.push({t:"Objc",v:jv});n.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:R.add.vogk}}})}}if(r.length!=0){h.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:r}};
if(h.m8)h.add.pths.pathSymmetrySelectedPath={t:"long",v:r.length-1};n={classID:"null",keyRootDescriptorList:{t:"VlLs",v:n}};
var a=new kg;b.fM(a,0,16);var Y=gl.Qb(a,n,4);h.Fz.r3000=a.data.slice(0,Y+4)}else{delete h.add.pths;delete h.Fz.r3000}if(h.uF&&h.uF.length!=0){h.Fz.r4000=B.uF.el(h.uF)}if(h.pr.length!=0){var gB="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var T=0;T<h.pr.length;T++){var hQ=h.pr[T],ah=[];for(var dx in hQ)ah.push(dx+"=\""+hQ[dx]+"\"");gB+="<variable "+ah.join(" ")+">\n</variable>\n"}gB+="</variables>\n</variableSet>\n</variableSets>";
h.Fz.r7000=b.YQ(gB)}if(h.X0.length!=0){var gB="<sampleDataSets psdPath=\""+h.name+"\">\n";for(var T=1;
T<h.X0.length;T++){var kG=h.X0[T];gB+="<sampleDataSet dataSetName=\"Data Set "+T+"\">\n";for(var iZ=0;
iZ<kG.length;iZ++)gB+="<"+h.X0[0][iZ]+">"+kG[iZ].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+h.X0[0][iZ]+">\n";
gB+="</sampleDataSet>\n"}gB+="</sampleDataSets>";h.Fz.r7001=b.YQ(gB)}bs=jI.ad2(h,e,bs,3+g.length);bs=jI.aAp(h,e,bs);
bs=jI.arB(h,e,bs);bs=jI.awm(h,e,bs,v,P);bs=jI.aDL(h,e,bs,v[0],P);var ey=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var T=0;T<ey.length;T++)delete h.Fz["r"+ey[T]];for(var T=0;T<h.T.length;T++){var d=h.T[T];if(d.Yb()||v[2]&&d.add.SoLd){d.R=m[T][0];
d.buffer=m[T][1];if(m[T][2]){var L=d.o7(h);m[T].push(L.buffer);L.buffer=m[T][2]}}}h.az6(Z);c.XM.f0(h,!0);
delete h.qd;return bs};jI.Qe=function(h,e,v){var J=b.RZ(e,v,4);v+=4;if(J!="8BPS")alert("invalid header signature: "+J);
var m=b.hm(e,v);v+=2;h.qd=m==2;if(m!=1&&m!=2)alert("invalid version: "+m);v+=6;h.pe=b.hm(e,v);v+=2;h._=b.Pp(e,v);
v+=4;h.q=b.Pp(e,v);v+=4;h.P7=b.hm(e,v);v+=2;h.i9=b.hm(e,v);v+=2;return v};jI.ad2=function(h,e,v,J){var m=h.add.fcmy==1;
e.OQ(0,64);b._z(e.data,v,"8BPS");v+=4;b.pu(e.data,v,h.qd?2:1);v+=2;b.ft(e.data,v,0);v+=4;b.pu(e.data,v,0);
v+=2;b.pu(e.data,v,J+(m?1:0));v+=2;b.RH(e.data,v,h._);v+=4;b.RH(e.data,v,h.q);v+=4;b.pu(e.data,v,8);
v+=2;b.pu(e.data,v,m?4:3);v+=2;return v};jI.auq=function(h,e,v){var J=b.Pp(e,v);v+=4;if(J!=0)h.Rn=e.slice(v,v+J);
v+=J;return v};jI.aAp=function(h,e,v){b.DY(e,v,0);v+=4;return v};jI.ai5=function(h,e,v){var J=b.d$(e,v),m=0;
v+=4;var d=[];while(m<J){var x=b.RZ(e,v+m,4);m+=4;var j=b.hm(e,v+m);m+=2;var E=b.bD(e,v+m);m+=E.length;
if(x=="MeSa"&&(j==7e3||j==7001)){}else if(x!="8BIM"){d.push(j);console.log("Unknown Image Resources signature: "+x+", ID: "+j)}var L=b.d$(e,v+m);
m+=4;if(h.Fz["r"+j]!=null)console.log("--- two resources with same ID");h.Fz["r"+j]=b.YR(e,v+m,L);m+=L+(L&1)}for(var T=0;
T<d.length;T++)delete h.Fz["r"+d[T]];delete h.Fz.r1092;return v+J};jI.arB=function(h,e,v){var J=v,x=0;
v+=4;var m=[];for(var d in h.Fz){m.push(parseInt(d.slice(1)))}m.sort(function(Z,o){return Z-o});for(var T=0;
T<m.length;T++){var j=m[T];b.ey(e,v+x,j==7e3||j==7001?"MeSa":"8BIM");x+=4;b.mb(e,v+x,j);x+=2;var E=b.gP(e,v+x,"");
x+=E;var L=h.Fz["r"+j],p=L.length;b.fM(e,v+x,p);x+=4;b.n5(e,v+x,L);x+=p;if(p%2==1)x++}b.fM(e,J,x);return v+x};
jI.aqO=function(h,e,v){var J=v,m,d,x=h.qd?8:4;if(h.qd)m=b.PF(e,v);else m=b.d$(e,v);v+=x;if(m==0)return J+x;
d=jI.aCC(h,e,v);jI.EA(1,d-v,"Layer Info");v=d;d=jI.a0l(h,e,v);jI.EA(1,d-v,"Global Layer Mask Info");
v=d;d=ba._3(e,v,J+x+m,h.add,h.qd,h);jI.EA(1,d-v,"Project Add Info");v=d;return J+x+m};jI.awm=function(h,e,v,J,m){var d=v;
b.fM(e,v,0);v+=4;if(h.qd){b.fM(e,v,0);v+=4}v=jI.alk(h,e,v,J,m);v=jI.axa(h,e,v);v=ba.Xs(e,v,h.add,h.qd,h);
if(h.qd)b.Uy(e,d,v-d-8);else b.fM(e,d,v-d-4);return v};jI.aCC=function(h,e,v){var J,m=h.qd?8:4;if(h.qd)J=b.PF(e,v);
else J=b.d$(e,v);v+=m;if(J!=0)jI.qJ(h,e,v);return v+J};jI.qJ=function(h,e,v,J){var m=J?b.Iy:b.WW,d=m(e,v);
v+=2;var x=Math.abs(d);for(var T=0;T<x;T++){var j=new s;v=aP.kq(j,h,e,v,J);h.T[T]=j}var E=new fP(0,0,h.q,h._);
for(var T=0;T<x;T++){var L=h.T[T],p=L.NH(),Z=kK.kq(L,h,e,v,J);if(Z-v>8)jI.EA(2,Z-v,"Lay: "+L.getName());
v=Z;jI.afm(L,E);if(p)jI.afm(p,E)}};jI.afm=function(h,e){};jI.alk=function(h,e,v,J,m){var d=v,x=h.qd;
v+=x?8:4;v=jI.agP(h,e,v,J,m);var j=v-d-(x?8:4);if(j%2!=0)j++;if(x)b.Uy(e,d,j);else b.fM(e,d,j);return d+j+(x?8:4)};
jI.agP=function(h,e,v,J,m){var d=h.T.length;b.CH(e,v,m?-d:d);v+=2;var x=[];for(var T=0;T<d;T++)v=aP.el(h.T[T],h,e,v,x);
for(var T=0;T<d;T++)v=kK.mA(h.qd,h.T[T],e,v,x[T],J,h.add.fcmy==1);return v};jI.a0l=function(h,e,v){var J=b.d$(e,v);
v+=4;v+=J;return v};jI.axa=function(h,e,v){var J=b.fM(e,v,0);v+=4;return v};jI.anX=function(h,e,v){var J=h.i9,m="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),d=[1,1,1,3,4,1,1,3],x,M;
delete h.add.fcmy;if(J!=3){if(J==1||J==2||J==4)console.log("Project will be converted from "+m[J]+" to "+m[3]+" mode.");
else{alert("Color mode "+m[J]+" is not supported yet :(")}if(J==4)h.add.fcmy=1}if(h.Fz.r1045){x=[];var j=h.Fz.r1045,E=0;
while(E<j.length){var L=b.ZA(j,E);x.push(L);E+=4+2+L.length*2}}var p=d[J]+(x==null||x[0]=="Transparency"?1:0),Z=h.q,o=h._,u=Z*o,N=b.hm(e,v);
v+=2;h.buffer=B.U(u*4,h.depth);if(h.depth!=8)return v;B.yV(h.buffer,4278190080);var O=v;for(var F=0;
F<h.pe;F++){if(N==0){M=kK.B4(h.qd,h.P7,e,Z,o,v,N);M=B.D1(M,8);v+=u*(h.P7>>>3)}else if(N==1){M=B.U(u);
var W=h.qd?4:2;if(F==0)v+=h.pe*o*W;v+=kK.a2Q(e,M,Z,o,O+F*o*W,v,W)}else{console.log("unknown compression of image data: ",N);
return}if(F<p){B.ar(M,h.buffer,F);if(h.pe==1&&F==0){B.ar(M,h.buffer,1);B.ar(M,h.buffer,2)}}else{var f=new s.xK,$=F-p,H=F-d[h.i9];
f.name=x?x[H]:"Alpha";if(f.name=="Quick Mask"){f.bx=!0;h.kH.push($)}f.R=new fP(0,0,Z,o);f.G=M;f.color=0;
f.pE();h.Ar[$]=f;if(h.Fz.r1077){var j=h.Fz.r1077.slice(4+H*13);f.Rm=fy.J3(j,0);f.lI=j[11];f.R4=j[12];
if(f.R4==2)f.bx=!0}}}h.pe=4;if(h.i9==2)for(var T=0;T<u;T++){var A=T*4,G=h.buffer[A];h.buffer[A]=h.Rn[0+G];
h.buffer[A+1]=h.Rn[256+G];h.buffer[A+2]=h.Rn[512+G]}return v};jI.aDL=function(h,e,v,J,m){var d=1,x=16,j=h.q,E=h._,p,Z,o;
b.mb(e,v,d);v+=2;var L=j*E;if(!J){Z=new B.Em(j*E);B.G3(h.buffer,Z);var u=Z.n,N=Z.i,M=Z.b,O=Z.DR;for(var T=0;
T<L;T++){var F=O[T]*(1/255);u[T]=~~(u[T]*F+255*(1-F));N[T]=~~(N[T]*F+255*(1-F));M[T]=~~(M[T]*F+255*(1-F))}o=[Z.n,Z.i,Z.b];
if(h.add.fcmy==1){o.push(B.U(L));var W=h.buffer.slice(0);B.asI(W);B.G3(W,{n:o[0],i:o[1],b:o[2],DR:o[3]})}if(m)o.push(Z.DR)}else{p=B.U(L);
o=[p,p,p];if(h.add.fcmy==1)o.push(p);if(m)o.push(p)}for(var T=0;T<h.Ar.length;T++){o.push(h.Ar[T]._N(new fP(0,0,h.q,h._)))}var f=v;
for(var $=0;$<o.length;$++){e.OQ(v,j*E+4);p=o[$];if(d==0||d==2||d==3)v=kK.OC(h.qd,p,e.data,j,E,v,d);
else{var H=h.qd?4:2;if($==0)v+=o.length*E*H;var A=v;v+=kK.ass(p,e.data,j,E,f+$*E*H,v,H)}}return v};function cx(){}cx.kq=function(h){var e={};
cx.df(h,e,0,0);return e};cx.el=function(h,e){var v=0;v=cx.VV(h,e,v,0);return v};cx.df=function(h,e,v,J){while(h[v]!="<".charCodeAt(0))v++;
v+=2;while(!0){if(h[v]=="/".charCodeAt(0)){v++;var m=b.indexOf(h," ".charCodeAt(0),v,v+50),d=b.indexOf(h,"\n".charCodeAt(0),v,v+50);
if(d==-1)d=Infinity;if(m==-1)m=Infinity;var x=Math.min(d,m),j=b.RZ(h,v,x-v),E=cx.mC(h,x+1,J+1,j);e[j]=E.J;
v=x+1;v+=E.size}else if(h[v]==">".charCodeAt(0)){v+=2;break}else{var L=h[v];if(L==10||L==9||L==32)v++;
else{console.log("unknown byte: "+L+", char: "+String.fromCharCode(L),v);v++}}}return v};cx.VV=function(h,e,v,J){b.ey(e,v,"<<\n");
v+=3;var m=cx.aws;for(var d in h){b._e(e,v,"\t".charCodeAt(0),J+1);v+=J+1;b.ey(e,v,"/"+d);v+=1+d.length;
if(m(h[d])||h[d]instanceof Array){b.ey(e,v," ");v++}else{b.ey(e,v,"\n");v++;b._e(e,v,"\t".charCodeAt(0),J+1);
v+=J+1}v=cx.Aq(h[d],e,v,J+1);b.ey(e,v,"\n");v++}b._e(e,v,"\t".charCodeAt(0),J);v+=J;b.ey(e,v,">>");v+=2;
return v};cx.mC=function(h,e,v,J){var m=e,d={size:0,J:0};while(!0){while(h[e]==" ".charCodeAt(0)||h[e]=="\t".charCodeAt(0)||h[e]=="\n".charCodeAt(0))e++;
if(h[e]=="<".charCodeAt(0)){d.J={};e=cx.df(h,d.J,e,v+1);break}else if(h[e]=="(".charCodeAt(0)){e+=3;
var x=e;while(!0){if(h[x-1]!="\\".charCodeAt(0)&&h[x]==")".charCodeAt(0)&&(h[x+1]=="\n".charCodeAt(0)||h[x+1]==" ".charCodeAt(0)))break;
else x++}d.J=b.azy(h,e,x);e=x+2;break}else if(h[e]=="[".charCodeAt(0)){e++;d.J=[];while(h[e]==" ".charCodeAt(0)||h[e]=="\t".charCodeAt(0)||h[e]=="\n".charCodeAt(0))e++;
while(h[e]!="]".charCodeAt(0)){var j=cx.mC(h,e,v+1,J);d.J.push(j.J);e+=j.size;while(h[e]==" ".charCodeAt(0)||h[e]=="\t".charCodeAt(0)||h[e]=="\n".charCodeAt(0))e++}e++;
break}else{var E=b.indexOf(h," ".charCodeAt(0),e,e+50),L=b.indexOf(h,"\n".charCodeAt(0),e,e+50);if(L==-1)L=Infinity;
if(E==-1)E=Infinity;var p=b.RZ(h,e,Math.min(E,L)-e).trim(),Z=parseFloat(p);if(!isNaN(Z)){d.J=parseFloat(p);
e=Math.min(E,L)+1;break}else if(p=="true"||p=="false"){d.J=p=="true";e=Math.min(E,L)+1;break}else if(p=="null"||p=="NaN"||p=="undefined"){d.J=0;
e=Math.min(E,L)+1;break}else{console.log("unknown identifier: "+p);throw"e"}e=Math.min(E,L)+1}}d.size=e-m;
return d};cx.Aq=function(h,e,v,J){if(h instanceof Array){var m=h.length==0||typeof h[0]=="number";if(m){b.ey(e,v,"[ ");
v+=2;for(var T=0;T<h.length;T++){var d=h[T]+" ";b.ey(e,v,d);v+=d.length}b.ey(e,v,"]");v+=1}else{b.ey(e,v,"[\n");
v+=2;for(var T=0;T<h.length;T++){b._e(e,v,"\t".charCodeAt(0),J);v+=J;v=cx.Aq(h[T],e,v,J);b.ey(e,v,"\n");
v++}b._e(e,v,"\t".charCodeAt(0),J);v+=J;b.ey(e,v,"]");v+=1}}else if(h instanceof Object){v=cx.VV(h,e,v,J)}else if(typeof h=="string"){b.ey(e,v,"(");
v++;b._e(e,v,254);v++;b._e(e,v,255);v++;v=b.a50(e,v,h);b.ey(e,v,")");v+=1}else{var d=h+"";b.ey(e,v,d);
v+=d.length}return v};cx.aws=function(h){var e=typeof h;return e=="string"||e=="number"||e=="boolean"};
function dQ(){}dQ.kq=function(h){var e={};dQ.apF(h,e,0,0);return e};dQ.el=function(h,e){var v=0;b.ey(e,v," ");
v++;v=dQ.aBV(h,e,v,0);v--;e.OQ(v,2);e.data[v]=e.data[v+1]=0;v+=2;return v};dQ.df=function(h,e,v,J){while(h[v]!="<".charCodeAt(0)){v++;
console.log("šipka")}v+=2;v=dQ.apF(h,e,v,J);return v};dQ.VV=function(h,e,v,J){b.ey(e,v,"<< ");v+=3;v=dQ.aBV(h,e,v,J);
b.ey(e,v,">>");v+=2;return v};dQ.g_=function(h){return h==9||h==10||h==32};dQ.apF=function(h,e,v,J){while(!0){while(dQ.g_(h[v])||h[v]==0)v++;
if(v>=h.length)break;if(h[v]=="/".charCodeAt(0)){v++;var m=v;while(!dQ.g_(h[m]))m++;var d=b.RZ(h,v,m-v);
v=m+1;var x=dQ.mC(h,v,J,d);e["_"+d]=x.J;v+=x.size}else if(h[v]==">".charCodeAt(0)){v+=2;break}else{var j=h[v];
console.log(b.RZ(h,v,v+100));console.log("unknown byte: "+j+", char: "+String.fromCharCode(j)+", offset: "+v);
v++;throw"e";return-1}}return v};dQ.aBV=function(h,e,v,J){for(var m in h){var d=m.substring(1,m.length);
b.ey(e,v,"/"+d);v+=1+d.length;b.ey(e,v," ");v++;v=dQ.Aq(h[m],e,v,J+1,d);b.ey(e,v," ");v++}return v};
dQ.mC=function(h,e,v,J){var m=e,d={c:"",size:0,J:0};while(dQ.g_(h[e]))e++;if(h[e]=="<".charCodeAt(0)){d.c="Object";
d.J={};e=dQ.df(h,d.J,e,v+1)}else if(h[e]=="(".charCodeAt(0)){d.c="String";e++;if(h[e]==")".charCodeAt(0)){d.J="e";
e++}else if(h[e]==254&&h[e+1]==255){e+=2;var x=e,j=0;while(!0){if(h[x]==")".charCodeAt(0)&&h[x-1]!="\\".charCodeAt(0))break;
else x+=1}d.J="s"+b.azy(h,e,x);e=x+2}else{var x=e;while(h[x]!=")".charCodeAt(0))x++;d.J="s"+b.RZ(h,e,x-e);
e=x+1}}else if(h[e]=="[".charCodeAt(0)){e++;d.J=[];d.c="Array";while(dQ.g_(h[e]))e++;while(h[e]!="]".charCodeAt(0)){var E=dQ.mC(h,e,v+1,J);
if(E==-1)return-1;d.J.push(E.J);e+=E.size;delete E.size;while(dQ.g_(h[e]))e++}e++}else{var L=e;while(!dQ.g_(h[L]))L++;
var p=b.RZ(h,e,L-e),Z=parseFloat(p);if(!isNaN(Z)&&p.indexOf(".")!=-1){d.c="Float";var o=parseFloat(p);
d.J="f"+o}else if(!isNaN(Z)&&p.indexOf(".")==-1){d.c="Integer";d.J="i"+parseInt(p)}else if(p=="true"||p=="false"){d.c="Boolean";
d.J=p=="true"}else if(p.charAt(0)=="/"){d.c="BString";d.J=p}else if(p=="NaN"||p=="undefined"){d.c="Float";
d.J="f0"}else{console.log("unknown value",JSON.stringify(p));throw"e"}e=L+1}d.size=e-m;return d};dQ.a7J=function(h){if(h==Math.round(h))return h+".0";
var e=h.toFixed(5);while(e.endsWith("0")&&e[e.length-2]!=".")e=e.slice(0,e.length-1);if(0<h&&h<1)e=e.slice(1);
if(-1<h&&h<0)e="-"+e.slice(2);return e};dQ.Aq=function(h,e,v,J,m){var d=typeof h=="string"?h.charAt(0):"";
if(h instanceof Array){b.ey(e,v,"[ ");v+=2;for(var T=0;T<h.length;T++){v=dQ.Aq(h[T],e,v,J,"");b.ey(e,v," ");
v++}b.ey(e,v,"]");v+=1}else if(h instanceof Object){v=dQ.VV(h,e,v,J)}else if(d=="e"){b.ey(e,v,"()");
v+=2}else if(d=="s"){b.ey(e,v,"(");v++;if(m=="97"){b.ey(e,v,h.slice(1));v+=h.length-1}else{b._e(e,v,254);
v++;b._e(e,v,255);v++;v=b.a50(e,v,h.slice(1))}b.ey(e,v,")");v++}else if(d=="/"){b.ey(e,v,h);v+=h.length}else if(d=="f"){var x=parseFloat(h.substring(1)),j=dQ.a7J(x);
b.ey(e,v,j);v+=j.length}else if(d=="i"){b.ey(e,v,h.substring(1));v+=h.length-1}else{var j=h+"";b.ey(e,v,j);
v+=j.length}return v};function b(){}b.axC=function(iW){var h="";for(var T=3;T>=0;T--)h+=String.fromCharCode(iW>>T*8&255);
return h};b.au4=function(h){var iW=0;for(var T=h.length-1;T>=0;T--)iW|=h.charCodeAt(T)<<(3-T)*8;return iW};
b.indexOf=function(h,e,v,J){if(v==null)v=0;if(J==null)J=h.length;J=Math.min(J,h.length);for(var T=v;
T<J;T++)if(h[T]==e)return T;return-1};b.TE=function(h,e,v){if(v==null)v=0;var J=e.length,m=h.length-J;
if(typeof e=="string"){var d=[];for(var T=0;T<J;T++)d.push(e.charCodeAt(T));e=d}if(e.length>0){var x=e[0];
for(var T=v;T<m;T++)if(h[T]==x){var j=!0;for(var E=1;E<J;E++)if(e[E]!=h[T+E]){j=!1;break}if(j)return T}}return-1};
b.azy=function(h,e,v){var J=[],d="";while(e<v){var m=h[e++];if(m=="\\".charCodeAt(0))J.push(h[e++]);
else J.push(m)}for(var T=0;T<J.length;T+=2)d+=String.fromCharCode(J[T]<<8|J[T+1]);return d};b.adH=function(h,e,v){var J=new Uint8Array(2);
for(var T=0;T<v.length;T++){b.pu(J,0,v.charCodeAt(T));if(J[0]==")".charCodeAt(0)||J[0]=="(".charCodeAt(0)||J[0]=="\\".charCodeAt(0)){h[e]="\\".charCodeAt(0);
e++}h[e]=J[0];e++;if(J[1]==")".charCodeAt(0)||J[1]=="(".charCodeAt(0)||J[1]=="\\".charCodeAt(0)){h[e]="\\".charCodeAt(0);
e++}h[e]=J[1];e++}return e};b.a50=function(h,e,v){h.OQ(e,4*v.length);return b.adH(h.data,e,v)};b.qa=function(h,e,v){var J="";
for(var T=0;T<v;T++){var m=h[e++]|h[e++]<<8;J+=String.fromCharCode(m)}return J};b.Qr=function(h,e,v){var J="";
for(var T=0;T<v;T++){var m=h[e++]<<8|h[e++];J+=String.fromCharCode(m)}return J};b.apz=function(h,e,v){for(var T=0;
T<v.length;T++){var J=v.charCodeAt(T);b.Py(h,e+2*T,J)}};b.aDH=function(h,e,v){for(var T=0;T<v.length;
T++){var J=v.charCodeAt(T);b.pu(h,e+2*T,J)}};b.agS=function(h,e,v){h.OQ(e,2*v.length);b.aDH(h.data,e,v)};
b.aHK=function(h,T,e){var v=[],J=0,m=0;e+=T;while(T<e){J=h[T++];if((J&128)==0)m=J;else if((J&224)==192){m=(J&31)<<6;
J=h[T++];m|=J&63}else if((J&240)==224){m=(J&15)<<12;J=h[T++];m|=(J&63)<<6;J=h[T++];m|=J&63}else if((J&248)==240){m=(J&7)<<18;
J=h[T++];m|=(J&63)<<12;J=h[T++];m|=(J&63)<<6;J=h[T++];m|=J&63}else throw"e";v.push(m)}return v};b.a6v=window.TextDecoder?new window.TextDecoder("utf8"):null;
b.Is=function(h,e,v){if(e==null)e=0;if(v==null)v=h.length;if(b.a6v&&e==0&&v==h.length)return b.a6v.decode(h);
var J=b.aHK(h,e,v),m=J.length;for(var T=0;T<m;T++)J[T]=String.fromCharCode(J[T]);return J.join("")};
b.a0x=window.TextEncoder?new window.TextEncoder("utf8"):null;b.YQ=function(h){if(b.a0x)return b.a0x.encode(h);
var e=new Uint8Array(h.length*4),v=b.VC(h,e,0);return e.slice(0,v)};b.VC=function(h,e,v){var J=h.length,T=0;
for(var m=0;m<J;m++){var d=h.charCodeAt(m);if((d&4294967295-(1<<7)+1)==0){e[v+T]=d;T++}else if((d&4294967295-(1<<11)+1)==0){e[v+T]=192|d>>6;
e[v+T+1]=128|d>>0&63;T+=2}else if((d&4294967295-(1<<16)+1)==0){e[v+T]=224|d>>12;e[v+T+1]=128|d>>6&63;
e[v+T+2]=128|d>>0&63;T+=3}else if((d&4294967295-(1<<21)+1)==0){e[v+T]=240|d>>18;e[v+T+1]=128|d>>12&63;
e[v+T+2]=128|d>>6&63;e[v+T+3]=128|d>>0&63;T+=4}else throw"e"}return T};b.ys=function(h,e){var v=b.d$(h,e),J=b.Is(h,e+4,v-1);
return{eL:J,cw:4+v}};b.aDF=function(h,e){var v=b.bB(h,e),J=b.qa(h,e+4,v);return J};b.j0=function(h,e){var v=b.d$(h,e),J=b.Qr(h,e+4,v);
return J};b.ZA=function(h,e){var v=b.d$(h,e),J=b.Qr(h,e+4,v-1);return J};b.aa=function(h,e){var v=b.bB(h,e),J=b.qa(h,e+4,v-1);
return J};b.aB8=function(h,e,v){b.lz(h,e,v.length);e+=4;b.apz(h,e,v)};b.a1a=function(h,e,v){b.ft(h,e,v.length);
e+=4;b.aDH(h,e,v)};b.DI=function(h,e,v){h.OQ(e,4+2*v.length);b.a1a(h.data,e,v)};b.a0D=function(h,e,v){h.OQ(e,4+2*v.length);
b.aB8(h.data,e,v)};b.Ki=function(h,e,v){var J=[];for(var T=0;T<v;T++)J.push(String.fromCharCode(h[e+T]));
return J};b.al7=function(h,e,v){var J=!1,m=h.length-v.length;for(var T=e;T<m;T++){for(var d=0;d<v.length;
d++){if(h[T+d]!=v.charCodeAt(d))break;if(d==v.length-1)return T}}};b.Mg=function(h,e,v){var J=b.RZ(h,e,4);
if(v)J=J.split("").reverse().join("");return J};b.RZ=function(h,e,v){var J="";for(var T=0;T<v;T++)J+=String.fromCharCode(h[e+T]);
return J};b._z=function(h,e,v){for(var T=0;T<v.length;T++)h[e+T]=v.charCodeAt(T)};b.ey=function(h,e,v){h.OQ(e,v.length);
b._z(h.data,e,v)};b.aBs=function(h,e,v){var J="";for(var T=0;T<v;T++){var m=h[e+T];if(m<10)J+="  ";else if(m<100)J+=" ";
J+=m+", "}return J};b.hm=function(h,e){return h[e]<<8|h[e+1]};b.pu=function(h,e,iW){h[e]=iW>>8&255;h[e+1]=iW&255};
b.mb=function(h,e,iW){h.OQ(e,4);b.pu(h.data,e,iW)};b.Dx=function(h,e){var v=b.hm(h,e),J=b.hm(h,e+2);
return v+J*(1/65536)};b.aCq=function(h,e,iW){var v=Math.floor(iW),J=Math.floor((iW-v)*65536);b.pu(h,e,v);
b.pu(h,e+2,J)};b.B7=function(h,e){return h[e+1]<<8|h[e]};b.Py=function(h,e,iW){h[e+1]=iW>>8&255;h[e]=iW&255};
b.c7=function(h,e,iW){h.OQ(e,4);b.Py(h.data,e,iW)};b.WW=function(h,e){b.CY[0]=h[e+1];b.CY[1]=h[e];return b.rD[0]};
b.Iy=function(h,e){b.CY[0]=h[e];b.CY[1]=h[e+1];return b.rD[0]};b.dC=b.pu;b.CH=b.mb;b.Pp=function(h,e){b.Qq[0]=h[e+3];
b.Qq[1]=h[e+2];b.Qq[2]=h[e+1];b.Qq[3]=h[e];return b.Fd[0]};b.RH=function(h,e,iW){b.Fd[0]=iW;h[e+3]=b.Qq[0];
h[e+2]=b.Qq[1];h[e+1]=b.Qq[2];h[e+0]=b.Qq[3]};b.DY=function(h,e,iW){h.OQ(e,4);b.RH(h.data,e,iW)};b.XE=function(h,e,v,J){v[J+0]=h[e+0];
v[J+1]=h[e+1];v[J+2]=h[e+2];v[J+3]=h[e+3]};b.bB=function(h,e){b.XE(h,e,b.Qq,0);return b.ayX[0]};b.lz=function(h,e,iW){b.ayX[0]=iW;
b.XE(b.Qq,0,h,e)};b.rr=function(h,e,iW){h.OQ(e,4);b.lz(h.data,e,iW)};b.TB=function(h,e){b.XE(h,e,b.Qq,0);
return b.Fd[0]};b.apq=function(h,e,iW){b.Fd[0]=iW;b.XE(b.Qq,0,h,e)};b.afY=function(h,e,iW){h.OQ(e,4);
b.apq(h.data,e,iW)};b.d$=function(h,e){var v=h[e]*(256*256*256)+(h[e+1]<<16|h[e+2]<<8|h[e+3]);return v};
b.ft=function(h,e,iW){h[e]=iW>>24&255;h[e+1]=iW>>16&255;h[e+2]=iW>>8&255;h[e+3]=iW>>0&255};b.fM=function(h,e,iW){h.OQ(e,4);
b.ft(h.data,e,iW)};b.PF=function(h,e){return b.d$(h,e)<<32|b.d$(h,e+4)};b.aES=function(h,e,iW){b.ft(h,e,iW>>16>>16);
b.ft(h,e+4,iW&4294967295)};b.Uy=function(h,e,iW){h.OQ(e,8);b.aES(h.data,e,iW)};b.aho=function(h,e){return b.bB(h,e+4)|b.bB(h,e)<<32};
b.aN=function(h,e){var v=new Uint8Array(8);for(var T=0;T<8;T++)v[T]=h[e+7-T];var J=new Float64Array(v.buffer);
return J[0]};b.QA=function(h,e){var v=new Uint8Array(8);for(var T=0;T<8;T++)v[T]=h[e+T];var J=new Float64Array(v.buffer);
return J[0]};b.mh=function(h,e,iW){var v=new Float64Array(1);v[0]=iW;var J=new Uint8Array(v.buffer);
for(var T=0;T<4;T++){var m=J[T];J[T]=J[7-T];J[7-T]=m}for(var T=0;T<8;T++)h[e+T]=J[T]};b.I6=function(h,e,iW){h.OQ(e,8);
b.mh(h.data,e,iW)};b.SN=function(h,e){b.Qq[0]=h[e+3];b.Qq[1]=h[e+2];b.Qq[2]=h[e+1];b.Qq[3]=h[e+0];return b.$H[0]};
b.be=function(h,e){b.Qq[0]=h[e+0];b.Qq[1]=h[e+1];b.Qq[2]=h[e+2];b.Qq[3]=h[e+3];return b.$H[0]};b.Kp=function(h,e,iW){b.$H[0]=iW;
h[e+0]=b.Qq[3];h[e+1]=b.Qq[2];h[e+2]=b.Qq[1];h[e+3]=b.Qq[0]};b.aik=function(h,e,iW){h.OQ(e,4);b.Kp(h.data,e,iW)};
b.u1=function(h,e,iW){b.$H[0]=iW;h[e+0]=b.Qq[0];h[e+1]=b.Qq[1];h[e+2]=b.Qq[2];h[e+3]=b.Qq[3]};b.aFM=function(h,e,iW){h.OQ(e,4);
b.u1(h.data,e,iW)};b.a6R=function(h,e){var v=b.Pp(h,e),J=v*(1/(1<<24));return J};b.aDy=function(h,e){var v=b.TB(h,e),J=v*(1/(1<<24));
return J};b.aft=function(h,e,v){var J=Math.floor(v*(1<<24));b.RH(h,e,J)};b.aq$=function(h,e,v){h.OQ(e,4);
b.aft(h.data,e,v)};b.bD=function(h,e){var v=h[e],J=b.RZ(h,e+1,v);v+=1-v%2;return{De:J,length:v+1}};b.ab_=function(h,e,v){var J=v.length;
h[e]=J;b._z(h,e+1,v);if(J%2==0){h[e+1+J]=0;++J}return J+1};b.gP=function(h,e,v){h.OQ(e,v.length+2);return b.ab_(h.data,e,v)};
b.eI=function(h,e,v){var J=v?b.QA:b.aN,m=new aJ;m.DR=J(h,e+0*8);m.b=J(h,e+1*8);m.tg=J(h,e+2*8);m.l_=J(h,e+3*8);
m.TO=J(h,e+4*8);m.bZ=J(h,e+5*8);return m};b.Ux=function(h,e,v){b.mh(h,e+0*8,v.DR);b.mh(h,e+1*8,v.b);
b.mh(h,e+2*8,v.tg);b.mh(h,e+3*8,v.l_);b.mh(h,e+4*8,v.TO);b.mh(h,e+5*8,v.bZ)};b.abF=function(h,e,v){h.OQ(e,48);
b.Ux(h.data,e,v)};b.asx=function(h,e){var v=b.SN(h,e),J=b.SN(h,e+4),m=b.SN(h,e+8),d=b.SN(h,e+12);return new fP(v,J,m-v,d-J)};
b.az8=function(h,e,v){b.Kp(h,e,v.x);b.Kp(h,e+4,v.y);b.Kp(h,e+8,v.x+v.q);b.Kp(h,e+12,v.y+v._)};b.aCy=function(h,e,v){h.OQ(e,16);
b.az8(h.data,e,v)};b.gY=function(h,e,v){var J=v?b.TB:b.Pp,m=J(h,e),d=J(h,e+4),x=J(h,e+8),j=J(h,e+12);
return new fP(d,m,j-d,x-m)};b.ar$=function(h,e,v){b.RH(h,e,v.y);b.RH(h,e+4,v.x);b.RH(h,e+8,v.y+v._);
b.RH(h,e+12,v.x+v.q)};b.d3=function(h,e,v){h.OQ(e,16);b.ar$(h.data,e,v)};b.YR=function(h,e,v){var J=new Uint8Array(v);
for(var T=0;T<v;T++)J[T]=h[e+T];return J};b.aE$=function(h,e,v){h.set(v,e)};b.n5=function(h,e,v){h.OQ(e,v.length);
b.aE$(h.data,e,v)};b.aDO=function(h,e,v,iW){if(!iW)iW=1;for(var T=0;T<iW;T++)h[e+T]=v};b._e=function(h,e,v,iW){if(!iW)iW=1;
h.OQ(e,iW);b.aDO(h.data,e,v,iW)};b.rD=new Int16Array(1);b.CY=new Uint8Array(b.rD.buffer);b.Fd=new Int32Array(1);
b.ayX=new Uint32Array(b.Fd.buffer);b.Qq=new Uint8Array(b.Fd.buffer);b.$H=new Float32Array(b.Fd.buffer);
function i5(){}i5.kq=function(h,e){var v=new Uint8Array(h),J=0,m=b.RZ(v,J,9),j=4,E=100;J+=9;var d=b.RZ(v,J,4);
J+=4;J++;e.q=b.d$(v,J);J+=4;e._=b.d$(v,J);J+=4;var x=b.d$(v,J);J+=4;if(x!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(d)==-1){E=b.d$(v,J);J+=4;if(parseInt(d.slice(1))>=7){E=E}else alert("Unknown XCF version: "+d);
j=8}var L={};J=i5.aC(v,J,L);var p=[];J=i5.TA(v,J,p,j);var Z=[];J=i5.TA(v,J,Z,j);e.Kc=0;for(var T=0;T<p.length;
T++)i5.a4W(v,p[T],e,L,j,E);while(e.Kc>0){e.T.push(e.gB());e.Kc--}e.T.reverse();delete e.Kc;e.buffer=B.U(e.q*e._*4);
if(e.T.length==0)console.log("No layers!!!");for(var T=0;T<Z.length;T++){var o=i5.a33(v,Z[T],L,j,E);
if(o.$o[gG.aEN])e.K={G:o.xA,R:new fP(0,0,e.q,e._)}}};i5.a4W=function(h,e,v,J,m,d){var x=v.ws(),j=b.d$(h,e),Z=0;
e+=4;var E=b.d$(h,e);e+=4;x.R=new fP(0,0,j,E);var L=b.d$(h,e);e+=4;var p=b.ys(h,e);e+=p.cw;x.Ip(p.eL);
var o={};e=i5.aC(h,e,o);if(o[gG.az7]){var u=o[gG.az7];Z=u.length/4-1}if(o[gG.jt]){x.R.x=b.Pp(o[gG.jt],0);
x.R.y=b.Pp(o[gG.jt],4)}if(o[gG.aI8]){x.S2=b.d$(o[gG.aI8],0)}if(o[gG.akk]){x.add.lsct=d7.W$;x.IT=24}if(o[gG.auf]){var N=b.d$(o[gG.auf],0);
x.fR=gG.a4_[N];if(x.XN()&&x.fR=="norm")x.fR="pass"}if(o[gG.a5j]){if(b.d$(o[gG.a5j],0)==0)x.IT+=2}if(o[gG.au$]){var M=b.d$(o[gG.au$],0);
x.add.lsct=M&1==1?d7.W$:d7.kZ}if(o[gG.zd]){var O=o[gG.zd];for(var F in O){var W=O[F];if(F=="gimp-text-layer"){var f=i5.a4m(W),$=f.text,H=f.font,A=f.color,G=f["font-size"];
if($==null&&f.markup){var l=new DOMParser,K=l.parseFromString(f.markup,"image/svg+xml");while(K.firstChild!=null&&K.firstChild.tagName!=null){K=K.firstChild;
var U=K.getAttribute("font"),z=K.getAttribute("foreground"),q=K.getAttribute("size");if(U!=null)H=U;
if(z!=null){z=CSS.J3(z);A=[1,z.n/255,z.i/255,z.b/255]}if(q!=null){G=""+parseFloat(q)/245}}$=K.textContent}x.add.lnsr="rend";
x.add.TySh=fr.YI(0,0);x.add.TySh.dP=new fP(0,0,100,100);x.add.TySh.C=new aJ(1,0,0,1,x.R.x,x.R.y);var P=x.add.TySh.lf;
fr.hj(P,0,$);var g=fr.aX(P,0,0),a=f.justify,w=f["line-spacing"];if(A)g.zI.FillColor={Type:1,Values:[1,parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]};
if(G){G=Math.round(parseFloat(G));g.zI.FontSize=G;x.add.TySh.C.bZ+=Math.min(17,G*.17)}if(w){w=Math.round(parseFloat(w)+g.zI.FontSize*1.2);
g.zI.Leading=w;g.zI.AutoLeading=!1}if(a)g.UZ.Justification=["left","right","center","fill"].indexOf(a);
if(H&&H!="Sans-serif"){var y=H.toLowerCase(),S="bold italic semi extra regular condensed light".split(" "),i=y.length;
for(var T=0;T<S.length;T++){var C=y.indexOf(S[T]);if(C!=-1&&C<i&&y[C-1]==" ")i=C}if(i!=y.length)H=H.slice(0,i-1).split(" ").join("")+"-"+H.slice(i).split(" ").join("");
fr.wm(g,H)}fr.UE(P,0,$.length,g);var Y=f["box-width"],_=f["box-height"],t=Y?parseFloat(Y):x.R.q,I=_?parseFloat(_):x.R._;
fr.Ii(P,1);fr.Uv(P,[0,0,Math.ceil(t),Math.ceil(I)])}else console.log("Unknown property "+F)}}while(v.Kc>Z){v.T.push(v.gB());
v.Kc--}v.Kc=Z;if(x.add.lsct==d7.W$||x.add.lsct==d7.kZ)v.Kc++;var r=m==4?b.d$:b.PF,n=r(h,e);e+=m;var Q=r(h,e);
e+=m;if(x.t2()){x.buffer=B.U(x.R.$()*4);var D=new B.Em(x.R.$());i5.agz(h,n,D,J,m,d);B.VT(D,x.buffer)}if(Q!=0){x.N=new s.xK;
var dG=i5.a33(h,Q,J,m,d);x.N.G=dG.xA;x.N.R=x.R.O();if(o[gG.aff])x.N.isEnabled=b.d$(o[gG.aff],0)==1;x.N.color=x.N.G[0];
x.N.pE()}if(x.XN())x.R=new fP;v.T.push(x)};i5.a4m=function(h){var e="("+b.Is(h,0,h.length-1)+")",v=[],J={};
i5.aag(e,1,v);i5.aEH(v,J);return J};i5.aEH=function(h,e){for(var T=0;T<h.length;T++){var v=h[T],J=v[0];
if(v.length==2)e[J]=v[1];else e[J]=v.slice(1)}};i5.aag=function(h,e,v){while(!0){if(e>=h.length)throw"e";
var J=h.charAt(e);e++;if(J=="("){var m=[];e=i5.aag(h,e,m);v.push(m)}else if(J==" "||J=="\n"||J=="\r"){}else if(J==")")return e;
else if(J=="\""){var d=e;while(!0){var x=h[e];e++;if(x=="\"")break;if(x=="\\")e++}v.push(JSON.parse(h.slice(d-1,e)))}else{var d=e-1;
while(h[e]!=" "&&h[e]!=")")e++;v.push(h.slice(d,e))}}};i5.a33=function(h,e,v,J,m){var d=b.d$(h,e);e+=4;
var x=b.d$(h,e);e+=4;var j=b.ys(h,e);e+=j.cw;var E={};e=i5.aC(h,e,E);var L=new B.Em(d*x),p=J==4?b.d$:b.PF,Z=p(h,e);
e+=J;i5.agz(h,Z,L,v,J,m);return{xA:L.n,$o:E}};i5.agz=function(h,e,v,J,m,d){var x=b.d$(h,e);e+=4;var j=b.d$(h,e);
e+=4;var E=b.d$(h,e);e+=4;var L=m==4?b.d$:b.PF,p=L(h,e);e+=m;i5.aHI(h,p,v,J,E,m,d)};i5.aHI=function(h,e,v,J,m,d,x){var j=b.d$(h,e),p=0,T=0;
e+=4;var E=b.d$(h,e);e+=4;var L=new fP(0,0,j,E);if(x==100||x==150)p=1;else if(x==200||x==250)p=2;else if(x==300||x==350)p=4;
else if(x==500||x==550)p=2;else if(x==600||x==650)p=4;else if(x==700||x==750)p=8;else{alert("unsupported bit depth "+x);
throw"e"}var Z=m/p,p=Math.round(m/Z),o=[];e=i5.TA(h,e,o,d);var u=new B.Em(64*64*p),N=new fP,M=J[gG.alU][0],O=[u.n,u.i,u.b,u.DR];
if(Z==3)u.DR.fill(255);var F=Date.now();if(o.length!=0)for(var W=0;W<E;W+=64)for(var f=0;f<j;f+=64){var $=Math.min(j-f,64),H=Math.min(E-W,64),A=$*H;
N.Cg(f,W,$,H);i5.a2o(h,o[T++],A*p,M,Z,O);if(x==100||x==150){}else if(x==250){for(var G=0;G<Z;G++){var l=O[G];
for(var K=0;K<A;K++){var U=l[K]<<8|l[A+K];l[K]=Math.min(U>>>8,255)}}}else if(x==600){var z=i5.aGZ(),q=new Uint32Array(1),P=new Float32Array(q.buffer);
for(var G=0;G<Z;G++){var l=O[G];for(var K=0;K<A;K++){q[0]=l[K]<<24|l[A+K]<<16|l[(A<<1)+K]<<8|l[(A<<1)+A+K]<<0;
var a=P[0];if(a<0)a=0;else if(a>1)a=1;l[K]=z[~~(.5+a*1e3)]}}}else console.log("unknown data format",x);
B.LA(u,N,v,L)}};i5.aGZ=function(){var h=i5.av4;if(h!=null)return h;h=i5.av4=new Uint8Array(1001);for(var T=0;
T<1001;T++)h[T]=~~(.49+255*B.sq(T*.001));return h};i5.a2o=function(h,e,v,J,m,d){if(J==1){for(var x=0;
x<m;x++){var j=d[x],E=0;while(E<v){var iW=h[e];e++;if(iW<127){var L=h[e];e++;iW++;for(var T=0;T<iW;T++)j[E+T]=L}else if(iW==127){var p=h[e];
e++;var Z=h[e];e++;var L=h[e];e++;iW=p<<8|Z;for(var T=0;T<iW;T++)j[E+T]=L}else if(iW==128){var p=h[e];
e++;var Z=h[e];e++;iW=p<<8|Z;for(var T=0;T<iW;T++)j[E+T]=h[e+T];e+=iW}else{iW=256-iW;for(var T=0;T<iW;
T++)j[E+T]=h[e+T];e+=iW}E+=iW}}}else if(J==2){var o=pako.inflate(h.slice(e)),u=Math.round(o.length/v);
for(var T=0;T<v;T++){var N=T*u;d[0][T]=o[N];d[1][T]=o[N+1];d[2][T]=o[N+2];d[3][T]=u==3?255:o[N+3]}}else alert("Unknown compression "+J)};
i5.TA=function(h,e,v,J){var m=J==4?b.d$:b.PF;while(!0){var d=m(h,e);e+=J;if(d==0)break;else v.push(d)}return e};
i5.aC=function(h,e,v){while(!0){var J=b.d$(h,e);e+=4;var m=b.d$(h,e);e+=4;if(J==gG.aAU)break;else if(J==gG.zd)v[J]=i5.aHt(h,e,e+m);
else v[J]=b.YR(h,e,m);e+=m}return e};i5.aHt=function(h,e,v){var J={};while(e<v){var m=b.ys(h,e);e+=m.cw;
var d=b.d$(h,e);e+=4;if(d!=1)console.log("unknown flags",d);var x=b.d$(h,e);e+=4;J[m.eL]=b.YR(h,e,x);
e+=x}return J};var gG={aAU:0,ajk:1,amV:2,a91:3,aEN:4,ar7:5,aI8:6,auf:7,a5j:8,al9:9,anS:10,aff:11,adK:12,aiI:13,a0s:14,jt:15,aqc:16,alU:17,aFg:18,apQ:19,aq2:20,zd:21,aCj:22,auw:23,aAr:24,az5:25,aEJ:26,a0P:27,aEz:28,akk:29,az7:30,au$:31,azd:32,afG:33,aC1:34,aER:35,a8o:36,a5V:37,a90:38,azV:0,asj:1,ak1:2,aHx:3,aeu:1,a0L:2,aEW:0,aFW:1,aq_:1};
gG.a4_="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jF=function(){var h=!1,e,v,F=0,$;function J(){var G=b.RZ(e,v,4);v+=4;return G[3]+G[2]+G[1]+G[0]}function m(){var G=b.RZ(e,v,4);
v+=4;return G}function d(){var G=e[v];v+=1;return G}function x(){var G=b.B7(e,v);v+=2;return G}function j(){var G=b.bB(e,v);
v+=4;return G}function E(){var G=b.TB(e,v);v+=4;return G}function L(){var G=b.bB(e,v);v+=8;return G}function p(){var G=b.be(e,v);
v+=4;return G}function Z(){var G=b.QA(e,v);v+=8;return G}function o(){var G=b.B7(e,v),l=b.Is(e,v+2,G);
v+=2+G;return l}function u(){var G=b.bB(e,v),l=b.Is(e,v+4,G);v+=4+G;return l}function N(G){v=G;var l=[];
while(v!=0){var K=m();if(K!="#FT4"&&K!="#FT3"&&K!="#FT2")throw K;var U=L(),z=L(),q=L(),P=L(),g=L(),a=j(),w=j(),y=j(),S=x(),i=d(),C={};
l.push(C);for(var T=0;T<a;T++){var Y=j(),_=d();if(_!=0&&_!=1&&_!=2)throw _;var t=[];if(_==0||_==1){var I=L(),r=L(),n=L(),Q=j(),D=d(),dG=j(),R=K!="#FT4"?0:j(),X=null;
if(K=="#FAT"||K=="#FT2"){switch(D){case 1:D=1;break;case 2:D=65;break;case 3:D=129;break;case 4:D=193;
break;default:D=0;break}}if(_==0)X=o();t=[I,r,n,D,X]}C["i"+Y]=[_,t]}for(var T=0;T<S;T++){var dx=x(),jv=x(),gB=L(),hQ=b.RZ(e,v,dx);
v+=dx}v=U}l.reverse();for(var ah=1;ah<l.length;ah++){var C=l[ah],kG=l[ah]=B.t(l[ah-1]);for(var iZ in C){var bs=C[iZ];
if(bs[0]==0)kG[iZ]=bs;else if(bs[0]==1){bs[1][4]=kG[iZ][1][4];kG[iZ]=bs}else if(bs[0]==2)delete kG[iZ]}}var ey=l.pop(),jp=[];
for(var iZ in ey)jp.push(ey[iZ][1]);jp.sort(function(eh,dt){return eh[0]-dt[0]});return jp}function M(G,l,K,U){while(v<e.length){var z=d(),a=null;
if(z==0){if(U){var q=d();if(q!=2){var P=J()}if(q==0)v+=4;U=!1;continue}else{break}}var g=J();if(h)console.log("  ".repeat(l),z,z&127,g,G._type);
if(z>127)a=O(z,l,K);else a=W(z,l,K);if(h)console.log("  ".repeat(l),a);G[g]=a}}function O(G,l,K){var U=[];
G=G&127;if(G==43)v+=4;var z=j();if(G==50){var q=J(),P=x();if(P!=1)throw"e";for(var T=0;T<z;T++){var g={_status:"NotShared",_type:q};
U.push(g);var a=d();if(a!=0&&a!=1)throw a;M(g,l+1,K)}}else if(G==41){if(z>8)throw z;for(var T=0;T<z;
T++)U.push((e[v]>>>T&1)==1);v++}else for(var T=0;T<z;T++){U.push(W(G,l,K,T!=0));if(G==42)G=2}return U}function W(G,l,K,U){var z=null;
if(G==49){z={};var q=d();if(q!=0){var P=j();if(K==null){z._id=P;z._status=["Shared","Link"][q-1]}if(K&&q==2)z=K[P];
if(q==1){if(K)K[P]=z;var g=d(),a=!1;if(g>1)throw g;z._type=J();if(h)console.log("  ".repeat(l),"new",z._type,g,v);
if(g==0){while(!0){var w=x();if(w!=0&&w!=1&&w!=2&&w!=3&&w!=4)throw w;if(e[v]!=0){a=!0;break}var y=x();
if(y==512)break;var S=J();if(y==256)break}}M(z,l+1,K,a)}}}else if(G==50){z={_status:"NotShared"};if(d()==1){z._type=J();
v+=2;M(z,l+1,K)}}else if(G==1)z={type:"byte",value:d()};else if(G==2)z={type:"uint16",value:x()};else if(G==3)z={type:"uint32",value:j()};
else if(G==4)z={type:"uint64",value:L()};else if(G==7)z={type:"int32",value:E()};else if(G==8)z={type:"int64",value:L()};
else if(G==9)z={type:"float32",value:p()};else if(G==10)z={type:"float64",value:Z()};else if(G==21)z={type:"Vec2i",value:[j(),j()]};
else if(G==23)z={type:"Vec4i",value:[j(),j(),j(),j()]};else if(G==33)z={type:"Vec4f",value:[p(),p(),p(),p()]};
else if(G==36)z={type:"Vec2",value:[Z(),Z()]};else if(G==38)z={type:"Vec4",value:[Z(),Z(),Z(),Z()]};
else if(G==40)z={type:"Vec6",value:[Z(),Z(),Z(),Z(),Z(),Z()]};else if(G==41)z={type:"bool",value:d()!=0};
else if(G==42)z={type:"Enum",value:j()};else if(G==43)z={type:"string",value:u()};else if(G==44){if(U!=!0)F=x();
z={type:"curv16",value:[Z(),F==12?[d(),d(),d(),d()]:[j(),j()]]}}else if(G==45){var i=j();z={type:"buff",value:e.slice(v,v+i)};
v+=i}else if(G==47){z={type:"uint32",value:j()}}else if(G==48){var C=[],Y=x();if(Y!=1)throw Y;while(!0){if(e[v]==135){var _=O(d(),l+1,K),t=O(d(),l+1,K),I=O(d(),l+1,K);
C.push([_,t,I])}else{var r=1;if(e[v]==3){d();r=j()}for(var T=0;T<r;T++){if(d()!=41)throw"e";var P=d();
if(P!=0&&P!=1)throw P;if(d()!=172)throw"e";var n=j(),Q=x(),D=[];C.push(D);if(Q!=18)throw Q;if(n>4e3)throw n;
for(var dG=0;dG<n;dG++)D.push([Z(),Z(),d(),d()])}}if(e[v]==0){v++;break}}z={type:"curve",value:C}}else if(G==51){z={type:"EmbeddedData"};
z[J()]=u()}else if(G==52)z={type:"uint32",value:j()};else if(G==56)z={type:"Color32",value:[d(),d(),d(),d()]};
else if(G==60)z={type:"ColorGRAY",value:[p(),p()]};else if(G==68)z={type:"ColorRGBA",value:[p(),p(),p(),p()]};
else if(G==72)z={type:"ColorCMYK",value:[p(),p(),p(),p(),p()]};else{throw G}return G==49||G==50||G==51?z:z.value}function f(G){var l=0,K=G.length;
for(var T=0;T<K;T+=4){G[T]=l=l+G[T];G[T+1]=l=l+G[T+1];G[T+2]=l=l+G[T+2];G[T+3]=l=l+G[T+3]}}function H(G){e=G;
v=4;var l=j(),K=m();if(K!="nsrP")throw K;var K=m();if(K!="#Inf")throw K;var U=L();$=L();var z=L(),q=L(),P=L(),g=j(),a=j(),K=m();
if(K!="Prot")throw K;var g=j(),w=N(U),y={},S=Date.now();for(var i=0;i<w.length;i++){var C=w[i],Y=C[3],n=null;
v=C[0];var K=m();if(K!="#Fil")throw K;var _=Y>>>5&1,t=Y&3,I=Y&192;switch(I){case 64:I=1;_=0;break;case 128:I=2;
break;case 192:I=3;break;default:I=0;_=0}var r=new Uint8Array(e.buffer,v,C[2]);if(t==0)n=r;else if(t==1)n=pako.inflate(r);
else if(t==2)n=gI.Bf.y8(r,C[1]);else throw t;if(_==0){if(I==1)f(n);if(I==2)throw"e"}else if(_==1){if(I==2)f(n);
else throw I}else throw _;y[C[4]]=n}return y}function A(G){var l=H(new Uint8Array(G));e=l["doc.dat"];
v=16;var K={};M(K,0,[]);return[l,K,$]}return{aAx:A}}();function gg(){}gg.kq=function(){function h(M,O){var F=Date.now(),W=jF.aAx(M),f=W[0],$=W[1],H=W[2],A=$.DocR,G=A.DfSz,l=A.Chld;
if(l.length!=1)console.log(l);var K=l[0],U=K.SprB;l=K.Chld;if(U){O.q=~~U[2];O._=~~U[3]}else{O.q=1920;
O._=1080}O.buffer=B.U(O.q*O._*4);var z=[0,{}];for(var T=0;T<l.length;T++)d(l[T],O,f,new aJ,z,[],0);O.pG(z[0]);
console.log(Date.now()-F,"Document created");F=Date.now()}function e(M){return new aJ(M[0],M[3],M[1],M[4],M[2],M[5])}function v(M,O){var F=O.Xfrm;
F=F?e(F):new aJ;F.concat(M);return F}function J(M){var O={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[M];
return O?O:"norm"}function m(M,O){var F=M[O],W=M.DsMa;if(F==null&&W)F=W[O];return F}function d(M,O,F,W,f,$,H){var A=M._type,G=M.Chld,l=O.ws();
l.Ip(M.Desc==null||M.Desc==""?A=="Grup"?"Folder":"Layer":M.Desc);var K=m(M,"Visi");if(K!=null)l.nP(K);
var U=m(M,"Opac");if(U!=null)l.S2=Math.round(255*U);var z=m(M,"FOpc");if(z!=null)l.add.iOpa=Math.round(255*z);
var q=m(M,"Blnd");if(q!=null)l.fR=J(q);if(M.BFFl&&M.BFFl[0])$.push(M.BFFl[0]);var P=v(W,M),g=A=="ShpN"||A=="PCrv";
if(G){O.T.push(O.gB());l.add.lsct=d7.W$;if(l.fR=="norm")l.fR="pass";l.IT=24;if(K!=null)l.nP(K);if(A=="ShpN"&&H==0){var a=M.ShpB;
l.B9(new fP(a[0]+P.TO,a[1]+P.bZ,Math.round(P.DR*(a[2]-a[0])),Math.round(P.l_*(a[3]-a[1]))));f[0]++;l.add.artb.Clr={t:"Objc",v:B.Vh.WZ({n:255,i:255,b:255})};
var w=$[0];for(var T=0;T<$.length;T++)if($[T].FDeF._type!="FilN")w=$[T];if(w.FDeF._type=="FilS"){l.add.artb.Clr=L(w.FDeF.Colr);
l.add.artb.artboardBackgroundType.v=4}}var y=M.Shpe?M:null;if(y==null)y=M.DsMa&&M.DsMa.Shpe?M.DsMa:null;
if(y){var S=j(y);if(S.z.length!=7){l.add.vmsk=S;B.s.Ma(S.z,P);l.d6();l.vT(O)}}for(var T=0;T<G.length;
T++)d(G[T],O,F,P,f,$,H+1)}else if(A=="Rstr"||A=="ImgN"||A=="MRst"){var i=m(M,"Bitm"),C=i.Bckg,Y=Date.now(),_;
if(C==null){_=Z(i,F,f[1]);l.R=_[2].O();l.buffer=_[1].slice(0);l.R.x+=P.TO;l.R.y+=P.bZ}if(C||P.n$()!=1){var t,I=0,r=0;
if(C){var n=F[C.Data],Q=b.TE(n,"ataD")+4,D=b.bB(n,Q);Q+=4;t=n.slice(Q,Q+D)}else{I=l.R.x-P.TO;r=l.R.y-P.bZ;
if(_[3]==null)_[3]=new Uint8Array(gI.g6("PNG").oZ([[l.buffer.buffer]],l.R.q,l.R._));t=_[3].slice(0)}var dG=O.dz(t,l.getName(),0,0);
dG.IT=l.IT;dG.S2=l.S2;l=dG;var R=new aJ;R.translate(I,r);R.concat(P);var X=l.R.O();X.x=X.y=0;var dx=B.w.Tp(X).g;
B.w.C(dx,R,dx);l.add.SoLd.Trnf=c.L2.ni(dx);l.add.SoLd.nonAffineTransform=c.L2.ni(dx);l.eW(O,!1)}}else if(A=="TxtA"||A=="TxtF"){l.add.lnsr="rend";
l.add.TySh=fr.YI(0,0);l.add.TySh.dP=new fP(0,0,100,100);var jv=M.TxtH?M:M.DsMa,gB=jv.TxtH.FrmB,hQ=1,ah=1,kG=l.add.TySh.C=new aJ,eh=0;
kG.translate(gB[0],gB[1]);kG.concat(P);if(A=="TxtF"){var iZ=Math.atan2(-kG.b,kG.DR);kG.rotate(-iZ);hQ=kG.DR;
ah=kG.l_;kG.l_=kG.DR=1;kG.rotate(iZ)}var bs=l.add.TySh.lf,ey=jv.StSt;if(ey==null)ey=jv.StMa.StSt;var jp=ey.Blok;
if(jp.length!=1)throw"e";for(var dt=0;dt<jp.length;dt++){var jN=jp[dt],jX=eh,jw=0,i7=jN.Glyp.Utf8;if(i7==null)continue;
i7=i7.replace(/\u2028/g,"\n");i7=i7.replace(/\u2029/g,"\n");i7=i7.slice(0,i7.length-1);if(i7=="")continue;
l.Ip(i7.slice(0,255));fr.hj(bs,eh,i7);eh+=i7.length;var kn=jN.GAtt.Runs,eK=jN.PAtt.Runs[0],ee=eK.Item.Ints[0];
for(var az=0;az<kn.length;az++){var k7=kn[az],al=k7.Indx,kl=k7.Item,b9=kl.Objs,h9=fr.aX(bs,jX,1);h9.UZ.Justification=ee==0?0:ee==1?2:1;
fr.wm(h9,kl.DFnt.Post);h9.zI.FontSize=kl.Doub[0];for(var T=0;T<b9.length;T++){var ge=b9[T];if(ge._type=="FDsc"){var iN=ge.FDeF;
if(iN._type=="FilS"){var a8=p(iN.Colr);h9.zI.FillColor={Type:1,Values:[1,a8[0],a8[1],a8[2]]}}}}fr.UE(bs,jX+jw,jX+Math.min(al,i7.length),h9);
jw=al}}fr.Ii(bs,1);fr.Uv(bs,[0,0,Math.round((gB[2]-gB[0])*hQ*1.02),Math.round((gB[3]-gB[1])*ah*1.2)]);
O.cj=!0}else if(g){l.IT|=16;var dK=l.add.vstk=fL.gL.UX(!0),S=l.add.vmsk=j(M);B.s.Ma(S.z,P);var w=$[0];
for(var T=0;T<$.length;T++)if($[T].FDeF._type!="FilN")w=$[T];if(w){var f6=w.FDeF,fS=f6._type;if(fS=="FilS")l.add.SoCo={classID:"null",Clr:L(f6.Colr)};
else if(fS=="FilG"){var cf=l.add.GdFl=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]);E(w,cf,B.s.jd(S.z))}else if(fS=="FilN"){l.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}};
dK.fillEnabled.v=!1}else console.log(fS)}if(M.LILn){var iG=M.LILn[0].LDeL,eC=iG.Wght;if(eC!=0){dK.strokeEnabled.v=!0;
dK.strokeStyleLineWidth.v.val=eC;var f6=M.LIFl[0].FDeF,fS=f6._type;if(fS=="FilS")dK.strokeStyleContent.v.Clr=L(f6.Colr);
else if(fS=="FilN")dK.strokeEnabled.v=!1}}l.d6();l.vT(O)}else if(A=="RcRA"){var kH=M.AdjP,i0="hue2",e5=l.add[i0]=f8.UX(i0);
x(e5,kH)}else console.log(A);var gA=M.AdCh,bW=[];if(gA)for(var T=0;T<gA.length;T++){var e3=gA[T],iL=e3._type;
if(iL=="ShpN"||iL=="PCrv"){var S=l.add.vmsk=j(e3),h4=v(P,e3);B.s.Ma(S.z,h4);l.d6();l.vT(O)}else if(e3.AdjP){var kH=e3.AdjP,iT=kH._type;
console.log(iT);var hC={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[iT];
if(hC==null){console.log(kH);continue}var dS=f8.BN(hC,{});bW.push(dS);var e5=dS.v.Fltr.v;if(iT=="LevP"){var il=a4.GT(e5,0);
il[0]=kH.OutB*255;il[1]=kH.OutW*255;a4.mm(e5,0,il)}else if(iT=="WhBP"){var il=a4.GT(e5,2);il[4]=100+kH.WBTi*20;
a4.mm(e5,2,il);var il=a4.GT(e5,3);il[4]=100+kH.WBTi*200;a4.mm(e5,3,il)}else if(iT=="HSSP"){var il=bb.GT(e5,0);
il[0]=Math.round(kH.HueA*256);il[1]=Math.round(kH.SatA*256);il[2]=Math.round(kH.LumA*256);bb.mm(e5,0,il)}else if(iT=="RecP"){x(e5,kH)}else if(iT=="B&CP"){e5.Brgh.v=Math.round(kH.Brig*100);
e5.Cntr.v=Math.round(kH.Ctrs*100-100)}else if(iT=="PosP"){e5.Lvls.v=kH.Post}else if(iT=="VibP"){e5.vibrance.v=kH.Vibr-100;
e5.Strt.v=Math.round(kH.Satu*100)}else if(iT=="ExpP"){e5.Exps.v=kH.Expo;e5.gammaCorrection.v=kH.Gamm/2.2}else if(iT=="ThrP"){e5.Lvl.v=Math.round(kH.Thre*255)}else if(iT=="CrvP"){var i6=kH.Mast["Cnt "],co=kH.Mast.Vals,il=fZ.GT(e5,0),bH=il[0];
for(var b5=0;b5<i6;b5++){var ej=il[b5]=B.t(bH);ej.v.Hrzn.v=Math.round(co[b5]*255);ej.v.Vrtc.v=Math.round(co[4+b5]*255)}fZ.mm(e5,0,il)}}else console.log(e3)}if(bW.length!=0&&l.add.SoLd){l.add.SoLd.filterFX=f8.Tw();
O.eF({id:l.add.SoLd.placed.v,R:new fP,buffer:B.U(1),N:new s.xK});l.add.SoLd.filterFX.v.filterFXList.v=bW;
l.eW(O,!1)}var id=M.FiEf;if(id&&id.length!=0){var dH=l.add.lmfx=JSON.parse(fL.default);for(var T=0;T<fL.order.length;
T++)dH[fL.oN[T]]={t:"VlLs",v:[]};for(var hA=0;hA<id.length;hA++){var fn=id[hA],d3=fn._type,iF={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[d3],cf=iF?JSON.parse(fL.JC[fL.order.indexOf(iF)]):null,hF=1;
if(d3=="ColO"){cf.Clr=L(fn.Colr)}else if(d3=="GrdO"){E(fn.GrFl,cf)}else if(d3=="Shad"||d3=="InnS"||d3=="OutG"||d3=="InnG"){cf.Clr=L(fn.Colr);
cf.blur.v.val=Math.round(fn.Radi);var bz=fn.Comp;if(bz!=null){if(bz>.5)hF=1-.5*(bz-.5);else cf.Ckmt.v.val=Math.round(100*(.5-bz))}if(fn.Offs!=null){cf.Dstn.v.val=fn.Offs;
cf.lagl.v.val=Math.round(180-fn.Angl*180/Math.PI);cf.uglg.v=!1}}else if(d3=="Strk"){if(fn.Ftyp==0)cf.Clr=L(fn.Colr);
else{E(fn.GrFl,cf);cf.PntT.v.FrFl="GrFl"}cf.Sz.v.val=Math.round(fn.Radi)}else if(d3=="PhgB"||d3=="BevE"){cf.blur.v.val=Math.round(fn.Radi);
if(d3=="BevE")cf.bvlS.v.BESl="PlEb"}else if(d3=="Gaus"){if(g&&fn.Enab){l.add.vmsk.jC=fn.Radi/2.4;l.add.vmsk.c8=!0;
l.d6();l.vT(O)}}if(iF){cf.enab.v=fn.Enab;if(cf.Md&&fn.BlnM!=null)cf.Md.v.BlnM=cc.e_(J(fn.BlnM));if(cf.Opct&&fn.Opac!=null)cf.Opct.v.val=Math.round(hF*fn.Opac*100);
var hN=fL.oN[fL.order.indexOf(iF)];dH[hN].v.unshift({t:"Objc",v:cf})}}}if(M.BFFl&&M.BFFl[0])$.pop();
O.T.push(l)}function x(M,O){M.Clrz.v=!0;var F=bb.GT(M,0);F[0]=Math.round(O.RecH*360);F[1]=Math.round(O.RecS*100);
F[2]=Math.round(O.RecL*100);bb.mm(M,0,F)}function j(M){var O=new s.eo,F=M._type;if(M.ShpB==null&&M.Crvs==null)M=M.DsMa;
if(F=="PCrv"){var W=M.Crvs.Data,f=[],$=[];for(var T=0;T<W.length;T++){var H=W[T],A=H.length%3;if(A!=1){H=A==2?H[0][2]!=0?H.slice(0,H.length-1):H.slice(1):H.slice(1,H.length-1)}for(var G=0;
G<H.length;G++){var l=H[G],K=l[2];if(K!=0)f.push(G==0?"M":"C");$.push(l[0],l[1])}}O.z=B.w.GJ({g:$,WQ:f},!0)}else{var U=M.ShpB,z=M.Shpe,q=z._type,P=U[2]-U[0];
if(q=="ShpE"){O.z=B.s.z0.FO(U[0],U[1],U[2]-U[0],U[3]-U[1])}else if(q=="ShNR"){var g=[0,0,0,0];if(z.CTyp){g=z.ShCR.slice(0);
for(var T=0;T<4;T++)g[T]*=U[2]-U[0];for(var T=1;T<4;T++)g[T]=g[0]}O.z=B.s.z0.Rect(U[0],U[1],U[2]-U[0],U[3]-U[1],g)}else if(q=="ShpT"){O.z=B.w.GJ({WQ:["M","L","L","Z"],g:[U[0],U[3],U[2],U[3],U[0]+P*.5,U[1]]},!0)}else if(q=="ShTz"){O.z=B.w.GJ({WQ:["M","L","L","L","Z"],g:[U[0]+P*z.PosL,U[1],U[0]+P*z.PosR,U[1],U[2],U[3],U[0],U[3]]},!0)}else{console.log("--",q);
O.z=B.s.z0.Rect(U[0],U[1],U[2]-U[0],U[3]-U[1],[0,0,0,0])}}return O}function E(M,O,F){var W=M.FDeF,f=M.FDeX;
if(f)f=e(f);var $=W.Grad,H=$.Cols;O.Type.v.GrdT=W.Type==0?"Lnr":"Rdl";var A=[];for(var T=0;T<H.length;
T++){var G=p(H[T]);A.push([$.Posn[T][0],G])}O.Grad.v.Intr.v=0;B.Vh.Q_(A,O.Grad.v);var l=$.Posn,K=new fq(l[0][0],l[0][1]),U=new fq(l[1][0],l[1][1]);
if(f){var z=new aJ;if(F==null)z.translate(-.5,-.5);z.concat(f);if(F==null)z.translate(.5,.5);K=z.w7(K);
U=z.w7(U)}if(W.Type==0)K=new fq((K.x+U.x)/2,(K.y+U.y)/2);B.Vh.Xf(K,U,F?F:new fP(0,0,1,1),O)}function L(M){var O=p(M);
return{t:"Objc",v:B.Vh.WZ({n:O[0]*255,i:O[1]*255,b:O[2]*255})}}function p(M){var O=M._col,F=M._type;
if(F=="HSLA"){var W=B.aP(O[0],O[1],O[2]);return[W.n,W.i,W.b,O[3]]}else if(F=="RGBA")return O;else if(F=="CMYK")return B.VG(O);
else if(F=="GRAY")return[O[0],O[1],O[2]];else if(F=="Pant")return M.srgb._col;else{console.log(O);throw F}}function Z(M,O,F){var W=M.Frmt,a="";
if(W!=0&&W!=1&&W!=4&&W!=6)throw W;var f=M.BmpW,$=M.BmpH,H=W==1?128:256,A=W==4?5:W==0||W==1?4:1,G=Math.ceil(f/H),l=Math.ceil($/256),K=new fP(0,0,G,l),U=new fP;
for(var T=0;T<A;T++){var z=new Uint8Array(M["Sta"+(T+1)]);for(var q=0;q<z.length;q++)if(z[q]==1)z[q]=0;
var P=B.sH(z,K);U=U.R$(P)}var g=[];for(var T=0;T<A;T++){var z=new Uint8Array(M["Sta"+(T+1)]),w=B.U(U.$());
B.Ww(z,K,w,U);g[T]=[];for(var q=0;q<w.length;q++)g[T][q]=w[q];a+=JSON.stringify(g[T])+","+JSON.stringify(M["Idx"+(T+1)])+","}if(F[a]==null){var y=U.q*H,S=U._*256,i=new Array(A);
for(var T=0;T<A;T++){var z=i[T]=new Uint8Array(y*S);o(z,M["Idx"+(T+1)],g[T],O,y,S,H)}var C=B.U(y*S*4);
if(W==0||W==1)B.VT({n:i[0],i:i[1],b:i[2],DR:i[3]},C);else if(W==4){for(var T=0;T<i[0].length;T++){var Y=T*4,_=i[0][T]*(1/255),t=i[1][T]*(1/255),I=i[2][T]*(1/255),r=i[3][T]*(1/255),n=UDOC.C.cmykToRgb([_,t,I,r]);
C[Y]=n[0]*255;C[Y+1]=n[1]*255;C[Y+2]=n[2]*255;C[Y+3]=i[4][T]}}else{C.fill(255);B.WS(i[0],C)}var Q=new fP(0,0,y,S),D={buffer:C,R:Q};
B.ZI(D);F[a]=[D.R,D.buffer]}var P=F[a][2]=F[a][0].O();P.x+=U.x*H;P.y+=U.y*256;return F[a]}function o(M,O,F,W,f,$,H){var A=0,G=f>>>(H==256?8:7),l=$>>>8;
for(var K=0;K<l;K++)for(var U=0;U<G;U++){var z=U*H,q=K*256,P=K*G+U,g=q*f+z,a=F[P];if(a<=1){}else if(a==2)u(M,g,255,f,H,256);
else if(a==4){var w=O[A];A++;var y=W[w.Data.DatI],S=w.Rect;if(S==null)S=[0,0,H,256];N(M,(q+S[1])*f+z+S[0],y,S[1]*H+S[0],f,H,S[2]-S[0],S[3]-S[1])}else console.log(a)}}function u(M,O,F,W,f,$){var H=O+W*$;
for(;O<H;O+=W){var A=O+f;for(var G=O;G<A;G++){M[G]=F}}}function N(M,O,F,W,f,$,H,A){var G=O+f*A,l=W+$*A;
for(;O<G&&W<l;O+=f,W+=$){for(var T=0;T<H;T++)M[O+T]=F[W+T]}}return h}();function c0(){}c0.kq=function(h,e){var v=c0,J=fs.parse(h),d=0;
if(J.pages.length>1)console.log(J.pages.length,"pages");var m=[],x=new fP;for(var j=0;j<J.pages.length;
j++){var E=J.pages[j],L=E.layers,p=v.oS(L,j),o=!1;if(p.$()>8e3*8e3||p.q>3e4||p._>3e4){v.aEk(L,!0);var Z=v.oS(L,j);
if(Z.$()>=p.$())v.aEk(L,!1)}p=v.oS(L,j);for(var u=0;u<L.length;u++){var N=L[u];if(v.t8(N)=="artboard")o=!0}if(!o){console.log("no artboard");
var M={};for(var O in E)M[O]=E[O];M._class="group";E.layers=[M]}m.push(p.O());if(p.EG())continue;p.x=0;
p.y=d;d+=p._+200;x=x.R$(p)}var F={};if(J.foreignSymbols)for(var T=0;T<J.foreignSymbols.length;T++){var W=J.foreignSymbols[T].symbolMaster;
F[W.symbolID]={D4:W}}v.ayr(J.pages,F,e);for(var f in F){var N=F[f].D4,$=v.atu(N.layers)}var H=c0.Pn(x,8192*8192);
e.cj=!0;e.q=Math.round(x.q/H);e._=Math.round(x._/H);e.buffer=B.U(e.q*e._*4);e.pG(J.pages[0].layers.length);
e.QZ={};e.xl=[];d=0;for(var j=0;j<J.pages.length;j++){var A=J.pages[j],p=m[j],G=new aJ(H,0,0,H,p.x,p.y-d);
v.yv(A.layers,e,G,J,F,{},[]);d+=p._+200}delete e.QZ;delete e.xl;if(H!=1)alert("File scaled down "+H+"x");
e.aii()};c0.a8f=0;c0.t8=function(h){return h._class?h._class:h.$class};c0.Pn=function(h,e){var v=1;while(Math.round(h.q/v)*Math.round(h._/v)>e||Math.max(Math.round(h.q/v),Math.round(h._/v))>3e4)v++;
if(window.aCD)return v;if(v!=1&&!window.confirm("Your image is quite large ("+h.q+" x "+h._+" px).\n"+"Press OK to scale it down "+v+"x, or Cancel to keep the size."))v=1;
return v};c0.oS=function(h,e){var v=[],J=c0;for(var m=0;m<h.length;m++){var d=h[m],x=J.gY(d.frame);if(e==0||J.t8(d)=="artboard")v.push(x)}return B.R.qz(v)};
c0.aEk=function(h,e){var v=[],J=c0;for(var m=0;m<h.length;m++){var d=h[m],x=J.gY(d.frame);x.q+=150;x._+=150;
v.push(x)}var j=B.R.qz(v);B.R.agY(v,e);var E=B.R.qz(v);if(E.$()*1.5<j.$()||j.q>3e4&&E.q<=3e4||j._>3e4&&E._<=3e4){alert("Re-arranging artboards");
for(var m=0;m<h.length;m++){var L=v[m],d=h[m],p=d.frame;p.x=L.x;p.y=L.y}}};c0.ayr=function(h,e,v){if(h==null)return;
var J=c0;for(var m=0;m<h.length;m++){var d=h[m],x=J.t8(d);if(["page","artboard","group"].indexOf(x)!=-1)J.ayr(d.layers,e,v);
else if(x=="symbolMaster")e[d.symbolID]={D4:d}}};c0.atu=function(h){var e=c0;for(var v=0;v<h.length;
v++){var J=h[v],m=e.t8(J),d=null;if(["page","artboard","group"].indexOf(m)!=-1)d=e.atu(J.layers);if(m=="symbolMaster"||m=="symbolInstance")d=J;
if(d!=null)return d}return null};c0.yv=function(h,e,v,J,m,d,x){if(h==null)return;var j=c0,E=[];for(var L=0;
L<h.length;L++){var p=h[L],Z=p.frame?j.gY(p.frame):null,o=p.style,F="",G=null,l=!1;if(o==null){console.log("no styles")}var u=j.a69(p,v),N=j.t8(p),M=N=="shapeGroup"||N=="shapePath"||N=="rectangle"||N=="oval"||N=="triangle"||N=="polygon",O=["page","artboard","group"].indexOf(N)!=-1;
if(N=="shapeGroup"){for(var T=0;T<p.layers.length;T++)if(j.t8(p.layers[T])=="shapeGroup")O=!0}var W=p.exportOptions;
if(W){var f=W.exportFormats;if(f==null)f=W.sizes;if(N!="artboard"&&(f&&f.length!=0)){var $=f[0].scale}}var H=e.ws();
H.nP(p.isVisible);var A=p.name;if(!(typeof A=="string"))A=N;H.Ip(F+A.slice(0,250));if(o!=null)G=j.a1j(J,e,o,Z,u,H.getName(),M||N=="artboard"||O);
if(N=="rectangle"&&o&&o.fills&&o.fills[0]){var K=o.fills[0];if(K.fillType==4&&K.patternFillType>1&&K.image!=null)l=!0}if(p.shouldBreakMaskChain){while(E.length!=0)j.awg(E.pop(),e)}if(O){H.add.lsct=p.layerListExpandedType==2?d7.W$:d7.kZ;
H.fR="pass";H.IT=24;H.nP(p.isVisible);e.T.push(e.gB());if(N=="artboard"){var U=Z.O(),z=u.n$();U.x=-Math.floor(u.TO/z);
U.y=-Math.floor(u.bZ/z);U.q=Math.floor(U.q/z);U._=Math.floor(U._/z);H.B9(U);var q=p.backgroundColor,P=q?{n:255*q.red,i:255*q.green,b:255*q.blue}:{n:255,i:255,b:255};
H.add.artb.Clr={t:"Objc",v:B.Vh.WZ(P)};H.add.artb.artboardBackgroundType={t:"long",v:4}}j.yv(p.layers,e,u,J,m,d,x)}else if(M&&!l){var g=G!=null&&G.frameFXMulti.v.length==1;
H.add.vmsk=new s.eo;H.add.vstk=fL.gL.UX(!0,g);var a=o?o.fills:null,w=o?j.ae9(J,a,Z,u,H.getName(),e,j.iT(x,p.do_objectID+"_image")):[];
if(w.length==0){if(g)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=0;H.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}}}else{var y=w[0],S=null,i=null;
if(y.c=="SoFi"){S="SoCo";i=fL.hz}if(y.c=="GrFl"){S="GdFl";i=fL.RN}if(y.c=="patternFill"){S="PtFl";i=fL.CI}if(S!=null){H.add[S]={classID:"null"};
for(var T=0;T<i.length;T++){var C=i[T];H.add[S][C]=y.J.v[C]}var Y=y.J.v.Opct.v.val;if(g&&Y==0)H.add.vstk.fillEnabled.v=!1;
else H.add.iOpa=Math.round(255*Y/100)}}H.IT|=16;H.add.vmsk.z=j.tG(p.layers?p.layers:[p],p.layers?u:v);
var _=o?o.blur:null;if(_&&_.isEnabled&&_.type<=1)H.add.vmsk.jC=_.radius;if(H.add.vmsk.z.length==2){console.log("shape with no content:",H.getName())}if(g){var t=G.frameFXMulti.v[0].v,I=H.add.vstk,r=o.borders[0];
G.frameFXMulti.v=[];d4.a7w(t,I);var n=o.borderOptions,Q=o.miterLimit;if(n)fL.gL.write(I,{qP:n.lineCapStyle,Jv:n.lineJoinStyle,fe:n.dashPattern,Mm:Q})}H.d6();
H.vT(e)}else if(N=="bitmap"||l){if(!l&&p.image==null)continue;var D=l?o.fills[0]:null,dG=l?D.image.bdata:p.image.bdata,R=e.dz(dG,H.getName(),0,0);
R.IT=H.IT;H=R;var _=o?o.blur:null,X=o?o.colorControls:null;if(_||X){H.add.SoLd.filterFX=f8.Tw();e.eF({id:H.add.SoLd.placed.v,R:new fP,buffer:B.U(1),N:new s.xK});
var a=H.add.SoLd.filterFX.v.filterFXList.v;if(_){var dx=f8.BN("GsnB",{});dx.v.enab.v=_.isEnabled;dx.v.Fltr.v.Rds.v.val=_.radius;
a.push(dx)}if(X){var jv=X.brightness,gB=X.contrast,hQ=X.hue,ah=X.saturation;if(hQ!=0||ah!=1){var dx=f8.BN("hue2",{});
dx.v.enab.v=X.isEnabled;bb.mm(dx.v.Fltr.v,0,[Math.round(hQ*180/Math.PI),Math.round((ah-1)*100),0]);a.push(dx)}if(jv!=0||gB!=1){var dx=f8.BN("brit",{});
dx.v.enab.v=X.isEnabled;gB=gB-1;if(gB>0)gB/=2;var kG=dx.v.Fltr.v;kG.Brgh.v=Math.round(jv*255);kG.Cntr.v=Math.round(gB*255);
kG.useLegacy.v=!0;a.push(dx)}}}if(l){var bs=D.patternFillType;if(bs==3){var ey=H.R.q/H.R._,jp=Z.q/Z._;
if(ey<jp){u.translate(-(Z.q*(1-ey/jp))/2,0);u.scale(jp/ey,1)}else{u.translate(0,-(Z._*(1-jp/ey))/2);
u.scale(1,ey/jp)}}}Z.x=Z.y=0;var dt=B.w.Tp(Z).g;u.ia();B.w.C(dt,u,dt);H.add.SoLd.Trnf=c.L2.ni(dt);H.add.SoLd.nonAffineTransform=c.L2.ni(dt);
H.eW(e,!1)}else if(N=="text"){if(p.attributedString==null)continue;var jX=u.O(),jw,i7,k7=0;jX.ia();jX.DR=jX.l_=Math.min(jX.DR,jX.l_);
H.add.lnsr="rend";H.add.TySh=fr.YI(0,0);H.add.TySh.dP=new fP(0,0,Z.q,Z._);H.add.TySh.C=jX;var kn=p.attributedString;
if(kn.archivedAttributedString)kn=kn.archivedAttributedString;var eK=kn.NSString;if(eK==null)eK=kn.string;
if(eK==null)eK="";if(eK["NS.string"])eK=eK["NS.string"];if(d[p.do_objectID]!=null)eK=d[p.do_objectID];
var ee=j.iT(x,p.do_objectID+"_stringValue");if(ee)eK=ee.value;if(kn.attributes!=null){jw=[];i7=[];var az=kn.attributes;
for(var T=0;T<az.length;T++){jw.push(az[T].length,T);i7.push(az[T].attributes)}}else if(kn.NSAttributeInfo==null){jw=[eK.length,0];
i7=[kn.NSAttributes]}else{jw=kn.NSAttributeInfo["NS.data"];i7=kn.NSAttributes;jw=c0.aix(jw,i7)}for(var T=0;
T<jw.length;T+=2)k7+=jw[T];if(k7!=eK.length){while(k7>eK.length){jw[jw.length-2]--;k7--;if(jw[jw.length-2]==0){jw.pop();
jw.pop()}}jw[jw.length-2]+=eK.length-k7}eK=eK.replace(/\u2028/g,"\n");eK=eK.replace(/\u2029/g,"\n");
eK=eK.replace(/\r/g,"\n");var al=H.add.TySh.lf;fr.hj(al,0,eK);if(eK!=""){var kl=p.textBehaviour,b9=o.textStyle,h9=b9?b9.verticalAlignment:0,ge=j.a18(al,jw,i7,eK),z=jX.n$(),iN=fr.aX(al,0,1),f6=0;
if(iN.zI.Font){var a8=iN.k0[iN.zI.Font].Name;if(a8=="FontAwesome"||a8=="Ionicons")ge*=.87}var dK=iN.zI.AutoLeading?0:iN.zI.Leading*.6,fS=Math.max(ge,dK)*z,cf=Z.q,iG=Z._;
if(kl==0){fr.Ii(al,0);var eC=fr.fl(iN.UZ);if(eC==1)f6=cf*z;if(eC==2)f6=cf*z*.5;if(h9==0)fS*=1;else fS*=.9}else{fr.Ii(al,1);
fr.Uv(al,[0,0,Math.round(cf),Math.round(iG)]);if(kl==2&&h9==0)fS=fS*.2;else if(kl==2&&h9==1){fS=z*.5*(iG-iN.zI.FontSize)}else if(kl==1&&h9==0)fS=fS*.2;
else fS=fS*.35}H.add.TySh.C.translate(f6,fS)}}else if(N=="symbolInstance"||N=="symbolMaster"){var kH=p.symbolID;
if(d[p.do_objectID])kH=d[p.do_objectID].symbolID;var i0=j.iT(x,p.do_objectID+"_symbolID");if(i0)kH=i0.value;
if(kH=="")continue;var e5={};for(var C in d)e5[C]=d[C];if(p.overrides)for(var C in p.overrides)e5[C]=p.overrides[C];
var gA=x.slice(0);if(p.overrideValues)gA=gA.concat(p.overrideValues);var bW=m[kH];if(bW==null){console.log("Unknown master master",p.symbolID);
continue}var e3=c0.gY(bW.D4.frame),iL=e3.q/Z.q,h4=e3._/Z._,iT=u.O();iT.scale(iL,h4);H.add.lsct=d7.kZ;
H.fR="pass";H.IT=24;H.nP(p.isVisible);e.T.push(e.gB());var hC=bW.D4;if(e.xl.indexOf(hC)==-1){e.xl.push(hC);
j.yv(hC.layers,e,iT,J,m,e5,gA);e.xl.pop()}}else if(N=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+N,p);continue}if(o&&o.contextSettings){var dS=o.contextSettings,il=dS.blendMode;
if(il<j.qK.length){H.fR=cc.El[cc.s7.indexOf(j.qK[il])];if(O&&H.fR=="norm")H.fR="pass"}H.S2=Math.round(H.S2*dS.opacity)}if(G!=null){H.add.lmfx=G}e.T.push(H);
if(p.hasClippingMask&&h.length>1){E.push(H);e.T.push(e.gB())}}while(E.length!=0)j.awg(E.pop(),e)};c0.iT=function(h,e){for(var T=0;
T<h.length;T++)if(h[T].overrideName.startsWith(e))return h[T]};c0.aix=function(h,e){var v=0,J=[];while(v+1<h.length){var m=h[v];
v++;if(m>127){m+=128*(h[v]-1);v++;if(h[v-1]>127){m+=128*(h[v]-1);v++}}var d=h[v];v++;J.push(m,d)}return J};
c0.a18=function(h,e,v,J){var m=c0,d=0,p=0,Z=0;for(var T=0;T<J.length;T++){var x=J.charCodeAt(T),j=1473<=x&&x<=1479||1488<=x&&x<=1514||1520<=x&&x<=1524,E=1569<=x&&x<=1594||1600<=x&&x<=1749;
if(j||E)d++}var L=d>J.length/2;for(var T=0;T<e.length;T+=2){var o=e[T],H=14,A="DejaVuSans";if(o==0)continue;
var u=e[T+1],N=v[u],M=fr.aX(h,p,p+o-1),O=N.NSColor;if(O==null){var O=N.MSAttributedStringColorDictionaryAttribute;
if(O==null)O=N.MSAttributedStringColorAttribute;if(O==null)O="0 0 0";else O=[O.red,O.green,O.blue].join(" ")}else if(m.t8(O)=="MSArchivedColor")O=O.dr+" "+O.dg+" "+O.db;
else if(O.NSRGB){O=O.NSRGB;O=b.RZ(O,0,O.length-1)}else if(O.NSCMYK){O=O.NSCMYK;O=b.RZ(O,0,O.length-1);
O=O.split(" ").map(parseFloat);var F=1-O[0],W=1-O[1],f=1-O[2],$=1-O[3];O=F*$+" "+W*$+" "+f*$}else if(O.NSWhite){O="1 1 1"}O=O.split(" ");
M.zI.FillColor={Type:1,Values:[1,parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2])]};var G=N.MSAttributedStringFontAttribute;
if(N.NSFont){H=N.NSFont.NSSize;A=N.NSFont.NSName}else if(G){if(G.attributes){G=G.attributes;H=G.size;
A=G.name}else{var l=G.NSFontDescriptorAttributes;if(l==null)l=G.UIFontDescriptorAttributes;G=l;H=G.NSFontSizeAttribute;
A=G.NSFontNameAttribute}if(A==null)A="DejaVuSans"}var Z=Math.max(Z,H);M.zI.FontSize=Math.round(H);fr.wm(M,A);
var K=N.NSKern;if(K==null)K=N.kerning;if(K!=null)M.zI.Tracking=Math.round(1e3*K/H);if(N.NSUnderline!=null)M.zI.Underline=N.NSUnderline>0;
var U=N.NSStrikethrough;if(U==null)U=N.strikethroughStyle;if(U!=null)M.zI.Strikethrough=U>0;if(N.MSAttributedStringTextTransformAttribute==1)M.zI.FontCaps=2;
var z=N.NSParagraphStyle;if(z==null)z=N.paragraphStyle;if(z){var q=z.paragraphSpacing;if(q!=null){M.UZ.SpaceAfter=q}var P=z.NSAlignment;
if(P==null)P=z.alignment;if(P!=null){var g=0;if(!1){}else if(P==1)g=1;else if(P==2)g=2;else if(P==4)g=0;
else{g=P;console.log("unknown align",P)}if(L&&g<2)g=1-g;M.UZ.Justification=g}var a=z.NSMinLineHeight;
if(a==null)a=z.minimumLineHeight;if(a!=null){M.zI.AutoLeading=!1;M.zI.Leading=a}}M.UZ._Direction=L?1:0;
fr.UE(h,p,p+o,M);p+=o}return Z};c0.a1j=function(h,e,v,J,m,d,x){var j=c0,E=JSON.parse(fL.default),L=!1;
for(var T=0;T<fL.order.length;T++)E[fL.oN[T]]={t:"VlLs",v:[]};var p=v.fills,Z=j.ae9(h,p,J,m,d,e);for(var o=0;
o<2;o++){var u=v[["shadows","innerShadows"][o]];if(u==null)continue;var N=["DrSh","IrSh"][o],M=fL.oN[fL.order.indexOf(N)];
for(var T=0;T<u.length;T++){var O=u[T];if(!O.isEnabled)continue;var F=O.contextSettings;if(F&&F.opacity==0||O.color.alpha==0)continue;
var W=JSON.parse(fL.JC[fL.order.indexOf(N)]);E[M].v.unshift({t:"Objc",v:W});L=!0;W.Clr.v=j.J3(O.color);
W.blur.v.val=Math.round(O.blurRadius/m.n$());var f=m.O();f.TO=f.bZ=0;f.ia();var $=f.w7(new fq(O.offsetX,O.offsetY)),H=Math.sqrt($.x*$.x+$.y*$.y);
W.Dstn.v.val=Math.round(H);W.lagl.v.val=Math.round(Math.atan2($.y,-$.x)*(180/Math.PI));if(W.layerConceals)W.layerConceals.v=Z.length!=0;
j.ZO(O,W)}}var A=v.borders;if(A!=null&&(Z.length==0||v.blur==null||!v.blur.isEnabled))for(var T=0;T<A.length;
T++){var G=A[T];if(!G.isEnabled)continue;var W=JSON.parse(fL.JC[fL.order.indexOf("FrFX")]),M=fL.oN[fL.order.indexOf("FrFX")];
E[M].v.unshift({t:"Objc",v:W});L=!0;W.Clr.v=j.J3(G.color);if(G.fillType!=0&&G.gradient){var l=j.aB_(G.gradient,J,m,d),K=["Type","Angl","Ofst","Scl"];
for(var T=0;T<K.length;T++)W[K[T]]=l[K[T]];W.Grad.v=l.Grad.v;W.PntT.v.FrFl="GrFl"}W.Sz.v.val=Math.round(G.thickness/m.n$());
W.Styl.v.FStl=["CtrF","InsF","OutF"][G.position];j.ZO(G,W)}for(var T=x?1:0;T<Z.length;T++){var U=Z[T],M=fL.oN[fL.order.indexOf(U.c)];
E[M].v.unshift(U.J);L=!0}return L?E:null};c0.ae9=function(h,e,v,J,m,d,x){if(e==null)return[];var j=c0,E=[];
for(var T=0;T<e.length;T++)if(e[T].isEnabled)E.push(e[T]);e=E;var L=[];for(var T=0;T<e.length;T++){var p=e[T],Z=null,o=null;
if(p.fillType==0){Z="SoFi";var u=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);o={t:"Objc",v:u};o.v.Clr.v=j.J3(p.color)}else if(p.fillType==1){Z="GrFl";
o={t:"Objc",v:j.aB_(p.gradient,v,J,m)}}else if(p.fillType==4&&p.image!=null){var N=p.image;if(x)N=x.value;
var M=gI.pI(N.bdata.buffer);if(M=="fpng")M="png";if(M!=null&&M!="pdf"&&M!="eps"){var O,H=0,A=0,G=0;if(d.QZ[N.key])O=d.QZ[N.key];
else{var F={data:new ArrayBuffer(4),Ei:new fP(0,0,1,1)};try{F=gI.g6(M).E2(N.bdata)[0]}catch(j3){}O={};
O.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";O.name="someImage";O.$O=[new Uint8Array(F.data),F.Ei];d.zR(O);
d.QZ[N.key]=O}var W=O.$O[1],u=JSON.parse(fL.JC[fL.order.indexOf("patternFill")]);Z="patternFill";o={t:"Objc",v:u};
var f=p.patternFillType,$=p.patternTileScale;u.Algn.v=!0;u.Ptrn.v.Idnt.v=O.id;if(f==0){H=$*W.q/Math.min(W.q,W._);
A=-J.TO;G=-J.bZ}else{H=Math.max(v.q/W.q,v._/W._);A=-J.TO-(W.q*H-v.q)/2;G=-J.bZ-(W._*H-v._)/2}u.Scl.v.val=100*H*(1/J.n$());
u.phase.v.Hrzn.v=Math.round(A/J.n$());u.phase.v.Vrtc.v=Math.round(G/J.n$())}}else if(p.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",p.fillType);
if(Z!=null){j.ZO(p,o.v);L.push({c:Z,J:o})}}return L};c0.aCT=function(h){var e=c0,v=new fP(0,0,1,1);h=h.slice(0);
while(!0){var J=!1;for(var T=0;T<h.length-1;T++){var m=h[T],d=h[T+1],x=null,j=m.contextSettings;if(m.fillType==0&&(j==null||j.opacity==1&&j.blendMode==0)&&m.color.alpha==1){var E="norm",L=1,j=d.contextSettings;
if(j){L=j.opacity;E=cc.lY(e.qK[j.blendMode])}if(d.fillType==0){x=B.t(d);e.a30(x.color,m.color,x.color,v,E,L)}if(d.fillType==1){x=B.t(d);
var p=x.gradient.stops;for(var Z=0;Z<p.length;Z++)e.a30(p[Z].color,m.color,p[Z].color,v,E,L)}if(x!=null&&x.contextSettings){var j=x.contextSettings;
j.opacity=1;j.blendMode=0}}if(x!=null){h.splice(T,0,x);J=!0;break}}if(!J||h.length<2)break}return h};
c0.a30=function(h,e,v,J,m,d){var x=c0,j=B.U(4);x.acm(h,j);var E=B.U(4);x.acm(e,E);B.B.lU(m,j,J,E,J,J,d);
x.aBh(E,v)};c0.acm=function(h,e){e[0]=255*h.red;e[1]=255*h.green;e[2]=255*h.blue;e[3]=255*h.alpha};c0.aBh=function(h,e){e.red=h[0]/255;
e.green=h[1]/255;e.blue=h[2]/255;e.alpha=h[3]/255};c0.awg=function(h,e){h=h.O();h.IT=24;h.Ip("Mask by "+h.getName());
e.T.push(h);h.add.lsct=d7.W$;h.add.lyid=e.h2();delete h.add.lmfx;delete h.add.SoCo;delete h.add.GdFl;
delete h.add.PtFl;delete h.add.iOpa;if(h.add.vmsk)h.add.vmsk.c8=!0;h.d6();h.vT(e);if((h.IT&16)==16)h.IT-=16;
if((h.IT&2)==2)h.IT-=2;h.fR="pass";h.S2=255};c0.qK="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
c0.aB_=function(h,e,v,J){v=v.O();v.ia();v.TO=v.bZ=0;var m=v.n$(),o=0,u=0;v.scale(1/m,1/m);var d=c0,x=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),j=x.Grad.v;
j.Intr.v=0;if(h==null)return x;var E=h.gradientType,L=d.dL(h.from),p=d.dL(h.to);L.offset(-.5,-.5);p.offset(-.5,-.5);
L=v.w7(L);p=v.w7(p);var Z=Math.atan2(-(p.y-L.y),p.x-L.x);x.Type.v.GrdT=["Lnr","Rdl","Angl"][E];x.Scl.v.val=100*fq.mr(L,p);
if(E==0){x.Angl.v.val=180/Math.PI*Z;x.Scl.v.val=100*fq.mr(L,p);o=(L.x+p.x)/2;u=(L.y+p.y)/2}if(E==1){x.Scl.v.val=200*fq.mr(L,p);
o=L.x;u=L.y}if(E==2){x.Angl.v.val=180/Math.PI*(Z-Math.PI/2)}var N=x.Ofst.v;N.Hrzn.v.val=o*100;N.Vrtc.v.val=u*100;
var M=[];for(var T=0;T<h.stops.length;T++){var O=h.stops[T],F=O.color;M.push([O.position,F?[F.red,F.green,F.blue]:[0,0,0],F.alpha])}B.Vh.Q_(M,j);
return x};c0.ZO=function(h,e){var v=c0,J=1,m=h.contextSettings;if(m!=null){e.Md.v.BlnM=v.qK[m.blendMode];
J*=m.opacity}else e.Md.v.BlnM=v.qK[0];e.enab.v=h.isEnabled;if(e.uglg!=null)e.uglg.v=!1;if(h.color!=null)J*=h.color.alpha;
e.Opct.v.val=Math.round(J*100)};c0.J3=function(h){return B.Vh.WZ(h?{n:h.red*255,i:h.green*255,b:h.blue*255}:{n:0,i:0,b:0})};
c0.tG=function(h,e){var v=c0,J=[{c:6},{c:8,all:0}];for(var m=0;m<h.length;m++){var d=h[m],x=d.booleanOperation,j=0,E=d._class,N=!1;
if(E=="group"||E=="text"||E=="symbolInstance"||E=="slice"){console.log(E+" inside ShapeGroup");continue}if(x==-1)j=0;
else if(x==0)j=1;else if(x==1)j=2;else if(x==2)j=3;else if(x==3)j=0;if(m==0)j=1;var L=c0.gY(d.frame),p=v.a69(d,e),Z=d.path?d.path:d,o=[{c:0,length:0,Jb:j,rH:2,rd:0,O1:0}],u=Z.points;
for(var T=0;T<u.length;T++){var M=u[T],O=v.dL(M.curveTo),F=v.dL(M.point),W=v.dL(M.curveFrom);N=N||M.hasCurveFrom&&!W.lS(F)||M.hasCurveTo&&!O.lS(F)}var f=[];
if(!N){var $=[],iW=u.length;if(iW==0)continue;for(var T=0;T<iW;T++){f[T]=u[T].cornerRadius;var M=v.dL(u[T].point);
$.push(M.x,M.y)}p.scale(1/L.q,1/L._);p.ia();B.w.C($,p,$);o=B.s.z0.Ad($,f).slice(2);o[0].Jb=j}else{var H=u.length;
o[0].length=H;for(var T=0;T<H;T++){var M=u[T],A=M.curveMode,G=v.dL(M.point);o[1+T]={c:A==2||A==4?1:2,NA:M.hasCurveTo?v.dL(M.curveTo):G.O(),Q:G,Xb:M.hasCurveFrom?v.dL(M.curveFrom):G.O()}}p.scale(1/L.q,1/L._);
p.ia();B.s.Ma(o,p);var f=[];for(var T=0;T<H;T++){var M=u[T],A=M.curveMode,l=M.cornerRadius;if(A==1&&l!=0)f.push(l);
else f.push(0)}}if(!Z.isClosed)for(var T=0;T<o.length;T++)o[T].c+=3;J=J.concat(o);var K=v.t8(d);if(p.b==0&&p.tg==0){var U=p.TO,z=p.bZ,q=U+p.DR,P=z+p.l_,g=[U,z,q,P]}}return J};
c0.a69=function(h,e){var v=e.O(),J=h.frame?c0.gY(h.frame):null;if(J)v.translate(-J.x-J.q/2,-J.y-J._/2);
if(h.isFlippedHorizontal)v.scale(-1,1);if(h.isFlippedVertical)v.scale(1,-1);v.rotate(-h.rotation*(Math.PI/180));
if(J)v.translate(J.q/2,J._/2);return v};c0.dL=function(h){h=h.slice(1,h.length-1).split(",");return new fq(parseFloat(h[0]),parseFloat(h[1]))};
c0.gY=function(h){return new fP(h.x,h.y,h.width,h.height)};c0.ar$=function(h){return{_class:"rect",constrainProportions:!1,x:h.x,y:h.y,width:h.q,height:h._}};
function ka(){}ka.kq=function(h,e){var v=Date.now(),J=ka,m=UZIP.parse(h),d=JSON.parse(b.Is(m.manifest)),x=JSON.parse(b.Is(m["resources/graphics/graphicContent.agc"])).resources,j=[],E=[],L=d.children;
for(var T=0;T<L.length;T++){var p=L[T];if(p.name=="artwork"){var Z=p.children;for(var o=0;o<Z.length;
o++){var u=Z[o],N=JSON.parse(b.Is(m["artwork/"+u.path+"/graphics/graphicContent.agc"])),M=N.children;
if(M.length==0){}else if(M.length==1){if(u["uxdesign#bounds"]){u._node=M[0];j.push(u)}}else{var O=M[0],F=O.transform,W=O.shape;
if(W==null)W={x:0,y:0,width:1e3,height:1e3};if(W.type=="path"){var f=B.w.Ob(Typr.U.SVGToPath(W.path).crds);
W={x:f.x,y:f.y,width:f.q,height:f._}}W=B.t(W);if(F){W.x+=F.tx;W.y+=F.ty}u["uxdesign#bounds"]=W;u._node={type:"artboard",artboard:{children:M}};
E.push(u)}}}}if(j.length==0)j=E;var $=[],H=new fP;for(var T=0;T<j.length;T++){var u=j[T],A=c0.gY(u["uxdesign#bounds"]);
$.push(A);H=H.R$(A)}var G=c0.Pn(H,8192*8192);e.cj=!0;e.q=Math.round(H.q/G);e._=Math.round(H._/G);e.buffer=B.U(e.q*e._*4);
e.pG(j.length);var l=new aJ(G,0,0,G,H.x,H.y);e.QZ={};for(var T=0;T<j.length;T++){var u=j[T],A=c0.gY(u["uxdesign#bounds"]),K=u._node,U=l.O(),z=A.O(),q=U.n$();
U.translate(-A.x,-A.y);z.x=-Math.floor(U.TO/q);z.y=-Math.floor(U.bZ/q);z.q=Math.floor(z.q/q);z._=Math.floor(z._/q);
U.translate(A.x,A.y);ka._S(K,e,U,x,m,z);var P=e.T[e.T.length-1];P.Ip(u.name);P.B9(z);if(T!=j.length-1)P.add.lsct=d7.kZ}delete e.QZ};
ka.eI=function(h){if(h==null)return new aJ;return new aJ(h.a,h.b,h.c,h.d,h.tx,h.ty)};ka._S=function(h,e,v,J,m,d){var x=ka,j=h.type,E=h[j],L=h.style,p=x.eI(h.transform),N,M="none",O,F="none",W,f;
p.ia();var Z=v.O();Z.concat(p);var o=e.ws(),u=h.name;o.Ip(u?u.slice(0,250):"Layer");if(h.visible!=null)o.nP(h.visible);
if(L){N=L.stroke;M=N?N.type:"none";O=L.fill;F=O?O.type:"none";if(O&&Object.keys(O).length==1)F="none";
W=L.filters;f=L.clipPath;if(f&&J.clipPaths[f.ref])f=J.clipPaths[f.ref].children;else f=null;if(L.opacity!=null)o.S2=Math.round(255*L.opacity);
if(F=="solid"&&O.color.alpha)o.S2=Math.round(o.S2*O.color.alpha);if(W){o.add.lmfx=x.aDG(W);for(var T=0;
T<W.length;T++)if(W[T].type=="uxdesign#blur"){var $=W[T],H=$.params,A=H.brightnessAmount;if(A==null)A=0;
A=Math.abs(A/100);if(($.visible==null||$.visible==!0)&&H.backgroundEffect)o.S2=Math.round(o.S2*(A+(1-A)*H.fillOpacity))}}if(F=="pattern"&&O.pattern.meta.ux.uid=="")F="none"}if(f==null&&h.meta&&h.meta.ux&&h.meta.ux.clipPathResources)f=h.meta.ux.clipPathResources.children;
if(j=="artboard"||j=="group"){if(f){var G=f[0],l=G.shape,K=l!=null&&l.type=="rect"&&l.width*l.height>4e6;
if(G.type!="text"&&!K){if(l){var p=x.eI(G.transform);p.ia();var U=Z.O();U.concat(p);o.add.vmsk=new s.eo;
o.add.vmsk.z=x.tG(l);U=U.O();U.ia();B.s.Ma(o.add.vmsk.z,U);o.d6();o.vT(e)}}else if(!K)alert("Clipping by text has been ignored")}o.add.lsct=d7.W$;
o.fR="pass";o.IT=24;if(h.visible!=null)o.nP(h.visible);e.T.push(e.gB());var z=E.children,q=O;if(q)q=q.color;
if(q)q=q.value;if(O){if(j=="artboard"&&F=="solid"){o.B9(new fP(0,0,10,10));o.add.artb.Clr={t:"Objc",v:B.Vh.WZ({n:q.r,i:q.g,b:q.b})};
o.add.artb.artboardBackgroundType={t:"long",v:4}}else{var P=e.ws();P.Ip("BACKGROUND");P.IT|=16;P.add.vstk=fL.gL.UX();
P.add.vmsk=new s.eo;P.add.vmsk.z=x.tG({type:"rect",x:d.x,y:d.y,width:d.q,height:d._});x.fs(O,F,Z,d,d,P,e,J,m);
P.d6();P.vT(e);e.T.push(P)}}for(var T=0;T<z.length;T++){ka._S(z[T],e,Z,J,m,d)}}else if(j=="shape"&&(E.type=="rect"&&(E.r==null||E.r==0)||E.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(E.path)))&&F=="pattern"&&(Math.abs(E.width/E.height-O.pattern.width/O.pattern.height)<.01||L.fill.pattern.meta.ux.scaleBehavior=="fill")){var g=O.pattern,a=g.meta.ux,w=a.uid,y=m["resources/"+w];
if(y==null){console.log(g);return}var S=e.dz(y,o.getName(),0,0);S.IT=o.IT;S.S2=o.S2;o=S;var i=B.s.jd(x.tG(E),null),C=B.w.Tp(new fP(0,0,g.width,g.height)).g,Y=new aJ;
Y.scale(g.width/i.q,g.height/i._);if(a.offsetX)Y.translate(-a.offsetX*g.width,0);if(a.offsetY)Y.translate(0,-a.offsetY*g.height);
Z.concat(Y);Z.ia();B.w.C(C,Z,C);o.add.SoLd.Trnf=c.L2.ni(C);o.add.SoLd.nonAffineTransform=c.L2.ni(C);
o.eW(e,!1)}else if(j=="shape"){o.IT|=16;o.add.vstk=fL.gL.UX();o.add.vmsk=new s.eo;o.add.vmsk.z=x.tG(E);
var i=B.s.jd(o.add.vmsk.z,null),U=Z.O();U.ia();B.s.Ma(o.add.vmsk.z,U);var _=B.s.jd(o.add.vmsk.z,null);
if(M=="none"){}else{var t=N.color.value,I,r;I="SoFi";var n=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);
r={t:"Objc",v:n};r.v.Clr.v=B.Vh.WZ({n:t.r,i:t.g,b:t.b});var Q=N.align,D=N.cap;if(Q==null)Q="center";
var R=o.add.vstk;R.strokeEnabled.v=!0;R.strokeStyleLineWidth.v.val=N.width;if(Q)R.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fL.gL.md[["inside","center","outside"].indexOf(Q)];
if(D)R.strokeStyleLineCapType.v.strokeStyleLineCapType=fL.gL._h[["butt","round","square"].indexOf(D)];
var X=["SoFi","GrFl","patternFill"].indexOf(I),dx=[fL.hz,fL.RN,fL.CI][X];R.strokeStyleContent.v={classID:fL.gL.Wj[0]};
var jv=R.strokeStyleContent.v={classID:fL.gL.Wj[X]};for(var T=0;T<dx.length;T++)jv[dx[T]]=r.v[dx[T]]}if(W)for(var T=0;
T<W.length;T++)if(W[T].type=="uxdesign#blur"&&W[T].visible){var gB=W[T];o.add.vmsk.jC=gB.params.blurAmount}x.fs(O,F,Z,i,_,o,e,J,m);
o.d6();o.vT(e)}else if(j=="text"&&h.text){var hQ=h.text,ah=hQ.frame,kG=L.font,bs=L.textAttributes,p=Z.O(),jX=0;
p.ia();o.add.lnsr="rend";o.add.TySh=fr.YI(0,0);o.add.TySh.dP=new fP(0,0,100,100);o.add.TySh.C=p;var ey=o.add.TySh.lf,jp=hQ.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
fr.hj(ey,0,jp);if(jp!=""){var eh=fr.aX(ey,0,1),dt=kG.postscriptName;if(dt==null)dt=kG.family;fr.wm(eh,dt);
eh.zI.FontSize=Math.round(kG.size);if(F=="solid"){var t=O.color.value;eh.zI.FillColor={Type:1,Values:[1,t.r/255,t.g/255,t.b/255]}}if(bs){if(bs.paragraphAlign)eh.UZ.Justification=["left","right","center"].indexOf(bs.paragraphAlign);
if(bs.letterSpacing)eh.zI.Tracking=Math.round(bs.letterSpacing);if(bs.lineHeight){eh.zI.AutoLeading=!1;
eh.zI.Leading=Math.round(bs.lineHeight)}}fr.UE(ey,0,jp.length,eh)}var jN=h.meta.ux.rangedStyles;if(jN)for(var T=0;
T<jN.length;T++){var E=jN[T],jw=Math.min(E.length,jp.length-jX);if(T==jN.length-1)jw=jp.length-jX;var eh=fr.aX(ey,jX,jX+jw),dt=E.postscriptName;
if(dt==null)dt=E.family;if(dt!=null)fr.wm(eh,dt);var i7=E.textScript,kn=E.underline,eK=E.fontSize,$=E.fill,ee=E.textTransform;
if(i7&&i7!="none")eh.zI.FontBaseline=i7=="superscript"?1:2;if(kn!=null)eh.zI.Underline=kn;if(eK!=null)eh.zI.FontSize=Math.round(eK);
if(ee!=null)eh.zI.FontCaps=ee=="uppercase"?2:0;if(ee=="lowercase"){fr.ED(ey,jX,jX+jw);fr.hj(ey,jX,jp.slice(jX,jX+jw).toLowerCase())}if($!=null){var az=$.value;
eh.zI.FillColor={Type:1,Values:[1,(az>>>16&255)/255,(az>>>8&255)/255,(az>>>0&255)/255]}}fr.UE(ey,jX,jX+jw,eh);
jX+=jw}if(ah.type=="area"||ah.type=="autoHeight"){var k7=ah.width,al=ah.height;fr.Ii(ey,1);fr.Uv(ey,[0,0,k7,al!=null?al:k7*2])}}else if(j=="syncRef"){var kl=h.syncSourceGuid,b9=J.meta.ux.symbols,h9=x.Sw(b9,kl);
if(h9){var ge=Z.O();ge.concat(x.eI(h9.transform));ka._S(h9,e,ge,J,m,d)}return}else console.log(j,h);
e.T.push(o)};ka.Sw=function(h,e){for(var T=0;T<h.length;T++){var v=h[T],J=v.group;if(v.id==e)return v;
if(J){var m=ka.Sw(J.children,e);if(m)return m}}return null};ka.tG=function(h){var e=h.type,v=[{c:6},{c:8,all:0}];
if(e=="rect"){var J=h.r,m=h.x,d=h.y,x=h.width,j=h.height;v=B.s.z0.Rect(m,d,x,j,J?J:0)}else if(e=="circle"){var J=h.r;
v=B.s.z0.FO(h.cx-J,h.cy-J,2*J,2*J)}else if(e=="ellipse"){var E=h.rx,L=h.ry;v=B.s.z0.FO(h.cx-E,h.cy-L,2*E,2*L)}else if(e=="path"||e=="compound"){var p=Typr.U.SVGToPath(h.path);
v=B.w.GJ({WQ:p.cmds,g:p.crds},!1)}else if(e=="line"){var Z=h.x1,o=h.x2,u=h.y1,N=h.y2;v=B.s.z0.Ad([Z,u,o,N],0,!0)}else if(e=="polygon"){var M=h.points,O=[];
for(var T=0;T<M.length;T++)O.push(M[T].x,M[T].y);v=v.concat(B.s.z0.Ad(O,0,!1).slice(2))}else console.log(e,h);
return v};ka.aDG=function(h){var e=JSON.parse(fL.default);for(var T=0;T<fL.order.length;T++)e[fL.oN[T]]={t:"VlLs",v:[]};
for(var T=0;T<h.length;T++){var v=h[T],J=v.type,m=v.params,d=v.visible;if(J=="dropShadow"){var x=fL.oN[fL.order.indexOf("DrSh")],j=JSON.parse(fL.JC[fL.order.indexOf("DrSh")]);
e[x].v.unshift({t:"Objc",v:j});var E=m.dropShadows;if(E.length!=1)throw"e";var L=E[0],p=L.color,Z=p.value,o=L.dx,u=L.dy;
j.Clr.v=B.Vh.WZ({n:Z.r,i:Z.g,b:Z.b});j.Opct.v.val=Math.round((p.alpha!=null?p.alpha:1)*100);j.uglg.v=!1;
j.enab.v=d!=null?d:!0;j.lagl.v.val=Math.round(180/Math.PI*Math.atan2(u,-o));j.Dstn.v.val=Math.round(Math.sqrt(o*o+u*u));
j.blur.v.val=Math.round(L.r*2.3)}}return e};ka.fs=function(h,e,v,J,m,d,x,j,E){var L=ka;d.add.vstk.fillEnabled.v=e!="none";
if(e=="none"){d.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}}}else{var p,Z,o;if(e=="solid"){var u=h.color.value;
p="SoCo";Z=fL.hz;var N=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);o={t:"Objc",v:N};o.v.Clr.v=B.Vh.WZ({n:u.r,i:u.g,b:u.b})}else if(e=="gradient"){p="GdFl";
Z=fL.RN;var N=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),M=N.Grad.v,$,H,A;M.Intr.v=0;var O=h[e],F=O.ref?j.gradients[O.ref]:O.meta.ux.gradientResources,W=["linear","radial","angular"].indexOf(F.type),f=F.stops;
N.Type.v.GrdT=["Lnr","Rdl","Angl"][W];if(W==0){var $=new fq(O.x1,O.y1),H=new fq(O.x2,O.y2);$.x=H.x+.5*($.x-H.x);
$.y=H.y+.5*($.y-H.y)}else{var $=new fq(O.cx,O.cy),H=new fq(O.cx+O.r,O.cy)}A=m;if(O.units=="objectBoundingBox"){var G=new aJ(J.q,0,0,J._,J.x,J.y);
$=G.w7($);H=G.w7(H)}var G=L.eI(O.transform);$=G.w7($);H=G.w7(H);G=v.O();G.ia();$=G.w7($);H=G.w7(H);B.Vh.Xf($,H,A,N);
var l=[];for(var T=0;T<f.length;T++){var K=f[T],U=K.color,u=U.value,z=U.alpha;if(z==null)z=1;l.push([K.offset,[u.r/255,u.g/255,u.b/255],z])}B.Vh.Q_(l,M);
o={t:"Objc",v:N}}else if(e=="pattern"){p="PtFl";Z=fL.CI;var N=JSON.parse(fL.JC[fL.order.indexOf("patternFill")]),C;
o={t:"Objc",v:N};var q=h[e],P=q.meta.ux,g=P.uid,a=E["resources/"+g].buffer,w=P.flipX,y=P.flipY,S=g+w+y,i=gI.pI(a);
if(x.QZ[S])C=x.QZ[S];else{var Y=new fP(0,0,q.width,q.height),_;if(Y.EG()||i==null){Y=new fP(0,0,1,1);
_=new ArrayBuffer(4)}else{var t=gI.g6(i);if(t.ug){var I=new e7;t.E2(a,I);_=I.pb().buffer}else{try{var r=t.E2(a)[0];
_=r.data;Y=r.Ei}catch(j3){_=new ArrayBuffer(Y.$()*4)}}}C={};C.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";
C.name="someImage";C.$O=[new Uint8Array(_),Y];if(w)B.D.cU(C.$O[0].slice(0),C.$O[0],Y.q,Y._);if(y)B.D.ayY(C.$O[0].slice(0),C.$O[0],Y.q,Y._);
x.zR(C);x.QZ[S]=C}var n=v.O();n.ia();n.translate(J.x,J.y);var Q=J.q,D=J._,dG=C.$O[1].q,R=C.$O[1]._,X=Math.max(Q/dG,D/R);
if(P.scale)X*=P.scale;var dx=new aJ;dx.translate(-dG/2,-R/2);dx.scale(1/dG,1/R);if(P.offsetX!=null)dx.translate(P.offsetX,P.offsetY);
dx.scale(dG,R);dx.scale(X,X);dx.translate(Q/2,D/2);dx.concat(n);d4.aFb(C,N,0,0,1e3,dx)}else console.log(e);
if(p!=null){d.add[p]={classID:"null"};for(var T=0;T<Z.length;T++){var jv=Z[T];d.add[p][jv]=o.v[jv]}}}};
var h_=function(){function h(O){return O.tagName?O.tagName.split(":").pop():null}function e(O,F,W){if(W&&W[0]==null)W=null;
O=new Uint8Array(O);var f,i=1;if(O[0]==255&&O[1]==254)f=b.qa(O,2,(O.length>>>1)-1);else f=b.Is(O,0,O.length);
var $=new DOMParser,H=$.parseFromString(f,"image/svg+xml"),A=H.getElementsByTagName("style")[0];if(A)A=Typr.U.SVG.cssMap(A.textContent);
else A={};var G=H.firstChild;while(h(G)!="svg")G=G.nextSibling;var l=new fP(0,0,100,100),K=G.getAttribute("viewBox"),U=G.getAttribute("width"),z=G.getAttribute("height"),q=U!=null?parseFloat(U):parseFloat(z),P=z!=null?parseFloat(z):parseFloat(U);
if(K){var g=v(K);l.x=g[0];l.y=g[1];l.q=g[2];l._=g[3];if(U!=null){var a=g[2]/g[3],w=q/P;if(w>a){var y=g[3]*w-l.q;
l.x-=y/2;l.q+=y}if(w<a){var S=g[2]/w-l._;l.y-=S/2;l._+=S}}}else if(U!=null||z!=null){l.q=q;l._=P}l=B.w.jg(l);
while(W&&Math.max(l.q*i,l._*i)<Math.max(W[0],W[1]))i++;while(W==null&&Math.max(l.q,l._)*i>8192)i*=.5;
F.cj=!0;F.q=~~(l.q*i);F._=~~(l._*i);var C=new aJ(i,0,0,i,-l.x*i,-l.y*i),Y={bP:Z(G),aiO:A,la:0};J(H,G.children,F,C,Y,new aJ,0);
if(F.T.length==0){var _=F.ws();_.Ip("Layer");F.T.push(_)}}function v(O){var F=" ";if(O.indexOf(",")!=-1)F=",";
return O.split(F).map(parseFloat)}function J(O,F,W,f,$,H,A,G){var l=["display","opacity","fill-opacity","filter","clip-path"],K=0;
for(var U=0;U<F.length;U++){var z=F[U],q=h(z),P=z.getAttribute("id"),w=13,Y=1,I="clip-path",r=null,gB=0;
if(P==null)P=z.getAttribute("data-name");var g=Z(z,$.aiO);for(var a in $.bP)if(l.indexOf(a)==-1&&g[a]==null)g[a]=$.bP[a];
if(g["font-size"])w=x(g["font-size"],w);var y=E(z);if(z.getAttribute("dx"))y.TO+=x(z.getAttribute("dx"),w);
if(z.getAttribute("dy"))y.bZ+=x(z.getAttribute("dy"),w);y.concat(f);var S=z.getAttribute("visibility"),i=g.display,C=W.ws();
if(S=="hidden"||i=="none")C.nP(!1);C.Ip(P!=null?P.split(":::")[0]:"Layer");if(g.opacity)Y*=parseFloat(g.opacity);
if(g["fill-opacity"]){var _=parseFloat(g["fill-opacity"]);if(_!=0)Y*=_}C.S2=Math.round(255*Y);if(g["mix-blend-mode"]){var t=cc.rq.indexOf(g["mix-blend-mode"]);
if(t!=-1)C.fR=cc.El[t]}if(z.getAttribute(I)==null)I="mask";if(z.getAttribute(I)!=null||g["clip-path"]){var n=z.getAttribute(I);
if(n==null)n=g["clip-path"];n=n.slice(4,n.length-1);var Q=O.getElementById(n.slice(1));if(Q){var D=Q.children;
r=W.ws();r.Ip("Clip-Path"+(P?": "+P:""));r.add.lsct=A<2?d7.W$:d7.kZ;r.fR="pass";r.IT=24;var dG=r.add.vmsk=new s.eo;
W.T.push(W.gB());var R=[];if(Q.getAttribute(I)){var n=Q.getAttribute(I);n=n.slice(4,n.length-1);R=O.getElementById(n.slice(1)).children}for(var T=0;
T<D.length;T++){var X=E(D[T]);X.concat(y);var dx=d(W,O,D[T],!1).slice(2);B.s.Ma(dx,X);dG.z=dG.z.concat(dx)}for(var T=0;
T<R.length;T++){var X=E(D[T]);X.concat(y);var dx=d(W,O,R[T],!1).slice(2);for(var jv=0;jv<dx.length;jv++)if(dx[T].Jb!=null)dx[T].Jb=3;
B.s.Ma(dx,X);dG.z=dG.z.concat(dx)}for(var T=0;T<dG.z.length;T++)if(dG.z[T].Jb!=null)dG.z[T].Jb=0;r.d6();
r.vT();A++}}if(g.filter&&g.filter!="none"){var hQ=g.filter,kG,iZ,bs,jp=!1,eh=!1,dt=!1;hQ=hQ.slice(5,hQ.length-1);
var ah=O.getElementById(hQ),ey=[0,0,0,.5],jN=y.n$();if(ah)for(var T=0;T<ah.children.length;T++){var jX=ah.children[T],jw=h(jX);
if(jw=="feGaussianBlur"){jp=!0;kG=parseFloat(jX.getAttribute("stdDeviation"))*jN}if(jw=="feColorMatrix"){var i7=jX.getAttribute("values");
if(i7){i7=i7.split(" ").map(parseFloat);ey=[i7[4],i7[9],i7[14],i7[18]]}}if(jw=="feComposite"){dt=!0}if(jw=="feOffset"){eh=!0;
var kn=jX.getAttribute("dx"),eK=jX.getAttribute("dy");iZ=parseFloat(kn?kn:0)*jN;bs=parseFloat(eK?eK:0)*jN}}if(jp&&(dt||eh)){var ee=dt?"IrSh":"DrSh";
if(ee=="IrSh"){C.add.iOpa=0}var az=JSON.parse(fL.JC[fL.order.indexOf(ee)]);az.blur.v.val=Math.round(kG*2.4);
var k7=Math.sqrt(iZ*iZ+bs*bs);az.uglg.v=!1;az.Dstn.v.val=Math.round(k7);az.lagl.v.val=Math.round(Math.atan2(bs,-iZ)*(180/Math.PI));
az.Clr.v=B.Vh.WZ({n:ey[0]*255,i:ey[1]*255,b:ey[2]*255});az.Opct.v.val=Math.round(ey[3]*100);m(C,fL.oN[fL.order.indexOf(ee)],az)}else if(jp)gB=kG}if(q=="g"||q=="a"||q=="svg"||q=="switch"||(q=="text"||q=="textPath")&&z.children.length>0||q=="symbol"&&G){if(q=="text")H=L(z,H);
var al=z.getAttribute("viewBox"),kl=z.getAttribute("width"),b9=z.getAttribute("height");if(q=="svg"&&kl&&b9&&al==null)al="0 0 "+kl+" "+b9;
if(al&&kl&&b9){var h9=v(al),ge=L(z),iN=new aJ;iN.translate(-h9[0],-h9[1]);iN.scale(parseFloat(kl)/h9[2],parseFloat(b9)/h9[3]);
iN.translate(ge.TO,ge.bZ);iN.concat(y);y=iN}var a8=z.children.length,dK=$.bP;$.bP=g;var f6=$.la;$.la=Math.max($.la,gB);
var fS=q!="text"&&q!="textPath"||a8>1;if(fS){var cf=C.oA();C.add.lsct=A<2&&cf&&(P==null||!P.endsWith(":::"))?d7.W$:d7.kZ;
C.fR="pass";C.IT=24;C.nP(cf);W.T.push(W.gB())}J(O,z.children,W,y,$,H,A+1);if(fS)W.T.push(C);else{var iG=W.T[W.T.length-1];
iG.S2=C.S2;iG.fR=C.fR}$.la=f6;$.bP=dK}else if(q=="use"){var iN=L(z);iN.concat(y);var eC=u(z),kH=O.getElementById(eC.slice(1));
if(kH){var dK=$.bP;$.bP=g;if(g.filter)kH.setAttribute("filter",g.filter);J(O,[kH],W,iN,$,H,A+1,!0);$.bP=dK}}else if(q=="path"||q=="rect"||q=="circle"||q=="ellipse"||q=="polygon"||q=="polyline"||q=="line"){C.IT|=16;
var dG=C.add.vmsk=new s.eo,i0=g.fill,e5=i0=="none"||g["fill-opacity"]&&parseFloat(g["fill-opacity"])==0,gA=g["fill-rule"]=="evenodd"?1:0;
dG.z=d(W,O,z,gA==1,e5);dG.Jb=gA;B.s.Ma(dG.z,y);var bW=g.stroke,e3=g["stroke-width"],iL=g["stroke-dasharray"],h4=g["stroke-linejoin"];
if(h4==null)h4="miter";var iT=g["stroke-linecap"];if(iT==null)iT="butt";var hC=g["stroke-miterlimit"];
if(hC==null)hC=4;else hC=parseFloat(hC);var dS=g["paint-order"],il=!(bW==null||bW=="none"||bW=="null"),i6=C.add.vstk=fL.gL.UX(null,il),co=g["stroke-opacity"]?parseFloat(g["stroke-opacity"]):1;
if(il){var bH=j(O,bW,y,dG.z,W),b5=["SoFi","GrFl","patternFill"].indexOf(bH.c),ej=bH.J.v.Opct.v,hA=1;
if(ej.val!=100||co!=1&&e5){C.S2=Math.round(co*C.S2*ej.val/100);ej.val=100;co=1}var id=[fL.hz,fL.RN,fL.CI][b5],dH=i6.strokeStyleContent.v={classID:fL.gL.Wj[b5]};
for(var T=0;T<id.length;T++)dH[id[T]]=bH.J.v[id[T]];e3=e3?parseFloat(e3):1;if(dS&&dS.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){hA=2;
e3/=2}var fn={Jv:["miter","round","bevel"].indexOf(h4),qP:["butt","round","square"].indexOf(iT),T8:e3,Mm:hC};
if(iL!=null&&iL!="none")fn.fe=iL.split(",").map(parseFloat);fL.gL.write(i6,fn,y.n$());i6.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fL.gL.md[hA];
i6.strokeStyleOpacity.v.val=100*co;if(bH.xJ)C.add._sstl=bH.xJ}C.add.vstk.fillEnabled.v=!e5;if(e5){C.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}}}else{var bH=j(O,i0,y,dG.z,W),d3=null,iF=null;
if(bH.c=="SoFi"){d3="SoCo";iF=fL.hz}if(bH.c=="GrFl"){d3="GdFl";iF=fL.RN}if(bH.c=="patternFill"){d3="PtFl";
iF=fL.CI}if(d3!=null){var ej=bH.J.v.Opct.v;if(ej.val!=100){C.S2=Math.round(C.S2*ej.val/100);ej.val=100}C.add[d3]={classID:"null"};
for(var T=0;T<iF.length;T++){var a=iF[T];C.add[d3][a]=bH.J.v[a]}}if(bH.xJ)C.add._fstl=bH.xJ}var hF=Math.max(gB,$.la);
if(hF!=0)C.add.vmsk.jC=hF;C.d6();C.vT(W);W.T.push(C)}else if((q=="text"||q=="tspan")&&z.textContent!=""){H=L(z,H);
var iN=H.O(),bs=0;iN.concat(y);if(q=="tspan"&&H.x!=0){}else iN.translate(K,0);if(z.children.length>0){var bz=Z(z.children[0],$.aiO);
for(var a in bz)if(l.indexOf(a)==-1)g[a]=bz[a]}var hN=g["xml:space"],cA=z.textContent;if(hN=="preserve")cA=cA.replace(/\t/g," ").replace(/\n/g," ");
if(P==null)C.Ip(cA);C.add.lnsr="rend";C.add.TySh=fr.YI(0,0);C.add.TySh.dP=new fP(0,0,100,100);C.add.TySh.C=iN.O();
var km=C.add.TySh.lf;fr.hj(km,0,cA);if(q=="tspan")K+=w*cA.length*.5*iN.n$();var i0=g.fill,gm=g["font-weight"],gS=g["font-family"],jl=g["text-decoration"],bW=g.stroke,e3=g["stroke-width"],jn=g["dominant-baseline"];
if(jn=="text-before-edge")bs=w;else if(jn=="middle")bs=w/2;else if(jn=="hanging")bs=w;if(bs!=0)C.add.TySh.C.translate(0,bs);
var ad=fr.aX(km,0,1);if(i0&&i0!="none"){var ey=CSS.J3(i0);ad.zI.FillColor={Type:1,Values:[1,ey.n/255,ey.i/255,ey.b/255]}}if(jl=="underline")ad.zI.Underline=!0;
ad.zI.FontSize=Math.round(w);fr.wm(ad,"LiberationSans");if(gm=="bold")fr.wm(ad,"LiberationSans-Bold");
if(gS){gS=gS.split(",")[0].trim();if(gS[0]=="\"")gS=gS.slice(1);if(gS[gS.length-1]=="\"")gS=gS.slice(0,gS.length-1);
var el=gS+":"+(gm?gm:"normal"),db={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(db[el])fr.wm(ad,db[el]);else fr.wm(ad,gS)}if(g["text-anchor"])ad.UZ.Justification=["start","end","middle"].indexOf(g["text-anchor"]);
fr.UE(km,0,cA.length,ad);if(bW==null||bW=="none"){}else{var az=JSON.parse(fL.JC[fL.order.indexOf("FrFX")]);
az.Clr.v=B.Vh.WZ(CSS.J3(bW));az.Sz.v.val=Math.round(parseFloat(e3)*iN.n$());m(C,"frameFXMulti",az)}W.T.push(C)}else if(q=="image"){var eC=u(z);
if(eC&&eC.slice(0,4)=="data"){var dC=gI.DU(eC),jJ=dC,cJ=W.dz(jJ,C.getName(),0,0);cJ.IT=C.IT;C=cJ;var gA=C.R.O();
gA.x=gA.y=0;var cu=z.getAttribute("width"),jg=z.getAttribute("height");if(cu)gA.q=parseFloat(cu);if(jg)gA._=parseFloat(jg);
var jP=L(z);jP.concat(y);var gc=B.w.Tp(gA).g;B.w.C(gc,jP,gc);C.add.SoLd.Trnf=c.L2.ni(gc);C.add.SoLd.nonAffineTransform=c.L2.ni(gc);
C.eW(W,!1);W.T.push(C)}}else console.log("unknown tag: "+q,z.children.length,z.textContent.length);if(r!=null){W.T.push(r);
A--}}}function m(O,F,W){var f=O.add.lmfx;if(f==null){var f=O.add.lmfx=JSON.parse(fL.default);for(var T=0;
T<fL.order.length;T++)f[fL.oN[T]]={t:"VlLs",v:[]}}f[F].v.push({t:"Objc",v:W})}function d(O,F,W,f,$){var H=[{c:6},{c:8,all:0}],A=h(W);
if(A=="use"){var G=u(W),l=F.getElementById(G.slice(1)),K=new aJ;if(h(l)!="rect")K=L(l);K.concat(E(l));
H=d(O,F,l,f,$);B.s.Ma(H,K)}else if(A=="path"){var U=W.getAttribute("d");if(U==null)return H;var z=Typr.U.SVGToPath(U);
H=B.w.GJ({g:z.crds,WQ:z.cmds},f,$)}else if(A=="rect"){var q=W.getAttribute("rx"),P=new fq(0,0);N("x",W,O,P,!0);
N("y",W,O,P,!1);var g=new fq(0,0);N("width",W,O,g,!0);N("height",W,O,g,!1);H=B.s.z0.Rect(P.x,P.y,g.x,g.y,q?parseFloat(q):0)}else if(A=="circle"||A=="ellipse"){var a=[0,0,0,0],w=["cx","cy","rx","ry","r"];
for(var T=0;T<5;T++){var y=W.getAttribute(w[T]);if(y){y=parseFloat(y);if(T<4)a[T]=y;else a[2]=a[3]=y}}H=B.s.z0.FO(a[0]-a[2],a[1]-a[3],2*a[2],2*a[3])}else if(A=="polygon"||A=="polyline"||A=="line"){var S;
if(A=="line")S=[W.getAttribute("x1"),W.getAttribute("y1"),W.getAttribute("x2"),W.getAttribute("y2")].map(parseFloat);
else S=W.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
H=B.s.z0.Ad(S,0,A!="polygon")}return H}function x(O,F){if(O.endsWith("em"))return F*parseFloat(O.slice(0,O.length-2));
else return parseFloat(O)}function j(O,F,W,f,$){var H,A,G,l=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]),K=B.s.jd(f),U=F!=null?F.indexOf("("):-1;
if(U!=-1){var z=F.indexOf(")"),q=F.slice(0,U).trim(),P=F.slice(U+1,z).trim();if(P.charAt(0)=="'"||P.charAt(0)=="\"")P=P.slice(1,P.length-1);
if(q=="url"){if(P.charAt(0)=="#"){var g=O.getElementById(P.slice(1));if(g&&h(g).toLowerCase().endsWith("gradient")){G=M(O,g,W,K,f);
var a=jQ.IQ(G,f);H="GrFl";A={t:"Objc",v:a}}else if(g&&h(g).toLowerCase()=="pattern"&&g.children[0]&&h(g.children[0])=="use"){H="SoFi";
A={t:"Objc",v:l};var w=g.children[0],y=E(w),S=u(w),i=O.getElementById(S.slice(1)),C=gI.DU(u(i)).buffer,Y=gI.g6(gI.pI(C)),_=Y.E2(C)[0],t={};
t.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";t.name="someImage";t.$O=[new Uint8Array(_.data),_.Ei];$.zR(t);
var l=JSON.parse(fL.JC[fL.order.indexOf("patternFill")]);l.Scl.v.val=Math.round(100*K.q*y.DR);var I=l.phase.v;
I.Hrzn.v=Math.round(K.x+y.TO*K.q);I.Vrtc.v=Math.round(K.y+y.bZ*K._);l.Ptrn.v.Idnt.v=t.id;H="patternFill";
A={t:"Objc",v:l}}else{H="SoFi";A={t:"Objc",v:l}}}else console.log("unknown url",P)}else if(q=="rgb"||q=="rgba"||q=="hsla"){H="SoFi";
A={t:"Objc",v:l};A.v.Clr.v=B.Vh.WZ(CSS.J3(F));if(q=="rgba"||q=="hsla")A.v.Opct.v.val=Math.round(100*parseFloat(F.split(",").pop()))}else console.log("unknown fill",F)}else{H="SoFi";
A={t:"Objc",v:l};var r=CSS.J3(F);A.v.Clr.v=B.Vh.WZ(r);if(r.DR!=null)A.v.Opct.v.val=Math.round(100*r.DR/255)}return{c:H,J:A,xJ:G}}function E(O){var F=new aJ,W=O.getAttribute("transform");
if(W)F=p(W);var f=O.getAttribute("style");if(f!=null){var $={};o($,f,["transform"]);f=$.transform;if(f)F.concat(p(f))}return F}function L(O,F){var W=new aJ,f=O.getAttribute("x"),$=O.getAttribute("y");
if(f)W.TO=parseFloat(f);else if(F)W.TO=F.TO;if($)W.bZ=parseFloat($);else if(F)W.bZ=F.bZ;return W}function p(O){var F=Typr.U.SVG.readTrnf(O);
return new aJ(F[0],F[1],F[2],F[3],F[4],F[5])}function Z(O,F){var W={},f="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var T=0;T<f.length;T++){var $=O.getAttribute(f[T]);if($!=null&&$!="inherit")W[f[T]]=$}var H=O.getAttribute("class");
if(F!=null&&H!=null&&F["."+H]!=null)o(W,F["."+H],f);var A=O.getAttribute("id");if(F!=null&&A!=null&&F["#"+A]!=null)o(W,F["#"+A],f);
var G=O.getAttribute("style");if(G!=null)o(W,G,f);return W}function o(O,F,W){F=F.trim().split(";");for(var T=0;
T<F.length;T++){var f=F[T].split(":"),$=f[0]?f[0].trim():"",H=f[1]?f[1].trim():"";for(var A=0;A<W.length;
A++)if($==W[A]&&H!="inherit")O[W[A]]=H}}function u(O){var F=O.getAttribute("xlink:href");if(F==null)F=O.getAttribute("href");
if(F==null)F=O.getAttribute("xl:href");return F}function N(O,F,W,f,$){var H=F.getAttribute(O);if(H==null)return;
var A=parseFloat(H);if(H.endsWith("%"))A*=($?W.q:W._)/100;if($)f.x=A;else f.y=A}function M(O,F,W,f,$){var H=N,A=new aJ,G=F.getAttribute("gradientTransform"),P=!1;
if(G)A=p(G);A.concat(W);var l=h(F)=="linearGradient"?0:1,K=new fq(0,0),U=new fq(1,0),z=K.O();if(l==0){var q=new fP(0,0,1,1);
H("x1",F,q,K,!0);H("y1",F,q,K,!1);H("x2",F,q,U,!0);H("y2",F,q,U,!1);z.Cg(K.x,K.y)}if(l==1){if(F.getAttribute("cx"))K.x=parseFloat(F.getAttribute("cx"));
if(F.getAttribute("cy"))K.y=parseFloat(F.getAttribute("cy"));U.Cg(K.x,K.y);z.Cg(K.x,K.y);if(F.getAttribute("r"))U.x+=parseFloat(F.getAttribute("r"));
if(F.getAttribute("fx"))z.x=parseFloat(F.getAttribute("fx"));if(F.getAttribute("fy"))z.y=parseFloat(F.getAttribute("fy"))}var g=F;
while(!0){if(g.getAttribute("gradientUnits")=="userSpaceOnUse")P=!0;var a=u(g);if(a==null)break;g=O.getElementById(a.slice(1))}if(!P)A=new aJ(f.q,0,0,f._,f.x,f.y);
A=jQ.pB(K,U,A);var w=jQ.$V(l,A,$);jQ.JY(w,K,U,z);var y=F.children,S=w[1]=[];if(y.length==0){var i=u(F);
if(i==null)throw"gradient has no stops";var C=O.getElementById(i.slice(1));if(C==null){console.log(i.slice(1))}else S=w[1]=M(O,C,A,f,$)[1]}else for(var T=0;
T<y.length;T++){var Y=y[T],_=Z(Y),t=_["stop-color"],I=_["stop-opacity"],r=Y.getAttribute("offset");if(t==null)t="#000000";
I=I==null?1:parseFloat(I);var n=r?parseFloat(r):0;if(r&&r.endsWith("%"))n/=100;t=CSS.J3(t);if(t.DR!=null)I*=t.DR/255;
S.push([n,[t.n/255,t.i/255,t.b/255],parseFloat(I),.5])}return w}return{kq:e}}();h_.mA=function(){var h=null,e="",v="",J;
function m(K,U,z,q){var P=[],y=" { ",S=" } ",i=!1;h=U;v=U.lV?"":"\t";e=U.lV?"":" ";var g=U.azA,a=U.aI6;
J=jD==0?new fP(0,0,K.q,K._):K.Wo();if(q!=null){J=K.root.children[q].L.AC();g=J.q;a=J._}P.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[J.x,J.y,J.q,J._].join(" ")+"\" width=\""+g+"\" height=\""+a+"\">");
if(!U.lV)P.push(d(1)+"<title>"+W(K.name.split(".")[0])+"</title>");var w={kR:[],L1:[],Lk:0,$m:0,vE:0,Yg:{},sw:{},LR:0,bt:{},axp:{},FR:0,eN:[]};
N(K,w,K.root.children,1,U,z,q);if(w.kR.length!=0){P.push(d(1)+"<defs>");P=P.concat(w.kR);P.push(d(1)+"</defs>")}P.push(d(1)+"<style>");
if(U.lV){y="{";S="}"}for(var T=0;T<K.T.length;T++)if(K.T[T].add.TySh)i=!0;if(i&&!U.aCz&&!U.a3f)P.push(d(2)+"tspan"+y+"white-space:pre"+S);
for(var C in w.bt)P.push(d(2)+"."+C+y+w.bt[C]+S);P.push(d(1)+"</style>");P=P.concat(w.L1);P.push("</svg>");
P=P.join(U.lV?"":"\n");return b.YQ(P)}function d(iW){var K="";for(var T=0;T<iW;T++)K+=v;return K}function x(iW,K){if(K==null)K=1;
var U=""+parseFloat(iW.toFixed(K));if(U.startsWith("0."))U=U.slice(1);return U}function j(K,U){var z=K.add.lmfx;
if(z)z=z[U].v[0];if(z)z=z.v;if(z&&!z.enab.v)z=null;return z}function E(K,U){var z=j(K,"frameFXMulti");
if(z){var q=z.Sz.v.val;if(z.Styl.v.FStl=="OutF"){U.push("paint-order:stroke fill markers");q*=2}u(U,CSS.w1(z.Clr.v),1);
if(q!=1)U.push("stroke-width: "+q);U.push("stroke-linejoin: round;")}}var L="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function p(K){var U=L.length,z="";for(var q=1;q<10;q++){var P=(U-10)*~~Math.pow(U,q-1);if(K<P){for(var T=0;
T<q;T++){var g=T==q-1?10:0,a=U-g,w=K%a;z=L[w+g]+z;K=Math.floor((K-w)/a)}break}K-=P}return z}function Z(K,U,z,q){if(K.length!=0){if(q==null)q="s";
var P=K.join(";"),g=U.axp[P];if(g==null){g=h.lV?p(U.FR):q+U.FR;U.FR++;U.axp[P]=g;U.bt[g]=P}if(z)z.push(g);
return g}}function o(K){if(h.lV&&K.length==7&&K[0]=="#"){if(K[1]==K[2]&&K[3]==K[4]&&K[5]==K[6])K="#"+K[1]+K[3]+K[5]}return K}function u(K,U,z){U=o(U);
if(U!="#000"||z==1)K.push((z==0?"fill:":"stroke:")+e+U)}function N(K,U,z,q,P,g,a){var w=!1;for(var y=0;
y<z.length;y++){var S=z[y].L,i=S.add.lsct;if(S.FP)continue;if(S.add.artb&&a!=null&&y!=a)continue;if(!S.ql&&z[y+1]&&z[y+1].L.ql&&S.Yb()&&S.add.vmsk){var C=[];
$(S,S.add.vmsk,U,C);U.L1.push(d(q)+"<g "+C[0]+">");q++;w=!0}else if(!S.ql&&z[y-1]&&z[y-1].L.ql&&w){q--;
U.L1.push(d(q)+"</g>");w=!1}var Y=S.add.vmsk,_=S.add.vogk,t=S.add.vstk,I=S.add.TySh;if(Y&&!Y.isEnabled)Y=t=null;
var r=[];if(!P.hidden&&!S.oA())continue;var n=S.S2/255,Q=S.add.iOpa?S.add.iOpa/255:1;if(S.XN()){n*=Q;
Q=1}if(n!=1)r.push("opacity:"+e+x(n));if(Q!=1)r.push("fill-opacity:"+e+x(Q));if(S.fR!="norm"){var D=cc.rq[cc.El.indexOf(S.fR)];
if(D!=null)r.push("mix-blend-mode:"+e+D)}if(!S.oA())r.push("display:"+e+"none");var C=[],dG=[],R=S.getName(),X=R.indexOf(" .");
if(!P.lV)C.push("id=\""+W(R)+"\"");var dx=d4.a1T(S.add.lmfx,S.add),jv=dx[0],gB=dx[1],hQ=S.add.SoLd;if(hQ&&hQ.filterFX){var ah=hQ.filterFX.v;
if(ah.enab.v&&ah.filterFXList.v.length!=0)hQ=null}if(S.XN()){var kG=z[y].children;if(kG.length==1&&kG[0].L.add.SoLd&&!P.xq){}else{var iZ=Y,bs=kG.length==0?null:kG[kG.length-1].L;
if(jD==1&&bs&&bs.FP&&bs.oA())iZ=bs.add.vmsk;$(S,iZ,U,C);if(r.length!=0)C.push("style=\""+r.join(";")+"\"");
if(jv){var ey=CSS.w1(jv.Clr.v),jp="f"+U.$m;U.$m++;U.L1.push(d(q)+"<filter id=\""+jp+"\">");U.L1.push(d(q+1)+"<feFlood flood-color=\""+ey+"\" flood-opacity=\""+x(jv.Opct.v.val/100,2)+"\" />");
U.L1.push(d(q+1)+"<feBlend mode=\""+cc.rq[cc.El.indexOf(cc.lY(jv.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
U.L1.push(d(q+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");U.L1.push(d(q)+"</filter>");
C.push("filter=\"url(#"+jp+")\"")}var eh=F(C,dG),dt=P.lV&&eh=="";if(!dt)U.L1.push(d(q)+"<g"+(eh==""?"":" "+eh)+">");
N(K,U,kG,q+1,P,g);if(!dt)U.L1.push(d(q)+"</g>")}}else if(S.Yb()&&Y==null){H(K,r,S.add,U,J,P);if(r.length!=0)C.push("style=\""+r.join(";")+"\"");
U.L1.push(d(q)+"<rect width=\""+J.q+"\" height=\""+J._+"\" "+F(C,dG)+"/>")}else if(Y&&hQ==null&&S.add.PtFl==null){H(K,r,S.add,U,iU,P,Y.z);
Z(r,U,dG);var jN,jX=null,jw=0,i7;if(_.length!=0){jN=_[0].v;jX=jN.keyOriginType;if(jX)jX=jX.v;if(jX==2){var kn=B.WU.Tx(jN);
jw=kn[0];for(var T=0;T<3;T++)if(jw!=kn[T+1])jX=null}}if(_.length==1&&jX==5&&Math.abs(B.WU.a7Q(jN))<1e-4){var eK=B.WU.oc(jN),ee=(eK[0]+eK[2])/2,az=(eK[1]+eK[3])/2,k7=ee-eK[0],al=az-eK[1],kl=Math.abs(k7-al)<.01,b9=kl?"r=\""+x(k7)+"\"":"rx=\""+x(k7)+"\" ry=\""+x(al)+"\"";
i7="<"+(kl?"circle":"ellipse")+" "+F(C,dG)+" cx=\""+x(ee)+"\" cy=\""+x(az)+"\" "+b9+"/>"}else if(_.length==1&&jX==2&&jw!=0&&Math.abs(B.WU.a7Q(jN))<1e-4){var eK=B.WU.oc(jN),h9=eK[0],ge=eK[1],iN=eK[2]-eK[0],a8=eK[3]-eK[1],dK="";
if(h9!=0)dK+=" x=\""+x(h9)+"\"";if(ge!=0)dK+=" y=\""+x(ge)+"\"";dK+=" width=\""+x(iN)+"\"";dK+=" height=\""+x(a8)+"\"";
dK+=" rx=\""+x(jw)+"\"";i7="<rect "+F(C,dG)+dK+"></rect>"}else{var f6,fS;if(jD==0){var cf=B.s.vg(Y.z,1);
f6=cf.gA;fS=cf.cM}else{var iG=B.w._i(Y.z);f6=Typr.U.pathToSVG({crds:iG.g,cmds:iG.WQ},1);fS=Y.Jb}if(fS!=0){C.push("fill-rule=\"evenodd\"")}i7="<path "+F(C,dG)+" d=\""+f6+"\"/>"}U.L1.push(d(q)+i7)}else if(I&&P.aCz){e=P.lV?"":" ";
var eC=I.lf,kH=new em(eC,g,I.fB),i0=null;if(jv)i0=CSS.w1(jv.Clr.v);if(gB){var eK=S.R.O();l(gB,U,eK,P);
i0="url(#g"+U.Lk+")"}if(i0)r.push("fill:"+e+i0);E(S,r);var iG=hP.s2(kH,I,!0),e5=B.w.FE(iG);for(var gA in e5){var bW=r.slice(0),e3=dG.slice(0),iL=C.slice(0);
if(i0==null){u(bW,gA.slice(0,7),0);if(gA.length>7){var h4=hP.aF2(gA.slice(7));u(bW,G(h4.N0),1);A(h4,bW,!0)}}Z(bW,U,e3);
var iT=e5[gA],hC=Typr.U.pathToSVG({crds:iT.g,cmds:iT.WQ},1);U.L1.push(d(q)+"<path "+F(iL,e3)+(P.lV?"":" "+O(I))+" d=\""+hC+"\"/>")}}else if(I&&!P.a3f){var eC=I.lf,dS=I.C.O(),i0=null;
r.push("transform:"+e+f(dS));var il=fr.X3(eC),kH=new em(eC,g,I.fB);E(S,r);if(r.length!=0)C.push("style=\""+r.join(";")+"\"");
U.L1.push(d(q)+"<text "+F(C,dG)+" >");if(jv)i0=CSS.w1(jv.Clr.v);if(gB){var eK=S.R.O();eK.x-=dS.TO;eK.y-=dS.bZ;
l(gB,U,eK,P);i0=" url(#g"+U.Lk+")"}for(var T=0;T<kH.UZ.length;T++){var i6=kH.UZ[T];if(i6.Dq.length==1&&i6.Dq[0].Ny)continue;
for(var co=0;co<i6.zo.length;co++){var bH=i6.zo[co],az=i6.R8.y+bH.R8.y,b5=i6.Dq[bH.start].start,ej=i6.Dq[bH.end-1].end,id=fr.axs(eC,b5,ej),dH="";
for(var hA=0;hA<id.length;hA++){var fn=kH.Mq(b5),d3=id[hA],iF=fr.aX(eC,b5,b5),hF=iF.k0[iF.zI.Font].Name,gA=fr.SL(iF.zI.FillColor),bz=Math.round(iF.zI.FontSize),hN=il.slice(b5,b5+d3);
if(iF.zI.FontCaps==2)hN=hN.toUpperCase();var cA=new aJ;cA.translate(fn.e3.x,-az);var km=[];CSS.ahk(km,iF,null,!0,!0,i0);
var gm=Z(km,U,null,"t");gm=gm?" class=\""+gm+"\"":"";var ee=fn.e3.x,gS=M(iF,hN);dH+="<tspan "+(hA==0?"x=\""+x(fn.e3.x)+"\"":"")+" y=\""+x(az)+"\""+gm+gS+">"+W(hN)+"</tspan>";
b5+=d3}U.L1.push(d(q+1)+dH)}}U.L1.push(d(q)+"</text>")}else if(hQ&&P.xq&&jv==null){var jp=hQ.Idnt.v,jl=0,jn=hQ.Crop?hQ.Crop.v:null;
console.log(jn);if(U.sw[jp]!=null)jl=U.sw[jp];else{U.LR++;jl=U.LR;U.sw[jp]=U.LR;var ad=K.Rk(jp,jn),dC="";
if(ad==null)return;var el=ad.pd,db=gI.pI(ad.raw.buffer);console.log(db);if(db=="pdf"){var jJ=new e7("h");
gI.g6("PDF").E2(ad.raw.buffer,jJ);jJ.Bb();jJ.gU();jJ.dn();jJ.vp();if(hQ.Crop&&hQ.Crop.v==1){c.Zk.SU(jJ,jJ.root.YO(jJ,!0))}var cJ=gI.g6("SVG").oZ(jJ,jJ.q,jJ._,null,{eN:g});
dC="data:image/svg+xml;base64,"+gI.nQ(cJ)}else if(db=="jpg"||db=="png"||db=="gif"||db=="svg"){var cu={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
dC="data:"+cu[db]+";base64,"+gI.nQ(ad.raw.buffer)}else{dC=gI.q0(el[0].buffer,el[1].q,el[1]._)}var jg=hQ.Sz.v;
U.kR.push(d(2)+"<image width=\""+jg.Wdth.v+"\" height=\""+jg.Hght.v+"\" id=\"img"+jl+"\" href=\""+dC+"\"/>")}var jP=B.D.li(hQ),gc=[];
$(S,Y,U,gc);if(gc.length!=0)U.L1.push(d(q)+"<g "+F(gc,dG)+">");if(r.length!=0)C.push("style=\""+r.join(";")+"\"");
var er=F(C,dG);U.L1.push(d(q)+"<use "+er+" href=\"#img"+jl+"\" transform=\""+f(jP)+"\"/>");if(gc.length!=0)U.L1.push(d(q)+"</g>")}else if(!S.R.EG()&&(P.xq||I)){if(r.length!=0)C.push("style=\""+r.join(";")+"\"");
var er=F(C,dG),jR=S.buffer;if(jv)jR=d4.aFn(jR,jv,S.R);var fS=S.R;U.LR++;var dC=gI.q0(jR.buffer,fS.q,fS._,"png",null,!0);
U.kR.push(d(2)+"<image "+O(I)+" width=\""+S.R.q+"\" height=\""+S.R._+"\" id=\"img"+U.LR+"\" href=\""+dC+"\"/>");
U.L1.push(d(q)+"<use "+er+" href=\"#img"+U.LR+"\" x=\""+fS.x+"\" y=\""+fS.y+"\"/>")}}if(w){q--;U.L1.push(d(q)+"</g>");
w=!1}}function M(K,U){var z=K.zI.Tracking,q="";if(z!=null&&z!=0){z=Math.round(z*K.zI.FontSize/1e3);q=" dx=\"0";
for(var P=1;P<U.length;P++)q+=" "+z;q+="\" "}return q}function O(K){if(K==null)return"";var U=K.lf,z=fr.X3(U);
z=W(z.slice(0,z.length-1));return"aria-label=\""+z+"\" "}function F(K,U){if(U.length!=0)K.push("class=\""+U.join(" ")+"\"");
return K.join(" ")}function W(K){return String(K).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function f(K){var U=[K.DR,K.b,K.tg,K.l_,K.TO,K.bZ];
for(var T=0;T<6;T++)U[T]=x(U[T],3);return"matrix("+U.join(",")+")"}function $(K,U,z,q){if(U||K.add.artb){var P;
if(U)P=B.s.vg(U.z).gA;else{var g=K.AC(),a=B.w.Tp(g);P=Typr.U.pathToSVG({crds:a.g,cmds:a.WQ},1)}z.vE++;
q.push("clip-path=\"url(#cp"+z.vE+")\"");z.kR.push(d(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+z.vE+"\">");
z.kR.push(d(3)+"<path d=\""+P+"\"/>");z.kR.push(d(2)+"</clipPath>")}}function H(K,U,z,q,P,g,a){var w=z.vmsk,y=z.lmfx,S=[];
if(w&&w.jC!=0){var i=x(w.jC);if(q.Yg[i]==null){q.$m++;q.Yg[i]=q.$m;q.kR.push(d(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+q.$m+"\"> <feGaussianBlur stdDeviation=\""+i+"\"/> </filter>")}S.push("url(#f"+q.Yg[i]+")")}if(y)for(var T=0;
T<fL.order.length;T++){var C=fL.order[T],Y=fL.oN[T],_=y[Y].v;for(var t=0;t<_.length;t++){var I=_[t].v,r=I.classID;
if(!I.enab.v)continue;if(r=="OrGl"||r=="DrSh"){q.$m++;S.push("url(#f"+q.$m+")");var n=0,Q=0,D=I.blur.v.val/2.4,R=I.Opct.v.val/100;
if(r=="DrSh"){var X=I.uglg&&I.uglg.v?K.J0():I.lagl.v.val;X=X*(Math.PI/180);var dx=I.Dstn.v.val;n=-Math.cos(X)*dx;
Q=Math.sin(X)*dx}if(r=="OrGl")R/=I.Inpr.v.val/100;var jv="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+q.$m+"\" >";
jv+="<feDropShadow dx=\""+n+"\" dy=\""+Q+"\" stdDeviation=\""+D+"\" flood-color=\""+CSS.w1(I.Clr.v)+"\" flood-opacity=\""+x(R)+"\"/>";
jv+="</filter>";q.kR.push(d(2)+jv)}}}if(S.length!=0)U.push("filter:"+e+S.join(" "));var gB=z.vstl;if(gB==null)gB=e7.mv(z,K);
for(var T=0;T<2;T++){var hQ=T==0?gB.xJ:gB.N0;if(hQ.length==0){if(T==0)U.push("fill:"+e+"none")}else if(hQ.length==3)u(U,G(hQ),T);
else{l(hQ,q,P,g,a);u(U,"url(#g"+q.Lk+")",T)}}if(gB.N0.length!=0){A(gB,U)}}function A(K,U,z){var q=K.qP,P=K.Jv,g=K.T8,a=K.Tt,w=K.fe;
if(a==2){if(!z)g*=2;U.push("paint-order:stroke fill markers")}if(q!=0)U.push("stroke-linecap:"+e+["butt","round","square"][q]);
if(P!=0)U.push("stroke-linejoin:"+e+["miter","round","bevel"][P]);else if(K.Mm!=4)U.push("stroke-miterlimit:"+K.Mm);
if(g!=1)U.push("stroke-width:"+e+x(g));if(w.length!=0)U.push("stroke-dasharray:"+e+w.join(","))}function G(K){return CSS.Q8({n:K[0]*255,i:K[1]*255,b:K[2]*255})}function l(K,U,z,q,P){if(P==null)P=B.s.z0.Rect(z.x,z.y,z.q,z._);
if(!(K instanceof Array))K=jQ.$E(K,P);U.Lk++;var g=K[0],a=(g==1?"radial":"linear")+"Gradient",w=d(2)+"<"+a+" id=\"g"+U.Lk+"\"",y="";
if(q.lV){if(U.Lk==1)U.kR.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");y=" href=\"#P\""}else y=" gradientUnits=\"userSpaceOnUse\"";
var S=jQ.Ep(K,P),i=[new fq(0,0),new fq(1,0)];y+=" gradientTransform=\""+f(S)+"\"";var C=q.lV?2:3;if(g==0)U.kR.push(w+" x2=\"1\""+y+">");
if(g==1){if(K[2][6]!=0){var Y=K[2][5]*Math.PI/180,_=K[2][6];U.kR.push(w+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+x(Math.cos(Y)*_,C)+"\" fy=\""+x(-Math.sin(Y)*_,C)+"\""+y+">")}else U.kR.push(w+" cx=\"0\" cy=\"0\" r=\"1\""+y+">")}var t=K[1];
for(var T=0;T<t.length;T++){var I=t[T],r=I[0],n=I[1],Q=I[2];Q=Q==1?"":" stop-opacity=\""+x(Q,C)+"\"";
var D=r==0&&q.lV?"":" offset=\""+x(r,C)+"\"",dG=G(n);dG=q.lV&&dG=="#000000"?"":" stop-color=\""+o(dG)+"\"";
U.kR.push(d(3)+"<stop"+D+dG+Q+"/>")}U.kR.push(d(2)+"</"+a+">")}h_.Ux=f;return m}();h_.z0=function(h,e,v,J,m){var d=[],x=h_.z0,j=!1,E={VA:h,qw:e,Ke:[!0,!0,!0],sm:!1,nw:v,ajs:0};
E.f_=Math.round(Math.max(h,e)*(.02+x.FF(E)*.03));E.AD=x.adN(E);E.yy=x.afE(E.AD,(x.FF(E)<.5?-1:1)*(.2+x.FF(E)*.3));
if(x.FF(E)<.5){var L=E.AD;E.AD=E.yy;E.yy=L}E.aBX=x.FF(E)<.4&&x.asA(E.yy,{n:1,i:1,b:1})>.3;E.a6I=x.FF(E)<.5?0:1;
d.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+h+" "+e+"\" width=\""+h+"\" height=\""+e+"\">");
E.xG=J[Math.floor(x.C8(E)*J.length)];E.tc=J[Math.floor(x.C8(E)*J.length)];d.push("<style>");d.push("@font-face {  font-family: "+E.xG[2]+";  src: url("+cU.Hk("rsrc/fonts/")+E.xG[5]+");  }");
d.push("@font-face {  font-family: "+E.tc[2]+";  src: url("+cU.Hk("rsrc/fonts/")+E.tc[5]+");  }");d.push("</style>");
var p=[0,0,h,e],Z=p;if(m==null)d.push("<path style=\"fill: "+x.nC(E.AD)+"\" d=\""+x.Rect(p[0],p[1],p[2]-p[0],p[3]-p[1])+"\" id=\"Background\" />");
else{E.sm=!0;x.atn(E,p,d,m)}if(x.FF(E)<.25&&!E.sm){E.Ke[0]=E.Ke[2]=!1;x.aiU(p,E,d);Z=p}else if(x.FF(E)<.25||E.sm)Z=p;
else{var o=.52+x.FF(E)*.2;if(x.FF(E)<.5)o=1-o;var u=p.slice(0),N=p.slice(0);if(x.FF(E)<.5)u[2]=N[0]=Math.round(o*h);
else u[3]=N[1]=Math.round(o*e);if(x.FF(E)<.5){var L=u;u=N;N=L}Z=u;x.adr(E,N,d,m)}x.axQ(E,Z,d);d.push("</svg>");
d=d.join("\n");var M=B.U(Math.round(d.length*1.5)),O=b.VC(d,M,0);return[M.buffer.slice(0,O),E.wp]};h_.z0.aiU=function(h,e,v){var J=h_.z0,m=h[2]-h[0],d=h[3]-h[1];
if(J.FF(e)<.5){v.push("<path id=\"Border\" style=\"fill: "+J.nC(e.yy)+"\" d=\""+J.a1B(h[0],h[1],h[2]-h[0],h[3]-h[1],e.f_)+"\" />")}else{var x=J.FF(e)<.5?0:1,j=(x==0?d:m)/4,E=J.IZ(e,x,h,v,j,!0),E=J.IZ(e,x+2,h,v,j,!0,E)}};
h_.z0.axQ=function(h,e,v){var J=h_.z0,m="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),d=2*Math.floor(J.FF(h)*m.length/2),x=e[2]-e[0],j=e[3]-e[1],L=0,Z=0;
h.CE=(h.VA+x)*.5*(.04+J.FF(h)*.05);h.CE=Math.min(h.CE,j*.4,x*.12);h.CE=Math.round(h.CE);var E=Math.min(h.CE*m[d].length*(.35+.3*J.FF(h)),x*.9),p=(e[1]+e[3])/2,o=B.qG(h.AD)<.85?{n:1,i:1,b:1}:{n:.1,i:.1,b:.1};
if(J.FF(h)<.25&&h.Ke[0]){Z=0;L=e[0]+h.f_}else if(J.FF(h)<.33&&h.Ke[2]){Z=2;L=e[2]-h.f_}else{Z=1;L=(e[0]+e[2])/2}var u=o.n==1?"0,0,0":"255,255,255",N=h.sm&&J.FF(h)<1;
if(N){var M=e[0],O=x,F=p-h.CE*1.1,W=h.CE*2.2,f=.7;if(Z==1&&J.FF(h)<.5){M=F=.2*Math.min(x,j);O=x-2*F;
W=j-F-F}else if(J.FF(h)<.7){M=F=0;O=x;W=j;f=.25}v.push("<path id=\"Strip\" style=\"fill: rgb("+u+"); opacity: "+f+"\" d=\""+J.Rect(M,F,O,W)+"\" />")}if(J.FF(h)<.4){var $=h.CE*.07;
$*=1.5+J.FF(h)*1;if(Z==-1&&x/j<3&&!N){v.push("<path id=\"Bar-bottom\" style=\"fill: "+J.nC(o)+"\" d=\""+J.Rect(L-E/2,p+h.CE*1.1-$/2,E,$)+"\" />");
v.push("<path id=\"Bar-top\"    style=\"fill: "+J.nC(o)+"\" d=\""+J.Rect(L-E/2,p-h.CE*1.1-$/2,E,$)+"\" />")}if(Z!=1){v.push("<path id=\"Bar\" style=\"fill: "+J.nC(o)+"\" d=\""+J.Rect(L-$/2,p-h.CE*.8,$,h.CE*.8*2)+"\" />");
L+=(Z==0?1:-1)*h.CE/3}}var H=h.CE*.4;v.push(J.aDt(m[d+1],L,p+H*1.6,H,o,Z,h.tc));v.push(J.aDt(m[d],L,p+h.CE*.04,h.CE,o,Z,h.xG))};
h_.z0.adr=function(h,e,v,J){var m=e[2]-e[0],d=e[3]-e[1],x=Math.max(m,d),j=Math.min(m,d),E=h_.z0;if(x/j<5&&!h.sm&&!1){E.atn(h,e,v,J)}else if(E.FF(h)<0)v.push("<path style=\"fill: "+E.nC(h.yy)+"\" d=\""+E.Rect(e[0],e[1],m,d)+"\" />");
else{var L=0;if(e[3]!=h.qw)L=0;if(e[2]!=h.VA)L=3;if(e[0]!=0)L=1;if(e[1]!=0)L=2;var p=L+2&3;if(x/j<3){var Z=E.axJ(p),o=Z[Math.round(E.FF(h)*(Z.length-1))],u=o.pQ.slice(0,4),N=u.indexOf(1);
o=B.t(o);var M=-1;if(u!="0000"){var O=new aJ;if(o.pQ[5]=="0"){if(N==3&&L==1){M=1;O.scale(-1,1)}else M=N}else{var F=p;
while(F==p)F=Math.floor(E.FF(h)*4)&3;O.rotate((-N+F)*Math.PI/2)}E.C(o,O)}var W=E.oS(o),f=m-2*h.f_,$=d-2*h.f_;
if(M!=-1){if((M&1)==0)$-=h.f_;else f-=h.f_}var H=Math.min(f/W.q,$/W._),A=new aJ;A.translate(-W.x,-W.y);
A.scale(H,H);var G=(m-W.q*H)/2,l=(d-W._*H)/2;if(M!=-1){if(M==3)G=0;if(M==0)l=0;if(M==1)G=m-W.q*H;if(M==2)l=d-W._*H}A.translate(e[0]+G,e[1]+l);
E.XH(h,o,A,h.yy,v)}else{E.IZ(h,L,e,v,1e9)}}};h_.z0.atn=function(h,e,v,J){var m=e[2]-e[0],d=e[3]-e[1],x=Math.max(m,d),j=Math.min(m,d),E=h_.z0,L=E.C8(h),p,Z,o,u=J[0]instanceof ArrayBuffer;
if(u){p="data:image/jpg;base64,"+ke.wE(J[0]);Z=J[1];o=J[2]}else{var N=Math.floor(L*J.length),M=J[N];
h.wp=M;p=M.webformatURL;Z=M.webformatWidth;o=M.webformatHeight}var O=e[0],F=e[1],W=m,f=d;if(m/d>Z/o){f=W*o/Z;
F=F-(f-d)/2}else{W=f*Z/o;O=O-(W-m)/2}if(u){v.push("<defs>");v.push("<image width=\""+Z+"\" height=\""+o+"\" id=\"Background\" href=\""+p+"\" />");
v.push("</defs>");var $=W/Z;v.push("<use href=\"#Background\" transform=\""+h_.Ux(new aJ($,0,0,$,O,F))+"\" />")}else{var H="cp"+Math.random();
v.push("<clipPath id=\""+H+"\">");v.push("<path style=\"fill: "+E.nC(h.yy)+"\" d=\""+E.Rect(e[0],e[1],m,d)+"\" />");
v.push("</clipPath>");v.push("<image  clip-path=\"url(#"+H+")\" xlink:href=\""+p+"\" x=\""+O+"\" y=\""+F+"\" width=\""+W+"\" height=\""+f+"\" />")}};
h_.z0.aDt=function(h,e,v,J,m,d,x){var j=h_.z0;return"<text x=\""+e+"\" y=\""+v+"\" style=\"fill:"+j.nC(m)+"; font-size:"+J+"px; text-anchor:"+["start","middle","end"][d]+"; font-family:"+x[2]+";\"><tspan>"+h+"</tspan></text>"};
h_.z0.XH=function(h,e,v,J,m){var d=h_.z0,x=[];for(var T=0;T<e.sf.length;T++){x.push(J);if(h.aBX){J=(T&1)==h.a6I?{n:1,i:1,b:1}:x[0]}}m.push("<g id=\""+e.pQ.split("-")[2]+":::\" style=\"transform: "+h_.Ux(v)+";\" >");
for(var T=0;T<e.sf.length;T++){var j=e.sf[T];J=x.pop();m.push("<path style=\"fill: "+(J?d.nC(J):"#"+j[0])+"\" d=\""+Typr.U.pathToSVG({crds:j[1].g,cmds:j[1].WQ})+"\" />")}m.push("</g>")};
h_.z0.anG=function(){if(SHPS[0].pQ)return;for(var T=0;T<SHPS.length;T++){var h=SHPS[T],e=h[1],v=[];for(var J=0;
J<e.length;J++){var m=e[J],d=Typr.U.SVGToPath(m[1]);v.push([m[0],{WQ:d.cmds,g:d.crds}])}SHPS[T]={pQ:h[0],sf:v}}};
h_.z0.axJ=function(h){var e=SHPS;h_.z0.anG();var v=[];for(var T=0;T<e.length;T++){var J=e[T],m=J.pQ.slice(0,4);
if(m=="0000"){v.push(J);continue}if(["1000","0100","0010","0001"].indexOf(m)==-1)continue;var d=m.indexOf("1");
if(J.pQ[5]=="0"&&h==d&&d!=3)continue;v.push(J)}return v};h_.z0.IZ=function(h,e,v,J,m,d,x){var j=SHPS,W,f;
h_.z0.anG();var E=h_.z0,L=[];for(var T=0;T<j.length;T++){var p=j[T],Z=p.pQ.slice(0,4);if(["1110","1101","1011","0111"].indexOf(Z)==-1)continue;
var o=Z.indexOf("0")+2&3;if(p.pQ[5]=="0")if(d==!0||e!=o&&!(e==1&&o==3))continue;L.push(p)}var u=x!=null?x:Math.floor(E.FF(h)*L.length),p=L[u],p=B.t(p),Z=p.pQ.slice(0,4),o=Z.indexOf("0")+2&3;
if(o==3&&e==1)B.C(p,new aJ(1,0,0,-1,0,1e3));var N=new aJ;N.translate(-500,-500);N.rotate(-o*Math.PI/2);
N.translate(500,500);E.C(p,N);var M=v[3]-v[1],O=v[2]-v[0],F=E.oS(p);if(F.y<0){F._+=F.y;F.y=0}if(F.y>0){F._+=F.y;
F.y=0}if((e&1)==0){f=M;W=O}else{W=M;f=O}var $=Math.min(Math.min(.5+.5*E.FF(h))*Math.min(O,M),m)/F._,H=Math.ceil(W/(1e3*$)),A=new aJ,G=new aJ;
G.scale($,$);if(e==0||e==2){G.translate(-(O/2),-(M/2));G.rotate(-e*Math.PI/2);G.translate(O/2+v[0],M/2+v[1])}else{G.rotate(Math.PI/2);
G.scale(1,-1);G.translate(v[0],v[1]);if(e==1){G.scale(-1,1);G.translate(O,0)}}J.push("<g id=\"Border-"+["top","right","bottom","left"][e]+":::\">");
for(var T=0;T<H;T++){var l=A.O();l.concat(G);E.XH(h,p,l,h.yy,J);A.translate(1e3-2,0)}J.push("</g>");
return u};h_.z0.Rect=function(h,e,v,J){return Typr.U.pathToSVG({crds:[h,e,h+v,e,h+v,e+J,h,e+J],cmds:["M","L","L","L","Z"]})};
h_.z0.a1B=function(h,e,v,J,m){var d=[h,e,h+v,e,h+v,e+J,h,e+J];h+=m;e+=m;v-=2*m;J-=2*m;d.push(h,e,h,e+J,h+v,e+J,h+v,e);
return Typr.U.pathToSVG({crds:d,cmds:"M L L L Z M L L L Z".split(" ")})};h_.z0.afE=function(h,e){var v=B.kn(h.n,h.i,h.b);
v.cw=Math.max(.1,Math.min(.9,v.cw+e));return B.aP(v.qw,v.eL,v.cw)};h_.z0.akn=function(h,e){var v=B.kn(h.n,h.i,h.b);
v.qw+=e;return B.aP(v.qw,v.eL,v.cw)};h_.z0.alr=function(h){var e=B.kn(h.n,h.i,h.b);e.cw=1-e.cw;return B.aP(e.qw,e.eL,e.cw)};
h_.z0.asA=function(h,e){var v=h.n-e.n,J=h.i-e.i,m=h.b-e.b;return Math.sqrt(v*v+J*J+m*m)};h_.z0.adN=function(h){var e=h_.z0;
return{n:e.FF(h),i:e.FF(h),b:e.FF(h)}};h_.z0.nC=function(h){return CSS.Q8({n:h.n*255,i:h.i*255,b:h.b*255})};
h_.z0.oS=function(h){var e=h.sf,v=new fP;for(var T=0;T<e.length;T++)v=v.R$(B.w.oS(e[T][1].g));return v};
h_.z0.C=function(h,e){var v=h.sf;for(var T=0;T<v.length;T++)B.w.C(v[T][1].g,e,v[T][1].g)};h_.z0.FF=function(h){h.ajs++;
var e=h.ajs&3;if(e==0)h.nw=h_.z0.o2(h.nw);var v=h.nw>>>8*e&255;return v*(.99999999/255)};h_.z0.C8=function(h){var e=h_.z0.o2(h.nw);
h.nw=h_.z0.o2(e);return e*(1/4294967295)};h_.z0.o2=function(h){h=(h^61^h>>>16)>>>0;h=h+(h<<3)>>>0;h=(h^h>>>4)>>>0;
h=h*668265261>>>0;h=(h^h>>>15)>>>0;return h};var fs={};fs.parse=function(h){var e=new Uint8Array(h),v=null;
if(e[0]==80&&e[1]==75){var J=Date.now(),m=UZIP.parse(e.buffer),v=m["document.json"];v=JSON.parse(b.Is(v,0,v.length));
fs.go(v,m)}else{var d=ih.parse(h);v=fs.aB$(d[2][0][1])}return v};fs.go=function(h,e){var v=typeof h;
if(v=="string"||v=="number"||v=="boolean"||h==null)return h;if(h instanceof Array){for(var T=0;T<h.length;
T++)h[T]=fs.go(h[T],e);return h}var J=h._class;if(J==null)return h;if(J=="MSJSONFileReference"){var m=h._ref;
if(!1){}else if(e[m+".json"]!=null){var d=e[m+".json"],x=d.length;for(var T=0;T<x;T++)if(d[T]==11||d[T]==3)d[T]=32;
var j=b.Is(d,0,x);h=JSON.parse(j)}else if(e[m+".png"]!=null)return{key:m.split("/").pop(),bdata:e[m+".png"]};
else if(e[m+".jpg"]!=null)return{key:m.split("/").pop(),bdata:e[m+".jpg"]};else if(e[m+".pdf"]!=null)return{key:m.split("/").pop(),bdata:e[m+".pdf"]};
else if(e[m]!=null)return{key:m.split("/").pop(),bdata:e[m]};else{console.log(h,e);return}}else if(J=="MSAttributedString"){var j=atob(h.archivedAttributedString._archive),E=j.length,L=new Uint8Array(E);
for(var T=0;T<E;T++)L[T]=j.charCodeAt(T);h.archivedAttributedString=fs.aB$(L)}for(var p in h)h[p]=fs.go(h[p],e);
return h};fs.aBr=function(h,e,v,J,m){if(h instanceof Uint8Array)return null;if(J.indexOf(h)!=-1)return null;
J.push(h);if(h==e)return v;for(var d in h){v.push(d);var x=fs.aBr(h[d],e,v,J,m);if(x){console.log(h,x);
throw"e"}v.pop()}};fs.aB$=function(h){var e=g8.parse(h,0),v=e.$objects,J=new Uint8Array(v.length),m=fs.HH(v,J,e.$top.root);
for(var T=0;T<v.length;T++)if(J[T]==0&&T!=0){console.log(T,v[T]);fs.aBr(m,T,[],[],typeof v[T])}for(var T=0;
T<v.length;T++){var d=v[T];if(d._class&&(d._class=="bitmap"||d._class=="fill"&&d.fillType==4&&(d.image||d.imageSHA))){var x=d.image,j=d.imageSHA,E=null,L=null;
if(x=="$null")x=null;if(j=="$null")j=null;if(x&&x.data){L=x.sha1["NS.bytes"];L=btoa(b.RZ(L,0,L.length));
E=x.data instanceof Uint8Array?x.data:x.data["NS.bytes"]}else if(x==null&&j==null){var p=gI.g6("PNG").oZ([[B.U(4).buffer]],1,1);
E=new Uint8Array(p)}else{var Z=(m.assets?m.assets.imageCollection:m.images).images;if(j)L=j instanceof Uint8Array?j:j["NS.bytes"];
else L=x.sha1["NS.bytes"];L=btoa(b.RZ(L,0,L.length));var E=Z[L].data;if(E["NS.bytes"])E=E["NS.bytes"]}E=new Uint8Array(E.buffer.slice(E.byteOffset,E.byteOffset+E.length));
delete d.imageSHA;d.image={key:L,bdata:E}}}return m};fs.aj0=function(h){return h.slice(0,11)=="MSImmutable"?"MS"+h.slice(11):h};
fs.HH=function(h,e,v){var J=h[v];if(e[v]==1){return J}e[v]=1;if(typeof J=="string")return J;if(typeof J=="number")return J;
if(typeof J=="boolean")return J;if(J instanceof Array)return J;if(J instanceof Uint8Array){return J}if(h[J.$class]==null){if(J.$class==null&&J["NS.data"]!=null)return J;
console.log(v,J);throw"e"}var m=h[J.$class],d=fs.aj0(m.$classname);e[J.$class]=1;J.$class=d;if(fs.aaq[d]){delete J.$class;
J._class=fs.aaq[d]}var x=fs.HH;if(d=="NSMutableArray"||d=="NSArray"){var j=[];if(J["NS.objects"]!=null)for(var T=0;
T<J["NS.objects"].length;T++)j.push(x(h,e,J["NS.objects"][T]));else for(var T=0;J["NS.object."+T]!=null;
T++)j.push(x(h,e,J["NS.object."+T]));h[v]=j;return j}if(d=="NSDictionary"||d=="NSMutableDictionary"){var E={$class:d};
if(J["NS.keys"]!=null)for(var T=0;T<J["NS.keys"].length;T++){var L=x(h,e,J["NS.keys"][T]);if(L instanceof Uint8Array)L=btoa(fs.NX.RZ(L,0,L.length));
else if(typeof L!="string"&&typeof L!="number")L=btoa(fs.NX.RZ(L["NS.bytes"],0,L["NS.bytes"].length));
E[L]=x(h,e,J["NS.objects"][T])}else for(var T=0;J["NS.key."+T]!=null;T++){var L=x(h,e,J["NS.key."+T]);
if(L instanceof Uint8Array)L=btoa(fs.NX.RZ(L,0,L.length));else if(typeof L!="string"&&typeof L!="number")L=btoa(fs.NX.RZ(L["NS.bytes"],0,L["NS.bytes"].length));
E[L]=x(h,e,J["NS.object."+T])}for(var p in J)delete J[p];for(var p in E)J[p]=E[p];return J}if(d=="NSURL")return{$class:d,base:x(h,e,J["NS.base"]),relative:x(h,e,J["NS.relative"])};
if(fs.anV.indexOf(d)!=-1){h[v]=x(h,e,J.array_do);return h[v]}if(J.do_objectID!=null)J.do_objectID=x(h,e,J.do_objectID);
if(fs.apY.indexOf(d)!=-1)return J;var Z=fs.afX[d];if(Z==null){console.log(h,J);throw"unknown class "+d}for(var T=0;
T<Z.length;T++)if(J[Z[T]]!=null)J[Z[T]]=x(h,e,J[Z[T]]);if(d=="MSTextLayer"){var o=J,u,N,M,O;if(o.attributedString)u=o.attributedString.archivedAttributedString;
else u=o.storage;O=u.NSString;if(typeof O!="string")O=b.Is(O["NS.bytes"],0,O["NS.bytes"].length);if(u.NSAttributeInfo)N=u.NSAttributeInfo["NS.bytes"];
else{var F=O.length,W=[];while(F>0){var f=Math.min(100,F);W.push(f,0);F-=f}N=new Uint8Array(W)}M=u.NSAttributes instanceof Array?u.NSAttributes:[u.NSAttributes];
var $={$class:"NSAttributedString",NSString:O,NSAttributes:M};o.attributedString={_class:"MSAttributedString",archivedAttributedString:$};
$.NSAttributeInfo={$class:"NSMutableData","NS.data":N};delete o.storage}return J};fs.NX={hm:function(h,e){return h[e+1]<<8|h[e]},d$:function(h,e){return h[e+3]<<24|h[e+2]<<16|h[e+1]<<8|h[e]},RZ:function(h,e,v){var J="";
for(var T=0;T<v;T++)J+=String.fromCharCode(h[e+T]);return J}};fs.aaq={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fs.anV=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fs.apY="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fs.afX={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var g8={};g8.parse=function(h,e){var v=b.RZ(h,e,8);e+=8;var J=h.length-32,m=g8.parse.asN(h,J),d=[];if(m.uD==1){var e=J-m.uD*m.$e;
for(var T=0;T<m.$e;T++)d.push(h[e+T])}else if(m.uD==2){var e=J-m.uD*m.$e;for(var T=0;T<m.$e;T++)d.push(b.hm(h,e+T*2))}else if(m.uD==4){var e=J-m.uD*m.$e;
for(var T=0;T<m.$e;T++)d.push(b.d$(h,e+T*4))}else{throw"e"}var x=g8.parse.HH(h,d,m.root,m);return x};
g8.parse.HH=function(h,e,v,J){var m=g8.NX,d=J.ajB,x=d==4?m.d$:d==2?m.hm:m.aua,j=g8.parse,E=e[v],L=h[E],p=L>>4,Z=L&15,u=null;
E+=1;if([4,5,6,10,12,13].indexOf(p)!=-1&&Z==15){var o=j.Pp(h,E);E+=o.T7;Z=o.J}if(!1){}else if(p==0)u=Z==8?!1:Z==9?!0:null;
else if(p==1)u=j.Pp(h,E-1).J;else if(p==2)u=1<<Z==4?b.SN(h,E):b.aN(h,E);else if(p==3)u=b.aN(h,E);else if(p==4)u=new Uint8Array(h.buffer,E,Z);
else if(p==5)u=b.RZ(h,E,Z);else if(p==6)u=b.Qr(h,E,Z);else if(p==8){u=0;for(var T=0;T<Z+1;T++)u=u<<8|h[E+T]}else if(p==10){u=[];
for(var T=0;T<Z;T++)u.push(j.HH(h,e,x(h,E+d*T),J))}else if(p==12){u=[];for(var T=0;T<Z;T++)u.push(j.HH(h,e,x(h,E+d*T),J))}else if(p==13){u={};
for(var T=0;T<Z;T++){var N=j.HH(h,e,x(h,E+d*T),J),M=j.HH(h,e,x(h,E+d*(Z+T)),J);u[N]=M}}else throw"unknown mask "+p;
return u};g8.parse.Pp=function(h,e){var v=1<<(h[e]&15),J=0;for(var T=0;T<v;T++)J=J<<8|h[e+1+T];return{J:J,T7:v+1}};
g8.parse.asN=function(h,e){var v={};e+=6;v.uD=h[e];e++;v.ajB=h[e];e++;e+=4;v.$e=b.d$(h,e);e+=4;e+=4;
v.root=b.d$(h,e);e+=4;e+=4;v.aFw=b.d$(h,e);e+=4;return v};g8.NX={aua:function(h,e){return h[e]},hm:function(h,e){return h[e]<<8|h[e+1]},d$:function(h,e){return h[e]<<24|h[e+1]<<16|h[e+2]<<8|h[e+3]},RZ:function(h,e,v){var J="";
for(var T=0;T<v;T++)J+=String.fromCharCode(h[e+T]);return J}};var ih={parse:function(h){var e=new Uint8Array(h),v=ih.Qe(e),J=[],m=new Uint8Array(e.length),d=[];
J.push(d);ih.RJ(e,v,1,m,d);for(var T=0;T<d.length;T++){var x=[];J.push(x);ih.RJ(e,v,d[T][3],m,x,T==11);
d[T][3]=T+1}return J},RJ:function(h,e,v,J,m,d){v--;var x=v*e.S7+(v==0?100:0),j=h[x],E=ih.hm(h,x+1),L=ih.hm(h,x+3),p=ih.hm(h,x+5),o=0;
if(p==0)p=65536;var Z=h[x+7];x+=8;if(j==2||j==5){o=ih.d$(h,x);x+=4}for(var u=0;u<L;u++){var N=v*e.S7+ih.hm(h,x+2*u),M=-1,O=0,F=0,W=0;
if(j==2||j==5){M=ih.d$(h,N);N+=4}if(j==2||j==10||j==13){O=ih.gM(h,N);N+=O.T7}if(j==5||j==13){F=ih.gM(h,N);
N+=F.T7}if(j==2||j==5){ih.RJ(h,e,M,J,m,d);continue}var f=e.S7-(v==0?100:0),$=O.GL,H=j==13?f-35:Math.floor((f-12)*64/255)-23,A=Math.floor((f-12)*32/255)-23,G=A+($-A)%(f-4);
if($<=H){ih.N7(h,N,J,0,$)}else{var l=G<=H?G:A,K=0;ih.N7(h,N,J,0,l);K+=l;W=ih.d$(h,N+l);while(W!=0){var U=(W-1)*e.S7;
W=ih.d$(h,U);var z=Math.min(e.S7-4,$-K);ih.N7(h,U+4,J,K,z);K+=z}}m.push(ih.adu(J,$))}if(o!=0)ih.RJ(h,e,o,J,m,d)},adu:function(h,e){var v=0,J=ih.gM(h,v);
v+=J.T7;var m=[],d=[];while(v<J.GL){var x=ih.gM(h,v);v+=x.T7;m.push(x.GL)}if(v!=J.GL)throw"e";for(var T=0;
T<m.length;T++){var x=m[T];if(!1){}else if(x==0)d.push(null);else if(x==1){d.push(ih.amK(h,v));v+=1}else if(x==2){d.push(ih.WW(h,v));
v+=2}else if(x==3){d.push(ih.alA(h,v));v+=3}else if(x==4){d.push(ih.Pp(h,v));v+=4}else if(x==5){d.push(ih.d$(h,v+2));
v+=6}else if(x==6){d.push(ih.d$(h,v)+":"+ih.d$(h,v+4));v+=8}else if(x==7){d.push(ih.aoY(h,v));v+=8}else if(x==8)d.push(0);
else if(x==9)d.push(1);else if(x>=12&&(x&1)==0){var j=x-12>>1,E=new Uint8Array(j);ih.N7(h,v,E,0,j);d.push(E);
v+=j}else if(x>=13&&(x&1)==1){var j=x-13>>1;d.push(ih.Is(h,v,j));v+=j}else throw"unknonw type "+x}return d},Qe:function(h){if(!(h[18]==1&&h[19]==1&&h[20]==0&&h[21]==64&&h[22]==32&&h[23]==32))throw"unexpected SQL3 header";
var e={en:ih.RZ(h,0,15),S7:ih.hm(h,16),aFL:ih.d$(h,24),size:ih.d$(h,28),aGI:ih.d$(h,32),a4V:ih.d$(h,36),a3A:ih.d$(h,40),arU:ih.d$(h,44),aD7:ih.d$(h,48),a28:ih.d$(h,52),aug:ih.d$(h,56),afW:ih.d$(h,60),aqa:ih.d$(h,64)!=0,a8Z:ih.d$(h,68),aF1:ih.d$(h,92),aFu:ih.d$(h,96)};
if(e.S7==1)e.S7=65536;if(e.aug!=1)throw"unsupported text encoding "+e.aug;return e},aAd:function(h,e){return h[e]<<16|h[e+1]<<8|h[e+2]},alA:function(h,e){var v=ih.aAd(h,e),J=v&8388608;
return J?-(16777215-v+1):v},amK:function(h,e){ih.VE[0]=h[e];return ih.aDg[0]},Pp:function(h,e){var v=ih.VE;
for(var T=0;T<4;T++)v[T]=h[e+3-T];return ih.a5g[0]},WW:function(h,e){var v=ih.VE;v[0]=h[e+1];v[1]=h[e];
return ih.af3[0]},hm:function(h,e){return h[e]<<8|h[e+1]},d$:function(h,e){var v=ih.VE;for(var T=0;T<4;
T++)v[T]=h[e+3-T];return ih.aAS[0]},aoY:function(h,e){var v=ih.VE;for(var T=0;T<8;T++)v[T]=h[e+7-T];
return ih.aeX[0]},gM:function(h,e){var v=e,iW=0;while(!0){var J=h[e];e++;iW=iW*128+(J&127);if(J<128)break}return{GL:iW,T7:e-v}},RZ:function(h,e,v){var J="";
for(var T=0;T<v;T++)J+=String.fromCharCode(h[e+T]);return J},Is:function(h,e,v){var J="";for(var T=0;
T<v;T++)J+="%"+ih.aaj(h[e+T].toString(16));try{J=decodeURIComponent(J);return J}catch(j3){return J}},N7:function(h,e,v,J,m){if(m!=0&&(h[e+m-1]==null||v[J+m-1]==null)){console.log(e,J,m);
throw"e"}for(var T=0;T<m;T++)v[J+T]=h[e+T]},aaj:function(iW){return iW.length<2?"0"+iW:iW}};ih.VE=new Uint8Array(8);
ih.aDg=new Int8Array(ih.VE.buffer);ih.af3=new Int16Array(ih.VE.buffer);ih.a5g=new Int32Array(ih.VE.buffer);
ih.aAS=new Uint32Array(ih.VE.buffer);ih.aeX=new Float64Array(ih.VE.buffer);ih.aCV=function(h,e){var v=h[0],J={};
for(var T=0;T<v.length;T++){var m=v[T],d=m[1];if(m[0]!="table")continue;var x=m[4];x=x.slice(x.indexOf("(")+1,x.indexOf(")"));
x=x.split(",");for(var j=0;j<x.length;j++){var E=x[j].trim().split(" ")[0];if(e&&E.startsWith(d))E=E.slice(d.length);
x[j]=E}var L=J[d]=[],p=h[m[3]];for(var j=0;j<p.length;j++){var Z=p[j],o={};L.push(o);for(var u=0;u<x.length;
u++){if(o[x[u]]!=null)throw"e";o[x[u]]=Z[u]}}}return J};function eP(h,e,v){this.PD=h;this.WP=e;this.aje=v;
this.uB=new fq(0,0);this.OR=-1;this.m5=0;this.Pu=0;this.bp=new fP;this.O0=[];this.Ta=null;this.a5X=null;
this.GG=null;this.E$=null;this.K0=null;this.anE=null}eP.prototype.StartPage=function(h,e,v,J,m){var d=this.WP,x=d.n$(),j=1,E=(v-h)*(J-e);
if(m!=null)E=m;while(E*x*x/(j*j)>2*8192*8192)j++;d.scale(1/j,1/j);this.a5X=[h,e,v,J];var j=d.n$();h=Math.round(h*j);
e=Math.round(e*j);v=Math.round(v*j);J=Math.round(J*j);var L=this.PD,p=this.GG;if(p==null){d.TO=-h}else{var Z=p[2]-p[0]+30,o=Math.round(v-h)+30;
if(this.uB.x+Z+o>8192){d.TO=-h;this.uB.x=0;this.uB.y+=this.Pu+120;this.Pu=0}else{d.TO+=Z;this.uB.x+=Z}}d.bZ=this.uB.y+(this.aje?J:-e);
this.Pu=Math.max(this.Pu,Math.round(J-e));this.GG=[h,e,v,J];this.a2b=[];L.T.push(L.gB())};eP.prototype.StartTGroup=function(h){this.ZU();
var e=this.PD;e.T.push(e.gB());var v=eP.Oz[h.bmode];if(v==null)v="norm";var J=e.ws();J.Ip("<Group>");
J.add.lsct=d7.W$;J.fR=v=="norm"?"pass":v;J.IT=24;J.S2=Math.round(255*h.ca);this.a2b.push(J)};eP.prototype.EndTGroup=function(){this.PD.T.push(this.a2b.pop())};
eP.prototype.ah_=function(){var h=this.PD,e=h.T[h.T.length-1];return e};eP.prototype.ada=function(){var h=this.PD,e=h.ws();
e.Ip("Path "+h.T.length);this.PD.T.push(e);e.IT|=16;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}};
e.add.vmsk=new s.eo;e.add.vstk=fL.gL.UX();return e};eP.prototype.z7=function(h){var e={g:h.crds,WQ:h.cmds},v=B.w.GJ(e,!1);
B.s.Ma(v,this.WP);return v};eP.a3R=function(h,e){for(var T=0;T<h.length;T++)if(h[T].Jb!=null)h[T].Jb=e};
eP.UU=function(h){return B.Vh.WZ({n:h[0]*255,i:h[1]*255,b:h[2]*255})};eP.if=function(h){return new aJ(h[0],h[1],h[2],h[3],h[4],h[5])};
eP.prototype.Stroke=function(h){if(this.OR!=-1&&this.OR!=this.m5)return;if(h.pth.cmds.length<=1)return;
var e=this.z7(h.pth),x=null;if(e.length<=2)return;this.d4(h);eP.a3R(e,-1);e[2].Jb=1;var v=this.ah_(),J=fL.gL.UX(null,!0),m=h.ctm,d={};
eP.a6C(d,h);fL.gL.write(J,d,Math.sqrt(Math.abs(m[0]*m[3]-m[1]*m[2]))*this.WP.n$());if(!(h.COLR instanceof Array)){x=B.w.oS(h.pth.crds);
var j=B.w.Tp(x);B.w.C(j.g,this.WP,j.g);x=B.w.oS(j.g)}var E=eP.JE(h.COLR,this.WP,e),L=["SoFi","GrFl","patternFill"].indexOf(E.c),p=[fL.hz,fL.RN,fL.CI][L],Z=J.strokeStyleContent.v={classID:fL.gL.Wj[L]};
for(var T=0;T<p.length;T++)Z[p[T]]=E.J.v[p[T]];var o=v!=null&&v.add.vmsk!=null&&!v.XN(),u=o&&!v.add.vstk.fillEnabled.v&&JSON.stringify(J)==v.add.vsjs;
if(u){var N=v.add.vmsk.z;for(var T=2;T<e.length;T++)N.push(e[T])}else{var M=o&&!v.add.vstk.strokeEnabled.v&&s.eo.aor(v.add.vmsk.z,e,!0);
if(M){v.add.vstk=J;J.fillEnabled.v=!0}else{v=this.ada();v.add.vmsk.z=e;v.add.vstk=J;v.add.vsjs=JSON.stringify(J)}}};
eP.a6C=function(h,e){h.T8=e.lwidth;h.Mm=e.mlimit;h.fe=e.dash.slice(0);h.MG=e.doff;h.Jv=e.ljoin;h.qP=e.lcap;
h.Tt=1};eP.CS=function(h,e){e.lwidth=h.T8*(h.Tt==2?2:1);e.mlimit=h.Mm;e.doff=h.MG;e.ljoin=h.Jv;e.lcap=h.qP;
e.sal=h.Tt;e.dash=h.fe.slice(0);if(e.dash.length==1&&e.dash[0]==0)e.dash=[]};eP.prototype.Fill=function(h,e){if(this.OR!=-1&&this.OR!=this.m5)return;
if(h.ca==0)return;var v=h.pth.cmds;if(v.length==0)return;if(v.length==2&&JSON.stringify(v)=="[\"M\",\"L\"]")return;
var J=B.w.oS(h.pth.crds),m=B.w.oS(h.cpth.crds);if(J.UP(m).EG())return;var d=h.pth,x=UDOC.G.isBox(d,[J.x,J.y,J.x+J.q,J.y+J._]),j=h.cpth,E=UDOC.G.isBox(j,[m.x,m.y,m.x+m.q,m.y+m._]);
if(x&&E&&J.$()>m.$()*2){var L=J.UP(m),p=L.x,Z=L.y,o=p+L.q,u=Z+L._;d={cmds:["M","L","L","L","Z"],crds:[p,Z,o,Z,o,u,p,u]};
J=L}else if(this.E$==null&&UDOC.G.isBox(d,[J.x,J.y,J.x+J.q,J.y+J._])&&J.xB(m)){d=j;J=m}else this.d4(h);
var N=this.z7(d),M=eP.JE(h.colr,this.WP,N),O=this.ah_(),F=O!=null&&O.S2==Math.round(255*h.ca)&&O.add.vstk!=null&&!O.add.vstk.strokeEnabled.v&&O.add.SoCo&&M.c=="SoFi"&&JSON.stringify(O.add.SoCo.Clr.v)==JSON.stringify(M.J.v.Clr.v);
if(F){var W=!1;for(var T=0;T<N.length;T++){if(N[T].Jb==0||N[T].Jb==2)W=!0}if(W){var f=B.w.oS(B.s.WE(O.add.vmsk.z)),$=B.w.oS(B.s.WE(N));
F=f.UP($).EG()}}if(F){var H=O.add.vmsk.z;for(var T=2;T<N.length;T++)H.push(N[T])}else{O=this.ada();delete O.add.SoCo;
O.add.vmsk.z=s.eo.p3(N);eP.fs(h.colr,O,this.WP,N);eP.ab1(h,O)}};eP.fs=function(h,e,v,J){var m=eP.JE(h,v,J),d=null,x=null;
e.add.vstk.fillEnabled.v=!0;if(m.c=="SoFi"){d="SoCo";x=fL.hz}if(m.c=="GrFl"){d="GdFl";x=fL.RN}if(m.c=="patternFill"){d="PtFl";
x=fL.CI}if(d!=null){e.add[d]={classID:"null"};for(var T=0;T<x.length;T++){var j=x[T];e.add[d][j]=m.J.v[j]}if(d=="GdFl")e.add._fstl=m.xJ}};
eP.prototype.d4=function(h){var e=this.PD,v=h.cpth,J=v.cmds.join(""),m=v.crds,d=J+" "+m.join(","),x=UDOC.G.isBox(v,this.a5X);
if(x&&this.E$==null)return;if(d==this.E$)return;this.ZU();if(!x){this.E$=d;e.T.push(e.gB());var j=e.ws();
j.Ip("Mask");j.add.lsct=d7.kZ;j.fR="pass";j.IT=24;var E=j.add.vmsk=new s.eo;E.z=this.z7(h.cpth);if(UDOC.G.isBox(v)){this.K0=B.s.jd(E.z);
this.K0.vY(3,3)}else this.K0=null;this.anE=j}};eP.prototype.ZU=function(){var h=this.PD;if(this.E$!=null){var e=h.T.length-1,T=e,v=!1;
while(T>=0&&h.T[T].add.lsct!=d7.FJ)T--;var J=this.K0;if(J){var m=new fP,d=e;while(d>T){m=h.T[d].D5(this.PD,!1,!0);
d--}v=J.xB(m)}if(v){this.O0.splice(T,1);h.T.splice(T,1)}else{h.T.push(this.anE)}this.E$=null}};eP.JE=function(h,e,v){var J,m,d;
if(h.length!=null){J="SoFi";var x=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);m={t:"Objc",v:x};m.v.Clr.v=eP.UU(h)}else{var j=eP.asR(h,e,v);
J="GrFl";m={t:"Objc",v:jQ.IQ(j,v)};d=j}return{c:J,J:m,xJ:d}};eP.asR=function(h,e,v){var J=eP.if(h.mat);
J.concat(e);var m=new fq(0,0),d=new fq(0,0),x=new fq,j=h.crds,E=h.typ=="rad"?1:0;if(E==1){var L=.7;x.x=j[0];
x.y=j[1];m.x=j[3];m.y=j[4];d.x=m.x;d.y=m.y;d.x+=j[5]}else{m.x=j[0];m.y=j[1];d.x=j[2];d.y=j[3];x.Cg(m.x,m.y)}J=jQ.pB(m,d,J);
var p=jQ.$V(E,J,v);jQ.JY(p,m,d,x);p[1]=B.t(h.grad);return p};eP.prototype.PutText=function(h,e,v,J){var m=e.charCodeAt(0),u=null;
if(this.OR!=-1&&this.OR!=this.m5)return;if(e.length==0||e.length==1&&(m==0||m==8203))return;this.d4(h);
var d=this.PD,x=h.font,j=Math.round(255*h.ca);if(h.font.Tmode==3)j=0;var E=eP.if(h.ctm);E.concat(this.WP);
var L=eP.if(x.Tm);L.concat(E);var p=L.n$(),Z=new aJ(1/p,0,0,-1/p,0,0);Z.concat(L);var o=x.Tfs*p,N=d.T.length-1;
while(N>=0&&d.T[N].add.TySh==null)N--;if(Z.b*Z.b+Z.tg*Z.tg<.001&&J==null&&N>=0&&d.T[N].add.TySh&&d.T[N].S2==j){var M=d.T[N],O=this.O0[N],F=M.add.TySh.C,W=(Z.TO-O.aEX)/o,f=Math.abs(W),$=F.DR==Z.DR&&F.b==Z.b&&F.tg==Z.tg&&F.l_==Z.l_,H=Z.bZ-O.vK,A=$&&Math.abs(H)<1e-5&&f<1;
if(A){u=M;if(W>.2&&[".",",","?",":","!"].indexOf(e)==-1){e=" "+e;v+=.5}}else if($&&0<H&&H<o*1.7&&O.aFZ==o){u=M;
this.avI(O);O.vK=Z.bZ;O.a6z=Z.TO;e="\n"+e}}if(u==null){N=d.T.length;this.O0[N]={Hl:[],wt:0,aEX:Z.TO,vK:Z.bZ,a6z:Z.TO,Ci:"",aFZ:o};
u=d.ws();d.T.push(u);u.add.lnsr="rend";u.add.TySh=fr.YI(0,0);u.add.TySh.C=Z}var O=this.O0[N];O.wt+=v*o;
O.Ci+=e;O.aEX=Z.TO+v*o;var G=u.add.TySh.lf,l=fr.X3(G);if(J){fr.Ii(G,1);var K=[0,0,Math.ceil(J[0]*p),Math.ceil(J[1]*p)];
fr.Uv(G,K)}var U=l.length-1,z=U+e.length;fr.hj(G,U,e);if(this.Ta==null)this.Ta=fr.aX(G,U,U);var q=this.Ta;
q.zI.FontSize=Math.round(o);q.zI.Tracking=Math.round(x.Tc*100);q.zI.Underline=x.Tun==1;q.zI.FillColor={Type:1,Values:[1,h.colr[0],h.colr[1],h.colr[2]]};
if(x.Tal!=null)q.UZ.Justification=x.Tal;if(O.Hl.length!=0){q.zI.AutoLeading=!1;q.zI.Leading=O.vK-O.Hl[O.Hl.length-1].y}var P=x.Tf;
P=P.replace(/#2B/g,"+");P=P.replace(/#2C/g,"-");P=P.split("+").pop();var g={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(g[P])P=g[P];fr.wm(q,P);fr.UE(G,U,z-1,q);u.XW();u.S2=j};eP.prototype.avI=function(h){h.Hl.push({VA:h.wt,xr:h.Ci.slice(h.Hl.length==0?0:1)+"\n",x:h.a6z,y:h.vK,eL:h.aFZ});
h.wt=0;h.Ci=""};eP.prototype.co=function(h,e,v){return new Uint8Array(gI.g6("PNG").oZ([[h.buffer,0]],e,v))};
eP.prototype.PutImage=function(h,e,v,J,m,d,x){if(this.OR!=-1&&this.OR!=this.m5)return;var j=this.PD,E=h.font.Tmode;
if(E==7&&j.T[j.T.length-1].add.TySh){return}this.d4(h);var L=eP.if(h.ctm);L.concat(this.WP);var p=new aJ(1/v,0,0,-1/J,0,1);
p.concat(L);L=p;e=eP.apZ(e,v,J,d,!1);if(m)m=eP.apZ(m,v,J,x,!0);if(m==null){if(e.length==v*J*4)e=this.co(e,v,J)}else{e=this.a57(e,v,J,d,!1);
m=this.a57(m,v,J,x,!0);var Z=B.U(v*J);B.Bq(m,Z,0);B.ar(Z,e,3);e=this.co(e,v,J)}var o=j.dz(e,"Bitmap",0,0),u=new fP(0,0,v,J),N=B.w.Tp(u).g;
B.w.C(N,L,N);o.add.SoLd.Trnf=c.L2.ni(N);o.add.SoLd.nonAffineTransform=c.L2.ni(N);o.eW(j,!1);eP.ab1(h,o);
j.T.push(o)};eP.ab1=function(h,e){e.S2=Math.round(255*h.ca);var v=eP.Oz[h.bmode];if(v==null)console.log("Unknown blend mode",v);
else e.fR=v};eP.Oz={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
eP.ah1=function(h){if(h=="pass")h="norm";for(var e in eP.Oz)if(eP.Oz[e]==h)return e;return"/Normal"};
eP.apZ=function(h,e,v,J,m){var d=gI.pI(h.buffer);if(d=="jpg"){try{h=new Uint8Array(gI.g6("JPG").arN(h.buffer))}catch(j3){h=new Uint8Array(e*v*4)}}else if(d=="jb2"){h=new Uint8Array(gI.g6("JPG").E2(h.buffer,J,m)[0].data)}else if(h.length!=e*v*4){var x=new Uint8Array(e*v*4),j=Math.ceil(e/8),E=new Uint8Array(v*j);
UTIF.decode._decodeG4(h,0,h.length,E,0,e,1);var L=E[0]==(m?255:0);for(var p=0;p<v;p++){var Z=j*p;for(var o=0;
o<e;o++){var T=p*e+o,u=T*4,N=(E[Z+(o>>3)]>>7-(o&7)&1)*255;if(L)N=255-N;x[u]=N;x[u+1]=N;x[u+2]=N;x[u+3]=255}}h=x}return h};
eP.prototype.a57=function(h,e,v,J,m){if(h.length!=e*v*4){var d=gI.pI(h.buffer);if(d=="jb2")throw"e";
var x=gI.g6(d);if(x==null||d=="tga")x=gI.g6("jpg");h=new Uint8Array(x.E2(h,J,m)[0].data)}return h};eP.prototype.ShowPage=function(){var h=this.PD;
this.m5++;var e=this.GG;this.ZU();var v=h.ws();h.T.push(v);var J=new fP(Math.round(this.uB.x),Math.round(this.uB.y),Math.round(e[2]-e[0]),Math.round(e[3]-e[1]));
if(J.EG())J.q=J._=2e3;this.bp=this.bp.R$(J);v.B9(J);v.add.artb.artboardBackgroundType.v=1;v.Ip("Page "+this.m5);
v.add.lsct=d7.kZ;v.fR="pass";v.IT=24};eP.prototype.Print=function(h){console.log("Print:",h)};eP.prototype.Done=function(){var h=this.PD;
if(this.m5==1)h.T[h.T.length-1].add.lsct=d7.W$;h.pG(this.m5);for(var T=0;T<h.T.length;T++){var e=h.T[T],v=e.add.vmsk,J=e.add.TySh,m=this.O0[T];
e.d6();delete e.add.vsjs;if(v){var d=!1;for(var x=0;x<v.z.length;x++){var j=v.z[x];if((j.c==0||j.c==3)&&j.length>32767)d=!0}if(d){h.T.splice(T,1);
T--;continue}}e.vT(h);if(J&&m&&m.Hl.length!=0){this.avI(m);var E=J.lf,L=m.Hl.length,p=m.Hl[0],Z=1e9,o=-1e9,A="";
for(var x=0;x<L;x++){var u=m.Hl[x];Z=Math.min(Z,u.x);o=Math.max(o,u.x+u.VA)}var N=[];for(var x=0;x<L;
x++){var u=m.Hl[x],M=-1,O=p.eL*.1,F=Math.abs(u.x-Z),W=Math.abs(u.x+u.VA-o),f=Math.abs(F-W);if(f<O)M=2;
if(W<O){M=1;if(u.x!=Z)if(x!=0&&m.Hl[x-1].x==u.x||x!=L-1&&m.Hl[x+1].x==u.x)M=-1}if(F<O)M=0;if(u.VA==o-Z)M=3;
N.push(M)}var $=[!1,!1,!1];for(var x=0;x<L;x++){var M=N[x];if(M==3)M=x==0?N[x+1]:N[x-1];if(M==3)M=0;
N[x]=M;$[M]=!0}var H=(o-Z)*.05;if($[0]&&!$[1])o+=H;if(!$[0]&&$[1])Z-=H;if(!$[0]&&!$[1]){Z-=H;o+=2*H}fr.Ii(E,1);
J.C.bZ-=p.eL*.7;J.C.TO=Math.round(Z);fr.Uv(E,[0,0,Math.ceil(o-Z),Math.ceil(m.Hl[L-1].y-p.y+p.eL*2)]);
for(var x=0;x<L;x++){var u=m.Hl[x],M=N[x],G=0;if(M==-1){M=0;G=Math.round(u.x-Z)}var l=A.length,K=l+u.xr.length;
A+=u.xr;var U={k0:[],zI:{},UZ:{Justification:M,StartIndent:G}};fr.UE(J.lf,l,K-1,U)}}if(J){var E=J.lf;
fr.apE(E);var z=fr.X3(E).split("\n");for(var x=0;x<z.length-1;x++){var u=z[x],q=0;for(var P=0;P<u.length;
P++){var g=u.charCodeAt(P);if(1473<=g&&g<=1524)q++}if(q>u.length/2){z[x]=u.split("").reverse().join("");
var a=E.EngineDict.ParagraphRun.RunArray[x].ParagraphSheet.Properties;a._Direction=1;a.Justification=fr.fl(a)}}fr.lP(E,z.join("\n"))}}h.cj=!0;
h.q=this.bp.q;h._=this.bp._;h.buffer=B.U(this.bp.$()*4)};var aH={};aH.IU=null;aH.mA=function(h,e,v,J,m,d){var x=jD==0?new fP(0,0,h.q,h._):h.Wo();
if(m==null)m=x.q;if(d==null)d=x._;aH.IU=h;var j=[[h.root,x,null]];if(jD==0&&h.add.artd){var E=h.root.children,L=[],p=!0;
for(var T=0;T<E.length;T++){var Z=E[T].L,o=Z.add.artb,u=null;if(o==null){p=!1;break}var N=o.artboardBackgroundType.v;
if(N!=1&&N!=3)u=Z.BE();L.push([E[T],Z.AC(),u])}if(p)j=L}if(jD==1){var M=h.add.arts;j=[];for(var T=0;
T<M.length;T++)j.push([h.root,B.w.Ob(M[T].Fv),null])}var O=e[0];O=O.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
O=O.split(" ");var F=[];for(var T=0;T<O.length;T++){var W=O[T];if(W=="-"){var f=F.pop(),$=parseInt(O[T+1]);
while(f<$){F.push(f);f++}}else F.push(parseInt(W))}O=F;for(var T=0;T<O.length;T++)if(isNaN(O[T])||O[T]<1||O[T]>j.length){O.splice(T,1);
T--}var H=m/x.q,A=d/x._,G=H*72/h.gx,l=A*72/h.gx,K=e[5];if(K==null)K=0;var U=72*K,z=72*K;for(var q=0;
q<j.length;q++){var T=q;if(e[2])T=j.length-1-q;if(O.length!=0&&O.indexOf(T+1)==-1)continue;var P=j[T][0],g=j[T][1];
if(!P.L.oA())continue;var a=Math.round(g.q*G+2*U),w=Math.round(g._*l+2*z);v.StartPage(0,0,a,w);var y=UDOC.getState(),S=new aJ;
S.translate(-g.x,-g.y-g._);S.scale(G,-l);S.translate(U,z);if(j[T][2]){var i=j[T][2],C=U*G,Y=z*l,_=C+g.q*G,t=Y+g._*l;
y.colr=[(i>>>0&255)/255,(i>>>8&255)/255,(i>>>16&255)/255];y.pth={cmds:["M","L","L","L","Z"],crds:[C,Y,_,Y,_,t,C,t]};
v.Fill(y)}if(jD==0&&e[3]){var I=B.U(g.$()*4);B.YZ(h.pb(),x,I,g);var r=h.n0();if(r)ICC.U.applyLUT(r[h.add.fcmy==1?5:3],r[2],I,I);
var n=gI.g6("JPG").oZ([[I.buffer]],g.q,g._,[e[1]]);I=new Uint8Array(n);var Q=new aJ;Q.translate(g.x,g.y);
aH.bz(y,v,I,g,Q,S)}else{aH.o3(h,P,y,v,S,g,e,J);if(U!=0){var C=U,Y=z,_=C+g.q,t=Y+g._,D=_+U,dG=t+U;y.ca=1;
y.colr=[1,1,1];y.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,dG,D,dG,D,0,C,Y,_,Y,_,t,C,t]};
v.Fill(y)}}if(e[6]){var R=[[0,0],[1,0],[1,1],[0,1]],X=50,dx=5,jv=X*.5,gB=dx*.5,hQ=g.q*72/h.gx,ah=g._*72/h.gx;
y.colr=[.1,.1,.1];for(var kG in R){var iZ=R[kG],bs=[kG==0||kG==3?-1:1,kG==0||kG==1?-1:1],ey=[U-jv+gB*bs[0]+iZ[0]*hQ,z-(bs[1]!=1?dx:0)+iZ[1]*ah],jp=[U-(bs[0]!=1?dx:0)+iZ[0]*hQ,z-jv+gB*bs[1]+iZ[1]*ah];
y.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[ey[0],ey[1],ey[0]+X,ey[1],ey[0]+X,ey[1]+dx,ey[0],ey[1]+dx,jp[0],jp[1],jp[0]+dx,jp[1],jp[0]+dx,jp[1]+X,jp[0],jp[1]+X]};
v.Fill(y)}}var eh=h.Ys;for(var dt=0;dt<eh.length;dt++){var jN=eh[dt].v,g=B.aI.YO(jN),jX=B.w.Tp(g).g;
B.w.C(jX,S,jX);var jw=B.w.oS(jX);if(!new fP(0,0,a,w).xB(jw))continue;if(v.AddAnnot)v.AddAnnot([jw.x,jw.y,jw.x+jw.q,jw.y+jw._],jN.url.v)}v.ShowPage()}v.Done();
aH.IU=null};aH.xm=function(h){h=B.Vh.SL(h);return[h.n/255,h.i/255,h.b/255]};aH.o3=function(h,e,v,J,m,d,x,j){var E=e.L,L=E.add.lsct,p=E.add.lmfx,$,H,g,w=!1;
if(E.FP)return;var Z=E.add.vmsk,o=E.add.vstk,u=E.add.TySh;if(jD==1&&!E.XN()&&!d.qm(B.w.oS(E.EN())))return;
var N=e.children,M=N&&N.length!=0?N[N.length-1].L:null;if(jD==1&&M&&M.FP&&M.oA())Z=M.add.vmsk;if(!E.oA())return;
var O=E.S2/255,F=E.add.iOpa!=null?E.add.iOpa/255:1;v.bmode=eP.ah1(E.fR);var W=v.ca;v.ca=v.CA=O*F;var f=p;
if(f)f=f.solidFillMulti.v[0];if(f)f=f.v;if(f&&!f.enab.v)f=null;var A=E.R;if(E.Qi()&&(!E.XN()||E.em&&E.em.OM)){if(E.XN()){$=E.em.OM;
A=E.em.a2H}else{$=B.U(E.R.$());B.Bq(E.buffer,$,3)}H=d4.lr(p,E.add.fxrp,$,A,h,A).c;var G=["DrSh","OrGl"];
if(F!=1||o&&!o.fillEnabled.v){var l=$.slice(0);B.ia(l);for(var T=0;T<G.length;T++){var K=H[G[T]];for(var U=0;
U<K.length;U++){var z=K[U],q=z.js.O();q.x+=A.x;q.y+=A.y;B.L_(l,A,z.su,q)}}}}if(H)aH.aEx(E,$,A,H,v,J,m,x,!0);
var P=d4.aon(E,!1);if(P){J.StartTGroup(v);g=v;v=UDOC.getState()}var a=Z&&!E.Yb(),y=E.add.GdFl;if(y&&y.Type.v.GrdT!="Lnr"&&y.Type.v.GrdT!="Rdl"){w=!0}if(a){var S=B.w.Hd(Z.z,!1),i=S.gA;
B.w.C(i.g,m,i.g);v.cpth={cmds:i.WQ,crds:i.g}}if(E.XN()){for(var T=0;T<e.children.length;T++)aH.o3(h,e.children[T],v,J,m,d,x,j)}else if(E.Yb()&&E.add.PtFl==null&&!w){var C=Z?Z.z:B.s.z0.Rect(0,0,h.q,h._),Y=E.add.vstl,i,t;
if(Y==null)Y=e7.mv(E.add,h);for(var T=0;T<2;T++){var _=T==0?Y.xJ:Y.N0;if(_&&_.length==4)for(var U=0;
U<_[1].length;U++)_[1][U][1]=aH.PH(_[1][U][1])}eP.CS(Y,v);v.lwidth*=m.n$();for(var T=0;T<v.dash.length;
T++)v.dash[T]*=m.n$();if(jD==0){var S=B.w.Hd(C,Y.N0==null);i=S.gA;t=S.cM}if(jD==1){i=B.w._i(C);t=Z.Jb}B.w.C(i.g,m,i.g);
v.pth={cmds:i.WQ,crds:i.g};for(var U=0;U<2;U++){var T=Y.Tt==2?1-U:U,I=T==0?Y.xJ:Y.N0,r=null;if(I.length==0)continue;
else if(I.length==3)r=I;else{var n=jQ.Ep(I,C);n.concat(m);var Q=[0,0,1,0];if(I[0]==1){var D=I[2][5]*Math.PI/180,R=I[2][6];
Q=[Math.cos(D)*R,-Math.sin(D)*R,0,0,0,1]}r={typ:["lin","rad"][I[0]],mat:[n.DR,n.b,n.tg,n.l_,n.TO,n.bZ],grad:B.t(I[1]),crds:Q}}v[T==0?"colr":"COLR"]=r;
J[T==0?"Fill":"Stroke"](v,t!=0)}}else if(u&&x[4]){var X=u.lf,dx=new em(X,j,u.fB),i=hP.s2(dx,u,!0),jv=B.w.FE(i),gB=null,o=d4.a1o(p);
if(o){gB=fL.gL.th(o);gB.N0=aH.xm(o.strokeStyleContent.v.Clr.v);if(gB.Tt==2)gB.T8*=2}for(var hQ in jv){var ah=parseInt(hQ.slice(1,7),16),kG=0;
v.colr=f?aH.xm(f.Clr.v):aH.a7v(ah);var ey=jv[hQ];B.w.C(ey.g,m,ey.g);ey=B.w.a4q(ey);v.pth={cmds:ey.WQ,crds:ey.g};
var Y=gB?B.t(gB):null;if(hQ.length>7)Y=hP.aF2(hQ.slice(7));if(Y)Y.T8*=m.n$();if(Y&&Y.Tt==2){v.COLR=Y.N0;
eP.CS(Y,v);J.Stroke(v)}J.Fill(v);if(Y&&Y.Tt!=2){v.COLR=Y.N0;eP.CS(Y,v);J.Stroke(v)}}}else if(u){var X=B.t(u.lf);
fr.apE(X);var jp=u.C.O(),eh=new aJ(1,0,0,-1,0,0);eh.concat(jp);eh.concat(m);var dt=fr.X3(X),dx=new em(X,j,u.fB);
for(var T=0;T<dx.UZ.length;T++){var jX=dx.UZ[T];if(jX.Dq.length==1&&jX.Dq[0].Ny)continue;for(var U=0;
U<jX.zo.length;U++){var jw=jX.zo[U],i7=jX.R8.y+jw.R8.y,kn=jX.Dq[jw.start].start,eK=jX.Dq[jw.end-1].end,ee=fr.axs(X,kn,eK);
for(var az=0;az<ee.length;az++){var k7=dx.Mq(kn),al=ee[az],kl=fr.aX(X,kn,kn),b9=kl.k0[kl.zI.Font].Name;
v.font.Tf=b9;var hQ=fr.SL(kl.zI.FillColor);v.colr=f?aH.xm(f.Clr.v):[hQ.n/255,hQ.i/255,hQ.b/255];var h9=v.font.Tfs=Math.round(kl.zI.FontSize),ge=dt.slice(kn,kn+al);
if(kl.zI.FontCaps==2)ge=ge.toUpperCase();var n=new aJ;n.translate(k7.e3.x,-i7);n.concat(eh);v.ctm=[n.DR,n.b,n.tg,n.l_,n.TO,n.bZ];
J.PutText(v,ge,0);for(var iN=0;iN<2;iN++){var a8=kl.zI[iN==0?"Strikethrough":"Underline"];if(!a8)continue;
var dK=dx.Mq(kn+al-1),f6=iN==0?.27:-.2,fS=h9*f6,cf=h9*(f6+.07),kG=dK.e3.x+dK.e3.q-k7.e3.x,iG=[0,fS,kG,fS,kG,cf,0,cf];
B.w.C(iG,n,iG);v.pth={cmds:["M","L","L","L","Z"],crds:iG};J.Fill(v)}v.ctm=[1,0,0,1,0,0];kn+=al}}}}else if(!E.R.EG()||jD==1){var eC,kH,i0=!1,e5=new aJ,gA=E.add.SoLd,bW=!0;
if(gA)bW=B.D.s_(B.D.s6(c.L2.RT(gA.Trnf)));var e3=h.n0();if(gA&&bW&&e3==null){var iL=gA.Idnt.v,h4=h.Rk(iL,gA.Crop?gA.Crop.v:null),dS="";
if(h4==null)return;var iT=h4.pd,hC=gI.pI(h4.raw.buffer);if(x[7].indexOf(hC)!=-1){eC=h4.raw;i0=!0}else eC=iT[0];
kH=iT[1];e5=B.D.li(gA)}else{eC=E.buffer;kH=E.R;e5.translate(kH.x,kH.y);if(e3){eC=eC.slice(0);ICC.U.applyLUT(e3[h.add.fcmy==1?5:3],e3[2],eC,eC)}if(B.Mc(eC,kH.q,kH._)&&x[7]&&x[7].indexOf("jpg")!=-1){var il=gI.g6("JPG").oZ([[eC.buffer]],kH.q,kH._,[x[1]]);
eC=new Uint8Array(il);i0=!0}}if(f&&!i0)eC=d4.aFn(eC,f,kH);aH.bz(v,J,eC,kH,e5,m);if(f&&i0){var iG=[0,0,kH.q,0,kH.q,kH._,0,kH._];
B.w.C(iG,e5,iG);B.w.C(iG,m,iG);var i6=B.t(v);i6.ca=f.Opct.v.val/100;i6.pth={cmds:["M","L","L","L","Z"],crds:iG};
i6.colr=aH.xm(f.Clr.v);J.Fill(i6)}}if(a)v.cpth=null;if(P){J.EndTGroup();v=g}v.ca=v.CA=W;if(H)aH.aEx(E,$,A,H,v,J,m,x,!1)};
aH.PH=function(h){var e=aH.IU;if(e==null)return h;var v=e.n0();if(v&&e.add.fcmy){return B.VG(B.Wu(h)).slice(0,3)}return h};
aH.xm=function(h){h=B.Vh.SL(h);return aH.PH([h.n/255,h.i/255,h.b/255])};aH.a7v=function(h){return aH.PH([(h>>>16&255)/255,(h>>>8&255)/255,(h&255)/255])};
aH.aEx=function(h,e,v,J,m,d,x,j,E){var L=v.O(),p=e;if(h.add.TySh&&!j[3]&&!j[4])return;var Z=m.ca,o=m.bmode;
for(var T=fL.order.length-1;T>=0;T--){var u=fL.order[T];if(u=="GrFl"||u=="SoFi")continue;if((h.add.vmsk||h.add.TySh)&&u=="FrFX")continue;
var N=J[u],M=T>7||u=="FrFX";if(M!=E)continue;for(var O=0;O<N.length;O++){var F=N[O];if(F.js==null)F=F.Gz?F.Gz:F.YW;
if(F==null)continue;var W=F.js.O();W.offset(L.x,L.y);if(!M){if(!L.xB(W)){var f=L.R$(W),$=B.U(f.$());
B.Ww(p,L,$,f);p=$;L=f}B.L_(p,L,F.su,W)}if(M&&u=="FrFX"&&F.Su)B.L_(F.Su,W,F.su,W);var H=new aJ;H.translate(W.x,W.y);
m.ca=F.Al;m.bmode=eP.ah1(F.Cs);aH.bz(m,d,F.su,W,H,x)}}m.ca=Z;m.bmode=o};aH.bz=function(h,e,v,J,m,d){var x=new aJ;
x.scale(J.q,-J._);x.translate(0,J._);x.concat(m);x.concat(d);h.ctm=[x.DR,x.b,x.tg,x.l_,x.TO,x.bZ];e.PutImage(h,v,J.q,J._);
h.ctm=[1,0,0,1,0,0]};var d6={};d6.kq=function(h){var e=new Uint8Array(h);return d6.Wh(e,0)};d6.Wh=function(h,e){var v=b.d$,J=b.RZ,m={mX:J(h,e,4),d:e+8,size:v(h,e+4)},d=m.mX=="FORM"||m.mX=="FOR4"||m.mX=="LIST"||m.mX=="CAT ";
if(d)m.Wj=J(h,e+8,4);if(m.size<0||m.d+m.size>h.length)throw"e";if(d){m.sub=[];e+=12;var x=m.d+m.size;
while(e<x){var j=d6.Wh(h,e);m.sub.push(j);var E=j.size&1,L=j.size&3;if(m.mX=="FOR4")E=L==0?0:4-L;e+=8+j.size+E}}return m};
var bx={};bx.kq=function(h,e){var v=new Uint8Array(h);return bx.Wh(v,0,e)};bx.Wh=function(h,e,v){var J=b.bB,m=b.RZ,d={mX:m(h,e,4),d:e+8,size:J(h,e+4)};
if(v&&v[d.size]!=null)d.size=v[d.size];if(d.mX=="RIFF"||d.mX=="LIST"){d.Wj=m(h,e+8,4)}if(d.size<0||d.d+d.size>h.length)throw"e";
if(d.mX=="RIFF"||d.mX=="LIST"&&(d.Wj!="cmpr"&&d.Wj!="stlt")){d.sub=[];e+=12;var x=d.d+d.size;while(e<x){var j=bx.Wh(h,e,v);
d.sub.push(j);e+=8+j.size+(j.size&1)}}return d};var f9=function(){function h(Q,D){var dG=null;if(Q.sub==null)return dG;
for(var T=0;T<Q.sub.length;T++){var R=Q.sub[T];if(R.mX==D||R.Wj==D)dG=R}return dG}function e(Q){if(Q==32)return 300;
else if(Q<49)return 0;else if(Q<58)return 100*(Q-48);else if(Q<65)return 0;return 100*(Q-55)}var v;function J(Q,D){var dG=new Uint8Array(Q);
D.cj=!0;v={};var R=b.RZ(dG,0,2);if(R=="WL"){alert("Unsupported CDR version")}else{var X,dx,jv,ah,jX=300,kn=0;
if(R=="PK"){dx=UZIP.parse(dG);if(dx["content/root.dat"]){dG=dx["content/root.dat"];jv=b.Is(dx["content/dataFileList.dat"]).split("\n")}else{dG=dx["content/riffData.cdr"];
dx=null}}X=bx.kq(dG.buffer);console.log(X);var gB=e(dG[11]),hQ={data:dG,d:0,nZ:gB};hQ.l5=hQ.nZ<600?16:32;
l(dG,hQ,jv,dx,X.sub,0);var kG=[];if(dx){ah=h(X,"doc ");m(ah);var iZ=X.sub;for(var T=0;T<iZ.length;T++)if(iZ[T].Wj=="page")kG.push(iZ[T]);
kG=kG.slice(1)}else if(X.sub[3]&&X.sub[3].mX=="pack"){alert("We dont support this version of CDR files");
return}else if(h(X,"cmpr")==null){ah=h(X,"page");kG.push(ah);if(h(ah,"mcfg")==null){ah=h(X,"doc ");m(ah);
kG=[];var iZ=X.sub;for(var T=0;T<iZ.length;T++)if(iZ[T].Wj=="page")kG.push(iZ[T]);kG=kG.slice(1)}}else{var bs=h(X,"cmpr").sub;
ah=bs[0];kG=[bs.slice(1)[1]];if(h(ah,"filt"))m(ah)}var ey=h(ah,"mcfg").J,jp=ey.axr,eh=jp.x*.1,dt=jp.x*kG.length+eh*(kG.length-1),jN=jp.y;
jX/=c0.Pn(new fP(0,0,Math.round(dt*jX),Math.round(jN*jX)),8192*8192);var jw=Math.round(dt*jX),i7=Math.round(jN*jX);
D.q=jw;D._=i7;D.buffer=B.U(D.q*D._*4);for(var T=0;T<kG.length;T++){var eK=new aJ(jX,0,0,-jX,jp.x*jX/2+kn,jp.y*jX/2);
d(kG[T],ah,D,eK);var ee=D.T[D.T.length-1];ee.B9(new fP(Math.round(kn),0,Math.round(jp.x*jX),Math.round(jp.y*jX)));
ee.Ip("Page "+(T+1));kn+=jp.x*jX+eh*jX}D.pG(kG.length)}}function m(Q){var D=h(Q,"filt").sub,dG=h(Q,"otlt").sub,R=h(Q,"fntt");
if(R)R=R.sub;Q.o8={};for(var T=0;T<D.length;T++)Q.o8[D[T].sub[0].J.id]=D[T].sub[0].J;Q.y9={};for(var T=0;
T<dG.length;T++)Q.y9[dG[T].J.id]=dG[T].J;if(R){Q.fonts={};for(var T=0;T<R.length;T++)Q.fonts[R[T].J.id]=R[T].J}}function d(Q,D,dG,R){var X=Q.Wj?Q.Wj:Q.mX,dx=h(Q,"lgob"),jv=h(Q,"txsm"),gB=null,hQ=null;
if(dx){gB=h(dx,"trfl");hQ=h(dx,"loda")}else if(h(Q,"lobj"))hQ=h(Q,"lobj");var ah=gB&&gB.sub[0].ok?gB.sub[0].ok.O():new aJ;
ah.concat(R);var kG=dG.ws();if(X=="page"||X=="layr"||X=="grp "){kG.Ip((X=="page"?"Page":"Group")+" "+dG.T.length);
kG.add.lsct=d7.W$;kG.fR="pass";kG.IT=24;var iZ=[];if(X=="page")iZ=h(Q,"gobj").sub;if(X=="layr")iZ=Q.sub.slice(2);
if(X=="grp ")iZ=Q.sub.slice(4);if(iZ.length==0)return;dG.T.push(dG.gB());for(var T=iZ.length-1;T>=0;
T--)d(iZ[T],D,dG,R)}else if(X=="obj "&&hQ.J&&hQ.J.path){var bs,ey;if(D.o8){bs=D.o8[hQ.J.aBj];ey=D.y9[hQ.J.aCa]}if(bs==null)bs=hQ.J.au9;
if(ey==null)ey=hQ.J.aeM;kG=x(dG,hQ.J.path,R,ah,bs,ey)}else if(X=="obj "&&jv){var jp=hQ.J.a1b,eh=hQ.J.apJ,jX="";
kG.add.TySh=fr.YI(0,0);var dt=ah.n$();kG.add.TySh.C.translate(ah.TO,ah.bZ);var jN=kG.add.TySh.lf,jw=jv.J.EF;
if(jw==null)return;for(var T=0;T<jw.length;T++){var i7=jw[T],kn=jX.length;jX+=i7.text+"\n";fr.hj(jN,kn,i7.text+"\n");
if(i7.text=="")continue;var eK=j(i7.ajf,D),ee=eK.a9c,az=D.fonts[ee.a5p],k7=fr.aX(jN,kn,jX.length);if(eK.align==3)k7.UZ.Justification=1;
else if(eK.align==2)k7.UZ.Justification=2;else k7.UZ.Justification=0;var al=eK.fill.J;if(al==null)al=[0,0,0];
if(az.vy)fr.wm(k7,az.vy);k7.zI.FillColor={Type:1,Values:[1,al[0],al[1],al[2]]};k7.zI.FontSize=Math.round(ee.fontSize*R.n$());
fr.UE(jN,kn,jX.length-1,k7)}if(eh){fr.Ii(jN,0)}else{fr.Ii(jN,1);fr.Uv(jN,[0,0,Math.round(jp.x*ah.DR),Math.round(-jp.y*ah.l_)])}kG.Ip(jX.slice(0,10))}else{kG=null}if(kG)dG.T.push(kG)}function x(Q,D,dG,R,X,dx){var jv=Q.ws();
jv.Ip("Object "+Q.T.length);jv.IT|=16;var gB=jv.add.vstk=fL.gL.UX();jv.add.vmsk=new s.eo;jv.add.vmsk.z=B.w.GJ(D,!1);
B.s.Ma(jv.add.vmsk.z,R);var hQ=X&&X.c!=0,ah=hQ&&X.J!=null?X.J:[0,0,0];eP.fs(ah,jv,R,jv.add.vmsk.z);gB.fillEnabled.v=hQ;
if(dx&&dx.aC4!=1){gB.strokeEnabled.v=!0;gB.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var kG=gB.strokeStyleLineWidth.v.val=dx.lineWidth*dG.n$(),iZ=dx.color;gB.strokeStyleContent.v.Clr.v=B.Vh.WZ({n:iZ[0]*255,i:iZ[1]*255,b:iZ[2]*255});
if(dx.fe.length!=0)gB.strokeStyleLineDashSet.v=d4.YA(dx.fe,4/kG);var bs=dx.ary,ey=dx.aHv;if(ey!=0){var jp=D.g,T=jp.length-4,eh=jp[T],dt=jp[T+1],jN=jp[T+2],jX=jp[T+3],jw=new aJ;
jw.scale(.15,.15);jw.rotate(-Math.PI/2+Math.atan2(jX-dt,-(jN-eh)));jw.translate(jN,jX);jw.concat(R);
if(v[ey]){var i7=x(Q,v[ey],dG,jw,iZ,null);Q.T.push(i7)}}}jv.d6();jv.vT(Q);return jv}function j(Q,D){var dG=h(D,"stlt").J,R=B.t(dG.L7[Q]);
if(R.Aa!=0){var X=dG.L7[R.Aa];for(var dx in X)if(R[dx]==null||R[dx]==0)R[dx]=X[dx];delete R.Aa}R.align=dG.ahO[R.ac7];
R.fill=D.o8[dG.aHL[R.avP]];R.aDl=D.y9[dG.atr[R.arj]];R.a9c=dG.afe[R.avA];return R}function E(T){var iW=T.data[T.d];
T.d+=1;return iW}function L(T){var iW=b.B7(T.data,T.d);T.d+=2;return iW}function p(T){var iW=b.bB(T.data,T.d);
T.d+=4;return iW}function Z(T){var iW=b.bB(T.data,T.d);T.d+=8;return iW}function o(T){var iW=b.Iy(T.data,T.d);
T.d+=2;return iW}function u(T){var iW=b.TB(T.data,T.d);T.d+=4;return iW}function N(T){var iW=b.QA(T.data,T.d);
T.d+=8;return iW}function M(T){if(T.d>=T.data.length)throw"e";var Q=0;while(T.data[T.d+Q]!=0)Q++;var D=b.RZ(T.data,T.d,Q);
T.d+=Q+1;return D}function O(T){var Q="";while(!0){var D=L(T);if(D==0)break;Q+=String.fromCharCode(D)}return Q}function F(Q){var D=p(Q),dG=(D&4294901760)>>>16,R=(D&65535)/65535;
return dG+R}function W(Q){if(Q.nZ<600)return Math.PI*o(Q)/1800;return Math.PI*u(Q)/18e7}function f(Q){if(Q.nZ<1500)return $(Q);
else return N(Q)/254e3}function $(Q){if(Q.nZ<600)return o(Q)/1e3;else return u(Q)/254e3}function H(Q){if(Q.nZ<600)return L(Q);
else return p(Q)}function A(Q){if(Q.nZ<600)return o(Q);else return u(Q)}function G(Q,D,dG){var R="";
for(var T=0;T<dG;T++){for(var X=0;X<D;X+=4){var iW=b.bB(Q.data,Q.d+T*D+X);R+=(iW<500?iW:iW)+","}R+="\n"}return R}function l(Q,D,dG,R,X,dx){var jv,gB,hQ;
for(var ah=0;ah<X.length;ah++){var kG=D.nZ,iZ=X[ah];D.data=Q;D.d=iZ.d+(iZ.mX=="LIST"?4:0);if(R&&iZ.sub==null){jv=p(D);
gB=p(D);hQ=p(D);var bs=L(D);if(bs!=0&&bs!=768)throw"e";var ey=L(D);if(ey>32)throw"e";D.d-=16;if(jv!=4294967295){D.data=R["content/data/"+dG[jv]];
D.d=hQ}}if(iZ.mX=="vrsn"){if(iZ.size==16)D.d+=8;var jp=L(D);D.nZ=jp;console.log("Version",jp);D.l5=jp<600?16:32}else if(iZ.mX=="DISP"){}else if(iZ.mX=="pack"){var eh=p(D),dt=b.RZ(D.data,D.d,4),jw=0;
if(dt!="CPng")throw dt;var jN=new Uint8Array(D.data.buffer,D.d+8+2,iZ.size-10-4),jX=pako.inflateRaw(jN);
iZ.sub=[];while(jw<jX.length){var i7=bx.Wh(jX,jw);jw=i7.d+i7.size;iZ.sub.push(i7)}var kn={data:jX,d:0,nZ:kG,l5:D.l5};
l(jX,kn,dG,R,iZ.sub,dx+1)}else if(iZ.mX=="LIST"&&iZ.Wj=="cmpr"){var eK=p(D),ee=p(D),az=p(D),eh=p(D),dt=b.RZ(D.data,D.d,4),jw=0;
if(dt!="CPng")throw dt;var jN=new Uint8Array(D.data.buffer,D.d+8+2,eK-6-8),jX=pako.inflateRaw(jN);D.d+=eK;
jN=new Uint8Array(D.data.buffer,D.d+8+2);var k7=pako.inflateRaw(jN),al=[];for(var kl=0;kl<k7.length;
kl+=4)al.push(b.bB(k7,kl));iZ.sub=[];while(jw<jX.length){var i7=bx.Wh(jX,jw,al);jw=i7.d+i7.size;iZ.sub.push(i7)}var kn={data:jX,d:0,nZ:kG,l5:D.l5};
l(jX,kn,dG,R,iZ.sub,dx+1)}else if(iZ.mX=="LIST"&&iZ.Wj=="stlt"||iZ.mX=="stlt"){if(jv==4294967295)return;
var b9=D.d,fS="",dS=32;iZ.J={};var h9=p(D);if(h9==0)return;iZ.J.aHL=y(D,kG>=1300);iZ.J.atr=y(D);iZ.J.afe={};
var ge=p(D);for(var T=0;T<ge;T++){var iN=p(D);D.d+=kG<1e3?12:20;var a8=L(D),dK=L(D);D.d+=8;var f6=$(D);
D.d+=kG<1e3?12:20;iZ.J.afe[iN]={a5p:a8,aaw:dK,fontSize:f6}}iZ.J.ahO=y(D);var cf=p(D);fS+="Intervals\n"+G(D,52,cf)+"\n";
D.d+=52*cf;var iG=p(D);fS+="Set5s\n"+G(D,152,iG)+"\n";D.d+=152*iG;var eC=p(D);fS+="Tabs\n"+G(D,784,eC)+"\n";
D.d+=784*eC;var kH=p(D);fS+="Bullets\n";for(var T=0;T<kH;T++){var i0=D.d,e5=p(D);D.d+=4*3;if(kG>1300)D.d+=4;
var gA=p(D);D.d+=4*5;if(kG>=1300){var bW=p(D);if(bW){if(p(D))D.d+=64;else D.d+=60}else D.d+=12}else{D.d+=20;
if(kG>=1e3)D.d+=8;if(p(D))D.d+=8;D.d+=8}var e3=D.d;D.d=i0;fS+=G(D,e3-i0,1);D.d=e3}fS+="\n";var iL=p(D);
fS+="Indents\n";iZ.J.arR={};for(var T=0;T<iL;T++){var i0=D.d,h4=p(D),iT={};D.d+=12;iT.right=$(D);iT.au0=$(D);
iT.left=$(D);iZ.J.arR[h4]=iT;var e3=D.d;D.d=i0;fS+=G(D,e3-i0,1);D.d=e3}fS+="\n";var hC=p(D);if(kG>=1300)dS+=4;
fS+="Hypens\n"+G(D,dS,hC)+"\n";D.d+=dS*hC;var il=p(D);fS+="Dropcaps\n"+G(D,28,il)+"\n";D.d+=28*il;if(kG>800){var i6=p(D);
fS+="Set11s\n"+G(D,28,i6)+"\n";D.d+=12*i6}iZ.J.L7={};for(var T=0;T<h9;T++){var co=p(D);if(co>3)throw co;
var bH=p(D),b5={};b5.Aa=p(D);D.d+=8;var ej=p(D);if(kG>=1200)ej*=2;D.d+=ej;b5.avP=p(D);b5.arj=p(D);if(co>1){b5.avA=p(D);
b5.ac7=p(D);b5.aD5=p(D);b5.akI=p(D);if(kG>800)b5.aty=p(D)}if(co>2){b5.ao3=p(D);b5.aDj=p(D);b5.a5B=p(D);
b5.ajb=p(D);b5.atL=p(D)}iZ.J.L7[bH]=b5}}else if(iZ.mX=="LIST")l(Q,D,dG,R,iZ.sub,dx+1);else if(iZ.mX=="txsm"){iZ.J={};
if(kG<600)throw"e";if(kG<700)throw"e";if(kG>=1600){iZ.J=w(D);return}if(kG>=1500)D.d+=37;else D.d+=36;
if(p(D)){if(kG<800)D.d+=32}if(kG<800)D.d+=4;iZ.J.aoc=p(D);iZ.J.EF=[];D.d+=48;if(kG>=800){if(p(D)){D.d+=32;
if(kG>=1300)D.d+=8}}if(kG>=1500)D.d+=12;var co=p(D),id=1,dH=!1;if(!co){if(kG>=800)D.d+=4;if(kG>800)D.d+=2;
if(kG>=1400)D.d+=2;D.d+=24;if(kG<800)D.d+=8;id=p(D)}for(var kl=0;kl<id;kl++){var hA=p(D),T=0;if(kG>=1300&&co)D.d++;
D.d++;var h9=p(D),fn=[];for(T=0;T<h9;T++){var d3=E(D),hF=0;E(D);var iF=E(D);if(kG>=800)hF=E(D);var b5={};
if(iF&1){b5.a5p=L(D);var bz=L(D);if(bz)b5.amy=bz}if(iF&2)D.d+=4;if(iF&4)b5.au8=$(D);if(iF&8)D.d+=4;if(iF&16)D.d+=4;
if(iF&32)D.d+=4;if(iF&64){b5.avP=p(D);if(kG>=1500)D.d+=48}if(iF&128){b5.arj=p(D)}if(hF&8){if(kG>=1300){var hN=p(D);
if(D.d+hN*2>=D.data.length){dH=!0;break}D.d+=hN*2}else D.d+=4}if(hF&32){var cA=E(D);if(cA)D.d+=52}if(d3==2)if(kG>=1300)D.d+=48;
fn.push(b5)}if(dH){break}var km=p(D);if(D.d+km*4>D.data.length)break;var gm=[];for(T=0;T<km;T++){var gS=0;
if(kG>=1200)gS=Z(D)&4294967295;else gS=p(D);gm[T]=gS>>16|gS&1}var jl=km;if(kG>=1200)jl=p(D);var jn=M(D);
iZ.J.EF.push({ajf:hA,text:jn,L7:fn})}}else if(iZ.mX=="arrw")iZ.J=K(D);else if(iZ.mX=="font"){var i0=D.d,ad=L(D),el=L(D),db="";
D.d+=14;if(D.nZ>=1200)db=O(D);else db=M(D);iZ.J={id:ad,ai7:el,name:db};if(R){var dC=i0+gB;while(D.data[D.d]==0)D.d++;
D.d+=2;var jJ=O(D);while(D.data[D.d]==0)D.d++;while(D.data[D.d]<=2)D.d+=4;iZ.J.vy=O(D)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(iZ.mX)!=-1){}else if(iZ.mX=="flgs")iZ.J=p(D);
else if(iZ.mX=="bbox"){var cJ=$(D),cu=$(D),jg=$(D),jP=$(D);iZ.J=new fP(cJ,cu,jg-cJ,jP-cu)}else if(iZ.mX=="fild"){var gc=p(D),jR;
if(kG>=1300)D.d+=8;var er=L(D);if(er==0){}else if(er==1){D.d+=kG>=1300?13:2;jR=r(D)}else if(er==2){D.d+=kG>=1300?8:2;
var bg=E(D),gO=0;if(kG>=1300){D.d+=17;gO=o(D)}else if(kG>=600){D.d+=19;gO=u(D)}else{D.d+=11;gO=o(D)}var f5=W(D),kY=.5+A(D),g2=.5+A(D)-.5;
if(kG>=600)D.d+=2;var hs=H(D)&255,gH=E(D)/100;D.d++;var hW=H(D)&65535;if(kG>=1300)D.d+=3;var fY=[];for(var T=0;
T<hW;T++){var gn=r(D);if(kG>=1400)D.d+=26;else if(kG>=1300)D.d+=5;var cL=(H(D)&65535)/100;if(kG>=1300)D.d+=3;
fY.push([cL,gn])}jR={typ:bg==1?"lin":"rad",crds:[kY-Math.cos(f5)/2,g2-Math.sin(f5)/2,kY,g2],grad:fY,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",er);
iZ.J={id:gc,c:er,J:jR}}else if(iZ.mX=="outl"){var eo=p(D);if(kG>=1300){var fh=0,fU=0;while(fh!=1){D.d+=fU;
fh=p(D);fU=p(D)}}var f_=L(D),hD=L(D),hh=L(D);if(kG<1300&&kG>=600)D.d+=2;var a3=$(D),br=L(D)/100;if(kG>=600)D.d+=2;
var ij=W(D);if(kG>=1300)D.d+=46;else if(kG>=600)D.d+=52;var jR=r(D);if(kG<600)D.d+=10;else D.d+=16;var am=L(D),hb=D.d,bN=[];
for(var T=0;T<am;++T)bN.push(L(D));if(kG<600)D.d=hb+20;else D.d=hb+22;var ch=p(D),fE=p(D);iZ.J={id:eo,aC4:f_,ae_:hD,aEd:hh,lineWidth:a3,color:jR,fe:bN,ary:ch,aHv:fE}}else if(iZ.mX=="mcfg"){if(1300<=kG)D.d+=12;
else if(900<=kG)D.d+=4;else if(600<=kG&&kG<700)D.d+=28;var e6=0,cO=0;if(kG<400){D.d+=2;var cJ=$(D),cu=$(D),jg=$(D),jP=$(D);
e6=Math.abs(jg-cJ);cO=Math.abs(jP-cu)}else{e6=$(D);cO=$(D)}iZ.J={axr:new fq(e6,cO)}}else if(iZ.mX=="loda"||iZ.mX=="lobj"){var b9=D.d,gp=H(D),fI=H(D),jA=H(D),iQ=H(D),f0=H(D),hm=[],e8=[],T=0,bM=null;
D.d=b9+jA;while(T<fI)hm[T++]=H(D);D.d=b9+iQ;while(T>0)e8[--T]=H(D);iZ.J={};for(T=0;T<fI;T++){D.d=b9+hm[T];
var ho=e8[T];if(ho==30){if(kG>=400&&f0==1||kG<400&&f0==0){iZ.J.path=g(D)}else if(kG>=400&&f0==2||kG<400&&f0==1){iZ.J.path=P(D)}else if(kG>=400&&f0==3||kG<400&&f0==2){iZ.J.path=Y(D)}else if(f0==37){iZ.J.path=C(D)}else if(kG>=400&&f0==4||kG<400&&f0==3){iZ.J.apJ=S(D)}else if(kG>=400&&f0==6||kG<400&&f0==5){iZ.J.a1b=i(D)}else console.log(f0)}else if(ho==20){if(kG<400)iZ.J.au9=z(D);
else iZ.J.aBj=p(D)}else if(ho==10){if(kG<400)iZ.J.aeM=q(D);else iZ.J.aCa=p(D)}else if(ho==200)iZ.J.ayo=H(D);
else if(ho==100){if(kG<400)bM=U(D)}}if(bM&&iZ.J.path)B.w.C(iZ.J.path.g,bM,iZ.J.path.g)}else if(iZ.mX=="trfd"){var b9=D.d,gp=H(D),fI=H(D),jA=H(D);
D.d=b9+jA;var hm=[];for(var T=0;T<fI;T++)hm[T]=H(D);for(var T=0;T<fI;T++){D.d=b9+hm[T];if(kG>=1300)D.d+=8;
var k4=L(D);if(k4==8){var f7,hn,cJ,cr,bf,cu;if(kG>=600)D.d+=6;if(kG>=500){f7=N(D);hn=N(D);cJ=N(D)/(kG<600?1e3:254e3);
cr=N(D);bf=N(D);cu=N(D)/(kG<600?1e3:254e3)}else throw"e";iZ.ok=new aJ(f7,cr,hn,bf,cJ,cu)}else console.log(k4)}}else if(!1){console.log(iZ);
var hL=Math.min(iZ.size,32);console.log(b.Ki(Q,iZ.d,hL));console.log(b.aBs(Q,iZ.d,hL))}}}function K(Q){var D=p(Q);
Q.d+=4;var dG=L(Q);Q.d+=4;var R=[];for(var X=0;X<dG;X++)R.push(E(Q));Q.d+=1;var dx=[];for(var jv=0;jv<dG;
jv++){var gB=[];gB[1]=$(Q);gB[0]=$(Q);dx.push(gB)}var hQ=t(dx,R);v[D]=hQ}function U(Q){var D=0,dG=0,R=0,X=0,dx=0,jv=0;
if(Q.nZ>=300){var gB=Q.d;Q.d+=10;var hQ=H(Q);Q.d=gB+hQ;D=F(Q);dG=F(Q);R=u(Q)/1e3;X=F(Q);dx=F(Q);jv=u(Q)/1e3}else{R=$(Q);
jv=$(Q);D=F(Q);dG=F(Q);R+=F(Q)/1e3;X=F(Q);dx=F(Q);jv+=F(Q)/1e3}return new aJ(D,dG,X,dx,R,jv)}function z(Q){var D=E(Q);
if(D==0)return null;else if(D==1)return r(Q);else console.log(D)}function q(Q){var D=E(Q);D<<=1;var dG=$(Q),R=L(Q)/100,X=W(Q),dx=r(Q);
return{aC4:D,lineWidth:dG,color:dx,fe:[],ary:0,aHv:0}}function P(Q){var D=$(Q),dG=$(Q),R=W(Q),X=W(Q),dx=B.w._i(B.s.z0.FO(0,0,D,dG));
return dx}function g(Q){var D=Q.nZ,dG=f(Q),R=f(Q),X=0,dx=0,jv=0,gB=0,hQ=0,ah=1,kG=1;if(D<1500){gB=f(Q);
jv=D<900?gB:f(Q);dx=D<900?gB:f(Q);X=D<900?gB:f(Q)}else{var iZ=N(Q);if(iZ!=0)ah=iZ;iZ=N(Q);if(iZ!=0)kG=iZ;
var bs=E(Q);Q.d+=7;if(bs==0){gB=N(Q);hQ=E(Q);Q.d+=15;jv=N(Q);Q.d+=16;dx=N(Q);Q.d+=16;X=N(Q);var ey=Math.abs(dG*ah/2),jp=Math.abs(R*kG/2);
gB*=ey<jp?ey:jp;jv*=ey<jp?ey:jp;dx*=ey<jp?ey:jp;X*=ey<jp?ey:jp}else{gB=f(Q);hQ=E(Q);Q.d+=15;jv=f(Q);
Q.d+=16;dx=f(Q);Q.d+=16;X=f(Q)}}return B.w._i(B.s.z0.Rect(0,0,dG,R,[X,dx,jv,gB]))}function a(Q){var D=p(Q);
if(Q.nZ<1700)D*=2;Q.d+=D;return""}function w(Q){var D=p(Q),R=0;Q.d+=37;var dG=p(Q);for(var T=0;T<dG;
T++){var X=p(Q);R=X;Q.d+=48;var dx=p(Q);if(dx==1)Q.d+=12*4;else Q.d+=8;if(!D){Q.d+=16;a(Q)}}var jv={aoc:R,EF:[]},gB=p(Q);
for(var hQ=0;hQ<gB;hQ++){if(Q.d>Q.data.length)throw"e";var ah=p(Q),kG=E(Q),iZ=-1,eK="";if(D){iZ=E(Q);
if(iZ==1)Q.d+=64}var bs=a(Q),ey=p(Q);for(var T=0;T<ey;T++){Q.d+=2;var jp=L(Q),eh=L(Q);if(eh&4){var dt=p(Q);
dt*=2;Q.d+=dt}if(jp||eh&4){var jN=a(Q)}}var jX=p(Q),jw=[];for(var T=0;T<jX;T++){var i7=Z(Q)&4294967295;
jw[T]=i7>>16|i7&1}var kn=p(Q);for(var T=0;T<jX;T++){var ee=jw[T]&7,az=0;if(ee==0||ee==2||ee==4||ee==6)az=Q.data[Q.d++];
else if(ee==1||ee==3||ee==5||ee==7)az=Q.data[Q.d++]+Q.data[Q.d++]*256;else throw ee;eK+=String.fromCharCode(az)}if(hQ+1<gB)Q.d++;
var k7=eK.split("\r");for(var T=0;T<k7.length;T++)jv.EF.push({text:k7[T],ajf:ah,L7:[]})}return jv}function y(Q,D){var dG={},R=p(Q);
for(var T=0;T<R;T++){var X=p(Q);Q.d+=4;var dx=p(Q);dG[X]=dx;if(D)Q.d+=48}return dG}function S(Q){var D=$(Q),dG=$(Q);
return new fq(D,dG)}function i(Q){Q.d+=4;var D=$(Q),dG=$(Q);return new fq(D,dG)}function C(Q){Q.d+=4;
var D=L(Q)+L(Q);Q.d+=16;var dG=_(Q,D);return dG}function Y(Q){var D=L(Q);Q.d+=2;return _(Q,D)}function _(Q,D){var dG=[],R=[];
for(var T=0;T<D;T++)dG.push([$(Q),$(Q)]);for(var T=0;T<D;T++)R.push(E(Q));return t(dG,R)}function t(Q,D){var dG={g:[],WQ:[]},R=0,X=0,dx=0;
for(var T=0;T<Q.length;T++){var R=Q[T][0],X=Q[T][1],jv=D[T];if(!(jv&64)&&!(jv&128)||T==0){dG.g.push(R,X);
dG.WQ.push("M");dx+=2}else if(jv&64&&!(jv&128)){dG.g.push(R,X);dG.WQ.push("L");dx+=2}else if(!(jv&64)&&jv&128){dG.g.push(R,X);
dG.WQ.push("C");dx+=6}else if(jv&64&&jv&128){dG.g.push(R,X)}}if(dx!=dG.g.length)throw"e";return dG}function I(Q,D){var dG=b.bB;
D+=8;var R=dG(Q,D);D+=4;var X=dG(Q,D);D+=4;D+=4*7;var dx=D,jv=B.U(R*X*4);D+=1024;for(var gB=0;gB<X;gB++)for(var hQ=0;
hQ<R;hQ++){var T=gB*R+hQ,ah=(X-gB-1)*R+hQ,kG=Q[D+T]<<2,iZ=ah<<2;jv[iZ+0]=Q[dx+kG+2];jv[iZ+1]=Q[dx+kG+1];
jv[iZ+2]=Q[dx+kG+0];jv[iZ+3]=255}return{su:jv,R:new fP(0,0,R,X)}}function r(Q){var D=Q.nZ,dG=0,R=0,X=0;
if(D>=500){dG=L(Q);if(dG==1&&D>=1300)dG=25;if(dG==30){dG=25;R=30}else{R=L(Q);Q.d+=4}X=p(Q)}else if(D>=400)throw"e";
else{dG=E(Q);X=p(Q)}return n(dG,R,X)}function n(Q,D,dG){var R=[0,0,0];if(Q==2||Q==3||Q==9||Q==17){var X=[dG>>>0&255,dG>>>8&255,dG>>>16&255,dG>>>24&255];
if(Q==2)for(var T=0;T<4;T++)X[T]=Math.round(255*X[T]/100);for(var T=0;T<4;T++)X[T]/=255;R=UDOC.C.cmykToRgb(X)}else if(Q==1||Q==5){R=[dG>>>0&255,dG>>>8&255,dG>>>16&255];
for(var T=0;T<3;T++)R[T]=R[T]/255;if(Q==5)R.reverse()}else console.log("Unknown color model "+Q,dG,dG.toString(16));
return R}return{kq:J}}(),ei=function(){var h,e,v=new ArrayBuffer(4),J=new Uint8Array(v),m=new Uint32Array(v),d=new Float32Array(v);
function x(o,u){for(var N=0;N<o.length;N++)if(o[N][0]==u)return o[N]}function j(){var o=0,u=0,N=0;do{N=h[e++];
o|=(N&127)<<u;u+=7}while(N&128&&u<35);return o>>>0}function E(o,u,N,M,O){h=o;e=u;var F=M[0]=="mesg",W=M[2],f={},$=1,H=F?1e9:W.length;
while($<=H){var A=$;if(F){A=j();if(A==0)break}var G=x(W,A),l=G[2],K=G[1]==1,U=K?j():1,z=new Array(U);
if(l==3){if(!K)throw"e";z=h.slice(e,e+U);e+=U}else for(var T=0;T<U;T++){var q;if((l&1)==1){if(l==1)q=h[e++]==1;
else if(l==3)q=h[e++];else if(l==5){var P=j();q=P&1?~(P>>>1):P>>>1}else if(l==7)q=j();else if(l==9){if(h[e]==0){q=0;
e++}else{J[0]=h[e];J[1]=h[e+1];J[2]=h[e+2];J[3]=h[e+3];var g=m[0];m[0]=g<<23|g>>>9;q=d[0];e+=4}}else if(l==11){var a=L(h,e);
q=a[0];e+=a[1]+1}else throw l}else{var w=N[l>>>1];if(w[0]=="enum"){var y=j();q=w[2][y]}else{var S=E(h,e,N,w,O+1);
q=S[0];e=S[1]}}z[T]=q}f[G[3]]=K?z:z[0];$++}return[f,e]}function L(o,u){var N=u;while(o[N]!=0)N++;return[b.Is(new Uint8Array(o.buffer,u,N-u)),N-u]}function p(o,u){var N=u;
while(o[N]!=0)N++;for(var T=u;T<N;T++)if(o[T]>127)throw"e";return b.RZ(o,u,N-u)}function Z(o){h=o;e=1;
var u=[];while(e<o.length){var N=e,M=u.length,O=p(o,e);e+=O.length+1;var F=j();if(F>2)throw"e";var W=j(),f=[];
for(var T=0;T<W;T++){var $=p(o,e);e+=$.length+1;var H=j(),A=j(),G=j();f.push(F==0?$:[G,A,H,$])}u.push([["enum","strc","mesg"][F],O,f])}return u}return{aCv:Z,ahQ:E}}();
function j4(){}j4.kq=function(h,e){var v=Date.now(),J=new Uint8Array(h),m=8,d,Z=0,S=0;if(J[0]==80&&J[1]==75){d=UZIP.parse(h);
J=d["canvas.fig"]}var x=b.bB(J,m);m+=4;var j=[];while(m<J.length){var E=b.bB(J,m);m+=4;var L=J.slice(m,m+E);
if(J[m]==137&&J[m+1]==80){}else L=UZIP.inflateRaw(L);j.push(L);m+=E}var p=ei.aCv(j[0]);for(var T=0;T<p.length;
T++)if(p[T][1]=="Message")Z=T;var o=ei.ahQ(j[1],0,p,p[Z],0)[0],u={QU:{},rY:{},acl:{},Ij:d},N=o.nodeChanges;
for(var M=0;M<N.length;M++){var O=N[M],F=O.guid;u.rY[F.sessionID+","+F.localID]=O}for(var M=0;M<N.length;
M++){var O=N[M],F=O.parentIndex;if(F){var W=j4.Sw(u.rY,F.guid);if(W.children==null)W.children=[];W.children.push(O)}}var f=N[0],$=f.children,H=new fP,A=[],G=[];
for(var F=0;F<$.length;F++){var l=$[F],K=l.children;if(l.name=="Internal Only Canvas"||K==null)continue;
var U=new fP;for(var T=0;T<K.length;T++){var z=K[T],q=z.transform,P=z.size;if(q.m00==1&&q.m10==0&&q.m01==0&&q.m11==1){var g=new fP(q.m02,q.m12,P.x,P.y);
U=U.R$(g)}}var a=H._==0?0:H._+100,w=U.O();w.x=0;w.y=a;H=H.R$(w);A[F]=U;G[F]=a}var y=c0.Pn(new fP(0,0,H.q,H._),8192*8192);
e.q=Math.round(H.q/y);e._=Math.round(H._/y);e.buffer=B.U(e.q*e._*4);for(var F=0;F<$.length;F++){var l=$[F],K=l.children;
if(l.name=="Internal Only Canvas"||K==null)continue;K.sort(j4.aa3);var i=new aJ(1,0,0,1,-A[F].x,G[F]-A[F].y);
i.scale(1/y,1/y);for(var T=0;T<K.length;T++){var z=K[T];j4._S(z,[],i,o.blobs,e,0,u);S++}}e.pG(S);e.cj=!0;
if(y!=1)alert("File scaled down "+y+"x")};j4._S=function(h,e,v,J,m,d,x){var j=j4,U=!1,z,g=!1,a,w;e=B.t(e);
var E=h.overrideKey?h.overrideKey:h.guid;for(var T=0;T<e.length;T++){var L=e[T],p=L.guidPath.guids;if(j.azh(p[0],E)){if(p.length==1){var Z={};
for(var o in h)Z[o]=L[o]!=null?L[o]:h[o];h=Z}else L.guidPath.guids=p.slice(1)}}var u=h.type,N=h.children,M=h.size,O=h.effects,F=m.ws();
F.Ip(h.name);F.nP(h.visible);F.S2=Math.round(h.opacity*255);var W=j.eI(h.transform),f=W.O();f.concat(v);
if(M==null)M={x:0,y:0};var $=new fP(Math.round(f.TO),Math.round(f.bZ),Math.round(M.x*f.n$()),Math.round(M.y*f.n$()));
if($.q==0||isNaN($.q))$.q=100;if($._==0||isNaN($._))$._=100;var H=h.fillPaints,A=h.inheritFillStyleID;
if(A){var Z=j.Sw(x.rY,A);if(Z)H=Z.fillPaints}if(H==null)H=[];var H=j.a0m(H),G=H[0];if(G&&G.type=="IMAGE"&&j.pb(J,j4.AE(G),x,!0)==null)G=null;
var l=h.strokePaints,A=h.inheritFillStyleIDForStroke;if(A){var Z=j.Sw(x.rY,A);if(Z)l=Z.fillPaints}if(l==null)l=[];
var l=j.a0m(l),K="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(u)!=-1;
if(K||u=="FRAME"){z=new s.eo;j.axW(h,J,z);U=B.s.nt(z.z);B.s.Ma(z.z,f);var q=B.w.jg(B.s.jd(z.z));if(!q.EG())$=q;
if(x.QU.tZ&&G){var P=s.eo.p3(x.QU.tZ.z);for(var T=2;T<P.length;T++)if(P[T].Jb!=null)P[T].Jb=3;z.z=z.z.concat(P.slice(2))}}if(G&&G.type=="IMAGE"){w=G.imageScaleMode;
g=!0;var y=G.originalImageWidth,S=G.originalImageHeight;if(y*S==0){var i=j.pb(J,j4.AE(G),x);y=i.Ei.q;
S=i.Ei._}var C=y/S,Y=M.x/M.y;a=Math.abs(C-Y)}if(u=="FRAME"){}else if(K&&U&&g&&(w=="FIT"||w=="FILL"&&a<=.05||w=="STRETCH"&&a<=.05)){var _=j.pb(J,j4.AE(G),x,!0),t=m.dz(_,F.getName(),0,0);
t.IT=F.IT;t.S2=F.S2;F=t;var I=new fP(0,0,M.x,M.y);if(w=="FIT"){var r=G.originalImageWidth,n=G.originalImageHeight,Q=Math.min(M.x/r,M.y/n),D=r*Q,dG=n*Q;
I=new fP(I.x+(I.q-D)/2,I.y+(I._-dG)/2,D,dG)}var R=B.w.Tp(I).g;B.w.C(R,f,R);F.add.SoLd.Trnf=c.L2.ni(R);
F.add.SoLd.nonAffineTransform=c.L2.ni(R);var X=[],O=h.effects,dx=G.paintFilter;if(O)for(var T=0;T<O.length;
T++)if(O[T].type=="FOREGROUND_BLUR"){var jv=O[T],gB=f8.BN("GsnB",{});X.push(gB);gB.v.enab.v=jv.visible;
gB.v.Fltr.v.Rds.v.val=jv.radius/2.4}if(dx&&dx.exposure!=0){var gB=f8.BN("brit",{});X.push(gB);gB.v.Fltr.v.Brgh.v=Math.round(dx.exposure*160);
gB.v.Fltr.v.useLegacy.v=!0}if(dx&&dx.vibrance!=0){var gB=f8.BN("vibA",{});X.push(gB);gB.v.Fltr.v.Strt.v=Math.round(Math.round(dx.vibrance*100))}if(X.length!=0){F.add.SoLd.filterFX=f8.Tw();
m.eF({id:F.add.SoLd.placed.v,R:new fP,buffer:B.U(1),N:new s.xK});F.add.SoLd.filterFX.v.filterFXList.v=X}F.eW(m,!1);
j.aGF(x,F,m)}else if(K){j.ar1(F,z,h,G,l,f,$,J,m,x);if(O)for(var T=0;T<O.length;T++){var jv=O[T];if(jv.type!="FOREGROUND_BLUR")continue;
z.jC=jv.radius/2.4}F.d6();F.vT(m)}else if(u=="TEXT"){var hQ=h.textData,ah=hQ.layoutSize;if(ah==null)ah=h.size;
var kG=["LEFT","RIGHT","CENTER"].indexOf(h.textAlignHorizontal);F.add.lnsr="rend";F.add.TySh=fr.YI(0,0);
F.add.TySh.dP=new fP(0,0,100,100);var iZ=f.O();F.add.TySh.C=iZ;var bs=F.add.TySh.lf,ey=hQ.characters;
if(h.textCase=="TITLE"){for(var T=0;T<ey.length;T++)if(T==0||ey[T-1]==" "){var jp=ey.slice(0,T),eh=ey.slice(T+1);
ey=jp+ey[T].toUpperCase()+eh}}ey=ey.replace(/\u2028/g,"\n");ey=ey.replace(/\u2029/g,"\n");ey=ey.replace(/\r\n/g," \n");
fr.hj(bs,0,ey);var dt=h.textAutoResize,jN=hQ.baselines;if(dt=="WIDTH_AND_HEIGHT"){var jX=kG==0?0:kG==1?ah.x:ah.x/2,jw=jN?jN[0].position.y:h.fontSize;
iZ.translate(jX*f.n$(),jw*f.n$());fr.Ii(bs,0)}else if(dt=="HEIGHT"||dt=="NONE"||dt==null){var jw=jN?jN[0].position.y-h.fontSize*.7:0;
iZ.translate(0,jw*f.n$());fr.Ii(bs,1);fr.Uv(bs,[0,0,Math.round(ah.x),Math.round((dt=="NONE"?1.8:1)*ah.y)])}else throw dt;
if(ey!=""){var i7=fr.aX(bs,0,1);j.a9l(h,f,M,i7,F,J,m,x);fr.UE(bs,0,ey.length,i7);var kn=hQ.characterStyleIDs,eK=hQ.styleOverrideTable;
if(kn){kn=kn.slice(0);for(var T=0;T<kn.length;T++)if(ey[T]=="\n")kn[T]=-T-1;var ee=[0],az=0,k7=0;for(var T=0;
T<kn.length;T++){k7++;var al=kn[T];if(T==0||al==kn[T-1]){}else{ee.push(k7-1,T);k7=1}}ee.push(k7);for(var T=0;
T<ee.length;T+=2){var kl=ee[T],b9=ee[T+1];if(ey[kl]=="\n")continue;var al=kn[kl];if(al!=0){var h9;for(var ge=0;
ge<eK.length;ge++)if(eK[ge].styleID==al)h9=eK[ge];var i7=fr.aX(bs,kl,kl+1);j.a9l(h9,f,M,i7,F,J,m,x);
fr.UE(bs,kl,kl+b9-1,i7)}}}}}else if(u=="SYMBOL"){}else if(u=="INSTANCE"&&h.symbolData){var iN=h.symbolData,a8=iN.symbolOverrides,Z=j.Sw(x.rY,iN.symbolID);
if(Z)N=Z.children;else console.log(h.name,"symbol not found",iN.symbolID);e=e.slice(0);for(var T=0;T<a8.length;
T++)e.push(a8[T])}else console.log(u);if(!1){}else if(N&&!K){m.T.push(m.gB());var dK=!1,f6=d==0&&u!="SYMBOL"&&u!="INSTANCE";
if(f6){if($.EG())console.log($);F.B9($)}G=H[H.length-1];if(G&&G.type=="IMAGE"&&j.pb(J,j4.AE(G),x,!0)==null)G=null;
if(f6&&G&&G.type=="SOLID"){var fS=G.color;F.add.artb.artboardBackgroundType.v=4;F.add.artb.Clr=j.J3(fS)}else if((G||l[0])&&z){var cf=m.ws();
cf.Ip("Background");j.ar1(cf,z,h,G,l,f,$,J,m,x);cf.d6();cf.vT(m);m.T.push(cf);dK=!0}N.sort(j.aa3);var iG=x.QU;
x.QU={};for(var eC=0;eC<N.length;eC++)j._S(N[eC],e,f,J,m,d+1,x);x.QU=iG;F.add.lsct=!1?d7.W$:d7.kZ;F.fR="pass";
var kH=F.oA();F.IT=24;F.nP(kH);var i0=d!=0&&H.length!=0&&!h.frameMaskDisabled&&h.containerSupportsFillStrokeAndCorners;
if(!dK&&i0&&z){F.add.vmsk=z;F.d6();F.vT(m)}else j.aGF(x,F,m);m.T.push(F)}else if(h.mask){if(z){x.QU.tZ=z}}else{var e5=[],hC=1;
if(O)for(var gA=0;gA<O.length;gA++){var jv=O[gA],bW=jv.color,e3=jv.type,iL=["DROP_SHADOW","INNER_SHADOW"].indexOf(e3);
if(iL!=-1){var h4=["DrSh","IrSh"][iL],iT=JSON.parse(fL.JC[fL.order.indexOf(h4)]);e5.push([h4,iT]);iT.enab.v=jv.visible;
iT.Md.v.BlnM=cc.e_(j.aut(jv.blendMode));iT.Opct.v.val=Math.round(100*bW.a);iT.blur.v.val=Math.round(jv.radius*f.n$());
iT.Clr=j.J3(bW);var jX=jv.offset.x,jw=jv.offset.y;iT.uglg.v=!1;iT.lagl.v.val=Math.round(180/Math.PI*Math.atan2(jw,-jX));
iT.Dstn.v.val=Math.round(Math.sqrt(jX*jX+jw*jw)*f.n$())}}if(u=="TEXT"&&H[0]&&H[0].type!="SOLID")hC=0;
for(var T=hC;T<H.length;T++){var dS=H[T],il=j.G7(h,dS,f,$,J,m,x);if(il[0]=="GdFl")e5.push(["GrFl",il[1]]);
else if(il[0]=="SoCo")e5.push(["SoFi",il[1]]);else if(il[0]=="PtFl")e5.push(["patternFill",il[1]]);else if(il[0]=="None"){}else throw il}if(!K)for(var T=0;
T<l.length;T++){var dS=l[T],il=j.G7(h,dS,f,$,J,m,x);if(il[0]=="SoCo"){var iT=JSON.parse(fL.JC[fL.order.indexOf("FrFX")]);
e5.push(["FrFX",iT]);iT.enab=il[1].enab;iT.Opct=il[1].Opct;iT.Md=il[1].Md;iT.Clr=il[1].Clr;iT.Sz.v.val=Math.round(h.strokeWeight);
var i6=h.strokeAlign;if(i6)iT.Styl.v.FStl=fL.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(i6)]}}if(e5.length!=0){var co=JSON.parse(fL.default);
for(var T=0;T<fL.order.length;T++)co[fL.oN[T]]={t:"VlLs",v:[]};for(var T=0;T<e5.length;T++){var bH=e5[T],h4=fL.oN[fL.order.indexOf(bH[0])];
co[h4].v.unshift({t:"Objc",v:bH[1]})}if(N==null)F.add.lmfx=co}m.T.push(F)}};j4.ar1=function(h,e,v,J,m,d,x,j,E,L){var p=j4;
h.IT|=16;h.add.vmsk=e;var Z=h.add.vstk=fL.gL.UX(),o=p.G7(v,J,d,x,j,E,L);Z.fillEnabled.v=o[0]!="None";
if(o[0]=="None"){h.add.SoCo=o[1]}else{p.kg(o,h);h.add[o[0]]=o[1]}var o=p.G7(v,m[0],d,x,j,E,L);if(o[0]!="None"){var Z=h.add.vstk;
Z.strokeEnabled.v=!0;Z.strokeStyleLineWidth.v.val=v.strokeWeight*d.n$();Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fL.gL.md[["INSIDE","CENTER","OUTSIDE"].indexOf(v.strokeAlign)];
var u={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[o[0]],N=["SoFi","GrFl","patternFill"].indexOf(u),M=[fL.hz,fL.RN,fL.CI][N];
Z.strokeStyleContent.v={classID:fL.gL.Wj[0]};var O=v.dashPattern;if(O)Z.strokeStyleLineDashSet.v=d4.YA(O,1/v.strokeWeight);
var F=Z.strokeStyleContent.v={classID:fL.gL.Wj[N]};for(var T=0;T<M.length;T++)F[M[T]]=o[1][M[T]];if(!Z.fillEnabled.v)p.kg(o,h)}};
j4.kg=function(h,e){var v=h[1].Opct.v.val;if(v!=100)e.S2=Math.round(e.S2/255*(v/100)*255)};j4.aa3=function(h,e){var v=h.parentIndex.position,J=e.parentIndex.position;
return v>J?1:-1};j4.a0m=function(h){for(var T=1;T<h.length;T++){var e=h[T];if(e.type=="IMAGE"&&e.opacity==1){h=h.slice(T);
break}}for(var T=0;T<h.length;T++){var e=h[T],v=e.imageThumbnail,J=e.type=="IMAGE";if(J&&(e.image==null||e.image.dataBlob==null)&&v&&v.dataBlob)e.image=v;
if(!e.visible||J&&e.image==null){h.splice(T,1);T--}}return h};j4.aGF=function(h,e,v){if(h.QU.tZ){e.add.vmsk=h.QU.tZ.O();
e.d6();e.vT(v)}};j4.a9l=function(h,e,v,J,m,d,x,j){var E=h.fontSize,L=h.lineHeight,p=h.fontName,Z=h.textAlignHorizontal,o=h.textTracking,u=h.textCase,N=h.textDecoration;
if(E==null)E=J.zI.FontSize;if(p){var M=p.postscript;if(M==""){var O=p.family,F=p.style;M=O.split(" ").join("")+"-"+F}fr.wm(J,M)}if(E!=null)J.zI.FontSize=Math.round(E);
if(N=="UNDERLINE")J.zI.Underline=!0;if(o)J.zI.Tracking=Math.round(o*1e3);if(u)J.zI.FontCaps=u=="UPPER"?2:0;
if(L&&(L.units!="PERCENT"||L.value!=100)){if(E==null)E=15;var W=L.value;if(L.units=="PERCENT")W=1*E*W/100;
if(L.units=="RAW")W=1*E*W;J.zI.AutoLeading=!1;J.zI.Leading=Math.round(W)}if(Z)J.UZ.Justification=["LEFT","RIGHT","CENTER"].indexOf(Z);
var f=h.fillPaints,$=h.inheritFillStyleID;if($){var H=j4.Sw(j.rY,$);if(H)f=H.fillPaints}if(f&&f[0]){var A=j4.G7(h,f[0],e,v,d,x,j);
if(A[0]=="SoCo"){var G=B.Vh.SL(A[1].Clr.v);J.zI.FillColor={Type:1,Values:[1,G.n/255,G.i/255,G.b/255]};
j4.kg(A,m)}}};j4.G7=function(h,e,v,J,m,d,x){var j=j4,E,L,p=h.size;if(p==null)p={x:0,y:0};if(e){var Z=e.type,o=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(Z);
if(Z=="SOLID"){E="SoCo";var u=e.color;L=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);L.Clr=j.J3(u)}else if(o!=-1){var N=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),M=N.Grad.v;
M.Intr.v=0;N.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][o];var O=[],F=e.stops;for(var T=0;T<F.length;T++){var W=F[T],f=W.color;
O.push([W.position,[f.r,f.g,f.b],f.a])}B.Vh.Q_(O,M);var $=j.eI(e.transform);$.ia();var H=$.O();if(p)H.scale(p.x,p.y);
H.concat(v);var A=new fq(0,.5),G=new fq(1,.5);A=H.w7(A);G=H.w7(G);if(!0){A.x=G.x+.5*(A.x-G.x);A.y=G.y+.5*(A.y-G.y)}B.Vh.Xf(A,G,J,N);
if(o==3){if(H.DR*H.l_-H.b*H.tg<0)N.Rvrs.v=!N.Rvrs.v}E="GdFl";L=N}else if(Z=="IMAGE"){var N=JSON.parse(fL.JC[fL.order.indexOf("patternFill")]),$=j.eI(e.transform);
$.ia();var l=j4.AE(e),K=x.acl[l];if(K==null){var U=j.pb(m,l,x);K=x.acl[l]={};K.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";
K.$O=[new Uint8Array(U.data),U.Ei];if($.DR<0){var z=K.$O[0].slice(0);B.D.cU(z,K.$O[0],U.Ei.q,U.Ei._)}K.name="someImage";
d.zR(K)}if($.DR<0)$.DR=-$.DR;var q=["FILL","FIT","STRETCH","TILE"].indexOf(e.imageScaleMode),P=q==3?e.scale:1;
d4.aFb(K,N,p.x,p.y,q,v,$,P);E="PtFl";L=N}else if(Z=="VIDEO"){E="SoCo";L=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);
L.Clr=j.J3({r:255,g:0,b:255})}else throw Z;if(L)L.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(e.opacity*100)}}}if(E==null||e.opacity<.001){E="None";
L={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}}}return[E,L]};j4.AE=function(h){var e=h.image,v=e.dataBlob;
if(v==null){v="";for(var T=0;T<20;T++)v+=e.hash[T].toString(16).padStart(2,"0")}return v};j4.pb=function(h,e,v,J){if(h[e]){var m=h[e];
if(J)return m.bytes;if(m.rslt)return m.rslt;var d=m.bytes.buffer;m.rslt=j4.aGm(d);return m.rslt}else{if(v.Ij==null)return null;
if(J)return v.Ij["images/"+e];var d=v.Ij["images/"+e].buffer;if(v.Ij["images/-"+e])return v.Ij["images/-"+e];
v.Ij["images/-"+e]=j4.aGm(d);return v.Ij["images/-"+e]}};j4.aGm=function(h){var e=gI.pI(h);if(e=="fpng")e="png";
var v=gI.g6(e);try{return v.E2(h)[0]}catch(j3){return{data:B.U(4),Ei:new fP(0,0,1,1)}}};j4.axW=function(h,e,v){var J=h.type,m=h.size,d=h.cornerRadius,L;
if(d==null)d=0;var x=m.x,j=m.y,E=[d,d,d,d],p=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var T=0;T<4;T++)if(h[p[T]]!=null)E[T]=h[p[T]];if(J=="RECTANGLE"||J=="ROUNDED_RECTANGLE"||J=="FRAME"){L=B.s.z0.Rect(0,0,x,j,E)}else if(J=="ELLIPSE"){var Z=h.arcData,o=Z?Z.startingAngle:0,u=Z?Z.endingAngle:2*Math.PI,N=Z?Z.innerRadius:0;
if(o==0&&u>1.999*Math.PI)L=B.s.z0.FO(0,0,x,j,0);else L=B.s.z0.a9e(x/2,j/2,j/2,o,u);if(N!=0&&N!=1){var M=s.eo.p3(L).slice(3);
M.reverse();for(var T=0;T<M.length;T++){var O=M[T],F=O.NA;O.NA=O.Xb;O.Xb=F}var W=new aJ;W.translate(-x/2,-j/2);
W.scale(N,N);W.translate(x/2,j/2);B.s.Ma(M,W);L=L.concat(M);L[2].length*=2}}else if(J=="LINE"){L=B.s.z0.Rect(0,0,x,j,0);
L.pop();L.pop();L[2].length=2}else if(J=="STAR"){L=B.s.z0.aBo(x/2,j/2,x/2,2*Math.PI*(1/4),5,0,h.starInnerScale)}else if(J=="REGULAR_POLYGON"){L=B.s.z0.BZ(.5,.5,.5,Math.PI/2,h.count,0);
var f=new aJ;f.scale(x,j);B.s.Ma(L,f)}else if(J=="BOOLEAN_OPERATION"){L=[{c:6},{c:8,all:0}];var $=h.children,H=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(h.booleanOperation);
if(H==-1)throw h;if($==null)$=[];for(var T=0;T<$.length;T++){var A=$[T],G=new s.eo,l=j4.axW(A,e,G);if(G.z==null)continue;
B.s.Ma(G.z,j4.eI(A.transform));L=L.concat(G.z.slice(2))}for(var T=3;T<L.length;T++)if(L[T].Jb!=null)L[T].Jb=H}else if(J=="VECTOR"){var K,U,_=3;
if(!0){var z=h.vectorData;if(z==null)return;K=z.normalizedSize;U=z.vectorNetworkBlob}var q=e[U].bytes,P=new Uint32Array(q.buffer),g=new Float32Array(q.buffer),a=P[0],w=P[1],y=P[2],S=[],i=[],C=[],t=_+a*3,I=t+w*7;
for(var T=0;T<a;T++){var r=_+T*3,n=new fq(g[r+1],g[r+2]);S.push(n)}for(var T=0;T<w;T++){var Q=t+T*7;
i.push([P[Q+0],P[Q+1],g[Q+2],g[Q+3],P[Q+4],g[Q+5],g[Q+6]])}for(var T=0;T<y;T++){var D=P[I+1],dG=C[T]=[];
I+=2;for(var R=0;R<D;R++){var X=P[I++],dx=dG[R]=[];for(var jv=0;jv<X;jv++)dx[jv]=P[I+jv];I+=X}}if(I!=P.length&&I!=P.length-1)throw"e";
if(y==0){var gB=-1;for(var T=0;T<w;T++){if(gB==-1){}else{var hQ=-1;for(var R=T;R<w;R++)if(i[R][4]==gB)hQ=R;
for(var R=T;R<w;R++)if(i[R][1]==gB)hQ=R;if(hQ!=-1){var ah=0,F=i[hQ];i[hQ]=i[T];i[T]=F;if(F[1]!=gB){ah=F[1];
F[1]=F[4];F[4]=ah;ah=F[2];F[2]=F[5];F[5]=ah;ah=F[3];F[3]=F[6];F[6]=ah}}}gB=i[T][4]}C.push([[]]);for(var T=0;
T<w;T++)C[0][0].push(T)}var kG=[],iZ=[];for(var bs=0;bs<C.length;bs++){for(var ey=0;ey<C[bs].length;
ey++){var jp=C[bs][ey],eh=0;if(jp.length>1){var dt=i[jp[0]],jN=i[jp[1]];eh=dt[4]==jN[1]?1:0}for(var T=0;
T<jp.length;T++){var jX=i[jp[T]],jw=1,i7=4;if(eh==0){jw=4;i7=1}var kn=S[jX[jw]],eK=S[jX[i7]];if(T==0){iZ.push("M");
kG.push(kn.x,kn.y)}iZ.push("C");kG.push(kn.x+jX[jw+1],kn.y+jX[jw+2],eK.x+jX[i7+1],eK.y+jX[i7+2],eK.x,eK.y)}}}L=B.w.GJ({g:kG,WQ:iZ},!1);
if(d!=0){var E=[],ee=L[2].length;for(var T=0;T<ee;T++)E.push(d);if(B.s.A3(L))B.s.Zm(L,2,E)}var az=new aJ;
az.scale(K.x==0?1:m.x/K.x,K.y==0?1:m.y/K.y);B.s.Ma(L,az)}v.z=L};j4.Sw=function(h,e){return h[e.sessionID+","+e.localID]};
j4.azh=function(h,e){return h.sessionID==e.sessionID&&h.localID==e.localID};j4.aut=function(h){var e={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[h];
if(e==null)throw h;return e};j4.J3=function(h){return{t:"Objc",v:B.Vh.WZ({n:h.r*255,i:h.g*255,b:h.b*255})}};
j4.eI=function(h){if(h==null)return new aJ;var e=[h.m00,h.m10,h.m01,h.m11,h.m02,h.m12];for(var T=0;T<6;
T++)if(Math.abs(e[T])<1e-20)e[T]=0;return new aJ(e[0],e[1],e[2],e[3],e[4],e[5])};function fD(){}fD.kq=function(){var h=b.RZ;
function e(u,N,M,O){var F=O?[]:{};while(N<u.length-1&&u[N]!=125){var W=h(u,N,3),f=h(u,N+3,1),$;N+=4;
N++;if(f=="v"){var H=e(u,N,M+1,W=="ELM"||W=="TIL"||W=="TFS");$=H.J;N=H.d}else if(f=="i"||f=="f"){var A=N;
while(u[A]!=125)A++;var G=h(u,N,A-N);$=f=="i"?parseInt(G,16):parseFloat(G);N=A+1}else if(f=="s"){var l=b.hm(u,N),G="";
N+=2;for(var T=0;T<l;T++)G+=String.fromCharCode(u[N+2*T+1]);$=G;N=N+2*l+1}else if(f=="b"){$=u[N]==49;
N=N+2}else throw"e";if(O)F.push([W,$]);else if(F[W]==null)F[W]=$;else{if(!(F[W]instanceof Array))F[W]=[F[W]];
F[W].push($)}}N++;return{J:F,d:N}}function v(u,N){var M=J(u).slice(1),u=N.Clr.v;u.Rd.v=M[0]*255;u.Grn.v=M[1]*255;
u.Bl.v=M[2]*255}function J(u){return[(u>>>24&255)/255,(u>>>16&255)/255,(u>>>8&255)/255,(u>>>0&255)/255]}function m(u,N){var M=N&4278190080|(N&255)<<16|(N>>>8&255)<<8|N>>>16&255;
new Uint32Array(u.buffer).fill(M)}function d(u,N){var M=u.TSZ,O=u.WPX,F=u.HPX,W=u.TIL,f=new fP(0,0,O,F),$=B.U(O*F*4),H=0;
for(var A=0;A<F;A+=M)for(var G=0;G<O;G+=M){var l=new fP(G,A,M,M),K,U=W[H];if(U[0]=="TMC"){K=B.U(l.$()*4);
m(K,U[1])}else if(U[0]=="TID"){K=N[U[1]]}B.YZ(K,l,$,f);H++}return[$,f]}function x(u,N){u=new Uint8Array(u);
var M=8,O,F={},w=0;while(M<u.length){var W=b.d$(u,M);M+=4;var f=h(u,M,4);M+=4;if(f=="mkTS"){var $=pako.inflate(u.slice(M,M+W)),H=e($,0,0);
O=H.J}else if(f=="mkBT"){var A=b.d$(u,M+4),G=b.d$(u,M+8),$=pako.inflate(u.slice(M+76,M+W));if(G==0)for(var T=0;
T<$.length;T+=4){var l=$[T],K=$[T+1],U=$[T+2],z=$[T+3];$[T+3]=l;$[T+2]=z;$[T+1]=U;$[T]=K}else{var q=B.U($.length*4);
q.fill(255);B.WS($,q);$=q}F[A]=$}M+=W+4}var P=O.PDC,g=P?P instanceof Array?P:[P]:[O.MKB],a=new fP;for(var T=0;
T<g.length;T++){var y=g[T];a=a.R$(new fP(0,w,y.WID,y.HIT));w+=y.HIT+100}N.q=a.q;N._=a._;N.buffer=B.U(a.$()*4);
N.pG(g.length);w=0;for(var S=0;S<g.length;S++){N.T.push(N.gB());var y=g[S],i=y.WID,C=y.HIT,Y=y.BGC,_=(y.LYL?y:O).LYL.LAY,r=3;
for(var T=0;T<_.length;T++)E(_[T],N,null,F,new aJ(1,0,0,1,-y.XLC,-y.YLC+w));var t=N.ws();N.T.push(t);
var I=new fP(0,w,i,C);w+=C+100;t.B9(I);if(Y>>>24!=0){var n=B.Vh.WZ({n:Y>>>16&255,i:Y>>>8&255,b:Y>>>0&255});
t.add.artb.Clr={t:"Objc",v:n};r=4}t.add.artb.artboardBackgroundType.v=r;t.Ip(y.PGN?y.PGN:"Page "+(S+1));
t.add.lsct=d7.kZ;t.fR="pass";t.IT=24}}function j(u,N,M){var O=u[N];return O instanceof Array?O[M]:O}function E(u,N,M,O,F){var W=N.ws();
if(u.VIS!=null)W.nP(u.VIS);if(u.VIF!=null)W.nP(u.VIF.VIS);if(u.OPA!=null)W.S2=Math.round(255*u.OPA/1e3);
W.fR=u.CLL||M=="GRP"?"pass":"norm";if(u.BLD!=null){var f=u.BLD,$={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[f+""];
if($==null)console.log(u.OBN,f);else W.fR=$;if(f==30)W.S2>>>=1}if(u.CLL){W.Ip(u.LNM);N.T.push(N.gB());
var H=u.CLL.CEL;if(H.length==null)H=[H];for(var A=H.length-1;A>=0;A--){var G=H[A].ELM;for(var T=G.length-1;
T>=0;T--)E(G[T][1],N,G[T][0],O,F)}W.add.lsct=u.DIS?d7.W$:d7.kZ;W.IT|=24}else if(M=="GRP"){var l=W.add.lmfx=p(u.EFL),K;
N.T.push(N.gB());var G=u.ELM,U=u.MRM;if(u.MNA){K=G[0][1];G=G.slice(1)}W.Ip("Group: "+G.length+" objects");
for(var T=G.length-1;T>=0;T--)E(G[T][1],N,G[T][0],O,F);if(K){if(u.MRX){var z=d(K,O),q=W.N=new s.xK;q.R=z[1].O();
q.R.x=K.XLC;q.R.y=K.YLC+F.bZ;q.G=B.U(q.R.$());B.Bq(z[0],q.G,0);B.ia(q.G)}else{L(W,K,F);W.d6();W.vT(N)}}if(U){L(W,U.PTH,F);
W.d6();W.vT(N)}W.add.lsct=d7.kZ;W.IT|=24}else if(M=="IMG"){W.Ip(u.OBN?u.OBN:"Bitmap");var z=d(u,O);W.R=z[1].O();
W.R.x=u.XLC;W.R.y=u.YLC+F.bZ;W.buffer=z[0]}else if(M=="TXT"){var P=u.TFS,S="";W.add.lnsr="rend";W.add.TySh=fr.YI(0,0);
W.add.TySh.dP=new fP(0,0,100,100);var g=new aJ(1,0,0,1,u.LFT,u.TOP);if(u.MTX){var a=u.MTX,q=new aJ(a.M00,a.M01,a.M10,a.M11,a.M20,a.M21);
g.concat(q)}g.concat(F);W.add.TySh.C=g;var w=W.add.TySh.lf,y=fr.aX(w,0,0),i=j(u,"FON");if(i)fr.wm(y,i);
var C=j(u,"PTS");if(C)y.zI.FontSize=Math.round(C);var Y=j(u,"ITL");if(Y)y.zI.FauxItalic=Y;if(u.PAT)y.zI.FillColor={Type:1,Values:J(j(u.PAT,"FCL"))};
for(var T=0;T<P.length;T++){var _=P[T][0],t=P[T][1];if(_=="TRN"){t=t.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
t=t.replaceAll("\x03","\n").replaceAll("\r","\n");fr.hj(w,S.length,t);fr.UE(w,S.length,S.length+t.length,y);
S+=t}else if(_=="FON")fr.wm(y,t);else if(_=="PTS")y.zI.FontSize=Math.round(t);else if(_=="ITL")y.zI.FauxItalic=t;
else if(_=="UND")y.zI.Underline=t;else if(_=="FCL")y.zI.FillColor={Type:1,Values:J(t)};else if(_=="LED"){y.zI.Leading=t*y.zI.FontSize;
y.zI.AutoLeading=!1}else if(_=="JST")y.UZ.Justification=[0,2,1,3,5,4,6,7,8][t]}W.Ip(S.slice(0,255));
var I=u.RIT-u.LFT,r=u.BOT-u.TOP;if(u.IMG){E(u.IMG,N,"IMG",O,F);var n=N.T.pop();W.buffer=n.buffer;W.R=n.R.O()}fr.Ii(w,1);
fr.Uv(w,[0,0,I,r])}else if(M=="PTH"){W.Ip(u.OBN?u.OBN:"Path");W.IT|=16;var Q=!1;L(W,u,F);var D=W.add.vmsk,dG=W.add.vstk,R=B.s.jd(D.z),X=u.PAT,dx=X.BPL,jv=X.FPL,gB=X.TXF;
if(jv&&jv.FEF)D.jC+=jv.FEF/2.4;if(dx){var hQ=dx.CAT;dG.strokeEnabled.v=!0;dG.strokeStyleLineWidth.v.val=dx.BDI;
dG.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fL.gL.md[u.BRP];v(X.BCL,dG.strokeStyleContent.v);
if(hQ!="bc_Basic"&&hQ!="bc_Pencil")Q=!0}dG.fillEnabled.v=jv!=null;if(jv==null){W.add.SoCo=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);
v(0,W.add.SoCo)}else if(jv.CAT=="fc_Solid"){W.add.SoCo=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);v(u.PAT.FCL,W.add.SoCo)}else if(jv.CAT=="fc_Linear"||jv.CAT=="fc_Circular"||jv.CAT=="fc_Elliptical"){var ah=jv.CAT=="fc_Linear",kG=W.add.GdFl=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),iZ=kG.Grad.v,bs=[],ey=jv.FGL,jp,eh=[];
if(ey.FGY){var dt=ey.FGY,jp=dt.FG0.FGI,eh=dt.FG1.FGI}else jp=ey.FGV.FGI;for(var T=0;T<jp.length;T++){var jX=jp[T],jw=J(jX.FGC),i7=1;
if(eh.length==jp.length)i7=J(eh[T].FGC)[0];bs.push([jX.FGP,jw.slice(1),i7])}kG.Type.v.GrdT=ah?"Lnr":"Rdl";
B.Vh.Q_(bs,iZ);iZ.Intr.v=0;var kn=u.PRI?u.PRI:u,eK=new fq(kn.PSX,kn.PSY),ee=new fq(kn.PEX,kn.PEY);if(jv.CAT=="fc_Elliptical"&&kn.PFX!=null){var az=new fq(kn.PFX,kn.PFY),k7=fq.mr(eK,ee),al=fq.mr(eK,az);
if(al<k7){var kl=k7;k7=al;al=kl}ee=new fq(eK.x+(k7+al)/2,eK.y);if(k7/al<.5)Q=!0}if(ah){eK.x=(eK.x+ee.x)/2;
eK.y=(eK.y+ee.y)/2}B.Vh.Xf(eK,ee,R,kG)}else console.log(jv.CAT);var l=W.add.lmfx=p(u.EFL,D);if(jv&&jv.FTB!=0&&gB){var z=d(gB.MSK,O),b9={};
b9.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";b9.name="someImage";b9.$O=z;N.zR(b9);var h9=z[0];for(var T=0;
T<h9.length;T+=4){h9[T+3]=255-h9[T];h9[T]=h9[T+1]=h9[T+2]=255}var kG=JSON.parse(fL.JC[fL.order.indexOf("patternFill")]);
kG.Opct.v.val=Math.round(jv.FTB/10);kG.Algn.v=!0;kG.Ptrn.v.Idnt.v=b9.id;l.patternFillMulti.v.unshift({t:"Objc",v:kG})}if(Q&&u.IMG){E(u.IMG,N,"IMG",O,F);
var ge=N.T[N.T.length-1];ge.S2=W.S2;return}W.d6();W.vT(N)}else if(M=="URL")return;else{console.log("unknown layer type",M,u);
W.Ip("Layer")}N.T.push(W)}function L(u,N,M){if(N.PBL==null)return;var O=u.add.vmsk=new s.eo,F=u.add.vstk=fL.gL.UX(!0),W=N.PBL.PBP;
if(!(W instanceof Array))W=[W];for(var f=0;f<W.length;f++){var $=W[f].PBT;if($==null)continue;if(!($ instanceof Array))$=[$];
var H=W[f].ISC?0:3;O.z.push({c:H,length:$.length,Jb:0,rH:2,rd:0,O1:0});for(var T=0;T<$.length;T++){var A=$[T],G=A.XLC,l=A.YLC,K=[G,l,G,l,G,l],U="XPC YPC XLC YLC XSC YSC".split(" ");
for(var z=0;z<6;z++){var q=U[z],P=A[q];if(P!=null)K[z]=P}O.z.push({c:H+2,Q:new fq(G,l),NA:new fq(K[0],K[1]),Xb:new fq(K[4],K[5])})}}B.s.Ma(O.z,M)}function p(u,N){var M=JSON.parse(fL.default);
for(var T=0;T<fL.order.length;T++)M[fL.oN[T]]={t:"VlLs",v:[]};if(u==null||u.EPS==null)return M;var O=u.EPS;
if(!(O instanceof Array))O=[O];for(var T=0;T<O.length;T++){var F=O[T].DCE,W={};for(var f=0;f<F.length;
f++)W[F[f].DCK]=F[f].DCV;if(W.EffectIsVisible=="false")continue;var $=W.mkbFile_WriteOnly_TemporaryEffectUiName;
if($=="Gaussian Blur..."&&N){N.jC+=parseFloat(W.gaussian_blur_radius);continue}var H=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf($);
if(H==-1){continue}var A=["DrSh","ebbl","IrGl","OrGl"][H],G=fL.oN[fL.order.indexOf(A)],l=JSON.parse(fL.JC[fL.order.indexOf(A)]);
M[G].v.unshift({t:"Objc",v:l});if(A=="DrSh"){l.uglg.v=!1;Z(W,"ShadowDistance",l,"Dstn");Z(W,"ShadowBlur",l,"blur");
Z(W,"ShadowAngle",l,"lagl",180);l.Opct.v.val=100;o(W,"ShadowColor",l,"Clr")}if(A=="IrGl"){l.Md.v.BlnM="Nrml";
var K=W.MaskSoftness,U=W.GlowWidth;if(K&&U){K=parseInt(K);U=parseInt(U);l.blur.v.val=U+K;l.Ckmt.v.val=Math.round(100*U/(U+K))}Z(W,"BevelContrast",l,"Opct");
o(W,"OuterBevelColor",l,"Clr")}if(A=="OrGl"){l.Md.v.BlnM="Nrml";var K=W.MaskSoftness,U=W.GlowWidth;if(K&&U){K=parseInt(K);
U=parseInt(U);l.blur.v.val=U+K}Z(W,"BevelContrast",l,"Opct");o(W,"OuterBevelColor",l,"Clr")}if(A=="ebbl"){l.uglg.v=!1;
Z(W,"BevelWidth",l,"blur");Z(W,"AngleSoftness",l,"Sftn");Z(W,"BevelContrast",l,"srgR");Z(W,"LightAngle",l,"lagl")}}return M}function Z(u,N,M,O,F){var W=u[N];
if(F==null)F=0;if(W)M[O].v.val=parseInt(W)+F}function o(u,N,M,O){var F=u[N];if(F){F=F.slice(1);if(F.length==6)F=F+"ff";
if(F.length!=8)throw"e";var W=J(parseInt(F,16)),f=M[O].v;f.Rd.v=W[0]*255;f.Grn.v=W[1]*255;f.Bl.v=W[2]*255;
M.Opct.v.val=Math.round(M.Opct.v.val/100*W[3]*100)}}return x}();var f$=function(){function h(x){var j=new Uint8Array(x.length);
b._z(j,0,x);return j}function e(x){var j=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",h("")],E=j.length,p=0;
j.push("<< /AIMetaData  "+(E+2)+" 0 R /AIPrivateData1 "+(E+3)+" 0 R  /AIPrivateData2 "+(E+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
j.push(h(""));j.push(h(""));j.push(x);var L=new kg,Z=[];function o(O){b.ey(L,p,O);p+=O.length}o("%PDF-1.5\n");
for(var T=0;T<j.length;T++){Z.push(p);o(T+1+" 0 obj\n");var u=j[T];if(typeof u=="string")o(j[T]+"\n");
else{var N=pako.deflate(u);o("<< /Length "+N.length+" /Filter [ /FlateDecode ] >>\nstream\n");L.OQ(p,N.length);
L.data.set(N,p);p+=N.length;o("\nendstream\n")}o("endobj\n")}var M=p;o("xref\n0 "+(Z.length+1)+"\n0000000000 65535 f\r\n");
for(var T=0;T<Z.length;T++)o((Z[T]+"").padStart(10,"0")+" 00000 n\r\n");o("trailer\n<< /Root 1 0 R /Size "+(Z.length+1)+" >>\nstartxref\n"+M+"\n%%EOF\n");
return L.data.slice(0,p)}function v(x,j){var E=Date.now(),L=new Uint8Array(x),p,Z=L[2]==68;if(j)console.log(!Z?"EPS":"PDF");
if(Z){var o=b.TE(L,"/AIMetaData "),A,G,l;while(L[o]!=60)o--;o--;var u=b.TE(L,">>",o),N=b.RZ(L,o+2,u-o-2).split("/"),M=[];
for(var T=0;T<N.length;T++){var O=N[T],F=O.startsWith("AIPrivateData"),W=O.startsWith("AIPDFPrivateData");
if(!F&&!W)continue;var f=O.trim().split(/\s+/),$=parseInt(f[1]),H=parseInt(f[0].slice(F?13:16));M.push([H,$])}if(j)console.log("--- map made",Date.now()-E);
E=Date.now();while(!0){var K=FromPDF.indexOfXref(L),U=[],z=FromPDF.readXrefTrail(L,K,U),q={buff:L,off:0},P=!1;
A=new Array(M.length);G=!1;l=!1;for(var T=0;T<M.length;T++){var H=M[T][0],$=M[T][1],y=0;if(U[$]==null){P=!0;
break}var g=FromPDF.getIndirect($,0,q,U),a=g.buff,w=g["/Filter"];if(w!=null&&typeof w=="string")w=[w];
var S=b.RZ(a,y,y+20);if(S=="%AI12_CompressedData"){y+=20;G=!0}else if(S=="%AI24_ZStandard_Data"){y+=20;
l=!0}a=new Uint8Array(a.buffer,a.byteOffset+y,a.length-y);if(w)for(var i=0;i<w.length;i++){var C=w[i];
if(C=="/FlateDecode")a=pako.inflate(a);else if(C=="/ASCIIHexDecode")a=FromPS.F.HexDecode({buff:a,off:0});
else if(C=="/ASCII85Decode")a=FromPS.F.ASCII85Decode({buff:a,off:0});else throw C}A[H-1]=a}if(P){console.log("extra xref after AI");
L=L.slice(0,K);continue}break}if(j)console.log("--- arrays found",Date.now()-E);E=Date.now();var Y=b.RZ(A[0],0,13);
if(Y=="%%BoundingBox"||Y=="%AI7_Thumbnai")A=A.slice(1);if(Y=="%AI24_ZStanda"){A[0]=A[0].slice(20);l=!0}if(b.RZ(A[0],0,13)=="%AI12_Compres"){A[0]=A[0].slice(20);
G=!0}p=J(A);if(j)console.log("--- concatenated",Date.now()-E);E=Date.now();if(G)p=UZIP.inflate(p);if(l)p=gI.Bf.y8(p);
if(j)console.log("--- inflated",Date.now()-E);E=Date.now()}else{var _=b.Is(L);if(_.indexOf("%AI5_BeginLayer")!=-1){p=L}else{var t=_.split(/[\n\r]+/),I=[],r=!1;
for(var n=0;n<t.length;n++){var Q=t[n].trim();if(Q=="%AI9_PrivateDataEnd"){r=!1;break}else if(Q=="%AI9_DataStream"||Q=="%AI24_DataStream"){r=!0}else if(r)I.push(Q.slice(1))}var D=b.YQ(I.join("")),R=FromPS.F.ASCII85Decode({buff:D,off:0});
if(R[0]==120&&R[1]==156)p=UZIP.inflate(R);else p=gI.Bf.y8(R)}}return p}function J(x){var j=0,L=0;for(var T=0;
T<x.length;T++)j+=x[T].length;var E=new Uint8Array(j);for(var T=0;T<x.length;T++){var p=x[T];E.set(p,L);
L+=p.length}return E}function m(x){var j=0,E=[];while(j<x.length){var L=x[j],p=L.charCodeAt(0);if(L==" ")j++;
else if(L==","||L==";"||L==":"){E.push(L);j++;var Z=E[E.length-2];if(Z=="/ASCII85Decode"){var o=j+1;
while(x[o]!="~"||x[o+1]!=">")o++;o+=2;var u=x.slice(j,o),N=FromPS.F.ASCII85Decode({off:0,buff:b.YQ(u)});
E.push(N);j=o}if(Z=="/StrokeStyle"||Z=="/FillStyle"||Z=="/BlendStyle"||Z=="/SimpleStyle"||Z=="/SmoothShadingStyle"){var o=j+1;
while(x[o]!=";")o++;E.pop();E.pop();E.push(x.slice(j,o));E.push("/String");j=o+1}}else if(L=="("){var o=j+1;
while(!(x[o]==")"&&(x[o-1]!="\\"||x[o-2]=="\\")))o++;var M=x.slice(j+1,o);E.push(M);j=o+1}else if(L=="/"||L=="-"||48<=p&&p<=57){var o=j;
while(x[o]!=" ")o++;E.push(x.slice(j,o));j=o}else if(L=="X"&&x[j+1]=="="){var o=j,O=0;while(!0){if(x[o]=="X"&&x[o+1]=="="){O++}if(x[o]=="X"&&x[o+1]=="+"&&x[o+2]==" "){O--;
if(O==0)break}o++}E.push(x.slice(j+3,o));E.push("/String");j=o+2}else{console.log(E);console.log(x.slice(j-600,j+10));
throw L}}return E}function d(x){var j={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},E={},L=m(x.join(" ")),p=[],Z=parseFloat;
while(L.length!=0){var o=L.shift();if(o=="/Recorded"||o=="/NotRecorded"){continue}else if(o=="/Dict"){p.pop();
var u=p.pop();p[p.length-1][o]=u}else if(o=="/Execution"){p.pop();var u=p.pop();p[p.length-1][o]=u}else if(o=="/Part"){p.pop();
var u=p.pop(),N=p[p.length-1];if(N[o]==null)N[o]=[];N[o].push(u);L.shift()}else if(o=="/Def"){p.pop();
var M=p.pop(),O=p[0];if(E[O]==null)E[O]=[];if(O=="/KnownStyle"){M={val:M};M[p.pop()]=p.pop()}p.pop();
E[O].push(M);L.shift()}else if(o==":"){var O=p.pop();if(O=="/Dictionary"||O=="/ArtDictionary"||O=="/XMLNode"||O=="/Mask"||O=="/ActiveStyle")p.push({});
else if(O=="/CompoundFilter"||O=="/BasicFilter"){p.push({typ:"Filter"})}else if(O=="/SVGFilter"||O=="/KnownStyle"){p.push(O)}else if(O=="/Array"||O=="/Document")p.push([]);
else if(O=="/Binary"){var F=L.shift();if(F!="/ASCII85Decode")throw"e";L.shift();p.push(L.shift())}else if(O=="/XMLUID"||O=="/XMLUIDREF"){L[1]=O}else if(O=="/GObjRef"){p.push(L.shift());
p.push("/String");L.shift();L.shift()}else{console.log(p);console.log(L);throw O}if(L[0]=="/NotRecorded"){L.shift();
L.shift()}}else if(o==","){var W=p.pop(),O,f;if(W[0]=="/"&&W[1]==W[1].toUpperCase()||W==";"){O=W;W=null}else O=p.pop();
if(O=="/Name"){p.push(O);continue}if(j[O]){f=p.slice(p.length-j[O]);for(var T=0;T<j[O];T++)p.pop();var $=p.pop();
$[O]=f;p.push($);continue}if(O=="/RealPoint"||O=="/RealPointRelToROrigin"){var H=p.pop();f=[Z(p.pop()),Z(H)]}else if(O=="/RealMatrix"){f=[];
for(var T=0;T<6;T++)f.push(Z(p.pop()));f.reverse()}else if(O=="/String"&&typeof p[p.length-1]!="string")f="";
else{var top=p.pop();if(O==";")f=top;else if(O=="/String"||O=="/UnicodeString"||O=="/XMLUID"||O=="/XMLUIDREF"){f=top;
while(typeof p[p.length-1]=="string")f=p.pop()+f}else if(O=="/Int"||O=="/Real")f=Z(top);else if(O=="/Bool")f=top=="1";
else throw JSON.stringify(O)}if(p.length==0)throw"e";var $=p.pop();if(W==null&&!($ instanceof Array)){alert("key is null in a Dict");
continue}if(W)$[W]=f;else $.push(f);p.push($)}else p.push(o)}return p.length==0?E:p[0]}return{a4H:v,amN:e,axF:d}}();
function jQ(){}jQ.kq=function(){function h(z,q,P){var g=!1,a=Date.now(),w=f$.a4H(z,g);if(g)console.log("part found",Date.now()-a);
a=Date.now();var y=l(w),S=y.Layer,i=y.Header;if(g)console.log(y);var C=y.Setup.TextDocument,Y=S[0];Y=y.Layer[0];
if(g)console.log("document parsed",Date.now()-a);a=Date.now();y.Setup.Gradient=G(y.Setup.Gradient,w);
if(g)console.log("grads loaded",Date.now()-a);a=Date.now();y.Setup.Pattern=H(y.Setup.Pattern,w);if(g)console.log("patts loaded",Date.now()-a);
a=Date.now();y.Setup.Palette=A(y.Setup.Palette,w);if(g)console.log("palet loaded",Date.now()-a);a=Date.now();
y.Setup.DocumentData=$(y.Setup.DocumentData,w);if(g)console.log("docdata loaded",Date.now()-a);a=Date.now();
y.Setup.SVGFilter=$(y.Setup.SVGFilter,w);if(g)console.log("svgfilter loaded",Date.now()-a);a=Date.now();
var _=y.Setup.ArtStyles;if(_){y.Setup.ArtStyles=$(_,w)}var t=y.Setup.Palette;for(var T=0;T<t.length;
T++){var I=t[T],r=I[0],n=I[1][0];if(r==null)r=I[1][1];var Q=y.Setup.Gradient[r];if(n==0)q.KW.push([r,I[1][1]]);
if(n==1)q.KW.push([r,[Q.R4,Q.aHN,0,0]]);if(n==2)q.KW.push([r,[r,0]])}var D=i.Cropmarks,dG=i.BoundingBox.split(" ").map(parseFloat),R=i.ArtSize?i.ArtSize.split(" ").map(parseFloat):[dG[2]-dG[0],dG[3]-dG[1]];
q.q=Math.round(Math.abs(R[0]));q._=Math.round(Math.abs(R[1]));var X=[1,0,0,1,-dG[0]+(q.q-(dG[2]-dG[0]))/2,-dG[1]+(q._-(dG[3]-dG[1]))/2];
X[3]=-1;X[5]=q._-X[5];if(D){D=D.split(" ").map(parseFloat);q.q=Math.round(D[2]-D[0]);q._=Math.round(D[3]-D[1]);
X=[1,0,0,-1,-D[0],q._+D[1]]}console.log(y);var dx=y.Setup.DocumentData,jv=[],gB=[];if(dx&&dx[0]&&dx[0].ArtboardArray){var jv=dx[0].ArtboardArray;
if(jv.length!=1)console.log(jv.length,"artboards");var hQ=new fP;for(var T=0;T<jv.length;T++){var ah=jv[T],kG=ah.PositionPoint1,iZ=ah.PositionPoint2,bs=kG[0],ey=Math.min(kG[1],iZ[1]),jp=iZ[0],eh=Math.max(kG[1],iZ[1]),dt=new fP(bs,ey,jp-bs,eh-ey);
gB.push(dt);hQ=hQ.R$(dt)}q.q=Math.round(hQ.q);q._=Math.round(hQ._);X[4]=-hQ.x;X[5]=hQ.y+q._}if(dx&&dx[0]&&dx[0]["#document"]){var jN=dx[0]["#document"],jX=jN["xmlnode-children"][0];
if(jX&&jX["xmlnode-children"])jX=jX["xmlnode-children"][0];if(jX&&jX["xmlnode-nodename"]=="variableSets"){var jw=jX["xmlnode-children"][0]["xmlnode-children"],i7=jw[0],kn=jw[1],eK=U(i7);
q.pr=jI.arF("<variableSets><variableSet>"+eK+"</variableSet></variableSets>");if(kn){var ee=U(kn),az=q.X0=jI.agO(ee);
for(var T=0;T<az.length;T++)for(var k7=0;k7<az[T].length;k7++)az[T][k7]=az[T][k7].trim()}}}var al=1/c0.Pn(new fP(0,0,q.q,q._),8192*8192);
while(Math.max(q.q*al,q._*al)<800)al*=2;while(P&&Math.max(q.q*al,q._*al)<Math.max(P[0],P[1]))al++;if(jD==1)al=1;
q.q=Math.round(q.q*al);q._=Math.round(q._*al);q.gx=Math.round(72*al);for(var T=0;T<6;T++)X[T]*=al;var kl=[];
if(jv.length!=[1,0][jD]){var b9=jD==0?q.T:[];b9.push(q.gB());for(var T=0;T<gB.length;T++){var ah=jv[T],dt=gB[T],h9=q.ws();
h9.Ip(ah.Name);b9.push(h9);h9.add.SoCo=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);var ge=h9.add.SoCo.Clr.v;
Z(ge,[1,1,1]);var bs=dt.x,ey=dt.y,jp=bs+dt.q,eh=ey+dt._,iN=[bs,ey,jp,ey,jp,eh,bs,eh];B.w.C(iN,u(X),iN);
O(h9,{cmds:["M","L","L","L","Z"],crds:iN},q,0);h9.add.vstk=fL.gL.UX(!0);var a8=B.w.oS(iN);kl.push({pQ:ah.Name,Fv:[a8.x,a8.y,a8.x+a8.q,a8.y+a8._],X:ah.IsArtboardSelected})}var h9=q.ws();
h9.Ip("_Artboards_");h9.add.lsct=d7.kZ;h9.fR="pass";h9.IT=24;b9.push(h9)}else kl=[{pQ:"Artboard",Fv:[0,0,q.q,q._],X:!0}];
if(jD==1)q.add.arts=kl;v=[0,0,0];J=[0,0,0];m="SoCo";d="SoCo";for(var dK=0;dK<S.length;dK++){var f6=S[dK];
f6.Raster=e(f6,"Raster");f6.Place=e(f6,"Place");var fS=W(w,f6);x(q,fS,X,y,f6,w)}if(jD==0)for(var T=0;
T<q.T.length;T++){var h9=q.T[T];if(h9.FP){q.T.splice(T,1);var cf,iG=0;for(var k7=T;k7<q.T.length;k7++){cf=q.T[k7];
if(cf.add.lsct==d7.FJ)iG++;else if(cf.XN())iG--;if(iG==-1)break}cf.add.vmsk=h9.add.vmsk;cf.add.vogk=h9.add.vogk;
cf.vT(q)}}else{}if(P){q.Bb();var eC=q.root.YO();c.Zk.SU(q,eC)}if(g)console.log("layers created",Date.now()-a);
a=Date.now()}function e(z,q){var P=z.Layer,g=z[q];if(g==null)g=[];if(P){for(var T=0;T<P.length;T++){var a=P[T],w=a[q]=e(a,q);
g=g.concat(w)}g.sort(function(y,S){return y._begin-S._begin})}return g}var v,J,m,d;function x(z,q,P,g,a,w){var y=[],S=0,i="",C=!1,Y={},_=UDOC.G,t=UDOC.getState(),r="norm",n=1,Q=0,D=!1,dG=0,R=!1,X=!0,dx=null,jv=null,gB=!1,hQ=0,ah=null,kG,iZ,bs=0,ey=0,jp=0,jX=0,jw=!1;
t.ctm=P;var I=fL.Rr.UX(),eh=[0,0],dt=[],jN=[];for(var i7=0;i7<q.length;i7++){var kn=q[i7],kl=1e9;if(kn[0]=="%"){if(kn=="%_/ArtDictionary :"&&hQ==0){dx=[kn.slice(2)]}else if(dx!=null){if(kn=="%_"&&hQ==0){var eK=f$.axF(dx),ee=z.T[z.T.length-1],az=eK.AI10_ArtUID,k7=eK.BBAccumRotation;
if(az&&!az.startsWith("XMLID"))ee.Ip(K(az));if(k7&&ee.add.vmsk==null&&z.T[z.T.length-2])ee=z.T[z.T.length-2];
if(k7&&ee.add.vmsk)ee.add.vmsk.d0=parseFloat(k7);dx=null}else{dx.push(kn.slice(gB?1:2));if(kn=="%_X=")hQ++;
if(kn=="%_X+")hQ--;if(kn=="%_/Binary : /ASCII85Decode ,")gB=!0;if(gB&&kn.endsWith("~>"))gB=!1}}else if(ah){kG+=(kG==""?"":" ")+kn.slice(2);
if(kG.endsWith("X#")){ah.push(kG.slice(0,kG.length-3));kG=""}}continue}else if(kn=="/Mesh X!"){ah=[];
kG="";continue}else if(kn=="/End X!"){L(ah,t,z);ah=null;continue}var al="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),b9=-1,h9=kn.indexOf("(")!=-1;
for(var T=0;T<al.length;T++){var ge=kn.indexOf(" "+al[T]+" ");if(ge!=-1&&ge<kl&&!h9){kl=ge;b9=T}}if(b9!=-1){C=!0;
var iN=kl+1+al[b9].length;q[i7]=kn.slice(0,iN);var a8=q[i7+1];if(a8==null||a8[0]=="%"||b9>9)q.splice(i7+1,0,kn.slice(iN));
else q[i7+1]=(kn.slice(iN)+" "+a8).replace(/\s\s+/g," ");i7--;continue}kn=kn.trim();var dK=kn.split(" "),f6=dK[dK.length-1],fS=f6.toLowerCase(),cf=dK.map(parseFloat);
if(f6=="m")_.moveTo(t,cf[0],cf[1]);else if(f6=="L"||f6=="l")_.lineTo(t,cf[0],cf[1]);else if(f6=="V"||f6=="v"){var iG=t.pth.crds,eC=t.cpos[0],kH=t.cpos[1];
_.curveTo(t,eC,kH,cf[0],cf[1],cf[2],cf[3]);var i0=iG.length;iG[i0-6]=eC;iG[i0-5]=kH}else if(f6=="Y"||f6=="y")_.curveTo(t,cf[0],cf[1],cf[2],cf[3],cf[2],cf[3]);
else if(f6=="C"||f6=="c")_.curveTo(t,cf[0],cf[1],cf[2],cf[3],cf[4],cf[5]);else if(f6=="H"||f6=="h"){if(f6==fS)_.closePath(t);
if(!D){var e5=z.ws();z.T.push(e5);e5.Ip("<Clipping Path>");e5.FP=!0;e5.add.vstk=fL.gL.UX();e5.add.SoCo=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);
O(e5,t.pth,z,Q)}else R=!0}else if(f6=="XR"){Q=cf[0]}else if(f6=="Xy"){r=jQ.afa[cf[0]];n=cf[1];if(r==null){r="norm";
console.log("unknown blend mode",cf[0])}}else if(f6=="Xd"){var ee=z.T[z.T.length-1];ee.S2=Math.round(255*n);
ee.fR=ee.XN()&&r=="norm"?"pass":r}else if(f6=="AE")bs=cf[0];else if(f6=="Ae")ey=cf[0];else if(f6=="Xw")jp=cf[0];
else if(f6=="*"){var gA=t.pth.crds,bW=t.ctm,ge=gA[0]==gA[2]?0:1;z.nT.push([ge,gA[ge]]);_.newPath(t)}else if(f6=="XN")iZ=kn.split(" ")[0];
else if(f6=="XI"){var e3=a.Raster,iL,h4;if(e3==null||e3.length==0){console.log("no Raster");continue}if(kn!="XI"){continue}else{var iT=e3[S++];
if(iT.Data)iT=iT.Data;var hC=iT._begin,dS=iT._end;while(w[hC]!=88)hC++;hC+=3;iL=w.slice(hC,dS);h4=q[i7-2].split(" ").map(parseFloat)}var il=h4.slice(8),i6=il[2],co=il[3],bH=i6*co,b5=B.U(bH*4);
b5.fill(255);var ej=il[7],id=il[8],dH=il[6],hA=Math.ceil(i6*ej*dH/8);if(ej==1){if(dH==8)for(var T=0;
T<bH;T++)for(var fn=0;fn<3;fn++)b5[4*T+fn]=iL[T];else if(dH==1)for(var d3=0;d3<co;d3++)for(var iF=0;
iF<i6;iF++)for(var fn=0;fn<3;fn++)b5[4*(d3*i6+iF)+fn]=255*(iL[d3*hA+(iF>>>3)]>>>7-(iF&7)&1);else throw dH}else if(ej==3)for(var T=0;
T<bH;T++)for(var fn=0;fn<3;fn++)b5[4*T+fn]=iL[3*T+fn];else if(ej==4||ej==5)for(var T=0;T<bH;T++){var hF=N([iL[ej*T+0]/255,iL[ej*T+1]/255,iL[ej*T+2]/255,iL[ej*T+3]/255]);
b5[4*T+0]=hF[0]*255;b5[4*T+1]=hF[1]*255;b5[4*T+2]=hF[2]*255}else if(ej==7)for(var T=0;T<bH;T++){b5[4*T+0]=iL[ej*T+0];
b5[4*T+1]=iL[ej*T+1];b5[4*T+2]=iL[ej*T+2]}else console.log("unknown number of channels",ej);if(id==1){var bz=co*hA;
for(var T=0;T<bH;T++)b5[4*T+3]=iL[bz+T]}var hN=B.Mc(b5,i6,co)?"JPG":"PNG";if(i6*co<700*700)hN="PNG";
var cA=gI.g6(hN).oZ([[b5.buffer]],i6,co),km=z.dz(new Uint8Array(cA),"<Image>",0,0);z.T.push(km);km.fR=r;
km.S2=Math.round(255*n);km.nP(jp==0);var gm=new aJ;gm.scale(1,-1);gm.concat(u(h4.slice(1)));gm.concat(u(t.ctm));
var gS=km.add.SoLd,jl=gS.Sz.v,jn=new fP(0,0,jl.Wdth.v,jl.Hght.v),dK=B.w.Tp(jn).g;B.w.C(dK,gm,dK);km.add.SoLd.Trnf=c.L2.ni(dK);
km.add.SoLd.nonAffineTransform=c.L2.ni(dK);km.eW(z,!1)}else if(f6=="Ln"){y.push(p(kn))}else if(f6=="u"||f6=="q"||f6=="Lb"){if(f6=="Lb")z.add.prvw=cf[1];
dt.push(ey==1);jN.push((f6=="Lb"?1-cf[0]:jp)==0);if(D)continue;z.T.push(z.gB())}else if(f6=="U"||f6=="Q"||f6=="LB"){if(dt.length==0||jN.length==0)throw i7;
var ad=dt.pop(),el=jN.pop();if(f6=="LB")ad=bs==1;if(D)continue;var km=z.ws();km.Ip((f6=="U"?"<Group>":"<Clip Group>")+i);
if(f6=="LB")km.Ip(y.pop());km.add.lsct=ad?d7.W$:d7.kZ;km.fR="pass";km.IT=24;km.nP(el);z.T.push(km);if(jw){if(z.T[z.T.length-3].getName()=="</Layer group>"){z.T.pop();
z.T.splice(z.T.length-2,1)}jw=!1}}else if(f6=="Bb")X=cf[0]!=1;else if(f6=="BB"){}else if(f6=="Bm"||f6=="Bc"||f6=="Xm"){}else if(f6=="Bh")eh=cf.slice(2,4);
else if(f6=="Bg"){var db=g.Setup.Gradient,dC=db[p(kn)],dK=kn.slice(kn.indexOf(")")+2).split(" ").map(parseFloat);
if(dC==null){console.log("gradient not found");for(var jJ in db){dC=db[jJ];break}}var cu=dK[10];if(isNaN(cu))cu=1;
var jg=dK.slice(0,4);jg.push(cu,eh[0],eh[1]);if(Math.max(Math.abs(jg[0]),Math.abs(jg[1]))>20){jg[0]=0;
jg[1]=0;jg[3]=1;console.log("strange gradient")}var jP=[dC.R4,dC.aHN,jg,dK.slice(4,10)];E(jP,"GdFl",X)}else if(fS=="p"){var gc=p(kn);
if(z.QZ[gc]==null){var er=g.Setup.Pattern[gc],jR=er.Fv,i6=Math.round(jR[2]-jR[0]),co=Math.round(jR[3]-jR[1]),eK=new e7,bg=P[0],gm=new aJ(1,0,0,-1,-er.Fv[0],co+er.Fv[1]);
gm.concat(new aJ(bg,0,0,bg,0,0));var gO=[v,J,m,d];v=[0,0,0];J=[0,0,0];m="SoCo";d="SoCo";x(eK,er.Hl,[gm.DR,gm.b,gm.tg,gm.l_,gm.TO,gm.bZ],g,a,w);
eK.q=Math.round(i6*bg);eK._=Math.round(co*bg);eK.Bb();eK.dn();if(jD==0){eK.buffer=B.U(eK.q*eK._*4);eK.vp()}v=gO[0];
J=gO[1];m=gO[2];d=gO[3];window.avX=er.Hl;z.QZ[gc]=eK}var f5=kn.slice(kn.indexOf(")")+2),kY=f5.slice(0,f5.indexOf("[")-1).split(" ").map(parseFloat),g2=f5.slice(f5.indexOf("[")+1,f5.indexOf("]")).split(" ").map(parseFloat);
E([gc,[kY,g2]],"patt",f6=="p")}else if(f6=="J"||f6=="j"||f6=="w"||f6=="M"||f6=="d"){var gm=t.ctm,bg=Math.sqrt(Math.abs(gm[0]*gm[3]-gm[1]*gm[2]));
for(var T=1;T<dK.length;T++){var hs=dK[T],gH=cf[T-1];if(hs=="w")I.T8=gH*bg;if(hs=="j")I.Jv=gH;if(hs=="J")I.qP=gH;
if(hs=="M")I.Mm=gH;if(hs=="d"){var hW=kn.slice(kn.indexOf("[")+1,kn.indexOf("]")).trim();if(hW.length!=0){var fY=hW.split(" ").map(parseFloat);
I.fe=fY;for(var fn=0;fn<fY.length;fn++)fY[fn]*=bg}else if(hW=="")I.fe=[]}}}else if(fS=="xa"||fS=="xx"){var gn=M(kn);
E(gn,"SoCo",f6=="Xa"||f6=="Xx")}else if(fS=="xk"){gn=M(kn);E(gn,"SoCo",f6=="Xk")}else if(fS=="k"||fS=="x"){gn=M(kn);
E(gn,"SoCo",f6==fS)}else if(fS=="g"){var gn=[cf[0],cf[0],cf[0]];E(gn,"SoCo",f6==fS)}else if(fS=="n"){if(!D)_.newPath(t)}else if(f6=="*u"){D=!0;
dG=0;jN.push(jp==0)}else if(f6=="*U"||fS=="s"||fS=="f"||fS=="b"){if(f6!="*U"&&D){if(fS=="f"||fS=="b")dG|=1;
if(fS=="s"||fS=="b")dG|=2;continue}if(f6==fS)_.closePath(t);if(f6=="*U"){D=!1}var km;{km=z.ws();km.IT|=16;
O(km,t.pth,z,Q);var cL=fS=="f"||fS=="b"||f6=="*U"&&dG&1,eo=fS=="s"||fS=="b"||f6=="*U"&&dG&2,fh=km.add.vstk=fL.gL.UX(cL,eo),fU=B.t(I);
fU.xJ=[];fU.N0=[];if(cL)fU.xJ=v;if(eo)fU.N0=J;if(jD==0){fL.gL.write(fh,fU);if(m=="SoCo"){km.add.SoCo=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);
var f_=km.add.SoCo.Clr.v;Z(f_,v)}if(m=="GdFl"){km.add.GdFl=jQ.IQ(v,km.add.vmsk.z)}if(m=="patt"){km.add.PtFl=j(v,z)}if(eo){var hD=["SoCo","GdFl","patt"].indexOf(d),hh=hD==0?{Clr:{t:"Objc",v:eP.UU(J)}}:hD==1?jQ.IQ(J,km.add.vmsk.z):j(J,z),a3=[fL.hz,fL.RN,fL.CI][hD],br=fh.strokeStyleContent.v={classID:fL.gL.Wj[hD]};
for(var T=0;T<a3.length;T++)br[a3[T]]=hh[a3[T]]}}else km.add.vstl=fU}if(f6=="*U"&&R){km.FP=!0;R=!1}km.Ip("<"+(f6=="*U"?"Compound ":"")+"Path>"+i);
km.fR=r;km.S2=Math.round(255*n);km.nP(f6=="*U"?jN.pop():jp==0);km.vT(z);z.T.push(km);_.newPath(t)}else if(f6==","&&dK[0]=="/XMLUID"){var ee=z.T[z.T.length-1];
for(var T=0;T<z.pr.length;T++)if("("+z.pr[T].docRef+")"==dK[2])z.pr[T].docRef="id('"+ee.add.lyid+"')"}else if(f6==","&&dK[1]=="/FreeUndo"){jX=cf[0]}else if(f6==","&&dK[1]=="/StoryIndex"){var ij=g.Setup.TextDocument,fI=null;
if(!(ij instanceof Array))window.atf=ij=g.Setup.TextDocument=f(ij,w);var am=ij[0],hb=ij[2];if(am._DocumentResources)am=ij[0]=au.aFB(am);
else au.amv(am);var km=z.ws();km.add.lnsr="rend";km.add.TySh=fr.YI(0,0);var bN=cf[0];if(jX==1){for(var T=1;
T<60;T++){var a8=q[i7+T];if(a8&&a8.endsWith("/StoryIndex ,")){bN=parseFloat(a8.slice(2,a8.indexOf(" ")));
jw=!0;break}}jX=0}var ch=k6.amB(am),fE=km.add.TySh.lf=ch[bN];if(fE==null){console.log("text not found");
jw=!1;continue}km.Ip(fr.X3(fE).slice(0,50));km.fR=r;km.S2=Math.round(255*n);km.nP(jp==0);var e6=am._1._1[bN]._1._0[0]._0;
e6=parseInt(e6.slice(1));var cO=am._0._8._0,gp=cO[e6]._0;if(gp._0)fI=o(gp._0);else if(gp._1)fI=o(gp._1._0);
else fI=o(gp._2._2).slice(3);if(fI.length!=2){var jR=B.w.oS(fI);fI=[jR.x,jR.y];if(jR.$()!=0){fr.Ii(fE,1);
fr.Uv(fE,[0,0,Math.round(jR.q),Math.round(jR._)])}}var jA=new aJ,iQ=new aJ(1,0,0,1,fI[0],fI[1]),f0=new aJ(1,0,0,1,-hb[0],-hb[1]),hm=u(t.ctm),e8=new aJ;
if(gp._2&&gp._2._2){var P=o(gp._2._2);e8=new aJ(P[0],P[1],P[2],P[3],P[4],P[5])}jA.concat(iQ);jA.concat(e8);
jA.concat(f0);jA.scale(1,-1);jA.concat(hm);km.add.TySh.C=jA;z.T.push(km);z.cj=!0}else if(f6=="Tp"){Y.ok=u(cf)}else if(f6=="Tf"){Y.font=dK[0].slice(2)}else if(f6=="Tk"){var km=z.ws();
km.add.lnsr="rend";var bM=km.add.TySh=fr.YI(0,0),fE=bM.lf,gm=Y.ok.O(),jl=gm.n$();gm.concat(u(t.ctm));
var ho=new aJ(1/jl,0,0,-1/jl,0,0);ho.concat(gm);bM.C=ho;var k4=p(kn);km.Ip(k4);fr.hj(fE,0,k4);var f7=fr.aX(fE,0,k4.length);
f7.zI.FontSize=jl;f7.zI.FillColor={Type:1,Values:[1,v[0],v[1],v[2]]};fr.wm(f7,Y.font);fr.UE(fE,0,k4.length,f7);
z.T.push(km);z.cj=!0}else if(C&&cf.length>3){var hn=!1;for(var T=0;T<cf.length;T++)if(isNaN(cf[T]))hn=!0;
if(!hn)q[i7+1]=(kn+" "+q[i7+1]).replace(/\s\s+/g," ")}}}function j(v,z){if(z.KL==null)z.KL={};var q=z.KL[v[0]];
if(q==null){var P=z.QZ[v[0]],q=z.KL[v[0]]={};q.id=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";q.name="someImage";
q.$O=[P.pb(),new fP(0,0,P.q,P._)];z.zR(q)}var g=JSON.parse(fL.JC[fL.order.indexOf("patternFill")]);g.Ptrn.v.Idnt.v=q.id;
var a=u(v[1][1]),w=-Math.atan2(-a.b,a.DR);g.Angl.v.val=Math.round(w*180/Math.PI);g.Scl.v.val=Math.round(100*a.n$());
return g}jQ.IQ=function(z,q){var P=jQ.Ep(z,q),g=[0,0,1,0];if(z[0]==0)g[0]=.5;B.w.C(g,P,g);var a=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),w=a.Grad.v;
w.Intr.v=0;a.Type.v.GrdT=["Lnr","Rdl"][z[0]];B.Vh.Q_(z[1],w);B.Vh.Xf(new fq(g[0],g[1]),new fq(g[2],g[3]),B.s.jd(q),a);
return a};jQ.$E=function(z,q,P){var g={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[z.Type.v.GrdT],a=B.s.jd(q);
if(P&&!z.Algn.v)a=new fP(0,0,P.q,P._);var w=B.Vh.aCr(z,a),y=w[0],S=w[1];if(g==0){y.x-=S.x-y.x;y.y-=S.y-y.y}var i=S.x-y.x,C=S.y-y.y,Y=Math.sqrt(i*i+C*C),_=new aJ;
_.rotate(Math.atan2(-C,i));_.scale(Y,Y);_.translate(y.x,y.y);var t=jQ.$V(g,_,q),I=z.Grad.v;t[1]=B.Vh.alh(I,null,null);
return t};jQ.pB=function(z,q,P){var g=fq.mr(z,q),a=new aJ;a.scale(g,g);a.rotate(-Math.atan2(q.y-z.y,q.x-z.x));
a.translate(z.x,z.y);if(P)a.concat(P);return a};jQ.JY=function(z,q,P,g,a){if(q&&!g.lS(q)){var w=Math.atan2(-(P.y-q.y),P.x-q.x);
if(a!=null||w!=0){var y=new aJ;y.translate(-q.x,-q.y);y.scale(1,a);y.rotate(w);y.translate(q.x,q.y);
y.ia();g=y.w7(g)}var S=Math.atan2(-(g.y-q.y),g.x-q.x);z[2][5]=S*180/Math.PI;z[2][6]=fq.mr(g,q)/fq.mr(P,q)}};
jQ.$V=function(z,q,P){var g=q.O(),i,C,Y=1;g.ia();var a=s.eo.p3(P);B.s.Ma(a,g);var w=B.s.jd(a),y=w.q,S=w._;
if(z==0){var _=new aJ;_.translate(-w.x,-w.y);_.translate(-y/2,-S/2);var t=jQ.aiy(y,S,0);_.scale(1/t,1/t);
_.scale(1/y,1/S);i=_.TO+.5;C=_.bZ+.5;Y=_.DR}else{i=-w.x/y-.5;C=-w.y/S-.5;var I=(i-.5)*y/2,r=(C-.5)*S/2;
Y=1/Math.sqrt(2*(I*I+r*r))}var n=[z,null,[i,C,0,Y,1,0,0],[q.DR,q.b,q.tg,q.l_,q.TO,q.bZ]];return n};jQ.Ep=function(z,q){var P=z[0],g=z[2],a=z[3],w=new aJ(a[0],a[1],a[2],a[3],a[4],a[5]);
w.ia();var y=s.eo.p3(q);B.s.Ma(y,w);var S=B.s.jd(y),i=S.q,C=S._,Y=g[0],_=g[1],t=g[2]*Math.PI/180,I=g[3],r=new aJ;
if(P==0){r.scale(I,I);r.translate(Y-.5,_-.5);r.scale(i,C);r.rotate(t);var n=jQ.aiy(i,C,t);r.scale(n,n);
r.translate(i/2,C/2)}else{var Q=(Y-.5)*i/2,D=(_-.5)*C/2,n=I*Math.sqrt(2*(Q*Q+D*D));r.scale(n,n*g[4]);
r.rotate(t);r.translate((Y+.5)*i,(_+.5)*C)}r.translate(S.x,S.y);r.concat(new aJ(a[0],a[1],a[2],a[3],a[4],a[5]));
return r};function E(z,q,P){if(P){m=q;v=z}else{d=q;J=z}}function L(z,q,P){var g=UDOC.G,a=[],w=[],y="/DeviceGray",S=1,i=[],C=1;
for(var Y=0;Y<z.length;Y++){var _=z[Y];if(_.endsWith(" /CS")){var t=_.indexOf("/NChannel"),I=_.indexOf("/Process");
if(_.startsWith("/DeviceRGB")){y="/DeviceRGB";S=3}else if(_.startsWith("/DeviceGray")){y="/DeviceGray";
S=1}else if(_.startsWith("/DeviceCMYK")){y="/DeviceCMYK";S=4;i=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(t!=-1){y="/DeviceCMYK";
S=parseInt(_.slice(t-2,t-1));var r=1;for(var T=0;T<S;T++){r=_.indexOf("[",r);i[S-1-T]=_.slice(r+1,r+8).split(" ").map(parseFloat);
r++}}else if(I){y="/DeviceGray";S=1}else throw _}else if(_[0]=="["){var n=_.indexOf("]"),Q=_.slice(1,n).split(" ").map(parseFloat),D=_.slice(n+2),dG,R,X,dx,jv,gB;
if(D=="/Size"||D=="/P"||D=="/R")continue;if(D=="/S"||D=="/A"){dG=Q[0];R=Q[1];X=Q[2];dx=Q[3];jv=Q[4];
gB=Q[5]}else if(D=="/N"){var hQ=S+(C==1?0:1),ah;dG=Q[hQ+0];R=Q[hQ+1];X=Q[hQ+2];dx=Q[hQ+3];jv=Q[hQ+5];
gB=Q[hQ+6];if(y=="/DeviceRGB")ah=Q.slice(0,3);else if(y=="/DeviceGray")ah=[Q[0],Q[0],Q[0]];else if(y=="/DeviceCMYK"){var kG=[0,0,0,0];
for(var T=0;T<S;T++){var iZ=Q[T],bs=i[T];kG[0]+=iZ*bs[0];kG[1]+=iZ*bs[1];kG[2]+=iZ*bs[2];kG[3]+=iZ*bs[3]}ah=N(kG)}else throw ah;
ah.push(Q[S]);w.push([ah,dG,R])}else throw D;a.push([D,jv,gB,dG,R,X,dx])}else if(_=="/E"){var ey=a.slice(0),jp=0;
for(var T=0;T<a.length;T++){var eh=a[T][0];if(eh=="/N"){jp++;continue}var dt=T,jN=T+1;while(a[jN][0]!="/N"&&jN<a.length)jN++;
if(jp==0||jp==3){for(var jX=0;jX<jN-dt;jX++)ey[dt+jX]=a[jN-1-jX]}else for(var jX=dt;jX<jN;jX++){var jw=ey[jX],i7=jw[1];
jw[1]=jw[5];jw[5]=i7;i7=jw[2];jw[2]=jw[6];jw[6]=i7}T=jN-1}a=[];for(var T=0;T<ey.length;T++){var jw=ey[T];
a.push(jw[1],jw[2],jw[3],jw[4],jw[5],jw[6])}var kn=a.length;g.moveTo(q,a[2],a[3]);for(var T=0;T<kn;T+=6){var X=a[(T+4)%kn],dx=a[(T+5)%kn],jv=a[(T+6)%kn],gB=a[(T+7)%kn],dG=a[(T+8)%kn],R=a[(T+9)%kn];
g.curveTo(q,X,dx,jv,gB,dG,R)}g.closePath(q);a=[]}else if(_.endsWith("/Version"))C=parseFloat(_[0])}var eK=P.ws();
eK.IT|=16;eK.Ip("<Mesh>");var ee=eK.add.vstk=fL.gL.UX(!0);O(eK,q.pth,P,0);if(w.length>=2){var az=0,k7=0,al=0;
for(var T=0;T<w.length;T++)for(var jX=T+1;jX<w.length;jX++){var kl=w[T][0],b9=w[jX][0],h9=kl[0]-b9[0],ge=kl[1]-b9[1],iN=kl[2]-b9[2],a8=Math.sqrt(h9*h9+ge*ge+iN*iN);
if(a8>al){al=a8;az=T;k7=jX}}var dK=w[az],f6=w[k7],fS=[[0,dK[0],1,.5],[1,f6[0],1,.5]],cf=u(q.ctm),iG=cf.w7(new fq(dK[1],dK[2])),eC=cf.w7(new fq(f6[1],f6[2]));
if(iG.lS(eC))eC.x+=1;if(jD==0){var kH=eK.add.GdFl=JSON.parse(fL.JC[fL.order.indexOf("GrFl")]),i0=kH.Grad.v;
i0.Intr.v=0;kH.Type.v.GrdT="Lnr";B.Vh.Q_(fS,i0);var e5=B.w.oS(q.pth.crds);iG.x=(iG.x+eC.x)/2;iG.y=(iG.y+eC.y)/2;
B.Vh.Xf(iG,eC,e5,kH)}else{var gA=eK.add.vstl=fL.Rr.UX();gA.N0=[];var bW=jQ.pB(iG,eC,new aJ);gA.xJ=jQ.$V(0,bW,eK.add.vmsk.z);
gA.xJ[1]=fS}}P.T.push(eK);g.newPath(q)}function p(z){var q=z.indexOf(")");while(z[q-1]=="\\")q=z.indexOf(")",q+1);
return z.slice(z.indexOf("(")+1,q).replaceAll("\\","")}function Z(z,v){z.Rd.v=v[0]*255;z.Grn.v=v[1]*255;
z.Bl.v=v[2]*255}function o(z){var q=[];for(var T=0;T<z.length;T++)q[T]=parseFloat(z[T].slice(1));return q}function u(z){return new aJ(z[0],z[1],z[2],z[3],z[4],z[5])}function N(z){return B.VG(z.slice(0,4)).slice(0,3)}function M(z){var q=z.split(" "),P=q[q.length-1],g=P.toLowerCase(),a=q.map(parseFloat),w=null;
if(g=="xa"||g=="xx"||g=="xz"){var w=a[4]==null?a.slice(0,3):[a[4],a[5],a[6]];if(g=="xx"&&a[a.length-2]==2)w=N(a)}else if(g=="g")w=N([0,0,0,1-a[0]]);
else if(g=="x"||g=="k"){if(g=="x"){a.pop();var y=1-a.pop();for(var T=0;T<4;T++)a[T]*=y}w=N(a)}else if(g=="xk"){var S=a[a.length-2],i=a[a.length-3];
if(S==0)w=N(a);else if(S==1){w=[a[4],a[5],a[6]];for(var T=0;T<3;T++)w[T]=i*1+(1-i)*w[T]}else throw z}else throw g;
return w}function O(z,q,P,g){z.add.vmsk=new s.eo;if(q.crds.length!=0)z.add.vmsk.z=F(q);z.add.vmsk.Jb=g;
z.d6();z.vT(P)}function F(z){var q={g:z.crds,WQ:z.cmds},P=B.w.GJ(q,!1);return P}function W(z,q){var P=[],Y=0,r=0;
for(var g=0;g<2;g++){var a=q[["Raster","Place"][g]];if(a==null)continue;for(var T=0;T<a.length;T++){for(var w=0;
w<3;w++){var y=a[T][["Data","Document","PlacedObjectPreview"][w]];if(y==null)continue;var S=y._begin,i=y._end;
if(S>i)S=i;P.push([S,i])}}}P.sort(function(Q,D){return Q[0]-D[0]});var C=[q._begin];for(var T=0;T<P.length;
T++){var _=P[T],S=_[0]+32;C.push(S,_[1]);Y+=_[1]-S}C.push(q._end);var t=q._end-q._begin,I=new Uint8Array(t-Y);
for(var T=0;T<C.length;T+=2){var S=C[T],n=C[T+1]-S;I.set(new Uint8Array(z.buffer,S,n),r);r+=n}return b.Is(I).split(/\r\n|\r|\n/)}function f(z,q){if(z==null)return[];
var P=W(q,z),g="",a="",w=0,y;for(var T=2;T<P.length;T++){var S=P[T];if(S[0]=="%"){if(w==0)g+=S.slice(1);
else a+=S.slice(1)}else if(S==";")w++;else if(S.endsWith("/RulerOrigin ,"))y=S.split(" ").slice(0,2).map(parseFloat)}var i=[g,a],C=[];
for(var T=0;T<2;T++){var Y=i[T],_=new Uint8Array(Y.length);b._z(_,0,Y);var t=FromPS.F.ASCII85Decode({buff:_,off:0}),I=dQ.kq(t);
C.push(I)}C.push(y);return C}function $(z,q){if(z==null)return[];var P=W(q,z);P=P.slice(1);for(var T=0;
T<P.length;T++){var g=P[T];if(g.startsWith("%AI17_Begin_Content_if_version_gt")||g=="%AI17_Alternate_Content"||g=="%AI17_End_Versioned_Content")P[T]="";
else if(g[0]=="%")P[T]=g.slice(g[1]=="_"?2:1)}var a=f$.axF(P);return a}function H(z,q){var P={};if(z==null)return P;
for(var T=0;T<z.length;T++){var g=W(q,z[T]),a=g[1],w=p(a),y=a.slice(a.lastIndexOf(")")+2).split(" ").map(parseFloat),S=[];
for(var i=2;i<g.length;i++)S.push(g[i].slice(2));P[w]={Fv:y,Hl:S}}return P}function A(z,q){var P=[],a,w;
if(z==null)return P;var g=W(q,z);for(var T=1;T<g.length;T++){var y=g[T];if(y=="0 0 Pb"||y=="PB"||y==""){}else if(y.endsWith("Xa")||y.endsWith("Xz")||y.endsWith("Xx")||y.endsWith("Xk")||y.endsWith(" g")||y.endsWith(" x")||y.endsWith(" k"))a=[0,M(y)];
else if(y.endsWith("Xs"))a=[0,[0,0,0]];else if(y.endsWith("Bg"))a=[1,p(y)];else if(y.endsWith("Pg")||y.endsWith("p"))a=[2,p(y)];
else if(y[0]=="(")w=p(y);else if(y=="Pc")P.push([w,a]);else if(y=="0 BB"||y=="Bb"||y.endsWith("Bh")){}else throw y}return P}function G(z,q){var P={},g,a;
if(z==null)return P;var w=[];for(var T=0;T<z.length;T++){var y=W(q,z[T]);for(var S=0;S<y.length;S++){var i=y[S];
if(i.endsWith("%_Bs")){var C=i.slice(0,i.length-4);if(!C.endsWith(" "))C+=" ";i=C+"%_BS"}if(i[0]=="("){g=p(i);
var Y=i.slice(i.lastIndexOf(")")+2).split(" ");a=parseInt(Y[0])}else if(i.endsWith("%_BS")){var _=i.split(" "),n,Q=1;
_.pop();_=_.map(parseFloat);var t=_.pop(),I=_.pop(),r=_.pop();if(r==0)n=[_[0],_[0],_[0]];else if(r==2||r==4)n=[_[4],_[5],_[6]];
else if(r==1||r==3)n=N(_);else if(r==6){if(_.length==3)n=[_[0],_[0],_[0]];else if(_.length>=8)n=_.slice(4,7);
else n=N(_);Q=_.pop()}else{throw r}w.push([t/100,n,Q,I/100])}else if(i=="BD"){w.sort(function(D,dG){return D[0]-dG[0]});
P[g]={R4:a,aHN:w};w=[]}}}return P}function l(z){var q="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),P=Date.now(),g=0,a=[],w={Header:{}},y=[w],S=z.length;
while(g<S){var i=g;while(i!=S&&z[i]!=13&&z[i]!=10){i++}if(z[g]==37&&z[g+1]==95&&z[g+2]==37)g+=2;if(z[g]==37&&(z[g+1]==37||z[g+1]==65)){var C=b.RZ(z,g,i-g);
if(C=="%%EOF")break;if(C=="%%EndComments"||C=="%EndComments"||C=="%AI5_Begin_NonPrinting"||C=="%AI5_End_NonPrinting--"||C.startsWith("%AI17_Begin_Content_if_version_gt")||C=="%AI17_End_Versioned_Content"){}else{var Y=C.indexOf("Begin"),_=Math.max(C.indexOf("_End"),C.indexOf("%End"));
if(Y!=-1&&C[Y-1]!="%"&&C[Y-1]!="_")Y=-1;if(Y!=-1){var t=C.slice(Y+5).split(":")[0],I={_begin:g,_end:g},r=y[y.length-1];
if(q.indexOf(t)!=-1){if(r[t]==null)r[t]=[];r[t].push(I)}else{if(r[t]!=null){console.log(y);throw C}r[t]=I}y.push(I);
if(C.startsWith("%%BeginData")){i=b.TE(z,"%%EndData",g)}else if(C.slice(0,15)=="%%BeginDocument")i=b.TE(z,"%%EndDocument",i);
else if(C=="%AI9_BeginDocumentData")i=b.TE(z,"%AI9_EndDocumentData",i);else if(C=="%AI11_BeginTextDocument")i=b.TE(z,"%AI11_EndTextDocument",i)}else if(_!=-1){if(y.length>1)y.pop()._end=g}else if(y.length==1&&(C.startsWith("%AI")||C.startsWith("%%")&&C.indexOf(" ")!=-1)){var n=1;
if(C.startsWith("%AI"))while(C[n]!="_"&&n<C.length)n++;var Q=C.indexOf(":");if(Q==-1)Q=C.indexOf(" ");
var D=C.slice(n+1,Q),dG=C.slice(Q+1).trim();w.Header[D]=dG}}}g=i;if(z[g]==13)g++;if(z[g]==10)g++}return w}function K(z){var q="";
for(var T=0;T<z.length;T++){if(z[T]=="_"&&z[T+1]=="x"){var iW=parseInt(z.slice(T+2,T+4),16);q+=String.fromCharCode(iW);
T+=4}else if(z[T]=="_")q+=" ";else q+=z[T]}return q}function U(z){var q="xmlnode-nodename",P="xmlnode-nodevalue",g="xmlnode-attributes",a="xmlnode-children",w=z[q].split(":").pop().replace("#",""),y=z[g],S=z[a],i="<"+w;
for(var C in y)if(C!="xmlns"&&C!="xmlns:v")i+=" "+C.split(":").pop()+"=\""+y[C][P]+"\"";i+=">"+(S.length==0?"":"\n");
for(var T=0;T<S.length;T++)i+=U(S[T]);if(z[P])i+=z[P];return i+"</"+w+">\n"}return h}();jQ.aiy=function(h,e,v){var J=B.w.Tp(new fP(0,0,h,e)).g,m=new aJ;
m.rotate(v);B.w.C(J,m,J);var d=B.w.oS(J);return d.q/h};jQ.afa=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
jQ.mA=function(){function h(N){var M=72/N.gx,O=new aJ(M,0,0,-M,0,0),F=N.root.children,W=[],f={_q:[],iG:{},aoa:0},H=16383,dx=0,gB=0;
for(var T=0;T<N.KW.length;T++){var $=N.KW[T];if($[1].length==4)o($[1],f,$[0])}for(var T=0;T<F.length;
T++)E(F[T],N,O,f,W,0);var A=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+H+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
A.push("%%BeginSetup\r");A=A.concat(f._q);for(pn in N.QZ){var G=N.QZ[pn],l=N.gx/72;A.push("%AI3_BeginPattern: ("+pn+")");
A.push("("+pn+") 0 0 "+Math.round(G.q/l)+" "+Math.round(G._/l));var F=G.root.children,K=[];for(var T=0;
T<F.length;T++)E(F[T],G,O,f,K,1);K=window.avX;for(var T=0;T<K.length;T++){var U=K[T];A.push(U.startsWith("%_")?U:"%_"+U)}A.push("E","%AI3_EndPattern")}if(N.KW.length!=0){A.push("%AI5_BeginPalette","0 0 Pb");
for(var T=0;T<N.KW.length;T++){var $=N.KW[T],z="("+$[0]+")",q=$[1].length;if($[0]=="[Registration]")A.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(q==3)A.push(j(B.Wu($[1]).concat($[1]))+" "+z+" 0 1 Xk");else if(q==4)A.push("Bb","0 0 0 0 Bh",$[1][0]+1+" "+z+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(q==2)A.push(z+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");A.push(z,"Pc")}A.push("PB","%AI5_EndPalette")}A=A.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var P=N.add.arts;for(var T=0;T<P.length;T++){var g=P[T];console.log(g);var a=g.Fv[0]*M,w=-g.Fv[1]*M,y=g.Fv[2]*M,S=-g.Fv[3]*M;
A.push("/Dictionary :","("+g.pQ+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",H/2+" "+H/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",v(a)+" "+v(w)+" /RealPointRelToROrigin"," (PositionPoint1) ,",v(y)+" "+v(S)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}A=A.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var i=[],C=[];for(var T=0;T<N.T.length;T++){var Y=N.T[T],_=Y.add.TySh;if(_){i.push(_.lf);C.push(_)}}if(i.length!=0){var t=k6.awN(i,null,null);
function I(g){return g.map(function(hQ){return"f"+hQ})}for(var r=0;r<i.length;r++){var _=C[r],n=t._1._1[r],Q=n._1._0[0]._0;
Q=parseInt(Q.slice(1));var D=t._0._8._0[Q]._0,dG=_.C.O();dG.concat(O);dG.scale(1,-1);D._2._2=I([dG.DR,dG.b,dG.tg,dG.l_,dG.TO,dG.bZ])}var R=e(t),X=e(t);
A.push("%AI11_BeginTextDocument");A.push("/AI11TextDocument : /ASCII85Decode ,");A=A.concat(R);A.push("0.0001 0.0001 /RulerOrigin ,");
A.push(";");A.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");A=A.concat(X);A.push(";");A.push("%AI11_EndTextDocument")}A.push("%%EndSetup\r");
A=A.concat(W);console.log(A.join("\n"));A.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var T=0;T<A.length;T++){var g=A[T];if(typeof g=="string")g=A[T]=b.YQ(g);dx+=g.length+1}var jv=new Uint8Array(dx);
for(var T=0;T<A.length;T++){var g=A[T];jv.set(g,gB);gB+=g.length;jv[gB]=13;gB++}return f$.amN(jv).buffer}function e(N){var M=new kg,O=dQ.el(N,M)-2,F=u(M.data.slice(0,O)),W=[];
for(var f=0;f<F.length;f+=100){if(F.length-f<103){W.push("%"+F.slice(f));break}W.push("%"+F.slice(f,f+100))}return W}function v(iW){return iW.toFixed(3)}function J(N,M){var O=N.getName(),F=null;
M.push("%_/ArtDictionary :");if(N.add.vmsk)F=N.add.vmsk.d0;if(N.add.SoLd){var W=B.D.li(N.add.SoLd);F=Math.atan2(-W.b,W.DR)}if(N.add.TySh){var W=N.add.TySh.C;
F=Math.atan2(-W.b,W.DR)}if(F!=null&&F!=0)M.push("%_("+F+") /String (BBAccumRotation) ,");if(N.add.TySh)M.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!O.startsWith("<")&&!O.endsWith(">")){M.push("%_/XMLUID : "+m(O)+" ; (AI10_ArtUID) ,")}M.push("%_;","%_")}function m(N){var M="";
for(var T=0;T<N.length;T++){var O=N[T],F=N.charCodeAt(T);if(O==" ")M+="_";else if(O=="."||O==":"||O=="-"||48<=F&&F<=57||65<=F&&F<=90||97<=F&&F<=122||127<F)M+=O;
else M+="_x"+F.toString(16).toUpperCase()+"_"}return"("+M+")"}function d(N,M,O){O.push(j(N)+" "+M)}function x(N){return"[ "+j(N)+" ]"}function j(N){return N.map(v).join(" ")}function E(N,M,O,F,W,f){var $=N.L;
if(f!=0)W.push("0 A",($.oA()?0:1)+" Xw");if($.XN()){var H=!1;for(var T=0;T<N.children.length;T++)if(N.children[T].L.FP)H=!0;
var A=$.add.lsct==d7.W$?1:0;if(f==0){W.push("%AI5_BeginLayer");W.push(($.oA()?1:0)+" "+M.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
W.push("("+$.getName()+") Ln");W.push(A+" AE");J($,W)}else{W.push(A+" Ae");W.push(H?"q":"u")}for(var T=0;
T<N.children.length;T++)E(N.children[T],M,O,F,W,f+1);if(f==0)W.push("LB","%AI5_EndLayer--");else{W.push(H?"Q":"U");
J($,W);L($,W);W.push("0 0 Xd","6 () XW")}}else if(!0){L($,W);var G=$.add.TySh,l=$.add.vmsk;if(G){W.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",F.aoa+" /StoryIndex ,");
if(fr.tO(G.lf)==1){var K=fr.hi(G.lf),U=B.w.Tp(new fP(K[0],K[1],K[2],K[3])).g;B.w.C(U,G.C,U);B.w.C(U,O,U);
W.push("/Art :","X=","1 Ap",U[0]+" "+U[1]+" m",U[2]+" "+U[3]+" L",U[4]+" "+U[5]+" L",U[6]+" "+U[7]+" L",U[0]+" "+U[1]+" L","n","X+","; /ConfiningPath ,")}W.push("2 /TextAntialiasing ,",";");
F.aoa++}else if($.add.SoLd){var z,q,P,g=$.add.SoLd,a=g.Idnt.v,w=M.Rk(a,g.Crop?g.Crop.v:null),y=w.pd,z=y[0],q=y[1];
P=B.D.li(g);var S=new aJ(1,0,0,-1,0,0);S.concat(P);S.concat(O);var i=q.$(),C=q.q,Y=q._,_=B.U(i*4+8);
for(var T=0;T<i;T++){var t=T*4,I=T*3;_[I]=z[t];_[I+1]=z[t+1];_[I+2]=z[t+2];_[3*i+T]=z[t+3]}b._z(_,i*4,"%EndData");
W.push("%AI5_File:","%AI5_BeginRaster",x([S.DR,S.b,S.tg,S.l_,S.TO,S.bZ])+" 0 0 "+[C,Y,C,Y].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(i*4+4),"XI",_,"XH","%AI5_EndRaster","N")}else if(l){var r=$.add.vstl,n,Q;
if(r){n=r.xJ;Q=r.N0;if(n.length==0)n=null;if(Q.length==0)Q=null}var D=B.s.bJ(l.z)>1;if(D)W.push("*u","0 Xw");
if(n){if(n.length==3)d(n,"Xa",W);else if(n.length==4){var dG=Z(n,F);W.push("Bb",dG,"2 BB")}else{W.push("("+n[0]+") "+n[1][0].join(" ")+" ["+n[1][1].join(" ")+"] p")}}if(Q){var R=O.n$(),X=r.fe.slice(0);
for(var T=0;T<X.length;T++)X[T]*=R;W.push(r.qP+" J "+r.Jv+" j "+r.T8*R+" w "+v(r.Mm)+" M ["+X.join(" ")+"]0 d");
if(Q.length==3)d(Q,"XA",W);else if(Q.length==4){var dG=Z(Q,F);W.push("1 Bb",dG,"2 BB")}else{W.push("("+Q[0]+") "+Q[1][0].join(" ")+" ["+Q[1][1].join(" ")+"] P")}}var dx=B.w._i(l.z,1);
B.w.C(dx.g,O,dx.g);var jv=$.FP?"h\nW\nn":n&&Q?"b":n?"f":"s";p(dx,jv,l.Jb,W);if(D)W.push("*U")}J($,W)}else{var gB=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
W=W.push(gB.join("\n"))}}function L(N,M){var O=jQ.afa.indexOf(N.fR);if(O==-1)O=0;M.push(O+" "+v(N.S2/255)+" 0 0 0 Xy")}function p(N,M,O,F){F.push(O+" XR");
var W=0;for(var f=0;f<N.WQ.length;f++){var $=N.WQ[f],H,A=0,G="";if($=="M"){A=2;H="m"}if($=="L"){A=2;
H="l"}if($=="C"){A=6;H="c"}for(var T=0;T<A;T++)G+=v(N.g[W+T])+" ";W+=A;if(A!=0)F.push(G+H);if(f==N.WQ.length-1||N.WQ[f+1]=="M"){F.push($=="Z"?M:M.toUpperCase())}}}function Z(N,M){var O=o(N,M),F="";
if(N[0]==1)F="0 0 "+N[2].slice(5).map(v).join(" ")+" Bh\n";return F+"1 ("+O+") "+N[2].slice(0,4).map(v).join(" ")+" "+N[3].map(v).join(" ")+" "+v(N[2][4])+" Bg"}function o(N,M,O){var F=N[0],W=N[1].slice(0),f=F+"-"+JSON.stringify(W);
if(M.iG[f])return M.iG[f];console.log(O);var $=M.iG[f]=O?O:"grd"+M._q.length;M._q.push("%AI5_BeginGradient: ("+$+")","("+$+") "+F+" "+W.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(F==0)W=W.reverse();for(var T=0;T<W.length;T++){var H=W[T];if(H[3]==null)throw"e";var A=B.Wu(H[1]),G=100*H[3],l=A.concat(H[1]).map(v).join(" ")+" 2 "+v(H[2])+" 6 "+G+" "+v(H[0]*100);
M._q.push(l+" %_BS");M._q.push("%_"+l+" Bs")}M._q.push("BD","%AI5_EndGradient");return $}function u(N){var M=[85*85*85*85,85*85*85,85*85,85,1],O="",F=N.length,W=new Uint8Array(4),f=new Uint32Array(W.buffer);
for(var T=0;T<F;T+=4){var $=F-T;W[3]=N[T];W[2]=$>1?N[T+1]:0;W[1]=$>2?N[T+2]:0;W[0]=$>3?N[T+3]:0;var H=f[0],A=1+Math.min(4,$);
for(var G=0;G<A;G++){var l=Math.floor(H/M[G]);O+=String.fromCharCode(33+l);H-=l*M[G]}}return O+"~>"}return h}();
function cm(){}cm.kq=function(){var h,e,v,J,m,d=!0,$,H,A;function x(i){return d?b.bB(h,i):b.d$(h,i)}function j(i){return d?b.B7(h,i):b.hm(h,i)}function E(i){return d?b.QA(h,i):b.aN(h,i)}function L(i){return b.B7(h,i)}function p(i){return b.bB(h,i)}function Z(i){return b.TB(h,i)}function o(i,C){if(i+C*4>h.length)throw C;
var Y=[];for(var T=0;T<C;T++)Y.push(x(i+T*4));return Y}function u(i,C){var Y=[];for(var T=0;T<C;T++)Y.push(E(i+T*8));
return Y}function N(i){return p((i+1)*4096-12)}function M(i){return p((i+1)*4096-8)}function O(i,e,C,Y){if(J[i]==null)J[i]=[];
J[i].push([Y,new Uint8Array(h.buffer,e,C)])}function F(i,C,Y,_){var t=v[i],e=t*4096;e=e+p(e+4096-24-12-C*4);
var I=L(e),r=h[e+2],n=h[e+3];if(C!=r)throw r;if(n==0)O(_,e+4,Y,9);else{var Q=L(e+6),D=p(e+8);O(_,e+12,I-12,9);
F(D,Q,Y-(I-12),_)}}function W(){var i=p(352),C=p(i*4096+128),Y=p(936);v=[];J={};m={};for(var T=0;T<1e9;
T++){var _=p(Y*4096+128+T*4);if(_==0)break;var t=o(_*4096+128,4096-128-12>>>2);v=v.concat(t)}for(var I=0;
I<v.length;I++){var r=v[I],n=N(r);if(n!=6)continue;var e=r*4096,Q=p(e);e+=4;for(var T=0;T<Q;T++){var D=p(e);
e+=4;var dG=p(e);e+=4;var R=p(e);e+=4;var X=p(e);e+=4;if(D==0)m[dG]=R;else{var dx=R&65535,jv=R>>>16;
if(jv==0)O(dG,X*4096,dx,8);else F(X,jv,dx,dG)}}}var $={};for(var gB in J){var hQ=J[gB],ah=hQ.length;
if(ah==1)$[gB]=hQ[0][1];else{var kG=0,e=0;for(var T=0;T<ah;T++)kG+=hQ[T][1].length;var iZ=$[gB]=new Uint8Array(kG);
for(var T=0;T<ah;T++){iZ.set(hQ[T][1],e);e+=hQ[T][1].length}}}return $}function f(e,i){var C=0,Y="";
if(i){C=x(e);e+=4}else{e+=3;C=j(e);e+=2}while(Y.length<C){var _=j(e),t=_&255,I=_>>>8,r=0,n="";t+=(I&15)*256;
I=I&240;e+=2;if(t==0)throw"e";for(var T=0;T<t;T++){if(I==64)r=h[e++];else if(I==128){r=j(e);e+=2}else throw I;
n+=String.fromCharCode(r)}Y+=n}return[Y,e]}function G(e,i,C){var Y=o(e,i);for(var T=0;T<i;T++){C.push(T);
if(Y[T]>H)throw"e";Y[T]=K(Y[T],C);C.pop()}return Y}var l={};function K(i,C){if(A.indexOf(i)!=-1)return $[i];
if(i==0)return null;if($[i]==null)return null;if(!($[i]instanceof Uint8Array))return $[i];var Y=h,e=0;
h=$[i];A.push(i);var _=m[i].toString(16),t=$[i]={_type:S[_]?S[_]+":"+_:"typ-"+_,_eid:i};while(e+8<h.length){if(d&&p(e+4)>268435455&&p(e+4)!=1179258880)d=!1;
var I=x(e);e+=4;var r=x(e);e+=4;var n=I.toString(16),Q=e+r;if(e+r>h.length){t._bin=h;break}U(n,g,t,e,r,C);
e=Q}h=Y;A.pop();return t}function U(i,C,Y,e,_,t){var I=C[i+":"+Y._type];if(I==null)I=C[i];t.push(I?I[0]==""?i:I[0]:i);
if(I){var r=I[0],n=null,Q=I[1];if(r=="")r=Q+"-"+i;if(w[Q]&&_!=w[Q]){console.log(Q);console.log(i,I);
console.log(h.slice(e,e+_));throw"e"}if(Q=="mat")n=u(e,6);else if(Q=="mmat")n=[K(x(e),t),_==6?[1,0,0,1,0,0]:u(e+6,6)];
else if(Q=="rect")n=u(e,4);else if(Q=="mrct"){n=u(e,4);n.push(L(e+32))}else if(Q=="doub")n=E(e);else if(Q=="pointArr"){var D=L(e);
n=o(e+2,D*2)}else if(Q=="usrt")n=L(e);else if(Q=="uint")n=x(e);else if(Q=="pntr"||Q=="ptr6"){n=K(x(e),t)}else if(Q=="bool2"){if(j(e)!=0&&j(e)!=1)throw j(e);
n=j(e)==1}else if(Q=="bool4"){if(p(e)!=0&&p(e)!=1)throw i+","+p(e);n=p(e)==1}else if(Q=="color"){if(_!=38&&_!=30)throw _;
var dG=x(e),R=j(e+4);n=[dG];for(var T=0;T<R;T++)n.push(E(e+6+T*8))}else if(Q=="path"){var X=e+_;n=[];
var dx=x(e);e+=4;for(var T=0;T<dx;T++){var jv=[[]];n.push(jv);var gB=x(e);e+=4;for(var hQ=0;hQ<gB;hQ++){var dG=x(e);
e+=4;if(dG<2){jv[0].push([dG,E(e),E(e+8),E(e+16),E(e+24),E(e+32),E(e+40)]);e+=48}else if(dG==2){jv[0].push([dG,E(e),E(e+8)]);
e+=16}else throw dG}jv.push(L(e));e+=2}}else if(Q=="ptrAndList"){var ah=x(e),kG=x(e+4);n=G(e+8,kG,t);
n.unshift(K(ah,t))}else if(Q=="ptrArray"||Q=="ptrArrayX"){var iZ=_>>2;if(Q=="ptrArray"){iZ=x(e);e+=4;
if(_!=4+iZ*4)throw _}n=G(e,iZ,t)}else if(Q=="ptrArray2"){var iZ=x(e);e+=4;n=G(e,iZ,t);e+=iZ*4;iZ=x(e);
e+=4;n.push(G(e,iZ,t))}else if(Q=="cldrn"){var bs=x(e),ey=x(e+4),iZ=x(e+8);n={l:K(bs,t),BS:K(ey,t),KN:G(e+12,iZ,t)};
if(_!=12+iZ*4){console.log(i,sa);throw"e"}if(bs==0)throw bs}else if(Q=="aprnc"){var iZ=x(e);e+=4;n={};
for(var T=0;T<iZ;T++){var jp=x(e),eh=j(e+4),dt=j(e+6);e+=8;var jN=y[jp.toString(16)];if(jN==null)jN="prm-"+jp.toString(16);
else jN=P(jN);n[jN]=[];for(var hQ=0;hQ<dt;hQ++){var jX=x(e),jw=j(e+4),i7=null;e+=6;if(jX==28264)i7=E(e);
else if(jX==28263)i7=x(e);else if(jX==279||jX==6917)i7=K(x(e),t);else if(jX==28261)i7=L(e)==1;else if(jX==28265)i7=[E(e),E(e+4)];
else if(jX==6914||jX==83231)i7=f(e)[0];else if(jX==28259||jX==28260||jX==23094||jX==67679){i7=h.slice(e,e+jw)}else throw jX.toString(16);
n[jN].push(i7);e+=jw}}}else if(Q=="lopts"){var kn=6;while(h[e+kn]<2)kn++;n={aBG:j(e+0)==1,show:j(e+2)==1,aBR:j(e+4)==1,bm:x(e+kn),name:f(e+kn+8)[0]}}else if(Q=="origin"){var X=e+_;
if(h[e++]!=1)throw"e";var D=p(e);e+=4;var eK=b.RZ(h,e,D);e+=D;if(h[e++]!=1)throw"e";var ee=h[e++];if(ee!=1&&ee!=53)throw ee;
var az=L(e);e+=2;if(az!=0&&az!=1)throw az;var k7=p(e);e+=4;if(k7!=0&&k7!=1)throw k7;var al=p(e);e+=4;
if(al!=0&&al!=2&&al!=3)throw al;var kl=p(e);e+=4;var b9=f(e,!0);e=b9[1];b9=b9[0];var h9=p(e),ge=p(e+4);
e+=8;var iN=p(e);e+=4;if(iN!=0)throw iN;var a8=p(e);e+=4;var dK=f(e)[0];e+=2+2+dK.length+3;n={file:eK,id:b9,v9:dK}}else if(Q=="string")n=f(e)[0];
else if(Q=="relEnt"){var f6=j(e);e+=2;n=[];for(var T=0;T<f6;T++)n.push([x(e+T*8),K(x(e+T*8+4),t)])}else if(Q=="textData"){var X=e+_,fS=x(e);
e+=4;var jp=x(e);e+=4;var R=j(e);e+=2;var cf=[];for(var T=0;T<R;T++){var iG=x(e);e+=4;if(fS==514)cf.push(f(e,!0)[0]);
else if(fS==515){var eC=x(e),i=x(e+4),kH=z(e+8,t);cf.push([eC,K(i,t),kH])}else if(fS==516){var eC=x(e),i=x(e+4),i0=j(e+8),kH=z(e+8,t);
cf.push([eC,K(i,t),kH])}else cf.push(h.slice(e,e+iG));e+=iG}if(X-e!=12)throw X-e;n=cf}else if(Q=="storyProps"){var e5=x(e);
if(j(e+4)>1)throw"e";var gA=K(x(e+6),t),R=x(e+10),bW=K(x(e+14+R*4),t);n={asF:e5,ayd:gA,KN:G(e+14,R,t),alF:bW,awX:o(e+14+R*4+4,4)}}else if(Q=="styleProps")n=z(e,t);
else if(Q=="bounds"){var e3=e,f6=x(e);e+=4;n=[];for(var T=0;T<f6;T++){var iL=[];n.push(iL);for(var hQ=0;
hQ<4;hQ++)iL.push(E(e+hQ*8));e+=32;iL.push(h[e]);e++}if(e!=e3+_)throw"e"}else if(Q=="columnPos"){var f6=x(e);
e+=4;n=[u(e,f6),E(e+f6*8)];e+=f6*8+8}else if(Q=="StyleName"){n=[x(e+4)]}else if(Q=="fontName"){var X=e+_;
n=[j(e)];e+=2;for(var T=0;T<2;T++){var eK=f(e);e=eK[1];n.push(eK[0])}n.push(x(e));e+=4;var h4=j(e);e+=2;
n.push(h4);var iT=j(e);e+=2;var hC=[];n.push(hC);for(var dS=0;dS<iT;dS++){var il=[];hC.push(il);var eK=f(e);
e=eK[1];il.push(eK[0]);var i6=j(e);if(i6<100){e+=2;var eK=b.RZ(h,e,i6);e+=i6;il.push(eK)}else{var eK=f(e);
e=eK[1];il.push(eK[0])}for(var T=0;T<3;T++){var eK=f(e);e=eK[1];il.push(eK[0])}il.push(x(e));e+=4;var eK=f(e,!0);
e=eK[1];il.push(eK[0])}if(e+4!=X)throw"e";n.push(x(e))}else throw Q;if(Y[r]!=null){console.log(r,Y[r],n);
console.log(t.slice(0));console.log(eid,i,e,Y[r],I,n);throw"e"}Y[r]=n}else{var co=h.slice(e,e+_);Y["prop-"+i]=co}t.pop()}function z(e,i){var C=j(e);
e+=2;var Y={};for(var T=0;T<C;T++){var _=x(e);e+=4;var t=_.toString(16),I=j(e);e+=2;var r=j(e);e+=2;
for(var n=0;n<r;n++){var Q=x(e);e+=4;var D=j(e);e+=2;U(t,a,Y,e,D,i);e+=D}}return Y}function q(i){d=!0;
h=new Uint8Array(i);$=W();var C=$[2147483649];C=b.Is(C,4,C.length-4);delete $[2147483649];H=0;for(var Y in $)H=Math.max(H,parseInt(Y));
A=[];var _={};for(var Y in $)_[Y]=$[Y];for(var Y in $)K(parseInt(Y),[]);return $}function P(i){i=i.split(" ").join("");
return i[0].toLowerCase()+i.slice(1)}var g={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},a={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},w={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},y={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},S={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return q}();function gb(){}gb.kq=function(){var h=0;function e(Z,o){var u=cm.kq(Z),q=1;h=0;var N=u[1],M=N.spreads,O=[],F=new fP;
for(var W=0;W<M.length;W++){var f=M[W],$=f.children.KN,H=J(f),A=$[0].children.KN,G=new fP;for(var l=0;
l<A.length;l++){var K=A[l],U=J(K);U.concat(H);var z=v(K);z.offset(U.TO,U.bZ);z=B.w.jg(z);G=G.R$(z)}O.push(G);
F=F.R$(G)}while(Math.sqrt(F.$())*q<1e3)q++;o.q=F.q*q;o._=F._*q;o.buffer=new Uint8Array(4*o.q*o._);o.cj=!0;
o.gx=Math.round(72*q);o.pG(M.length);for(var W=0;W<M.length;W++){var f=M[W],$=f.children.KN,P=o.ws();
P.IT=24;P.add.lsct=d7.W$;P.Ip("Artboard "+(W+1));var g=O[W].O();g.offset(-F.x,-F.y);g.x*=q;g.y*=q;g.q*=q;
g._*=q;g=B.w.jg(g);P.B9(g);P.fR="pass";o.T.push(o.gB());var H=J(f);H.translate(-F.x,-F.y);H.scale(q,q);
var a={};for(var w=0;w<$.length-1;w++){var y=$[w],S=y.children.KN,i=o.ws(),C=y.layer.lopts;if(C.name=="Internal_pages_layer_name"||a[C.name])continue;
a[C.name]=!0;i.IT=24;i.add.lsct=d7.W$;i.Ip(C.name);i.nP(C.show);if(C.aBG)i.add.lspf=1<<31;i.fR="pass";
o.T.push(o.gB());for(var T=0;T<S.length;T++)E(S[T],o,H,u);o.T.push(i)}o.T.push(P)}}function v(Z){var o=Z.rect;
return new fP(o[0],o[1],o[2]-o[0],o[3]-o[1])}function J(Z){var o=Z.transform;return new aJ(o[0],o[1],o[2],o[3],o[4],o[5])}function m(Z){var o=Z.color,u=Z.parentFill,M;
if(o==null&&u)o=u.color;if(o==null){console.log("strange color",Z);return[0,0,0]}var N=o[0];if(N==5)M=o.slice(1);
else if(N==6)M=UDOC.C.cmykToRgb(o.slice(1));else if(N==7){var O=B.n3(o[1],o[2],o[3]);M=[O.n/255,O.i/255,O.b/255]}else if(N==14){M=o.slice(1);
console.log("unsure about the color")}else{console.log(o);throw N}return M}function d(Z){var o=m(Z);
return B.Vh.WZ({n:o[0]*255,i:o[1]*255,b:o[2]*255})}function x(Z){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[Z]}function j(Z,o){var T=0,u=0;
while(Z[T+1]&&u+Z[T][0]<=o){u+=Z[T][0];T++}Z=Z[T][1].textData;T=0;while(Z[T+1]&&u+Z[T][0]<=o){u+=Z[T][0];
T++}return Z[T]}function E(Z,o,u,N){var M=Z.transform?J(Z):new aJ;M.concat(u);var O=Z.path,F=Z.appearance,W=Z.visible,f=Z.children?Z.children.KN:null,$=o.ws();
if(W!=null)$.nP(W);var H=f&&f.length==1&&f[0].bitmapFill,A=Z["bool2-1623"]&&f&&f.length==1&&f[0].rect&&f[0]._type.startsWith("TextFrame");
if(H){$.Ip("bitmap");var G=f[0],l=v(G),K=J(G),g=null;K.concat(M);var U=G.bitmapFill.bitmap;U=N[U]._bin;
if(U.length!=U.buffer.byteLength)U=U.slice(0);if(U[0]==123){console.log("unknown bitmap format");return}var z=o.dz(U,"img.jpg",0,0);
z.IT=$.IT;$=z;var q=[0,0,l.q,0,l.q,l._,0,l._];B.w.C(q,K,q);$.add.SoLd.Trnf=c.L2.ni(q);$.add.SoLd.nonAffineTransform=c.L2.ni(q);
$.eW(o,!1);var P=G.path;if(P&&P.length!=0)g=p(P,K,F);else if(O&&O.length!=0)g=p(O,M,F);if(g){var a=B.s.jd(g.z),w=B.w.oS(q);
if(a.$()/w.UP(a).$()>1.1){if(a.contains(w))g=null;var y=Z.children;Z.children=null;E(Z,o,u,N);Z.children=y}}if(g)$.add.vmsk=g;
$.d6();$.vT(o)}else if(A){if(F&&F.strokeSwatch){var S=o.ws();L(S,o,F,O,M);o.T.push(S)}var i=f[0],l=v(i),K=J(i),ah=0;
K.concat(M);var C=i.children.KN[0],Y=C.obj228,_=Y[0].story[1],t=_.stoProps.ayd.relEnt,I=_.stoProps.KN[0].relEnt,r=_.stoProps.KN[1]["ptrArrayX-210"][0].textData,n=N[t[0][1].textData[0][1].name[0]],Q=n?n.styProps:{};
r=r.join("").replace(/\r/g,"\n");var D=-1;while((D=r.indexOf("\uFFFC"))!=-1){r=r.slice(0,D)+(r[D-1]=="\n"?" ":" ")+r.slice(D+1)}$.Ip(r.slice(0,255));
$.add.lnsr="rend";$.add.TySh=fr.YI(0,0);$.add.TySh.dP=l;$.add.TySh.C=K;var dG=$.add.TySh.lf;fr.hj(dG,0,r);
var R=fr.aX(dG,0,r.length);R.zI.FontSize=10;fr.UE(dG,0,r.length,R);var X=[];if(r.length!=0){var dx=j(t,0),jv=j(I,0),gB=1;
for(var T=1;T<r.length;T++){var O=j(t,T),hQ=j(I,T);if(O!=dx||hQ!=jv){X.push(gB);gB=0}dx=O;jv=hQ;gB++}if(gB!=0)X.push(gB)}for(var T=0;
T<X.length;T++){var kG=j(I,ah),iZ=X[T],bs=Math.min(ah+iZ,r.length-1),ey=kG[2],jp=kG[1].styProps;if(jp==null)jp={};
var eh=j(t,ah),dt=eh[1].styProps,jN=eh[2],jX={};for(var jw in Q)jX[jw]=Q[jw];for(var jw in dt)jX[jw]=dt[jw];
for(var jw in jN)jX[jw]=jN[jw];for(var jw in jp)jX[jw]=jp[jw];for(var jw in ey)jX[jw]=ey[jw];var R=fr.aX(dG,ah,bs),i7=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],kn=i7.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var eK=0;eK<kn.length;eK++){var jw=kn[eK],ee=eK<i7.length?R.zI:R.UZ;if(jX[jw]!=null)ee[jw]=jX[jw]}if(jX.fillColor){var az=m(jX.fillColor);
R.zI.FillColor={Type:1,Values:[1].concat(az)}}if(jX.font){var k7=jX.font.name[5],al=jX.fontStyle;if(al==null)al="Regular";
for(var kl=0;kl<k7.length;kl++)if(k7[kl][0]==al)fr.wm(R,k7[kl][1])}if(jX.leading!=null&&jX.leading>1){R.zI.Leading=jX.leading;
R.zI.AutoLeading=!1}if(jX.align!=null)R.UZ.Justification=[0,2,1,6,3,5,4,0,0,0][jX.align];fr.UE(dG,ah,bs,R);
ah+=iZ}fr.Ii(dG,1);fr.Uv(dG,[0,0,Math.round(l.q),Math.round(l._)])}else if(Z._type.startsWith("Path")&&(f==null||f.length==0)&&O){L($,o,F,O,M)}else{var b9=Z["prop-14526"];
if(f==null&&b9){var h9=N[b.bB(b9,20)];f=[h9]}if(f){if(O&&O.length!=0){$.add.vmsk=p(O,M,F);$.d6();$.vT(o)}$.Ip("group");
$.IT=24;$.add.lsct=d7.W$;o.T.push(o.gB());for(var T=0;T<f.length;T++)E(f[T],o,M,N)}}if(F){var ge=F.objectBlendingMode,iN=F.objectOpacity,a8=F.fillTint,f6=!1;
if(ge)$.fR=x(ge[0]);if(iN)$.S2=Math.round($.S2*iN[0]/100);if(!H&&a8)$.S2=Math.round($.S2*a8[0]/100);
var dK=JSON.parse(fL.default);for(var T=0;T<fL.order.length;T++)dK[fL.oN[T]]={t:"VlLs",v:[]};var fS="dropShadow innerShadow satin bevel iglow oglow".split(" "),cf="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var T=0;T<fS.length;T++){var iG=fS[T];if(F[iG]&&F[iG][0]){var eC=F[iG],i0=135,e5=10;f6=!0;var kH=JSON.parse(fL.JC[fL.order.indexOf(cf[T])]);
dK[fL.oN[fL.order.indexOf(cf[T])]].v.push({t:"Objc",v:kH});if(F[iG+"Color"])kH.Clr.v=d(F[iG+"Color"][0]);
else if(fS[T]=="iglow"||fS[T]=="oglow")kH.Clr.v=B.Vh.WZ({n:255,i:255,b:255});if(F[iG+"ColorH"])kH.hglC.v=d(F[iG+"ColorH"][0]);
if(F[iG+"ColorS"])kH.sdwC.v=d(F[iG+"ColorS"][0]);if(F[iG+"BMode"])kH.Md.v.BlnM=cc.e_(x(F[iG+"BMode"][0]));
if(F[iG+"BModeH"])kH.hglM.v.BlnM=cc.e_(x(F[iG+"BModeH"][0]));if(F[iG+"BModeS"])kH.sdwM.v.BlnM=cc.e_(x(F[iG+"BModeS"][0]));
if(F[iG+"Opacity"])kH.Opct.v.val=F[iG+"Opacity"][0];if(F[iG+"OpacityH"])kH.hglO.v.val=F[iG+"OpacityH"][0];
if(F[iG+"OpacityS"])kH.sdwO.v.val=F[iG+"OpacityS"][0];if(F[iG+"Size"])kH.blur.v.val=F[iG+"Size"][0];
if(F[iG+"Angle"])i0=F[iG+"Angle"][0];if(F[iG+"Dist"])e5=F[iG+"Dist"][0];if(F[iG+"DX"]){var gA=F[iG+"DX"][0],bW=F[iG+"DY"][0];
e5=Math.round(Math.sqrt(gA*gA+bW*bW));i0=Math.round(Math.atan2(bW,-gA)*180/Math.PI)}if(kH.lagl)kH.lagl.v.val=i0;
if(kH.Dstn)kH.Dstn.v.val=e5;if(kH.uglg)kH.uglg.v=!1;if(F[iG+"Invert"])kH.Invr.v=F[iG+"Invert"][0];else if(fS[T]=="satin")kH.Invr.v=!1;
if(F[iG+"Alt"])kH.Lald.v.val=F[iG+"Alt"][0];if(F[iG+"Depth"])kH.srgR.v.val=F[iG+"Depth"][0];if(F[iG+"Choke"])kH.Ckmt.v.val=F[iG+"Choke"][0]}}if(f6)$.add.lmfx=dK}if(Z.name)$.Ip(Z.name);
else if(F&&F.name)$.Ip(F.name[0]);o.T.push($)}function L(Z,o,u,N,M){Z.Ip("path");Z.IT|=16;Z.add.vmsk=p(N,M,u);
var O=Z.add.vstk=fL.gL.UX(),F=B.Vh.WZ({n:0,i:0,b:0});if(u){var W=u.strokeSwatch,f=u.fillSwatch,$=u.basicFeather,H=u.basicFeatherWidth,A=u.strokeWeight;
O.strokeEnabled.v=W!=null;O.fillEnabled.v=f!=null;if($)Z.add.vmsk.jC=H?H[0]:9;if(W){O.strokeStyleLineWidth.v.val=A?A[0]:1;
F=d(W[0]);O.strokeStyleContent.v.Clr.v=F}if(f){F=d(f[0])}}if(F)Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:F}};
Z.d6();Z.vT(o)}function p(Z,o,u){var N=new s.eo,M=N.z;for(var O=0;O<Z.length;O++){var F=Z[O],W=F[0].length,f=F[1]==0;
if(W==0)continue;var $=f?0:3;M.push({c:$,length:W,Jb:0,rH:2,rd:0,O1:0});for(var T=0;T<W;T++){var H=F[0][T],A=H[0],G=new fq(H[1],H[2]),l=new fq(H[3],H[4]),K=new fq(H[5],H[6]);
if(A==0||A==1)M.push({c:$+2,NA:G,Q:l,Xb:K});else if(A==2)M.push({c:$+2,NA:G,Q:G,Xb:G});else throw A}}B.s.Ma(M,o);
return N}return e}();var he=function(h){function e(j,E){var L=[];for(var T=0;T<9;T++){var p=b.d$(j,E+T*4);
if(T%3==2)L.push((p>>>30)+(p&1073741823)/1073741823);else L.push((p>>>16)+(p&65535)/65535)}return L}async function v(j,E,L,p,Z,o){var u={},N=b.d$,M=b.hm;
if(E==null){E=await J(j,L)}var O=p-L;while(p<Z){var F=O,W=b.d$(E,O);O+=4;if(W==0){W=b.d$(E,O);O+=4}var f=b.RZ(E,O,4);
O+=4;if(W==0)throw"e";if(W==1){W=b.PF(E,O);O+=8}var $=F+W,H="".padStart(o,"\t");if(f!="mdat"&&$>E.byteLength){E=await J(j,L,$)}var A={};
if(f=="mvhd"){var G=E[O];if(G!=0)throw"e";O+=4;A.a1W=N(E,O);O+=4;A.azI=N(E,O);O+=4;A.r5=N(E,O);O+=4;
A.duration=N(E,O);O+=4;A.Qm=N(E,O);O+=4;A.volume=M(E,O);O+=2;O+=10;A.afz=e(E,O);O+=4*9;A.arV=[];for(var T=0;
T<6;T++)A.arV.push(N(E,O+T*4));O+=4*6;A.al$=N(E,O);O+=4}else if(f=="tkhd"){var G=E[O];if(G!=0)throw"e";
O+=4;A.a1W=N(E,O);O+=4;A.azI=N(E,O);O+=4;A.ahi=N(E,O);O+=4;O+=4;A.duration=N(E,O);O+=4;O+=8;A.L=M(E,O);
O+=2;A.ax$=M(E,O);O+=2;A.volume=M(E,O);O+=2;O+=2;A.afz=e(E,O);O+=4*9;A.VA=N(E,O)>>>16;O+=4;A.qw=N(E,O)>>>16;
O+=4}else if(f=="mdhd"){A.IT=N(E,O);O+=4;A.a1W=N(E,O);O+=4;A.azI=N(E,O);O+=4;A.r5=N(E,O);O+=4;A.duration=N(E,O);
O+=4;A.lang=M(E,O);O+=2;A.rB=M(E,O);O+=2}else if(f=="hdlr"){var l=N(E,O);O+=4;if(l!=0)throw l;A.R4=b.RZ(E,O,4);
O+=4;A.aHJ=b.RZ(E,O,4);O+=4;A.aAT=N(E,O);O+=4;A.IT=N(E,O);O+=4;A.ajE=N(E,O);O+=4;var K=O;while(E[K]!=0)K++;
A.name=b.RZ(E,O,K-O);O+=K-O+1}else if(f=="stsd"){var l=N(E,O);O+=4;if(l!=0)throw l;var U=N(E,O);O+=4;
if(U!=1)throw U;var z=N(E,O);O+=4;A.G9=b.RZ(E,O,4);O+=4;if(A.G9=="mett"){A.aDU=b.RZ(E,O,$-O)}else{for(var T=0;
T<6;T++)if(E[O+T]!=0)throw"e";O+=6;A.a9z=M(E,O);O+=2;A.a1v=M(E,O);O+=2;A.a7E=M(E,O);O+=2;A.azJ=N(E,O);
O+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(A.G9)!=-1){A.a5C=N(E,O);
O+=4;A.avs=N(E,O);O+=4;A.anu=[M(E,O),M(E,O+2)];O+=4;A.aG2=[N(E,O)/(1<<16),N(E,O+4)/(1<<16)];O+=8;var q=N(E,O);
O+=4;if(q!=0)throw"e";var P=M(E,O);O+=2;if(P!=1)throw"e";var g=E[O];O++;A.axM=b.RZ(E,O,g);O+=31;A.ao0=M(E,O);
O+=2;var a=M(E,O);O+=2;if(a!=65535)throw"e";if(O!=$)A.wH=await v(j,E,L,L+O,L+$,o+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(A.G9)!=-1){A.Ar=M(E,O);
O+=2;A.aes=M(E,O);O+=2;var w=M(E,O);O+=2;if(w!=0&&w!=65534)throw w;var y=M(E,O);O+=2;if(y!=0)throw y;
A.a5K=N(E,O)/(1<<16);O+=4;if(O!=$)A.wH=await v(j,E,L,L+O,L+$,o+1)}else if(A.G9=="CTMD"){A.J=E.slice(O,$)}else if(A.G9=="tx3g"||A.G9=="text"||A.G9=="mebx"){}else if(A.G9=="tmcd"){}else if(A.G9=="CRAW"){}else if(A.G9=="sowt"){}else throw JSON.stringify(A.G9)}}else if(f=="stts"||f=="stsz"||f=="stco"||f=="stsc"||f=="ctts"||f=="elst"){var l=N(E,O),S=0,Y=0;
O+=4;if(l!=0)throw l;if(f=="stsz"){S=N(E,O);O+=4}var i=N(E,O)*(f=="stsc"||f=="elst"?3:f=="stts"||f=="ctts"?2:1);
O+=4;A=[];for(var T=0;T<i;T++){if(S!=0)A.push(S);else{if(f=="elst"){if(T%3==2){var C=N(E,O);C*=1/(1<<16);
A.push(C)}else A.push(b.Pp(E,O))}else A.push(N(E,O));O+=4}}for(var T=0;T<i;T++)Y+=A[T]}else if(f=="co64"){var l=N(E,O);
O+=4;if(l!=0)throw l;var i=N(E,O);O+=4;A=[];for(var T=0;T<i;T++){A.push(b.PF(E,O));O+=8}}else if(f=="moov"||f=="trak"||f=="mdia"||f=="minf"||f=="dinf"||f=="stbl"||f=="uuid"||f=="edts"){if(f=="uuid")O+=16;
A=await v(j,E,L,L+O,L+$,o+1)}else if(f=="CMT1"||f=="CMT2"||f=="CMT3"||f=="CMT4"){A=UTIF.decode(E.slice(O,$))}else if(f=="stss"){A.d=O+L;
A.w_=W;A.aza=N(E,O+4)}else{A.d=O+L;A.w_=W}O=$;if(f=="trak"||f=="free"||f=="uuid"){if(u[f]==null)u[f]=[];
u[f].push(A)}else{if(u[f]!=null)throw f;u[f]=A}p=O+L;if(O>=E.byteLength){L+=O;O=0;E=await J(j,L)}}return u}async function J(j,E,L){if(L==null){L=8*1024*1024}var p=await j.slice(E,E+L),Z=await p.arrayBuffer();
return new Uint8Array(Z)}async function m(j){return await v(j,null,0,0,j.size,0)}function d(j,E){var L=j.mdia.minf.stbl,p=L.stsc,Z=0,o=0;
for(var T=0;T<p.length;T+=3){var u=(T+3<p.length?p[T+3]:1e4)-p[T],N=o+u*p[T+1];if(o<=E&&E<N){while(o+p[T+1]<=E){Z++;
o+=p[T+1]}break}Z+=u;o=N}var M=L.stco;if(M==null)M=L.co64;var O=M[Z];while(o<E){O+=L.stsz[o];o++}return[O,L.stsz[E]]}function x(j,E){var L=j.moov.trak,p=[];
for(var T=0;T<L.length;T++){if(L[T].mdia.hdlr.aHJ==E){p.push(L[T])}}return p}return{kq:m,Jq:d,getTracks:x}}();
function eu(h,e){this.a7=!1;this.c9=h;this.su;this.aAv=0;this.LF=0;this.lF=0;this.position=0;this.yF=[];
this.P9=[];this.YY=[];this.Rd=[];this.ew=!0;this.atl=0;this.Se=10;this.Hc=6;this._I=[];this.a9=-2;this.X9=[];
this.aml;this.uq;this.Ua=e;this.Gp;this.fg;this.aGD=-1;this.gw=null;this.frames;this.Or=null;this.MM=null;
this.O2=null}eu.prototype.Rf=function(h){this.X9.push(h)};eu.prototype.azU=function(h,T){var e=0,v=h.getUint8(T,!1);
T+=1;e=v&127;var J=v>>7;while(J==1){v=h.getUint8(T,!1);T+=1;J=v>>7;var m=v&127;e=e<<7|m}return[e,T]};
eu.prototype.aGl=function(h){this.Yf={};var e=new DataView(h.buffer),T=4;T+=4;while(T<e.byteLength){var v=e.getUint8(T,!1);
T+=1;var J=this.azU(e,T),m=J[0];T=J[1];if(v==3){T+=2;T+=1}else if(v==4){this.Yf.objectType=e.getUint8(T,!1);
T+=1;this.Yf.streamType=e.getUint8(T,!1)>>2;T+=1;T+=3;this.Yf.maxBitrate=e.getUint32(T,!1);T+=4;this.Yf.avgBitrate=e.getUint32(T,!1);
T+=4}else if(v==5){this.Yf.decoderSpecificInfo=h.slice(T,T+m);T+=m}else{T+=m}}};eu.prototype.asU=function(h){var e=null,d=0;
if(h.a1M){if(h.edts.a2l)e=h.edts.a2l}if(e==null){this.Or=this.frames;return}var v=this._$.moov.mvhd.r5,J=h.mdia.mdhd.r5,m=h.mdia.mdhd.duration*1e3/J/this.Dh.stsz.length;
this.gw=[];for(var T=0;T<e.length;T+=3){var x;if(e[T+1]==-1)x=-1;else x=e[T+1]*1e3/m/J;var cg=e[T]*1e3/m/v;
this.gw.push(d);this.gw.push(Math.floor(x));this.gw.push(e[T+2]);d+=Math.floor(cg)}this.Or=d;if(this.au7(this.Or-1)>this.frames-1)this.Or--;
if((d+1)*m<h.tkhd.duration*1e3/v){this.gw.push(d);this.gw.push(0);this.gw.push(1);this.Or=Math.floor(h.tkhd.duration*1e3/v/m)}};
eu.prototype.au7=function(h){if(this.gw){for(var T=this.gw.length-3;T>=0;T-=3){if(h>=this.gw[T]){if(this.gw[T+1]==-1)h=this.a9;
else if(this.gw[T+2]==0)h=this.gw[T+1];else h=h-this.gw[T]+this.gw[T+1];break}}}return h};eu.prototype.at5=async function(){this.MM=new VideoDecoder({output:bj=>this.akF(bj),error:function(v){console.log(v.message)}});
var h=this.Dh.stsd.G9;if(h=="avc1"){this.$t=this.Dh.stsd.wH.avcC;var e={codec:"avc1.640034"};e.description=new Uint8Array(await this.c9.slice(this.$t.d,this.$t.d+this.$t.w_).arrayBuffer());
this.MM.configure(e)}else{var e={codec:"vp09.00.10.08"};this.MM.configure(e)}};eu.prototype.aHE=async function(){this.O2=new AudioDecoder({output:bj=>this.Rf(bj),error:function(h){console.log(h)}});
console.assert(await AudioDecoder.isConfigSupported(this.m4));this.O2.configure(this.m4)};eu.prototype.hi=async function(){this._$=await he.kq(this.c9);
this.abc={};this.qy={};this.Gp=he.getTracks(this._$,"vide");var h=!0,E=!0;if(this.Gp.length>0){var e=this.Gp[0],v=e.tkhd;
this.Dh=e.mdia.minf.stbl;var J=this.Dh.stsd.G9;if(J=="avc1"||J=="vp09"){if(J=="avc1"&&!this.Dh.stsd.wH.avcC){console.log(J+" video codec not supported (avcC missing).");
h=!1}else{await this.akq(this.Dh.stss.d+8,this.Dh.stss.w_-8);for(var T=0;T<this.ahI.byteLength;T+=4){var m=this.ahI.getUint32(T,!1)-1;
this._I.push(m)}var d=e.mdia.mdhd.r5,x=e.mdia.mdhd.duration/d;this.frames=this.Dh.stsz.length;var j=this.frames/x;
this.asU(e)}}else{console.log(J+" video codec not supported.");h=!1}}this.fg=he.getTracks(this._$,"soun");
if(this.fg.length>0){var L=this.fg[0],p=L.mdia.minf.stbl,Z,o=p.stsd.Ar;if(p.stsd.G9=="mp4a"){if(p.stsd.wH.esds){this.aiS=p.stsz.length;
var u=p.stsd.wH.esds.d,N=p.stsd.wH.esds.w_,M=await this.c9.slice(u-4,u+N+4),O=await M.arrayBuffer(),F=new Uint8Array(O),W=null;
this.aGl(F);Z="mp4a.";if(this.Yf.objectType==64){Z+=this.Yf.objectType.toString(16);Z+=".";Z+=(this.Yf.decoderSpecificInfo[0]>>3).toString();
W=this.Yf.decoderSpecificInfo}else{Z+=this.Yf.objectType.toString(16).toUpperCase()}if(W){var f=W[0]>>3;
if(f==31){var $=(W[0]&7)<<3|W[1]>>5;f=32+$;var H=W[1]&31>>1;if(H==15){o=(W[4]&1)<<3|W[5]>>5}else{o=(W[1]&1)<<3|W[2]>>5}}else{var H=(W[0]&7)<<1|W[1]>>7;
if(H==15){o=(W[4]&127)>>3}else{o=(W[1]&127)>>3}}}this.m4={codec:Z,numberOfChannels:o,sampleRate:p.stsd.a5K};
if(W){this.m4.description=W}}else{console.log("Audio codec not supported.");E=!1}}else{console.log("Audio codec not supported.");
E=!1}}this.xt={};if(h&&this.Gp.length>0){this.xt.GL={Gp:1,VR:this.Or,Qm:j,width:v.VA,height:v.qw}}if(E&&this.fg.length>0){this.xt.DR={Gp:o,Qm:p.stsd.a5K,VR:L.mdia.mdhd.duration}}if(!this.Ua){this.aml=new OffscreenCanvas(this.xt.GL.width,this.xt.GL.height);
this.uq=this.aml.getContext("2d",{a0A:!0});this.Se=10;this.Hc=6}this.a7=!0};eu.prototype.Ze=function(h){var e=this.P9[this.position];
if(this.ew&&e==this.atl)this.ew=!1;if(!this.Ua){if(this.YY[e]){this.uq.drawImage(h,0,0);var v=this.uq.getImageData(0,0,this.xt.GL.width,this.xt.GL.height).data}if(this.Rd[this.position]==0)h.close()}try{if(this.yF[e]){if(this.Ua){this.yF[e](h)}else if(this.YY[e]){this.yF[e](v)}}var J=this.position-this.Se;
if(J>=0){var m=this.P9[J];delete this.qy[m];delete this.yF[m];this.YY[m]=!1}this.position++}catch(j3){console.log(e);
console.log(this.yF[e]);console.log(j3)}};eu.prototype.akF=async function(h){if(this.Rd[this.position]==0){if(this.Ua){createImageBitmap(h).then(img=>{this.Ze(img)});
h.close()}else{this.Ze(h)}}else{var e=this.Rd[this.position];createImageBitmap(h,{resizeWidth:h.ayz>>e,resizeHeight:h.a2y>>e}).then(img=>{this.Ze(img)});
h.close()}};eu.prototype.akq=async function(h,e){this.azF=await this.c9.slice(h,h+e).arrayBuffer();this.ahI=new DataView(this.azF)};
eu.prototype.en=async function(){if(!this.a7){await this.hi()}return this.xt};eu.prototype.ju=async function(h,e){var v=Math.min(e+250,this.frames-1),J=he.Jq(h,e),m=he.Jq(h,v),d=await this.c9.slice(J[0],m[0]+m[1]),x=await d.arrayBuffer();
this.su=new Uint8Array(x);this.aAv=e;this.LF=v;this.lF=J[0];return};eu.prototype.axE=async function(h,e,v){for(var T=e;
T<v;++T){if(T>=this.LF){await this.ju(h,T)}var J=this._I.indexOf(T),m=he.Jq(h,T),d=this.su.slice(m[0]-this.lF,m[0]+m[1]-this.lF),x=new EncodedVideoChunk({timestamp:T,duration:1e3,type:J!=-1?"key":"delta",data:d});
if(this.MM.state=="configured"){try{this.MM.decode(x)}catch(v){console.log("CAUGHT unconfigured");console.log(v);
console.log(x)}}else{console.log("unconfigured");delete d}delete d}if(v==this.frames){await this.MM.flush()}};
eu.prototype.arE=async function(h,e,gX=0){if(!this.a7){await this.hi()}if(!this.MM){await this.at5()}if(this.Gp.length<=h){console.log("Requested track does not exist");
return}var v=this.Gp[h],d,x,j;if(e>=this.xt.GL.VR||e<0){console.log("Requested frame out of range");
return}var J=e;e=this.au7(e);this.YY[e]=!0;var m=e-this.a9;if(this.ew){m=1;this.atl=e}if(e!=this.a9+1){x=this._I[this._I.length-1];
for(var T=0;T<this._I.length;++T){if(e<this._I[T]){x=this._I[T-1];break}}if(x==this.aGD){if(e>this.P9[this.P9.length-1]){x=this.P9[this.P9.length-1]+1}else if(this.qy[e.toString()]){x=this.P9[this.P9.length-1]+1}else{for(var T=this.P9.length-this.Hc;
T<this.P9.length;++T){if(this.P9[T]==e){x=this.P9[this.P9.length-1]+1;break}}}}else{this.aGD=x;for(var T=this.P9.length-this.Hc;
T<this.P9.length;++T){if(this.P9[T]==e){x=this.P9[this.P9.length-1]+1;break}}}}else{x=0;if(this.P9.length>0){x=this.P9[this.P9.length-1]+1}}if(x<this.frames){j=Math.min(e+this.Hc,this.frames);
for(var T=x;T<j;++T){this.qy[T]=new Promise(function(E,L){d=E});this.yF[T]=d;this.P9.push(T);this.Rd.push(gX);
if((T-e)%m==0)this.YY[T]=!0}if(x>=this.LF||j<this.aAv){await this.ju(v,x)}this.axE(v,x,j)}this.a9=e;
if(this.ew)await new Promise(resolve=>setTimeout(resolve,200));if(this.ew){this.Se+=10;this.Hc+=6;this.arE(h,J+1,gX)}return this.qy[e.toString()]};
eu.prototype.a9s=async function(h,e,v){if(!this.O2){await this.aHE()}if(this.fg.length<=h){console.log("Requested audio track does not exist");
return}var J=this.fg[h],m=J.mdia.minf.stbl.stts,d=null,x=null,j=0,E=0;for(var T=0;T<m.length;T+=2){if(d==null&&j+m[T]*m[T+1]>=e){d=Math.ceil(E+(e-j)/m[T+1])}if(x==null&&j+m[T]*m[T+1]>=v){x=Math.ceil(E+(v-j)/m[T+1])}if(d&&x){break}j+=m[T]*m[T+1];
E+=m[T]}var L=he.Jq(J,d),p=he.Jq(J,x),Z=await this.c9.slice(L[0],p[0]+p[1]),o=await Z.arrayBuffer(),u=new Uint8Array(o);
for(var T=d;T<x;++T){var N=he.Jq(J,T),M=u.slice(N[0]-L[0],N[0]+N[1]-L[0]),O=new EncodedAudioChunk({timestamp:T,duration:1e3,type:"key",data:M});
try{this.O2.decode(O)}catch(j3){console.log("Error decoding audioframe "+T.toString()+". "+j3.message)}}try{await this.O2.flush()}catch(j3){console.log("CAUGHT flush, but returning");
return this.X9}return this.X9};function ft(h,e,v){this.xt=e;this.BQ=h;this.a7U=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.abb=40;this.VA,this.qw;this.w5;this.fw;this.Bu;this.awa;this.description;this.Ef;this.HF;this.HJ;
this.WA;this.Qf;this.C1;this.jU=v;this.Tz;this.OL;this.Ik;this.a3H;this.E7;if(this.xt.GL){this.avT()}if(this.xt.DR){this.aao()}}ft.prototype.ae7=function(h){return new Uint8Array([h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)]).buffer};
ft.prototype.aAl=function(h){var e=new Uint32Array([h]),v=new Uint8Array(e.buffer);return new Uint8Array([v[3],v[2],v[1],v[0]])};
ft.prototype.XR=function(h){this.Ik[this.OL]=h;++this.OL};ft.prototype.hX=function(h){this.Ik[this.OL]=h>>8&255;
this.Ik[this.OL+1]=h&255;this.OL+=2};ft.prototype.aA0=function(h){this.Ik[this.OL]=h>>16&255;this.Ik[this.OL+1]=h>>8&255;
this.Ik[this.OL+2]=h&255;this.OL+=3};ft.prototype.wg=function(h){this.Ik[this.OL]=h>>24&255;this.Ik[this.OL+1]=h>>16&255;
this.Ik[this.OL+2]=h>>8&255;this.Ik[this.OL+3]=h&255;this.OL+=4};ft.prototype.eY=function(h){this.Tz.push(this.OL);
this.OL+=4;this.Zc(h)};ft.prototype.Zc=function(h){for(var T=0;T<h.length;++T){this.Ik[this.OL]=h.charCodeAt(T);
++this.OL}};ft.prototype.ahn=function(h){this.Ik.set(new Uint8Array(h),this.OL);this.OL+=h.byteLength};
ft.prototype.nf=function(){var h=this.OL;this.OL=this.Tz.pop();this.wg(h-this.OL);this.OL=h};ft.prototype.a3r=function(h,e){if(!this.description&&e){if(e.description){this.description=e.description}if(e.decoderConfig&&e.decoderConfig.description){this.description=e.decoderConfig.description}}var v=new ArrayBuffer(h.byteLength);
h.copyTo(v);this.DC(v);this.w5.push({duration:h.duration,timestamp:h.timestamp,type:h.type,byteLength:h.byteLength});
if(h.type=="key"){this.Bu.push(this.w5.length)}};ft.prototype.Rf=function(h,e){if(!this.Ef&&e){if(e.decoderConfig){this.Ef=e.decoderConfig}}var v=new ArrayBuffer(h.byteLength);
h.copyTo(v);this.a5J(v);this.fw.push({duration:h.duration,timestamp:h.timestamp,type:h.type,byteLength:h.byteLength});
if(h.type=="key"){this.awa.push(this.fw.length)}};ft.prototype.DC=function(h){var e=new Uint8Array(this.HF.byteLength+h.byteLength);
e.set(new Uint8Array(this.HF));e.set(new Uint8Array(h),this.HF.byteLength);this.HF=e.buffer;if(this.HF.byteLength>20*1024*1024){this.BQ.write(this.HF);
this.HF=new Uint8Array}};ft.prototype.a5J=function(h){var e=new Uint8Array(this.HJ.byteLength+h.byteLength);
e.set(new Uint8Array(this.HJ));e.set(new Uint8Array(h),this.HJ.byteLength);this.HJ=e.buffer};ft.prototype.awT=function(){this.Tz=[];
var h=this.abb,e=[],v={},J=9e4,m=this.w5.length,d=this.Bu.length,x=-1,E=!1,N=1;for(var T=0;T<this.w5.length;
++T){this.WA+=this.w5[T].duration/1e3;this.C1+=this.w5[T].byteLength;if(this.w5[T].duration!=x){if(T!=0){e.push(v)}x=this.w5[T].duration;
v={duration:9e4*this.w5[T].duration/1e6,sampleCount:1}}else{v.sampleCount=v.sampleCount+1}}this.C1+=8;
e.push(v);var j=e.length;if(this.xt.DR){E=!0}if(E){var L=[],p=this.fw.length;this.Qf=0;var Z=this.Ef.sampleRate,x=-1;
for(var T=0;T<this.fw.length;++T){this.Qf+=this.fw[T].duration/1e3;this.C1+=this.fw[T].byteLength;var o=Math.round(Z*this.fw[T].duration/1e6);
if(o!=x){if(T!=0){L.push(v)}x=o;v={duration:o,sampleCount:1}}else{v.sampleCount=v.sampleCount+1}}L.push(v);
var u=L.length}var M=579+this.description.byteLength+4*m+4*m+4*d+8*j;if(E){M+=426+this.Ef.description.byteLength+4*p+4*p+8*j;
N=2}this.Ik=new Uint8Array(M);this.OL=0;this.eY("moov");this.eY("mvhd");this.wg(0);this.wg(0);this.wg(0);
this.wg(1e3);this.wg(this.WA);this.wg(65536);this.hX(256);this.hX(0);this.wg(0);this.wg(0);this.wg(65536);
this.wg(0);this.wg(0);this.wg(0);this.wg(65536);this.wg(0);this.wg(0);this.wg(0);this.wg(1073741824);
this.wg(0);this.wg(0);this.wg(0);this.wg(0);this.wg(0);this.wg(0);this.wg(2);this.nf();for(var O=0;O<N;
++O){this.eY("trak");this.eY("tkhd");this.wg(7);this.wg(0);this.wg(0);this.wg(1);this.wg(0);if(O==1)this.wg(this.Qf);
else this.wg(this.WA);this.wg(0);this.wg(0);this.hX(0);this.hX(0);this.hX(256);this.hX(0);if(O==1){this.wg(1);
this.wg(0);this.wg(0);this.wg(0);this.wg(1);this.wg(0);this.wg(0);this.wg(0);this.wg(1);this.wg(this.VA*0);
this.wg(this.qw*0)}else{this.wg(65536);this.wg(0);this.wg(0);this.wg(0);this.wg(65536);this.wg(0);this.wg(0);
this.wg(0);this.wg(1073741824);this.wg(this.VA*65536);this.wg(this.qw*65536)}this.nf();this.eY("mdia");
this.eY("mdhd");this.wg(0);this.wg(0);this.wg(0);if(O==1){this.wg(this.Ef.sampleRate);this.wg(this.Qf/1e3*this.Ef.sampleRate)}else{this.wg(J);
this.wg(this.WA/1e3*J)}this.XR(85);this.XR(196);this.hX(0);this.nf();this.eY("hdlr");this.wg(0);this.wg(0);
if(O==1){this.Zc("soun");this.wg(0);this.wg(0);this.wg(0);this.Zc("SoundHandler");this.XR(0)}else{this.Zc("vide");
this.wg(0);this.wg(0);this.wg(0);this.Zc("VideoHandler");this.XR(0)}this.nf();this.eY("minf");if(O==1){this.eY("smhd");
this.wg(0);this.hX(0);this.hX(0);this.nf()}else{this.eY("vmhd");this.wg(1);this.hX(0);this.hX(0);this.hX(0);
this.hX(0);this.nf()}this.eY("dinf");this.eY("dref");this.wg(0);this.wg(1);this.eY("url ");this.wg(1);
this.nf();this.nf();this.nf();if(O==1){this.eY("stbl");this.eY("stsd");this.wg(0);this.wg(1);this.eY("mp4a");
this.hX(0);this.hX(0);this.hX(0);this.hX(1);this.wg(0);this.wg(0);this.hX(this.Ef.numberOfChannels);
this.hX(16);this.hX(0);this.hX(0);this.hX(this.Ef.sampleRate);this.hX(0);this.eY("esds");this.wg(0);
this.XR(3);this.XR(25);this.hX(0);this.XR(0);this.XR(4);this.XR(17);this.XR(64);this.XR(21);this.aA0(0);
this.wg(16e4);this.wg(16e4);this.XR(5);this.XR(2);this.ahn(this.Ef.description);this.XR(6);this.XR(1);
this.XR(2);this.nf();this.nf();this.nf();this.eY("stts");this.wg(0);this.wg(u);for(var T=0;T<u;++T){this.wg(L[T].sampleCount);
this.wg(L[T].duration)}this.nf();this.eY("stsc");this.wg(0);this.wg(1);this.wg(1);this.wg(1);this.wg(1);
this.nf();this.eY("stsz");this.wg(0);this.wg(0);this.wg(p);for(var T=0;T<p;++T){this.wg(this.fw[T].byteLength)}this.nf();
this.eY("stco");this.wg(0);this.wg(p);for(var T=0;T<p;++T){this.wg(h);h+=this.fw[T].byteLength}this.nf();
this.nf()}else{this.eY("stbl");this.eY("stsd");this.wg(0);this.wg(1);this.eY("avc1");this.hX(0);this.hX(0);
this.hX(0);this.hX(1);this.hX(0);this.hX(0);this.wg(0);this.wg(0);this.wg(0);this.hX(this.VA);this.hX(this.qw);
this.wg(4718592);this.wg(4718592);this.wg(0);this.hX(1);for(var T=0;T<8;++T){this.wg(0)}this.hX(24);
this.hX(-1);this.eY("avcC");this.ahn(this.description);this.nf();this.nf();this.nf();this.eY("stts");
this.wg(0);this.wg(j);for(var T=0;T<j;++T){this.wg(e[T].sampleCount);this.wg(e[T].duration)}this.nf();
this.eY("stsc");this.wg(0);this.wg(1);this.wg(1);this.wg(1);this.wg(1);this.nf();this.eY("stsz");this.wg(0);
this.wg(0);this.wg(m);for(var T=0;T<m;++T){this.wg(this.w5[T].byteLength)}this.nf();this.eY("stco");
this.wg(0);this.wg(m);for(var T=0;T<m;++T){this.wg(h);h+=this.w5[T].byteLength}this.nf();this.eY("stss");
this.wg(0);this.wg(d);for(var T=0;T<d;++T){this.wg(this.Bu[T])}this.nf();this.nf()}this.nf();this.nf();
this.nf()}this.nf();return};ft.prototype.acC=async function(h){console.assert(await VideoEncoder.isConfigSupported(h))};
ft.prototype.avT=function(){var h=Date.now(),e=this.xt.GL.width,v=this.xt.GL.height;this.VA=e;this.qw=v;
this.description=null;this.Bu=[];this.w5=[];this.WA=0;this.C1=0;this.HF=new Uint8Array;this.DC(new Uint8Array(this.a7U));
this.DC(this.aAl(0).buffer);this.DC(this.ae7("mdat"));this.NE=new VideoEncoder({output:(chunk,opts)=>this.a3r(chunk,opts),error:j3=>{console.log(j3)}});
var J=this.jU*this.VA*this.qw,m=J*this.xt.GL.VR,d=Math.round(J*24),x={width:this.VA,height:this.qw,codec:"avc1.420034",bitrate:d,acceleration:"prefer-hardware"};
this.acC(x);this.NE.configure(x);this.E7=0};ft.prototype.aE6=async function(h){console.assert(await AudioDecoder.aH3(h))};
ft.prototype.aao=function(){this.HJ=new Uint8Array;this.Ef=null;this.awa=[];this.fw=[];var h={codec:"mp4a.40.2",numberOfChannels:this.xt.DR.Gp,sampleRate:this.xt.DR.Qm,bitrate:16e4};
this.od=new AudioEncoder({output:(bj,c3)=>this.Rf(bj,c3),error:function(e){console.log(e)}});this.aE6(h);
this.od.configure(h)};ft.prototype.en=function(){return this.xt};ft.prototype.afk=async function(h,e,v){var J=h,m=1e6/this.xt.GL.Qm;
if(v%50==0){console.log(Math.round(v/this.xt.GL.VR*100).toString()+"%")}var d=new VideoFrame(J.buffer,{timestamp:this.E7,duration:m,format:"RGBA",codedWidth:this.VA,codedHeight:this.qw});
this.NE.encode(d);d.close();this.E7+=m;delete J;delete h;delete d};ft.prototype.ax5=async function(h,e,v,J){for(var T=0;
T<h.length;++T){this.od.encode(h[T])}};ft.prototype.finish=async function(){if(this.xt.GL){await this.NE.flush()}if(this.xt.DR){await this.od.flush()}this.awT();
this.BQ.write(this.HF);if(this.xt.DR){this.BQ.write(this.HJ)}this.BQ.write(this.Ik);this.BQ.write({c:"write",data:this.aAl(this.C1),position:this.abb-8});
return this.BQ.close()};var kW=function(){var h,e,v,J,m,d;function x(){J+=1;return v[J-1]}function j(){J+=2;
return b.Iy(v,J-2)}function E(){J+=4;return b.TB(v,J-4)}function L(M){return 512+512*M}function p(M){return 64*M}function Z(M,O){var F=[];
while(M!=-2){F.push(M);M=O[M]}return F}function o(M,O,F){var W=Z(M,F==64?d:m);if(O==null)O=W.length*F;
var f=new Uint8Array(O),$=F==64?e:h;for(var T=0;T<W.length;T++){var H=W[T],A=F==64?p(H):L(H);f.set(new Uint8Array($.buffer,A,Math.min(F,O-T*F)),T*F)}return f}function u(M,O,F,W){var f=v,$=J,g;
v=M;J=O*128;var H=b.qa(v,J,32);J+=64;var A=j();H=H.slice(0,A-2>>>1);var G=x(),l=x(),K=E(),U=E(),z=E();
for(var T=0;T<20;T++)if(x()!=0)throw T;J+=8;J+=8;var q=E(),P=E();if(E()!=0)throw"e";if(G==1||G==5){if(G==5){e=o(q,null,512)}g={};
u(M,z,g,W+1)}else if(G==2){if(P<=4096)g=o(q,P,64);else g=o(q,P,512)}else throw G;if(K!=-1)u(M,K,F,W+1);
if(U!=-1)u(M,U,F,W+1);F[H]=g;v=f;J=$}function N(M){v=h=new Uint8Array(M);J=0;var O=[208,207,17,224,161,177,26,225];
for(var T=0;T<8;T++)if(x()!=O[T])throw"e";for(var T=0;T<16;T++)if(x()!=0)throw"e";var F=j(),W=j(),f=j();
if(f!=-2)throw"big endian";var $=j();if($!=9)throw"not 512";var H=j();if(H!=6)throw"not  64";for(var T=0;
T<10;T++)if(x()!=0)throw"e";var A=E(),G=E();if(E()!=0)throw"e";var l=E();if(l!=4096)throw"e";var K=E(),U=E(),z=E(),q=E(),P=[];
for(var T=0;T<109;T++){var g=E();if(g==-1)break;P.push(g)}while(z>=0){J=L(z);for(var T=0;T<127;T++){var g=E();
if(g==-1)break;P.push(g)}z=E()}if(P.length!=A)throw"e";m=[];for(var T=0;T<A;T++){J=L(P[T]);for(var a=0;
a<128;a++){var g=E();m.push(g)}}d=[];while(K!=-2){J=L(K);for(var a=0;a<128;a++){var g=E();d.push(g)}K=m[K]}var w=o(G,null,512),y={};
u(w,0,y,0);return y["Root Entry"]}return{parse:N}}(),c={};c.A_=function(h){return window.devicePixelRatio||1};
c.im=function(h,e){return(e.ar6=="touch"?12:8)*c.A_()/h.p.e4};c.Yu=function(h,e,v){this.name=h;this.id=e;
this.IF=null;if(v!=null)this.FL=v};c.Yu.prototype.iu=function(h,e,v,J,m){};c.Yu.prototype.enable=function(h,e,v,J,m,d){var x=new g3(k.E.u,!0);
x.data={V:k.l.zq,Tv:"default"};e.a(x)};c.Yu.prototype.disable=function(h,e,v,J,m){};c.Yu.prototype.a66=function(h,e,v,J,m){return!1};
c.Yu.prototype.HL=function(h,e,v,J,m){};c.Yu.prototype.NB=function(h,e,v,J,m){};c.Yu.prototype._8=function(h,e,v,J,m){};
c.Yu.prototype.ej=function(h,e,v,J,m,d){};c.Yu.prototype.ZF=function(h,e,v,J,m){};c.Yu.prototype.lK=function(h,e,v,J){};
c.Yu.prototype._X=function(h,e,v,J){};c.Yu.prototype.W1=function(h,e){};c.Yu.prototype.ZL=function(h,e){};
c.Yu.prototype.Fb=function(h){return 0};c.Yu.prototype.oy=function(h,e,v,J,m){};c.Yu.prototype.fa=function(h,e){};
c.Yu.prototype.yz=function(h,e){return!1};c.Yu.prototype.Th=function(h,e){return!1};c.Yu.prototype.G0=function(){return!1};
c.Yu.prototype.yK=function(h,e){return!0};c.Yu.prototype.nv=function(){return null};c.Yu.prototype.Fk=function(h,e,v){};
c.Yu.prototype.aq6=function(){return!1};c.Yu.prototype.Kj=function(h,e,v,J){};c.Yu.prototype.track=function(h){var e=new g3(k.E.Fq,!0);
e.data=h;h.Mf=!0;this.IF.a(e)};c.Yu.fO=function(h,e,v,J){var m=10*c.A_()*(h.ar6=="touch"?2:1),d=h.x+m,x=h.y-m,j=B.yu.U_(e.q,v.gx,J,v.q,!0),E=B.yu.U_(e._,v.gx,J,v._,!0);
while(j.length<E.length)j=" "+j;while(j.length>E.length)E=" "+E;c.Yu.W3(d,x,[bj.get([12,41]).charAt(0)+": "+j,bj.get([12,42]).charAt(0)+": "+E],v)};
c.Yu.W3=function(h,e,v,J){function m(L,M,O,F,W,f){L.beginPath();L.moveTo(M,O+f);L.arcTo(M,O+W,M+f,O+W,f);
L.arcTo(M+F,O+W,M+F,O+W-f,f);L.arcTo(M+F,O,M+F-f,O,f);L.arcTo(M,O,M,O+f,f)}var d=c.A_(),x=Math.round,j=x(11*d),E=c.Yu.a0p,p=0;
if(E==null)E=c.Yu.a0p=document.createElement("canvas");var L=E.getContext("2d");L.font=j+"px monospace";
for(var T=0;T<v.length;T++)p=Math.max(p,L.measureText(v[T]).width);var Z=x(p+12*d),o=x((v.length*14+5)*d),u=new fP(h,e-o,Z,o);
if(E.width!=Z||E.height!=o){E.width=Z;E.height=o;L.font=j+"px monospace"}L.clearRect(0,0,Z,o);L.fillStyle="rgba(0,0,3,0.8)";
m(L,0,0,Z,o,x(4*d));L.fill();L.fillStyle="rgba(255,255,255,1)";for(var T=0;T<v.length;T++)L.fillText(v[T],x(6*d),x((T+1)*13*d));
var N=[L.getImageData(0,0,Z,o).data,u.O()];if(J)J.M.xT=[N];return N};c.Yu.a0p=null;c.Yu.a5S=function(h,e,v,J){if(e)this.IF=e;
var m=this.aHd;if(h)m=[h.q,h._,h.gx];if(v&&m)m[3]=v.Kd.XB;this.aHd=m;var d=new g3(k.E.u,!0);d.data={V:k.l.vi,I:this.id,Ou:m};
if(this.IF)this.IF.a(d)};c.Yu.afR=function(h){h.prototype._X=c.Yu.a5S;h.prototype.fa=function(e,v){if(v==dq.xo||v==dq.AY)this._X(null,null,e,null)}};
c.GA="0";c.Wm="1";c.ame="2";c.aG$="3";c.TK="5";c.aaD="6";c.asH="7";c.NR="8";c.K2="9";c.jI="10";c.Fg="11";
c.e0="12";c.Tb="13";c.gF="14";c.ajW="15";c.ou="16";c.Ya="18";c.nE="19";c.aHj="90";c.yC="20";c.I$="21";
c.QO="22";c.ty="23";c.aL="24";c.bG="25";c.p4="27";c.dY="31";c.UQ="32";c.awf="33";c.EZ="34";c.an6="35";
c.ho="36";c.D0="37";c.M0="38";c.qD="39";c.T_="40";c.Hf="41";c.gg="42";c.Iv="43";c.arG="44";c.ayV="45";
c.a4N="46";c.amG="72";c.HV="47";c.Lu="48";c.uP="51";c.LH="52";c.ua="54";c.uf="55";c.EE="56";c.A2="57";
c.SZ="58";c.I5="59";c.Ue="60";c.ZM="61";c.Sc="70";c.ly="71";c.ax6="73";c.Li="100";c.gz="101";c.bk="102";
c.TT="103";c.fT="120";c.awH="121";c.EM="230";c.ahT="231";c.V8="232";c.Yn="233";c.MP="234";c.hk="235";
c.sE="236";c.f2={};c.f2[c.ty]="tools/brush";c.f2[c.aL]="tools/pencil";c.f2[c.dY]="tools/eraser";c.Ht={PcTl:c.aL,PbTl:c.ty,moveTool:c.GA,cloneStampTool:c.p4,typeCreateOrEditTool:c.HV,artboardTool:c.Sc,marqueeRectTool:c.Wm,typeVerticalCreateOrEditTool:c.Lu,perspectiveCropTool:c.Fg,marqueeEllipTool:c.ame,eyedropperTool:c.gF,eraserTool:c.dY,pathComponentSelectTool:c.uP,lassoTool:c.TK,backgroundEraserTool:c.UQ,directSelectTool:c.LH,polySelTool:c.aaD,rectangleTool:c.ua,magneticLassoTool:c.asH,gradientTool:c.EZ,quickSelectTool:c.NR,bucketTool:c.an6,ellipseTool:c.uf,magicWandTool:c.K2,blurTool:c.ho,polygonTool:c.EE,cropTool:c.jI,sharpenTool:c.D0,lineTool:c.A2,sliceTool:c.e0,smudgeTool:c.M0,customShapeTool:c.SZ,sliceSelectTool:c.Tb,dodgeTool:c.qD,spotHealingBrushTool:c.Ya,burnInTool:c.T_,saturationTool:c.Hf,penTool:c.gg,redEyeTool:c.QO,freeformPenTool:c.Iv,rulerTool:c.ou,paintbrushTool:c.ty,handTool:c.I5,pencilTool:c.aL,zoomTool:c.ZM,objectSelectTool:c.aG$,healingBrushTool:c.nE,patchTool:c.yC,contentAwareMoveTool:c.I$,colorReplacementBrushTool:c.bG,curvaturePenTool:c.arG,rotareViewTool:c.Ue};
c.Bt=function(h,e,v){c.Yu.call(this,h,e,v);this.wK={brush:h?a2.EB():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.H=null;this.yj=null;this.T$=null;this.I0=null;this.iI=null;this.W0=null;this.yp=null;this.PW=null;
this.Hs=null;this.ya=null;this.Qp=null;this.Y2=null;this.B1=null;this.hx=1;this.o9=!1;this.kh=null;this.caller=null};
c.Bt.prototype=new c.Yu;c.Bt.prototype.Th=function(h,e){return h.fE&&e.r(dW.l$)};c.Bt.prototype.NB=function(h,e,v,J,m){if(J.r(dW.B2)){this.W0=new fq(m.x,m.y);
var d=this.wK.brush.Brsh.v,x=d.Dmtr.v.val,j=d.Hrdn!=null?d.Hrdn.v.val:-1;this.yp=[x,j,!0,B.t(this.wK.brush),m];
this.ZT(v)}};c.Bt.prototype.uL=function(h,e,v){var J=this.yp,m=h.p.e4,d=v.x-J[4].x,x=v.y-J[4].y,j=J[0],E=J[1],L=Math.abs(d)>Math.abs(x);
if(L&&J[2]){var p=Math.round(2*d/m);j+=p;v.x-=d-.5*p*m}if(!L&&!J[2]&&E!=-1){var p=Math.round(.25*x);
E+=p;v.y-=x-4*p}j=Math.max(1,j);E=J[1]==-1?-1:Math.max(0,Math.min(100,E));var Z=J[3];Z.Brsh.v.Dmtr.v.val=j;
if(E!=-1)Z.Brsh.v.Hrdn.v.val=E;this.yp=[j,E,L,Z,v];var o=d2.d5(Z,e.Zb.kk,m),u=o[1];u.x=Math.round(this.W0.x-u.q/2);
u.y=Math.round(this.W0.y-u._/2);h.M.ud=[o];var N=h.p.$$(this.W0.x,this.W0.y);h.M.gb={QD:[],M1:[N.x-j/2,N.y,N.x+j/2,N.y]};
if(E!=-1)h.M.gb.M1.push(N.x+50/m,N.y-E/2,N.x+50/m,N.y+E/2);h.GI=!0};c.Bt.prototype.ZF=function(h,e,v,J,m){if(this.id==c.yC||this.id==c.I$)return;
if(this.W0){this.W0=null;this.o4(B.t(this.yp[3]));h.M.ud=[];h.M.gb=null;h.GI=!0;return}var d=new g3(k.E.u,!0);
d.data={V:k.l.vi,I:this.id,aBm:"showBrushOpts",OL:new fq(m.oU+4,m.dG)};e.a(d)};c.Bt.prototype.o4=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.Gi,m0:dq.lc,Pz:h};this.caller.a(e)};c.Bt.pH=function(h,e,v,J,m,d){if(h==null)h="FrgC";
if(e==null)e="norm";if(v==null)v=1;if(m==null)m=!1;var x={classID:"Fl",Usng:{t:"enum",v:{FlCn:h}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(v*100)}},PrsT:{t:"bool",v:m},Md:{t:"enum",v:{BlnM:cc.e_(e)}}};
if(h=="Clr")x.Clr={t:"Objc",v:J};if(h=="contentAware")x.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(h=="Ptrn")x.Ptrn={t:"Objc",v:d};return{UH:"fill",TH:x}};c.Bt.prototype.iu=function(h,e,v,J,m){this.IF=e;
var d=v.kH.length;if(d==0&&!v.kC())return;var x=d!=0?-1-v.kH[0]:v.X[0],j=v.T[x];if(h.V=="fromAction"){var E=h.tT,L=E.TH;
if(L&&L.null&&L.null.v[0]&&L.null.v[0].v.classID=="Path"){var p=v.rx(),Z=p[0],o=p[1],u=Z[o.length==0?0:o[0]].add.vmsk;
if(E.UH=="fill"){var N=u.NH(),M=m.kc,O=this.wK,F=M>>16&255,W=M>>8&255,f=M>>0&255;this.Dk(v,j,N,F,W,f,Math.round(O.opacity*255),O.bmode,"Fill Path")}else{var $=L&&L.Prs&&L.Prs.v,H=JSON.stringify(this.wK.brush);
if($)a2.a2x(this.wK.brush,[!1,!0]);for(var A=0;A<1e3;A++){var G=B.s.n2(u.z,A,!0);if(G==-1){this.ej(v,e,m,J,null);
break}var l=u.z[G],K=u.z.slice(G,G+1+l.length),U=B.w._i(K,2).g,z=U.slice(0,8);for(var q=8;q<U.length;
q+=6)z.push(U[q-2],U[q-1],U[q],U[q+1],U[q+2],U[q+3],U[q+4],U[q+5]);var P={};P.Points=z;P.TextOnPathTRange=u.sf.slice(0);
var P=em.sx(P,2,l.c==3),g=P[0],a=v.p.IK(g[0],g[1]);if($)a.$v=0;if(A==0)this.HL(v,e,m,J,a);else this.yj.moveTo(g[0],g[1],$?0:null);
var w=g.length,y=l.c==0?w+2:w;for(var T=2;T<y;T+=2){a=v.p.IK(g[T%w],g[(T+1)%w]);a.fE=!0;if($){var S=T/y;
a.$v=2*Math.min(S,1-S)}this._8(v,e,m,J,a,this.wK.flow)}this.yj.finish();this.gt(v)}if($)this.wK.brush=JSON.parse(H)}}else if(E.UH=="fill"){var i=L.PrsT?L.PrsT.v:!1,C=j?j.add.lspf:0;
if(i&&j){j.add.lspf=C==null?1:C|1}var Y=(L.Opct?L.Opct.v.val:100)/100,_=L.Md?cc.lY(L.Md.v.BlnM):"norm";
Y=Math.round(255*Y);var t=L.Usng.v.FlCn;if(t=="contentAware"||t=="aiHeal"){if(v.K==null){alert("Select an area to heal first.");
return}if(!v.kC())return;var I=v.K;if(t=="aiHeal"&&!fu.Yz(v))return;this.Dz(v);this.Fo(v,0);if(t=="contentAware"){var r=B.U(I.R.$()*4);
B.ar(I.G,r,3);this.i4(v,"sheal",r,I.R,I.R);this.dn(v,I.R);this.finish(v,I.R)}else{this.IU=v;this.H=m;
var n=fu.M4(m,3),Q=function(){fu.av5(L.prmt?L.prmt.v:"empty background",n,v,this.a6j.bind(this),L.m0);
var i7=new g3(k.E.u,!0);i7.data={V:k.l.zw,qt:"Processing ..."};e.a(i7);this.caller=e}.bind(this);if(n||fu.nH(3))Q();
else fu.Wb(Q)}}else if(t=="Ptrn"){var D=m.T9,dG=v.K?v.K.R.O():new fP(0,0,v.q,v._),R=B.U(dG.$()*4);d4.$U(L,R,dG,D,new fq(0,0));
for(var T=0;T<R.length;T+=4)R[T+3]=Y;this.qc(v,j,v.K,R,_,[6,48,0,2])}else{var M;if(t=="FrgC")M=m.kc;
else if(t=="BckC")M=m.kF;else if(t=="Blck")M=0;else if(t=="Wht")M=16777215;else if(t=="Gry")M=8421504;
else if(t=="Clr"){var X=B.Vh.SL(L.Clr.v);M=X.n<<16|X.i<<8|X.b}var F=M>>16&255,W=M>>8&255,f=M>>0&255;
this.Dk(v,j,v.K,F,W,f,Y,_,[2,3])}if(i&&j){j.add.lspf=C==null?0:C}}else if(E.UH=="delete"){var dx=x<0?1:j.TM,I=v.K,ah;
if(I==null)return;var jv=x<0?v.Ar[-x-1]:dx<=0?null:dx==1?j.NH():j.o7(v).N,dG=dx<=0?j.R:jv.R,gB=dx<=0?I.R.UP(dG):I.R.O();
if(gB.EG())return;var hQ=gB.$();if(dx<=0){ah=B.U(hQ*4);B.YZ(j.buffer,j.R,ah,gB)}else{ah=B.U(hQ);jv.extend(gB);
B.Ww(jv.G,jv.R,ah,gB)}if(0<=x&&j.SW(v,I)){if(dx<=0){B.yV(ah,0);B.YZ(j.gc.Fv,j.gc.pS,ah,gB)}else{ah.fill(255);
B.Ww(j.gc.Fv,j.gc.pS,ah,gB)}}else{if(dx<=0){var kG=B.U(ah.length>>2);B.Bq(ah,kG,3);B.B.Y3(B.ML(I.R.$()),I.R,kG,gB,I.G,gB,1);
B.ar(kG,ah,3)}else{var iZ=B.U(I.R.$()),F=m.kF>>>16&255,W=m.kF>>8&255,f=m.kF>>0&255;iZ.fill(Math.round(B.Pr(F,W,f)));
B.B.Y3(iZ,I.R,ah,gB,I.G,gB,1)}}this.iA(v,!0,[2,2],x,dx,gB,ah)}}if(h.V=="stroke"){var bs=h.aH_,I=v.K;
if(I==null){I={R:j.R.O(),G:B.U(j.R.$())};B.Bq(j.buffer,I.G,3)}var ey=d4.$s(bs),jp=c.tM.aoN(I,Math.ceil(ey[0]),Math.ceil(ey[1])),M=B.Vh.SL(bs.Clr.v),F=Math.round(M.n),W=Math.round(M.i),f=Math.round(M.b);
this.Dk(v,j,jp,F,W,f,Math.round(255*bs.Opct.v.val/100),cc.lY(bs.Md.v.BlnM),[14,9])}if(h.V=="fillBMP"){this.qc(v,j,v.K,h.T4,h.Cs,h.SQ)}if(h.V=="draw"){var eh=h.qs,dt=eh.R;
this.Dz(v);var jN=v.T[v.X[0]];if(h.aqG&&jN&&jN.TM<=0&&v.kH.length==0){dt=c.YK.a0e(eh,v);jN.buffer=eh.buffer.slice(0);
jN.R=dt.O()}else{var jX=this.wK.bmode,jw=this.wK.opacity;this.wK.bmode="norm";this.wK.opacity=1;this.i4(v,"draw",eh.buffer,dt,dt.UP(new fP(0,0,v.q,v._)));
this.wK.bmode=jX;this.wK.opacity=jw}this.dn(v,dt);v.L9=!0;this.finish(v,dt,h.SQ,h.aqG)}};c.Bt.prototype.a6j=function(h){var e=h.target.response,v=new Uint8Array(e);
if(this.aan){this.aan=!1;e=gI.iD(b.Is(v))}else if(v[0]==123){var J=JSON.parse(b.Is(v)),T=0;console.log(J);
if(J.status=="error"){alert(J.message.prompt[0]);return}var m=J.image_links;if(m==null)m=J.output;var d=m[0],x=new XMLHttpRequest;
x.responseType="arraybuffer";while(!0){var j=new XMLHttpRequest;j.open("HEAD",d,!1);j.send();if(j.status!=404)break;
console.log("not ready");T++}x.open("GET",d,!0);x.onload=this.a6j.bind(this);this.aan=!0;x.send();return}var E=new Uint8Array(gI.wl.E2(e)[0].data),L=fu.oJ(this.IU),p=this.IU;
this.IU=null;var Z=p.T[p.X[0]],o=p.K,u=B.U(L.$()*4);B.YZ(Z.buffer,Z.R,u,L);var N=B.U(L.$());B.Ww(o.G,o.R,N,L);
B.round(N);var M=new Uint32Array(u.buffer),O=new Uint32Array(E.buffer);for(var T=0;T<M.length;T++)if(N[T]==0)O[T]=M[T];
B.JS.aJ(E,N,L,null,500);var F=new g3(k.E.u,!0);F.data={V:k.l.gv,qt:"Processing ..."};this.caller.a(F);
var W=this.wK,f=W.opacity,$=W.bmode;W.opacity=1;W.bmode="norm";this.i4(p,"draw",E,L,L);W.opacity=f;W.bmode=$;
this.dn(p,L);this.finish(p,L);if(fu.M4(this.H,3)==null)fu.O5("Inpaint",3)};c.Bt.prototype.Dk=function(h,e,v,J,m,d,x,j,E){var L=v==null?new fP(0,0,h.q,h._):v.R,p=x<<24|d<<16|m<<8|J<<0,Z=B.U(L.$()*4);
B.yV(Z,p);this.qc(h,e,v,Z,j,E)};c.Bt.prototype.qc=function(h,e,v,J,m,d){var x=h.kH.length!=0?-1-h.kH[0]:h.X[0],j=x<0?1:e.TM,E=x<0?h.Ar[-1-x]:j<=0?null:j==1?e.NH():e.o7(h).N,L=j<=0?e.R:E.R,p=v==null?new fP(0,0,h.q,h._):v.R,Z=v==null?B.RE(h.q*h._):v.G;
if(v!=null)B.yr(Z,J);var o=p.$(),u=B.U(o*4);if(j<=0)B.YZ(e.buffer,e.R,u,p);else{E.extend(p);u.fill(255);
B.WS(E.mL(p),u)}if(0<=x&&v&&e.SW(h,v)&&j<=0){var N=e.gc._c,M=e.gc._c.slice(0);if(j<=0)B.N7(J,M);else B.N7(fullc,M);
var O=new aO([2,3],this);O.data={V:"drawtemp",L:h.X[0],tf:j,acF:N,a9K:M};h.Mk(O);this.W1(O.data,h)}else{if(j<=0){var F;
if(e.o1(0)){F=B.U(p.$());B.Bq(u,F,3)}B.B.lU(m,J,p,u,p,p,1);if(e.o1(0))B.ar(F,u,3)}else{B.B.lU(m,J,p,u,p,p,1);
var W=B.U(o);B.hS(u,W);u=W}this.iA(h,!0,d,x,j,p,u)}};c.Bt.prototype.yz=function(h){if(dW.N3.indexOf(h)!=-1)return!0;
return!1};c.Bt.prototype.lK=function(h,e,v,J){var m=this.wK.brush,d=J.r(dW.B2),x=d!=this.o9,j=c.Bt.v1(m,J);
if(j!=null)this.o4(j);if(!J.r(dW.Dd)&&J.FX()!=-1&&this.id!=c.bG){var E=dW.a14(Math.round(this.wK.opacity*100),J.FX())/100;
this.KE({opacity:E},e)}if(this.id==c.NR&&x&&h!=null){var L=this.wK.qsmode;if(L==2)L=h.K==null?0:1;else L=2;
this.KE({qsmode:L},e)}this.o9=d;if(x){if(h)this.hx=h.p.e4;this.ZT(v,J)}};c.Bt.v1=function(h,e){var v=h.Brsh.v.Dmtr.v.val,J=h.Brsh.v.Hrdn!=null?h.Brsh.v.Hrdn.v.val:-1,m=h.Brsh.v.Angl.v.val,d=v,x=J,j=m,E=e.r(dW.l$);
if(e.r(dW.td)){if(E)J=25*Math.floor((J-1)/25);else{if(v<=10)v--;else if(v<=50)v=5*Math.floor((v-1)/5);
else if(v<=100)v=10*Math.floor((v-1)/10);else if(v<=200)v=25*Math.floor((v-1)/25);else if(v<=400)v=50*Math.floor((v-1)/50);
else v=100*Math.floor((v-1)/100)}}if(e.r(dW.Kg)){if(E)J=25*Math.ceil((J+1)/25);else{if(v<10)v++;else if(v<50)v=5*Math.ceil((v+1)/5);
else if(v<100)v=10*Math.ceil((v+1)/10);else if(v<200)v=25*Math.ceil((v+1)/25);else if(v<400)v=50*Math.ceil((v+1)/50);
else v=100*Math.ceil((v+1)/100)}}var L=e.r(dW.K_),p=e.r(dW.Am);if(E&&(L||p)){m=(m+360+15*(L?1:-1))%360}v=Math.max(1,v);
J=Math.max(0,Math.min(100,J));if(x==-1)J=-1;if(v!=d||J!=x||m!=j){var Z=B.t(h);Z.Brsh.v.Dmtr.v.val=v;
Z.Brsh.v.Angl.v.val=m;if(x!=-1)Z.Brsh.v.Hrdn.v.val=J;return Z}return null};c.Bt.prototype.ZT=function(h,e,v,J){if(h.Zb.list.length==0)return;
var m=this.id,d;if((m==c.p4||m==c.nE||m==c.ty||m==c.aL)&&(e!=null&&e.r(dW.B2)||this.wK.alt[0]))d="crosshair";
else{var x=this.hx,j=this.wK.brush;if((m==c.p4||m==c.nE)&&v&&this.Y2&&this.Y2.length==this.Qp.$()*4){var E=v.p.$$(J.x,J.y),L=this.ahN(E),p=this.Y2,Z=this.Qp,o=new fP(Z.x+L.x,Z.y+L.y,Z.q,Z._),u=d2.d5(j,h.Zb.kk,x),N=u[0],M=u[1],O=Math.ceil(M.q/x),F=new fP(Math.round(E.x-O/2),Math.round(E.y-O/2),O,O),W=B.U(F.$()*4),f,$;
B.YZ(p,o,W,F);if(x==1){f=W;$=F}else{var H=new aJ(x,0,0,x,0,0),A=c.L2.X_([W,F],H,!0);$=M.O();$.x=A.R.x;
$.y=A.R.y;if($.lS(A.R))f=A.buffer;else{f=B.U($.$()*4);B.YZ(A.buffer,A.R,f,$)}}var G=this.wK.opacity/255;
for(var T=0;T<f.length;T+=4)f[T+3]=G*(N[T+3]*f[T+3]);d2.adO(new Uint32Array(f.buffer),$,4278190080,4294967295);
d={wp:f,e3:$,Tc:new fq($.q/2,$._/2)}}else d=d2.Mh(j,h.Zb.kk,x,m==c.bG||m==c.UQ)}var l=new g3(k.E.u,!0);
l.data={V:k.l.zq,Tv:d};if(this.caller)this.caller.a(l)};c.Bt.prototype.enable=function(h,e,v,J){this.H=v;
this.caller=e;this.o4(B.t(this.wK.brush));if(h&&h.p.e4!=0)this.hx=h.p.e4;this.ZT(v,J)};c.Bt.prototype.fa=function(h,e){if(e==dq.lc){this.wK.brush=h.Zb.kt;
this.ZT(h)}};c.Bt.prototype.oy=function(h,e,v,J,m){for(var d in h)this.wK[d]=h[d];if(this.wK.alt[0])this.ZT(m,J,v)};
c.Bt.prototype.ag5=function(h){var e=h.kH.length!=0?-1-h.kH[0]:h.X[0],v=h.T[e],J=e<0?1:v.TM,m=e<0?h.Ar[-e-1]:J<=0?null:J==1?v.NH():v.o7(h).N,d=m?m.G:v.buffer,x=(m?m.R:v.R).O();
return[v,J,m,d,x]};c.Bt.prototype.Dz=function(h,e){this.B1=h.K==null?null:{R:h.K.R.O(),G:h.K.G.slice(0)};
var v=this.ya,J=this.ag5(h),m=J[0],d=J[1],x=J[2];this.ya=J[3];this.Hs=J[4];var j=new fP(0,0,h.q,h._),E=j.R$(this.Hs);
if((this.ub()&&d<=0||E.lS(this.Hs))&&e!=!0){if(v&&v.length==this.ya.length){v.set(this.ya);this.ya=v}else this.ya=this.ya.slice(0)}else{if(x)x.extend(E);
else m.extend(E)}};c.Bt.prototype.Fo=function(h,e){var v=this.ag5(h),J=v[1],m=v[3],d=v[4],x=[m,d],j=e!=null?e:this.wK.sfrom;
if(J<=0&&j!=0){x[1]=new fP(0,0,h.q,h._);x[0]=h.pb(j==1&&h.X[0]!=h.T.length-1?h.X[0]:null).slice(0)}this.Qp=x[1].O();
this.Y2=x[0].slice(0)};c.Bt.prototype.SG=function(h,e,v,J,m,d){if(m.fE&&J.r(dW.B2)&&this.W0==null){if(d)this.vR=v.kc;
var x=new g3(k.E.A,!0);x.I=c.gF;x.data={V:"pickhere",aDk:m};e.a(x);var j=c.ct.aiC(h,!1,!0,m,null,v.kc,this.vR,1),x=new g3(k.E.u,!0);
x.data={V:k.l.zq,Tv:j};e.a(x);return!0}return!1};c.Bt.prototype.gT=function(h,e,v,J,m,d){if(this.id!=c.NR&&!h.kC(this.caller)){this.yj=null;
return}if(this.id!=c.NR&&this.yj)return;this.Dz(h);var x=new fP(0,0,h.q,h._),j=null;if(d!=null){var E=h.kH.length!=0?-1-h.kH[0]:h.X[0],L=h.T[E],p=E<0?h.Ar[-E-1]:L.TM<=0?null:L.TM==1?L.NH():L.o7(h).N;
j=B.U(x.$()*4);if(p)c.Bt.Dl(this.ya,this.Hs,p.color,j,x);else B.YZ(this.ya,this.Hs,j,x)}var Z=this.wK;
if(this.yj&&this.id==c.NR&&Z.qsmode!=0&&h.K!=null){}else{var o=e.kc,u=e.kF;if(this.kh=="erase"){var N=o;
o=u;u=N}var M=this.id==c.NR?this.Hs:x;this.yj=new d2(Z.brush,e.Zb.kk,e.Zb.tr,{tm:m,s1:d,a9o:Z.smth*50/h.p.e4,PJ:this.id==c.aL||Z.emode==1,m8:h.m8},o,u,M,j)}if(this.id==c.NR){this.yj.aur(Z.brush,Z.qsmode==2?0:16777215)}var O=h.p.$$(J.x,J.y);
if(v.r(dW.l$)&&this.T$){var F=this.T$;this.yj.moveTo(F.x,F.y,J.$v);this.yj.lineTo(.001*F.x+.999*O.x,.001*F.y+.999*O.y,J.$v);
this.yj.lineTo(O.x,O.y,J.$v)}else this.yj.moveTo(O.x,O.y,J.$v);this.T$=O;this.I0=O.O();this.iI=new a$(O,h.p.dW)};
c.Bt.prototype.ot=function(h,e,v){if(h&&h.p.e4!=0&&h.p.e4!=this.hx){this.hx=h.p.e4;this.ZT(v)}};c.Bt.prototype.ms=function(h,e,v,J){if(this.yj==null)return;
var m=h.T[h.X[0]],d=h.p.$$(J.x,J.y),x=this.iI.Pd(d,v);if(x.lS(this.T$))return 1;this.yj.lineTo(x.x,x.y,J.$v);
this.T$=x;if(this.id==c.p4||this.id==c.nE){var j=this.ae(),E=11;j=h.p.IK(d.x-j.x,d.y-j.y);var L=E>>>1,p=new fP(Math.round(j.x)-L,Math.round(j.y)-L,E,E),Z=B.U(p.$()*4);
B.yV(16777215);for(var T=0;T<E;T++)Z[(T*E+L)*4+3]=Z[(E*L+T)*4+3]=255;h.M.xT=[[Z,p]];h.GI=!0}};c.Bt.prototype._X=function(h,e,v,J){if(v.jR!=this.id)return;
if(this.id!=c.NR||h==null)return;if(h.K==null||h.X[0]!=this.ahS){this.ahS=h.X[0];this.KE({qsmode:0},e)}};
c.Bt.prototype.dn=function(h,e){if(h.kH.length!=0){h.GI=!0;return}var v=h.T[h.X[0]];if(e==null){e=this.yj.hy();
if(this.ub()&&v.TM<=0)e=e.UP(this.Hs)}var J=v.TM;if(J==1||J==3){var m=Math.round((J==1?v.NH():v.o7(h).N).jC*2.4);
e=e.O();e.vY(m,m)}if(e.EG())return;if(J<=0){v.dn(e)}if(J==1){v.NH().c8=!0;v.vT(h,e)}if(J==3){v.dn(e)}h.dn(h.root.Tj(e,h,h.X[0],!0))};
c.Bt.prototype.ej=function(h,e,v,J,m){if(this.yj==null)return;this.yj.finish();if(this.id!=c.Ya&&this.id!=c.nE&&this.id!=c.NR)this.gt(h);
if(this.id==c.p4||this.id==c.nE){h.M.xT=[];h.GI=!0}if(this.id==c.NR){var d=h.K;h.K=this.B1;var x=new g3(k.E.A,!0);
x.data={V:"setsel",SQ:this.name,K:d};x.I=c.Wm;e.a(x);if(this.wK.qsmode==0)this.KE({qsmode:1},e)}else{this.finish(h,this.yj.kp());
this.yj=null;this.PW=null}this.dir=0};c.Bt.prototype.KE=function(h,e){for(var v in h)this.wK[v]=h[v];
var J=new g3(k.E.u,!0);J.data={V:k.l.vi,I:this.id,Ml:h};e.a(J)};c.Bt.prototype.ub=function(){var h=this.id;
return h==c.NR||h==c.dY||h==c.qD||h==c.T_||h==c.Hf||h==c.QO};c.Bt.prototype.finish=function(h,e,v,J,m){var d=h.kH.length!=0?-1-h.kH[0]:h.X[0],x=h.T[d],j=d<0?1:x.TM,E=d<0?h.Ar[-d-1]:j<=0?null:j==1?x.NH():x.o7(h).N,L=E?E.R:x.R,o;
if(this.ub()||!L.lS(this.Hs)){if(E==null){if(this.ub())x.pE();else{var p=e.R$(this.Hs),Z=B.U(p.$()*4);
B.YZ(x.buffer,x.R,Z,p);x.buffer=Z;x.R=p}}else E.pE();this.dn(h,L)}if(j<=0){o=B.U(e.$()*4);B.YZ(this.ya,this.Hs,o,e)}else{o=B.U(e.$());
o.fill(E.color);B.Ww(this.ya,this.Hs,o,e)}this.iA(h,!1,v?v:this.name,d,j,e,o,J,m)};c.Bt.prototype.iA=function(h,e,v,J,m,d,x,j,E){var L=x;
if(m>0){L=B.U(d.$()*4);c.Bt.Dl(x,d,0,L,d)}var p=new aO(v,this);p.data=[{L:J,tf:m,e3:d,ND:L}];if(j)p.data.cc=[h.K,null];
if(E)p.data.cc=[this.B1,h.K];h.Mk(p);if(e)this.W1(p.data,h);else if(j)h.K=null;c.tC.alc(h,p.data)};c.Bt.prototype.ZL=function(h,e){this.aaS(h,e,!1)};
c.Bt.prototype.W1=function(h,e){this.aaS(h,e,!0)};c.Bt.prototype.Fb=function(h){return c.tC.Fb(h)};c.Bt.prototype.aaS=function(h,e,v){if(h.V=="drawtemp"){var J=v?h.a9K:h.acF,m=e.T[h.L];
m.gc._c=J;m.lm(e,0,0,e.K);m.dn();e.L9=!0}else{c.tC.z1(e,h);if(h.cc){e.K=h.cc[v?1:0];e.AQ=!0}}e.dn()};
c.Bt.prototype.gt=function(h){this.i4(h,this.kh,this.yj.ju(),this.yj.YO(),this.yj.hy());this.dn(h)};
c.Bt.prototype.i4=function(h,e,v,J,m){var d=this.wK,x=h.T[h.X[0]],j=h.kH.length!=0?h.Ar[h.kH[0]]:x.TM<=0?null:x.TM==1?x.NH():x.o7(h).N,E=B.U(m.$()*4),L,p=x.o1(0);
if(j==null){if(this.id==c.I$&&e=="heal")B.YZ(x.buffer,x.R,E,m);else B.YZ(this.ya,this.Hs,E,m);if(p){L=B.U(m.$());
B.Bq(E,L,3)}}else{c.Bt.Dl(this.ya,this.Hs,j.color,E,m)}if(h.K&&e!="qselect"){var Z=m.UP(h.K.R),o=B.U(Z.$()*4);
if(e=="copy"){var u=B.U(Z.$());B.Ww(h.K.G,h.K.R,u,Z);B.YZ(E,m,o,Z);B.B.JD(v,J,o,Z,u,Z,0,Z,1,!1)}else{B.YZ(v,J,o,Z);
B.L_(h.K.G,h.K.R,o,Z)}v=o;J=Z}function N(F,jp){var dt=Math.max(jp.x,Math.min(jp.x+jp.q-1,F.x)),jN=Math.max(jp.y,Math.min(jp.y+jp._-1,F.y));
return new fq(dt,jN)}if(e=="idraw"||e=="ierase"){if(this.PW==null)this.PW=B.U(this.Hs.$());var M=d.samp,O=this.H.kF,F=N(this.T$,m),W=M==0?F:this.I0,f=W.x,$=W.y,H=c.GF.ku(this.ya,this.Hs,[W,new fq(f-2,$),new fq(f+2,$),new fq(f,$-2),new fq(f,$+2)]);
if(M==2)H=[[O>>>16&255,O>>>8&255,O>>>0&255,255]];var A=c.GF.p6(E,m,F,H,d.wconf),G=B.U(m.$());B.Ww(this.PW,this.Hs,G,m);
B.HE.R$(A,G,G);B.Ww(G,m,this.PW,this.Hs);B.L_(G,m,v,J);e=e.slice(1)}if(e=="erase"&&(c.tC.aEb(h)!=16777215||j))e="draw";
if(e=="draw")B.B.lU(d.bmode,v,J,E,m,m,d.opacity);else if(e=="erase"){var l=d.opacity;if(this.id==c.UQ)l=1;
var K=B.U(m.$()*4);B.YZ(v,J,K,m);if(j==null){var U=B.U(m.$());B.Bq(K,U,3);B.Co(U,l);B.ia(U);B.L_(U,m,E,m)}else{B.yV(K,0,4278190080);
B.B.lU("norm",K,m,E,m,m,l)}}else if(e=="clone"||e=="heal"){var z=this.ae(),q=this.Qp.O();q.offset(z.x,z.y);
var P=m.O();P.vY(1,1);var g=B.U(P.$()*4),a=B.U(P.$());B.YZ(v,J,g,P);B.Bq(g,a,3);B.yV(g,0);if(j==null){B.YZ(this.Y2,q,g,P);
var w=B.U(P.$());B.Bq(g,w,3);B.OE(w,a)}else c.Bt.Dl(this.Y2,q,j.color,g,P);if(e=="clone"){B.ar(a,g,3);
B.B.lU(d.bmode,g,P,E,m,m,d.opacity)}if(e=="heal"){var y=a.slice(0);B.round(y,20);var S=B.U(P.$()*4);
if(j==null)B.YZ(this.ya,this.Hs,S,P);else c.Bt.Dl(this.ya,this.Hs,j.color,S,P);B.B.JD(g,P,S,P,y,P,0,P,1,!1);
B.JS.aJ(S,y,P);B.B.JD(S,P,E,m,a,P,0,m,1,!1)}}else if(e=="dodge"||e=="burn"){var g=B.U(m.$()*4),Y=1,_=0,t=0,I=0;
B.YZ(v,J,g,m);var i=m.$()*4,C=c.Bt.qI;if(this.o9){if(e=="dodge")e="burn";else e="dodge"}var r=d.rng;
if(e=="dodge"){_=[1-Y/2,1,1+Y][r];t=[1,1/(1+Y),1][r];I=[Y/2,0,0][r]}if(e=="burn"){_=[1/(1-Y/2),1,1-Y/2][r];
t=[1,1+Y,1][r];I=[-(Y/2)/(1-Y/2),0,0][r]}for(var T=0;T<i;T+=4){var n=g[T+3];E[T+0]=C(E[T+0],_,t,I,n);
E[T+1]=C(E[T+1],_,t,I,n);E[T+2]=C(E[T+2],_,t,I,n)}}else if(e=="sponge"||e=="redeye"){var g=B.U(m.$()*4),a=B.U(m.$());
B.YZ(v,J,g,m);B.Bq(g,a,3);B.N7(E,g);var Q=d.smode;if(this.o9)Q=1-Q;var D=f8.UX("hue2");if(e=="sponge")bb.mm(D,0,[0,[-50,46][Q],[6,5][Q]]);
else bb.mm(D,1,{fW:[265,305,25,55],dD:[0,-90,-70]});var dG=hy.hc("hue2",D);hy.$a(dG,g,g,m);B.B.JD(g,m,E,m,a,m,0,m,1,!1)}else if(e=="copy")B.YZ(v,J,E,m);
else if(e=="sheal"){var g=B.U(m.$()*4),a=B.U(m.$());B.YZ(v,J,g,m);B.Bq(g,a,3);g.fill(0);var R=this.Y2,X=this.Qp;
if(j){R=B.U(X.$()*4);c.Bt.Dl(this.Y2,X,0,R,X)}else if(x.NH()&&x.NH().isEnabled){var dx=x.NH(),jv=B.U(dx.R.$()*4);
B.YZ(R,X,jv,dx.R);B.ar(dx.G,jv,3);R=jv;X=dx.R}var gB=B.Q1.aJ(R,X,a,g,m);if(gB!=0)B.YZ(R,X,g,m);if(d.sfrom==0)B.YZ(g,m,E,m);
else{B.YZ(this.ya,this.Hs,E,m);B.ar(a,g,3);B.B.lU("norm",g,m,E,m,m,1)}}else if(e=="qselect"){var hQ=this.Hs,ah=hQ.q,kG=hQ._,iZ=ah*kG,bs=this.yj.ju(),H=this.ya,ey=c.tM.yB,a=ey.wP;
a.fill(128);for(var T=0;T<iZ;T++){var jp=bs[T<<2],eh=bs[(T<<2)+3];if(eh==255&&(jp==0||jp==255))a[T]=jp}a[0]=a[ah-1]=0;
a[(kG>>>1)*ah]=a[(kG>>>1)*ah+ah-1]=0;c.as.NO(ey,!0,h);h.K={R:hQ,G:ey.K.slice(0)};h.AQ=!0}if(j==null){if(p)B.ar(L,E,3);
B.YZ(E,m,x.buffer,x.R)}else c.Bt.MT(E,m,j)};c.Bt.ae=function(){return null};c.Bt.qI=function(h,e,v,J,m){var d=h*(1/255),x=J+e*Math.pow(d,v),j=Math.round(x*m+d*(255-m));
return Math.max(0,Math.min(255,j))};c.Bt.Dl=function(h,e,v,J,m){var d=B.U(m.$());d.fill(v);B.Ww(h,e,d,m);
J.fill(255);B.WS(d,J)};c.Bt.MT=function(h,e,v){var J=B.U(e.$());B.hS(h,J);B.Ww(J,e,v.G,v.R)};c.tM=function(h,e,v){c.Yu.call(this,h,e,v);
this.wK={binop:0,feat:0,cstr:{xr:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};this.hC=new fq(-1,-1);
this.FZ=new fq(-1,-1);this.Ox="default";this.IF=null;this.vu=!1;this.wC=new i_;this._u=!1;this.HR=null;
this.Y8=null;this.MS=!1;this.Sj=!1};c.tM.prototype=new c.Yu;c.tM.prototype.nv=function(){var h=this.wK,e=[h.binop,h.feat],v=h.wconf.slice(0);
v[1]=v[1]?1:0;v[2]=v[2]?1:0;var J=v.join(",")=="16,1,1";if(e[0]==0&&e[1]==0&&J)return null;if(!J)e.push(v);
return e};c.tM.prototype.Fk=function(h,e,v){var J=this.wK;if(h[0])J.binop=h[0];if(h[1])J.feat=h[1];if(h[2]){var m=J.wconf=h[2].slice(0);
if(typeof m[1]=="number"){m[1]=m[1]==1;m[2]=m[2]==1}}this.ri(v)};c.tM.prototype.ri=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.vi,I:this.id,wK:this.wK};h.a(e)};c.Yu.afR(c.tM);c.tM.yB={key:""};c.tM.XP=function(h,e,v){var J={UH:h,TH:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(e)J.TH.T=e;if(v!=null)J.TH.AntA={t:"bool",v:v};return J};c.tM.AN=function(h,e,v){return c.tM.XP("set",{t:"Objc",v:{classID:h,Top:{t:"UntF",v:{type:"#Pxl",val:e.y}},Left:{t:"UntF",v:{type:"#Pxl",val:e.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:e.y+e._}},Rght:{t:"UntF",v:{type:"#Pxl",val:e.x+e.q}}}},v)};
c.tM.g4=function(h,e,v){var J=[],m=[],x="set";for(var T=0;T<h.length;T+=2){J.push(h[T]);m.push(h[T+1])}var d={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:J},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:m}]}}}};
if(e)x=["set","addTo","subtractFrom","interfaceWhite"][e];return c.tM.XP(x,d,v)};c.tM.a2a=function(h,e,v){var J={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h.y}}}},m=c.tM.XP("set",J);
m.TH.Tlrn={t:"long",v:e[0]};m.TH.AntA={t:"bool",v:e[1]};m.TH.Cntg={t:"bool",v:e[2]};if(v==!0)m.TH.Mrgd={t:"bool",v:v};
return m};c.tM.CZ=function(h){return c.tM.XP("set",{t:"enum",v:{Ordn:h?"Al":"None"}})};c.tM.ka=function(h,e,v){var J={classID:"null"};
if(h!="border")J.selectionModifyEffectAtCanvasBounds={t:"bool",v:v};var m={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[h[0]];
J[m]={t:"UntF",v:{type:"#Pxl",val:e}};return{UH:h,TH:J}};c.tM.tN=function(h,e,v){var J={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},m={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:e}}]};
if(v)m.v.push({t:"name",v:{classID:"Lyr",val:v}});var d=[{classID:"null",null:J,T:m},{classID:"null",null:m,T:J},{classID:"null",null:m,From:J},{classID:"null",null:m,With:J}],x=["set","add","subtract","interfaceIconFrameDimmed"];
return{UH:x[h],TH:d[h]}};c.tM.aDI=function(h,e){var v=new g3(k.E.u,!0);v.data={V:k.l.Gi,m0:dq.ik};if(!e.I7)h.a(v);
v.data={V:k.l.Gi,m0:dq.Xr};if(!e.Kd.mi)h.a(v)};c.tM.prototype.iu=function(h,e,v,J,m){c.tM.aDI(e,m);this.IF=e;
var d=h.V,x,j,E=new fP(0,0,v.q,v._),dK=!1,f6,fS,cf,iG;if(d=="fromAction"){var L=h.tT,p=L.UH,Z=L.TH,o=Z?Z.selectionModifyEffectAtCanvasBounds:null,u=o&&o.v;
if(p=="colorRange"){if(Z.Clrs){var N=Z.Clrs.v.Clrs,M=0,O=255,F=["Shdw","Mdtn","Hghl"].indexOf(N),H=.4;
if(F==0)O=60;else if(F==1){M=100;O=150}else M=190;var W=["shadows","midtones","highlights"][F],f=Z[W+"LowerLimit"],$=Z[W+"UpperLimit"];
if(f)M=f.v;if($)O=$.v;var A=Z[W+"Fuzziness"];if(A)H=A.v/100;x=c.tM.PE(v,M,O,H,!0)}else{var M=Z.Mnm.v,O=Z.Mxm.v,H;
M={hO:M.Lmnc.v,DR:M.A.v,b:M.B.v};O={hO:O.Lmnc.v,DR:O.A.v,b:O.B.v};H=Z.Fzns.v/200;x=c.tM.PE(v,M,O,H)}j=[7,8]}else if(p=="inverse"){if(v.K==null){alert("No selection!");
return}x={G:B.U(E.$()),R:E};B.Ww(v.K.G,v.K.R,x.G,x.R);B.ia(x.G);j=[7,2]}else if(p=="expand"){var G=Z.By.v.val,l=v.K.R.O();
l.vY(G,G);var K=B.U(l.$()),U=B.U(l.$());B.Ww(v.K.G,v.K.R,U,l);B.style.stroke(U,K,l,G);x={G:K,R:l};j=[7,4]}else if(p=="contract"){var G=Z.By.v.val,z=v.K.R.O();
z.vY(1,1);if(!u)z=z.UP(E);var U=B.U(z.$()),q=B.U(U.length);B.Ww(v.K.G,v.K.R,U,z);B.ia(U);B.style.stroke(U,q,z,G);
B.ia(q);x={G:q,R:z};B.pE(x);j=[7,5]}else if(p=="border"){var G=Z.Wdth.v.val;x=c.tM.aoN(v.K,G/2,G/2);
j=[7,9]}else if(p=="feather"||p=="smoothness"){var G=Z.Rds.v.val;x=c.tM.a2A(v.K,G,p=="smoothness",E,u);
j=p=="feather"?[7,6]:[19,3,0]}else if(p=="move"){var P=Z.T.v,l=v.K.R.O();l.x+=P.Hrzn.v.val;l.y+=P.Vrtc.v.val;
x={G:v.K.G,R:l};j=[7,7]}else if(p=="grow"||p=="similar"){var g=this.wK.wconf.slice(0);if(Z.Tlrn)g[0]=Z.Tlrn.v;
g[2]=p=="grow";var a=v.pb(),w=new fP(0,0,v.q,v._),y=v.K.R,S=Math.round(Math.sqrt(y.$())/10),i=B.U(w.$());
B.Ww(v.K.G,y,i,w);var C=[];for(var Y=0;Y<y._;Y+=S)for(var _=(y.$()+Y)%S;_<y.q;_+=S)if(v.K.G[Y*y.q+_]==255){var t=new fq(y.x+_,y.y+Y);
C.push(t);if(g[2])B.HE.R$(c.GF.p6(a,w,t,null,g),i,i)}if(!g[2])B.HE.R$(c.GF.p6(a,w,t,c.GF.ku(a,w,C),g),i,i);
x={G:i,R:w};j=p=="grow"?"Grow Selection":"Similar Selection";console.log(Z)}else{var I=Z.null.v,r=Z.AntA!=null&&Z.AntA.v;
function n(iF){return B.w.jg(B.WU.YO(iF,v.q,v._),!0)}function Q(iF){var hF=iF[0].arr,bz=iF[1].arr,hN={g:[],WQ:[]};
for(var T=0;T<hF.length;T++){hN.WQ.push(T==0?"M":"L");hN.g.push(hF[T],bz[T])}hN.WQ.push("Z");if(iF[0].uID=="#Prc")B.w.C(hN.g,new aJ(v.q/100,0,0,v._/100,0,0),hN.g);
return hN}var D=["set","addTo","subtractFrom","interfaceWhite"].indexOf(p),dG=Z.T?Z.T.v:null;if(dG&&dG.classID=="Elps"){x=this.atS(c.zi.ayO(n(dG)));
j=[10,4]}else if(dG&&dG.classID=="Rctn"){var R=n(dG);x={G:B.U(R.$()),R:R.O()};x.G.fill(255);j=[10,15]}else if(dG&&dG.classID=="ObSl"){var R=n(dG),X=c.tM.yB,dx=X.R,jv=X.wP,gB=dx.q,hQ=dx._,ah=R.x-dx.x,kG=ah+R.q-1,iZ=Math.max(ah,Math.min(kG,ah+kG>>>1)),bs=R.y-dx.y,ey=bs+R._-1,jp=Math.max(bs,Math.min(ey,bs+ey>>>1)),eh=Math.max(ah,0),dt=Math.min(kG,gB),jN=Math.max(bs,0),jX=Math.min(ey,hQ);
jv.fill(128);if(0<=bs)for(var _=eh;_<dt;_++)jv[bs*gB+_]=0;if(ey<hQ)for(var _=eh;_<dt;_++)jv[ey*gB+_]=0;
if(0<=ah)for(var Y=jN;Y<jX;Y++)jv[Y*gB+ah]=0;if(kG<gB)for(var Y=jN;Y<jX;Y++)jv[Y*gB+kG]=0;var jw=c.Zu.azl,i7=Math.round(R.q*jw),kn=Math.round(R._*jw);
for(var _=Math.max(0,iZ-i7);_<Math.min(gB,iZ+i7);_++)jv[jp*gB+_]=255;for(var Y=Math.max(0,jp-kn);Y<Math.min(hQ,jp+kn);
Y++)jv[Y*gB+iZ]=255;c.as.NO(X,!0);x={G:X.K.slice(0),R:dx.O()};j=[10,44]}else if(dG&&dG.classID=="Plgn"){x=this.atS(Q(dG.Pts.v.arr));
j=[10,9]}else if(dG&&dG.classID=="Pnt"){x=c.GF.aAY(v,new fq(dG.Hrzn.v.val,dG.Vrtc.v.val),[Z.Tlrn.v,r,Z.Cntg==null||Z.Cntg.v],Z.Mrgd?Z.Mrgd.v:!1);
j=[10,12]}else if(dG&&dG.Ordn=="None"){x=null;j=[7,1]}else if(dG&&dG.Ordn=="Al"){var eK=E;if(v.X.length!=0){var ee=v.root.Ix(v.X[0]);
while(ee.parent&&ee.parent.parent)ee=ee.parent;if(ee.L.add.artb)eK=ee.L.AC()}x={G:B.U(eK.$()),R:eK};
x.G.fill(255);j=[7,0]}else if(dG&&dG[0]&&dG[0].v.keyID=="WrPt"){var az={V:"frompath",d9:[-1,0,0]};this.iu(az,e,v,J,m);
return}else{var k7=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(p),al=p=="set"?dG:I,kl=al[0].v.enum,az;
if(kl=="Trsp"||kl=="Gray"||kl=="Msk"||kl=="vectorMask"||kl=="Trgt"){var b9=v.X[0];if(al.length==2)b9=h8.tV(v,al[1]);
var h9=["Trsp","Msk","vectorMask"].indexOf(kl);if(kl=="Trgt"&&v.T[b9].TM==1)h9=1;if(kl=="Gray")h9=-1;
az={V:"fromlayer",d9:[b9,h9,k7]}}else{if(al[0].t=="name"){var b9=0;for(var T=0;T<v.Ar.length;T++)if(v.Ar[T].name==al[0].v.val)b9=T;
az={V:"fromchannel",d9:[-5-b9,0,k7]}}else{var ge=["RGB","Rd","Grn","Bl"].indexOf(kl);az={V:"fromchannel",d9:[-1-ge,0,k7]}}}this.iu(az,e,v,J,m);
return}if(x){if(!r)B.round(x.G);if(Z.Fthr)x=c.tM.a2A(x,Z.Fthr.v.val,!1);if(p!="set"&&v.K!=null)x=B.HE.Vy(x,v.K,D)}}if(p=="expand"||p=="contract")if(!u&&!E.contains(x.R)){var iN=x.R.UP(E),a8=B.U(iN.$());
B.Ww(x.G,x.R,a8,iN);x.G=a8;x.R=iN}}if(d=="qmask"){dK=!0;var eC=v.l9(),w=new fP(0,0,v.q,v._);if(eC){x=eC.R.lS(w)&&B.dh(eC.G,255)?null:{R:eC.R.O(),G:eC.G.slice(0)};
f6=eC}else{x=null;fS=new s.xK;fS.color=0;fS.name="Quick Mask";fS.bx=!0;if(v.K){fS.R=v.K.R.O();fS.G=v.K.G.slice(0)}else{fS.R=w;
fS.G=B.U(fS.R.$());fS.G.fill(255)}}j=[6,6,1];v.L9=!0}if(d=="setsel"){x=h.K;j=h.SQ}if(d=="crange"){var M=h.$R,O=h.LW;
x=c.tM.PE(v,M,O,h.My);j=[7,8]}if(d=="fromlayer"||d=="fromchannel"||d=="frompath"){var kH=h.d9[0],h9=h.d9[1],D=h.d9[2];
if(d=="fromlayer"){if(kH==null)kH=v.X[0];var i0=v.T[kH];if(h9<=0){if(i0.XN()){var ee=v.root.Ix(kH);x={G:B.U(0),R:new fP};
for(var T=0;T<ee.children.length;T++){var e5=ee.children[T].L;if(e5.R.EG())continue;var gA=B.U(e5.R.$());
B.Bq(e5.buffer,gA,3);var bW={G:gA,R:e5.R.O()};if(T==0)x=bW;else x=B.HE.Vy(x,bW,1)}if(x.R.EG())return}else{var e3=i0.R,iL=i0.buffer;
if(e3.EG())return;var h4=B.U(iL.length>>>2);if(h9==0)B.Bq(iL,h4,3);if(h9==-1)B.hS(iL,h4);x={G:h4,R:e3.O()}}}else{if(i0.N==null)i0.vT(v);
var iT=h9==1?i0.NH():i0.N;x=c.tM.a36(iT,E)}this.track(c.tM.tN(D,["Trsp","Msk"][h9],i0.getName()))}else if(d=="frompath"){var hC=v.rx(),dS=hC[1],hC=hC[0],co=!0;
if(kH==null)if(hC.length==0||dS.length==0)return;var il=hC[dS[0]];if(kH!=null)for(var T=0;T<hC.length;
T++)if(hC[T].yl==kH)il=hC[T];var iT=il.add.vmsk.NH(),i6=iT.YO();if(i6.$()==0)return;var h4=iT.pJ();if(h.d9[3]!=null)co=h.d9[3];
if(!co){h4=h4.slice(0);B.round(h4)}cf=[JSON.stringify(v.cg),JSON.stringify(v.Z3)];iG=["[]","[]"];v.cg=[];
v.Z3=[];x={G:h4,R:i6}}else{if(kH==null)kH=c.tM.ac1(v);x=c.tM.aoI(v,kH)}if(D!=0&&v.K)x=B.HE.Vy(x,v.K,D);
j=[14,11]}if(d=="bgrm"){if(c.tM.a6G(v,e,h,m))return;var bH=window.locStor.getItem("bgrmt");if(bH==null)bH=0;
var b5=2*60*60,ej=c.tM.aoz.bind([v,e,h,m]),id=Math.floor((Date.now()-bH)/1e3);if(!fu.nH(1)&&id<b5&&fu.M4(m,1)==null){var dH=cU.Ju(),hA=dH?"Out of AI credits :( Now, you":"Non-Premium users",fn=hA+" can use it once in two hours ("+((b5-id)/60).toFixed(1)+" min remain). "+(dH?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
fk.Wb(ej,fn,"rmbg")}else ej();return}if(x!=null&&B.dh(x.G,0)){x=null;j=[7,1]}if(x)B.pE(x);var d3=new aO(j,this);
d3.data={V:"changesel",K:x,l9:dK,a8K:f6,abo:fS,pF:cf,aB3:iG};v.Mk(d3);this.W1(d3.data,v)};c.tM.a6G=function(h,e,v,J){var m=h.T[h.X[0]],d=m.R,x=m.buffer,j=d.q,E=d._,L=[0,0,j-1,0,0,E-1,j-1,E-1],p=!0;
for(var T=0;T<4;T+=2){var Z=(L[T+1]*j+L[T])*4,o=0;for(var u=0;u<3;u++){o+=(x[u]-x[Z+u])*(x[u]-x[Z+u])}if(o>25)p=!1}if(p&&m.NH()==null&&h.K==null){var N=B.U(j*E);
for(var T=0;T<4;T++){var M=L[T*2],O=L[T*2+1],F=20,W=1,f=null;if(N[O*j+M]>200)continue;while(F<120){var $=c.GF.p6(x,d,new fq(M,O),null,[F,!0,!0]),H=0;
for(var u=0;u<$.length;u++)H+=$[u];var A=F<50?1.015:1.004;if(f&&H>W*A)break;f=$;W=H;F+=10}for(var u=0;
u<f.length;u++)N[u]=Math.max(N[u],f[u])}B.ia(N);c.tM.as_(m,e,N,d,v.J,null);alert(c3.h7("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};c.tM.aoz=function(){var h=this[0],e=this[1],v=this[2],J=this[3],m=2,d=h.T[h.X[0]],x=d.R,j=d.buffer,E=1,L=[4096,4096,2048][m];
while(Math.max(x.q,x._)>L){var p=B.Uq(j,x);x=p.R;j=p.su;E*=2}var Z=gI.g6("png"),o=gI.g6("jpg"),u=o.oZ([[j.buffer]],x.q,x._),N=new FormData;
N.append("image",new Blob([u],{type:"ima"+"ge/j"+"pg"}));N.append("mode","mask");var M=new g3(k.E.u,!0);
M.data={V:k.l.zw,qt:"Processing ..."};e.a(M);window.a1l=Date.now();var O=function(F){console.log(Date.now()-window.a1l);
var W=F.target.response,f=new Uint8Array(W),$=Z.E2(W)[0],H=$.Ei,A=B.U(H.$());B.hS(new Uint8Array($.data),A);
for(var T=0;T<A.length;T++){if(A[T]>250)A[T]=255}if(E!=1){var p=c.L2.pV([A,H],new aJ(E,0,0,E,0,0));H=p.R;
A=p.G}H.x=d.R.x;H.y=d.R.y;c.tM.as_(d,e,A,H,v.J,c3.h7("AQVUYE\\{}"));var M=new g3(k.E.u,!0);M.data={V:k.l.gv,qt:"Processing ..."};
e.a(M);if(fu.M4(J,1)==null){fu.O5("Rem"+"ove B"+"G",1);window.locStor.setItem("bgrmt",Date.now())}};
fu.a4G(c3.h7("aQVUYEi<87<5=7:0#"),N,fu.M4(J,1),O)};c.tM.as_=function(h,e,v,J,m,d){var x=new g3(k.E.A,!0);
if(m==1){x.I=c.Yn;x.data={V:s.mH,Di:d,a9u:!0};e.a(x);var j=h.NH();j.color=0;j.R=J;j.G=v;j.pE();h.vT()}else if(m==2){x.I=c.Wm;
x.data={V:"setsel",K:{G:v,R:J},SQ:"Select Subject"};e.a(x)}else throw"e"};c.tM.ac1=function(h){var e=0;
if(h.kH.length!=0)e=-5-h.kH[0];else if(JSON.stringify(h.p.Y)=="[1,1,1]")e=-1;else e=-2-h.p.Y.indexOf(1);
return e};c.tM.aoI=function(h,e){var v,J=new fP(0,0,h.q,h._);if(-5<e&e<0){var m=-e-1,d=h.pb(),x=B.U(J.$());
if(m==0)B.hS(d,x);else B.Bq(d,x,m-1);v={G:x,R:J.O()}}if(e<-4){v=c.tM.a36(h.Ar[-e-5],J)}return v};c.tM.a36=function(h,e){var v,J;
if(h.SL()==0){J=h.YO().O();if(J.$()==0)return;v=h.pJ()}else{J=e;v=B.U(J.$());h._N(J,v)}return{G:v,R:J}};
c.tM.prototype.Th=function(h){return this._u||h.fE&&this.id!=c.TK};c.tM.prototype.f3=function(h,e,v){var J=new g3(e,!0);
J.data=v;h.a(J)};c.tM.prototype.abO=function(h,e){var v=new g3(k.E.u,!0);v.data={V:k.l.zq,Tv:e};h.a(v)};
c.tM.prototype.YO=function(h,e,v){e=h.K==null||this.wC.uj(1)||this.wC.l6(1)?e:null;var J=this.hC,m=this.FZ;
if(v){J.x=Math.max(0,Math.min(h.q,J.x));J.y=Math.max(0,Math.min(h._,J.y));m.x=Math.max(0,Math.min(h.q,m.x));
m.y=Math.max(0,Math.min(h._,m.y))}var d=c.XH.tw(J,m,e,!0,this.wK.cstr),x=d[0].x,j=d[0].y,E=new fP(x,j,d[1].x-x,d[1].y-j);
if(v){E.x=Math.max(E.x,0);E.y=Math.max(E.y,0)}return E};c.tM.prototype.HL=function(h,e,v,J,m){this.Sj=!0;
if(this.cD())return;this.IF=e;this.vu=!1;this.wC.HL(J);this.hC=h.p.$$(m.x,m.y);this.hC=c.Pj.$T(h,this.hC,v);
if(this.ar3(h,this.hC,J)){this._u=!0;this.HR=h.K.R.O();return}this.wa(h,v,J,m);h.p._C=new fP};c.tM.prototype.ar3=function(h,e,v){var J=v.r(dW.l$),m=v.r(dW.B2);
if(h.K&&!J&&!m&&this.wK.binop==0)return B.v0(e,h.K.G,h.K.R);return!1};c.tM.prototype._8=function(h,e,v,J,m){this.IF=e;
if(this.MS)return;var d=h.p.$$(m.x,m.y);if(fq.mr(this.hC,d)*h.p.e4>5){this.vu=!0;this.wC._8()}if(J.r(dW.qW)){if(this.Y8==null)this.Y8=new fq(d.x-this.hC.x,d.y-this.hC.y);
this.hC.x=d.x-this.Y8.x;this.hC.y=d.y-this.Y8.y}else this.Y8=null;this.FZ=d;if(!this._u&&this.id!=c.TK)this.FZ=c.Pj.$T(h,this.FZ,v);
if(this.ar3(h,this.FZ,J))this.abO(e,"move");else this.abO(e,this.Ox);if(this._u){var x=this.HR.O();x.x+=this.FZ.x-this.hC.x;
x.y+=this.FZ.y-this.hC.y;var j=c.Pj.xH(h,x,v);h.K.R.x=Math.round(this.FZ.x-this.hC.x+this.HR.x+j[0]);
h.K.R.y=Math.round(this.FZ.y-this.hC.y+this.HR.y+j[1]);h.AQ=!0;c.Pj.t5(h,x,j);return}this.$X(h,v,J,m,e);
if(h.p._C)h.p._C=this.YO(h,J)};c.tM.prototype.cD=function(){return!1};c.tM.prototype.ej=function(h,e,v,J,m,d){var x=this.Sj;
this.Sj=!1;if(d||!x)return;h.p._C=null;this.FZ=h.p.$$(m.x,m.y);this.FZ=c.Pj.$T(h,this.FZ,v);if(this._u){this._u=!1;
if(h!=null&&h.M.AF){h.M.AF=null;h.GI=!0}if(this.FZ.lS(this.hC)&&this.k9()==0){this.f3(e,k.E.Fq,c.tM.CZ());
return}this.atg(h,this.HR,h.K.R.O());return}this.sd(h,v,J,m,e);c.tM.aDI(e,v);this.wC.ej();this.Cn(e)};
c.tM.prototype.atg=function(h,e,v){var J=h.Ax();if(J!=null&&J.I==this&&J.data.V=="movesel"){}else{J=new aO([7,7],this);
J.data={V:"movesel",H$:e};h.Mk(J)}J.data.Uc=v;this.W1(J.data,h)};c.tM.prototype.NB=function(h,e,v,J,m){this.MS=!0};
c.tM.prototype.ZF=function(h,e,v,J,m){var d=new g3(k.E.u,!0);d.data={V:k.l.vi,I:this.id,zG:m,PD:h,H:v};
e.a(d);this.MS=!1};c.tM.prototype.lK=function(h,e,v,J){this.wC.lK(J);if(h!=null&&h.K!=null){var m=J.Sl();
if(m.x!=0||m.y!=0){var d=h.K.R.O();d.x+=m.x;d.y+=m.y;this.atg(h,h.K.R.O(),d)}}this.Cn(e)};c.tM.prototype.Cn=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.vi,I:this.id,Al:this.k9()};h.a(e)};c.tM.prototype.k9=function(){var h=this.wC.uj(0),e=this.wC.l6(0);
return c.tM.iR(this.wK.binop,h,e)};c.tM.iR=function(h,e,v){if(e)h=1;if(v)h=2;if(e&&v)h=3;return h};c.tM.prototype.finish=function(h,e,v,J){var m=h.K,d=this.getSelection(h,e,v,J);
if(d==null)d=c.tM.CZ();else{var x=this.wK.feat,j=this.k9();if(x!=0)d.TH.Fthr={t:"UntF",v:{type:"#Pxl",val:x}};
if(j!=0&&j!=4)d.UH=["","addTo","subtractFrom","interfaceWhite",""][j]}this.f3(this.IF,k.E.Fq,d);this.hC.Cg(-1,-1);
this.FZ.Cg(-1,-1)};c.tM.prototype.getSelection=function(h,e,v,J){return null};c.tM.prototype.wa=function(h,e,v,J){};
c.tM.prototype.$X=function(h,e,v,J){};c.tM.prototype.sd=function(h,e,v,J){};c.tM.prototype.ZL=function(h,e){var v=h.V;
if(v=="changesel"){var J=e.K;e.K=h.K;h.K=J}if(v=="movesel")e.K.R=h.H$;if(h.l9){if(h.a8K){e.kH=[e.Ar.length];
e.Ar.push(h.a8K)}else{e.Ar.pop();e.kH=[]}}if(h.pF){e.cg=JSON.parse(h.pF[0]);e.Z3=JSON.parse(h.pF[1])}e.AQ=!0};
c.tM.prototype.W1=function(h,e){var v=h.V;if(v=="changesel"){var J=e.K;e.K=h.K;h.K=J}if(v=="movesel")e.K.R=h.Uc;
if(h.l9){if(h.abo){e.kH=[e.Ar.length];e.Ar.push(h.abo)}else{e.Ar.pop();e.kH=[]}}if(h.pF){e.cg=JSON.parse(h.aB3[0]);
e.Z3=JSON.parse(h.aB3[1])}e.AQ=!0};c.tM.prototype.Fb=function(h){return h.V=="changesel"&&h.K?h.K.G.length:0};
c.tM.prototype.oy=function(h){for(var e in h.wK)this.wK[e]=h.wK[e]};c.tM.prototype.atS=function(h){var e=B.w.Ob(h.g);
if(e.EG())return null;var v=B.Ut(e.q,e._);v.save();v.beginPath();v.translate(-e.x,-e.y);Typr.U.pathToContext({cmds:h.WQ,crds:h.g},v);
v.closePath();v.fill();v.restore();var J=B.U(e.$()),m=v.getImageData(0,0,e.q,e._);B.Bq(m.data,J,3);return{R:e,G:J}};
c.tM.a2A=function(h,e,v,J,m){if(v)e=Math.round(e*.7);var d=Math.ceil(2.6*e),x=h.R.O();x.vY(d,d);if(J&&!m)x=x.UP(J);
var j=B.U(x.$()),E=B.U(j.length);B.Ww(h.G,h.R,E,x);B.kK.he(E,j,x,e);if(v){var L=j.length;for(var T=0;
T<L;T++){var p=(j[T]-128)*e*2.5;j[T]=Math.max(0,Math.min(255,Math.round(128+p)))}}return{G:j,R:x}};c.tM.aoN=function(h,e,v){var J=Math.max(1,Math.ceil(v)),m=h.R.O();
m.vY(J,J);var d=m.$(),x={G:B.U(d),R:m},j=B.U(d);B.Ww(h.G,h.R,j,x.R);if(v!=0)B.style.stroke(j,x.G,x.R,v);
else B.N7(j,x.G);var E=B.U(d);B.ia(j);if(e!=0)B.style.stroke(j,E,x.R,e);else B.N7(j,E);B.HE.UP(x.G,E,x.G);
return x};c.tM.PE=function(h,e,v,J,m){var d=new fP(0,0,h.q,h._),x=h.pb();if(h.K){var j=h.K.R.UP(d),E=B.U(j.$()*4);
B.YZ(x,d,E,j);d=j;x=E}var L=d.$(),p=B.U(L),Z=1/J;if(m){if(e>=v)e=v-1;var o=e*(1-J),u=e,N=v,M=v+(255-v)*J,O=o==u?0:1/(u-o),F=N==M?0:1/(M-N);
for(var T=0;T<L;T++){var W=T<<2,f=B.Pr(x[W],x[W+1],x[W+2]),$=0;if(f<o)$=0;else if(f<u)$=(f-o)*O;else if(f<=N)$=1;
else if(f<=M)$=1-(f-N)*F;else $=0;p[T]=x[W+3]*$*$}}else for(var T=0;T<L;T++){var W=T<<2,H=B.Aj(x[W],x[W+1],x[W+2]),$=B.aDS(H,e,v,J,Z);
p[T]=x[W+3]*$}return{R:d,G:p}};c.ZS=function(){c.Bt.call(this,[10,18],c.ho,"tools/blur");this.kh="copy"};
c.ZS.prototype=new c.Bt;c.ZS.prototype.HL=function(h,e,v,J,m){var d=J.r(dW.B2)?d2.jZ:d2.ho;this.gT(h,v,J,m,this.wK.strn,d);
if(this.yj==null)return;this.gt(h)};c.ZS.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.lq=function(){c.Bt.call(this,[10,0],c.ty,"tools/brush");
this.kh="draw"};c.lq.prototype=new c.Bt;c.lq.prototype.HL=function(h,e,v,J,m){if(this.SG(h,e,v,J,m,!0))return;
this.gT(h,v,J,m,this.wK.flow);if(this.yj==null)return;this.gt(h)};c.lq.prototype._8=function(h,e,v,J,m){if(this.SG(h,e,v,J,m))return;
this.ot(h,e,v);if(this.W0)this.uL(h,v,m);if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};
c.bv=function(){c.Bt.call(this,[10,42],c.bG,"tools/crepl");this.kh="idraw";this.wK.bmode="hue "};c.bv.prototype=new c.Bt;
c.bv.prototype.HL=function(h,e,v,J,m){if(this.SG(h,e,v,J,m,!0))return;this.gT(h,v,J,m,this.wK.flow);
if(this.yj==null)return;this.gt(h)};c.bv.prototype._8=function(h,e,v,J,m){if(this.SG(h,e,v,J,m))return;
this.ot(h,e,v);if(this.W0)this.uL(h,v,m);if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};
c.yZ=function(){c.Bt.call(this,[10,43],c.QO,"tools/redeye");this.wK.smode=0;this.kh="redeye"};c.yZ.prototype=new c.Bt;
c.yZ.prototype.HL=function(h,e,v,J,m){this.gT(h,v,J,m,this.wK.flow);if(this.yj==null)return;this.gt(h)};
c.yZ.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);if(this.yj==null)return;
if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.Vu=function(){c.Bt.call(this,[10,38],c.aL,"tools/pencil");
this.kh="draw"};c.Vu.prototype=new c.Bt;c.Vu.prototype.HL=function(h,e,v,J,m){if(this.SG(h,e,v,J,m,!0))return;
this.gT(h,v,J,m,this.wK.flow);if(this.yj==null)return;this.gt(h)};c.Vu.prototype._8=function(h,e,v,J,m){if(this.SG(h,e,v,J,m))return;
this.ot(h,e,v);if(this.W0)this.uL(h,v,m);if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};
c.Hz=function(){c.Bt.call(this,[10,22],c.T_,"tools/burn");this.kh="burn"};c.Hz.prototype=new c.Bt;c.Hz.prototype.HL=function(h,e,v,J,m){this.gT(h,v,J,m,this.wK.expo/Math.E);
if(this.yj==null)return;this.gt(h)};c.Hz.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.SF=function(h,e,v){c.Bt.call(this,h==""?null:h?h:[10,1],e?e:c.p4,v?v:"tools/clone");
this.kh="clone";this.f5=null;this.d=null};c.SF.prototype=new c.Bt;c.SF.prototype.HL=function(h,e,v,J,m){var d=this.wK,x=d.alt[0];
if(J.r(dW.B2)||J.r(dW.uX)||x){this.f5=h.p.$$(m.x,m.y);this.d=null;if(x)this.KE({alt:[!1]},e);this.Fo(h);
this.ZT(v,J,h,m);return}if(this.f5==null){alert(bj.get([15,7,0]));return}this.ZT(v,J);this.gT(h,v,J,m,this.wK.flow);
if(this.yj==null)return;this.d=this.ahN(h.p.$$(m.x,m.y));this.gt(h)};c.SF.prototype.ahN=function(h){var e=this.d;
if(e==null||!this.wK.algnd)e=new fq(Math.round(h.x-this.f5.x),Math.round(h.y-this.f5.y));return e};c.SF.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);
if(this.W0)this.uL(h,v,m);if(this.yj==null){if(this.f5!=null)this.ZT(v,J,h,m);return}if(!m.fE||this.f5==null)return;
this.ms(h,v,J,m);this.gt(h)};c.SF.prototype.ae=function(){return this.d};c.V_=function(){c.Yu.call(this,[10,53],c.ajW,"tools/csamp");
this.jf=-1;this.xU=null};c.V_.prototype=new c.Yu;c.V_.prototype.HL=function(h,e,v,J,m){this.xU=JSON.stringify(h.us);
var d=h.p.$$(m.x,m.y),x=h.us,j=1e9,E=-1;for(var T=0;T<x.length;T++){var L=x[T],p=d.x-L.x,Z=d.y-L.y,o=p*p+Z*Z;
if(o<j){j=o;E=T}}var u=15/h.p.e4;E=j<u*u?E:-1;if(E==-1){E=x.length;x.push({x:d.x,y:d.y})}else if(J.r(dW.B2)){x.splice(E,1);
E=-1}this.jf=E;h.GI=!0};c.V_.prototype._8=function(h,e,v,J,m){var d=this.jf;if(d!=-1){var x=h.p.$$(m.x,m.y);
h.us[d].x=x.x;h.us[d].y=x.y;h.GI=!0}};c.V_.prototype.ej=function(h,e,v,J,m,d){var x=new aO(this.name,this);
x.data={xz:this.xU,uO:JSON.stringify(h.us)};h.Mk(x);this.jf=-1};c.V_.prototype.ZL=function(h,e){e.us=JSON.parse(h.xz)};
c.V_.prototype.W1=function(h,e){e.us=JSON.parse(h.uO)};c.Zk=function(h,e,v){c.Yu.call(this,h,e,v);this.wK={uQ:{xr:0,x:0,y:0},SU:!1,cY:!1};
this.zc=!1;this.al=null;this.cursor=null;this.akU=0;this.cT=null;this.hC=null;this.Ku=null;this.CU=!1};
c.Zk.prototype=new c.Yu;c.Zk.prototype.G0=function(){return this.al!=null};c.Zk.prototype.Th=function(h){return this.hC!=null||this.al&&this.al.aFD()};
c.Zk.prototype.HL=function(h,e,v,J,m){this.cT=m;var d=h.p.$$(m.x,m.y),x=this.wK.uQ,j=x.xr!=0?x.x/x.y:null,E=this.CU;
this.CU=!1;if(this.al){var L=this.al.hb(d,h.p.e4);if(E&&L==null){this.al.clear(h);this.al=null}else{this.al.HL(h,v,J,d,j,!1,m);
return}}this.hC=c.Pj.$T(h,d,v)};c.Zk.prototype.qe=function(h,e,v){if(v==null)v=[h.x,h.y,h.x+h.q,h.y,h.x+h.q,h.y+h._,h.x,h.y+h._];
return new hu(v,!0,!1,this.id==c.Fg,!0,e,this.id==c.Fg?2:0,this.id==c.Fg?4:3)};c.Zk.prototype.ZT=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.zq,Tv:this.cursor};h.a(e)};c.Zk.prototype.enable=function(h,e,v,J){this.IF=e;this.cursor="crosshair";
this.ZT(e);if(h!=null&&this.al==null){var m=h.K?{nI:"cropby",agj:3}:{nI:"config",wK:this.wK,aFS:!0};
this.oy(m,e,h,J,v);if(h.K==null&&this.wK.uQ.xr==0)this.CU=!0}};c.Zk.prototype._8=function(h,e,v,J,m){this.cT=m;
var d=h.p.$$(m.x,m.y);if(!m.fE){var x="crosshair";if(this.al){var j=this.al.hb(d,h.p.e4,null,m);if(j)x=j;
else x="default"}if(x!=this.cursor){this.cursor=x;this.ZT(e)}}if(this.al)this.al._8(h,v,J,d);else if(this.hC){if(this.zc){h.M.Qd={WQ:["M","L"],g:[this.hC.x,this.hC.y,d.x,d.y]}}else{var E=c.XH.tw(this.hC,c.Pj.$T(h,d,v),J,!0,this.wK.uQ),L=E[0].x,p=E[0].y,Z=this.Ku=new fP(L,p,E[1].x-L,E[1].y-p);
h.M.Qd=B.w.Tp(Z);c.Yu.fO(m,Z,h,v)}h.GI=!0}};c.Zk.awB=function(h,e,v){var J,m,j,E;if(e<=v){J=e;m=v}else{J=v;
m=e}var d=h-Math.floor((h+Math.PI)/(2*Math.PI))*2*Math.PI;d=Math.abs(d);if(d>Math.PI/2)d=Math.PI-d;var x=J/(m*Math.sin(d)+J*Math.cos(d));
if(e<=v){j=J*x;E=m*x}else{j=m*x;E=J*x}return{VA:j,qw:E}};c.Zk.prototype.ej=function(h,e,v,J,m){this.cT=m;
var d=h.p.$$(m.x,m.y);if(this.al==null){var x=this.Ku;if(this.hC&&(x||this.zc)){if(this.zc){var j=this.hC,E=d,L=E.x-j.x,p=E.y-j.y;
if(Math.abs(L)<Math.abs(p))E=new fq(j.x-p,j.y+L);if(j.x>E.x){var Z=j;j=E;E=Z}var j=Math.atan2(-(E.y-j.y),E.x-j.x),o=c.Zk.awB(j,h.q,h._);
if(this.wK.cY){var u=B.w.Tp(new fP(0,0,h.q,h._)),N=new aJ;N.rotate(j);B.w.C(u.g,N,u.g);o=B.w.Ob(u.g);
o={VA:o.q,qw:o._}}var M=[0,0,o.VA,0,o.VA,o.qw,0,o.qw],O=new aJ;O.translate(-o.VA/2,-o.qw/2);O.rotate(j);
O.translate(h.q/2,h._/2);B.w.C(M,O,M);this.al=this.qe(x,!1,M);this.zc=!1}else{var F=this.wK.uQ;this.al=this.qe(x,F.xr!=0)}this.al.LL(h,v);
this.Ku=null;this.f3(e,k.E.u,{V:k.l.vi,I:this.id,Rv:!0});this.hC=null;h.M.xT=[];h.M.Qd=null;h.GI=!0}return}this.al.ej(h,v,J,d);
this.f3(e,k.E.u,{V:k.l.vi,I:this.id,Rv:!0});var M=this.al.Un();if(Math.abs(M[0]-M[4])<2&&Math.abs(M[1]-M[5])<2){this.s8(h,e,null,J);
return}if(Date.now()-this.akU<200&&this.al.Bm(d)){this.IW(h,v);this.s8(h,e,v,J);return}this.akU=Date.now()};
c.Zk.prototype.lK=function(h,e,v,J){var m=this.al;if(m==null||this.cT&&this.cT.fE)return;if(J.r(dW.zD)){this.IW(h,v);
this.s8(h,e,v,J)}else if(J.r(dW.BC)){this.s8(h,e,v,J)}else m.lK(h,v,J)};c.Zk.aaL=function(h,e,v){var J={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:h[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:h[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:h[1]+h[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:h[0]+h[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:e!=null?e:0}},Dlt:{t:"bool",v:v!=null?v:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{UH:"crop",TH:J}};c.Zk.KG=function(h,e){if(e==null)e=[!0,!0,!0,!0];var v={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][h]}}},J=["Top","Left","Btom","Rght"];
for(var T=0;T<4;T++)v[J[T]]={t:"bool",v:e[T]};return{UH:"trim",TH:v}};c.Zk.u_=function(h,e,v,J,m){var d={classID:"null"};
if(J!=null){d.Wdth={t:"UntF",v:m?{type:"#Prc",val:h*100}:{type:"#Pxl",val:h}};d.Hght={t:"UntF",v:m?{type:"#Prc",val:e*100}:{type:"#Pxl",val:e}};
d.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][J]}}}if(v!=null)d.Rslt={t:"UntF",v:{type:"#Rsl",val:v}};
return{UH:"imageSize",TH:d}};c.Zk.avi=function(h,e,v,J){if(v==null)v=4;if(J==null)J=!1;var m=Math.floor(v/3),d=v%3;
return{UH:"canvasSize",TH:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:h}},Hght:{t:"UntF",v:{type:"#Pxl",val:e}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][d]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][m]}},Rltv:{t:"bool",v:J}}}};
c.Zk.prototype.iu=function(h,e,v,J,m){var d=new fP(0,0,v.q,v._),x=[11,3],j=v.gx,E=v.q/2,L=v._/2,X=1,b9,h9,ge;
function p(iG,T){return iG[T]+2*iG[T+1]+iG[T+2]>>>2}if(h.V=="cropAndStr"){var Z=v.T[v.X[0]],o=Z.buffer,u=Z.R,N=u.q,M=u._,O=N+2,F=[0,0,N-1,0,N-1,M-1,0,M-1],W,f=1e9,i=0;
for(var T=0;T<4;T++)for(var $=T+1;$<4;$++){var H=F[2*T],A=F[2*T+1],G=(A*N+H)*4,l=(F[2*$+1]*N+F[2*$])*4,K=o[G]-o[l],U=o[G+1]-o[l+1],z=o[G+2]-o[l+2],q=K*K+U*U+z*z;
if(q<f){f=q;W=new fq(H+.5,A+.5)}}var P=Date.now(),g=c.GF.p6(Z.buffer,u,W,null,[16,!1,!0]);B.ia(g);var a=u.O();
a.vY(1,1);var w=B.U(a.$());B.Ww(g,u,w,a);var y=w.slice(0);for(var A=0;A<M;A++)for(var H=0;H<N;H++){var $=A*N+H;
if(g[$]==255&&p(o,$*4)>200){var T=(A+1)*O+H+1;w[T]=y[T-O]&y[T-1]&y[T+1]&y[T+O]}}var S=B.w.zr(w,a.q,a._,0),C=new g3(k.E.u,!0);
C.data={V:k.l.zM};var P=Date.now();for(var Y=0;Y<S.length;Y++){var _=S[Y].path.g;if(S[Y].Fv.$()<2500)continue;
var t=B.w.akH(_,i==3);for(var T=0;T<t.length;T++)t[T]-=1;var I=new fq(t[0],t[1]),r=Math.ceil(fq.mr(I,new fq(t[2],t[3]))),n=Math.ceil(fq.mr(I,new fq(t[6],t[7]))),Q=new fP(0,0,r,n),D=B.U(Q.$()*4),_=B.D.s6(t,new fP(-1,-1,r+2,n+2));
_=B.D.ia(_);_=B.D.Eh(_,B.D.fi(new aJ(u.q,0,0,u._,u.x,u.y)));B.D.drawImage(_,Z.buffer,u.q,u._,D,Q);i++;
var dG=C.data.Zw=new e7("Image "+i+".psd");dG.q=r;dG._=n;var R=dG.ws();R.Ip("Background");R.buffer=D;
R.R=Q;dG.T.push(R);e.a(C)}return}if(h.V=="fromAction"){var dx=h.tT,jv=dx.UH,gB=dx.TH,hQ=v.q/v._,O=gB.Wdth?gB.Wdth.v.val:-1,ah=gB.Hght?gB.Hght.v.val:-1,j=gB.Rslt?gB.Rslt.v.val:null,kG=gB.Wdth?gB.Wdth.v.type:gB.Hght?gB.Hght.v.type:-1,iZ=1,bs;
if(kG=="#Prc"){if(O!=-1)O=Math.round(v.q*O/100);if(ah!=-1)ah=Math.round(v._*ah/100)}if(jv=="imageSize"){if(gB.Intr){if(gB.Intr.v.Intp=="Nrst")iZ=0;
if(gB.Intr.v.Intp=="bicubicSharper")iZ=2;if(O==-1&&ah==-1){var ey=j/v.gx;O=Math.round(v.q*ey);ah=Math.round(v._*ey)}if(gB.CnsP&&gB.CnsP.v){if(O==-1)O=Math.round(ah*hQ);
if(ah==-1)ah=Math.round(O/hQ)}}else{if(kG=="#Prc")j=Math.round(v.gx*(v.q/O));else if(kG==-1)j=Math.round(j);
else throw"e";O=v.q;ah=v._}bs={V:"imgsize",Je:O,XA:ah,Le:j,jW:iZ}}else if(jv=="canvasSize"){if(O==-1)O=v.q;
if(ah==-1)ah=v._;if(gB.Rltv&&gB.Rltv.v==!0){if(gB.Wdth)O+=v.q;if(gB.Hght)ah+=v._}var jp=gB.Vrtc?gB.Vrtc.v.VrtL:"Cntr",eh=gB.Hrzn?gB.Hrzn.v.HrzL:"Cntr";
bs={V:"canvsize",Je:O,XA:ah,o5:3*["Top","Cntr","Btom"].indexOf(jp)+["Left","Cntr","Rght"].indexOf(eh)}}else if(jv=="revealAll"){bs={V:"revealAll"}}else if(jv=="trim"){var dt={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[gB.trimBasedOn.v.trimBasedOn];
if(dt==null)throw"e";var jN=["Top","Left","Btom","Rght"],jX=[!0,!0,!0,!0];for(var T=0;T<4;T++)if(gB[jN[T]])jX[T]=gB[jN[T]].v;
bs={V:"trim",aAm:dt,gO:jX}}else if(jv=="crop"){var H,A,N,M;if(gB.T){var jw=gB.T.v,H=Math.round(jw.Left.v.val),A=Math.round(jw.Top.v.val),N=Math.round(jw.Rght.v.val)-H,M=Math.round(jw.Btom.v.val)-A}else{var u=v.K.R;
H=u.x;A=u.y;N=u.q;M=u._}bs={V:"canvsize",Je:N,XA:M,d:new fq(H,A),ah0:gB.Dlt!=null&&gB.Dlt.v}}else console.log(dx);
if(bs)this.iu(bs,e,v,J,m);return}else if(h.V=="imgsize"){d=new fP(0,0,h.Je,h.XA);if(h.Le)j=h.Le;X=h.jW}else if(h.V=="canvsize"){var i7=h.o5!=null?h.o5:0;
d=new fP(0,0,h.Je,h.XA);var kn=v.q-h.Je,eK=v._-h.XA,ee=Math.round(kn/2),az=Math.round(eK/2);if(i7==1||i7==4||i7==7)d.x=ee;
if(i7==2||i7==5||i7==8)d.x=kn;if(i7==3||i7==4||i7==5)d.y=az;if(i7==6||i7==7||i7==8)d.y=eK;if(h.d){d.x=h.d.x;
d.y=h.d.y}}else if(h.V=="rot"&&(h.J+2*Math.PI)%(Math.PI/2)!=0){var k7=B.w.Tp(d).g,al=new aJ;al.translate(-E,-L);
al.rotate(h.J);al.translate(E,L);B.w.C(k7,al,k7);d=B.w.Ob(k7)}else if(h.V=="rot"&&h.J!=Math.PI&&h.J!=-Math.PI){d=new fP(E-v._/2,L-v.q/2,v._,v.q);
if((v.q+v._&1)==1){E=Math.floor(E);L=Math.floor(L);d=new fP(E-Math.floor(v._/2),L-Math.floor(v.q/2),v._,v.q);
if((v.q&1)==1&&h.J!=-Math.PI/2)d.y--;if((v._&1)==1&&h.J==-Math.PI/2)d.x--}}else if(h.V=="trim"){x=[11,12,0];
var kl=v.pb(),u=new fP(0,0,v.q,v._);d=B.vJ(kl,u,h.aAm,h.gO);if(d.EG())d=u}else if(h.V=="revealAll"){x=[11,12,2];
d=v.root.YO(v,!0)}var iN=h.V=="canvsize"&&h.ah0;if(h.V=="imgsize"||h.V=="rot"||h.V=="scl"||iN){var a8=new aJ;
if(h.V=="imgsize"){x=[11,10];a8.scale(h.Je/v.q,h.XA/v._);ge=v.XX();for(var T=0;T<ge[0].length;T++)ge[0][T][1]*=ge[0][T][0]==0?a8.DR:a8.l_}else if(iN){}else{a8.translate(-E,-L);
if(h.V=="rot")a8.rotate(h.J);if(h.V=="scl")a8.scale(h.J.x,h.J.y);a8.translate(E,L);x=h.SQ}h9=B.D.fi(a8);
b9=this.sQ(v,m,!0,h9,X,iN?d:null)}else if(h.V=="auto-align"){if(v.X.length<2){alert("Select two or more layers.");
return}var dK=[];for(var T=0;T<v.X.length;T++){var Z=v.T[v.X[T]];if(!Z.t2()&&Z.add.SoLd==null){alert("Unsupported layer selected.");
return}if(Z.R.EG()){alert("Empty layer selected.");return}dK.push([Z.buffer,Z.R])}var f6=B.P5.u3(dK);
if(f6==null){alert("No similarity found.");return}h9=f6[1];b9=this.sQ(v,m,!1,f6,X);d=v.root.YO(v,!0);
x=[2,10,1]}var fS=new fP(0,0,v.q,v._);if(!d.EG()&&(!d.lS(fS)||b9!=null)){var cf=new aO(x,this);cf.data={Km:v.gx,Le:j,k5:b9,Wl:h9,Lm:c.Zk.adZ(v,d,fS,b9!=null)};
if(ge){cf.data.wk=v.XX();cf.data.Yw=ge}c.Zk.aGc(v,cf.data,d);v.Mk(cf);this.W1(cf.data,v)}};c.Zk.adZ=function(h,e,v,J){if(h.Ys.length==0)return null;
var m=JSON.stringify(h.Ys),d=JSON.parse(m);c.E5.a9N(d,e,v,J);d=JSON.stringify(d);return[m,d]};c.Zk.prototype.sQ=function(h,e,v,J,m,d,x){var j={T:[],Tk:null,dI:null};
if(v){for(var T=0;T<h.T.length;T++)j.T.push(T);for(var T=0;T<h.H0.length;T++)j.T.push(-1-T);for(var T=0;
T<h.Ar.length;T++)j.T.push(-1e3-T)}else j.T=h.X.slice(0);j.Tk=c.L2.aK(h,j.T,!0);var E=Math.abs(J[3]*J[1])>1e-9;
c.L2.hV(h,e,j.T,j.Tk,m,J,null,!0,E&&B.D.s_(J)?null:d);if(v&&x&&h.kC()){var L=h.T[h.X[0]],p=L.buffer,Z=L.R,o=E?Z.O():d.O(),u=B.U(o.$()*4),N=B.U(Z.$());
B.Bq(p,N,3);var M=B.U(o.$());B.Ww(N,Z,M,o);B.round(M,255);B.ia(M);var O=B.Q1.aJ(p,Z,M,u,o);if(O==0){L.R=o;
L.buffer=u}}j.dI=c.L2.aK(h,j.T,!0);return j};c.Zk.prototype.W1=function(h,e){if(h.Le)e.gx=h.Le;if(h.Lm)e.Ys=JSON.parse(h.Lm[1]);
if(h.k5){c.Zk.KH(e,B.D.FY(h.Wl));c.L2.aV(e,h.k5.T,h.k5.dI);if(h.Yw)e.IY(h.Yw)}c.Zk.a_(e,h)};c.Zk.prototype.ZL=function(h,e){if(h.Km)e.gx=h.Km;
if(h.Lm)e.Ys=JSON.parse(h.Lm[0]);c.Zk.EX(e,h);if(h.UG)e.p.d.HA(h.UG);e.ay8();if(h.k5){var v=B.D.FY(h.Wl).O();
v.ia();c.Zk.KH(e,v);c.L2.aV(e,h.k5.T,h.k5.Tk);if(h.wk)e.IY(h.wk)}};c.Zk.KH=function(h,e){for(var T=0;
T<h.T.length;T++){var v=h.T[T];if(v.add.artb==null)continue;var J=B.w.Tp(v.AC()).g;B.w.C(J,e,J);var m=B.w.Ob(J);
v.B9(m)}};c.Zk.O$=function(h){var e=new fP,v=0,J=h.root.children.length;for(var T=0;T<J;T++){var m=h.root.children[T].L;
if(m.add.artb==null)continue;e=e.R$(m.AC());v++}var d=new fP(0,0,h.q,h._);if(!e.EG()&&!d.lS(e))return e;
return null};c.Zk.gV=function(h){var e=c.Zk.O$(h);if(e)c.Zk.SU(h,e,!0);return e};c.Zk.SU=function(h,e,v){var J=h.q,m=h._,d=e.q,x=e._,j=e.x==0&&e.y==0;
if(j&&J==d&&m==x)return;h.q=d;h._=x;var E=[];for(var T=0;T<h.T.length;T++)E.push(T);if(!j)c.Pj.tq(h,E,null,-e.x,-e.y);
for(var T=0;T<h.T.length;T++){h.T[T].vT(h)}h.ay8();if(v){var L=h.p.d,p=h.p.e4;L.x+=Math.round((e.x+(d-J)/2)*p);
L.y+=Math.round((e.y+(x-m)/2)*p)}else h.p.d.Cg(0,0);if(h.K)h.K.R.offset(-e.x,-e.y);var Z=h.XX();for(var o=0;
o<Z[0].length;o++)if(Z[1][o]==-1){var u=h.nT[o];u[1]-=u[0]==0?e.x:e.y}for(var T=0;T<h.Ar.length;T++)h.Ar[T].R.offset(-e.x,-e.y);
for(var T=0;T<h.H0.length;T++)B.s.Ma(h.H0[T].add.vmsk.z,new aJ(1,0,0,1,-e.x,-e.y))};c.Zk.prototype.oy=function(h,e,v,J,m){if(h.nI=="commit"){this.IW(v,m);
this.s8(v,e,null,J)}else if(h.nI=="cancel"){this.s8(v,e,null,J)}var d=null,x=new fP(0,0,v.q,v._),j=this.wK.uQ;
if(h.nI=="config"){this.wK=h.wK;j=this.wK.uQ;if(v==null||!h.aFS)return;d=x;if(j.xr==1){var E=j.x/j.y;
if(d.q/E<d._)d._=Math.round(d.q/E);else d.q=Math.round(d._*E)}if(j.xr==2){d.q=j.x;d._=j.y}d.x=Math.round((v.q-d.q)/2);
d.y=Math.round((v._-d._)/2)}if(h.nI=="straighten"){alert("Draw a line in the image.");this.zc=!0}if(h.nI=="cropby"){if(v==null)return;
var L=h.agj,d;if(L==0)d=v.root.YO(v,!0);if(L==1){if(v.X.length==0)alert("No layer is selected.");else{var p=v.root.Ix(v.X[0]);
d=p.YO(v,!0)}}if(L==2){if(v.X.length==0)alert("No layer is selected.");else{d=B.vJ(v.pb(),x,0);if(d.EG())d=x.O()}}if(L==3){if(v.K!=null)d=v.K.R;
else alert("There is no selection.")}if(L==4){d=new fP(0,0,v.q,v._)}}if(d&&d.EG())d=null;if(d!=null){this.al=this.qe(d,j.xr!=0);
this.al.LL(v,m);this.f3(e,k.E.u,{V:k.l.vi,I:this.id,Rv:!0})}};c.Yu.afR(c.Zk);c.Zk.prototype.IW=function(h,e){var v=this.al.Un(),J=B.w.Ob(v),m=this.aBa(h,v),d=!1,x=this.wK,j=x.uQ,E=x.SU,L=j.x,p=j.y,u;
if(this.id==c.jI&&j.xr==2&&m.$()!=L*p){m=new fP(m.x,m.y,L,p);d=!0}var Z=B.D.s6(v,m);Z=B.D.ia(Z);var o=!B.D.s_(Z),N=Math.abs(Math.atan2(Z[3],Z[0]))>1e-9,M=new fP(0,0,h.q,h._);
if(N||o||d||E||x.cY)u=this.sQ(h,e,!0,Z,1,J,x.cY);if(!N&&!o&&!d&&m.lS(M))return;var O=new aO(this.name,this);
O.data={k5:u,Wl:Z,UG:h.p.d.O(),Lm:c.Zk.adZ(h,m,M,!1)};if(j.gx!=null){O.data.Km=h.gx;O.data.Le=j.gx}c.Zk.aGc(h,O.data,m);
h.Mk(O);this.W1(O.data,h);this.track(c.Zk.aaL([J.x,J.y,J.q,J._],null,E))};c.Zk.aGc=function(h,e,v){if(v==null)return;
e.H$=new fP(0,0,h.q,h._);e.Uc=v};c.Zk.a_=function(h,e){if(e.Uc==null)return;c.Zk.SU(h,e.Uc)};c.Zk.EX=function(h,e){if(e.Uc==null)return;
var v=e.H$.O();v.offset(-e.Uc.x,-e.Uc.y);c.Zk.SU(h,v)};c.Zk.prototype.aBa=function(h,e){var v=B.D.s6(e),J=B.D.s_(v),m=B.D.FY(v),d=m.TO,x=m.bZ,j=Math.atan2(m.b,m.DR);
m.rotate(j);var E=new fP(d,x,m.DR,m.l_);if(!J){function L(f,T,$){var H=f[T]-f[$],A=f[T+1]-f[$+1];return Math.sqrt(H*H+A*A)}var p=L(e,0,2),Z=L(e,4,6),o=Math.max(p,Z),u=L(e,2,4),N=L(e,6,0),M=Math.max(u,N),O=c.Zk.K6(e,h.q/2,h._/2),F,W;
if(isNaN(O)||O==Infinity||O==-Infinity||Math.min(O,1/O)<.1)O=(p+Z)/(u+N);if(o/M>O){F=o*1;W=F/O}else{W=M*1;
F=W*O}E.q=F;E._=W}E.x=Math.round(E.x);E.y=Math.round(E.y);E.q=Math.round(E.q);E._=Math.round(E._);return E};
c.Zk.K6=function(h,e,v){var J=h[0]-e,m=h[1]-v,d=h[2]-e,x=h[3]-v,j=h[6]-e,E=h[7]-v,L=h[4]-e,p=h[5]-v,Z=((m-p)*j-(J-L)*E+J*p-m*L)/((x-p)*j-(d-L)*E+d*p-x*L),o=((m-p)*d-(J-L)*x+J*p-m*L)/((E-p)*d-(j-L)*x+j*p-E*L),u=-((o*E-m)*(Z*x-m)+(o*j-J)*(Z*d-J))/((o-1)*(Z-1));
function N(O){return O*O}var M=Math.sqrt((N(Z-1)+N(Z*x-m)/u+N(Z*d-J)/u)/(N(o-1)+N(o*E-m)/u+N(o*j-J)/u));
if(Z==1&&o==1)M=Math.sqrt((N(x-m)+N(d-J))/(N(E-m)+N(j-J)));return M};c.Zk.prototype.s8=function(h,e,v,J){if(h==null)return;
if(this.al)this.al.clear(h);this.al=null;this.f3(e,k.E.u,{V:k.l.vi,I:this.id,Rv:!1})};c.Zk.prototype.disable=function(h,e,v,J){if(this.al)this.IW(h,v);
this.s8(h,e,v,J)};c.Zk.prototype.f3=function(h,e,v,J){var m=new g3(e,!0);m.data=v;if(J)m.I=J;h.a(m)};
c.aCm=function(){c.Zk.call(this,[10,2],c.jI,"tools/rcrop")};c.aCm.prototype=new c.Zk;c.ak_=function(){c.Zk.call(this,[10,39],c.Fg,"tools/pcrop")};
c.ak_.prototype=new c.Zk;c.vj=function(){c.Bt.call(this,[10,21],c.qD,"tools/dodge");this.kh="dodge"};
c.vj.prototype=new c.Bt;c.vj.prototype.HL=function(h,e,v,J,m){this.gT(h,v,J,m,this.wK.expo/Math.PI);
if(this.yj==null)return;this.gt(h)};c.vj.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.oQ=function(){c.Bt.call(this,[10,3],c.dY,"tools/eraser");
this.kh="erase"};c.oQ.prototype=new c.Bt;c.oQ.prototype.HL=function(h,e,v,J,m){this.gT(h,v,J,m,this.wK.flow);
if(this.yj==null)return;this.gt(h)};c.oQ.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;var d=this.ms(h,v,J,m);this.gt(h)};c.pq=function(){c.Bt.call(this,[10,45],c.UQ,"tools/beraser");
this.kh="ierase"};c.pq.prototype=new c.Bt;c.pq.prototype.HL=function(h,e,v,J,m){if(this.SG(h,e,v,J,m,!0))return;
this.gT(h,v,J,m,this.wK.flow);if(this.yj==null)return;this.gt(h)};c.pq.prototype._8=function(h,e,v,J,m){if(this.SG(h,e,v,J,m))return;
this.ot(h,e,v);if(this.W0)this.uL(h,v,m);if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};
c.U8=function(){c.tM.call(this,[10,15],c.Wm,"tools/rselect");this.Ox="crosshair"};c.U8.prototype=new c.tM;
c.U8.prototype.$X=function(h,e,v,J){if(!J.fE||!this.vu)return;var m=this.YO(h,v,!0);h.M.Qd=B.w.Tp(m);
h.GI=!0;c.Yu.fO(J,m,h,e)};c.U8.prototype.sd=function(h,e,v,J){h.M.Qd=null;h.M.xT=[];h.GI=!0;this.finish(h,e,v,J)};
c.U8.prototype.getSelection=function(h,e,v,J){if(this.hC.lS(this.FZ)||!this.vu)return null;var m=this.YO(h,v,!0);
if(m.EG())return null;return c.tM.AN("Rctn",m,this.wK.anta)};c.zi=function(){c.tM.call(this,[10,4],c.ame,"tools/eselect");
this.Ox="crosshair"};c.zi.prototype=new c.tM;c.zi.prototype.$X=function(h,e,v,J){if(!J.fE||!this.vu)return;
var m=this.YO(h,v);h.M.Qd=c.zi.ayO(m);h.GI=!0;c.Yu.fO(J,m,h,e)};c.zi.prototype.sd=function(h,e,v,J){h.M.Qd=null;
h.M.xT=[];h.GI=!0;this.finish(h,e,v,J)};c.zi.prototype.getSelection=function(h,e,v,J){if(this.hC.lS(this.FZ)||!this.vu)return null;
var m=this.YO(h,v);if(!m.qm(new fP(0,0,h.q,h._)))return null;return c.tM.AN("Elps",m,this.wK.anta)};
c.zi.ayO=function(h){var e=h.x,v=h.y,J=h.x+h.q,m=h.y+h._,d=(e+J)/2,x=(v+m)/2,j=(e-J)/2,E=(v-m)/2,L=.5522848,p={g:[d,x-E],WQ:["M","C","C","C","C"]};
p.g.push(d+L*j,x-E,d+j,x-L*E,d+j,x);p.g.push(d+j,x+L*E,d+L*j,x+E,d,x+E);p.g.push(d-L*j,x+E,d-j,x+L*E,d-j,x);
p.g.push(d-j,x-L*E,d-L*j,x-E,d,x-E);return p};c.ct=function(h){c.Yu.call(this,[10,5],h?c.TT:c.gF,"tools/eyedropper");
this.z3=null;this.agF=!1;this.vR=0;this.ZG=null;this.O9=1;this._a=2;this.a5e=!0;this.Xd=!1};c.ct.prototype=new c.Yu;
c.ct.prototype.Th=function(h){return h.fE};c.ct.prototype.enable=function(h,e,v,J,m){c.Yu.prototype.enable.call(this,h,e,v,J,m);
this.agF=m};c.ct.prototype.iu=function(h,e,v,J,m){if(h.V=="pickhere")this.bg(v,e,m,null,h.aDk);if(h.V=="supertool")this.z3=h.I};
c.ct.prototype.HL=function(h,e,v,J,m){var d=this.z3;if(d){d.HL(h,e,v,J,m);return}if(jD==0){this.ZG=m;
this.vR=v.kc;var x=this.bg(h,null,v,J,m);this.ZT(h,e,x,m)}};c.ct.prototype._8=function(h,e,v,J,m){if(jD!=0)return;
var d=this.z3;if(d){d._8(h,e,v,J,m);return}var x=this.ZG;if(x){var j=m.x-x.x,E=m.y-x.y,L=1,p=new fq(x.x+j*L,x.y+E*L),Z=this.bg(h,null,v,J,p);
this.ZT(h,e,Z,p,new fq(j*(1-L),E*(1-L)))}};c.ct.prototype.ZT=function(h,e,v,J,m){var d=this.a5e,x=this.Xd;
if(h.p.e4>4)x=!1;if(!x&&!d)return;var j=c.ct.aiC(h,x,d,J,m,v,this.vR,this.O9),E=new g3(k.E.u,!0);E.data={V:k.l.zq,Tv:j};
e.a(E)};c.ct.prototype.ej=function(h,e,v,J,m,d){var x=this.z3;if(x){x.ej(h,e,v,J,m);return}if(jD==0){this.bg(h,e,v,J,m);
if(this.ZG){this.ZG=null;if(d)this.bg(h,e,v,J,m,this.vR);var j=new g3(k.E.u,!0);j.data={V:k.l.zq,Tv:"default"};
e.a(j)}}else{var E=h.p.$$(m.x,m.y),L=h.root.v0(new fq(Math.floor(E.x),Math.floor(E.y)));if(L==null)return;
var p=L.L.add,Z=p.vstl,o=p.TySh;console.log(p);if(Z==null&&o){var u=o.lf,N=fr.aX(u,0,1);Z={xJ:N.zI.FillColor.Values.slice(1),N0:[]}}if(Z==null)return;
var j=new g3(k.E.u);j.data={V:k.l.Gi,m0:dq.SH,J:B.t(Z)};e.a(j)}};c.ct.prototype.bg=function(h,e,v,J,m,d){if(d==null)d=c.ct.hY(h,m,this.O9,this._a);
var x=new g3(k.E.u);x.data={V:k.l.Gi,m0:dq.Ih,rf:!this.agF&&J&&J.r(dW.B2)?1:0,J:d};if(e)e.a(x);return d};
c.ct.aiC=function(h,e,v,J,m,d,x,j){if(m==null)m=new fq(0,0);var E=new fP(0,0,h.q,h._),L=h.pb(),p=12,Z=11,o=(p*2+1)*Z,u=new fq(o/2,o/2),N=new fP(0,0,o,o),M=B.U(N.$()*4),O=h.p.$$(J.x,J.y),F=Math.floor(O.x),W=Math.floor(O.y),f=new aJ;
f.scale(1/Z,1/Z);f.translate(F-p,W-p);if(e)B.scale.aBO(L,E,f,M,N);var $=(p-3.4)*Z,H=(p-1.7)*Z,A=p*Z;
for(var G=0;G<o;G++)for(var l=0;l<o;l++){var K=fq.mr(new fq(l,G),u);if(K>$){if(v){var U=Math.max(0,$-K+1),z=(G*o+l)*4,q=M[z+3]<<24|M[z]<<16|M[z+1]<<8|M[z+2],P=255<<24|(G<A+Z*.5?d:x);
if(K>H){U=Math.max(0,H-K+1);q=P;P=4286611584}else if(!e){q=P&16777215}M[z+0]=(1-U)*(P>>>16&255)+U*(q>>>16&255);
M[z+1]=(1-U)*(P>>>8&255)+U*(q>>>8&255);M[z+2]=(1-U)*(P>>>0&255)+U*(q>>>0&255);M[z+3]=(1-U)*(P>>>24&255)+U*(q>>>24&255)}if(K>A){M[(G*o+l)*4+3]=Math.max(0,255*(A-K+1))}}}function g(T){var R=T<<2;
M[R]=0;M[R+1]=0;M[R+2]=0;M[R+3]=255}function a(T){var R=T<<2;M[R]=255;M[R+1]=255;M[R+2]=255;M[R+3]=255}var w=j*Z+2,y=o-w>>>1,S=y+w-1;
if(e&&w<o)for(var T=0;T<w;T++){var i=y*o+y+T,C=S*o+y+T,Y=(y+T)*o+y,_=(y+T)*o+S;g(i);g(C);g(Y);g(_);if(T!=0&&T!=w-1){a(i+o);
a(C-o);a(Y+1);a(_-1)}}if(!e)for(var T=-9;T<=9;T++){if(-3<T&&T<3)continue;var t=o>>>1,l=t*o+t+T,G=(t+T)*o+t;
a(l-o);g(l);a(l+o);a(G-1);g(G);a(G+1)}var I=d>>>16&255,r=d>>>8&255,n=d>>>0&255,Q="RGB "+I+","+r+","+n,D=B.Wu([I/255,r/255,n/255]);
if(h.add.fcmy)Q="CMYK "+D.map(function(R){return Math.round(R*100)}).join(",");var dG=c.Yu.W3(0,0,["#"+B.zF(d),Q]),E=dG[1];
E.y=0;E.x=o-E.q>>>1;B.YZ(dG[0],E,M,N);return{wp:M,e3:N,Tc:new fq(u.x+m.x,u.y+m.y)}};c.ct.hY=function(h,e,v,J,m){if(J==null)J=2;
var d=h.p.$$(e.x,e.y),x,j,E=h.X.length==1&&h.T[h.X[0]].TM>0&&m!=!0,L=h.kH.length!=0,H=0,A=0,G=0;if(E||L){var p;
if(L)p=h.Ar[h.kH[0]];else{var Z=h.T[h.X[0]];p=Z.TM==1?Z.NH():Z.ail()}j=p.YO();if(!j.GX(d))return p.color==0?0:16777215;
x=B.U(j.$()*4);x.fill(255);var o=p.pJ();B.WS(o,x)}else if(J==0&&h.X.length!=0){var Z=h.T[h.X[0]];x=Z.buffer;
j=Z.R}else{x=J==2?h.pb():h.pb(h.X[0]);j=new fP(0,0,h.q,h._)}var u=Math.floor(d.x)-j.x,N=Math.floor(d.y)-j.y,M=(v-1)/2,O=Math.max(0,u-M),F=Math.max(0,N-M),W=Math.min(j.q,u+M+1),f=Math.min(j._,N+M+1),$=(W-O)*(f-F);
for(var u=O;u<W;u++)for(var N=F;N<f;N++){var T=4*(N*j.q+u);H+=x[T];A+=x[T+1];G+=x[T+2]}H=Math.round(H/$);
A=Math.round(A/$);G=Math.round(G/$);return H<<16|A<<8|G};c.ct.prototype.oy=function(h){var e=h.wK;this.O9=[1,3,5,11,31][e[0]];
this._a=e[1];this.a5e=e[2];this.Xd=e[3]};c.Sa=function(){c.Yu.call(this,[10,6],c.EZ,"tools/gradient");
this.wK=JSON.parse(fL.JC[6]);this.wK.Grad=JSON.parse(fL.GB.avC);this.yi=!1;this.IU=null;this.bh=null};
c.Sa.prototype=new c.Yu;c.Sa.prototype.enable=function(h,e,v,J){c.Yu.prototype.enable.call(this,h,e,v,J);
this.IU=h;if(this.yi)c.et.dS(h)};c.Sa.prototype._X=function(h,e,v,J){if(v.jR!=this.id)return;this.IU=h;
this.agd(h,e)};c.Sa.prototype.disable=function(h,e,v,J){this.IU=null;if(this.yi)c.et.zg(h)};c.Sa.prototype.agd=function(h,e){var v=c.et.LB(h);
this.yi=v!=null;var J=new g3(k.E.u,!0);J.data={V:k.l.vi,I:this.id,m0:v?h.T[h.X[0]].add.GdFl:this.wK,s:this.yi};
e.a(J);if(this.yi)c.et.dS(h);else c.et.zg(h)};c.Sa.prototype.oy=function(h){var e=this.IU;if(this.yi){var v=e.T[e.X[0]],J=v.add.GdFl;
if(J==null)return;this.x$=JSON.stringify(J);v.add.GdFl=h.m0;v.vT(e);e.dn();c.et.aBe(this,e);c.et.dS(e)}else this.wK=h.m0};
c.Sa.prototype.HL=function(h,e,v,J,m){if(this.yi){c.et.prototype.HL.call(this,h,e,v,J,m);return}if(!h.kC())return;
this.bh=c.Pj.$T(h,h.p.$$(m.x,m.y),v)};c.Sa.prototype._8=function(h,e,v,J,m){if(this.yi){c.et.prototype._8.call(this,h,e,v,J,m);
return}if(!this.bh)return;var d=h.p.$$(m.x,m.y);d=c.Pj.$T(h,d,v);if(J.r(dW.l$))d=c.Sa.hn(this.bh,d);
h.M.Qd={g:[this.bh.x,this.bh.y,d.x,d.y],WQ:["M","L"]};h.M.LK=[this.bh.x,this.bh.y,d.x,d.y];h.GI=!0};
c.Sa.prototype.ej=function(h,e,v,J,m){if(this.yi){c.et.prototype.ej.call(this,h,e,v,J,m);return}if(!this.bh)return;
var d=h.T[h.X[0]],x=h.p.$$(m.x,m.y);x=c.Pj.$T(h,x,v);if(J.r(dW.l$))x=c.Sa.hn(this.bh,x);if(fq.mr(this.bh,x)>2){var j;
if(h.K)j=h.K.R;else j=new fP(0,0,h.q,h._);var E=B.U(j.$()*4),L=this.wK,p=L.Type.v.GrdT,Z=L.Opct.v.val,o=this.bh;
if(p=="Lnr")o=new fq((o.x+x.x)/2,(o.y+x.y)/2);B.Vh.Xf(o,x,j,L);d4.uo(L,E,j,h,null,null,v.kc,v.kF);var u=E.length,N=Z/100;
if(Z!=100)for(var T=0;T<u;T+=4)E[T+3]=Math.round(E[T+3]*N);var M=new g3(k.E.A);M.I=c.dY;M.data={V:"fillBMP",T4:E,Cs:cc.lY(L.Md.v.BlnM),SQ:this.name};
e.a(M)}h.M.Qd=null;h.M.LK=[];h.GI=!0;this.bh=null};c.Sa.prototype.iu=function(h,e,v,J,m){function d(Z){Z=Z.v;
var o=Z.Hrzn.v.val,u=Z.Vrtc.v.val;return v.p.IK(o,u)}if(h.V=="fromAction"){var x=this.wK;this.wK=B.t(x);
var j=h.tT.TH,E=["Grad","Type","Opct","Dthr"];for(var T=0;T<E.length;T++)if(j[E[T]])this.wK[E[T]]=j[E[T]];
var L=d(j.From),p=d(j.T);this.HL(v,e,m,J,L);this.ej(v,e,m,J,p);this.wK=x}};c.Sa.hn=function(h,e){if(h.lS(e))return h;
var v=e.x-h.x,J=e.y-h.y,m=Math.abs(v),d=Math.abs(J);if(m>d)d=m/2>d?0:m;if(d>m)m=d/2>m?0:d;m=v>0?m:-m;
d=J>0?d:-d;var x=Math.sqrt(v*v+J*J)/Math.sqrt(m*m+d*d);return new fq(h.x+m*x,h.y+d*x)};c.Sa.lT=function(h,e,v,J,m,d,x){var j=new fP(0,0,e,v),E=B.U(e*v*4);
B.ts(E,e,v,4);var L=Math.sin(J),p=Math.cos(J),Z=B.U(e*v*4);B.Vh.YE(h,Z,j,[p*1/e,L*1/e,-L*1/v,p*1/v],e/2,v/2,!1,0,m,d);
B.B.lU("norm",Z,j,E,j,j,1);if(x)return new ImageData(new Uint8ClampedArray(E.buffer),e,v);else return gI.q0(E.buffer,e,v,null,null,!0)};
c.Sa.aoS=function(h,e,v){var J=B.t(h);if(J.Clrs)for(var T=0;T<J.Clrs.v.length;T++){var m=J.Clrs.v[T].v,d=m.Type.v.Clry;
if(d=="UsrS")continue;var x=d=="FrgC"?e:v;m.Type.v.Clry="UsrS";m.Clr={t:"Objc",v:B.Vh.WZ({n:x>>16&255,i:x>>8&255,b:x&255})}}return J};
c.Sa.prototype.W1=function(h,e){c.et.prototype.W1.call(this,h,e)};c.Sa.prototype.ZL=function(h,e){c.et.prototype.ZL.call(this,h,e)};
c.et=function(){c.Yu.call(this,"Vector Gradient",c.ax6,"tools/gradient");this.OY=null;this.HZ=null;this.jf=null;
this.x$};c.et.prototype=new c.Yu;c.et.prototype.enable=function(h,e,v,J){c.et.dS(h)};c.et.prototype._X=function(h,e,v,J){if(v.jR!=this.id)return;
c.et.dS(h)};c.et.prototype.disable=function(h,e,v,J){c.et.zg(h)};c.et.zg=function(h){if(h==null)return;
h.M.Yp=null;h.M.LK=[];h.GI=!0};c.et.prototype.HL=function(h,e,v,J,m){var d=c.et.LB(h);if(d==null&&jD==0){var x=new g3(k.E.Fq,!0);
x.data=c.XH.pH(1);e.a(x);d=c.et.LB(h)}if(d==null)return;var j=c.Pj.$T(h,h.p.$$(m.x,m.y),v),E=c.et.wn(d,j,h),L=h.T[h.X[0]],p=L.add.GdFl,Z=L.add.vstl;
this.x$=JSON.stringify(jD==0?p:Z);this.OY=j;if(E==-1){var o=d[1];this.HZ=[j.x,j.y,j.x+2,j.y];if(o[0]==1){this.HZ.push(j.x,j.y-2);
o[2][4]=1}this.jf=1;c.et.afM(h,this.HZ)}else{this.HZ=d[0];this.jf=E}};c.et.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=c.et.LB(h),j=this.jf;
if(j!=null){var E=this.HZ.slice(0);d=c.Pj.$T(h,d,v);if(J.r(dW.l$))d=c.Sa.hn(new fq(E[0],E[1]),d);var L=d.x-E[j*2],p=d.y-E[j*2+1];
if(j==0){for(var T=0;T<E.length;T+=2){E[T]+=L;E[T+1]+=p}}else{E[j*2]+=L;E[j*2+1]+=p}c.et.afM(h,E,j)}else if(x){var Z=c.et.wn(x,d,h),o=new g3(k.E.u,!0);
o.data={V:k.l.zq,Tv:Z==-1?"default":Z==0?"move":"pointer"};e.a(o)}c.et.dS(h)};c.et.wn=function(h,e,v){var J=6*c.A_()/v.p.e4,m=h[0],d=B.w.P0(m,e.x,e.y,J);
if(d==0&&m.length==8&&m[0]==m[6]&&m[1]==m[7])d=3;if(d==-1&&h[1][0]==1)d=B.w.P0(m.slice(0,2),e.x,e.y,2*J);
return d};c.et.prototype.ej=function(h,e,v,J,m){if(this.HZ==null)return;this.HZ=null;this.jf=null;c.et.aBe(this,h)};
c.et.aBe=function(h,e){var v=e.X[0],J=e.T[v],m=J.add.GdFl,d=J.add.vstl,x=JSON.stringify(m?m:d),j=e.history[e.uM];
if(j&&j.I==h&&j.data.bc==v)j.data.Yw=x;else{var E=new aO("Change Gradient",h);E.data={bc:v,wk:h.x$,Yw:x};
e.Mk(E)}};c.et.afM=function(h,e,v){var J=h.T[h.X[0]],m=J.add.GdFl,d=J.add.vstl,x=J.add.vmsk,j=new fq(e[0],e[1]),E=new fq(e[2],e[3]),L=new fq(e[4],e[5]),p=new fq(e[6],e[7]);
if(d){var Z=d.xJ[0],o=d.xJ[2],u=jQ.pB(j,E,new aJ),N=jQ.$V(Z,u,x.z);if(Z==1){var M=fq.mr(L,j)/fq.mr(E,j);
if(Math.abs(M-1)<.03)M=1;N[2][4]=v==2?M:o[4];if(v==3){if(fq.mr(p,j)/fq.mr(E,j)<.05)p=j.O();jQ.JY(N,j,E,p,N[2][4]);
if(N[2][6]>.999)N[2][6]=.999}else{N[2][5]=o[5];N[2][6]=o[6]}}N[1]=d.xJ[1];d.xJ=N}else{var Z=m.Type.v.GrdT,O=J.R;
if(Z=="Lnr"||Z=="Rflc"){j.x=(j.x+E.x)/2;j.y=(j.y+E.y)/2}B.Vh.Xf(j,E,O,m);J.vT(h)}h.dn()};c.et.LB=function(h){if(h==null||h.X.length==0)return;
var e=h.T[h.X[0]],v=e.add.GdFl,J=e.add.vstl;if(v==null&&J==null)return;if(J==null)J=e7.mv(e.add,h);var m=J.xJ;
if(m.length!=4)return;var d=e.add.vmsk?e.add.vmsk.z:B.s.z0.Rect(0,0,h.q,h._),x=jQ.Ep(m,d),d=[0,0,1,0];
if(jD==1&&m[0]==1){var j=m[2][5]*Math.PI/180,E=m[2][6];d.push(0,-1,Math.cos(j)*E,-Math.sin(j)*E)}B.w.C(d,x,d);
return[d,m,x]};c.et.dS=function(h){if(h)c.et.zg(h);var e=c.et.LB(h);if(e==null)return;var v=e[0],J=e[1],m=e[2],d={g:v.slice(0,4),WQ:["M","L"]};
if(J[0]==1){var x=B.s.z0.FO(-1,-1,2,2),j=B.w._i(x);B.w.C(j.g,m,j.g);B.w.concat(d,j)}h.M.Yp=d;h.M.LK=v;
h.GI=!0};c.et.prototype.W1=function(h,e){var v=e.T[h.bc],J=jD==0?"GdFl":"vstl";if(h.Yw){v.add[J]=JSON.parse(h.Yw);
v.vT(e);e.dn();c.et.zg(e)}};c.et.prototype.ZL=function(h,e){var v=e.T[h.bc],J=jD==0?"GdFl":"vstl";if(h.Yw){v.add[J]=JSON.parse(h.wk);
v.vT(e);e.dn();c.et.zg(e)}};c.Vw=function(){c.Yu.call(this,[10,7],c.I5,"tools/hand");this.uH=!1;this.ZG=new fq(0,0);
this.Q9=null;this.qi=0};c.Vw.prototype=new c.Yu;c.Vw.prototype.oy=function(h,e,v,J){this.uH=h.uH};c.Vw.prototype.iu=function(h,e,v,J,m){var d=h.V;
if(d=="setcls"){v.p.Y=h.Y;v.GI=!0;v.NK=!0}if(d=="scroll"&&!J.r(dW.B2)){if(J.r(dW.Dd))c.Vw.Jn(v,v.p.d.x-h.Mx.y,v.p.d.y-h.Mx.x);
else c.Vw.Jn(v,v.p.d.x-h.Mx.x,v.p.d.y-h.Mx.y)}};c.Vw.prototype.enable=function(h,e,v,J){this.Q9=null;
var m=new g3(k.E.u,!0);m.data={V:k.l.zq,Tv:"grab"};e.a(m);if(h&&Date.now()-this.qi<300){m.c=k.E.A;m.I=c.ZM;
m.data={V:"adapt",J:"fitscr"};e.a(m)}this.qi=Date.now()};c.Vw.prototype.HL=function(h,e,v,J,m){this.Q9=h.p.d.O();
this.ZG.Cg(m.x,m.y)};c.Vw.prototype._8=function(h,e,v,J,m){if(!m.fE)return;if(this.Q9==null)this.HL(h,e,v,J,m);
var d=this.uH?e.qk:[h];for(var T=0;T<d.length;T++)c.Vw.Jn(d[T],this.Q9.x+(m.x-this.ZG.x),this.Q9.y+(m.y-this.ZG.y))};
c.Vw.prototype.ej=function(h,e,v,J,m){this.Q9=null};c.Vw.Jn=function(h,e,v){var J=h.p.e4,m=h.p.L1,d=m.q,x=m._,j=B.w.Tp(new fP(0,0,h.q,h._)).g,E=new aJ;
E.rotate(h.p.dW);B.w.C(j,E,j);var L=B.w.oS(j),p=L.q*J,Z=L._*J,o=p<d&&Z<x,u=d/2+p/2-64,N=x/2+Z/2-64;h.p.d.Cg(Math.max(-u,Math.min(u,e)),Math.max(-N,Math.min(N,v)));
h.NK=!0};c._6=function(){c.Yu.call(this,[10,47],c.Ue,"tools/rview");this.ZG=new fq(0,0);this.T$=null;
this.ID=null;this.qi=0};c._6.prototype=new c.Yu;c._6.prototype.enable=function(h,e,v,J){this.Q9=null;
var m=new g3(k.E.u,!0);m.data={V:k.l.zq,Tv:"grab"};e.a(m);if(h&&Date.now()-this.qi<300&&h.p.dW!=0){h.p.dW=0;
h.GI=!0}this.qi=Date.now();if(h)this.Go(h,e)};c._6.prototype.disable=function(h,e,v,J,m){if(h)this.Go(h,e)};
c._6.prototype.Kj=function(h,e,v,J){if(h)this.Go(h,e)};c._6.prototype.HL=function(h,e,v,J,m){this.ZG.Cg(m.x,m.y);
var d=h.p;this.T$=d.$$(d.L1.q/2,d.L1._/2);this.ID=d.MJ();var x=d.$$(d.L1.q/2,d.L1._/2),j=Math.min(d.L1.q,d.L1._)*.35/d.e4,E=j*.2,L=x.x,p=x.y;
h.M.Qd={WQ:"M L L L L L".split(" "),g:[L,p,L,p-j,L+E,p,L,p+j,L-E,p,L,p-j]};h.GI=!0};c._6.prototype.auj=function(h){var e=h.p,v=e.$$(e.L1.q/2,e.L1._/2);
h.M.Qd={WQ:["M","L"],g:[v.x,v.y,v.x,v.y-200]}};c._6.prototype._8=function(h,e,v,J,m){if(!m.fE)return;
var d=h.p,x=this.T$,j=this.ZG,E=new fq(d.L1.q/2,d.L1._/2),L=Math.atan2(m.y-E.y,m.x-E.x),p=Math.atan2(j.y-E.y,j.x-E.x),Z=Math.atan2(this.ID.b,this.ID.DR),o=L-p,u=Math.PI/4;
if(J.r(dW.l$)){o=Z+u*Math.round((o-Z)/u)}this.a4L(h,e,this.ID.O(),x,o)};c._6.prototype.ej=function(h,e,v,J,m){h.M.Qd=null;
h.GI=!0};c._6.prototype.oy=function(h,e,v,J){this.a4L(v,e,null,null,h.Yk-v.p.dW);v.p.dW=h.Yk};c._6.prototype.a4L=function(h,e,v,J,m){var d=h.p;
if(v==null)v=d.MJ();if(J==null)J=d.$$(d.L1.q/2,d.L1._/2);v.translate(-J.x,-J.y);v.rotate(m);v.translate(J.x,J.y);
d.ags(v);if(h.q*d.e4<d.L1.q&&h._*d.e4<d.L1._)d.d.Cg(0,0);h.GI=!0;this.Go(h,e)};c._6.prototype.Go=function(h,e){var v=new g3(k.E.u,!0);
v.data={V:k.l.vi,I:this.id,Yk:h.p.dW};e.a(v)};c.jz=function(){c.SF.call(this,[10,25],c.nE,"tools/hbrush")};
c.jz.prototype=new c.SF("");c.jz.prototype.ej=function(h,e,v,J,m){if(this.yj==null)return;this.i4(h,"heal",this.yj.ju(),this.yj.YO(),this.yj.kp());
this.dn(h,this.yj.kp());c.Bt.prototype.ej.call(this,h,e,v,J,m);if(!this.wK.algnd)this.d=null};c.Cf=function(h){c.Yu.call(this,h?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],h?c.Lu:c.HV,h?"tools/vtype":"tools/htype");
this.UL=[];this.H=null;this.caller=null;this.oi=1;this.NG=0;this.u9=null;this.aCS=0;this.HY=0;this.aCH=null;
this.gi=null;this.Ic=null;this.m3=null;this.gD=null;this.wD=null;this.agy=null;this.dA=null;this.al=null;
this.XS=null;this.ab6=null;this.By=!1;this.FH=!1;this.ye=!1;this.b4=null;this.FQ=null;this.aqg=null;
this.ez=!1;this.Cq=!1;this.RD=-1;this.lt=-1;this.Eb=document.createElement("textarea");this.Eb.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Eb.addEventListener("input",this.t1.bind(this),!1);this.Eb.addEventListener("keydown",this.aC_.bind(this),!1);
this.Eb.addEventListener("keyup",this.ac8.bind(this),!1)};c.Cf.prototype=new c.Yu;c.Cf.prototype.Th=function(h){return h.fE};
c.Cf.prototype._X=function(h,e,v,J){if(this.Ic!=null||this.id==c.Lu)return;this.caller=e;var m=this.aa5(h);
if(m.length!=0){var d=null,x=[],j=[];for(var T=0;T<m.length;T++){var E=h.T[m[T]],L=E.add.TySh,p=0,Z=fr.X3(L.lf).length-2,o=fr.aX(L.lf,p,Z);
fr.UI(o,L.C.n$());if(o.zI.Font!=null)o.zI.Font=o.k0[o.zI.Font].Name;d=o.k0;x.push(o.zI);j.push(o.UZ)}var o={k0:d,zI:fr.Eh(x),UZ:fr.Eh(j)};
if(o.zI.Font!=null)fr.wm(o,o.zI.Font);this.aeZ(e,o,L)}};c.Cf.prototype.aa5=function(h){var e=[];for(var T=0;
T<h.X.length;T++)if(h.T[h.X[T]]&&h.T[h.X[T]].add.TySh)e.push(h.X[T]);return e};c.Cf.prototype.iu=function(h,e,v,J,m){var d=h.V=="insertGlyph",x=h.V=="copyText",j=h.V=="selectAll";
if((d||x||h.V=="insertText"||j)&&this.Ic){var E=d?String.fromCharCode(65533):h.J,L=this.Eb,p=L.value,Z=L.selectionStart,o=L.selectionEnd;
if(x){ke.Pt(new Blob([p.slice(Z,o)],{type:"text/plain"}))}else if(j){this.RD=L.selectionStart=0;this.lt=L.selectionEnd=p.length;
this.ST(v);L.focus()}else{L.value=p.slice(0,Z)+E+p.slice(o);L.selectionStart=L.selectionEnd=Z+E.length;
this.t1(null,d?h.J:null);L.focus()}}if(h.V=="updateStyles"){if(this.Ic==null){var u=this.aa5(v),N=!1;
if(u.length!=0){this.lE(v,e,m,u);for(var T=0;T<u.length;T++){var M=v.T[u[T]],O=M.add.TySh;fr.io(O,this.oi);
O.fB.VAlign.v=this.NG;this.Ic=M;var F=fr.X3(O.lf);this.RD=0;this.lt=F.length-1;fr.UE(O.lf,this.RD,this.lt,this.XT(m,O));
var W=this.IV(v,m);if(W==!1)N=!0}if(N){this.ez=!0;return}this.Kx(v,e,!0)}return}this.VM(m)}if(h.V.startsWith("warp")){var f=this.Cq;
if(h.V=="warp"||h.V=="warpCancel"){if(this.Ic==null)return;if(h.V=="warp")this.Ic.add.TySh.a5=h.aI;else this.Ic.add.TySh.a5=this.agy;
this.IV(v,m);if(!f)this.ST(v)}if(h.V!="warp")this.Eb.focus();if((h.V=="warpConfirm"||h.V=="warpCancel")&&f){this.Cq=!1;
if(h.V=="warpConfirm")this.Kx(v,e);else this.wY(v,e)}}if(h.V=="editCurr"){if(m.jR!=c.HV){this.u9=m.jR;
var $=new g3(k.E.u,!0);$.data={V:k.l.px,I:c.HV};e.a($)}if(this.Ic!=null)this.disable(v,e,m,J);this.H=m;
this.caller=e;this.lE(v,e,m,[h.NP]);var F=fr.X3(this.Ic.add.TySh.lf);this.RD=0;this.lt=F.length-1;this.ST(v);
this.WH();this.Eb.focus()}if(h.V=="switchPntPrgr"){if(this.Ic)return;var M=v.T[v.X[0]],O=M.add.TySh,H=O.C.n$(),A=M.D5(),G=B.t(O.lf),l=fr.tO(G),K=l==1?fr.hi(G):[0,0,Math.round(A.q*1.05/H),Math.round(A._*1.25/H)],U=fr.aX(G,0,0),z=U.k0[U.zI.Font].Name,q=m.eN.xs(z),P=[0,K[2],K[2]/2][U.UZ.Justification%3],g=(q?em.Z9(q):.8)*U.zI.FontSize;
fr.Ii(G,1-l);if(l==0){console.log(em.Z9(q,z,U.zI));P=-P;g=-g;fr.Uv(G,[0,0,K[2],K[3]])}var a=new aJ(1,0,0,1,P,g);
a.concat(O.C);this.iu({Ed:v.X[0],V:"newED",gW:G,C:a,ami:[16,3,l==1?0:1]},e,v,J,m)}if(h.V=="newED"){var M=v.T[h.Ed],O=M.add.TySh,w=this.XI(v,[h.Ed]);
O.lf=h.gW;if(h.C)O.C=h.C;if(hP.fm(O,m.eN,e)){hP.IV(M,m.eN,v);v.dn()}else v.cj=!0;var y=new aO(h.ami?h.ami:this.name,this);
y.data={ex:w,y0:this.XI(v,[h.Ed])};v.Mk(y)}if(h.V=="fromAction"){var S;if(h.tT.UH=="set"){S=h.tT.TH.T.v}else{S=h.tT.TH.Usng.v;
var i=S.TxtC.v,C=[];for(var T=0;T<2;T++){var Y=i[T==0?"Hrzn":"Vrtc"].v,E=Y.val;if(Y.type=="#Prc")E=(T==0?v.q:v._)*(E/100);
C[T]=E}this.h4(v,e,m,J,v.p.IK(C[0],C[1]),!0)}var M=v.T[v.X[0]],O=M.add.TySh,_=O.lf,p=fr.X3(_);fr.ED(_,0,p.length-1);
fr.hj(_,0,S.Txt.v.replace(/\r/g,"\n"));p=fr.X3(_);for(var l=0;l<2;l++){var t=S[l==0?"Txtt":"paragraphStyleRange"];
if(t==null)continue;t=t.v;for(var T=0;T<t.length;T++){var I=t[T].v,Z=I.From.v,o=Math.min(I.T.v-1,p.length-1);
I=I[l==0?"TxtS":"paragraphStyle"].v;var r=fr.aX(_,Z,o),n=l==0?r.zI:r.UZ;for(var Q in I){var D=I[Q].v;
if(Q=="Sz")n.FontSize=Math.round(D.val*(D.type=="#Pnt"?v.gx/72:1));else if(Q=="fontPostScriptName")fr.wm(r,D);
else if(Q=="Algn")n.Justification={Left:1,Cntr:2}[D.Alg];else if(Q=="leading")n.Leading=I[Q].v.val;else if(Q=="baselineShift")n.BaselineShift=I[Q].v.val;
else if(Q=="autoLeading")n.AutoLeading=I[Q].v;else if(Q=="syntheticBold")n.FauxBold=I[Q].v;else if(Q=="syntheticItalic")n.FauxItalic=I[Q].v;
else if(Q=="Trck")n.Tracking=I[Q].v;else if(Q=="verticalScale")n.VerticalScale=I[Q].v/100;else if(Q=="horizontalScale")n.HorizontalScale=I[Q].v/100;
else if(Q=="Clr")n.FillColor={Type:1,Values:[1,D.Rd.v/255,D.Grn.v/255,D.Bl.v/255]}}fr.UE(_,Z,o,r)}}if(hP.gu(v,m.eN,e))hP.IV(M,m.eN,v);
else v.cj=!0;v.dn();this.Kx(v,e)}};c.Cf.prototype.VM=function(h){var e=Math.min(this.RD,this.lt),v=Math.max(this.RD,this.lt),J=this.Ic.add.TySh;
fr.io(J,this.oi);J.fB.VAlign.v=this.NG;var m=this.XT(h,J);fr.UE(J.lf,e,v-1,m);var d=this.caller.LV(),x=this.IV(d,h);
if(x)this.ST(d);if(document.activeElement.tagName.toLowerCase()!="input")this.Eb.focus()};c.Cf.prototype.yz=function(h){return this.UL.indexOf(h)!=-1};
c.Cf.prototype.enable=function(h,e,v,J){var m=this.Eb;e.Z.appendChild(m);this.dA="default";this.ZT(e)};
c.Cf.prototype.G0=function(){return this.Ic!=null};c.Cf.gE=function(h,e){var v=new fq(e.x,e.y);for(var T=h.T.length-1;
T>=0;T--){var J=h.T[T],m=J.add.TySh;if(m&&h.a43(T)){var d=v,x=J.R;if(jD==1){var j=m.C.O();j.ia();d=j.w7(v);
x=J.em.NW}if(!x.GX(d))continue;var E=J.o1(31);return E?-2:T}}return-1};c.Cf.prototype.HL=function(h,e,v,J,m){this.H=v;
this.caller=e;var d=h.p.$$(m.x,m.y),x=this.Ic==null;if(x){var j=c.Cf.gE(h,d);if(j==-2){alert(bj.get([6,57,0]));
return}if(j>=0&&!J.r(dW.l$)){if(!hP.fm(h.T[j].add.TySh,v.eN,e)){alert("Fonts not loaded yet");return}this.lE(h,e,v,[j])}else{this.ye=!0;
this.b4=m;return}}var E=x?-1:fr.tO(this.Ic.add.TySh.lf),L=this.XS?this.XS:this.al,p=L&&L.HL(h,v,J,d,null,null,m)&&B.aI.bS(this.Ic.add.TySh.a5),Z=!x&&B.w.a7x(d,this.Ic.D5())>20/h.p.e4&&(E==0||E==1);
if(p||Z){this.By=!0;this.FQ=d;this.aqg=this.Ic.add.TySh.C.O();if(this.RD==-1&&this.lt==-1)this.RD=this.lt=this.jB(d)}else{if(this.gD==null){alert("Fonts not loaded yet");
return}this.FH=!0;this.RD=this.lt=this.jB(d);var o=Date.now();if(o-this.aCS>300)this.HY=0;this.HY++;
this.aCS=o;if(this.HY==2)this.a7c();if(this.HY==3)this.ayL();if(this.HY>1){this.FH=!1}}this.WH();this.ST(h)};
c.Cf.prototype.lE=function(h,e,v,J){var m=h.T[J[0]];this.Ic=m;this.f3(e,k.E.u,{V:k.l.vi,I:this.id,nI:"showactive"});
this.m3=J;h.X=J.slice(0);h.n6();h.vn=!0;this.wD=this.XI(h,J);this.pl(m.add.TySh);this.IV(h,v)};c.Cf.prototype.pl=function(h){if(fr.tO(h.lf)!=1)return;
var e=fr.hi(h.lf);e=new fP(0,0,e[2]-e[0],e[3]-e[1]);var v=[e.x,e.y,e.x+e.q,e.y,e.x+e.q,e.y+e._,e.x,e.y+e._];
B.w.C(v,h.C,v);this.al=new hu(v,!1,!1,!1,!0);this.al.Y_(0)};c.Cf.prototype.a7c=function(){var h=fr.X3(this.Ic.add.TySh.lf);
this.RD=this.a9U(h,this.RD);this.lt=this.azN(h,this.RD)};c.Cf.prototype.a9U=function(h,e){var v=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",J=[];
for(var T=0;T<v.length;T++)J.push(v.charAt(T));var m=J.indexOf(h[e])==-1?!0:!1;for(var T=e-1;T>=0;T--)if(J.indexOf(h.charAt(T))!=-1==m)return T+1;
return 0};c.Cf.prototype.azN=function(h,e){var v=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",J=[];for(var T=0;
T<v.length;T++)J.push(v.charAt(T));var m=J.indexOf(h[e])==-1?!0:!1;for(var T=e+1;T<h.length;T++)if(J.indexOf(h.charAt(T))!=-1==m)return T;
return h.length-1};c.Cf.prototype.ayL=function(){var h=this.gD.afD(this.RD);this.RD=h[0];this.lt=h[1]};
c.Cf.prototype.ZT=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.zq,Tv:this.dA};h.a(e)};c.Cf.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=this.Ic;
if(!m.fE){var j="default",E=this.al,L=this.XS?this.XS:E;if(L&&B.aI.bS(x.add.TySh.a5)){var p=L.hb(d,h.p.e4,null,m);
if(p)j=p;else if(L==E&&E.Bm(d))j="text"}else if(x&&B.w.a7x(d,x.D5())>20/h.p.e4)j="move";else if(c.Cf.gE(h,d)>=0)j="text";
if(j!=this.dA){this.dA=j;this.ZT(e)}}var Z=this.b4;if(this.ye&&Math.min(m.x-Z.x,m.y-Z.y)>4/h.p.e4){this.ye=!1;
this.h4(h,e,v,J,m);x=this.Ic;this.By=!0;this.al=new hu(null,!1,!1,!1,!0);this.al.Y_(0);var o=h.p.$$(this.b4.x,this.b4.y);
o.x=Math.round(o.x);o.y=Math.round(o.y);this.al.HL(h,v,J,o,null,null,m,h.p.dW)}if(this.By){var u=x.add.TySh;
if(this.XS){this.XS._8(h,v,J,d);var N=B.D.FY(B.D.s6(this.XS.Un(),this.ab6));u.C=N;this.IV(h,v);fr.BA(u)}else if(this.al){this.al._8(h,v,J,d);
var M=u.C.O(),O=Math.atan2(M.b,M.DR);M.rotate(O);var N=B.D.FY(B.D.s6(this.al.Un())),F=Math.atan2(N.b,N.DR);
N.rotate(F);if(!isNaN(N.DR)&&N.DR*N.l_-N.b*N.tg!=0){var W=new fP(0,0,N.DR/M.DR,N.l_/M.l_),f=Math.round(W.q),$=Math.round(W._),H=u.lf.Curve;
if(H){var A=fr.hi(u.lf),G=new aJ(f/A[2],0,0,$/A[3],0,0);B.w.C(H.Points,G,H.Points);fr.BA(u)}fr.Uv(u.lf,[0,0,f,$]);
u.C=B.D.FY(B.D.s6(this.al.Un(),W));this.IV(h,v);fr.BA(u)}}else{var l=d.x-this.FQ.x,K=d.y-this.FQ.y;u.C=this.aqg.O();
var U=new fq(u.C.TO+l,u.C.bZ+K);U=c.Pj.$T(h,U,v);u.C.TO=U.x;u.C.bZ=U.y;this.IV(h,v)}}if(this.FH)this.lt=this.jB(d);
if(this.By||this.FH)this.ST(h)};c.Cf.prototype.h4=function(h,e,v,J,m,d){var x=h.rx(),j=x[0],E=x[1],L=h.ws();
L.add.lnsr="rend";var p=h.T.slice(0);L.Ip("Text layer "+p.length);this.Ic=L;var Z=h.X.length==0?h.T.length-1:h.X[h.X.length-1],o=Z+1;
if(p[Z].add.lsct==d7.W$)o--;this.wD={OA:p.slice(0),B1:h.X.slice(0)};p.splice(o,0,L);h.X=[o];this.RD=this.lt=0;
h._g(p);this.wD.P1=p.slice(0);this.wD.at=h.X.slice(0);this.f3(e,k.E.u,{V:k.l.vi,I:this.id,nI:"showactive"});
var u=h.p.$$(m.x,m.y),N=v.Xi;console.log(N);if(this.id==c.Lu){N=B.t(N);N.zI.BaselineDirection=1}L.add.TySh=fr.YI(u.x,u.y,N,h.p.dW);
var M=L.add.TySh,O=M.lf;if(this.id==c.Lu)O._LineOrientation=2;fr.io(M,this.oi);M.fB.VAlign.v=this.NG;
if(m.fE)fr.Ii(O,1);else{fr.Ii(O,0);var F=j[E.pop()],W=F?F.add.vmsk:null;if(d)W=null;if(W&&!J.r(dW.l$)){W=W.O();
var f=W.z,H,A;for(var T=0;T<f.length;T++)if(f[T].Jb!=null)f[T].Jb=0;var $=5/h.p.e4;H=B.s.v0(W.z,u,!0,$);
if(H.yl==-1)H=B.s.v0(W.z,u);if(H.yl!=-1){fr.Ii(O,1);var G=B.s.n2(f,H.yl),l=B.s.lo(f,H.yl)-1;f=W.z=f.slice(0,2).concat(f.slice(G,G+l+1));
W.X=[];M.add={vmsk:W,vogk:s.d6(f)};O.Curve={};fr.dd(M);if(H.QU!=null){var K=em.sx(O.Curve);B.w.C(K[0],M.C,K[0]);
var U=B.w.P0(K[0],u.x,u.y),z=v.Xi.UZ.Justification;if(z==2||z==5){var q=(K[2][U]+K[3]*.5)%K[3];U=em.QB(q,K[2])}var P=K[1][U];
P=P%l;W.sf=[P,P];fr.dd(M)}else this.pl(M)}}}return L};c.Cf.prototype.ej=function(h,e,v,J,m,d){if(d){this.ye=!1;
return}if(this.Ic==null&&!this.ye)return;var x=h.p.$$(m.x,m.y),j=this.ye;if(this.ye){this.ye=!1;this.h4(h,e,v,J,m);
this.FH=!0}if(this.By||this.FH){this.ST(h);this.WH();if(j)this.VM(v)}if(this.By&&this.al)this.al.ej(h,v,J,x);
this.By=this.FH=!1;this.Eb.focus()};c.Cf.prototype.WH=function(){var h=this.Ic.add.TySh,e=Math.min(this.RD,this.lt),v=Math.max(this.RD,this.lt),J,m;
if(e==v){var d=fr.X3(h.lf);if(e==0||d.charAt(e-1)=="\n")J=m=e;else J=m=e-1}else{J=e;m=v-1}var x=fr.aX(h.lf,J,m);
fr.UI(x,h.C.n$());this.aeZ(this.caller,x,h)};c.Cf.prototype.aeZ=function(h,e,v){this.f3(h,k.E.u,{V:k.l.Gi,m0:dq.PC,Xi:e});
var J=this.oi=fr.lh(v),m=this.NG=v.fB.VAlign.v;this.f3(this.caller,k.E.u,{V:k.l.vi,I:this.id,nI:"changeOther",in:J,Yc:m})};
c.Cf.prototype.ZF=function(h,e,v,J,m){if(h==null)return;var d=h.p.$$(m.x,m.y),x=c.Cf.gE(h,d);if(x==-1)return;
var j=new g3(k.E.u,!0);j.data={V:k.l.vi,I:this.id,nI:"showpan",ans:this.Ic!=null,NP:x,zG:m,PD:h,H:v};
e.a(j)};c.Cf.prototype.a94=function(){var h=this.Ic;if(h&&!this.By&&this.XS!=null){var e=this.caller.LV();
this.XS.ej(e,this.H,null,null);this.XS=null;this.pl(h.add.TySh);this.ST(e)}};c.Cf.prototype.disable=function(h,e,v,J){var m=this.Ic;
this.Kx(h,e)};c.Cf.prototype.oy=function(h,e,v,J,m){if(this.Cq)return;if(h.nI=="commit")this.Kx(v,e);
if(h.nI=="cancel")this.wY(v,e);if(h.nI=="changeOther"){this.oi=h.in;this.NG=h.Yc;if(v!=null)this.iu({V:"updateStyles"},e,v,J,m)}if(h.nI=="showwarp"){if(v==null)return;
if(this.Ic==null){var d=v.T[v.X[0]],x=d.add.TySh;if(x==null)return;this.lE(v,e,m,[v.X[0]]);this.Eb.focus();
this.Cq=!0}this.agy=this.Ic.add.TySh.a5;var j=new g3(k.E.u,!0);j.data={V:k.l.Xq,dF:"textwarp"};e.a(j)}};
c.Cf.prototype.fa=function(h,e){if(e!=dq.Na)return;if(this.ez){this.ez=!1;var v=this.caller.LV(),J=this.m3;
for(var T=0;T<J.length;T++){this.Ic=v.T[J[T]];this.IV(v,h)}this.Kx(v,this.caller);return}if(this.Ic)this.VM(h)};
c.Cf.prototype.XT=function(h,e){var v=B.t(h.Xi);fr.UI(v,1/e.C.n$());return v};c.Cf.prototype.W1=function(h,e){if(h.ex!=null)this.eG(e,h.y0);
else this.anY(e,h.P1,h.at)};c.Cf.prototype.ZL=function(h,e){if(h.ex!=null)this.eG(e,h.ex);else this.anY(e,h.OA,h.B1)};
c.Cf.prototype.eG=function(h,e){for(var T=0;T<e.length;T++){var v=e[T],J=v.Ed,m=h.T[J];m.buffer=v.ND;
m.R=v.e3.O();m.dn();m.em.$O=null;m.em.path=null;var d=m.add.TySh;d.a5=v.aI;d.dP=v.dP.O();d.C=v.C.O();
d.lf=B.t(v.lf);m.XW()}h.dn()};c.Cf.prototype.XI=function(h,e){var v=[];for(var T=0;T<e.length;T++){var J=e[T],m=h.T[J],d=m.add.TySh;
v.push({Ed:J,C:d.C.O(),aI:B.t(d.a5),dP:d.dP.O(),lf:B.t(d.lf),ND:m.buffer.slice(0),e3:m.R.O()})}return v};
c.Cf.prototype.anY=function(h,e,v){h.X=v;h._g(e);h.dn();h.L9=!0};c.Cf.prototype.IV=function(h,e,v){if(v==null)v=!1;
var J=this.Ic.add.TySh;if(!hP.fm(J,e.eN,this.caller))return!1;if(!v){var m=fr.X3(J.lf);this.Eb.value=m.slice(0,m.length-1)}var d=this.Ic.R,x=hP.IV(this.Ic,e.eN,h);
this.gD=x[1];var j=this.gD.V0();if(B.aI.bS(J.a5))J.dP=new fP;else{if(fr.tO(J.lf)==1){var E=fr.hi(J.lf),iW=j.y;
J.dP=new fP(0,iW,E[2]-E[0],E[3]-E[1]-iW)}else J.dP=j}h.Bb();if(x[2])h.dn(h.root.Tj(x[2].e3.R$(d),h,h.T.indexOf(this.Ic)));
return!0};c.Cf.prototype.t1=function(h,e){if(this.Ic==null||this.Cq)return;var v=this.Eb.selectionStart,J=this.Ic.add.TySh,m=fr.X3(J.lf),d=this.Eb.value+"\n",x=Math.min(this.RD,this.lt),j=Math.max(this.RD,this.lt),o=!1;
this.RD=Math.min(v,x);if(d.length-v<m.length-this.lt)this.lt=m.length-d.length+v;if(m!=d){while(this.RD>0&&m.charAt(this.RD-1)!=d.charAt(this.RD-1))this.RD--}var E=m.substring(0,this.RD),L=m.substring(this.lt,m.length),p=d.substring(this.RD,d.length-L.length);
fr.ED(J.lf,this.RD,this.lt);fr.hj(J.lf,this.RD,p);if(e!=null)fr.a3N(J.lf,this.RD,e);var Z=this.XT(this.H,J),u=-1,N=Array.from(p);
for(var T=0;T<N.length;T++)u=Math.max(u,N[T].codePointAt(0));if(u!=-1&&u>128&&u!=65533&&Z.zI.Font!=null){var M=Z.k0[Z.zI.Font].Name,O=this.H.eN.agC(u,M,Z.k0);
if(M!=O){fr.wm(Z,O);o=!0}}if(this.gi!=null&&p==this.gi){var F=JSON.parse(this.aCH);fr.UI(F,1/J.C.n$());
Z.zI=F.zI;Z.k0=F.k0;o=!0}fr.UE(J.lf,this.RD,this.RD+p.length-1,Z);this.RD=this.lt=E.length+p.length;
var W=this.caller.LV(),f=this.IV(W,this.H,!0);if(f)this.ST(W,!0);if(o)this.WH()};c.Cf.prototype.ac8=function(h){var e=dW;
if(!h.ctrlKey)this.a94();h.stopPropagation()};c.Cf.prototype.aC_=function(h){h.stopPropagation();var e=h.ctrlKey||h.metaKey,v=dW,E=0,L=0,f=0,g=!1;
if(this.Ic==null||this.Cq)return;if(this.Ic==null)return;if(this.caller.rs.He())return;var J=this.caller.LV();
if(this.XS==null&&e){var m=this.Ic.add.TySh,d=fr.tO(m.lf),x;if(d==1){x=fr.hi(m.lf);x=new fP(0,0,x[2]-x[0],x[3]-x[1])}else x=this.gD.V0();
var j=[x.x,x.y,x.x+x.q,x.y,x.x+x.q,x.y+x._,x.x,x.y+x._];B.w.C(j,m.C,j);this.XS=new hu(j,!0,!0,!1,!1);
this.XS.Y_(0);this.ab6=x;this.ST(J)}if(v.ll(h.code,v.Am))E=1;if(v.ll(h.code,v.K_))E=-1;if(v.ll(h.code,v.nk))L=-1;
if(v.ll(h.code,v.nG))L=1;var p=v.ll(h.code,dW.pc),Z=v.ll(h.code,dW.a9D);if(v.ll(h.code,dW.zD)&&e){this.Kx(J,this.caller);
return}if(v.ll(h.code,dW.BC)){this.wY(J,this.caller);return}if(v.ll(h.code,dW.Po)){h.preventDefault();
var o=this.Eb,u=o.value,N=o.selectionStart,M=o.selectionEnd;o.value=u.substring(0,N)+"\t"+u.substring(M);
o.selectionStart=o.selectionEnd=N+1;this.t1(null);return}var O=v.ll(h.code,v.ci),F=v.ll(h.code,v.As);
if(e&&(O||F)){h.preventDefault();var W=new g3(k.E.A,!0);W.I=c.ZM;W.data={V:"zoom",YV:O};this.caller.a(W)}if(v.ll(h.code,v.os))f=1;
if(v.ll(h.code,v.W6))f=-1;var $=this.RD==this.lt,H=e&&h.shiftKey&&f!=0&&!$;if(H||h.altKey&&E!=0){var A=B.t(this.H.Xi);
if(H){var G=A.zI.FontSize;if(G==null)G=16;A.zI.FontSize=Math.max(1,G+f*(h.altKey?5:1))}else{if($){A.zI.Kerning+=20*E;
A.zI.AutoKerning=!1}else A.zI.Tracking+=20*E}h.preventDefault();var l=new g3(k.E.u,!0);l.data={V:k.l.Gi,m0:dq.PC,Xi:A};
this.caller.a(l);var W=new g3(k.E.A,!0);W.I=c.HV;W.data={V:"updateStyles"};this.caller.a(W);return}if((v.ll(h.code,v.jo)||v.ll(h.code,v.R6))&&e){var K=this.RD,U=this.lt;
if(K>U){var z=K;K=U;U=z}var m=this.Ic.add.TySh,q=fr.X3(m.lf);if(K!=U){this.gi=q.slice(K,U);this.aCH=JSON.stringify(this.H.Xi)}}var P=fr.X3(this.Ic.add.TySh.lf);
if(E!=0||L!=0||p||Z){h.preventDefault();var a=this.RD;if(E!=0){if(e&&E==-1)a=this.a9U(P,this.RD-1);else if(e&&E==1)a=this.azN(P,this.RD);
else{var o=this.Eb,u=o.value;a=this.RD+E;if(a!=0&&u.codePointAt(a-1)>65535)a+=E}}else if(L!=0){var w=this.gD.Mq(this.RD);
if(L==-1&&w.xZ==0)a=0;else if(L==1&&w.xZ==this.gD.ah2()-1)a=99999999999;else a=this.gD.ahf(new fq(w.e3.x+w.e3.q/2,0),w.xZ+L)}else if(p){var y=this.RD-1;
while(y>0&&P.charCodeAt(y)!=10)y--;a=y==0?0:y+1}else if(Z){var y=this.RD;while(y<P.length-1&&P.charCodeAt(y)!=10)y++;
a=y}a=Math.max(0,Math.min(P.length-1,a));if(h.shiftKey)this.RD=a;else this.RD=this.lt=a;g=!0}if(v.ll(h.code,dW.l)&&e){this.RD=0;
this.lt=P.length-1;g=!0}if(g){this.WH();this.ST(J)}};c.Cf.aE5=function(h,e){var v=h.length;if(v!=e.length)return!1;
for(var T=0;T<v;T++)if(h[T].Ed!=e[T].Ed)return!1;return!0};c.Cf.prototype.Kx=function(h,e,v){if(this.Ic==null)return;
this.Ic.XW();var J=this.wD;if(J instanceof Array){var m=this.XI(h,this.m3),d=h.Ax();if(d!=null&&d.I==this&&d.data.ex&&c.Cf.aE5(d.data.ex,J)&&v)d.data.y0=m;
else{var x=new aO(this.name,this);x.data={ex:J,y0:m};h.Mk(x)}}else{var x=new aO(this.name,this);x.data={OA:J.OA,P1:J.P1,B1:J.B1,at:J.at};
h.Mk(x)}this.escape(h,e)};c.Cf.prototype.wY=function(h,e){if(this.Ic==null)return;if(this.wD instanceof Array){this.eG(h,this.wD);
if(this.Ic)fr.BA(this.Ic.add.TySh)}else{h.X=this.wD.B1;h._g(this.wD.OA);h.L9=!0}h.dn();this.escape(h,e)};
c.Cf.prototype.escape=function(h,e){this.a94();this.Ic=null;this.m3=null;this.gD=null;this.al=null;this.Eb.blur();
h.M.Qd=null;h.M.rj=null;h.M.S0=[];h.GI=!0;this.By=!1;this.FH=!1;this.RD=this.lt=-1;this.f3(e,k.E.u,{V:k.l.vi,I:this.id,nI:"hideactive"});
if(this.u9){var v=new g3(k.E.u,!0);v.data={V:k.l.px,I:this.u9};e.a(v);this.u9=null}};c.Cf.prototype.f3=function(h,e,v,J){var m=new g3(e,!0);
m.data=v;if(J)m.I=J;h.a(m)};c.Cf.prototype.jB=function(h){var e=this.Ic.add.TySh,v=this.gD,J=e.C.O();
J.ia();var m=J.w7(h),d=fr.YO(e,v),x=B.aI.hW(e.a5,d),j=B.ih.gr(x,m);if(j==null)j=new Float64Array(2);
m=new fq(d.x+j[0]*d.q,d.y+j[1]*d._);if(v.Sq){var E=v.Sq.O();E.ia();m=E.w7(m)}var L=v.ahf(m);return L};
c.Cf.prototype.ST=function(h,e){if(e==null)e=!1;var v=this.Ic.add.TySh,J=fr.tO(v.lf),m=this.gD,d=m?fr.YO(v,m):null;
h.M.S0=[];h.M.Qd=null;h.M.rj=null;var x=this.XS?this.XS:this.al;if(x){x.LL(h,this.H,!B.aI.bS(v.a5));
var j=v.C.O();j.ia();if(m&&m.Sq&&m.R4==1){var E=m.Sq.O();E.ia();j.concat(E)}B.w.C(h.M.S0,j,h.M.S0);B.w.C(h.M.Qd.g,j,h.M.Qd.g);
if(m&&m.Sq==null&&m.aju()){var L=d.q-20,p=d._+8;h.M.Qd.g.push(L,p,L+10,p,L+5,p-5,L+5,p+5);h.M.Qd.WQ.push("M","L","M","L")}}else if(J==0)this.aGE(h,v,m);
else h.M.Qd={g:[],WQ:[]};var Z=Math.min(this.RD,this.lt),o=Math.max(this.RD,this.lt);if(!e){this.Eb.selectionStart=Z;
this.Eb.selectionEnd=o}if(m!=null){var u=function(x,$){var H=x.x,A=x.y+x._,G=new aJ;G.translate(-H,-A);
G.rotate(-$);G.translate(H,A);x.y+=x._*.27;var f=B.w.Tp(x);B.w.C(f.g,G,f.g);return f};if(Z==o){Z=Math.max(Z,0);
var N=m.Mq(Z);if(N){var M=N.e3,O=this.H.Xi.zI.FontSize;if(O!=null&&O!=0){O/=v.C.n$();M.y+=M._-O;M._=O}var F=m.a95(Z);
if(F!=null&&F.Fj==1)M.x+=M.q;var W=u(M,N.dW).g;h.M.Qd.WQ.push("M","L");h.M.Qd.g.push(W[0],W[1]-1,W[6],W[7]-1)}}else{h.M.rj={g:[],WQ:[]};
for(var T=Z;T<o;T++){var N=m.Mq(T),f=u(N.e3,N.dW);B.w.concat(h.M.rj,f)}}}h.M.Qd=hP.tP(h.M.Qd,v,m,!0);
h.M.rj=hP.tP(h.M.rj,v,m,!0);h.M.S0=hP.tP({g:h.M.S0},v,m,!0).g;h.GI=!0};c.Cf.prototype.aGE=function(h,e,v){if(v==null)return;
h.M.S0.push(0,0);if(h.M.Qd==null)h.M.Qd={WQ:[],g:[]};for(var T=0;T<v.UZ.length;T++){var J=v.UZ[T];for(var m=0;
m<J.zo.length;m++){var d=J.zo[m],x=J.R8.x+d.R8.x+d.e3.x,j=J.R8.y+d.R8.y+d.e3.y+d.e3._;h.M.Qd.WQ.push("M","L");
h.M.Qd.g.push(x,j,x+d.e3.q,j)}}h.GI=!0};c.uC=function(){c.Cf.call(this,!0)};c.uC.prototype=new c.Cf;
c.Dj=function(h){c.tM.call(this,h?"Magic Replace":[10,9],h?c.aHj:c.TK,h?"tools/mremove":"tools/lasso");
this.Ox="crosshair";this.oj=null;this.WD=null;this.FQ=null};c.Dj.prototype=new c.tM;c.Dj.prototype.wa=function(h,e,v,J){this.oj=this.hC;
this.WD={g:[this.oj.x,this.oj.y],WQ:["M"]}};c.Dj.prototype.$X=function(h,e,v,J){this.FQ=J;var m=this.WD;
if(m==null)return;if(!J.fE){if(this.WD!=null&&this.wC.l6(1)&&v.r(dW.B2)){m.g.pop();m.g.pop();m.g.push(this.FZ.x,this.FZ.y);
h.M.Qd=m;h.GI=!0}return}m.WQ.push("L");m.g.push(this.FZ.x,this.FZ.y);this.oj=this.FZ;if(this.vu){h.M.Qd=m;
h.GI=!0}};c.Dj.prototype.G0=function(){return this.WD!=null};c.Dj.prototype.cD=function(){return this.WD!=null};
c.Dj.prototype.lK=function(h,e,v,J){c.tM.prototype.lK.call(this,h,e,v,J);if(this.WD&&this.wC.l6(1)&&this.FQ&&!this.FQ.fE&&!J.r(dW.B2))this.aDC(h,v,J)};
c.Dj.prototype.sd=function(h,e,v,J){this.FQ=J;var m=this.WD;if(m==null)return;if(this.wC.l6(1)&&v.r(dW.B2)){m.WQ.push("L");
m.g.push(this.FZ.x,this.FZ.y);return}this.aDC(h,e,v)};c.Dj.prototype.aDC=function(h,e,v){this.finish(h,e,v,this.FQ);
this.WD=null;h.M.Qd=null;h.GI=!0};c.Dj.prototype.getSelection=function(h,e,v,J){if(this.hC.lS(this.FZ)||!this.vu)return null;
return c.tM.g4(this.WD.g,null,this.wK.anta)};c.Pj=function(){c.Yu.call(this,[10,11],c.GA,"tools/move");
this.qM=new fq(0,0);this.Jk=new fq(0,0);this.mj=null;this.iI=null;this.Fp=new fq(0,0);this.Zw=null;this.H=null;
this.IF=null;this.qi=0;this.Ph=null;this.QN=[];this.jD=null;this.Nx=null;this.wG=!1;this.V=0;this.mQ=null;
this.mx=null;this.MB=null;this.q7=!1;this.wK={Xz:!0,Id:jD==1,gb:!1,aHC:1};this.amJ=!1;this.a6T=!1;this.al=null;
this.Nw=null;this.zb=null;var h=[];for(var T=0;T<B.yu.Gw.length;T++)h.push({name:B.yu.Gw[T],m:function(e,v,J){return{Z7:v.Kd.XB==J}}});
this.QC=new ar(h);this.QC.P("select",this.vG,this)};c.Pj.prototype=new c.Yu;c.Yu.prototype.Th=function(h){return this.wG&&this.V!=2};
c.Pj.prototype.aq6=function(){return this.wG&&(this.V==0||this.V==1)};c.Pj.prototype.Kj=function(h,e,v,J){this.LP(h,-this.Fp.x,-this.Fp.y);
this.Fp.Cg(0,0);this.Yy(h,null,v);this.dS(h)};c.Pj.prototype.nv=function(){var h=this.wK;if(h.Xz&&!h.Id&&!h.gb)return null;
return[h.Xz?1:0,h.Id?1:0,h.gb?1:0]};c.Pj.prototype.Fk=function(h,e,v){var J=this.wK;if(h&&h[0]!=null)J.Xz=h[0]==1;
if(h&&h[1]!=null)J.Id=h[1]==1;if(h&&h[2]!=null)J.gb=h[2]==1;if(jD==1)J.Id=!0;var m=new g3(k.E.u,!0);
m.data={V:k.l.vi,I:this.id,yJ:J,aEi:e};v.a(m)};c.Pj.aDV=function(h,e,v,J,m,d,x){if(x==null)x=[!1,!0];
var j=h.lX(null,m,!0),E,L=m==null?h.X[0]:m;if(h.add.artd&&(m!=null||h.X.length==1)&&h.T[L].add.artb){var p=h.T[L].AC();
E=h.x2(j,p,p)[0]}else{var Z=new fP(0,0,h.q,h._),E=h.x2(j,x[0]?Z:null,x[1]?null:Z)[0];delete E.add.artd;
if(x[1]){var o=B.vJ(E.pb(),new fP(0,0,E.q,E._),2);c.Zk.SU(E,o)}}if(v!=1){var u=new fP(0,0,Math.round(E.q*v),Math.round(E._*v));
c.Zk.SU(E,u);var N=[];for(var T=0;T<E.T.length;T++)N.push(T);var M=c.L2.aK(E,N,!0);c.Zk.KH(E,new aJ(v,0,0,v,0,0));
c.L2.hV(E,J,N,M,1,B.D.fi(new aJ(v,0,0,v,0,0)),null,!0);E.vp()}var O=[];for(var T=0;T<e.length;T++)if(E.q*E._!=0)O.push(gI.Pc(E,e[T].toUpperCase(),null,null,d?d[T]:null,J));
return O};c.Pj.prototype.aus=function(h,e,v,J,m){if(h==null||h.X.length==0)return;var d=c.Pj.aDV(h,[e],v,J,null);
if(d.length==0){alert("Empty layer selected.");return}var x=d[0],j=new g3(k.E.u,!0);j.data={V:k.l.vI,data:x,name:h.T[h.X[0]].getName()+(v==1?"":"@"+v+"x")+"."+e};
m.a(j)};c.Pj.prototype.oy=function(h,e,v,J,m){if(h.rf=="getPNG"){this.aus(v,"png",h._w,m,e)}else if(h.rf=="getSVG"){this.aus(v,"svg",h._w,m,e)}if(h.rf=="prms"){this.wK=h;
this.dS(v)}};c.Pj.aoC=function(h){var iW=h.length,v=0;h.sort(function(d,x){return d[0]+d[1]/2-(x[0]+x[1]/2)});
var e=h[iW-1][0]+h[iW-1][1]-h[0][0];for(var T=0;T<iW;T++)v+=h[T][1];var J=Math.round((e-v)/(iW-1)),m=h[0][0];
for(var T=0;T<iW;T++){h[T][0]=m;m+=h[T][1]+J}};c.Pj.prototype.iu=function(h,e,v,J,m){var d=h.V;if(d=="trsl"){var x=Math.round(h.Vx),j=Math.round(h.N6);
this.Fp.Cg(x,j);this.nx(v,e,J,m,!1,h.L);this.LP(v,x,j);this.Yy(v,null,m)}else if(d=="fcmy"||d=="fvec"){var E=["RGB","CMYK"][h.J]+" Color";
if(d=="fvec")E=["Raster","Vector"][h.J]+" Mode";var L=new aO(E,this);L.data={V:h.V,xz:v.add[d]==null?0:v.add[d],uO:h.J};
v.Mk(L);this.W1(L.data,v)}else if(d=="pview"){var d=new aO([8,14],this);d.data={V:h.V};v.Mk(d);this.W1(d.data,v)}else if(d=="lockguides"){if(v)v.rn=!v.rn}else if(d=="gids"||d=="gidsFromLayer"){var p=h.mx,Z,o;
if(p==null)p=v.XX();if(d=="gids"){Z=h.qR;var u=p[0].length,N=Z[0].length;o=u==N?[23,2]:u>N?[23,3]:[23,4];
if(N==0)o=[11,15,0]}else if(d=="gidsFromLayer"){var M=[],O=[],F=v.uG();for(var T=0;T<v.X.length;T++){var W=v.T[v.X[T]].R;
if(W.EG())continue;M.push([0,W.x],[1,W.y],[0,W.x+W.q],[1,W.y+W._]);O.push(F,F,F,F)}o=[11,15,1];Z=v.XX();
c.Pj.bF(Z,[M,O])}if(JSON.stringify(p)==JSON.stringify(Z))return;var d=new aO(o,this);d.data={V:2,mx:p,qR:Z};
v.Mk(d);this.W1(d.data,v)}else if(d=="algn"){var f=h.J;if(v==null)return;if(v.X.length<2&&!(v.K!=null&&f!=3&&f!=7)){alert(bj.get([15,7,5]));
return}var $=v.K;v.K=null;var W=$?$.R:c.L2.YO(v);this.nx(v,e,J,m,!1);if(!this.wG)return;var H=this.Ph,A={},G=[],l=[],K=[];
for(var T=0;T<H.length;T++){var U=H[T];while(v.T[U].getName()=="</Layer group>")U++;var z=v.root.Ix(U),q=z;
while(z.parent!=null){z=z.parent;if(H.indexOf(z.index)!=-1)q=z}var P=l.indexOf(q.index);if(P==-1){P=l.length;
l.push(q.index)}G[T]=P}var g=[],a=[],w=[];for(var T=0;T<l.length;T++){var y=c.L2.YO(v,v.lX(!0,l[T]));
w.push(y);var S=f==3?[y.y,y._]:[y.x,y.q];g[T]=S;a.push(S)}c.Pj.aoC(a);for(var T=0;T<l.length;T++){var y=w[T],i=y.x,C=y.y;
if(f==0)i=W.x;if(f==1)i=W.x+(W.q-y.q)/2;if(f==2)i=W.x+(W.q-y.q);if(f==3)C=g[T][0];if(f==4)C=W.y;if(f==5)C=W.y+(W._-y._)/2;
if(f==6)C=W.y+(W._-y._);if(f==7)i=g[T][0];K.push(Math.round(i-y.x),Math.round(C-y.y))}var Y=[];for(var T=0;
T<H.length;T++){var _=G[T];Y[2*T]=K[2*_];Y[2*T+1]=K[2*_+1]}this.LP(v,0,0,null,Y);var t=f==3||f==7?[20,4,6]:[20,4,f<3?f:f-1];
this.Yy(v,null,m,Y,t);v.K=$}else if(d=="disabAuto"){this.Fk([!1],null,e)}};c.Pj.bF=function(h,e){for(var T=0;
T<e[0].length;T++){var v=e[0][T],J=e[1][T],m=!1;for(var d=0;d<h[0].length;d++){var x=h[0][d],j=h[1][d];
if(v[0]==x[0]&&v[1]==x[1]&&J==j)m=!0}if(!m){h[0].push(v.slice(0));h[1].push(J)}}};c.Pj.prototype.enable=function(h,e,v,J,m){this.H=v;
this.IF=e;this.q7=m?!0:!1;this.dS(h);this.ZT("default",e);this.lK(h,e,v,J)};c.Pj.prototype.disable=function(h,e,v,J){this.zg(h)};
c.Pj.prototype.zg=function(h){if(h==null)return;if(this.al){this.al.clear(h);this.al=null}if(h.M.gb){h.M.gb=null;
h.GI=!0}if(h.M.AF){h.M.AF=null;h.GI=!0}if(h.M.$u[this.id]){delete h.M.$u[this.id];h.GI=!0}if(h.M.xT.length!=0){h.M.xT=[];
h.GI=!0}};c.Pj.prototype._X=function(h,e,v,J){if(v.jR!=this.id)return;this.dS(h)};c.Pj.prototype.dS=function(h,e){if(h==null)return;
var v=this.wK;this.zg(h);if(!this.q7){var J;if(v.Id||v.gb)J=B.w.jg(c.L2.YO(h));if(v.Id&&!J.EG()){var m=h.T[h.X[0]],d=B.w.Tp(J).g;
if(jD==1&&h.X.length==1){if(m.add.vmsk)d=m.add.vmsk.VI();if(m.add.SoLd)d=c.L2.RT(m.add.SoLd.nonAffineTransform);
if(m.add.TySh){d=B.w.Tp(m.em.NW).g;B.w.C(d,m.add.TySh.C,d)}}this.al=new hu(d,!0);this.al.LL(h,this.H)}if(v.gb){var x=null,o=null,u=!1;
if(h.uG()!=-1)x=h.T[h.uG()].AC();else x=new fP(0,0,h.q,h._);h.M.gb={QD:[J],M1:[]};var j=h.M.gb.M1,E=J.x+J.q,L=J.y+J._,p=J.x+Math.floor(J.q/2),Z=J.y+Math.floor(J._/2);
if(e){var N=h.root.v0(new fq(Math.floor(e.x),Math.floor(e.y)));if(N){o=B.w.jg(N.L.D5(h));if(o.qm(J)){u=(o.xB(J)||J.xB(o))&&!J.lS(o);
if(!u)o=null}}}this.aeY(J,j);if(o!=null){h.M.gb.QD.push(o);var M=o.x+o.q,O=o.y+o._,F=o.x+Math.floor(o.q/2),W=o.y+Math.floor(o._/2);
if(u){var f=p,$=Z;if(J.xB(o)){f=F;$=W}j.push(J.x,$,o.x,$);j.push(E,$,M,$);j.push(f,J.y,f,o.y);j.push(f,L,f,O)}else{this.aeY(o,j);
var H=L<o.y||O<J.y,A=E<o.x||M<J.x;if(E<o.x)j.push(E,Z,o.x,Z);if(M<J.x)j.push(M,Z,J.x,Z);if(L<o.y)j.push(p,L,p,o.y);
if(O<J.y)j.push(p,O,p,J.y);if(H&&!A){if(J.x<o.x)j.push(J.x,W,o.x,W);if(o.x<J.x)j.push(o.x,Z,J.x,Z)}}}else{if(J.y>x.y)j.push(p,x.y,p,J.y);
if(L<x.y+x._)j.push(p,L,p,x.y+x._);if(J.x>x.x)j.push(x.x,Z,J.x,Z);if(E<x.x+x.q)j.push(E,Z,x.x+x.q,Z)}h.GI=!0}}if(this.V==2&&this.wG){var G=new fP(0,0,h.q,h._),l=h.uG();
if(l!=-1){var K=h.XX(),U=K[1][this.Ph];if(U==-1)U=l;G=h.T[U].AC()}var z=h.nT[this.Ph],q=z[0],P=(q==0?"X":"Y")+": "+B.yu.U_(z[1]-(q==0?G.x:G.y),h.gx,this.H,q==0?G.q:G._,!0);
c.Yu.W3(Math.round(this.mj.x)+10,Math.round(this.mj.y)-10,[P],h);h.GI=!0}if(this.V==3&&this.wG){var g=B.w.Tp(this.mQ);
h.M.$u[this.id]={Qd:g};h.GI=!0}};c.Pj.prototype.aeY=function(h,e){var v=h.q,J=h._,m=h.x+Math.floor(v*.2),d=h.y+Math.floor(J*.2);
e.push(m,h.y,m,h.y+J);e.push(h.x,d,h.x+v,d)};c.Pj.prototype.ZT=function(h,e){var v={V:k.l.zq,Tv:h},J=new g3(k.E.u,!0);
J.data=v;e.a(J)};c.Pj.prototype.ra=function(h){var e=this.Nw.S9()[0];if(e==this.zb.length){var v=new g3(k.E.u,!0);
v.data={V:k.l.O4,v9:"psd"};this.IF.a(v);return}var J=this.Zw,m=this.zb[e];this.OV(J,m)};c.Pj.prototype.vG=function(h){var e=B.t(this.H.Kd);
e.XB=this.QC.S9()[0];var v=new g3(k.E.u,!0);v.data={V:k.l.Gi,m0:dq.xo,uO:e};this.IF.a(v)};c.Pj.prototype.ZF=function(h,e,v,J,m){if(this.wG)this.ej(h,e,v,J,m);
this.Zw=h;this.H=v;this.IF=e;var d=h.p.$$(m.x,m.y),x;if(c.Pj.h$(v,m,h.p)){x=this.QC}else{if(this.Nw)this.Nw.removeEventListener("select",this.ra);
var j=[];h.root.v0(d,j);if(j.length==0)return;if(J.r(dW.B2)){this.OV(h,j[0]);return}var E=[];this.zb=j;
for(var T=0;T<j.length;T++)E.push({name:h.T[j[T]].getName(),jV:T==j.length-1});E.push({name:[1,18],U$:!0});
x=this.Nw=new ar(E);x.P("select",this.ra,this)}x.parent=e;x.S();x.update(h,v);var L=new g3(k.E.u,!0);
L.data={V:k.l.Eu,nB:x,x:m.oU+2,y:m.dG+1};e.a(L)};c.Pj.prototype.a66=function(h,e,v,J,m){var d=c.Pj.Af(h,m);
return d!=-1||c.Pj.h$(v,m,h.p)};c.Pj.Af=function(h,e){if(h==null||h.add.artd==null)return-1;var v=h.p.$$(e.x,e.y),J=12*c.A_()/h.p.e4;
for(var T=0;T<h.T.length;T++){var m=h.T[T];if(!m.oA()||m.add.artb==null)continue;var d=m.AC(),x=new fP(d.x,d.y-1.7*J,J*m.getName().length*.5,J);
if(x.GX(v))return T}return-1};c.Pj.prototype.HL=function(h,e,v,J,m){var d=c.Pj.Af(h,m),x=c.Pj.ahx(h,h.p.$$(m.x,m.y));
if(d!=-1){h.X=[d];if(v.jR==c.GA){var j=new g3(k.E.u);j.data={V:k.l.px,I:c.Sc};e.a(j)}return}if(x!=-1){h.p.UF=x;
h.NK=!0;var j=new g3(k.E.u,!0);j.data={V:k.l.Os,dF:b4.rF.a7t};e.a(j);return}this.mj=m;this.qM.Cg(m.x,m.y);
this.Jk=h.p.$$(m.x,m.y);this.iI=new a$(this.Jk);this.nx(h,e,J,v,!0)};c.Pj.h$=function(h,e,v,J){var m=B.yu.ma,d=v.L1._;
return h.rM&&(0<e.x&&e.x<m||0<e.y&&e.y<m||J&&0<e.x&&e.x<4*m&&d-m<e.y&&e.y<d)};c.Pj.prototype.nx=function(h,e,v,J,m,d){var x,j=this.Jk,E=!1;
if(m){var L=J.I7&&J.Kd.nT;if(c.Pj.h$(J,this.qM,h.p)){x=h.XX();var p=h.XX(),Z=null;if(this.qM.x<B.yu.ma){Z=[0,j.x]}if(this.qM.y<B.yu.ma){Z=[1,j.y]}p[0].push(Z);
p[1].push(h.uG(!0));h.IY(p);if(!L){var o=new g3(k.E.u);if(!J.Kd.nT){o.data={V:k.l.Gi,m0:dq.Cw};e.a(o)}if(!J.I7){o.data={V:k.l.Gi,m0:dq.ik};
e.a(o)}L=!0}}var u=this.auB(h,j);if(L&&u!=null&&!h.rn){this.V=2;this.mx=x?x:h.XX();this.Ph=u;this.wG=!0;
this.Nx=c.L2.YO(h);return}if(h.kH.length!=0){this.V=4;this.Nx=h.Ar[h.kH[0]].R.O();this.wG=!0;return}if(this.al&&this.al.hb(j,h.p.e4,!0,this.mj)!=null){var o=new g3(k.E.u);
o.data={V:k.l.px,I:c.Li,a82:!0};e.a(o);return}if(h.K&&h.K.R.GX(j)){var N=Math.round(j.x),M=Math.round(j.y),O=h.K.R;
E=h.K.G[(M-O.y)*O.q+N-O.x]>128}var F=this.wK.Xz||jD==1;if(!E&&(!this.q7&&F||this.q7&&F&&(v.r(dW.l$)||h.X.length<2))){var W=this.a7M(h,j,v);
if(!W){h.X=[];h.Z3=null;h.L9=h.NV=!0;this.V=3;this.mQ=new fP;this.wG=!0;return}}if(v.r(dW.B2)&&!E){var f=new g3(k.E.A);
f.I=c.Yn;f.data={V:s.Zn,arI:!0};e.a(f)}}if(h.kH.length!=0){this.V=4;this.Nx=h.Ar[h.kH[0]].R.O();this.wG=!0;
return}this.Ph=h.lX(d==null,d,null,!0);for(var T=0;T<this.Ph.length;T++){var $=this.Ph[T],H=h.T[$];if(H.o1(2)||H.o1(31)||h.qL($)){alert(bj.get([6,57,0]));
return}}if(h.add.artd&&m){var A=this.Ph,G=!1;for(var T=0;T<A.length;T++)if(h.T[A[T]].add.artb)G=!0;if(!G){this.jD=[h,h.T.slice(0),h.X.slice(0),-1];
this.Ph.sort(function(a,w){return a-w})}}this.QN=c.Pj.aBq(h,this.Ph);this.V=0;if(h.K&&(!m||E)&&h.X.length==1&&h.kC(!1)){if(!h.adn()){this.wG=!1;
return}var l=h.T[h.X[0]],K=v.r(dW.B2);this.V=1;var U=h.history[h.uM];if(U.I==this&&U.data.V==1&&U.data.L==h.X[0]&&l.TM==l.gc.TM&&!K){this.MB=U}else{var z=l.gc,q=!1,P;
if(!l.SW(h,h.K)||K){q=!0;l.nL(h,h.K,K)}if(l.gc.TM<=0){P=B.U(l.gc._c.length>>2);B.Bq(l.gc._c,P,3)}else P=h.K.G.slice(0);
var g={R:l.gc.cM.O(),G:P};this.MB=new aO(K?[12,53]:[12,54],this);this.MB.data={V:1,L:h.X[0],gc:l.gc,mu:z,II:q,B1:h.K,at:g,l_:new fq(0,0)};
h.Mk(this.MB);h.K=g;h.AQ=!0}}this.wG=!0;this.Nx=c.L2.YO(h)};c.Pj.prototype.a7M=function(h,e,v){var J=h.root.v0(new fq(Math.floor(e.x),Math.floor(e.y)));
if(J){if(J.L.add.vmsk)h.GI=!0;var m=h.T.indexOf(J.L);if(this.wK.aHC==0){var d=h.root.Ix(m);while(d.parent&&d.parent.depth!=0&&d.parent.L.add.artb==null)d=d.parent;
m=d.index}if(v.r(dW.l$)){var x=h.X.indexOf(m);if(x==-1)h.X.push(m);else if(h.X.length>1)h.X.splice(x,1)}else if(h.X.indexOf(m)==-1){this.OV(h,m)}}return J!=null};
c.Pj.prototype.OV=function(h,e){h.T[e].TM=0;h.X=[e];h.Z3=null;h.n6();h.vn=!0;h.L9=!0};c.Pj.ahx=function(h,e){var v=h.add.Anno;
if(v==null||v.length==0)return-1;var J=30/h.p.e4;for(var T=0;T<v.length;T++)if(new fP(v[T][0],v[T][1],J,J).GX(e))return T;
return-1};c.Pj.prototype._8=function(h,e,v,J,m){this.mj=m;var d=h.p.$$(m.x,m.y),u,N;if(this.iI&&this.V<2)d=this.iI.Pd(d,J);
if(!this.wG){if(v.I7&&v.Kd.nT&&h&&!h.rn){var x=this.auB(h,d),j="default",E=c.Pj.Af(h,m);if(x!=null)j=["col-resize","row-resize"][h.nT[x][0]];
else if(this.al){var L=this.al.hb(d,h.p.e4,null,m);if(L)j=L}else if(E!=-1||c.Pj.ahx(h,d)!=-1){j="pointer"}this.ZT(j,e)}this.dS(h,d);
return}var p=this.Jk,Z=Math.round(d.x-p.x)-this.Fp.x,o=Math.round(d.y-p.y)-this.Fp.y;if(this.Nx){if(this.V==2){var M=[];
if(h.K)M.push(h.K.R);if(this.Nx)M.push(this.Nx);if(h.p._C)M.push(h.p._C);d=c.Pj.$T(h,d,v,[!1,M,!0,!0])}else{N=this.Nx.O();
N.offset(this.Fp.x+Z,this.Fp.y+o);u=c.Pj.xH(h,N,v);var O=this.iI.abh(J);if(O==1){u[0]=0;u[2]=1e9}if(O==2){u[1]=0;
u[3]=1e9}Z+=Math.round(u[0]);o+=Math.round(u[1])}}this.Fp.x+=Z;this.Fp.y+=o;var F=this.jD;if(F&&h==F[0]){h._g(F[1]);
h.X=F[2].slice(0);F[3]=-1}this.LP(h,Z,o,d,null,J.r(dW.l$));if(F&&h==F[0]){var W=this.Nx.O();W.offset(this.Fp.x,this.Fp.y);
var f=d,E=h.uG(),$=-1;for(var T=0;T<h.T.length;T++){var H=h.T[T];if(!H.oA()||H.add.artb==null)continue;
var A=H.AC();if(A.GX(f))$=T}if($!=-1&&$!=E){var G=c.YK.lG(h,this.Ph,$,!0,null,!1);h._g(G[0]);h.X=G[1];
F[3]=$}}this.dS(h,d);if(u)c.Pj.t5(h,N,u)};c.Pj.prototype.auB=function(h,e){var v=c.im(h,this.mj);e=[e.x,e.y];
var J=h.XX(),m=h.uG();for(var T=0;T<J[0].length;T++){var d=J[0][T],x=J[1][T];if(x!=-1&&x!=m)continue;
if(Math.abs(d[1]-e[d[0]])<v)return T}return null};c.Pj.prototype.LP=function(h,e,v,J,m,d){if(this.V==0){if(m)c.Pj.JG(h,this.Ph,this.QN,m);
else c.Pj.tq(h,this.Ph,this.QN,e,v)}else if(this.V==1){var x=this.MB.data;x.l_.offset(e,v);c.Pj.dV(h,x.L,e,v)}else if(this.V==2){var j=1e-4;
if(d)j=h.p.e4<=1?10:1;var E=j*Math.round(J.x/j),L=j*Math.round(J.y/j),p=[E,L],Z=h.nT[this.Ph];Z[1]=p[Z[0]]}else if(this.V==3){var o=this.Jk,u=B.w.Ob([o.x,o.y,J.x,J.y]);
this.mQ=u;var N=[];h.root.wy(u,N);if(JSON.stringify(h.X)!=JSON.stringify(N)){h.X=N;h.L9=h.NV=!0}}else if(this.V==4){for(var T=0;
T<h.kH.length;T++)h.Ar[h.kH[T]].R.offset(e,v);h.GI=!0}};c.Pj.dV=function(h,e,v,J){var m=h.T[e];h.K.R.offset(v,J);
m.lm(h,v,J,h.K);h.AQ=!0;h.dn()};c.Pj.prototype.ej=function(h,e,v,J,m,d){this.Yy(h,m,v);this.dS(h);if(Date.now()-this.qi<300&&!d){var x=c.Cf.gE(h,h.p.$$(m.x,m.y));
if(c.Pj.h$(v,m,h.p,!0)){var j=new g3(k.E.u);if(m.y>h.p.L1._-20){j.data={V:k.l.Xq,dF:"doczoom",xz:h.p.e4*100,P_:{o:k.E.A,I:c.ZM,h:{V:"pzoom"}}}}else{j.data={V:k.l.Xq,dF:"preferences"}}e.a(j)}else if(x>=0){var E=new g3(k.E.A,!0);
E.I=c.HV;E.data={V:"editCurr",NP:x};e.a(E)}}this.qi=Date.now();c.Zk.gV(h)};c.Pj.prototype.Yy=function(h,e,v,J,m){if(!this.wG)return;
this.wG=!1;if(this.V==0){if(J){this.auS(h,null,J,m)}else{if(this.Fp.x==0&&this.Fp.y==0)return;this.auS(h,this.Fp.O())}h.NK=!0}else if(this.V==2){var d=0;
e=[e.x,e.y];var x=this.Ph,j=h.nT[x],fW=this.mx[0].length,E=h.nT.length;if(v.rM&&e[j[0]]<B.yu.ma){var L=h.XX();
L[0].splice(x,1);L[1].splice(x,1);h.IY(L);d=1;if(fW==E-1)return}if(fW<E)d=2;var p=new aO([[23,2],[23,3],[23,4]][d],this);
p.data={V:2,mx:this.mx,qR:h.XX()};h.Mk(p)}else if(this.V==4){var p=new aO([12,54],this);p.data={V:4,X:h.kH.slice(0),d:this.Fp.O()};
h.Mk(p)}this.Fp.Cg(0,0)};c.Pj.prototype.lK=function(h,e,v,J){var m=J.Sl(h?h.p.dW:0);if(h!=null&&(m.x!=0||m.y!=0)){if(J.r(dW.B2)&&h.K==null){var d=new g3(k.E.A);
d.I=c.Yn;d.data={V:s.Zn,arI:!0};e.a(d)}this.Fp.Cg(m.x,m.y);this.nx(h,e,J,v,!1);if(!this.wG)return;this.LP(h,m.x,m.y);
this.Yy(h,null,v);this.dS(h)}var x=J.r(dW.Dd);if(!this.q7&&this.a6T!=x){if(x){this.amJ=this.wK.Xz;this.wK.Xz=!0}else{this.wK.Xz=this.amJ}this.a6T=x;
var j=new g3(k.E.u,!0);j.data={V:k.l.vi,I:this.id,yJ:this.wK};e.a(j)}};c.Pj.prototype.ZL=function(h,e){if(h.V==0){var v=h.BW;
if(v){e._g(v.OA);e.X=v.Nn.slice(0);e.dn();e.L9=!0}c.Pj.JG(e,h.X,h.dt,h.E6,!0);c.Zk.gV(e)}else if(h.V=="fcmy"||h.V=="fvec"){if(h.xz==0)delete e.add[h.V];
else e.add[h.V]=h.xz;e.GI=!0}else if(h.V=="pview"){e.m8=!e.m8;e.dn()}else if(h.V==2){e.IY(h.mx);e.GI=!0}else if(h.V==4){for(var T=0;
T<h.X.length;T++)e.Ar[h.X[T]].R.offset(-h.d.x,-h.d.y);e.GI=!0}else{var J=e.T[h.L];if(h.II){J.bL(e,h.mu);
e.K=h.B1;e.AQ=!0;e.dn();J.dn()}else{c.Pj.dV(e,h.L,-h.l_.x,-h.l_.y)}}};c.Pj.prototype.W1=function(h,e){if(h.V==0){c.Pj.JG(e,h.X,h.dt,h.E6);
var v=h.BW;if(v){e._g(v.P1);e.X=v.Pi.slice(0);e.dn();e.L9=!0}c.Zk.gV(e)}else if(h.V=="fcmy"||h.V=="fvec"){if(h.uO==0)delete e.add[h.V];
else e.add[h.V]=h.uO;e.GI=!0}else if(h.V=="pview"){e.m8=!e.m8;e.dn()}else if(h.V==2){e.IY(h.qR);e.GI=!0}else if(h.V==4){for(var T=0;
T<h.X.length;T++)e.Ar[h.X[T]].R.offset(h.d.x,h.d.y);e.GI=!0}else{var J=e.T[h.L];if(h.II){J.gc=h.gc;e.K=h.at;
c.Pj.dV(e,h.L,0,0);J.dn()}else{c.Pj.dV(e,h.L,h.l_.x,h.l_.y)}}};c.Pj.prototype.auS=function(h,e,v,J){if(v){var m=!0;
for(var T=0;T<v.length;T++)if(v[T]!=0)m=!1;if(m)return}var d=h.history[h.uM],x=this.jD,j=x!=null&&x[3]!=-1&&x[0]==h;
if(!j&&v==null&&d.data&&d.I==this&&d.data.V==0&&JSON.stringify(d.data.X)==JSON.stringify(this.Ph)&&JSON.stringify(d.data.dt)==JSON.stringify(this.QN)){var E=d.data.E6,L=d.data.a1G.TH.T.v;
L.Hrzn.v.val+=e.x;L.Vrtc.v.val+=e.y;for(var T=0;T<E.length;T+=2){E[T]+=e.x;E[T+1]+=e.y}}else{if(e==null)e=new fq(v[0],v[1]);
var p={UH:"move",TH:{classID:"null",null:h8.$j("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:e.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:e.y}}}}}},Z=null;
if(j)Z={OA:x[1],Nn:x[2],P1:h.T.slice(0),Pi:h.X.slice(0)};this.jD=null;var o=new aO(J?J:[12,54],this);
if(v)o.data={V:0,X:this.Ph,dt:this.QN,BW:Z,E6:v};else o.data={V:0,X:this.Ph,dt:this.QN,BW:Z,E6:c.Pj.aEL(this.Ph,e.x,e.y)};
o.data.a1G=p;h.Mk(o);this.track(p)}};c.Pj.aEL=function(h,e,v){var J=[];for(var T=0;T<h.length;T++)J.push(e,v);
return J};c.Pj.tq=function(h,e,v,J,m){c.Pj.JG(h,e,v,c.Pj.aEL(e,J,m))};c.Pj.JG=function(h,e,v,J,m){if(e.length==0)return;
if(v==null){v=[];for(var T=0;T<e.length;T++){v.push(h.T[e[T]].Vn(h,!0))}}var d=new fP,x=new fP(0,0,h.q,h._);
for(var T=0;T<e.length;T++){var j=J[2*T],E=J[2*T+1];if(m){j=-j;E=-E}var L=h.T[e[T]],p=v[T];if(L.add.fxrp&&(p.indexOf(0)!=-1||L.Yb()))L.add.fxrp.offset(j,E);
for(var Z=0;Z<p.length;Z++){var o=p[Z];if(o==0){L.R.offset(j,E);if(L.vO()&&L.o7(h))L.o7(h).R.offset(j,E);
if(L.add.artb){var u=L.AC();u.offset(j,E);L.B9(u);var N=L.add.artb.guideIndeces;N=N?N.v:[];for(var M=0;
M<N.length;M++){var O=h.nT[N[M].v];O[1]+=O[0]==0?j:E}}if(L.add.TySh){L.add.TySh.C.translate(j,E);if(L.add.TySh.add){L.add.TySh.add.vmsk.offset(j,E)}}if(L.add.SoLd){var F=new aJ(1,0,0,1,j,E),W=L.add.SoLd,f=c.L2.RT(W.Trnf),$=c.L2.RT(W.nonAffineTransform);
B.w.C(f,F,f);B.w.C($,F,$);W.Trnf=c.L2.ni(f);W.nonAffineTransform=c.L2.ni($);c.L2.a3I(W,F)}}if(o==1)L.NH().R.offset(j,E);
if(o==2){L.add.vmsk.offset(j,E);if(L.add.vogk)B.WU.C(L.add.vogk,[1,0,j,0,1,E,0,0],[]);if(L.em.WD){var H=L.em.WD.gA.g;
B.w.C(H,new aJ(1,0,0,1,j,E),H)}}if(o==3){L.o7(h).N.R.offset(j,E);if(p.length==1)L.dn()}}if(p.length>0){var A=L.add.GdFl;
if(A==null)A=L.add.PtFl;if(L.Yb()&&!L.LN()&&L.add.vmsk!=null&&B.s.D2(L.add.vmsk.z)&&L.add.vmsk.DH==255&&(A==null||A.Algn&&A.Algn.v)){L.R.offset(j,E)}else L.vT(h);
var G=h.root.Tj(L.D5(h),h,e[T]);if(L.add.artb)G=G.R$(L.AC());d=d.R$(G);G.offset(-j,-E);d=d.R$(G);if(L.Qi()&&L.N&&L.N.color==255)d=d.R$(x);
L.aA9()}}h.dn(B.w.jg(d))};c.Pj.aBq=function(h,e){var v=[];for(var T=0;T<e.length;T++){var J=h.T[e[T]];
v.push(J.Vn(h))}return v};c.Pj.t5=function(h,e,v){var J={g:[],WQ:[]},m=e.x+v[0],d=e.y+v[1];if(v[2]!=1e9){J.WQ.push("M","L");
var x=d+e._;if(v[4])J.g.push(v[2],Math.min(d,x,v[4][1]),v[2],Math.max(d,x,v[4][1]));else J.g.push(v[2],d,v[2],d+e._)}if(v[3]!=1e9){J.WQ.push("M","L");
var j=m+e.q;if(v[5])J.g.push(Math.min(m,j,v[5][0]),v[3],Math.max(m,j,v[5][0]),v[3]);else J.g.push(m,v[3],j,v[3])}if(J.g.length!=0){h.M.AF=J;
h.GI=!0}};c.Pj.$T=function(h,e,v,J){var m=c.Pj.aj8(h,[[e.x],[e.y]],v,J);return new fq(e.x+m[0],e.y+m[1])};
c.Pj.xH=function(h,e,v,J,m){var d=m==!0?1:.5,x=c.Pj.aj8(h,[[e.x,e.x+Math.round(e.q*d),e.x+e.q],[e.y,e.y+Math.round(e._*d),e.y+e._]],v,J);
return x};c.Pj.aj8=function(h,e,v,J){if(J==null)J=[!0,null,!0];var m=[0,0,1e9,1e9,null,null];if(!v.Y7)return m;
var d=B.t(e);for(var x=0;x<2;x++){var j=1e9,E=e[x],L=0,p=null;for(var Z=0;Z<E.length;Z++){var o=c.Pj.akE(h,E[Z],d[1-x][Z],x,v,J),u=o[0];
if(u!=1e9)d[x][Z]=u;if(u!=1e9&&Math.abs(u-E[Z])<Math.abs(j)){j=u-E[Z];L=u;p=o[1]}}if(j!=1e9){m[x]=j;
m[x+2]=L;m[x+4]=p}}return m};c.Pj.akE=function(h,e,v,J,m,d){var x=1e9,j=null,E=m.$W,L=m.Kd,p=[h.root];
while(p.length!=0&&E[2]){var Z=p.pop(),o=Z.L,u=o.R;if(!o.oA())continue;if(Z.children)for(var T=0;T<Z.children.length;
T++)p.push(Z.children[T]);if(h.X.indexOf(Z.index)!=-1||u.EG())continue;var N=u.q,M=N>>>1,O=u._,F=O>>>1,W=x;
if(J==0){if(Math.abs(u.x-e)<Math.abs(x-e))x=u.x;if(Math.abs(u.x+M-e)<Math.abs(x-e))x=u.x+M;if(Math.abs(u.x+N-e)<Math.abs(x-e))x=u.x+N}else{if(Math.abs(u.y-e)<Math.abs(x-e))x=u.y;
if(Math.abs(u.y+F-e)<Math.abs(x-e))x=u.y+F;if(Math.abs(u.y+O-e)<Math.abs(x-e))x=u.y+O}if(W!=x){j=[u.x+M,u.y+F]}}var f=x;
x=1e9;if(d[0]&&E[0]&&L.nT&&m.I7){var $=h.XX(),H=$[0],A=$[1],G=h.uG();for(var T=0;T<H.length;T++)if((A[T]==-1||A[T]==G)&&H[T][0]==J&&Math.abs(H[T][1]-e)<Math.abs(x-e))x=H[T][1]}if(E[1]&&L.bT&&m.I7){var l=Math.round(B.yu.e$(L.KS,h.gx,h.q,L.Iq));
if(J==1&&L.aj==1){var K=v*.5*Math.sqrt(4/3),U;l*=Math.sqrt(4/3);U=Math.round((e-K)/l)*l+K;if(Math.abs(U-e)<Math.abs(x-e))x=U;
U=Math.round((e+K)/l)*l-K;if(Math.abs(U-e)<Math.abs(x-e))x=U}else{var U=Math.round(e/l)*l;if(Math.abs(U-e)<Math.abs(x-e))x=U}}var z=h.Ys;
if(E[3]&&L.Ys&&m.I7&&z.length!=0){for(var T=0;T<z.length;T++){if(!d[2]&&h.ek.indexOf(T)!=-1)continue;
var q=c.E5.P8(z,T);for(var P=0;P<3;P+=2)if(q[P+J]!=e&&Math.abs(q[P+J]-e)<Math.abs(x-e))x=q[P+J]}}if(d[1])for(var g=0;
g<d[1].length;g++){var u=d[1][g],N=u.q,O=u._,M=N>>>1,F=O>>>1;if(d[3]){M=N/2;F=O/2}var a=[u.x,u.y,u.x+M,u.y+F,u.x+N,u.y+O];
for(var T=0;T<6;T+=2)if(Math.abs(a[T+J]-e)<Math.abs(x-e))x=a[T+J]}if(E[4]){var u=new fP(0,0,h.q,h._),G=h.uG();
if(G!=-1)u=h.T[G].AC();var N=u.q,O=u._,M=N>>>1,F=O>>>1;if(d[3]){M=N/2;F=O/2}var a=[u.x,u.y,u.x+M,u.y+F,u.x+N,u.y+O];
for(var T=0;T<6;T+=2)if(Math.abs(a[T+J]-e)<Math.abs(x-e))x=a[T+J]}if(Math.abs(x-e)<=Math.abs(f-e))j=null;
else x=f;var w=Math.abs(x-e)<=4*c.A_()/h.p.e4?x:1e9;return[w,j]};c.GF=function(){c.tM.call(this,[10,12],c.K2,"tools/mwand");
this.OY=null};c.GF.prototype=new c.tM;c.GF.prototype.wa=function(h,e,v,J){this.OY=J;this.a9Y=this.wK.wconf[0];
this.finish(h,e,v,J)};c.GF.prototype.$X=function(h,e,v,J,m){if(!J.fE)return;var d=new g3(k.E.A);d.I=c.V8;
d.data={V:"h_stepbck"};m.a(d);var x=J.x-this.OY.x,j=Math.max(0,Math.min(255,Math.round(this.a9Y+x/4)));
this.wK.wconf[0]=j;this.ri(m);this.finish(h,e,v,this.OY)};c.GF.prototype.sd=function(h,e,v,J,m){this.wK.wconf[0]=this.a9Y;
this.ri(m)};c.GF.prototype.getSelection=function(h,e,v,J){var m=this.FZ;m=h.p.$$(J.x,J.y);var d=c.tM.a2a(new fq(Math.floor(m.x),Math.floor(m.y)),this.wK.wconf,this.wK.sall);
return d};c.GF.aAY=function(h,e,v,J,m){if(e.x<0||e.x>h.q||e.y<0||e.y>h._)return null;var d,x=new fP(0,0,h.q,h._);
if(J)d=h.pb();else{var j=h.X.length,L=null;if(j!=1){alert(j==0?"No layer selected.":"More than one layer selected.");
return null}var E=h.T[h.X[0]],p=E.TM<=0?null:E.TM==1?E.NH():E.o7(h).N;if(m||p&&p.bx)L=p;if(L==null&&E.add.lsct!=null&&E.add.lsct!=d7.E8){alert("No layer selected.");
return null}if(L==null&&x.lS(E.R))d=E.buffer;else{d=B.U(x.$()*4);if(L==null)B.YZ(E.buffer,E.R,d,x);else c.Bt.Dl(L.G,L.R,L.color,d,x)}}var Z=c.GF.p6(d,x,e,null,v),o=B.sH(Z,x),u=B.U(o.$());
B.Ww(Z,x,u,o);return{R:o,G:u}};c.GF.ku=function(h,e,v){var J=e.q,m=e._,x=0,j=0,E=0,L=0;h=new Uint32Array(h.buffer);
var d=[],p=v.length;for(var T=0;T<p;T++){var Z=v[T],o=Math.round(Z.x-.5-e.x),u=Math.round(Z.y-.5-e.y);
o=Math.max(0,Math.min(J-1,o));u=Math.max(0,Math.min(m-1,u));var N=u*J+o,M=h[N];d.push([M&255,M>>8&255,M>>16&255,M>>>24])}return d};
c.GF.p6=function(h,e,v,J,m){h=new Uint32Array(h.buffer);var d=e.q,x=e._,j=d*x;if(J==null)J=c.GF.ku(h,e,[v]);
var E=Math.round(v.x-.5-e.x),L=Math.round(v.y-.5-e.y),p=L*d+E,Z=Date.now(),o=B.U(d*x),u=m[0],N=1/u,M=m[1]&&u>0?255:0;
if(m[2]){var O=B.U(o.length),F=new Uint32Array(j),W=1;F[0]=E<<16|L;O[p]=1;while(W>0){var f=F[W-1];W--;
var $=f>>>16,H=f&65535,T=H*d+$,A=c.GF.R5(h[T],J);if(A>u){var G=M*(1-Math.max(0,Math.min(1,(A-u)*N)));
o[T]=~~G}else{o[T]=255;if(H!=x-1&&O[T+d]==0){F[W++]=$<<16|H+1;O[T+d]=1}if(H!=0&&O[T-d]==0){F[W++]=$<<16|H-1;
O[T-d]=1}if($!=d-1&&O[T+1]==0){F[W++]=$+1<<16|H;O[T+1]=1}if($!=0&&O[T-1]==0){F[W++]=$-1<<16|H;O[T-1]=1}}}}else{for(var T=0;
T<j;T++){var A=c.GF.R5(h[T],J);if(A<=u)o[T]=255}for(var H=0;H<x;H++)for(var $=0;$<d;$++){var T=H*d+$;
if(o[T]==0&&($>0&&(o[T-1]==255||H>0&&o[T-d-1]==255||H<x-1&&o[T+d-1]==255)||$<d-1&&(o[T+1]==255||H>0&&o[T-d+1]==255||H<x-1&&o[T+d+1]==255)||H>0&&o[T-d]==255||H<x-1&&o[T+d]==255)){var A=c.GF.R5(h[T],J),G=M*(1-Math.max(0,Math.min(1,(A-u)*N)));
o[T]=~~G}}}return o};c.GF.R5=function(h,e){var v=e.length,J=c.GF.aou(h,e[0]),T=1;while(T!=v){J=Math.min(J,c.GF.aou(h,e[T]));
T++}return J};c.GF.aou=function(h,e){var v=h&255,J=h>>>8&255,m=h>>>16&255,d=h>>>24&255;if(e[3]==0)return d<5?0:255;
var x=Math.max(Math.abs(v-e[0]),Math.max(Math.abs(J-e[1]),Math.abs(m-e[2])));return d==0?255:x};c.Ng=function(h,e){if(e)c.Bt.call(this);
else if(h)c.Bt.call(this,[10,49],c.I$,"tools/camove");else c.Bt.call(this,[10,26],c.yC,"tools/patch");
this.oj=null;this.WD=null;this.d=null;this.R8=null;this.fC=new fq;this.No=null;this.Y1=null};c.Ng.prototype=new c.Bt;
c.Ng.prototype.HL=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y);if(h.K&&B.v0(d,h.K.G,h.K.R)){var x=new fP(0,0,h.q,h._),j=x.UP(h.K.R);
if(!h.kC()||j.EG())return;if(!0){var E=B.U(j.$());B.Ww(h.K.G,h.K.R,E,j);h.K={G:E,R:j}}this.Dz(h);this.Fo(h);
this.R8=d;this.fC=new fq(d.x-h.K.R.x,d.y-h.K.R.y);this.Y1=B.U(h.K.R.$()*4);this.Y1.fill(255);if(this.wK.patch==1){var L=h.T[h.X[0]];
L.nL(h,h.K,!0);if(L.gc==null)this.R8=null}this.No=h.K.R.O()}else{this.WD={g:[d.x,d.y],WQ:["M"]};this.oj=d}};
c.Ng.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y);if(this.R8){if(this.wK.patch==1){if(h.kH.length==0){var x=h.T[h.X[0]].gc,j=d.x-this.fC.x,E=d.y-this.fC.y;
c.Pj.dV(h,h.X[0],Math.round(j-x.cM.x),Math.round(E-x.cM.y))}}else this.apr(h,d,"clone")}if(this.oj){this.WD.WQ.push("L");
this.WD.g.push(d.x,d.y);this.oj=d;h.M.Qd=this.WD;h.GI=!0}};c.Ng.prototype.ej=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y);
if(this.R8){var x=h.K.R.O();if(this.id==c.I$){var j=h.T[h.X[0]];j.bL(h,j.gc);h.K.R=this.No.O();var E=B.U(h.K.R.$()*4);
B.ar(h.K.G,E,3);this.i4(h,"sheal",E,h.K.R,h.K.R);h.K.R=x;x=x.R$(this.No)}this.apr(h,d,"heal");this.finish(h,x,null,null,!0);
h.dn(x);this.R8=null}if(this.oj){var L=c.tM.iR(this.wK.setop,J.r(dW.l$),J.r(dW.B2)),p=new g3(k.E.Fq,!0);
if(this.WD.g.length<=4)p.data=c.tM.CZ();else p.data=c.tM.g4(this.WD.g,L);e.a(p);this.oj=null;h.M.Qd=null;
h.GI=!0}};c.Ng.prototype.ae=function(){return this.d};c.Ng.prototype.oy=function(h,e,v,J,m){c.Bt.prototype.oy.call(this,h,e,v,J,m);
this.ZT(m,J)};c.Ng.prototype.ZT=function(h,e){var v="auto;";if(e!=null&&e.r(dW.l$)&&!e.r(dW.B2)||this.wK.setop=="union")v="copy";
var J=new g3(k.E.u,!0);J.data={V:k.l.zq,Tv:v};if(this.caller)this.caller.a(J)};c.Ng.prototype.apr=function(h,e,v){var J=new fq(Math.round(this.R8.x-e.x),Math.round(this.R8.y-e.y));
if(this.wK.patch==1)J.Cg(-J.x,-J.y);this.d=J;this.i4(h,v,this.Y1,h.K.R,h.K.R);this.dn(h,h.K.R)};c.ato=function(){c.Ng.call(this,!0);
this.wK.patch=1};c.ato.prototype=new c.Ng(!0,!0);c.kJ=function(h){if(h)c.Bt.call(this,[10,52],c.awf,"tools/meraser");
else c.Bt.call(this,[10,13],c.an6,"tools/pbucket");this.pZ=!1;this.ahb=h};c.kJ.prototype=new c.Bt;c.kJ.prototype.enable=function(h,e,v,J){var m=new g3(k.E.u,!0);
m.data={V:k.l.zq,Tv:"default"};e.a(m)};c.kJ.prototype.fa=function(h,e){};c.kJ.prototype.HL=function(h,e,v,J,m){if(this.SG(h,e,v,J,m,!0))return;
this.pZ=!0};c.kJ.prototype._8=function(h,e,v,J,m){if(this.SG(h,e,v,J,m))return};c.kJ.prototype.ej=function(h,e,v,J,m,d){this.enable(h,e,v,J);
var x=this.pZ;this.pZ=!1;if(!x||d)return;if(!h.kC())return;var j=h.p.$$(m.x,m.y),E=c.GF.aAY(h,j,this.wK.wconf,this.wK.sall,!0);
if(E==null)return;var L=B.U(E.R.$()*4);B.yV(L,(v.kc&255)<<16|(v.kc>>8&255)<<8|(v.kc>>16&255)<<0);B.ar(E.G,L,3);
this.Dz(h);this.i4(h,this.ahb?"erase":"draw",L,E.R,E.R);this.dn(h,E.R);this.finish(h,E.R)};c.B$=function(){c.tM.call(this,[10,14],c.aaD,"tools/plasso");
this.Ox="crosshair";this.UL=[];this.e9=null;this.WD=null;this.a9m=0};c.B$.prototype=new c.tM;c.B$.prototype.disable=function(h,e,v,J){this.AL(h)};
c.B$.prototype.wa=function(h,e,v,J){this.UL=[dW.PV,dW.iS]};c.B$.prototype.yz=function(h){return this.UL.indexOf(h)!=-1};
c.B$.prototype.Th=function(h){return this.WD!=null};c.B$.prototype.cD=function(){return this.WD!=null};
c.B$.prototype.G0=function(){return this.WD!=null};c.B$.prototype.$X=function(h,e,v,J){if(this.WD==null)return;
var m=this.WD,d=m.g,x=d.length-2,j=this.FZ;if(this.wC.l6(1)&&v.r(dW.B2)&&J.fE){d.push(0,0);m.WQ.push("L");
x+=2}else if(v.r(dW.l$))j=c.Sa.hn(new fq(d[x-2],d[x-1]),j);d[x]=j.x;d[x+1]=j.y;h.M.Qd=m;h.GI=!0};c.B$.prototype.sd=function(h,e,v,J){var m=Date.now();
if(this.WD==null)this.WD={g:[this.FZ.x,this.FZ.y,this.FZ.x,this.FZ.y],WQ:["M","L"]};else{this.$X(h,e,v,J);
if(m-this.a9m<250||fq.mr(this.FZ,new fq(this.WD.g[0],this.WD.g[1]))<c.im(h,J)){this.e9=this.WD;this.finish(h,e,v,J);
this.AL(h);return}this.WD.WQ.push("L");this.WD.g.push(this.FZ.x,this.FZ.y)}this.a9m=m;h.M.Qd=this.WD};
c.B$.prototype.AL=function(h){this.WD=null;this.UL=[];if(h!=null){h.M.Qd=null;h.GI=!0}};c.B$.prototype.lK=function(h,e,v,J){c.tM.prototype.lK.call(this,h,e,v,J);
if(J.r(dW.BC)&&this.WD==null&&this.e9&&h.K!=null){var m=new g3(k.E.A);m.I=c.V8;m.data={V:"h_stepbck"};
e.a(m);this.wa(h,v,J,null);this.WD=this.e9;return}if(this.WD==null)return;if(J.r(dW.PV)||J.r(dW.iS)){this.WD.g.pop();
this.WD.g.pop();this.WD.WQ.pop();this.$X(h,v,J)}if(J.r(dW.zD)){if(this.WD.g.length>4){this.e9=this.WD;
this.finish(h,v,J)}this.WD=null}if(J.r(dW.BC)){this.WD=null}h.M.Qd=this.WD;h.GI=!0};c.B$.prototype.getSelection=function(h,e,v,J){return c.tM.g4(this.WD.g,null,this.wK.anta)};
c.Ac=function(){c.tM.call(this,[10,10],c.asH,"tools/mlasso");this.Ox="crosshair";this.UL=[];this.z=[];
this.nY=[];this.zo=[];this.ay3=null;this.ayk=0;this.iJ=null;this.Uf=null;this.qi=0;this.HT=0};c.Ac.prototype=new c.tM;
c.Ac.prototype.disable=function(h,e,v,J){this.clear(h)};c.Ac.prototype.Th=function(h){return this.z.length!=0};
c.Ac.prototype.G0=function(){return this.z.length!=0};c.Ac.prototype.yz=function(h){return this.UL.indexOf(h)!=-1};
c.Ac.prototype.wa=function(h,e,v,J){this.UL=[dW.PV,dW.iS];var m=this.Vv(this.hC,h);if(this.z.length!=0&&(fq.mr(m,this.z[0])<c.im(h,J)||Date.now()-this.qi<300)){this.iL(h,this.z[0]);
this.finish(h,e,v);this.clear(h);return}this.qi=Date.now();if(this.z.length!=0)m=this.IN(m,h);else{var d=h.q,x=h._,j=h.pb(),E=UZIP.adler(j,0,j.length);
if(E==this.ayk){}else{var L=B.U(d*x),p=d*x*4;for(var T=0;T<p;T+=4)L[T>>>2]=~~(.5+B.Pr(j[T],j[T+1],j[T+2])*(j[T+3]*(1/255)));
this.ay3=B.ZZ.a5P(L,d,x);this.ayk=E}this.Uf=new Uint16Array(d*x)}this.iL(h,m);this.HT=v.r(dW.B2)?1:0;
this.zz(h)};c.Ac.prototype.iL=function(h,e){var v=this.z;this.nY[v.length]=this.zo.length;if(v.length!=0){B.ZZ.i0(this.iJ,e.y*h.q+e.x);
var J=this.Hb(h,e);J.reverse();var m=c.Ac.aaN(h,J);this.zo=this.zo.concat(m)}v.push(e);this.aq7(h)};
c.Ac.prototype.aq7=function(h){var e=this.z[this.z.length-1],v=e.y*h.q+e.x;this.iJ=B.ZZ.a85(this.ay3,v,h.q,h._);
this.Uf.fill(0)};c.Ac.prototype.Vv=function(h,e){return new fq(Math.floor(Math.max(0,Math.min(e.q-1,h.x))),Math.floor(Math.max(0,Math.min(e._-1,h.y))))};
c.Ac.prototype.clear=function(h){this.zo=[];this.z=[];this.nY=[];this.iJ=null;this.Uf=null;if(h!=null){h.M.Qd=null;
h.M.S0=[];h.GI=!0}this.UL=[]};c.Ac.prototype.$X=function(h,e,v,J){var m=this.z,d=m.length;if(d==0)return;
var x=this.IN(this.Vv(this.FZ,h),h),j=this.Hb(h,x);for(var T=0;T<j.length;T++){var E=j[T],L=new fq(E%h.q,Math.floor(E/h.q));
if(this.Uf[E]>30&&fq.mr(L,m[d-1])>20){this.iL(h,L);return}this.Uf[E]++}if(this.HT==1&&J.fE)this.iL(h,x);
this.zz(h)};c.Ac.prototype.zz=function(h){var e=this.z;if(e.length!=0){var v=this.IN(this.Vv(this.FZ,h),h),J=this.Hb(h,v);
J.reverse();var m=c.Ac.aaN(h,J),d=this.zo.concat(m),x=h.M.Qd={g:d,WQ:["M"]};for(var T=2;T<d.length;T+=2)x.WQ.push("L")}h.M.S0=[];
for(var T=0;T<e.length;T++)h.M.S0.push(e[T].x+.5,e[T].y+.5);h.GI=!0};c.Ac.prototype.sd=function(h,e,v,J){};
c.Ac.prototype.lK=function(h,e,v,J){if(this.z.length==0)return;if(J.r(dW.PV)||J.r(dW.iS)){this.z.pop();
this.zo=this.zo.slice(0,this.nY[this.z.length]);this.nY.pop();if(this.z.length==0)this.clear(h);else this.aq7(h);
this.zz(h)}if(J.r(dW.zD)){var m=this.Vv(this.FZ,h);this.iL(h,m);this.finish(h,v,J);this.clear(h)}if(J.r(dW.BC)){this.clear(h)}};
c.Ac.prototype.getSelection=function(h,e,v,J){return c.tM.g4(this.zo,null,this.wK.anta)};c.Ac.prototype.Hb=function(h,e){var v=this.z[this.z.length-1],J=v.y*h.q+v.x,m=e.y*h.q+e.x;
if(this.HT==1)return[m,J];var d=[m];while(m!=J){m=m+this.iJ.TX[m];d.push(m);if(d.length>5e3){console.log(d);
throw"e"}}return d};c.Ac.aaN=function(h,e){var v=[],J=h.q;for(var T=0;T<e.length;T++){var m=e[T];v.push(m%J+.5,Math.floor(m/J)+.5)}return v};
c.Ac.prototype.IN=function(h,e){var v=e.q,J=e._,m=h.O(),x=3;B.ZZ.i0(this.iJ,h.y*v+h.x);var d=this.iJ.y5[h.y*v+h.x];
for(var j=-x+1;j<x;j++)for(var E=-x+1;E<x;E++){var L=h.x+E,p=h.y+j;if(L<0||L>=v||p<0||p>=J)continue;
B.ZZ.i0(this.iJ,p*v+L);if(this.iJ.y5[p*v+L]<d)m.Cg(L,p)}return m};c.wV=function(){c.Yu.call(this,[10,36],c.ou,"tools/ruler");
this.sf=null;this.Ru=null;this.Bz=null;this._R=null;this.nF=null};c.wV.prototype=new c.Yu;c.wV.prototype.Th=function(h){return h.fE};
c.wV.prototype.enable=function(h,e,v,J){c.Yu.prototype.enable.call(this,h,e,J,v);if(h){this.dS(h)}};
c.wV.prototype.disable=function(h,e,v,J){if(h)this.AL(h)};c.wV.prototype.iu=function(h,e,v,J,m){if(h.V=="unit"){var d=this.sf,x=h.J;
v.ck={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:x[0]},logicalLength:{t:"doub",v:x[1]},logicalUnits:{t:"TEXT",v:x[2]}}}};
this.f3(e,k.E.u,{V:k.l.vi,I:this.id,sa:d[0],wW:d[1],JR:d[2],gx:v.gx,aDq:v.q,ck:v.ck})}if(h.V=="reset"){this.sf=this.Bz=null;
this.dS(v)}};c.wV.prototype.HL=function(h,e,v,J,m){var d=c.im(h,m),x=h.p.$$(m.x,m.y);x.x=Math.round(x.x);
x.y=Math.round(x.y);var j=this.sf;this.Ru=j?j.slice(0):null;var E=j&&fq.mr(x,j[0])<d,L=j&&fq.mr(x,j[1])<d,p=j&&j[2]&&fq.mr(x,j[2])<d;
if(E||L||p){if(J.r(dW.B2)&&j.length==2){if(L){var Z=j[0];j[0]=j[1];j[1]=Z}j[2]=j[0].O();this.Bz=[2]}else this.Bz=[E?0:L?1:2]}else if(j&&c.wV.apb(j[0],j[1],x)<d&&Math.min(j[0].x,j[1].x)-5<=x.x&&x.x<=Math.max(j[0].x,j[1].x)+5&&Math.min(j[0].y,j[1].y)-5<=x.y&&x.y<=Math.max(j[0].y,j[1].y)+5){this.Bz=[];
this.nF=[];for(var T=0;T<j.length;T++){this.Bz.push(T);this.nF.push(j[T].O())}this._R=x}else{this.sf=[x.O(),x.O()];
this.Bz=[1]}};c.wV.prototype._8=function(h,e,v,J,m){if(this.Bz==null)return;var d=this.sf,x=this.Bz,j=h.p.$$(m.x,m.y);
j.x=Math.round(j.x);j.y=Math.round(j.y);if(x.length>1){var E=j.x-this._R.x,L=j.y-this._R.y;for(var T=0;
T<d.length;T++){d[T]=this.nF[T].O();d[T].offset(E,L)}}else{d[x[0]].Cg(j.x,j.y);if(J.r(dW.l$)){d[x[0]]=c.Sa.hn(d[1-x[0]],d[x[0]])}}this.dS(h);
this.f3(e,k.E.u,{V:k.l.vi,I:this.id,sa:d[0],wW:d[1],JR:d[2],gx:h.gx,aDq:h.q,ck:h.ck});h.p._C=B.w.Ob([d[0].x,d[0].y,d[1].x,d[1].y])};
c.wV.prototype.ej=function(h,e,v,J,m,d){this.Bz=null;if(d){this.sf=this.Ru.slice(0);this.dS(h)}};c.wV.prototype.f3=function(h,e,v){var J=new g3(e,!0);
J.data=v;h.a(J)};c.wV.prototype.dS=function(h){var e=this.sf;if(e==null)this.AL(h);else{var v=[e[1].x,e[1].y,e[0].x,e[0].y],J=["M","L"];
if(e.length>2){v.push(e[2].x,e[2].y);J.push("L")}h.M.Qd={WQ:J,g:v};h.M.S0=v}h.GI=!0};c.wV.prototype.AL=function(h){h.M.Qd=null;
h.M.S0=[]};c.wV.apb=function(h,e,v){var J=e.x-h.x,m=e.y-h.y,d=Math.abs(m*v.x-J*v.y+e.x*h.y-e.y*h.x),x=Math.sqrt(J*J+m*m);
return x==0?0:d/x};c.Ah=function(){c.Bt.call(this,[10,19],c.D0,"tools/sharpen");this.kh="copy"};c.Ah.prototype=new c.Bt;
c.Ah.prototype.HL=function(h,e,v,J,m){var d=this.wK.pdetail?d2.jZ:d2.D0;if(J.r(dW.B2))d=d2.ho;this.gT(h,v,J,m,this.wK.strn,d);
if(this.yj==null)return;this.gt(h)};c.Ah.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.dx=function(){c.Bt.call(this,[10,24],c.Ya,"tools/shbrush");
this.kh="draw";this.wK.opacity=.5};c.dx.prototype=new c.Bt;c.dx.prototype.HL=function(h,e,v,J,m){this.gT(h,v,J,m,1);
if(this.yj==null)return;this.Fo(h);this.gt(h)};c.dx.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);
if(this.W0)this.uL(h,v,m);if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.dx.prototype.ej=function(h,e,v,J,m){if(this.yj==null)return;
this.i4(h,"sheal",this.yj.ju(),this.yj.YO(),this.yj.kp(),null);this.dn(h,this.yj.kp());c.Bt.prototype.ej.call(this,h,e,v,J,m)};
c.i8=function(){c.Bt.call(this,[10,20],c.M0,"tools/smudge");this.kh="copy"};c.i8.prototype=new c.Bt;
c.i8.prototype.HL=function(h,e,v,J,m){var d=this.wK.brush.toolOptions;this.gT(h,v,J,m,this.wK.strn,d2.M0);
if(this.yj==null)return;this.gt(h)};c.i8.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.Gh=function(){c.Bt.call(this,[10,23],c.Hf,"tools/sponge");
this.kh="sponge"};c.Gh.prototype=new c.Bt;c.Gh.prototype.HL=function(h,e,v,J,m){this.gT(h,v,J,m,this.wK.flow);
if(this.yj==null)return;this.gt(h)};c.Gh.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);if(this.W0)this.uL(h,v,m);
if(this.yj==null)return;if(!m.fE)return;this.ms(h,v,J,m);this.gt(h)};c.lM=function(){c.Yu.call(this,[10,17],c.ZM,"tools/zoom");
this.ia=!1;this.YV=!0;this.uH=!1;this.my=0;this.hZ=null;this.bh=null;this.Vf=0;this.UG=null;this.agM=0;
this.QC=new ar([{name:[8,0],vD:"Ctrl + +"},{name:[8,1],vD:"Ctrl + -",jV:!0},{name:[20,3],vD:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],vD:"Ctrl + 1"}],[{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!0}},{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!1}},{o:k.E.A,I:c.ZM,h:{V:"adapt",J:"fitscr"}},{o:k.E.A,I:c.ZM,h:{V:"adapt",J:"pixel"}}])};
c.lM.prototype=new c.Yu;c.lM.prototype.ZF=function(h,e,v,J,m){var d=this.QC;d.S();d.parent=e;d.update(h,v);
var x=new g3(k.E.u,!0);x.data={V:k.l.Eu,nB:d,x:m.oU+2,y:m.dG+1};e.a(x)};c.lM.prototype.enable=function(h,e,v,J){this.xN(e,J);
if(h&&Date.now()-this.my<300)this.iu({V:"adapt",J:"pixel"},e,h,J,v);this.my=Date.now()};c.lM.prototype.HL=function(h,e,v,J,m){this.bh=new fq(m.x,m.y);
this.Vf=h.p.e4;this.UG=h.p.d.O()};c.lM.prototype._8=function(h,e,v,J,m){if(this.bh==null)return;var d=Math.exp(Math.log(this.Vf)+(m.x-this.bh.x)/64);
d=Math.max(.02,Math.min(c.lM.Z0[0],d));h.p.e4=this.Vf;h.p.d=this.UG.O();this.iu({V:"zoom",e4:d,mj:this.bh,uH:this.uH},e,h,J,v)};
c.lM.prototype.ej=function(h,e,v,J,m){if(fq.mr(this.bh,m)<4){var d=this.aoR(J);this.iu({V:"zoom",YV:d,mj:m,uH:this.uH},e,h,J,v)}this.bh=null};
c.lM.Z0=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
c.lM.FT=function(h,e,v,J){var m=1;while(h*m*1/2>v||e*m*1/2>J)m*=1/2;if(h*m*2/3>v||e*m*2/3>J)m*=1/2;else if(h*m>v||e*m>J)m*=2/3;
return m};c.lM.adl=function(h,e){var v=c.lM.asw(h);if(e&&v==0)return h;if(!e&&v==c.lM.Z0.length-1)return h;
return c.lM.Z0[e?v-1:v+1]};c.lM.asw=function(h){var e=0;while(c.lM.Z0[e]>h)e++;return e};c.lM.ZC=function(h,e,v,J){var m=h.Zw;
if(J==0||J==null){J=c.lM.adl(h.e4,v);if(J==h.e4)return}var d=h.$$(e.x,e.y);d.x=Math.max(0,Math.min(m.q,d.x));
d.y=Math.max(0,Math.min(m._,d.y));if(!1){}else{var x=h.MJ(),j=h.e4/J;x.translate(-d.x,-d.y);x.scale(j,j);
x.translate(d.x,d.y);h.ags(x)}};c.lM.prototype.iu=function(h,e,v,J,m){if(h.V=="pzoom"){if(typeof h.J=="string")return;
h={V:"zoom",e4:h.J/100}}if(h.V=="prvw"){v.add.prvw=1-v.add.prvw;v.GI=!0}var d=0,x=!1,j=null;if(h.V=="adapt"){var E=0;
if(h.J=="pixel")E=1;if(h.J=="fitscr"){var E=0,L=v.p.L1.q,p=v.p.L1._,Z=new fP(0,0,v.q,v._),o=B.w.Tp(Z).g,u=new aJ;
u.rotate(v.p.dW);B.w.C(o,u,o);var N=B.w.oS(o),M=m.rM?B.yu.ma+4:8;E=Math.min((L-M*2)/N.q,(p-M*2)/N._);
v.p.d.Cg(0,0)}j=new fq(Math.round(v.p.L1.q/2),Math.round(v.p.L1._/2));d=E;c.lM.ZC(v.p,j,x,d);v.NK=!0}if(h.V.startsWith("multi")){function O(P){var S=P[0].x-P[1].x,i=P[0].y-P[1].y;
return Math.sqrt(S*S+i*i)}function F(P){return new fq((P[0].x+P[1].x)/2,(P[0].y+P[1].y)/2)}function W(P){var S=P[0].x-P[1].x,i=P[0].y-P[1].y;
return Math.atan2(i,S)}var f=h.mG,$=F(f);if(h.V=="multidown"){this.hZ=[f,v.p.e4,v.p.$$($.x,$.y),v.p.dW]}else{var H=c.lM.Z0,U=.15;
d=this.hZ[1]*O(f)/O(this.hZ[0]);d=Math.max(H[H.length-1],Math.min(H[0],d));if(d!=v.p.e4)c.lM.ZC(v.p,$,x,d);
var A=this.hZ[2],G=v.p.IK(A.x,A.y),l=v.p.d;l.x=Math.round(l.x+$.x-G.x);l.y=Math.round(l.y+$.y-G.y);var K=this.hZ[3]+(W(f)-W(this.hZ[0]));
K=K%(2*Math.PI);while(K<0)K+=2*Math.PI;if(K<U||K>2*Math.PI-U)K=0;v.p.dW=K;v.NK=!0}}if(h.V=="scroll"){j=h.mj;
var H=c.lM.Z0,z=h.Mx.y,q=1+Math.abs(z)*8e-4*(h.a32?10:1);if(z>0)q=1/q;d=v.p.e4*q;c.lM.ZC(v.p,j,x,Math.min(H[0],Math.max(H[H.length-1],d)));
v.NK=!0}if(h.V=="zoom"){var P=h.uH?e.qk:[v];for(var T=0;T<P.length;T++){var g=P[T],a=g.p;j=h.mj?h.mj:new fq(Math.round(a.L1.q/2),Math.round(a.L1._/2));
if(h.e4!=null)d=h.e4;else x=h.YV;c.lM.ZC(a,j,x,d);g.NK=!0}}if(h.V=="mskView"){var w=v.T[v.X[0]];if(w.TM<=0){w.TM=1;
v.L9=!0}var y=w.TM==3?w.o7(v).N:w.NH();if(h.J==0){v.p.Y=[1,1,1];y.bx=!1}if(h.J==1){v.p.Y=[1,1,1];y.bx=!0}if(h.J==2){v.p.Y=[0,0,0];
y.bx=!0}for(var T=0;T<v.Ar.length;T++)v.Ar[T].bx=!1;v.kH=[];v.GI=!0}};c.lM.prototype.lK=function(h,e,v,J){if(this.ia!=J.r(dW.B2)){this.ia=J.r(dW.B2);
var m={V:k.l.vi,I:this.id,ia:this.ia},d=new g3(k.E.u,!0);d.data=m;e.a(d);this.xN(e,J)}};c.lM.prototype.xN=function(h,e){var v=new g3(k.E.u,!0),J=this.aoR(e);
v.data={V:k.l.zq,Tv:J?"zoom-in":"zoom-out"};h.a(v)};c.lM.prototype.oy=function(h,e,v,J){this.YV=h.YV;
this.uH=h.uH;this.xN(e,J)};c.lM.prototype.aoR=function(h){var e=this.YV;if(h.r(dW.qW)&&h.r(dW.Dd))e=!0;
if(this.ia)e=!e;return e};c.lM.aI5=function(h,e){if(h.r(dW.ci)||h.r(dW.a9Z)){e.I=c.ZM;e.data={V:"zoom",YV:!0}}if(h.r(dW.As)){e.I=c.ZM;
e.data={V:"zoom",YV:!1}}if(h.r(dW.rl)){e.I=c.ZM;e.data={V:"adapt",J:"fitscr"}}if(h.r(dW.fX)){e.I=c.ZM;
e.data={V:"adapt",J:"pixel"}}};c.Uk=function(h,e,v){c.Yu.call(this,h,e,v);this.Zw=null;this.H=null;this.IF=null;
this.a87=0};c.Uk.prototype=new c.Yu;c.Uk.r9=function(h,e){var v={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},J=h==null?{classID:"null",null:v,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:v,Usng:{t:"type",v:{classID:h}},__name:"Stroke"};
if(e)J.Prs={t:"bool",v:!0};return{UH:h==null?"fill":"stroke",TH:J}};c.Uk.ko=function(T){var h={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},J;
if(T==3){var e=h8.$j("Lyr",!0);e.v.unshift(h);return{UH:"delete",TH:{classID:"Dlt",null:e}}}var e=h8.$j("Path"),v={t:"obj ",v:[h]};
if(T<2)J={t:"enum",v:{vectorMaskEnabled:T==0?"RvlA":"HdAl"}};else J=h8.$j("Path",!0);return{UH:"make",TH:{classID:"Mk",null:e,At:v,Usng:J}}};
c.Uk.prototype.enable=function(h,e,v,J,m){this.H=v;var d=new g3(k.E.u,!0);d.data={V:k.l.zq,Tv:"default"};
e.a(d)};c.Uk.prototype.ZF=function(h,e,v,J,m){var d=h.rx(),x=d[0],j=d[1];if(j.length==0)return;var E=x[j[0]],L=E.add.vmsk,p=h.p.$$(m.x,m.y),Z=4*c.A_()/h.p.e4,o=new fP(p.x-Z,p.y-Z,Z*2,Z*2),u=B.s.Kb(L.z,o)[0];
if(u.length!=0){L.Ez=u;h.GI=!0}var N=B.s.v0(L.z,p).yl;if(N!=-1){L.X=[N];h.GI=!0}var M=new g3(k.E.u,!0);
M.data={V:k.l.vi,I:this.id,zG:m,PD:h,H:v};e.a(M)};c.Uk.prototype.axj=function(h,e){var v=new g3(k.E.u,!0);
v.data={V:k.l.Gi,m0:dq.ik};if(!e.I7)h.a(v);v.data={V:k.l.Gi,m0:dq.WC};if(!e.Kd.H0)h.a(v)};c.Uk.prototype._X=function(h,e,v,J,m){c.Yu.a5S.call(this,h,e,v,J);
if(h==null)return;if(v.jR!=this.id&&m==null)return;if(h.X.length==0)return;var d=h.T[h.X[0]],x=d.add.vmsk,j=d.add.vstk;
if(jD==0){var E=fL.aB(d.add);this.Zw=h;this.IF=e;if(d.Yb()&&x!=null&&(JSON.stringify(j)!=JSON.stringify(v.Wv)||JSON.stringify(E)!=JSON.stringify(v.TV))){this.a87=Date.now();
var L=new g3(k.E.u,!0);L.data={V:k.l.Gi,m0:dq.j_,J:E};e.a(L);L.data={V:k.l.Gi,m0:dq.a0,J:j};e.a(L)}}else{var p=null;
for(var T=0;T<h.X.length;T++){var d=h.T[h.X[T]],Z=d.add.vstl;if(Z==null)continue;if(p==null)p=B.t(Z);
else{for(var o in Z){if(p[o]==null)continue;if(Z[o]==Z.N0){if(JSON.stringify(Z[o])!=JSON.stringify(p[o]))delete p[o]}else if(Z[o]==Z.xJ){if(JSON.stringify(Z[o])!=JSON.stringify(p[o]))delete p[o]}else if(Z[o]!=p[o])delete p[o]}}}if(p==null)return;
var u=JSON.stringify(p);if(u!=JSON.stringify(v.Rr)){var L=new g3(k.E.u,!0);L.data={V:k.l.Gi,m0:dq.SH,J:p};
e.a(L)}}};c.Uk.prototype.fa=function(h,e){if(e==dq.xo||e==dq.AY)this._X(null,null,h,null);if(this.Zw==null)return;
if(e==dq.AY||e==dq.j_||e==dq.a0){if(Date.now()-this.a87<50)return;var v=e==dq.j_,J=this.Zw,m=v?h.TV:h.Wv,d=[],x=J.X;
for(var T=0;T<x.length;T++){var j=x[T],E=J.T[j];if(!E.Yb()||E.add.vmsk==null)continue;d.push(j)}var L=new g3(k.E.A,!0);
L.I=c.Yn;L.data={V:s.A0,oP:d,zS:v,J:m};if(d.length!=0)this.IF.a(L)}};c.Uk.prototype.a5F=function(h){if(typeof h=="number"){var e=new g3(k.E.Fq,!0);
e.data=c.XH.pH(0);e.data.TH.Usng.v.Type.v.Clr.v=B.Vh.WZ({n:h>>>16&255,i:h>>>8&255,b:h>>>0&255});this.IF.a(e)}};
c.Uk.prototype.iu=function(h,e,v,J,m){this.IF=e;if(h.V=="newfill"){if(h.R4==0){var d=new g3(k.E.u,!0);
d.data={V:k.l.Xq,dF:"colorpicker",Rm:m.kc,sI:this.a5F.bind(this)};e.a(d)}}else if(h.V=="smplp"){if(v==null)return;
var x=v.rx(),j=x[0],E=x[1];if(E.length==0){alert("No paths selected");return}var L=j[E[0]];if(L.add.vmsk.X.length<=0){alert("No paths selected");
return}if(this._T==null){this._T=L.add.vmsk.O();this.wF=JSON.stringify(L.add.vogk);this.WD=L;this.Zw=v}var d=new g3(k.E.u,!0);
d.data={V:k.l.Xq,dF:"simplifypath",xz:100,j5:this.ajP.bind(this)};e.a(d)}else if(h.V=="pathedit"){var p=h.rf,Z="",o=v.H0.slice(0),u=v.cg.slice(0),N=v.H0.slice(0),M=v.cg.slice(0);
if(p=="rnm"){var O=-1-h.yl,F=o[O],W=e7.O8(h.name,F.add);if(O!=0)N[O]=W;else{M=[N.length];N.push(W);N[0]=e7.O8("Work Path")}Z="Rename"}else if(p=="new"){var W=e7.O8("Path "+o.length);
if(h.gA)W=h.gA;if(h.aa2){var x=v.rx(),j=x[0],E=x[1],f=j[E[0]];W.add.vmsk=f.add.vmsk.O();W.add.vogk=B.t(f.add.vogk);
if(f.yl==-1){var $=N[M[0]]=e7.O8("Path "+o.length);$.name=f.name;$.yl=f.yl}}N.push(W);M=[N.length-1];
Z="New"}else if(p=="del"){if(v.Z3&&v.Z3.length!=0){var d=new g3(k.E.Fq,!0);d.data=c.Uk.ko(3);e.a(d)}if(M.length==0)return;
M.sort(function(P,r){return P-r});if(M[0]==0){N[0]=e7.O8(o[0].name);M=M.slice(1)}var H=0;while(M.length!=0){N.splice(M[0]-H,1);
M=M.slice(1);H++}Z="Delete"}else if(p=="fromsel"){var L=N[0]=e7.O8("Work Path");M=[0];if(v.K==null)return;
var A=v.K.G.slice(0);for(var T=0;T<A.length;T++)A[T]=A[T]>128?2:1;var G=v.K.R.O();G.vY(1,1);var l=B.U(G.$());
B.Ww(A,v.K.R,l,G);var K=fg.EU(l,G.q,G._,Math.round(G.$()*5e-4)),j=fg.rx(K),U=new aJ(1,0,0,1,-1+v.K.R.x,-1+v.K.R.y);
for(var T=0;T<j.length;T++)B.w.C(j[T].path.g,U,j[T].path.g);for(var T=0;T<j.length;T++){var z=j[T];if(z.color==1&&z.parent==-1)continue;
var q=B.w.GJ(j[T].path,!1);q[2].Jb=0;L.add.vmsk.z=L.add.vmsk.z.concat(q.slice(2))}L.add.vogk=s.d6(L.add.vmsk.z);
Z="Selection to"}var P=new aO(Z+" Path",this);P.data={Ru:o,Np:u,aol:N,nW:M};if(p=="fromsel"){P.data.B1=v.K;
P.data.at=null}v.Mk(P);this.W1(P.data,v)}else{var g=h.SQ,x=v.rx(h.V=="append"||h.V=="fromAction"),j=x[0],E=x[1],L=j[E[0]],a=L.add.vmsk,w=L.add.vogk,y=a.O(),S=a.O(),i=JSON.stringify(w);
if(h.V=="fromAction"){var C=h.tT,Y=C.UH,_=C.TH,t=_.T;if(Y=="set"){if(t){w=[B.WU.e5(t,v.q,v._)];S.z.push({c:0,Jb:1,length:0});
B.WU.r2(w,S);g=[12,76,0]}else throw _}else if(Y=="draw"){w=[B.WU.e5(_.Shp,v.q,v._)];S.z.push({c:0,Jb:1,length:0});
B.WU.r2(w,S);c.Uk.ahJ(S.z,_.AntA.v,m.kc,e);return}else throw Y}else if(h.V=="remove"){if(h.Ck&&S.Ez.length!=0){S.z=B.s.axb(S.z,S.Ez,w,h.as9);
var I=B.s.bJ(S.z);for(var T=0;T<S.X.length;T++)if(S.X[T]>=I){S.X.splice(T,1);T--}S.Ez=[];g="Delete Anchors"}else{if(S.X.length==0)return;
var H=0;for(var T=0;T<S.X.length;T++){w.splice(S.X[T]+H,1);H--}S.z=B.s.asO(S.z,S.X);S.X=[];S.Ez=[];if(g==null)g="Delete Paths"}}if(h.V=="append"){c.Uk.za(h.a7e,S,w)}this.U4(v,L.yl,S,w);
this.w3(v,g,L.yl,y,S.O(),null,i,JSON.stringify(w))}};c.Uk.ahJ=function(h,e,v,J){var m=new s.eo;m.z=m.z.concat(h.slice(2));
var d=m.NH();if(!e)B.round(d.G);var x=B.U(d.R.$()*4);B.yV(x,(v&255)<<16|(v>>8&255)<<8|(v>>16&255)<<0);
B.ar(d.G,x,3);var j=new g3(k.E.A,!0);j.I=c.ty;j.data={V:"draw",qs:{buffer:x,R:d.R.O()},SQ:this.name};
J.a(j)};c.Uk.hh=function(h,e){var v=B.s.aF8(h.z,h.X),J=[];for(var T=0;T<h.X.length;T++)J.push(B.t(e[h.X[T]]));
return[v,J]};c.Uk.za=function(h,e,v){var J=B.s.bJ(e.z),m=B.s.bJ(h[0]);e.z=e.z.concat(h[0].slice(2));
e.X=[];for(var T=0;T<m;T++)e.X.push(J+T);for(var T=0;T<m;T++)v.push(B.t(h[1][T]))};c.Uk.prototype.yz=function(h,e){if(e==null)return!1;
var v=e.rx(),J=v[0],m=v[1];if(m.length==0)return!1;var d=J[m[0]],x=d.add.vmsk;if(x&&x.X.length+x.Ez.length!=0)return[dW.PV,dW.iS].indexOf(h)!=-1};
c.Uk.prototype.lK=function(h,e,v,J){if(h==null)return;var m=h.rx(),d=m[0],x=m[1];if(x.length==0)return;
var j=d[x[0]],E=j.add.vmsk;if(J.r(dW.BC)||J.r(dW.zD)||this.id==c.gg&&J.r(dW.k3)&&E.Ez.length==1){E.Ez=[];
h.GI=!0}if(E.X.length!=0){var L=J.Sl(h?h.p.dW:0);if(L.x!=0||L.y!=0){var p=E.O(),Z=E.O(),o=new aJ(1,0,0,1,L.x,L.y),u=j.add.vogk,N=JSON.stringify(u);
if(J.r(dW.B2)){var M=c.Uk.hh(Z,u);c.Uk.za(M,Z,u)}B.s.Ma(Z.z,o,Z.X);B.WU.C(u,B.D.fi(o),Z.X);this.U4(h,j.yl,Z,u);
this.w3(h,"Move Paths",j.yl,p,Z.O(),!0,N,JSON.stringify(u))}if(J.r(dW.PV)||J.r(dW.iS))this.iu({V:"remove",Ck:this.id==c.gg},e,h,J,v)}};
c.Uk.prototype.w3=function(h,e,v,J,m,d,x,j){var E=new aO(e,this);E.data={pT:v,GU:J,VD:m,ai3:d,a2w:x,re:j};
h.Mk(E)};c.Uk.prototype.W1=function(h,e){if(h.pT!=null)this.U4(e,h.pT,h.VD.O(),JSON.parse(h.re));else{e.H0=h.aol.slice(0);
e.cg=h.nW.slice(0);e.GI=e.L9=!0}if(h.B1||h.at){e.K=h.at;e.AQ=!0}};c.Uk.prototype.ZL=function(h,e){if(h.pT!=null)this.U4(e,h.pT,h.GU.O(),JSON.parse(h.a2w));
else{e.H0=h.Ru.slice(0);e.cg=h.Np.slice(0);e.GI=e.L9=!0}if(h.B1||h.at){e.K=h.B1;e.AQ=!0}};c.Uk.prototype.U4=function(h,e,v,J){var m=e<0?h.H0[-1-e]:e<1e6?h.T[e]:h.T[e-1e6].add.TySh,d=m.add.vmsk;
d.G=null;d.c8=!0;if(d.zl){d.zl.G=null;d.zl.c8=!0}m.add.vmsk=v;m.add.vogk=J;if(1e6<=e){fr.dd(m);var x=h.T[e-1e6],j=m,E=this.H;
hP.IV(x,E.eN);h.dn()}else if(0<=e){v.c8=!0;m.vT(h);h.dn()}h.GI=h.L9=!0};c.XH=function(h,e,v,J){c.Uk.call(this,h,e,v);
this.wK={shape:dI.UX(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{xr:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.arZ=J;this.sp=null;this.$N=null;this.Ab=null;this.wC=new i_};c.XH.prototype=new c.Uk;c.XH.prototype.Th=function(h){return h.fE&&this.id!=c.Iv};
c.XH.prototype.enable=function(h,e,v,J,m){this.H=v;var d=new g3(k.E.u,!0);d.data={V:k.l.zq,Tv:"crosshair"};
e.a(d)};c.XH.prototype.lK=function(h,e,v,J){c.Uk.prototype.lK.call(this,h,e,v,J);this.wC.lK(J);this.Cn(e,v)};
c.XH.prototype.Cn=function(h,e){var v=new g3(k.E.u,!0);v.data={V:k.l.vi,I:this.id,Al:this.k9(e)};h.a(v)};
c.XH.prototype.k9=function(h){var e=this.wC.uj(0),v=this.wC.l6(0),J=c.tM.iR(this.wK.binop,e,v),m=this.id==c.Iv?h.K1:h.FD;
if(m==1&&J==0)J=1;return J};c.XH.prototype.lJ=function(h,e,v,J){};c.XH.prototype.HL=function(h,e,v,J,m){var d=this.id==c.Iv?v.K1:v.FD;
if(d!=2)this.axj(e,v);if(d==2&&!h.kC())return;var x=h.p.$$(m.x,m.y);x=c.Pj.$T(h,x,v);this.Ab=[x.x,x.y];
this.sp=x;this.$N=new fq(0,0);this.wC.HL(J)};c.XH.prototype.aAB=function(h,e,v,J){var m=[this.sp.O(),e.O()];
v=this.wC.uj(1)||v.r(dW.l$)||this.wC.l6(1)?v:null;if(this.arZ)m=c.XH.tw(m[0],m[1],v,!0,this.wK.cstr);
if(h)h.p._C=new fP(m[0].x,m[0].y,m[1].x-m[0].x,m[1].y-m[0].y);return this.lJ(m[0],m[1],this.wC.uj(1)&&v.r(dW.l$),this.Ab,h.p,J)};
c.XH.prototype.aa8=function(h,e,v){var J=h.p.$$(e.x,e.y);if(this.id==c.Iv)return J;var m=this.wK.cstr;
if(m.xr==2){var d=new fP(J.x-m.x,J.y-m.y,m.x,m.y),x=c.Pj.xH(h,d,v);J.x+=x[0];J.y+=x[1];c.Pj.t5(h,d,x)}else J=c.Pj.$T(h,J,v);
return J};c.XH.prototype._8=function(h,e,v,J,m){if(this.sp==null)return;var d=this.Ab,x=d.length,j=m?this.aa8(h,m,v):new fq(d[x-2],d[x-1]);
if(J.r(dW.qW))this.sp=j.am(this.$N);else this.$N=j.am(this.sp);d.push(j.x,j.y);if(this.wK.shape==null)this.wK.shape=v.ki[0];
var E=this.aAB(h,j,J,!0)[0],L=B.w._i(E);h.M.Qd=L;if(this.id!=c.Iv&&this.id!=c.EE&&this.id!=c.A2)c.Yu.fO(m,h.p._C,h,v);
h.GI=!0;this.wC._8()};c.XH.prototype.aoV=function(h,e,v,J){var m=h[4].O();if(J){m.x-=e/2;m.y-=v/2}if(this.id==c.EE){e/=2;
v/=2;m.x+=e;m.y+=v;v=-v;e=0}var d=this.lJ(m,new fq(m.x+e,m.y+v),!1,this.Ab);this.a8_(h[0],h[1],h[2],d)};
c.XH.prototype.a8_=function(h,e,v,J){var m=this.id==c.Iv?v.K1:v.FD,d=new g3(k.E.Fq,!0);if(m==0)d.data=c.XH.ajr(J[1],v);
else if(m==1){var x={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:J[1]};
d.data={UH:"set",TH:x}}else{var x={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:J[1]};d.data={UH:"draw",TH:x}}e.a(d);
if(J[1].v.classID=="customShape"&&J[1].v.Nm.v.startsWith("--")){var j=h.rx(),E=j[0],L=j[1],p=E[L.pop()],Z=p.add.vmsk,o=p.add.vogk;
B.WU.a5N(o);var u=Z.O();u.z=J[0];this.U4(h,p.yl,u,o)}};c.XH.prototype.ej=function(h,e,v,J,m,d){if(this.sp==null)return;
var x=this.aa8(h,m,v),j=this.k9(v),E=this.id==c.Iv?v.K1:v.FD,L=this.Ab,p=L.length;if(this.id==c.Iv&&p<=4){}else if(p<=4){x.x=Math.round(x.x);
x.y=Math.round(x.y);var Z=new g3(k.E.u);Z.data={V:k.l.Xq,dF:"createshape",avY:this.aoV.bind(this),agq:this.name,ap5:[h,e,v,J,x]};
if(!d)e.a(Z)}else if(p!=2){var o=this.aAB(h,x,J),u=o[0],N=h.rx(!0),M=N[0],O=N[1],F=O.length-1;if(E==1&&u.length>2||E==0&&j!=0&&F!=-1&&M[O[F]].yl>=0){u[2].Jb=[1,2,3,0][j-1];
var W=M[O.pop()],f=W.add.vmsk,$=W.add.vogk,H=f.O(),A=f.O(),G=JSON.stringify($);A.z=A.z.concat(u.slice(2));
A.X=[B.s.bJ(A.z)-1];var l=B.WU.e5(o[1]);$.push(l?l:B.WU.ML());this.U4(h,W.yl,A,$);this.w3(h,this.name,W.yl,H,A,null,G,JSON.stringify($))}else if(E==0){this.a8_(h,e,v,o)}else if(E==2){c.Uk.ahJ(u,this.wK.anta,v.kc,e)}}this.sp=null;
h.M.Qd=null;h.M.AF=null;h.M.xT=[];h.p._C=null;h.GI=!0;this.wC.ej();this.Cn(e,v)};c.XH.prototype.oy=function(h,e,v,J,m){for(var v in h)this.wK[v]=h[v]};
c.XH.tw=function(h,e,v,J,m){var d=h.x,x=h.y,j=e.x,E=e.y;if(m&&m.xr==2){if(J){j=Math.round(j);E=Math.round(E)}d=j-m.x;
x=E-m.y}else{var L=0;if(m&&m.xr==1)L=m.y/m.x;else if(v&&v.r(dW.l$))L=1;if(L!=0){if(J){if(d<j)d=Math.floor(d);
else d=Math.ceil(d);if(x<E)x=Math.floor(x);else x=Math.ceil(x)}var p=Math.abs(j-d),Z=Math.abs(E-x),o=p;
if(Z/p<L)o*=Z/p/L;j=j>d?d+o:d-o;E=E>x?x+o*L:x-o*L}if(v&&v.r(dW.B2)){d-=j-d;x-=E-x}}var h=new fq(d,x),e=new fq(j,E);
if(J)c.XH.axI(h,e);return[h,e]};c.XH.axI=function(h,e){if(h.x>e.x){var v=h.x;h.x=e.x;e.x=v}if(h.y>e.y){var v=h.y;
h.y=e.y;e.y=v}h.x=Math.floor(h.x);h.y=Math.floor(h.y);e.x=Math.ceil(e.x);e.y=Math.ceil(e.y)};c.XH.aDN=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
c.XH.pH=function(h,e){var v=c.XH.aDN(),J=v.Usng.v.Type;if(e==null){J.v=B.t(fL.fZ[h]);J.v.classID=["solidColorLayer","gradientLayer","patternLayer"][h]}else c.YK.AZ(e,J.v,h);
return{UH:"make",TH:v}};c.XH.ajr=function(h,e){var v=e.TV,J=B.t(e.Wv);J.fillEnabled.v=v.oH!=0;var m=c.XH.pH(Math.max(0,v.oH-1),v.ag);
m.TH.Usng.v.Shp=h;m.TH.Usng.v.strokeStyle={t:"Objc",v:J};return m};c.hd=function(h){c.Uk.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][h],[c.gg,c.arG,c.ayV,c.a4N,c.amG][h],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][h]);
this.HT=h;this.Nr=null;this.FQ=null;this._T=null;this.wF=null;this.zB=0;this.C$=null;this.ev=!1;this.VO=!1;
this.Fu=!1;this.b3=!1;this.RU=!1;this.zf=!1;this.my=0};c.hd.prototype=new c.Uk;c.hd.prototype.Th=function(h){return this._T!=null};
c.hd.prototype.lK=function(h,e,v,J){if(!J.r(dW.B2))this.RU=!1;if(this.HT==1&&(J.r(dW.PV)||J.r(dW.iS))&&this.yz(dW.PV,h)){this.iu({V:"remove",Ck:!0},e,h,J,v);
return}if(this.FQ)this.ZT(h,e,v,J,this.FQ);c.Uk.prototype.lK.call(this,h,e,v,J)};c.hd.prototype.LX=function(h,e,v,J,m){var d=h.p.$$(J.x,J.y,!0),x=c.Pj.$T(h,d,e),j=this.HT,E=e.K1,L=this.zB;
if(E==2)E=0;var p=h.rx(m&&E==1),Z=p[0],o=p[1],u=o.length==0?null:Z[o.pop()],N=u?u.add.vmsk:null;if(E==0&&L!=0&&u&&u.yl>=0)E=1;
var M=c.im(h,J);if(j<2&&E==0&&(N==null||N.Ez.length==0&&B.s.v0(N.z,d,!0,M).yl==-1))return["new",!0];
if(N==null)return[null];var O=N.z,F=B.s.Kb(O,new fP(d.x-M,d.y-M,M*2,M*2),N.Ez,!0),W=B.s.v0(O,d,!0,M);
if(j<3&&W.yl!=-1&&F[0].length==0)return["add"];if((F[3]!=0||W.yl!=-1)&&(v.r(dW.B2)||j==4))return["cnv"];
var f=F[0].length==1&&O[F[0][0]-1]&&(O[F[0][0]-1].Q!=null||O[F[0][0]-1].c==0||O[F[0][0]-1].length==1);
if(f)return[j==0||j==3?"del":j==2?"mva":"mov"];if(j<2){var $=B.s.n2(O,B.s.ym(O,N.Ez[0]));if($!=-1&&fq.mr(d,O[$+1].Q)<M)return["fin"];
if(N.Ez.length!=1)return["new"];return["nrm"]}return[null]};c.hd.prototype.HL=function(h,e,v,J,m){var d=h.cg.indexOf(0)!=-1,x=h.p.$$(m.x,m.y,!0),j=c.Pj.$T(h,x,v),E=this.HT,L=v.K1,p=this.zB;
if(L==2)L=0;var Z=h.rx(L==1),o=Z[0],u=Z[1],N=o[u.pop()],M=N?N.add.vmsk:null;if(L==0&&p!=0&&N&&N.yl>=0)L=1;
var O=c.im(h,m),F=this.LX(h,v,J,m,!0);if(F[0]==null)return;if(F[1]){var W=new g3(k.E.Fq,!0),f=B.WU.xh("customShape",[0,0,1,1],null,null,null,"--");
W.data=c.XH.ajr(f,v);e.a(W);this.zf=!0;Z=h.rx(!0);o=Z[0];u=Z[1];N=o[u.pop()];M=N.add.vmsk;M.z=M.z.slice(0,2)}var $=N.add.vogk,H=M.z;
this._T=M.O();this.wF=JSON.stringify($);if(N.name=="Work Path"&&!d){H=M.z=H.slice(0,2);$=[]}this.Nr=m;
this.axj(e,v);var A=B.s.Kb(H,new fP(x.x-O,x.y-O,O*2,O*2),M.Ez,!0),G=B.s.v0(H,x,!0,O);if(F[0]=="add"){var l=B.s.n2(H,G.yl),K=H[l].length;
while(K<=G.QU){G.QU-=K;l+=K+1}var U={c:4,NA:j.O(),Q:j.O(),Xb:j.O()},z=l+2+G.QU,q=l+1+(1+G.QU)%K,P=H[z-1],g=H[q];
if(!P.Q.lS(P.Xb)||!g.NA.lS(g.Q)){var a=B.w.aw_(P.Q,P.Xb,g.NA,g.Q,G.OL);P.Xb=a[0];U.NA=a[1];U.Q=a[2];
U.Xb=a[3];g.NA=a[4]}this.b3=!0;H.splice(z,0,U);H[l].length++;M.Ez=[z];if(E==1){U.NA.x+=2;this.$q(M)}}else if(F[0]=="cnv"){var w=-1;
if(A[0].length!=0){w=A[0][0];var y=H[w],S=y.c>=3?3:0,i=w==H.length-1;y.c=S+1;if(!(E==4&&J.r(dW.B2))&&!(E==0&&i))y.NA=y.Q.O();
y.Xb=y.Q.O();this.b3=!0;if(E==0&&!i)this.RU=!0}else if(A[1].length+A[2].length!=0){var w=A[2][0];if(w==null){w=A[1][0];
this.VO=!0}var y=H[w],S=y.c>=3?3:0;y.c=S+2}else w=B.s.n2(H,G.yl)+G.QU+1;if(w!=-1)M.Ez=[w]}else if(F[0]=="mva"){this.Fu=!0;
M.Ez=[A[0][0]]}else if(F[0]=="mov"){var w=A[0][0],C=H[w],Y=C.Q,_=Math.abs(B.w.bl(C.NA.x,C.NA.y,Y.x,Y.y,C.Xb.x,C.Xb.y));
if(_>.01){C.NA=Y.O();C.Xb=Y.O()}if(Date.now()-this.my<300){var t=C.NA.lS(Y)&&C.Xb.lS(Y);if(t)C.Xb.offset(2,2);
else{C.NA=Y.O();C.Xb=Y.O()}this.my=0}else this.my=Date.now();M.Ez=[w];this.$q(M)}else if(F[0]=="del"){var w=A[0][0],l=B.s.n2(H,B.s.ym(H,w)),f=H[l],I=l+f.length;
if(w!=I||f.c==0){H[l].length--;H.splice(w,1);I--;if(f.length==0){H.splice(l,1);I=-1}}if(I!=-1)M.Ez=[I];
else M.Ez=[]}else if(F[0]=="fin"){var l=B.s.n2(H,B.s.ym(H,M.Ez[0]));H[l].c=0;M.Ez=[l+1];this.C$=j;this.ev=!0;
this.b3=!0}else{var r=0;if(F[0]=="new"){M.X=[B.s.bJ(H)];H.push({c:3,length:1,Jb:[1,2,3,0][Math.max(0,p-1)],rH:0,rd:0,O1:0});
r=H.length;$.push(B.WU.ML())}if(F[0]=="nrm"){var l=B.s.n2(H,B.s.ym(H,M.Ez[0])),C=l+H[l].length;H[l].length++;
r=C+1;if(C==l+1&&H[l].length!=2)r=l+1}if(J.r(dW.l$)&&H[r-1]&&H[r-1].Q)j=c.Sa.hn(H[r-1].Q,j);var U={c:4,NA:j.O(),Q:j.O(),Xb:j.O()};
H.splice(r,0,U);M.Ez=[r];this.C$=j;if(this.HT==1){U.NA.x+=2;this.$q(M)}this.b3=!0;this.my=Date.now()}this.U4(h,N.yl,M,$);
h.GI=!0};c.hd.prototype.$q=function(h){var e=h.z,v=h.Ez[0],J=B.s.n2(e,B.s.ym(e,v))+1,m=e[J-1].length;
if(m<3)return;var d=[],x=[];for(var T=0;T<5;T++){var j=J+(v-J-2+T+5*m)%m;x.push(j);var E=e[j].Q;d.push(E.x,E.y)}var L=B.w.awR(d);
for(var T=1;T<4;T++){var p=T*4,Z=e[x[T]],E=Z.Q,o=Z.NA.lS(E)&&Z.Xb.lS(E);if(!o){Z.NA.Cg(L[p],L[p+1]);
Z.Xb.Cg(L[p+2],L[p+3])}else{Z.NA=E.O();Z.Xb=E.O()}}};c.hd.prototype.ZT=function(h,e,v,J,m){var d=this.LX(h,v,J,m)[0],x=null;
if(d==null)x="default";else x=c.hd.Mh(d);var j=new g3(k.E.u,!0);j.data={V:k.l.zq,Tv:x};e.a(j)};c.hd.prototype._8=function(h,e,v,J,m){this.FQ=m;
if(this._T==null){this.ZT(h,e,v,J,m);return}var d=this.Nr;if(d&&fq.mr(d,m)<c.im({p:{e4:1}},m))return;
this.Nr=null;var x=h.p.$$(m.x,m.y),j=c.Pj.$T(h,x,v),E=h.rx(v.K1==1),L=E[0],p=E[1],Z=L[p.pop()],o=Z.add.vmsk,u=o.z,N=u[o.Ez[0]];
if(this.HT==1){var M=N.Q.lS(N.NA)&&N.Q.lS(N.Xb);N.Q=x.O();N.NA=x.O();N.Xb=x.O();if(!M)N.NA.x+=2;this.$q(o)}else if(J.r(dW.qW)){if(J.r(dW.l$))j=c.Sa.hn(this.C$,j);
var O=N.Q.am(N.Xb),F=N.NA.am(N.Q);N.Xb=j;N.Q=j.add(O);N.NA=N.Q.add(F)}else if(this.Fu){var W=N.NA.am(N.Q),f=N.Xb.am(N.Q);
N.Q=j;N.NA=N.Q.add(W);N.Xb=N.Q.add(f)}else{if(J.r(dW.l$))j=c.Sa.hn(N.Q,j);if(this.VO){var $=N.NA;N.NA=N.Xb;
N.Xb=$}if(this.ev){var H=fq.mr(N.Q,j),A=H==0?0:fq.mr(N.Q,N.Xb)/H;N.Xb.x=N.Q.x+A*(j.x-N.Q.x);N.Xb.y=N.Q.y+A*(j.y-N.Q.y)}else N.Xb=j;
var G=N.c>=3?3:0;if(this.b3&&!this.RU)N.c=G+J.r(dW.B2)?2:1;if(N.c-G==1){N.NA=N.Q.add(N.Q.am(j))}this.C$=j;
if(this.VO){var $=N.NA;N.NA=N.Xb;N.Xb=$}}this.U4(h,Z.yl,o,Z.add.vogk);h.GI=!0};c.hd.prototype.ej=function(h,e,v,J,m){if(this._T==null)return;
var d=h.rx(v.K1==1),x=d[0],j=d[1],E=x[j.pop()],L=E.add.vmsk,p=E.add.vogk;if(this.ev){L.Ez=[];this.U4(h,E.yl,L,E.add.vogk)}var Z=this._T.z.length,o=L.z.length;
if(!this.zf)this.w3(h,this.ev?"Close Path":(Z==o?"Move":Z<o?"Add":"Delete")+" Anchor Point",E.yl,this._T,L.O(),null,this.wF,JSON.stringify(p));
this.zf=!1;this.ev=!1;this.VO=!1;this.Fu=!1;this.b3=!1;this._T=null};c.hd.prototype.oy=function(h,e,v,J,m){this.zB=h.binop};
c.hd.aBf={};c.hd.Mh=function(h){var e=c.hd.aBf[h],v=64,j=2,E=10,L=25,p=5,Z=35;if(e)return e;var J=new fP(0,0,v,v),m=-.38,d=B.Ut(v,v);
d.clearRect(0,0,v,v);var x=c.A_();d.save();d.lineWidth=j;d.translate(4-j/2,4-j/2);d.rotate(m);if(x<1.5){var o=.66;
E*=o;L*=o;p*=o;Z*=o}d.lineJoin="miter";d.beginPath();if(h=="cnv"){d.moveTo(-E,L);d.lineTo(0,0);d.lineTo(E,L);
d.stroke()}else{d.moveTo(0,0);d.lineTo(E,L);d.lineTo(p,Z);d.lineTo(-p,Z);d.lineTo(-E,L);d.lineTo(0,0);
d.moveTo(0,0);d.lineTo(0,L);d.fillStyle="white";d.fill();d.stroke();d.fillStyle="black";d.fillRect(-p-1,Z,2*p+2,6);
d.beginPath();d.arc(0,L-2,2.5,0,2*Math.PI,!1);d.fill();d.rotate(-m);d.translate(24,7);d.beginPath();
if(h=="add"||h=="del"||h=="new"){d.moveTo(-5,0);d.lineTo(5,0);if(h=="add"){d.moveTo(0,-5);d.lineTo(0,5)}if(h=="new"){d.moveTo(-2.5,-4.5);
d.lineTo(2.5,4.5);d.moveTo(2.5,-4.5);d.lineTo(-2.5,4.5)}}else if(h=="fin")d.arc(0,0,5,0,2*Math.PI,!1);
else if(h=="mov"||h=="mva"){for(var T=0;T<4;T++){d.moveTo(0,0);d.lineTo(-7,0);var u=1+j;d.moveTo(-7+u,-u);
d.lineTo(-7,0);d.lineTo(-7+u,u);d.rotate(Math.PI/2)}}d.stroke()}d.restore();var N=new Uint8Array(d.getImageData(0,0,v,v).data.buffer),M=B.U(v*v);
B.Bq(N,M,3);var O=B.U(v*v),F=[3,5,3,4,8,4,3,5,3];F=B.Zq.Du(F);B.Zq.xQ(M,O,v,v,F);for(var T=0;T<O.length;
T++)O[T]=Math.min(255,O[T]*2);B.Zq.xQ(O,M,v,v,F);for(var T=0;T<M.length;T++)M[T]=Math.min(255,M[T]*2);
var W=N.slice(0);N.fill(255);B.ar(M,N,3);B.B.lU("norm",W,J,N,J,J,1);c.hd.aBf[h]=e={wp:N,e3:J,Tc:new fq(4,4)};
return e};c.i1=function(){c.XH.call(this,[10,30],c.Iv,"tools/fpen",!1)};c.i1.prototype=new c.XH;c.i1.prototype.lJ=function(h,e,v,J,m,d){var x=J.length-1,j=Math.sqrt((J[x-1]-J[0])*(J[x-1]-J[0])+(J[x]-J[1])*(J[x]-J[1]))<6/m.e4;
return[B.s.jr(J,j,d),B.WU.xh("customShape",[0,0,1,1],null,null,null,"--")]};c.WO=function(){c.Uk.call(this,[10,27],c.uP,"tools/pselect");
this.X1=null;this.V3=!1;this.WD=null;this._T=null;this.s4=null;this.wF=null;this.cB=null;this.Nx=null;
this.Tq=null;this.iI=null};c.WO.prototype=new c.Uk;c.WO.prototype.Th=function(h){return h.fE};c.WO.prototype.HL=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=h.rx(),j=x[0],E=x[1],L,p;
for(var T=0;T<E.length;T++){var Z=j[E[T]],o=Z.add.vmsk,u=B.s.v0(o.z,d).yl;if(u!=-1){this.WD=L=Z;p=u}for(var N=0;
N<o.sf.length;N++){var M=B.s.aaY(o.z,o.sf[N]);if(M==null)continue;var O=fq.mr(M,d);if(O<4*c.A_()/h.p.e4){var F=h.T[Z.yl-1e6].add.TySh,W=F.lf.Curve,f=F.C,$=W.Reversed;
W.Reversed=!1;var W=em.sx(F.lf.Curve);W.Reversed=$;B.w.C(W[0],f,W[0]);this.Tq=[W,N,f.DR*f.l_-f.b*f.tg];
this.WD=L=Z;p=0}}if(this.Tq)break}if(L!=null){var o=L.add.vmsk;o.Ez=[];var H=o.X.indexOf(p);if(J.r(dW.l$)){if(H==-1){o.X.push(p);
this.V3=!0}else o.X.splice(H,1)}else{if(H==-1)o.X=[p];this.V3=!0}this.Nx=B.s.jd(o.z,o.X)}this.X1=d;this.iI=new a$(d);
h.L9=!0;h.GI=!0};c.WO.prototype._8=function(h,e,v,J,m){if(this.X1==null)return;var d=h.p.$$(m.x,m.y);
if(this.V3){d=this.iI.Pd(d,J);var x=this.WD;if(this._T==null){this._T=this.s4=x.add.vmsk.O();this.wF=this.cB=JSON.stringify(x.add.vogk);
if(J.r(dW.B2)){var j=this._T.O(),E=JSON.parse(this.wF),L=c.Uk.hh(j,E);c.Uk.za(L,j,E);this.s4=j;this.cB=JSON.stringify(E)}}var j=this.s4.O(),E=JSON.parse(this.cB);
if(this.Tq){var p=this.Tq,Z=p[0][0],o=B.w.P0(Z,d.x,d.y);j.sf[p[1]]=p[0][1][o];var u=Z[o*2],N=Z[o*2+1],M=(Z[o*2+2]-u)*(d.y-N)-(Z[o*2+3]-N)*(d.x-u);
if(p[2]<0)M=-M;j.WM=M>0}else{var O=this.Nx.O(),F=O.x,W=O.y;O.offset(d.x-this.X1.x,d.y-this.X1.y);O.x=Math.round(O.x);
O.y=Math.round(O.y);var f=c.Pj.xH(h,O,v),$=new aJ(1,0,0,1,O.x-F+f[0],O.y-W+f[1]);B.s.Ma(j.z,$,j.X);B.WU.C(E,B.D.fi($),j.X);
c.Pj.t5(h,O,f)}this.U4(h,x.yl,j,E)}else{var H=this.X1;h.M.Qd=B.w.Tp(new fP(H.x,H.y,d.x-H.x,d.y-H.y));
h.GI=!0}};c.WO.prototype.ej=function(h,e,v,J,m){if(this.X1==null)return;var d=h.p.$$(m.x,m.y),x=this.WD,j=x?x.add.vmsk:null;
if(this.V3){var E=JSON.stringify(x.add.vogk);if(!this.X1.lS(d))this.w3(h,"Move Paths",x.yl,this._T,j,null,this.wF,E);
if(h!=null&&h.M.AF){h.M.AF=null;h.GI=!0}}else{var L=h.rx(),p=L[0],Z=L[1];if(Z.length!=0){var o=p[Z[0]];
j=o.add.vmsk;var u=this.X1,N=new fP(u.x,u.y,d.x-u.x,d.y-u.y),M=B.s.a37(j.z,N);if(J.r(dW.l$)){for(var T=0;
T<M.length;T++)if(j.X.indexOf(M[T])==-1)j.X.push(M[T])}else j.X=M}h.M.Qd=null;h.GI=!0}this.X1=null;this._T=null;
this.Tq=null;this.V3=!1;this.iI=null};c.WO.prototype.ajP=function(h){var e=this.WD,v=this.Zw,J=e.add.vmsk,m=e.add.vogk,d=m.length;
if(h=="confirm"){if(J!=this._T)this.w3(v,[12,94,2],e.yl,this._T,J,null,this.wF,JSON.stringify(m));this.AL();
return}if(h=="cancel"){this.U4(this.Zw,this.WD.yl,this._T.O(),JSON.parse(this.wF));this.AL()}else{var J=this._T.O(),m=JSON.parse(this.wF);
J.z=B.s.aFO(J.z,J.X,h);this.U4(this.Zw,this.WD.yl,J,m)}};c.WO.prototype.AL=function(){this.WD=null;this._T=null;
this.X1=null;this.h9=this._t=-1;this.iI=null};c.WO.prototype._X=function(h,e,v,J){c.Uk.prototype._X.call(this,h,e,v,J);
if(v.jR!=this.id)return;if(h.X.length==0)return;var m=h.rx(),d=m[0],x=m[1];if(x.length==0)return;var j=d[x[0]],E=j.add.vmsk,L=j.add.vstk,p=j.add.vogk,Z=new g3(k.E.u,!0);
Z.data={V:k.l.vi,I:this.id,nI:"main",tZ:E?E:null,WU:p};e.a(Z)};c.WO.prototype.oy=function(h,e,v,J,m){var d=h.d9;
if(d.tZ){var x=v.rx(),j=x[0],E=x[1];if(E.length==0)return;var L=j[E[0]],p=L.add.vmsk.O(),Z=JSON.stringify(L.add.vogk),o=d.tZ;
this.U4(v,L.yl,o,d.WU);var u=[18,5];if(p.z.length==o.z.length)u=p.X[0]==o.X[0]?"Fill Rule":"Path Order";
this.w3(v,u,L.yl,p,o,null,Z,JSON.stringify(d.WU))}};c.g3=function(){c.Uk.call(this,[10,28],c.LH,"tools/dselect");
this.h9=-1;this._t=-1;this.jN=null;this.X1=null;this.ZH=null;this.WD=null;this._T=null;this.wF=null;
this.qi=0;this.Gm={psnap:!1};this.iI=null};c.g3.prototype=new c.Uk;c.g3.prototype.Th=function(h){return h.fE};
c.g3.prototype.oy=function(h){this.Gm=h};c.g3.prototype.iu=function(h,e,v,J,m){if(h.V=="crnr"){if(v==null)return;
var d=v.rx(),x=d[0],j=d[1];if(j.length==0){alert("No paths selected");return}var E=x[j[0]],L=E.add.vmsk;
if(L.Ez.length==0){alert("No corners selected");return}for(var T=0;T<L.Ez.length;T++){var p=L.z[L.Ez[T]];
if(!p.Q.lS(p.Xb)||!p.Q.lS(p.NA)){alert("Only sharp corners can be rounded");return}}if(this._T==null){this._T=E.add.vmsk.O();
this.wF=JSON.stringify(E.add.vogk);this.WD=E;this.Zw=v}var Z=new g3(k.E.u,!0);Z.data={V:k.l.Xq,dF:"cornerradius",xz:5,j5:this.afv.bind(this)};
e.a(Z)}else c.Uk.prototype.iu.call(this,h,e,v,J,m)};c.g3.prototype.afv=function(h){if(h=="confirm"){var e=this.Zw,v=this.WD,J=v.add.vmsk,m=v.add.vogk;
this.w3(e,[12,94,0],v.yl,this._T,J,null,this.wF,JSON.stringify(m));this.AL();return}var J=this._T.O(),m=JSON.parse(this.wF),d=J.Ez;
if(h=="cancel"){}else{var x=[];for(var T=0;T<d.length;T++){var j=d[T],E=B.s.ym(J.z,j,!0),Z=0;if(x.indexOf(E)!=-1)continue;
x.push(E);var L=B.s.n2(J.z,E,!0),p=J.z[L].length,o=[];for(var u=0;u<p;u++){var N=J.Ez.indexOf(L+u+1)==-1?0:h;
o.push(N);if(N!=0)Z++}B.s.Zm(J.z,L,o);for(var u=0;u<d.length;u++)if(d[u]>L+p)d[u]+=Z}this.DP(J,m);J.Ez=[]}this.U4(this.Zw,this.WD.yl,J,m);
if(h=="cancel")this.AL()};c.g3.prototype.disable=function(h,e,v,J){this.V1(h)};c.g3.prototype.HL=function(h,e,v,J,m){this.V1(h);
var d=h.p.$$(m.x,m.y),Z,o,u;this.jN=d.O();var x=h.rx(),j=x[0],E=x[1];if(E.length==0)return;var L=c.im(h,m),p=new fP(d.x-L,d.y-L,L*2,L*2);
for(var N=0;N<E.length;N++){Z=this.WD=j[E[N]];o=Z.add.vmsk;u=B.s.Kb(o.z,p);if(u[0].length+u[1].length+u[2].length!=0)break}var M=[!1,!1,!1];
for(var T=0;T<3;T++){for(var O=0;O<u[T].length;O++){var F=u[T][O],W=o.z[F];if(o.Ez.indexOf(F)!=-1||T==1&&o.Ez.indexOf(F-1)!=-1&&!W.Q.lS(W.NA)||T==2&&o.Ez.indexOf(F+1)!=-1&&!W.Q.lS(W.Xb)){u[T]=[F];
M[T]=!0;break}}}if(u[0].length!=0&&(M[0]||!M[1]&&!M[2])){var f=u[0][0],$=o.Ez.indexOf(f);if(J.r(dW.l$)){if($==-1)o.Ez.push(f);
else{o.Ez.splice($,1);h.GI=!0;return}}else if($==-1)o.Ez=[f];this.h9=f;this._t=0}else if(u[1].length!=0&&M[1]){this.h9=u[1][0];
this._t=1}else if(u[2].length!=0&&M[2]){this.h9=u[2][0];this._t=2}else{var H=B.s.v0(o.z,d,!0,L);if(H.yl==-1)this.X1=d;
else{this.ZH=H;var A=B.s.n2(o.z,H.yl);o.X=[H.yl];o.Ez=[A+1+H.QU]}}if(this._T==null){this._T=Z.add.vmsk.O();
this.wF=JSON.stringify(Z.add.vogk)}this.iI=new a$(d);h.GI=!0};c.g3.prototype._8=function(h,e,v,J,m){if(h==null)return;
var d=h.p.$$(m.x,m.y),x=this.WD;if(this.h9!=-1){var j=this._T.O(),E=x.add.vogk,L=j.z[this.h9];L=[L.Q,L.NA,L.Xb][this._t];
if(J.r(dW.l$)){if(this._t==0){d=this.iI.Pd(d,J);d.x+=L.x-this.jN.x;d.y+=L.y-this.jN.y}else d=c.Sa.hn(j.z[this.h9].Q,d)}else{if(this.Gm.psnap){d.x=Math.round(d.x);
d.y=Math.round(d.y)}d=c.Pj.$T(h,d,v)}if(this._t==0){var p=new aJ(1,0,0,1,d.x-L.x,d.y-L.y);B.s.Ma(j.z,p,null,j.Ez)}else{var Z=j.z[this.h9];
if(J.r(dW.B2)&&(Z.c==1||Z.c==4))Z.c++;c.g3.XL(Z,d,this._t==1)}this.DP(j,E);this.U4(h,x.yl,j,E)}else if(this.X1!=null){var o=this.X1;
h.M.Qd=B.w.Tp(new fP(o.x,o.y,d.x-o.x,d.y-o.y));h.GI=!0}else if(this.ZH!=null){var j=this._T.O(),E=x.add.vogk,u=this.ZH,N=this.jN,M=B.s.n2(j.z,u.yl),O=j.z[M].length,F,W=u.OL;
if(W<=1/6)F=0;else if(W<=.5)F=Math.pow((6*W-1)/2,3)/2;else if(W<=5/6)F=(1-Math.pow((6*(1-W)-1)/2,3))/2+.5;
else F=1;var f=d.x-N.x,$=d.y-N.y,H=(1-F)/(3*W*(1-W)*(1-W)),A=F/(3*W*W*(1-W)),G=j.z[M+1+u.QU];G.Xb.offset(H*f,H*$);
var l=j.z[M+1+(u.QU+1)%O];l.NA.offset(A*f,A*$);c.g3.XL(G,G.Xb,!1);c.g3.XL(l,l.NA,!0);this.DP(j,E);this.U4(h,x.yl,j,E)}else{var K=h.rx(),U=K[0],P=K[1],x,j,w;
if(P.length==0)return;var g=c.im(h,m),a=new fP(d.x-g,d.y-g,g*2,g*2);for(var y=0;y<P.length;y++){x=U[P[y]];
j=x.add.vmsk;w=B.s.Kb(j.z,a);if(w[0].length+w[1].length+w[2].length!=0)break}this.V1(h);for(var T=0;
T<3;T++){for(var S=0;S<w[T].length;S++){var i=w[T][S],C=j.z[i];C=T==0?C.Q:T==1?C.NA:C.Xb;h.M.LK.push(C.x,C.y);
h.GI=!0}}}};c.g3.prototype.V1=function(h){if(h&&h.M.LK.length!=0){h.M.LK=[];h.GI=!0}};c.g3.prototype.ej=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=this.WD,j=x?x.add.vmsk:null,E=x?x.add.vogk:null;
if(this.h9!=-1||this.ZH){if(Date.now()-this.qi<300){var L=j.z[this.h9],p=this._t,Z=null;if(p==0){var o=L.NA.lS(L.Q),u=L.Xb.lS(L.Q);
if(!o&&!u){Z="Anchor Type";if(L.c==1||L.c==4)L.c++;else{L.c--;L.Xb=L.Q.add(L.Q.am(L.NA))}}else{Z="Add Handles";
if(o&&u){L.NA.x-=30;L.Xb.x+=30}else if(o)L.NA=L.Q.add(L.Q.am(L.Xb));else if(u)L.Xb=L.Q.add(L.Q.am(L.NA))}}else{Z="Remove Handle";
if(p==1)L.NA.HA(L.Q);else L.Xb.HA(L.Q)}this.DP(j,E);this.U4(h,x.yl,j,E);this.w3(h,Z,x.yl,this._T,j,null,this.wF,JSON.stringify(E))}else if(this.ZH||!this.jN.lS(d)){this.w3(h,"Drag Anchors",x.yl,this._T,j,null,this.wF,JSON.stringify(E))}this.ZH=null;
this.qi=Date.now()}else if(this.X1!=null){var N=this.X1,M=new fP(N.x,N.y,d.x-N.x,d.y-N.y);if(M.q<0)M.x+=M.q;
if(M._<0)M.y+=M._;M.q=Math.abs(M.q);M._=Math.abs(M._);var O=B.s.Kb(j.z,M);j.Ez=O[0].concat(J.r(dW.l$)?j.Ez:[]);
h.M.Qd=null}this.AL();h.GI=!0};c.g3.prototype.AL=function(){this.WD=null;this._T=null;this.X1=null;this.h9=this._t=-1;
this.iI=null};c.g3.prototype.DP=function(h,e){for(var T=0;T<h.Ez.length;T++){var v=B.s.ym(h.z,h.Ez[T]);
B.WU.YU(e,v)}};c.g3.prototype.lK=function(h,e,v,J){if(h==null)return;var m=h.rx(),d=m[0],x=m[1];if(x.length==0)return;
var j=d[x[0]],E=j.add.vmsk;if(E==null||E.Ez.length==0)return;var L=j.add.vogk,p=JSON.stringify(L),Z=J.Sl(h?h.p.dW:0);
if(Z.x!=0||Z.y!=0){var o=E.O(),u=E.O(),N=new aJ(1,0,0,1,Z.x,Z.y);B.s.Ma(u.z,N,null,u.Ez);this.DP(u,L);
this.U4(h,j.yl,u,L);this.w3(h,"Move Anchors",h.X[0],o,u.O(),!0,p,JSON.stringify(L))}if(J.r(dW.PV)||J.r(dW.iS))this.iu({V:"remove",Ck:!0,as9:!0},e,h,J,v)};
c.g3.prototype.w3=function(h,e,v,J,m,d,x,j){var E=h.Ax();if(d&&E!=null&&E.I==this&&E.data.ai3&&E.data.pT==v&&JSON.stringify(E.data.GU.Ez)==JSON.stringify(J.Ez)){E.data.VD=m;
E.data.re=j}else{var E=new aO(e,this);E.data={pT:v,GU:J,VD:m,ai3:d,a2w:x,re:j};h.Mk(E)}};c.g3.XL=function(h,e,v){var J=h.NA,m=h.Xb;
if(!v){J=h.Xb;m=h.NA}J.Cg(e.x,e.y);if(h.c==1||h.c==4){var d=fq.mr(J,h.Q),x=fq.mr(m,h.Q);if(x!=0){m.x=h.Q.x-(J.x-h.Q.x)*(x/d);
m.y=h.Q.y-(J.y-h.Q.y)*(x/d)}}};c.Rect=function(){c.XH.call(this,[10,32],c.ua,"tools/rect",!0)};c.Rect.prototype=new c.XH;
c.Rect.prototype.lJ=function(h,e,v){var J=this.wK.crad,m=e.x-h.x,d=e.y-h.y;return[B.s.z0.Rect(h.x,h.y,m,d,J),B.WU.xh("Rctn",[h.x,h.y,e.x,e.y],[J,J,J,J])]};
c.FO=function(){c.XH.call(this,[10,33],c.uf,"tools/ellipse",!0)};c.FO.prototype=new c.XH;c.FO.prototype.lJ=function(h,e,v){var J=e.x-h.x,m=e.y-h.y;
return[B.s.z0.FO(h.x,h.y,J,m),B.WU.xh("Elps",[h.x,h.y,e.x,e.y])]};c.mK=function(){c.XH.call(this,[10,34],c.EE,"tools/pshape",!1);
this.wK.aopts=[!1,!0,50,100,0]};c.mK.prototype=new c.XH;c.mK.prototype.lJ=function(h,e,v){var J=this.wK.pshape,m=this.wK.crad,d=this.wK.irad/100,x=this.wK.sides,j=this.wK.width,E=this.wK.aopts,L=this.wK.length,O;
e=e.O();var p=h.x,Z=h.y,o=e.x,u=e.y,N=Math.sqrt((o-p)*(o-p)+(u-Z)*(u-Z)),M=Math.atan2(-u+Z,o-p);if(v)M=Math.round(M*180/Math.PI/15)*15*Math.PI/180;
if(J==0)O=B.s.z0.BZ(p,Z,N,M,x,m);if(J==1)O=B.s.z0.aBo(p,Z,N,M,x,m,d);if(J==2)O=B.s.z0.nD(h.x,h.y,e.x,e.y,j,E);
if(J==3)O=B.s.z0.ajI(p,Z,N,M,L);return[O,B.WU.xh("customShape",[h.x,h.y,e.x,e.y],null,null,null,"--")]};
c.mK.prototype.lK=function(h,e,v,J){c.XH.prototype.lK.call(this,h,e,v,J);var m=J.Sl(),d=this.wK,x,j;
if(m.y!=0){var E=-m.y,L=d.pshape;if(L<2){x="sides";j=Math.max(3,Math.min(100,d.sides+E))}else if(L==2){x="width";
j=Math.max(1,Math.min(100,d.width+E))}else if(L==3){x="length";j=Math.max(4,Math.min(40,d.length+E))}}if(m.x!=0){x="pshape";
j=Math.max(0,Math.min(3,d.pshape+m.x))}if(x){var p=new g3(k.E.u,!0),Z={};Z[x]=j;d[x]=j;p.data={V:k.l.vi,I:this.id,rf:"vals",aCK:Z};
e.a(p);this._8(h,e,v,J)}};c.Yt=function(){c.XH.call(this,[10,35],c.A2,"tools/line",!1)};c.Yt.prototype=new c.XH;
c.Yt.prototype.lJ=function(h,e,v){var J=this.wK.width,m=this.wK.aopts;e=e.O();if(v){e=c.Sa.hn(h,e)}if(jD==1)J=0;
return[B.s.z0.nD(h.x,h.y,e.x,e.y,J,m),B.WU.xh("Ln",null,null,[h.x,h.y,e.x,e.y],J,null,m)]};c.kM=function(){c.XH.call(this,[10,31],c.SZ,"tools/cshape",!0)};
c.kM.prototype=new c.XH;c.kM.prototype.lJ=function(h,e,v){var J=this.wK.shape,m=J.Fv.q/J.Fv._,d=s.eo.p3(J.z);
e=e.O();if(v){e.y=h.y+(e.x-h.x)/m}var x=e.x-h.x,j=e.y-h.y;B.s.Ma(d,new aJ(x,0,0,j,h.x,h.y));return[d,B.WU.xh("customShape",[h.x,h.y,e.x,e.y],null,null,null,J.zV)]};
c.L2=function(h,e,v){c.Yu.call(this,h,e,v);this.p1=0;this.T=null;this.om=null;this.H=null;this.jW=1;
this.Dm=0;this.rb=!0;this.xe=!1;this.cursor=null;this.mu=null;this.B1=null;this.II=!1;this.Tk=null;this.a1$=0;
this.gR=null;this.HT=0;this.H$=null;this.al=null;this.hN=null;this.fc=null;this.aDn=null;this.xC=null};
c.L2.prototype=new c.Yu;c.L2.G2=function(h,e,v){var J={classID:"null",null:h8.$j(v?"Lyr":"Dcmn",!0)};
if(h)J.Angl={t:"UntF",v:{type:"#Ang",val:e}};else J.Axis={t:"enum",v:{Ornt:e}};return{UH:h?"rotateEventEnum":"flip",TH:J}};
c.L2.prototype.ZF=function(h,e,v,J,m){var d=new g3(k.E.u,!0);d.data={V:k.l.vi,I:this.id,zG:m,PD:h,H:v};
e.a(d);this.MS=!1};c.L2.prototype.Th=function(h){return this.al&&this.al.aFD()};c.L2.prototype.iu=function(h,e,v,J,m){this.H=m;
if(h.V=="again"&&this.gR==null)return;if(!this.yK(v,m))return;if(this.al){this.a4y(h,this.al.Xj(),e,v,J,m);
this.MZ(v,m,0,!0);this.C5(v);return}this.aGb(v,h.L==null,h.L);this.ak$(v);this.a4y(h,h.aqI,e,v,J,m);
this.Kx(v,e,h.SQ,!1)};c.L2.prototype.a4y=function(h,e,v,J,m,d){var x=this.H$;if(e==null){var j=h.o5!=null?h.o5:4;
e=this.al.adt()[j]}var E=e.x,L=e.y;if(h.V=="rot"&&h.J!=Math.PI&&(x.q+x._&1)==1){E=Math.floor(E);L=Math.floor(L)}var p=new aJ;
p.translate(-E,-L);if(h.V=="rot")p.rotate(h.J);if(h.V=="scl")p.scale(h.J.x,h.J.y);if(h.V=="mat")p.concat(h.J);
p.translate(E,L);if(h.V=="again")p=this.gR;var Z=B.D.fi(p);if(h.V=="dtr"){var o=B.D;Z=o.Eh(h.J,o.U(-E,-L));
Z=o.Eh(o.U(E,L),Z)}var u=this.al.Un();B.D.C(Z,u);this.al.Oo(u);if(h.kO){var N=h.kO.v;this.oy({nI:"switchWarp"},v,J,m);
this.oy({nI:"wrp",kO:N},v,J,m)}};c.L2.prototype.G0=function(){return!0};c.L2.prototype.yK=function(h,e,v){if(h==null)return!1;
if(this.id==c.gz)return h.K!=null;var J=h.lX(!0,null,null,!0);if(this.id==c.bk&&h.T[J[0]].R.EG()){alert("Layer is empty.");
return!1}for(var T=0;T<J.length;T++){var m=h.T[J[T]];if(m.o1(2)||m.o1(31)){alert(bj.get([6,57,0]));return!1}if(m.add.artb){alert("You can not transform the whole artboard");
return!1}if(m.add.TySh)if(!hP.fm(m.add.TySh,e.eN))return!1;if(m.add.SoLd){if(J.length==1&&(v&&v.MC==-1)&&(m.NH()&&m.NH().jA||m.add.vmsk&&m.add.vmsk.jA)){alert("Unlink masks before transforming Smart Object");
return!1}if(!h.a3y(m.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+h.mJ(m.add.SoLd.Idnt.v).PY+")");
return!1}}}if(h.K==null)return!0;if(!h.kC())return!1;return h.adn()};c.L2.prototype.HL=function(h,e,v,J,m){var d=this.Yd(m,h),x=d[0],j=d[1],E=this.HT==0?this.al:this.hN;
h.p.e4*=j;this.xe=E.HL(h,v,J,x,null,null,m);if(!this.xe&&jD==1){this.Kx(h,e,null,!0);return}this.C5(h,x);
h.p.e4/=j;if(this.xe&&E.Bm(x)){if(Date.now()-this.a1$<250)this.Kx(h,e,null,!0);this.a1$=Date.now()}};
c.L2.prototype.ZT=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.zq,Tv:this.cursor};h.a(e)};c.L2.prototype.Yd=function(h,e){var v=1;
h=e.p.$$(h.x,h.y);if(this.HT==1){var J=B.D.s6(this.al.Un(),this.H$);v=B.D.FY(J).n$();var m=B.D.ia(J);
h=B.D.awp(m,h)}return[h,v]};c.L2.prototype._8=function(h,e,v,J,m){var d=this.Yd(m,h),x=d[0],j=d[1],E=this.HT==0?this.al:this.hN;
if(!m.fE){var L="default";if(E){var p=E.hb(x,h.p.e4*j,null,m);if(p)L=p}if(L!=this.cursor){this.cursor=L;
this.ZT(e)}if(this.hN){this.C5(h,x)}}if(!this.xe)return;h.p.e4*=j;var Z=this.bu=E._8(h,v,J,x,this.rb);
h.p.e4/=j;this.MZ(h,v,0,!0);this.C5(h,x);this.xk(e)};c.L2.prototype.ej=function(h,e,v,J,m){var d=this.Yd(m,h),x=d[0],j=d[1];
this.al.ej(h,v,J,x);if(this.hN){var E=this.hN.ej(h,v,J,x);if(E){this.xk(e,!0);this.C5(h)}}if(this.bu){var L=this.b$(),p=B.w.Tp(this.H$).g;
B.D.C(L,p);this.al.Oo(p);this.bu=null}this.xe=!1};c.L2.prototype.lK=function(h,e,v,J){if(J.r(dW.zD))this.Kx(h,e,null,!0);
else if(J.r(dW.BC))this.wY(h,e);else{var m=this.al.lK(h,v,J);if(m){this.MZ(h,v,0,!0);this.xk(e)}}};c.L2.prototype.oy=function(h,e,v,J){if(h.nI=="commit")this.Kx(v,e,null,!0);
else if(h.nI=="cancel")this.wY(v,e);else if(h.nI=="switchWarp"){this.HT=1-this.HT;this.awy();this.C5(v);
this.xk(e)}else if(h.nI=="wrp"){this.hN.a40(h.kO);this.C5(v);this.MZ(v,this.H,0,!0)}else if(h.nI=="splt")this.hN.arh(h.J);
else if(h.nI=="ctyp"){this.al.asB(h.Ap);this.C5(v);this.xk(e)}else if(h.nI=="cen"){this.al.aD9(h.Tc);
this.C5(v);this.MZ(v,this.H,0,!0)}else if(h.nI=="trn"){var m=B.D.fi(h.vm),d=this.H$,x=B.D.s6(this.al.Un(),this.H$);
m[6]=x[6],m[7]=x[7];var j=[d.x,d.y,d.x+d.q,d.y,d.x+d.q,d.y+d._,d.x,d.y+d._];B.D.C(m,j);this.jW=h.jW;
if(h.Dm!=this.Dm){this.Dm=h.Dm;this.aA4(v)}this.rb=h.rb;this.al.Oo(j);this.C5(v);this.MZ(v,this.H,0,!0)}};
c.L2.prototype.C5=function(h,e){if(this.HT==0)this.al.LL(h,this.H);else{this.hN.LL(h,e);var v=this.b$();
B.D.C(v,h.M.GW.g);B.D.C(v,h.M.Sm);B.D.C(v,h.M.V9)}};c.L2.prototype.Kx=function(h,e,v,J){this.MZ(h,this.H,this.jW);
var m=new aO(v?v:this.name,this),H="";if(this.p1==0)m.data={c:this.p1,T:this.T,Tk:this.om,dI:c.L2.aK(h,this.T)};
else if(this.p1==1){var d=h.T[this.T[0]],x;if(d.gc.TM<=0){x=B.U(d.gc.cM.$());B.Bq(d.gc._c,x,3)}else x=h.K.G;
var j={R:d.gc.cM.O(),G:x};m.data={c:this.p1,L:this.T[0],B1:this.B1,at:j,mu:this.mu,II:this.II,gc:d.gc,Tk:this.Tk,dI:{e3:d.gc.cM,ND:d.gc._c}}}else if(this.p1==2){m.data={c:this.p1,B1:this.B1,at:{R:h.K.R.O(),G:h.K.G.slice(0)}}}h.Mk(m);
var E=this.H$,L=B.D.s6(this.al.Un(),E),p=this.om,Z=p?p[0]:null;if(p&&p.length==1&&Z[4]){var o=c.L2.RT(Z[4].nonAffineTransform),E=B.w.oS(B.aI.hW(Z[4].quiltWarp.v)[3]),u=B.D.s6(o,E);
L=B.D.Eh(L,B.D.ia(u))}var N=B.D.FY(L),M=this.al.Xj(),O=new aJ;O.translate(M.x,M.y);O.concat(N);O.translate(-M.x,-M.y);
N=O.O();var F=-Math.atan2(-N.b,N.DR),W=new aJ;W.rotate(F);N.concat(W);function f(U,z){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][z],val:U}}}var $=h8.$j("Lyr",!0);
if(this.id==c.gz)$.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var A=c.L2.adI;for(var G in A)if(A[G]==this.al.r7)H=G;
if(H==""){H="Qcsi";O.TO=O.bZ=0}var l={classID:"null",null:$,FTcs:{t:"enum",v:{QCSt:H}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:f(O.TO,0),Vrtc:f(O.bZ,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:f(Math.atan(N.tg/N.l_)*180/Math.PI,2),Vrtc:f(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:f(100*0,1),Vrtc:f(100*0,1)}},Wdth:f(N.DR*100,1),Hght:f(N.l_*100,1),Angl:f(F*180/Math.PI,2)};
if(H=="Qcsi")l.Pstn={t:"Objc",v:{Hrzn:f(M.x,0),Vrtc:f(M.y,0)}};var K=this.hN?this.hN.Tr():null;if(K&&!B.aI.bS(K)){l.quiltWarp={t:"Objc",v:K}}this.IF=e;
this.track({UH:"transform",TH:l});this.escape(h,e,J)};c.L2.adI={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
c.L2.prototype.wY=function(h,e){if(this.p1==0)c.L2.aV(h,this.T,this.om);else if(this.p1==1){var v=h.T[this.T[0]];
h.K=this.B1;if(!this.II){v.gc.cM=this.Tk.e3;v.gc._c=this.Tk.ND;v.lm(h,0,0,h.K)}else{v.bL(h,this.mu)}h.dn();
h.AQ=!0}else if(this.p1==2){h.K=this.B1;h.AQ=!0}this.escape(h,e,!0)};c.L2.prototype.escape=function(h,e,v){this.al.clear(h);
if(this.hN)this.hN.clear(h);this.al=null;this.hN=null;this.xC=null;this.HT=0;if(v)this.f3(e,k.E.u,{V:k.l.NY})};
c.L2.prototype.W1=function(h,e){if(h.c==0)c.L2.aV(e,h.T,h.dI);else{if(h.c==1){var v=e.T[h.L];if(h.II){v.gc=h.gc}else{v.gc.cM=h.dI.e3;
v.gc._c=h.dI.ND}v.lm(e,0,0,e.K);e.dn()}e.K={R:h.at.R.O(),G:h.at.G.slice(0)};e.AQ=!0}};c.L2.prototype.ZL=function(h,e){if(h.c==0)c.L2.aV(e,h.T,h.Tk);
else{if(h.c==1){var v=e.T[h.L];if(h.II){v.bL(e,h.mu)}else{v.gc.cM=h.Tk.e3;v.gc._c=h.Tk.ND;v.lm(e,0,0,e.K)}e.dn()}e.K=h.B1;
e.AQ=!0}};c.L2.prototype.aGb=function(h,e,v){h.rx();var J=[];if(v==null)for(var T=0;T<h.cg.length;T++)if(h.H0[h.cg[T]].add.vmsk.z.length>2)J.push(-1-h.cg[T]);
var m=[],d=h.p.Y;if(d[0]+d[1]+d[2]==3)if(v!=null||J.length==0||h.Z3!=null&&h.Z3.length!=0){if(h.X.length==1){var x=h.T[h.X[0]];
if(x.XN()&&x.xc)m=[h.X[0]]}if(m.length==0)m=h.lX(e,v,null,!0)}m=m.concat(J);for(var T=0;T<h.kH.length;
T++)m.push(-1e3-h.kH[T]);this.T=m};c.L2.prototype.enable=function(h,e,v,J,m,d){if(this.cursor==null)this.cursor="default";
this.ZT(e);if(this.al)return;this.H=v;this.aGb(h,!0);this.ak$(h,d&&d.MC!=null&&d.MC!=-1?d.MC:null);this.xk(e,null,h);
this.C5(h);if(d&&d.MC==-1)this.oy({nI:"switchWarp"},e,h,J)};c.L2.prototype.nv=function(){return this.rb?null:[0]};
c.L2.prototype.Fk=function(h,e,v){if(h&&h[0]!=null)this.rb=h[0]==1};c.L2.prototype.xk=function(h,e,v){var J={V:k.l.vi,I:this.id};
if(this.HT==0){var m=B.D.s6(this.al.Un(),this.H$),d=B.D.FY(m);J.vm={ok:d,Ap:this.al.a2i(),Tc:this.al.Xj(),e3:this.H$.O(),rb:this.rb}}else{J.abQ=e;
J.kO=this.hN.Tr()}if(v){J.Ar=["---"];for(var T=0;T<v.Ar.length;T++)J.Ar.push(v.Ar[T].name)}J.ajc=this.hN!=null;
this.f3(h,k.E.u,J)};c.L2.prototype.ak$=function(h,e){var v=this.id==c.gz,J=!0,m=this.T[0],d=h.T[m],j=null,E=null,L=null,o=null;
if(v){this.p1=2;this.B1=h.K}else if(h.K&&this.T.length==1&&m>=0&&!d.R.EG()){this.p1=1;this.B1=h.K;this.mu=d.gc;
this.II=!1;if(!d.SW(h,h.K)){this.II=!0;d.nL(h,h.K,!1)}this.Tk={ND:d.gc._c,e3:d.gc.cM}}else{this.p1=0;
this.om=c.L2.aK(h,this.T,null);for(var T=0;T<this.om.length;T++)if(this.om[T][3]!=null)J=!1}var x=this.p1==1;
if(this.om&&this.om.length==1){var p=this.om[0];if(p[2]!=null)E=p[2].tZ;if(p[3]==null)x=!0;if(p[3]!=null)L=p[3];
if(p[4]!=null){j=h.T[this.T[0]].add.SoLd;if(p[1]||p[2])x=!1}}var Z=v?h.K.R.O():c.L2.YO(h,this.T);this.H$=Z;
if(!v&&E&&jD==1){o=E.VI();this.fc=B.D.s6(o,this.H$)}else if(!v&&L&&jD==1){var u=h.T[this.T[0]],L=u.add.TySh;
o=B.w.Tp(u.em.NW).g;B.w.C(o,L.C,o);this.fc=B.D.s6(o,this.H$)}else if(!v&&j){o=c.L2.RT(j.nonAffineTransform);
this.H$=B.w.oS(B.aI.hW(j.quiltWarp.v)[3]);if(x)this.hN=new is(j.quiltWarp.v);this.fc=B.D.s6(o,this.H$)}else{if(x||v)this.hN=new is(B.aI.U(this.H$));
this.fc=[1,0,0,0,1,0,0,0];if(this.id==c.bk)e=3;o=[Z.x,Z.y,Z.x+Z.q,Z.y,Z.x+Z.q,Z.y+Z._,Z.x,Z.y+Z._]}this.al=new hu(o,!0,!0,J,!1,!1,e);
this.aDn=[1,0,0,0,1,0,0,0];this.aA4(h)};c.L2.prototype.aA4=function(h){if(this.id==c.bk){var e,v,d=null;
if(this.om&&h.K==null){var J=this.om[0][0],m=J.uE;e=m[0];v=m[1]}else if(this.Tk){e=this.Tk.ND;v=this.Tk.e3}if(this.Dm!=0)d=h.Ar[this.Dm-1]._N(v);
this.xC=B.kL.a41(e,v.q,v._,d)}};c.L2.YO=function(h,e){if(e==null)e=h.lX(!0,null,null,!0);var v=new fP,J=new fP;
if(h.K&&e.length==1&&e[0]>=0)v=h.K.R.O();else for(var T=0;T<e.length;T++){var m=e[T],d=0<=m?h.T[m]:-1e3<m?h.H0[-1-m]:h.Ar[-1e3-m],x=d.add?d.add.vmsk:null,j=0<=m?d.D5(h,e.length==1,!1,!0):-1e3<m?B.s.jd(x.z,e.length==1&&x.X.length!=0?x.X:null):d.R.O();
v=v.R$(j);if(m>0&&d.add.artb)J=J.R$(d.AC())}return!J.EG()?J:v};c.L2.prototype.f3=function(h,e,v,J){var m=new g3(e,!0);
m.data=v;if(J)m.I=J;h.a(m)};c.L2.aK=function(h,e,v){var J=[];for(var T=0;T<e.length;T++){var m=e[T],d,x;
if(m>=0){d=h.T[m];x=d.Vn(h,v,!0)}else if(m>-1e3){d=h.H0[-1-m];x=[2]}else{J.push([null,null,null,null,null,null,null,h.Ar[-1e3-m].O()]);
continue}var j=[],E=x.indexOf(0)!=-1;if(E){var L={uE:d.add.SoLd?null:[d.buffer.slice(0),d.R.O()]};j.push(L);
if(d.vO()){var p=d.o7(h);L.a0S=p.buffer.slice(0);L.ajn=p.R.O()}}else j.push(null);if(x.indexOf(1)!=-1)j.push(d.NH().O());
else j.push(null);if(x.indexOf(2)!=-1)j.push({tZ:d.add.vmsk.O(),gL:d.add.vstk?B.t(d.add.vstk):null,ag:d.add.vstk?fL.aB(h.T[m].add):null,Rr:d.add.vstl?JSON.stringify(d.add.vstl):null,WU:d.add.vogk?B.t(d.add.vogk):null});
else j.push(null);if(d.add.TySh&&E){fr.dd(d.add.TySh);j.push(d.add.TySh.C.O())}else j.push(null);if(d.add.SoLd&&E)j.push(B.t(d.add.SoLd));
else j.push(null);if(x.indexOf(3)!=-1)j.push(d.o7(h).N.O());else j.push(null);if(d.add.lmfx)j.push(JSON.stringify(d.add.lmfx));
else j.push(null);J.push(j)}return J};c.L2.aV=function(h,e,v){for(var T=0;T<e.length;T++){var J=e[T],m=0<=J?h.T[J]:-1e3<J?h.H0[-1-J]:h.Ar[-1e3-J],d=v[T];
if(d[0]){if(d[0].uE){m.R=d[0].uE[1].O();m.buffer=d[0].uE[0].slice(0)}if(m.vO()){var x=m.o7(h);x.buffer=d[0].a0S.slice(0);
x.R=d[0].ajn.O()}}if(d[1]){m.NH().G=d[1].G.slice(0);m.NH().R=d[1].R.O();m.NH().c8=!0}if(d[2]){m.add.vmsk=d[2].tZ.O();
if(d[2].ag)fL.mD(m.add,d[2].ag);if(d[2].gL)m.add.vstk=B.t(d[2].gL);if(d[2].WU)m.add.vogk=B.t(d[2].WU);
if(d[2].Rr)m.add.vstl=JSON.parse(d[2].Rr)}if(d[3]){m.add.TySh.C=d[3].O();fr.BA(m.add.TySh)}if(d[4]){m.add.SoLd=B.t(d[4])}if(d[5]){var j=m.o7(h).N;
j.G=d[5].G.slice(0);j.R=d[5].R.O()}if(d[6]){m.add.lmfx=JSON.parse(d[6])}if(d[7]){m.G=d[7].G.slice(0);
m.R=d[7].R.O();m.c8=!0}if(0<=J){m.vT(h);m.dn();if(d[4])m.eW(h,!1)}}h.dn()};c.L2.hV=function(h,e,v,J,m,d,x,j,E,L){if(typeof d[0]=="number"){var p=[];
for(var T=0;T<v.length;T++)p[T]=d;d=p}for(var T=0;T<v.length;T++){var Z=d[T],o=B.D.FY(Z),u=o.n$(),N=v[T],M=0<=N?h.T[N]:-1e3<N?h.H0[-1-N]:h.Ar[-1e3-N],O=J[T];
if(M.add&&M.add.lmfx&&j)d4.D$(M.add.lmfx,u);if(O[0]&&!O[3]&&!O[4]&&!O[5]){var F=O[0].uE;if(E){var W=E.UP(F[1]),f=B.U(W.$()*4);
B.YZ(F[0],F[1],f,W);F=[f,W]}var $=c.L2.pf(F,m,Z,x,m==0?M.buffer.buffer:null,null,null,L);if($){M.R=$.R;
M.buffer=$.buffer}}if(O[1]){var H=M.NH();c.L2.yU(h,O[1],H,m,Z,x,H.jA&&x&&!B.aI.bS(x)&&O[0]?O[0].uE[1]:null);
if(E){var W=H.R.UP(E),A=B.U(W.$());B.Ww(H.G,H.R,A,W);H.G=A;H.R=W}}if(O[2]){var G=x&&!B.aI.bS(x),l=O[2].tZ.O(),K=v.length==1&&l.X.length!=0,U=v.length==1&&l.Ez.length>1;
if(U)K=!1;var z=K?l.X:null,q=U?l.Ez:null;if(G){var P=B.aI.hW(x);B.D.C(Z,P[3]);B.s.awP(l.z,P,z,q)}else B.s.aFi(l.z,Z,z,q);
if(M.add.vstk&&j){M.add.vstk.strokeStyleLineWidth.v.val=O[2].gL.strokeStyleLineWidth.v.val*u;var g=O[2].ag;
if(g&&g.oH==3){g=B.t(g);var a=g.ag.phase.v;g.ag.Scl.v.val=Math.round(g.ag.Scl.v.val*u);a.Hrzn.v=Math.round(a.Hrzn.v*u);
a.Vrtc.v=Math.round(a.Vrtc.v*u);fL.mD(M.add,g)}}if(M.add.vogk){M.add.vogk=B.t(O[2].WU);if(G||U)B.WU.a5N(M.add.vogk);
else B.WU.C(M.add.vogk,Z,v.length>1?[]:l.X,j)}if(M.add.vstl){var w=M.add.vstl=JSON.parse(O[2].Rr);for(var y=0;
y<2;y++){var S=y==0?w.xJ:w.N0;if(S==null||S[3]==null)continue;var i=S[3],C=new aJ(i[0],i[1],i[2],i[3],i[4],i[5]);
C.concat(o);S[3]=[C.DR,C.b,C.tg,C.l_,C.TO,C.bZ]}}l.jC*=u;var Y=new aJ;Y.rotate(l.d0);Y.concat(o);l.d0=Math.atan2(-Y.b,Y.DR);
M.add.vmsk=l;if(M.add.vogk)B.WU.r2(M.add.vogk,M.add.vmsk)}if(O[3]){var C=O[3].O();C.concat(o);M.add.TySh.C=C;
fr.BA(M.add.TySh);hP.IV(M,e.eN)}if(O[4]){var _=M.add.SoLd,t=c.L2.RT(O[4].nonAffineTransform);B.D.C(Z,t);
var I=B.w.Ob(t);if(hu.pi(t)){if(x){var r=B.w.oS(B.aI.hW(O[4].quiltWarp.v)[3]),A=B.D.s6(t,r),n=B.w.oS(B.aI.hW(x)[3]);
t=[n.x,n.y,n.x+n.q,n.y,n.x+n.q,n.y+n._,n.x,n.y+n._];B.D.C(A,t);_.quiltWarp.v=x}var Q=B.D.s6(t),D=t;if(!B.D.s_(Q)){Q[6]=Q[7]=0;
D=[0,0,1,0,1,1,0,1];B.D.C(Q,D)}_.Trnf=c.L2.ni(D);_.nonAffineTransform=c.L2.ni(t);if(_.filterFX)_.filterFX=B.t(O[4].filterFX);
c.L2.a3I(_,o);M.eW(h,m==0,e.eN)}}if(O[5])c.L2.yU(h,O[5],M.o7(h).N,m,Z,x);if(O[7])c.L2.yU(h,O[7],M,m,Z,x);
if(0<=N){if(!L)M.pE();M.vT(h);M.dn();if(M.em)M.em.Db=!0}}h.dn()};c.L2.pV=function(h,e){var v=e.n$(),J=0;
B.mU(h);var m=B.atW(h,e,.3,4);J=m[0];e=m[1];var d=h[J],x=h[J+1],j=x.q,E=x._,L=B.w.Tp(x).g;B.w.C(L,e,L);
var p=B.w.Ob(L),Z=B.U(p.$()),o=p.x,u=p.y,N=p.q,M=p._,O=e.O();O.ia();var F=O.w7(new fq(0,0)),W=O.w7(new fq(1,0)),f=W.x-F.x,$=W.y-F.y;
for(var H=0;H<M;H++){var A=O.DR*(o+.5)+O.tg*(H+u+.5)+O.TO,G=O.b*(o+.5)+O.l_*(H+u+.5)+O.bZ;for(var l=0;
l<N;l++){Z[H*N+l]=Math.floor(.5+B.D.asZ(A,G,d,j,E));A+=f;G+=$}}return{R:p,G:Z}};c.L2.X_=function(h,e,v,J,m,d){if(v==null)v=!1;
return c.L2.pf(h,v?0:1,B.D.fi(e),null,J,m,d,v)};c.L2.pf=function(h,e,v,J,m,d,x,j){if(j==null)j=!1;if(j&&x)throw"e";
var E={},p=0;if(J&&!B.aI.bS(J)){var L=B.aI.hW(J);B.D.C(v,L[3]);E.R=B.w.Ob(L[3]);E.buffer=B.U(E.R.$()*4);
B.ih.drawImage(L,h[0],h[1].O(),B.aI.YO(J),E.buffer,E.R,e==0);return E}if(B.D.s_(v)){B.Nb(h);var Z=.3,p=0,o=B.D.FY(v),u=h[1],N=u.$()*o.n$();
if(j&&N>4e6)Z=N>8e6?2.2:1.2;var M=B.atW(h,o,Z,16);p=M[0];v=B.D.fi(M[1])}var O=h[p],u=h[p+1],F=B.D.Eh(v,B.D.fi(new aJ(u.q,0,0,u._,u.x,u.y))),W=[0,0,1,0,1,1,0,1];
B.D.C(F,W);E.R=B.w.Ob(W);if(x)E.R=E.R.UP(x);if(j){while((E.R.q&3)!=0)E.R.q++;while((E.R._&3)!=0)E.R._++}if(!hu.pi(W)||E.R.q>1e5||E.R._>1e5||E.R.$()>3e4*3e4)return null;
var f=E.R.$()*4;if(m&&m.byteLength>=f&&f>=m.byteLength>>2){E.buffer=new Uint8Array(m)}else{E.buffer=B.U(f)}B.D.drawImage(F,O,u.q,u._,E.buffer,E.R,e==0,d,j);
if(e==2&&E.buffer){var $=E.R.q,H=E.R._,A;A=[0,-1,0,-1,16,-1,0,-1,0];A=B.Zq.Du(A);var G=E.buffer.slice(0);
B.Zq.uy(G,E.buffer,$,H,A,255,!1,!0)}if(E.buffer)return E};c.L2.yU=function(h,e,v,J,m,d,x){var j=e.R,E=e.G;
if(x){j=x;E=e._N(j)}if(e.color==255)B.ia(E);var L=B.U(j.$()*4);B.ar(E,L,3);var p=c.L2.pf([L,j],J,m,d);
if(p){v.R=p.R;v.G=B.U(p.R.$());B.Bq(p.buffer,v.G,3);v.c8=!0}if(e.color==255){B.ia(E);if(p)B.ia(v.G)}};
c.L2.a3I=function(h,e){var v=h.filterFX;if(v)v=v.v.filterFXList;if(v)v=v.v;if(v)for(var J=0;J<v.length;
J++){var m=v[J].v.Fltr;if(m==null)continue;var d=m.v.classID;m=m.v;if(d!="rigidTransform"&&d!="blurbTransform")continue;
var x=[];for(var j=0;j<4;j++)x.push(m["PuX"+j].v,m["PuY"+j].v);var E=x.slice(0);B.w.C(x,e,x);for(var j=0;
j<4;j++){m["PuX"+j].v=x[j*2];m["PuY"+j].v=x[j*2+1]}if(d=="rigidTransform"){var L=["PinP","posFinalPins"],p=["originalVertexArray","deformedVertexArray"],Z=m.puppetShapeList.v;
for(var o=0;o<Z.length;o++){var u=Z[o].v;for(var N=0;N<L.length;N++){var M=c.L2.RT(u[L[N]]);B.w.C(M,e,M);
u[L[N]]=c.L2.ni(M);var O=new Uint8Array(u[p[N]].v),E=new Float32Array(O.buffer);B.w.C(E,e,E);var F=[];
for(var W=0;W<O.length;W++)F[W]=O[W];u[p[N]].v=F}}}if(d=="blurbTransform"){var f=[[0,1],[0,1,2,3,4,5,6,7,8,9],[],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,5,6,7,8],[0,1,2,3,4,5,6,7,8,9]],$=B.Hy.pP(m)[0];
for(var H=0;H<6;H++){var A=$[H],G=f[H];for(var T=0;T<A.length;T++){var l=A[T],E=[];for(var K=0;K<G.length;
K++)E[K]=l[G[K]];B.w.C(E,e,E);for(var K=0;K<G.length;K++)l[G[K]]=E[K]}}B.Hy.BO($,m)}}};c.L2.RT=function(h){var e=[],v=h.v.length;
for(var T=0;T<v;T++)e.push(h.v[T].v);return e};c.L2.ni=function(h){var e={t:"VlLs",v:[]},v=h.length;
for(var T=0;T<v;T++)e.v.push({t:"doub",v:h[T]});return e};c.L2.prototype.awy=function(){var h=B.w.oS(B.aI.hW(this.hN.Tr())[3]),e=B.D.s6(this.al.Un(),this.H$),v=[h.x,h.y,h.x+h.q,h.y,h.x+h.q,h.y+h._,h.x,h.y+h._];
B.D.C(e,v);this.al.Oo(v);this.H$=h};c.L2.prototype.b$=function(){var h=B.D.s6(this.al.Un(),this.H$);
if(this.bu)h=B.D.Eh(h,B.D.fi(this.bu));return h};c.L2.prototype.MZ=function(h,e,v,J){var m=this.b$();
m=B.D.Eh(m,B.D.ia(this.fc));var d=this.hN?this.hN.Tr():null;if(this.p1==0){var x=this.gR=B.D.FY(m);if(this.id==c.bk){var j=this.om[0][0],E=j.uE,L=E[1],p=~~(L.q*Math.max(0,x.DR)),Z=~~(L._*Math.max(0,x.l_)),o=new fP(Math.round(x.DR*L.x+x.TO),Math.round(x.l_*L.y+x.bZ),p,Z),u=B.kL.C(this.xC,o),N=h.T[this.T[0]];
N.buffer=u;N.R=o;N.dn();h.dn()}else c.L2.hV(h,e,this.T,this.om,v,m,d,null,null,J)}else if(this.p1==1){var M=h.T[this.T[0]],L=this.Tk.e3;
if(M.TM<=0){var O=this.Tk.ND,F=this.B1,W=null;if(d&&!B.aI.bS(d)&&!F.R.lS(L)){var u=B.U(F.R.$()*4);B.YZ(O,L,u,F.R);
O=u;L=F.R}if(this.id==c.bk){var x=this.gR=B.D.FY(m),p=~~(L.q*Math.max(0,x.DR)),Z=~~(L._*Math.max(0,x.l_)),o=new fP(Math.round(x.DR*L.x+x.TO),Math.round(x.l_*L.y+x.bZ),p,Z),u=B.kL.C(this.xC,o);
W={buffer:u,R:o}}else W=c.L2.pf([O,L],v,m,d);if(W){M.gc._c=W.buffer;M.gc.cM=W.R;var f=B.U(W.R.$());B.Bq(M.gc._c,f,3);
h.K={G:f,R:M.gc.cM.O()}}}else{var $=B.U(L.$()*4);B.ar(this.Tk.ND,$,3);var W=c.L2.pf([$,L],v,m,d);if(W){M.gc._c=B.U(W.R.$());
B.Bq(W.buffer,M.gc._c,3);M.gc.cM=W.R}this.aux(h,v,m,d)}M.lm(h,0,0,h.K);if(v!=0){M.pE();B.pE(h.K)}h.AQ=!0;
h.dn()}else if(this.p1==2)this.aux(h,v,m,d)};c.L2.prototype.aux=function(h,e,v,J){var m=this.B1.R,d=B.U(m.$()*4);
B.ar(this.B1.G,d,3);var x=c.L2.pf([d,m],e,v,J),j=B.U(x.R.$());B.Bq(x.buffer,j,3);h.K={G:j,R:x.R};h.AQ=!0};
c.L2.prototype.disable=function(h,e,v,J){if(this.al)this.Kx(h,e,null,!0)};c.a4w=function(){c.L2.call(this,[10,16],c.Li,"tools/transform")};
c.a4w.prototype=new c.L2;c.awx=function(){c.L2.call(this,[7,10],c.gz,"tools/transform")};c.awx.prototype=new c.L2;
c.axt=function(){c.L2.call(this,[10,48],c.bk,"tools/transform")};c.axt.prototype=new c.L2;c.E5=function(h,e,v){c.Yu.call(this,h?h:[10,40],e?e:c.e0,v?v:"tools/slice");
this.IU=null;this.IF=null;this.uQ={xr:0,x:0,y:0};this.Pa=null;this.adJ=null;this.Sn=null;this.QC=null};
c.E5.prototype=new c.Yu;c.E5.v0=function(h,e){var v=-1;for(var T=0;T<h.length;T++){var J=c.E5.P8(h,T);
if(J[0]<=e.x&&e.x<=J[2]&&J[1]<=e.y&&e.y<=J[3]){v=T;break}}return v};c.E5.prototype.iu=function(h,e,v,J,m){if(v==null)return;
this.mw(v);if(h.V=="fromAction"){var d=h.tT,x=d.UH,j=d.TH,E=v.XX(),L=v.uG(),p=L==-1?new fP(0,0,v.q,v._):v.T[L].AC();
if(x=="divide"){if(v.ek.length!=0){var Z=v.ek[0],o=c.E5.P8(v.Ys,Z);p=new fP(o[0],o[1],o[2]-o[0],o[3]-o[1]);
v.Ys.splice(Z,1);v.ek=[]}E=[[],[]];for(var u=0;u<2;u++){var N=["Across","Down"][u],M=j["pixels"+N]?0:1,O=j[["pixels","slices"][M]+N];
if(O==null)continue;O=O.v;var F=u==0?p.x:p.y,W=u==0?p.q:p._;if(M==0)for(var T=1;T*O<W;T++){E[0].push([u,F+T*O]);
E[1].push(L)}else{var f=Math.floor(W/O);for(var T=1;T<O;T++){E[0].push([u,F+T*f]);E[1].push(L)}}}}var $=[p.x,p.x+p.q],H=[p.y,p.y+p._];
for(var T=0;T<E[0].length;T++){var A=E[0][T],G=Math.round(A[1]),l=E[1][T];if(l!=-1&&l!=L)continue;if(A[0]==0&&$.indexOf(G)==-1)$.push(G);
if(A[0]==1&&H.indexOf(G)==-1)H.push(G)}$.sort(function(S,i){return S-i});H.sort(function(S,i){return S-i});
for(var K=1;K<H.length;K++)for(var U=1;U<$.length;U++){v.Ys.push(c.E5.LJ());c.E5.zm(v.Ys,v.Ys.length-1,[$[U-1],H[K-1],$[U],H[K]]);
v.GI=!0}}else if(h.V=="reorder"){if(v.ek.length==0)return;var z=v.Ys,q=v.ek;q.sort(function(S,i){return S-i});
console.log(q);var P=z.slice(0),g=[],a=[];for(var T=0;T<q.length;T++){var Z=q[T],w=z[Z];a.push(w);P.splice(P.indexOf(w),1)}var y=Math.max(0,Math.min(P.length,q[0]-h.dir));
for(var T=0;T<a.length;T++){P.splice(y+T,0,a[T]);g.push(y+T)}v.Ys=P;v.ek=g}else if(h.V=="delete"){var z=v.Ys.slice(0);
for(var T=0;T<v.ek.length;T++)v.Ys.splice(v.Ys.indexOf(z[v.ek[T]]),1);v.ek=[]}else if(h.V=="deleteAll"){v.Ys=[];
v.ek=[]}else{v.Ys[v.ek[0]].v=h;v.GI=!0}this.KX(v)};c.E5.prototype.enable=function(h,e,v,J,m,d){c.Yu.prototype.enable.call(this,h,e,v,J,m,d);
if(!v.Kd.Ys){var x=new g3(k.E.u,!0);x.data={V:k.l.Gi,m0:dq.lp};e.a(x)}};c.E5.prototype.disable=function(){this.IU=null;
this.IF=null};c.E5.prototype.ZF=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=c.E5.v0(h.Ys,d);if(x==-1)return;
this.IU=h;this.IF=e;h.ek=[x];h.GI=!0;if(this.QC==null){this.QC=new ar([{name:[5,4]},{name:[8,11,1],U$:!0}]);
this.QC.P("select",this.vG,this)}var j=this.QC;j.parent=e;j.S();j.update(h,v);var E=new g3(k.E.u,!0);
E.data={V:k.l.Eu,nB:j,x:m.oU+2,y:m.dG+1};e.a(E)};c.E5.prototype.vG=function(h){var e=this.QC.S9()[0],v=this.IU;
if(e==0){this.mw(v);v.Ys.splice(v.ek[0],1);v.ek=[];v.GI=!0;this.KX(v)}if(e==1){var J=new g3(k.E.u,!0);
J.data={V:k.l.Xq,dF:"soptions",J:v.Ys[v.ek[0]].v};this.IF.a(J)}};c.E5.prototype.HL=function(h,e,v,J,m){if(h==null)return;
this.mw(h);var d=h.p.$$(m.x,m.y);d=c.Pj.$T(h,d,v,[!0,null,!1]);d.x=Math.round(d.x);d.y=Math.round(d.y);
this.Sn=d;h.Ys.unshift(c.E5.LJ());h.ek=[0];c.E5.zm(h.Ys,0,[d.x,d.y,d.x+20,d.y+20]);h.GI=!0};c.E5.prototype._8=function(h,e,v,J,m){if(this.Pa==null)return;
var d=h.p.$$(m.x,m.y),x=this.Sn;d=c.Pj.$T(h,d,v,[!0,null,!1]);var j=c.XH.tw(x,d,J,!0,this.uQ);x=j[0];
d=j[1];var E=[x.x,x.y,d.x,d.y];c.E5.a2X(E);c.E5.zm(h.Ys,0,E);h.GI=!0};c.E5.prototype.ej=function(h,e,v,J,m){this.KX(h);
this.Sn=null};c.E5.prototype.mw=function(h){this.Pa=JSON.stringify(h.Ys);this.adJ=JSON.stringify(h.ek)};
c.E5.prototype.KX=function(h){var e=JSON.stringify(h.Ys);if(e!=this.Pa){var v=new aO(this.name,this);
v.data={Tk:this.Pa,dI:e,aaG:this.adJ,apg:JSON.stringify(h.ek)};h.Mk(v)}this.Pa=null};c.E5.prototype.ZL=function(h,e){e.Ys=JSON.parse(h.Tk);
e.ek=JSON.parse(h.aaG);e.GI=!0};c.E5.prototype.W1=function(h,e){e.Ys=JSON.parse(h.dI);e.ek=JSON.parse(h.apg);
e.GI=!0};c.E5.prototype.yz=function(h,e){return e!=null&&e.ek.length!=0&&(h==dW.PV||h==dW.iS)};c.E5.prototype.lK=function(h,e,v,J){if(h==null)return;
if(J.r(dW.PV)||J.r(dW.iS))this.iu({V:"delete"},e,h,J,v);var m=J.Sl();if(m.x!=0||m.y!=0){this.mw(h);c.E5.FH(h,m);
this.KX(h)}};c.E5.prototype.oy=function(h,e,v,J,m){this.uQ=h.gO};c.E5.a9N=function(h,e,v,J){var m=new fq(-e.x,-e.y),d=e.q/v.q,x=e._/v._,j=[0,0,e.q,e._];
for(var T=0;T<h.length;T++){var E=c.E5.P8(h,T);if(J){E[0]=Math.round(E[0]*d);E[1]=Math.round(E[1]*x);
E[2]=Math.round(E[2]*d);E[3]=Math.round(E[3]*x)}else{c.E5.Tm(E,m);c.E5.abE(E,j)}if(E[0]>=E[2]||E[1]>=E[3]){h.splice(T,1);
T--;continue}c.E5.zm(h,T,E)}};c.E5.FH=function(h,e){var v=h.Ys;for(var T=0;T<h.ek.length;T++){var J=c.E5.P8(v,h.ek[T]);
c.E5.Tm(J,e);c.E5.zm(v,h.ek[T],J)}};c.E5.abE=function(h,e){if(h[0]<e[0])h[0]=e[0];if(h[1]<e[1])h[1]=e[1];
if(e[2]<h[2])h[2]=e[2];if(e[3]<h[3])h[3]=e[3]};c.E5.Tm=function(h,e){h[0]=Math.round(h[0]+e.x);h[2]=Math.round(h[2]+e.x);
h[1]=Math.round(h[1]+e.y);h[3]=Math.round(h[3]+e.y)};c.E5.zm=function(h,T,e){var v=h[T].v.bounds.v;v.Left.v=e[0];
v.Top.v=e[1];v.Rght.v=e[2];v.Btom.v=e[3]};c.E5.P8=function(h,T){var e=h[T].v.bounds.v;return[e.Left.v,e.Top.v,e.Rght.v,e.Btom.v,T]};
c.E5.a2X=function(h){if(h[2]<h[0]){var e=h[0];h[0]=h[2];h[2]=e}if(h[2]==h[0])h[2]++;if(h[3]<h[1]){var e=h[1];
h[1]=h[3];h[3]=e}if(h[3]==h[1])h[3]++};c.E5.oS=function(h,e){var v=1e9,J=-1e9,m=1e9,d=-1e9;for(var T=0;
T<e.length;T++){var x=c.E5.P8(h,e[T]);v=Math.min(v,x[0]);m=Math.min(m,x[1]);J=Math.max(J,x[2]);d=Math.max(d,x[3])}return[v,m,J,d]};
c.E5.LJ=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
c.Rh=function(){c.E5.call(this,[10,41],c.Tb,"tools/sselect");this.Sn=null;this._U=null;this.RS=null;
this.RR=null;this.hL=!1};c.Rh.prototype=new c.E5;c.Rh.prototype.HL=function(h,e,v,J,m){if(h==null)return;
var d=h.p.$$(m.x,m.y),x=c.Rh.aad(d,4/h.p.e4,h.Ys,h.ek);x.pop();if(x.length!=0){this.Sn=d;this.RS=x;this.mw(h);
return}var j=h.Ys,E=c.E5.v0(j,d);if(E==-1)h.ek=[];else{var L=h.ek.indexOf(E);if(J.r(dW.l$)){if(L==-1)h.ek.push(E);
else h.ek.splice(L,1)}else{h.ek.sort(function(M,O){return M-O});if(L==-1)h.ek=[E];this.Sn=d;this.mw(h);
this._U=c.E5.oS(j,h.ek);this.RR=[];for(var T=0;T<h.ek.length;T++)this.RR.push(c.E5.P8(j,h.ek[T]));if(J.r(dW.B2)){var p=j.slice(0),Z=h.ek,o=[];
for(var T=0;T<Z.length;T++){var E=Z[T],u=p[E],N=j.indexOf(u);o.push(N);j.splice(N,0,B.t(u))}h.ek=o}}}h.GI=!0};
c.Rh.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y);if(this.Sn==null){var x=c.Rh.aad(d,4/h.p.e4,h.Ys,h.ek),j=x.pop(),E=x.length==0?"default":["ew","nwse","ns","nesw"][j]+"-resize",L=new g3(k.E.u,!0);
L.data={V:k.l.zq,Tv:E};e.a(L);return}if(!this.hL&&d.lS(this.Sn))return;this.hL=!0;var p=h.Ys,x=this.RS;
if(x){d=c.Pj.$T(h,d,v,[!0,null,!1]);var Z=Math.round(d.x),o=Math.round(d.y);for(var T=0;T<x.length;T+=2){var u=c.E5.P8(p,x[T]),N=x[T+1];
u[N]=(N&1)==0?Z:o;c.E5.a2X(u);c.E5.zm(p,x[T],u)}}else{var M=d.am(this.Sn),O=this._U.slice(0);c.E5.Tm(O,M);
var F=new fP(O[0],O[1],O[2]-O[0],O[3]-O[1]),W=c.Pj.xH(h,F,v,[!0,null,!1],!0);c.Pj.t5(h,F,W);M.x+=W[0];
M.y+=W[1];for(var T=0;T<h.ek.length;T++)c.E5.zm(p,h.ek[T],this.RR[T]);c.E5.FH(h,M)}h.GI=!0};c.Rh.prototype.ej=function(h,e,v,J,m){if(this.Sn==null)return;
this.KX(h);h.M.AF=null;h.GI=!0;this.Sn=null;this.RS=null;this.RR=null;this.hL=!1};c.Rh.aad=function(h,e,v,J){var m=h.x,d=h.y,x=[],j=-1,E=[];
for(var T=0;T<J.length;T++){var L=J[T],p=c.E5.P8(v,L),Z=p[0],o=p[1],u=p[2],N=p[3];if(m<Z-e||u+e<m||d<o-e||N+e<d)continue;
var M=[m<Z+e,d<o+e,u-e<m,N-e<d],O=-1;for(var F=0;F<4;F++){if(M[F]&&M[F+1&3])O=1+2*(F&1);if(M[F])x.push(L,F)}if(O==-1){if(M[0]||M[2])O=0;
if(M[1]||M[3])O=2}if(O!=-1){j=O;E.push(L)}}var W=x.length;for(var T=0;T<W;T+=2){var L=x[T],f=x[T+1],$=c.E5.P8(v,L)[f];
for(var F=0;F<J.length;F++){var H=J[F];if(E.indexOf(H)!=-1)continue;var p=c.E5.P8(v,H);if(p[f&1]==$)x.push(H,f&1);
if(p[2+(f&1)]==$)x.push(H,2+(f&1))}}x.push(j);return x};c.ca=function(h,e,v){c.Yu.call(this,h,e,v);this.Ps=null;
this.aDE=null;this.Jw=null;this.Cp=null;this.Cb=null;this.Me=null;this.FQ=null;this.Ho=[]};c.ca.prototype=new c.Yu;
c.ca.prototype.G0=function(){return!0};c.ca.Yz=function(h){if(h==null)return!1;if(h.X.length!=1)return!1;
var e=h.T[h.X[0]];return e.add.SoLd||h.kC(!1)};c.ca.prototype.yK=function(h,e){return c.ca.Yz(h)};c.ca.prototype.yz=function(h,e){return h==dW.PV||h==dW.iS};
c.ca.prototype.enable=function(h,e,v,J,m,d,x){this.aDE=d.AU;var j=d.AU,E,N=null;if(j){var L=h.T[j.L];
if(L.add.SoLd.filterFX!=null){var p=L.add.SoLd.filterFX.v.filterFXList.v;if(p[j.index])E=B.t(p[j.index].v.Fltr.v)}}var L=h.T[h.X[0]],Z=L.buffer,o=L.R,u=L.add.SoLd;
if(u){var M=u.nonAffineTransform.v;N=[];for(var T=0;T<4;T++)N.push(M[T*2].v,M[T*2+1].v);if(E==null)this.oh("edit",e);
var O=L.o7(h);Z=O.buffer;o=O.R}this.Cp={buffer:Z.slice(0),R:o.O(),ah4:N};this.a7h(E,h,e,d.iq);this.ayF(e);
var F=new g3(k.E.u,!0);F.data={V:k.l.zq,Tv:"default"};e.a(F)};c.ca.prototype.ayF=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.vi,I:this.id,m0:this.Cb};h.a(e)};c.ca.prototype.disable=function(h,e,v,J){if(this.Me)this.Kx(h,e,!0)};
c.ca.prototype.oh=function(h,e){var v=new g3(k.E.A,!0);v.I=c.hk;v.data={V:h,AU:this.aDE,Ps:this.Ps,GL:this.Jw};
e.a(v)};c.ca.prototype.Kx=function(h,e,v){this.oh("confirm",e);this.escape(h,e,v)};c.ca.prototype.wY=function(h,e,v){this.oh("cancel",e);
this.escape(h,e,v)};c.bV=function(h,e,v){c.ca.call(this,[10,46],c.fT,"tools/transform");this.Ps="rigidTransform";
this.Cb=[1,1,2,!0]};c.bV.prototype=new c.ca;c.bV.prototype.a7h=function(h,e,v){this.Jw=h?h:c.bV.z6(this.Cp,this.Cb);
this.Me=c.bV.Oq(this.Jw,this.Cb);this.v$();this.dS(e);if(h==null)this.FN(v)};c.bV.prototype.v$=function(h){var e=this.Me;
this.Ho=[];for(var T=0;T<e.length;T++){var v=e[T];for(var J=0;J<v.X.length;J++)this.Ho.push([T,v.X[T]]);
v.S4=B.tz.agf(v);if(h)B.tz.a7l(v)}};c.bV.prototype.oy=function(h,e,v,J){if(h.nI=="commit")this.Kx(v,e,!0);
else if(h.nI=="cancel")this.wY(v,e,!0);else if(h.nI=="prm"){var m=!1;for(var T=0;T<3;T++)if(this.Cb[T]!=h.m0[T])m=!0;
this.Cb=h.m0;if(m){this.Jw=c.bV.z6(this.Cp,this.Cb,this.Jw);this.Me=c.bV.Oq(this.Jw,this.Cb);this.v$(!0);
this.FN(e)}this.dS(v)}else if(h.nI=="moveDepth"){var d=this.Me;for(var x=0;x<d.length;x++){var j=d[x];
for(var T=0;T<j.X.length;T++){var E=j.X[T];j.Wa[E]+=h.a1s?1:-1}}this.FN(e)}};c.bV.prototype.lK=function(h,e,v,J){var m=J.Sl();
if(J.r(dW.zD))this.Kx(h,e,!0);else if(J.r(dW.BC))this.wY(h,e,!0);else if(J.r(dW.PV)||J.r(dW.iS)){var d=this.Me;
for(var x=0;x<d.length;x++){var j=d[x];j.X.sort(function(p,Z){return Z-p});for(var T=0;T<j.X.length;
T++){var E=j.X[T],L=E*2;j.Wa.splice(E,1);j._Q.splice(E,1);j.dv.splice(E,1);j.oL.splice(E,1);j.LM.splice(L,2);
j.MI.splice(L,2)}j.X=[];if(j.oL.length==0){j.sn=j.Z4.slice(0);j.p_=j.Z4.slice(0)}}this.v$(!0);this.FN(e);
this.dS(h)}else if(m.x!=0||m.y!=0){this.a2d(h,m.x,m.y,e);this.Ka=null}};c.bV.prototype.escape=function(h,e,v){h.M.Qd=null;
h.M.LK=[];h.M.Sx=[];h.GI=!0;this.Me=null;var J=new g3(k.E.u,!0);J.data={V:k.l.NY};if(v)e.a(J)};c.bV.prototype.HL=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=d.x,j=d.y,E=this.Me,L=null,p=[0,2,4,1.2,1.2,1.2],Z=-1,o=c.im(h,m);
for(var T=0;T<E.length;T++){var u=E[T],N=B.w.P0(u.MI,x,j,o);if(N!=-1)L=[T,N];if(Z==-1&&B.tz.ap2.asG(u.p_,u.Wi,x,j))Z=T}if(L==null&&Z!=-1){var u=E[Z];
c.bV.aCN(u,x,j,x,j,0);L=[Z,u.oL.length-1];u.S4=B.tz.agf(u)}this.FQ=d;if(L){var M=E[L[0]].X.indexOf(L[1])!=-1;
if(J.r(dW.l$)&&!M){E[L[0]].X.push(L[1]);this.Ho.push(L)}else if(!M){E[L[0]].X=[L[1]];this.Ho=[L]}}this.dS(h)};
c.bV.aCN=function(h,e,v,J,m,d){var x=B.w.P0(h.p_,e,v);h.oL.push(x);h.MI.push(J,m);h.LM.push(h.p_[x*2]-e,h.p_[x*2+1]-v);
h.dv.push(0);h._Q.push(!1);h.Wa.push(d)};c.bV.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=this.FQ;
if(x)this.a2d(h,d.x-x.x,d.y-x.y,e)};c.bV.prototype.a2d=function(h,e,v,J){var m={},d=this.Ho,x=this.Me;
if(this.Ka==null){this.Ka=[];for(var T=0;T<x.length;T++)this.Ka.push(x[T].MI.slice(0))}for(var T=0;T<d.length;
T++){var j=this.Ho[T],E=j[0],L=x[j[0]],p=j[1]*2;L.MI[p+0]=this.Ka[E][p+0]+e;L.MI[p+1]=this.Ka[E][p+1]+v;
m[E]=E}for(var E in m)B.tz.a7l(this.Me[m[E]]);this.dS(h);this.FN(J)};c.bV.prototype.ej=function(h,e,v,J,m){this.FQ=null;
this.Ka=null};c.bV.prototype.FN=function(h){c.bV.arD(this.Me,this.Cb,this.Jw);this.oh("edit",h)};c.bV.prototype.dS=function(h){var e=this.Me,v=this.Jw;
h.M.Qd={g:[],WQ:[]};h.M.LK=[];h.M.Sx=[];for(var T=0;T<e.length;T++){var J=e[T];for(var m=0;m<J.MI.length;
m+=2){var d=h.M.Sx;if(J.X.indexOf(m>>>1)!=-1)d=h.M.LK;d.push(J.MI[m],J.MI[m+1])}if(this.Cb[3])B.w.concat(h.M.Qd,B.w.aco(J.p_,J.Wi))}h.GI=!0};
c.bV.z6=function(h,e,v){var J=h.buffer,m=h.R,d=h.ah4,x=f8.UX("rigidTransform");if(d)for(var T=0;T<4;
T++){x["PuX"+T].v=d[T*2];x["PuY"+T].v=d[T*2+1]}var j=x.puppetShapeList.v,E=B.tz.a1Z(J,m.q,m._,e[1],e[2]),L=[];
for(var p=0;p<E.length;p++){var Z={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
Z.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var o=E[p];j.push({t:"Objc",v:Z});var u=o.Z4.slice(0);B.w.C(u,new aJ(1,0,0,1,m.x,m.y),u);var N=o.Wi;
for(var T=0;T<N.length;T+=3){var M=N[T+1];N[T+1]=N[T+2];N[T+2]=M}L.push({Wi:N,Z4:u,sn:u,p_:u,oL:[],LM:[],MI:[],S4:null,X:[],dv:[],_Q:[],Wa:[]})}if(v){var O=c.bV.Oq(v,[]),F=L[0];
for(var T=0;T<O.length;T++){var W=O[T];for(var f=0;f<W.X.length;f++)F.X.push((F.MI.length>>>1)+W.X[f]);
for(var f=0;f<W.oL.length;f++){var $=W.oL[f]*2,H=W.Z4[$]-W.LM[f*2],A=W.Z4[$+1]-W.LM[f*2+1];c.bV.aCN(F,H,A,W.MI[f*2],W.MI[f*2+1],W.Wa[f])}}}c.bV.arD(L,e,x);
return x};c.bV.Oq=function(h,e){var v=c.L2.RT,J=h.puppetShapeList.v,m=[];for(var d=0;d<J.length;d++){var x=J[d].v;
e[0]=x.meshRigidity.v-1;e[1]=x.meshQuality.v-1;e[2]=x.meshExpansion.v;var j=x.pinVertexIndices.v.length,E=x.meshBoundaryPath.v.pathComponents.v;
if(E.length!=0){var L=E[0].v.SbpL.v[0].v.Pts;L.v=[]}var p=new Uint32Array(new Uint8Array(x.indexArray.v).buffer),Z=new Float32Array(new Uint8Array(x.originalVertexArray.v).buffer),o=new Float32Array(new Uint8Array(x.deformedVertexArray.v).buffer),u=[],N=[],M=[];
for(var T=0;T<p.length;T++)u.push(p[T]);for(var T=0;T<Z.length;T++){N.push(Z[T]);M.push(o[T])}var O=v(x.pinVertexIndices),F=v(x.pinOffsets),W=v(x.posFinalPins),f=v(x.PnRt),$=v(x.PnOv),H=v(x.PnDp),A=v(x.selectedPin);
m.push({Wi:u,Z4:N,sn:M.slice(0),p_:M,oL:O,LM:F,MI:W,S4:null,dv:f,_Q:$,Wa:H,X:A})}return m};c.bV.arD=function(h,e,v){function J(o,u){var N=[];
for(var T=0;T<o.length;T++)N.push({t:u,v:o[T]});return N}function m(o,u,N){var M=new(N?Uint32Array:Float32Array)(o),O=new Uint8Array(M.buffer);
for(var T=0;T<O.length;T++)u[T]=O[T]}var d=v.puppetShapeList.v;for(var x=0;x<d.length;x++){var j=h[x],E=d[x].v;
E.meshRigidity.v=e[0]+1;E.meshQuality.v=e[1]+1;E.meshExpansion.v=e[2];m(j.Wi,E.indexArray.v,!0);m(j.Z4,E.originalVertexArray.v);
m(j.p_,E.deformedVertexArray.v);var L=[];for(var T=0;T<j.oL.length;T++){var p=j.oL[T]*2,Z=T*2;L[Z]=j.Z4[p]-j.LM[Z];
L[Z+1]=j.Z4[p+1]-j.LM[Z+1]}E.PinP.v=J(L,"doub");E.pinVertexIndices.v=J(j.oL,"long");E.pinOffsets.v=J(j.LM,"doub");
E.posFinalPins.v=J(j.MI,"doub");E.PnRt.v=J(j.dv,"long");E.PnOv.v=J(j._Q,"bool");E.PnDp.v=J(j.Wa,"doub");
E.selectedPin.v=J(j.X,"long")}};c.Vt=function(){c.ca.call(this,"Blur Gallery",c.awH,"tools/ruler");this.Ps="blurbTransform";
this.Cb=[0,[],null];this.jf=-1};c.Vt.prototype=new c.ca;c.Vt.prototype.a7h=function(h,e,v,J){var m=h==null;
if(h==null){h=f8.UX(this.Ps);B.Hy.abp(h,J,e.q/2,e._/2);var d=[!1,!1,!1,!1,!1,!1];d[J]=!0;B.Hy.azP(h,d)}this.Jw=h;
this.Cb[0]=B.Hy.aBl(h);this.Cb[1]=B.Hy.a0N(h);this.dS(e);if(m)this.oh("edit",v)};c.Vt.prototype.lK=function(h,e,v,J){if(J.r(dW.zD))this.Kx(h,e,!0);
else if(J.r(dW.BC))this.wY(h,e,!0);else if(J.r(dW.PV)||J.r(dW.iS)){var m=this.jf;if(m==-1)return;var d=this.Cb[0],x=B.Hy.pP(this.Jw)[0],j=x[d];
if(d==0)j.splice(m,1);if(d==1||d==5)j.splice(Math.floor(m/6),1);if(d==3)j.splice(Math.floor(m/5),1);
if(d==4)j.splice(Math.floor(m/4),1);B.Hy.BO(x,this.Jw);B.Hy._n(this.Jw,d);this.jf=-1;this.dS(h);this.oh("edit",e)}};
c.Vt.prototype.oy=function(h,e,v,J){if(h.nI=="commit")this.Kx(v,e,!0);else if(h.nI=="cancel")this.wY(v,e,!0);
else{this.Cb=h.m0;var m=this.Cb[0],d=this.jf;B.Hy.azP(this.Jw,this.Cb[1]);if(this.Cb[2]){var x=B.Hy.pP(this.Jw)[0],j=x[m];
if(m==0)j[d][2]=this.Cb[2][0];if(m==1||m==5)j[Math.floor(d/6)][14]=this.Cb[2][0];if(m==3)j[Math.floor(d/5)][10]=this.Cb[2][0];
if(m==4){j[0][4]=this.Cb[2][0]/100;var E=(d&3)<2?0:5,L=j[Math.floor(d/4)],p=L[E],Z=L[E+1],o=L[E+2]-p,u=L[E+3]-Z,N=Math.sqrt(o*o+u*u),M=this.Cb[2][1];
if(N==0){L[E+2]=p+M;L[E+3]=Z}else{L[E+2]=p+M*o/N;L[E+3]=Z+M*u/N}}B.Hy.BO(x,this.Jw)}B.Hy._n(this.Jw,m);
this.dS(v);this.oh("edit",e)}};c.Vt.prototype.escape=function(h,e,v){h.M.GW=null;h.M.Yp=null;h.M.Cj=null;
h.M.LK=[];h.M.Sx=[];h.GI=!0;this.Me=null;var J=new g3(k.E.u,!0);J.data={V:k.l.NY};if(v)e.a(J)};c.Vt.prototype.dS=function(h){var e=B.Hy.pP(this.Jw)[0];
h.M.LK=[];h.M.Sx=[];var v=h.M.GW={g:[],WQ:[]},J=h.M.Yp={g:[],WQ:[]},m=h.M.Cj={g:[],WQ:[]};this.Ho=[];
this.aci=[];var d=this.Cb[0],x=this.jf,j=e[d];for(var T=0;T<j.length;T++){var E=j[T];if(d==0){if(T==x){h.M.LK.push(E[0],E[1]);
this.Cb[2]=[E[2]]}else h.M.Sx.push(E[0],E[1]);this.aci.push([]);this.Ho.push(E[0],E[1])}else if(d==1||d==5){var L=B.Hy.a16(E);
L.ia();var p=[0,-1,1,0,0,1,-1,0,0,0,1-E[10],0];B.w.C(p,L,p);for(var Z=0;Z<p.length;Z+=2){if(x==T*6+(Z>>>1)){h.M.LK.push(p[Z],p[Z+1]);
this.Cb[2]=[E[14]]}else h.M.Sx.push(p[Z],p[Z+1]);this.Ho.push(p[Z],p[Z+1])}var o=B.w._i(B.s.z0.FO(-1,-1,2,2));
B.w.concat(v,o,L)}else if(d==3){var u=E[0],N=E[1],M=E[2]-E[0],O=E[3]-E[1],F=Math.sqrt(M*M+O*O),W=O*1e4/F,f=-M*1e4/F;
for(var Z=0;Z<10;Z+=2){if(x==T*5+(Z>>>1)){h.M.LK.push(E[Z],E[Z+1]);this.Cb[2]=[E[10]]}else h.M.Sx.push(E[Z],E[Z+1]);
this.Ho.push(E[Z],E[Z+1]);if(Z==0)continue;if(Math.floor(x/5)!=T)continue;v.g.push(E[Z]-W,E[Z+1]-f,E[Z]+W,E[Z+1]+f);
v.WQ.push("M","L")}}else if(d==4){m.g.push(E[0],E[1],E[5],E[6]);m.WQ.push("M","L");for(var Z=0;Z<2;Z++){var $=Z*5,u=E[$],N=E[$+1],H=E[$+2],A=E[$+3],M=H-u,O=A-N,G=Math.sqrt(M*M+O*O),l=25;
if(G!=0){M/=G;O/=G}if((x&14)==T*4+Z*2){h.M.LK.push(u,N,H,A);this.Cb[2]=[E[4]*100,G]}else h.M.Sx.push(u,N,H,A);
J.g.push(u,N,H,A);J.WQ.push("M","L");this.Ho.push(u,N,H,A);if(G==0)continue;var K=-M*l*2,U=-O*l*2;J.g.push(H,A,H+(-O*l+K),A+(M*l+U));
J.g.push(H,A,H+(O*l+K),A+(-M*l+U));J.WQ.push("M","L","M","L","M","L")}}}h.GI=!0};c.Vt.prototype._8=function(h,e,v,J,m){function d(I,T,n){var A=I[T]-I[n],G=I[T+1]-I[n+1];
return Math.sqrt(A*A+G*G)}var x=h.p.$$(m.x,m.y),j=B.w.P0(this.Ho,x.x,x.y,6/h.p.e4);if(this.FQ){var E=this.jf,L=this.Cb,p=L[0],Z=B.Hy.pP(this.Jw)[0],o=Z[p];
if(p==0){o[E][0]=x.x;o[E][1]=x.y}if(p==1||p==5){var u=Math.floor(E/6),N=E-u*6,M=o[u],O=d(M,0,2)/2,F=d(M,2,4)/2,W=M[8],f=M[9],$=Math.atan2(-M[3]+M[1],M[2]-M[0]),H=M[10],A=x.x-W,G=x.y-f,l=Math.sqrt(A*A+G*G);
if(N<4){$=Math.atan2(-G,A)+(-1+N)*Math.PI/2;if(N==0||N==2)F=l;else O=l}if(N==4){W=x.x;f=x.y}if(N==5)H=Math.max(0,Math.min(1,1-l/O));
var K=new aJ;K.scale(O,F);K.rotate($);K.translate(W,f);var U=o[u]=[-1,-1,1,-1,1,1,-1,1,0,0];B.w.C(U,K,U);
U.push(H,H,H,H,M[14])}if(p==3){var u=Math.floor(E/5),N=E-u*5,M=o[u],z=M[0],q=M[1],P=d(M,0,2),g=d(M,0,4),a=d(M,0,6),w=d(M,0,8),$=Math.atan2(-M[3]+M[1],M[2]-M[0]),A=x.x-z,G=x.y-q,l=Math.sqrt(A*A+G*G);
if(N==0){z=x.x;q=x.y}if(N==1)P=Math.max(a*1.1,l);if(N==2)g=Math.max(w*1.1,l);if(N==3)a=Math.min(P,l);
if(N==4)w=Math.min(g,l);if(N==1)$=Math.atan2(-G,A);if(N==2)$=Math.atan2(G,-A);var U=o[u]=[0,0,-P,0,g,0,-a,0,w,0],K=new aJ;
K.rotate($+Math.PI);K.translate(z,q);B.w.C(U,K,U);U.push(M[10])}if(p==4){var u=Math.floor(E/4),N=E-u*4,M=o[u],y=N<2?0:5;
if((N&1)==0){var S=[M[2]-M[0],M[3]-M[1],M[7]-M[5],M[8]-M[6]],i=Math.atan2(-(M[6]-M[1]),M[5]-M[0]);M[y]=x.x;
M[y+1]=x.y;var C=Math.atan2(-(M[6]-M[1]),M[5]-M[0]),K=new aJ;K.rotate(C-i);for(var T=0;T<2;T++){var Y=new fq(S[T*2],S[T*2+1]);
Y=K.w7(Y);M[T*5+2]=M[T*5]+Y.x;M[T*5+3]=M[T*5+1]+Y.y}}else{M[y+2]=x.x;M[y+3]=x.y}}B.Hy.BO(Z,this.Jw);
B.Hy._n(this.Jw,p);this.dS(h)}else{var _="default";if(j!=-1)_="pointer";var t=new g3(k.E.u,!0);t.data={V:k.l.zq,Tv:_};
e.a(t)}};c.Vt.prototype.HL=function(h,e,v,J,m){var d=this.Cb[0],x=h.p.$$(m.x,m.y),j=x.x,E=x.y,L=B.w.P0(this.Ho,j,E,10/h.p.e4);
if(L==-1){L=B.Hy.abp(this.Jw,d,j,E)}this.FQ=x;this.jf=L;this.dS(h)};c.Vt.prototype.ej=function(h,e,v,J,m){if(this.FQ){this.oh("edit",e);
this.ayF(e)}this.FQ=null};c.Zu=function(){c.tM.call(this,[10,44],c.aG$,"tools/oselect");this.Ox="crosshair";
this.ayI=0};c.Zu.prototype=new c.tM;c.Zu.prototype.wa=function(h,e,v,J){if(Math.random()<1/(1+this.ayI)){alert("The cross should be fully inside the object.",3500);
this.ayI++}};c.Zu.prototype.$X=function(h,e,v,J){c.as.R_(h,c.tM.yB,this.IF);if(!J.fE||!this.vu)return;
var m=this.YO(h,v,!1),d=m.q,x=m._,j=m.x,E=m.y,L=m.x+d,p=m.y+x,Z=j+d/2,o=E+x/2,u=c.Zu.azl;h.M.Qd={g:[j,E,L,E,L,p,j,p,Z-d*u,o,Z+d*u,o,Z,o-x*u,Z,o+x*u],WQ:"M L L L Z M L M L".split(" ")};
h.GI=!0};c.Zu.azl=.12;c.Zu.prototype.sd=function(h,e,v,J){h.M.Qd=null;h.GI=!0;this.finish(h,e,v,J)};
c.Zu.prototype.getSelection=function(h,e,v,J){if(this.hC.lS(this.FZ)||!this.vu)return null;var m=this.YO(h,v,!1),d=h.T[h.X[0]];
if(m.EG()||!m.qm(d.R))return null;return c.tM.AN("ObSl",m)};c.as=function(){c.Bt.call(this,[10,37],c.NR,"tools/qselect");
this.kh="qselect"};c.as.prototype=new c.Bt;c.as.prototype.HL=function(h,e,v,J,m){if(h.X.length==0){alert("Select a layer first.");
return}c.as.R_(h,c.tM.yB,e,!0);this.gT(h,v,J,m,1);if(this.yj==null)return;this.gt(h)};c.as.prototype._8=function(h,e,v,J,m){this.ot(h,e,v);
c.as.R_(h,c.tM.yB,e);if(this.W0)this.uL(h,v,m);if(this.yj==null)return;if(!m.fE)return;var d=this.ms(h,v,J,m);
if(d!=1)this.gt(h)};c.as.R_=function(h,e,v,J){if(h.X.length==0)return;if(h&&e.key!=c.as.qr(h)){e.key=c.as.qr(h);
var m=h.T[h.X[0]].R.$(),x="Image Analysis ...";if(m==0)return;var d=m>1e6&&J!=!0,j=new g3(k.E.u,!0);
j.data={V:k.l.zw,qt:x};if(d)v.a(j);var E=function(){var L=c.as.ar0(h);for(var p in L)e[p]=L[p];var j=new g3(k.E.u,!0);
j.data={V:k.l.gv,qt:x};if(d)v.a(j)};if(J)E();else setTimeout(E,30)}};c.as.qr=function(h){var e=h.X[0],v=h.T[e],J=v.R,m=J.q,d=J._,x=m*d,j=v.buffer;
return[e,J.x,J.y,m,d,j[0],j[1],j[2],j[3]].join(",")};c.as.ar0=function(h){var e=h.X[0],v=h.T[e],J=v.R,m=J.q,d=J._,x=m*d,j=v.buffer,E=Date.now(),L=B.U(x);
L.fill(128);var p=B.yw.CO(j,m,d);console.log(Date.now()-E);var Z={key:c.as.qr(h),FW:j,R:J.O(),VA:m,qw:d,My:12,wP:L,ZW:p,K:B.U(x),KW:null,ov:null,C0:null};
c.as.NO(Z,null,h);return Z};c.as.NO=function(h,e,v){var J=h.VA,m=h.qw,d=0,x=0,j=Date.now(),E=h.KW!=null&&B.yw.TJ(h.KW.Wi,h.KW.uX,h.wP)==-1;
d=Date.now()-j;j=Date.now();if(!E){var L=B.yw.TJ(h.ZW.Wi,h.ZW.uX,h.wP),p=0;while(L!=-1){var Z=[],o=[],u=h.ZW.Wi;
for(var N=0;N<m;N++)for(var M=0;M<J;M++){var T=N*J+M;if(u[T]==L){var O=h.wP[T];if(O==0)Z.push(M,N);if(O==255)o.push(M,N)}}var F=v.T[v.X[0]],W=F.buffer;
B.yw.CO.JH(W,J,m,h.ZW,Z,o);L=B.yw.TJ(h.ZW.Wi,h.ZW.uX,h.wP);p++;if(p>=10){console.log("too many subdivisions");
break}}h.KW=B.yw.jr(h.ZW,J,m,h.wP,h.My);h.ov=B.yw.a6_(h.FW,J,m,h.KW.Wi,h.KW.uX);h.C0=[h.ov[0].slice(0),[]];
x=Date.now()-j;j=Date.now()}var j=Date.now();if(e){h.C0[0].set(h.ov[0]);var f=h.ov[1],$=h.C0[1];for(var H=0;
H<f.length;H++)$[H]=f[H].slice(0);B.yw.a7p(h.KW.Wi,J,m,h.KW.uX,h.wP,h.K,h.C0)}};c.sz=function(){c.Yu.call(this,[10,50],c.Sc,"tools/artb");
this.Tf=null;this.BJ=!1;this.al=null;this.JF=!1;this.al8=null;this.GN=100;this.w4=null;this.qi=0};c.sz.prototype=new c.Yu;
c.sz.prototype.iu=function(h,e,v,J,m){this.uU(v,h.aFG,e,h.MC)};c.sz.ad0=function(h,e){var v=h[0],J=0,m=0;
if(v==0)m=-1;else if(v==1)J=1;else if(v==2)m=1;else J=-1;return[20/e.$B,h[1]+J*60/e.$B,h[2]+m*60/e.$B]};
c.sz.prototype.oy=function(h,e,v,J,m){this.Tf=h.m0;this.qi=Date.now()};c.sz.prototype._X=function(h,e,v,J){if(v.jR!=this.id)return;
if(h==null||h.X.length!=1){this.AL(h);return}var m=h.X[0],d=h.T[m],x=d.add.artb;if(x==null){this.AL(h);
return}if(this.JF)return;if(Date.now()-this.qi>50){this.Tf={};var j=["artboardBackgroundType","Clr"];
for(var T=0;T<j.length;T++)if(x[j[T]])this.Tf[j[T]]=B.t(x[j[T]]);var E=new g3(k.E.u,!0);E.data={V:k.l.vi,I:this.id,yJ:this.Tf};
e.a(E)}var L=d.AC(),p=B.w.Tp(L).g,Z=this.al=new hu(p,!0,!1,!1,!0,!1,3,!1);Z.LL(h,v,!1);var o={g:[1,0],WQ:["M"]};
for(var T=1;T<30;T++){var u=Math.PI*2*T/30;o.g.push(Math.cos(u),Math.sin(u));o.WQ.push("L")}o.WQ.push("Z","M","L","M","L");
o.g.push(-.5,0,.5,0,0,-.5,0,.5);var N=L.x+L.q/2,M=L.y+L._/2,O=this.GN*1.1,F=this.al8=[N,L.y,L.x+L.q,M,N,L.y+L._,L.x,M],W=[0,-O,O,0,0,O,-O,0],f=h.root.children;
h.M.Il=[];for(var T=0;T<4;T++){var $=new fq(F[T*2]+W[T*2],F[T*2+1]+W[T*2+1]),H=!1;for(var A=0;A<f.length;
A++){var d=f[A].L;if(d.add.artb==null)continue;var L=d.AC();if(L.GX($))H=!0}if(H){F[T*2]=1e9;continue}h.M.Il.push([T,F[T*2],F[T*2+1]])}};
c.sz.prototype.disable=function(h,e,v,J,m){this.AL(h)};c.sz.prototype.AL=function(h){if(this.al){this.al.clear(h);
this.al=null;h.M.Il=null}};c.sz.prototype.HL=function(h,e,v,J,m){this.qi=Date.now();var d=h.p.$$(m.x,m.y),x=this.al;
if(x){var j=new g3(k.E.A),E=x.LX(null,d,h,m);if(E<9){this.JF=x.HL(h,v,J,d,null,!0,m);return}else if(x.Bm(d)){j.I=c.GA;
j.data={V:"disabAuto"};e.a(j);var L=new g3(k.E.u);L.data={V:k.l.px,I:c.GA,a82:!0};e.a(L);return}else{var p=-1,Z=h.M.Il;
for(var T=0;T<Z.length;T++){var o=c.sz.ad0(Z[T],h.p);if(fq.mr(d,new fq(o[1],o[2]))<o[0])p=Z[T][0]}if(p!=-1){var u=h.T[h.X[0]].AC(),N=u.O(),M=(p==0||p==2?u._:u.q)+this.GN;
if(p==0||p==3)M=-M;if(p==0||p==2)u.y+=M;else u.x+=M;if(J.r(dW.B2)){var O=new fP(0,0,h.q,h._);j.I=c.Yn;
j.data={V:s.Zn};e.a(j);c.Pj.tq(h,h.lX(null,h.X[0],null,!0),null,u.x-N.x,u.y-N.y);h.X=h.X.slice(h.X.length-1);
var F=c.Zk.gV(h);if(F){var W=h.Ax();W.data.H$=O;W.data.Uc=F;W.data.Pi=h.X}}else this.uU(h,u,e);return}}}this.w4=c.Pj.$T(h,d,v)};
c.sz.prototype.uU=function(h,e,v,J){if(J==null)J=0;var m=h.T.slice(0),d=[h.T.length+1],x=h.ws();x.Ip(bj.get([1,16,0])+" "+(h.add.artd==null?1:h.root.children.length+1));
x.add.lsct=d7.W$;x.B9(e);if(this.Tf){var j=x.add.artb,E=this.Tf;for(var L in E)j[L]=E[L]}x.fR="pass";
x.IT=24;if(J==0){if(h.add.artd||e.UP(new fP(0,0,h.q,h._)).EG())m.push(h.gB());else m.unshift(h.gB())}else{var p=h.lX();
p.sort(function(M,O){return M-O});var Z=c.YK.lG(h,p,m.length-1,!1,null,!1),o=Z.pop(),u=Z.pop();m=Z.pop();
m.splice(h.T.length-p.length,0,h.gB())}m.push(x);var N=new g3(k.E.A);N.I=c.Yn;N.data={V:s.Uu,P1:m,at:d,SQ:[1,16,2]};
v.a(N)};c.sz.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=this.al,j=this.w4;if(x){if(this.JF){x._8(h,v,J,d)}else{var E=x.hb(d,h.p.e4,null,m);
if(E==null)E="default";var L=new g3(k.E.u,!0);L.data={V:k.l.zq,Tv:E};e.a(L)}}if(j){var p=this.P8(h,d,J,v);
h.M.Qd=B.w.Tp(p);h.GI=!0;c.Yu.fO(m,p,h,v)}};c.sz.prototype.ej=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=this.w4;
if(this.JF){this.al.ej(h,v,J,d);this.JF=!1;var j=B.w.Ob(this.al.Un()),E=s.BT(j),L=h.T[h.X[0]],p=B.t(L.add.artb);
p.artboardRect.v=E;var Z=new g3(k.E.A,!0);Z.I=c.Yn;Z.data={V:s.KC,Ea:p};e.a(Z)}if(x){var o=this.P8(h,d,J,v);
if(o.$()>20)this.uU(h,o,e);h.M.Qd=null;h.GI=!0;this.w4=null;h.M.xT=[]}};c.sz.prototype.P8=function(h,e,v,J){var m=this.w4,d=c.Pj.$T(h,e,J),x=c.XH.tw(m,d,v,!0);
m=x[0];d=x[1];return B.w.Ob([m.x,m.y,d.x,d.y])};c.va=function(){c.Yu.call(this,[10,50],c.ly,"tools/artb");
this.al=null;this.cr=!1;this.H=null;this.Rj=null;this.RB=null;this.mg=null;this.aa1=null;this.$0=null;
this.OY=null};c.va.prototype=new c.Yu;c.va.prototype.yz=function(h,e){return h==dW.PV||h==dW.iS};c.va.prototype.lK=function(h,e,v,J){if(J.r(dW.PV)||J.r(dW.iS))this.iu({V:"del"},e,h,J,v)};
c.va.prototype.iu=function(h,e,v,J,m){var d=v.add.arts;this.Rj=JSON.stringify(d);if(h.V=="del"){for(var T=0;
T<d.length;T++)if(d[T].X){d.splice(T,1);T--}}if(h.V=="new"){for(var T=0;T<d.length;T++)d[T].X=!1;var x=v.Wo(),j=x.x+x.q+20;
d.push({pQ:"Artboard "+(d.length+1),Fv:[j,x.y,j+100,x.y+100],X:!0})}if(h.V=="rpl"){var E=0;for(var T=0;
T<d.length;T++)if(d[T].X)E=T;d[E]=h.J}this.aqU(v);this.jT(v)};c.va.prototype.disable=function(h,e,v,J,m){this.cr=!1};
c.va.prototype.enable=function(h,e,v,J,m){this.cr=!0;this.H=v;this.jT(h)};c.va.prototype.AL=function(h){};
c.va.prototype.HL=function(h,e,v,J,m){var d=this.OY=h.p.$$(m.x,m.y),x=h.add.arts;this.Rj=JSON.stringify(x);
var j=this.al,E=j?j.hb(d,h.p.e4,null,m):null,L=J.r(dW.Dd)||J.r(dW.l$);if(j&&!L&&(B.w.oS(j.Un()).GX(d)||E)){}else{var p=-1;
for(var T=0;T<x.length;T++)if(B.w.oS(x[T].Fv).GX(d))p=T;if(p==-1)this.Ge(h,-1);else if(L)x[p].X=!x[p].X;
else this.Ge(h,p);this.jT(h)}if(this.al){this.al.HL(h,v,J,d,null,!0,m)}h.GI=!0};c.va.prototype._8=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=h.add.arts,j=JSON.parse(this.RB);
if(this.al){this.al._8(h,v,J,d);if(m.fE){var E=B.w.oS(this.al.Un()),L=this.aa1,p=new aJ;p.translate(-L.x,-L.y);
p.scale(E.q/L.q,E._/L._);p.translate(E.x,E.y);var Z=this.al.LX(J,d,h,m);for(var T=0;T<x.length;T++){var o=x[T];
if(!o.X)continue;if(B.w.oS(j[T].Fv).EG())o.Fv=[E.x,E.y,E.x+E.q,E.y+E._];else{o.Fv=j[T].Fv.slice(0);B.w.C(o.Fv,p,o.Fv)}}if(Z==10){c.Pj.tq(h,this.mg,null,E.x-this.$0.x,E.y-this.$0.y);
this.$0=E}h.dn()}var u="default",N=this.al.hb(d,h.p.e4,null,m);if(N)u=N;var M=new g3(k.E.u,!0);M.data={V:k.l.zq,Tv:u};
e.a(M)}else if(m.fE&&fq.mr(d,this.OY)>=6/h.p.e4){x.push({pQ:"Artboard "+(x.length+1),Fv:[0,0,0,0],X:!0});
this.jT(h);this.al.HL(h,v,J,this.OY,null,!0,m)}};c.va.prototype.ej=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y),x=h.add.arts,j=JSON.parse(this.RB),E=J.r(dW.Dd)||J.r(dW.l$);
if(!E&&fq.mr(this.OY,d)<6/h.p.e4){var L=-1;for(var T=0;T<x.length;T++)if(B.w.oS(x[T].Fv).GX(d))L=T;if(L!=-1){this.Ge(h,L);
this.jT(h)}if(B.w.oS(j[j.length-1].Fv).EG()){this.al.clear(h);x.pop()}}if(this.al){var p=this.al.LX(J,d,h,m);
this.al.ej(h,v,J,d);if(!d.lS(this.OY))this.aqU(h,p==10?d.am(this.OY):null)}};c.va.prototype.aqU=function(h,e){var v=new aO([10,50],this);
v.data={xz:this.Rj,uO:JSON.stringify(h.add.arts)};if(e){v.data.X=this.mg;v.data.Vz=e}h.Mk(v)};c.va.prototype.jT=function(h){var e=h.add.arts,v=new fP,J=0,m=[];
for(var T=0;T<e.length;T++)if(e[T].X){var d=B.w.oS(e[T].Fv);v=v.R$(d);h.root.wy(d,m);J++}if(J==0){if(this.al)this.al.clear(h);
h.GI=!0;this.al=null;return}this.RB=JSON.stringify(e);this.mg=m;this.aa1=this.$0=v;var x=B.w.Tp(v).g;
this.al=new hu(v.EG()?null:x,!0,!1,!1,!1,!1,3);if(!v.EG())this.al.LL(h,this.H)};c.va.prototype.Ge=function(h,e){var v=h.add.arts;
for(var T=0;T<v.length;T++)v[T].X=e==T};c.va.prototype.W1=function(h,e){e.add.arts=JSON.parse(h.uO);
if(h.X)c.Pj.tq(e,h.X,null,h.Vz.x,h.Vz.y);if(this.cr)this.jT(e);e.GI};c.va.prototype.ZL=function(h,e){e.add.arts=JSON.parse(h.xz);
if(h.X)c.Pj.tq(e,h.X,null,-h.Vz.x,-h.Vz.y);if(this.cr)this.jT(e);e.GI};function hu(h,e,v,J,m,d,x,j){this.Ru=null;
this.sf=h?h.slice(0):null;this.mP=1;this.r7=4;this.FZ=null;this.eV=null;this.Nr=null;this.jf=-1;this.FQ=null;
this.av6=!1;this.a5f=[];for(var T=0;T<8;T++)this.a5f.push(gI.a6Q(0,PIMG.rotate,-.5,-.5,-45-T*45));this.acz=e;
this.aw2=v;this.axV=J;this.aHG=m;this.aCu=d;this.MC=x;this.a6n=j==null?1:j}hu.prototype.aFD=function(){return this.jf!=-1};
hu.prototype.Un=function(){return this.sf.slice(0)};hu.prototype.Oo=function(h){this.sf=h};hu.prototype.adt=function(){return this.pU(this.sf)};
hu.prototype.a2i=function(){return this.r7};hu.prototype.asB=function(h){this.r7=h};hu.prototype.Xj=function(h){if(h==null)h=this.sf;
if(this.r7==9)return this.FZ;else return this.pU(h)[this.r7]};hu.prototype.aD9=function(h){if(this.r7==9)this.FZ=h.O();
else{var e=this.Xj(),v=new aJ(1,0,0,1,h.x-e.x,h.y-e.y);B.w.C(this.sf,v,this.sf)}};hu.prototype.Y_=function(h){this.mP=h};
hu.prototype.hb=function(h,e,v,J,m){var d=this.wn(null,h,e,J),x;if(d==9)return"default";if(d==10){if(v)return null;
return!this.acz?"move":null}if(d==-1||d==4)return null;if(d==11){var j=this.Xj().am(h);if(m==null)m=Math.atan2(j.y,j.x);
x=90-m*180/Math.PI;var E=Math.round(8*(x/360));E=(E+8)%8;return this.a5f[E]}else{var L=this.fS(h,this.sf);
x=[135,90,45,180,0,0,225,270,315][d]*Math.PI/180;var p=B.D.s6(this.sf);return hu.and(p[0],p[3],x)}};
hu.and=function(h,e,v){var J=Math.atan2(-e,h);if(v)J+=v;var m="ew nesw ns nwse ew nesw ns nwse".split(" "),d=Math.round(8*(J/(2*Math.PI)));
d=(d+8)%8;return m[d]+"-resize"};hu.prototype.fS=function(h,e){var v=B.D.ia(B.D.s6(e)),J=new Float64Array(2);
B.D.CJ(h.x,h.y,v,J);return new fq(J[0],J[1])};hu.prototype.Bm=function(h){var e=this.fS(h,this.sf);return 0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1};
hu.prototype.HL=function(h,e,v,J,m,d,x,j){this.av6=d;this.FQ=J;var E=h.p.e4,L;if(this.sf==null)J=c.Pj.$T(h,J,e);
this.Nr=J.O();if(this.sf==null){if(j==null)j=0;var p=new aJ;p.rotate(j);var Z=p.w7(new fq(1,1));this.Nr.offset(Z.x,Z.y);
var o=m==null?1:1/m,u=this.sf=[0,0,1,0,1,o,0,o];p.translate(J.x,J.y);B.w.C(this.sf,p,this.sf);L=8}else{L=this.wn(v,J,E,x);
if(0<=L&&L<=8)this.Nr=this.pU(this.sf)[L];if(L==9){this.r7=9;this.FZ=J.O()}}this.Ru=this.sf.slice(0);
this.jf=L;this.LL(h,e);this.eV=this.Xj();return L!=-1};hu.prototype.LX=function(h,e,v,J){return this.wn(h,e,v.p.e4,J)};
hu.prototype.wn=function(h,e,v,J){var m=-1,d=this.pU(),x=[0,2,6,8,1,3,5,7],j=J?c.im({p:{e4:v}},J):8*c.A_()/v,E=fq.mr(d[0],d[2]),L=fq.mr(d[0],d[6]),p=this.fS(e,this.sf);
p.x*=E;p.y*=L;var Z=new fP(0,0,E,L);Z.vY(j,j);if(m==-1)if(fq.mr(this.Xj(),e)<j)m=9;if(m==-1)for(var T=0;
T<x.length;T++)if(fq.mr(d[x[T]],e)<j)m=x[T];if(m==-1&&Z.GX(p)){if(Math.abs(p.y-0)<j)m=1;if(Math.abs(p.x-0)<j)m=3;
if(Math.abs(p.y-L)<j)m=7;if(Math.abs(p.x-E)<j)m=5}if(m==-1&&h&&h.r(dW.B2))m=9;if(m==-1||this.MC==4){if(this.Bm(e)){if(this.acz)m=10}else{var o=[3,.85][jD];
Z.vY(o*j,o*j);m=Z.GX(p)&&this.MC!=3?11:10;if(m==10&&jD==1)m=-1}}return m};hu.prototype._8=function(h,e,v,J,m){if(this.jf==-1)return;
this.FQ=J;var d=v&&v.r(dW.l$),x=v&&v.r(dW.B2),j=v&&v.r(dW.Dd),E=h.p.e4,L=this.Nr,p=this.jf,Z=this.pU(),o=c.Pj.$T(h,L,e),u=c.Pj.$T(h,J,e),N,M;
if(p==9){var Z=this.pU(),O=-1;for(var T=0;T<Z.length;T++)if(fq.mr(Z[T],u)*E<10)O=T;this.r7=O==-1?9:O;
this.FZ=d?c.Sa.hn(o,u):u.O()}else if(p==10){M=B.w.oS(this.Ru);var F=M.x,W=M.y;M.offset(J.x-L.x,J.y-L.y);
if(this.a4n()){M.x=Math.round(M.x);M.y=Math.round(M.y)}N=c.Pj.xH(h,M,e);var f=new aJ(1,0,0,1,M.x-F+N[0],M.y-W+N[1]);
B.w.C(this.Ru,f,this.sf)}else if(p==11){var $=this.Xj(this.Ru),H=$.am(J),A=$.am(L),G=Math.atan2(H.y,H.x),l=Math.atan2(A.y,A.x),f=new aJ(1,0,0,1,-$.x,-$.y),K=Math.PI/12;
if(d)f.rotate(Math.round((l-G)/K)*K);else f.rotate(l-G);f.translate($.x,$.y);B.w.C(this.Ru,f,this.sf)}else{var U=d,z;
if(m&&!j)U=!U;if(this.aCu)U=!0;var q=this.Ru,P=p==0||p==2||p==6||p==8;if(this.MC==1){if(P)d=x=j=!0}else if(this.MC==2&&P&&this.av6!=!0)j=!0;
if(this.MC==3)j=!1;else if(this.MC==5){d=j=!0}if(this.axV&&P&&j){var T=[0,0,2,0,0,0,6,0,4,0][p],g=-1,a=u.x,w=u.y;
if(d){var y=T+6&7,S=T+10&7,i=hu.aCe(q[T],q[T+1],q[y],q[y+1],u.x,u.y),C=hu.aCe(q[T],q[T+1],q[S],q[S+1],u.x,u.y),Y=i[2]<C[2]?i:C;
a=Y[0];w=Y[1];if(x)g=i[2]<C[2]?y:S}else if(x)g=T+4&7;z=q.slice(0);if(g!=-1){var _=q[g],t=q[g+1],I=(q[T]+_)/2,r=(q[T+1]+t)/2;
z[g]=I-(a-I);z[g+1]=r-(w-r)}z[T]=a;z[T+1]=w}else if(P&&x){var $=this.eV,n=$.x,Q=$.y,D=o.x-n,dG=o.y-Q,R=1,X=1;
if(Math.abs(D)>=1)R=(u.x-n)/D;if(Math.abs(dG)>=1)X=(u.y-Q)/dG;if(U)R=X=(R+X)/2;var f=new aJ;f.translate(-n,-Q);
f.scale(R,X);f.translate(n,Q);z=q.slice(0);B.w.C(z,f,z)}else{if(this.a4n()){u.x=Math.round(u.x);u.y=Math.round(u.y)}var dx=[0,1,2,5,8,7,6,3],jv=dx[(dx.indexOf(p)+4)%8],gB=[];
for(var T=0;T<3;T++)for(var g=0;g<3;g++)gB.push(new fq(g/2,T/2));var $=this.eV,hQ=x&&(this.r7==4||this.r7==9)?this.fS($,q):gB[jv],ah=x&&(this.r7==4||this.r7==9)?$:Z[jv];
if(P&&U){function kG(jX,jw,i7){var kn=jw[0]-jX[0],eK=jw[1]-jX[1],ee=B.w.aW(i7[0],i7[1],-eK,kn,jX[0],jX[1],kn,eK);
return[i7[0]-eK*ee,i7[1]+kn*ee]}while(!0){var iZ=kG([ah.x,ah.y],[L.x,L.y],[u.x,u.y]);iZ=new fq(iZ[0],iZ[1]);
iZ=c.Pj.$T(h,iZ,e);if(fq.mr(iZ,u)<1e-6)break;u=iZ}}var bs=this.fS(u,q),ey=this.fS(L,q),jp=new aJ,eh=new aJ,R=(bs.x-hQ.x)/(ey.x-hQ.x);
if(R==0)R=1e-4;var X=(bs.y-hQ.y)/(ey.y-hQ.y);if(X==0)X=1e-4;if(this.aHG){R=Math.max(R,0);X=Math.max(X,0)}if(P){if(U)jp.scale(R,R);
else jp.scale(R,X)}else if(p!=4){var dt=U,jN=j&&d;if(jN)dt=!1;if(p==1||p==7)jp.scale(dt?X:1,jN?1:X);
else jp.scale(jN?1:R,dt?R:1);if(this.aw2&&j){if(p==1||p==7)eh.tg=(bs.x-hQ.x)/(bs.y-hQ.y);else eh.b=(bs.y-hQ.y)/(bs.x-hQ.x)}}var f=new aJ;
f.translate(-hQ.x,-hQ.y);f.concat(jp);f.concat(eh);f.translate(hQ.x,hQ.y);z=[0,0,1,0,1,1,0,1];B.w.C(z,f,z);
var Y=B.D.s6(q);B.D.C(Y,z)}if(hu.pi(z))this.sf=z}this.LL(h,e);if(N)c.Pj.t5(h,M,N)};hu.aCe=function(h,e,v,J,m,d){var x=v-h,j=J-e,E=m-h,L=d-e,p=x*x+j*j,Z=E*x+L*j,o=Z/p,u=h+o*x,N=e+o*j,M=m-u,O=d-N;
return[u,N,Math.sqrt(M*M+O*O)]};hu.prototype.a4n=function(){var h=this.sf;return Math.abs(h[1]-h[3])<1e-6&&Math.abs(h[2]-h[4])<1e-6||Math.abs(h[0]-h[2])<1e-6&&Math.abs(h[3]-h[5])<1e-6};
hu.pi=function(h){return B.w.akM(h)||B.w.akM([h[6],h[7],h[4],h[5],h[2],h[3],h[0],h[1]])};hu.prototype.ej=function(h,e,v,J){this.jf=-1;
this.FQ=null;h.M.AF=null;h.M.xT=[];h.GI=!0};hu.prototype.lK=function(h,e,v){var J=v.Sl(h?h.p.dW:0);if(J.x||J.y){var m=new aJ(1,0,0,1,J.x,J.y);
B.w.C(this.sf,m,this.sf);this.LL(h,e);return!0}return!1};hu.prototype.pU=function(h){if(h==null)h=this.sf;
var e=h[6]-h[0],v=h[7]-h[1],J=h[4]-h[2],m=h[5]-h[3],d=[h[0],h[1],h[2],h[3],h[0]+e/2,h[1]+v/2,h[2]+J/2,h[3]+m/2,h[6],h[7],h[4],h[5]],x=[];
for(var T=0;T<3;T++){var j=T*4,E=d[j+0],L=d[j+1],p=d[j+2],Z=d[j+3];x.push(new fq(E,L));x.push(new fq(E+(p-E)/2,L+(Z-L)/2));
x.push(new fq(p,Z))}return x};hu.prototype.LL=function(h,e,v){if(h.M==null)return;if(v==null)v=!1;var J=this.mP,m=this.pU(),d=m[0],x=m[2],j=m[6],E=m[8],L={WQ:[],g:[]};
if(J==0)h.M.Qd=L;else h.M.GW=L;var p=B.D.s6([d.x,d.y,x.x,x.y,E.x,E.y,j.x,j.y]);L.WQ.push("M","L","L","L","Z");
L.g.push(0,0,1,0,1,1,0,1);var Z=this.a6n;if(Z>1){h.M.Z2=B.t(L);B.D.C(p,h.M.Z2.g);for(var T=1;T<Z;T++){var o=T/Z;
L.WQ.push("M","L","M","L");L.g.push(0,o,1,o,o,0,o,1)}}B.D.C(p,L.g);h.p._C=new fP(0,0,fq.mr(m[0],m[2]),fq.mr(m[0],m[6]));
if(this.jf!=-1&&this.jf<9&&this.FQ){var u=h.p.IK(this.FQ.x,this.FQ.y);c.Yu.fO(u,h.p._C,h,e)}if(!v){var N=[];
if(J==0)h.M.S0=N;else h.M.Sm=N;for(var T=0;T<m.length;T++)if(T!=4)N.push(m[T].x,m[T].y);var M=this.Xj();
N.push(M.x,M.y)}h.GI=!0};hu.prototype.clear=function(h){h.p._C=null;h.M.AF=null;h.M.Qd=null;h.M.GW=null;
h.M.Z2=null;h.M.S0=[];h.M.Sm=[];h.GI=!0};function is(h){this.aI=null;this.jf=-1;this.NJ=null;this.ayT=null;
this.Vj=null;this.Xl=-1;this.a2v=null;this.a40(h)}is.prototype.Tr=function(){return B.t(this.aI)};is.prototype.a40=function(h){this.aI=B.t(h)};
is.prototype.arh=function(h){this.Xl=h};is.prototype.Bm=function(h){return!0};is.prototype.hb=function(h,e,v,J){var m=this.wn(h,e,J);
if(m==-1)return"default";return"pointer"};is.prototype.HL=function(h,e,v,J,m,d,x){if(this.Xl!=-1)return!0;
this.jf=this.wn(J,h.p.e4,x);var j=B.aI.hW(this.aI),E=B.ih.gr(j,J),L=0<E[0]&&E[0]<1&&0<E[1]&&E[1]<1;this.NJ=L?E:null;
this.ayT=JSON.stringify(j);this.a2v=JSON.stringify(this.aI);this.Vj=J;return this.jf!=-1||L};is.prototype.wn=function(h,e,v){var J=v?c.im({p:{e4:e}},v)*2:20*c.A_()/e,m=this.aI,d=is.aHP(m),x=-1;
if(d){x=B.w.P0(d,h.x,h.y,J);if(x!=-1)x+=1e6}else{var j=B.aI.hW(m);x=B.w.P0(j[3],h.x,h.y,J);if(x!=-1&&this.qf(j,x)==null)x=-1}return x};
is.prototype._8=function(h,e,v,J){if(this.Xl!=-1)return;var m=this.aI,d=this.jf,x=this.NJ,j=JSON.parse(this.ayT),E=j[0],L=j[1],p=j[3];
if(d>=1e6){var Z=m.warpStyle.v.warpStyle,o=B.aI.YO(m);if(Z=="warpCylinder"){this.aI=m=JSON.parse(this.a2v);
var u=c.L2.RT(m.warpValues),N=(u[2]-u[0])/(u[1]-u[3]),M=u[4]*N*o._,O=u[5]*N*o._,F=J.x-this.Vj.x,W=J.y-this.Vj.y;
u[0]=o.x;u[1]=o.y+o._;u[2]=o.x+o.q;u[3]=o.y;d-=1e6;if(d==0){u[0]+=F;u[1]+=W}if(d==1){u[2]+=F;u[3]+=W}if(d==2){M+=2*W;
O+=2*W}if(d==3){O+=2*W}if(d==4){u[6]=Math.max(0,Math.min(1,u[6]-2*F/o.q))}var f=B.w.oS(u.slice(0,4)),$=f.q/o.q,H=f._/o._;
u[4]=M/f.q;u[5]=O/f.q;m.warpValues=c.L2.ni(u);var A=new aJ;A.translate(-o.x,-o.y);A.scale($,H);A.translate(f.x,f.y);
if(d<4)return A}else{var G=m.warpRotate.v.Ornt,l=G=="Vrtc",K=B.aI.a4$[Z],U=l?-J.x/o.q:-J.y/o._;U+=K[1];
if(K[1]>.5)U=-U;U/=K[2];var $=o.q/o._;if(l)$=1/$;if(K[3])U/=$;m.warpValue.v=100*Math.max(-1,Math.min(1,U))}}else if(d!=-1){var z=[d],F=J.x-p[d*2],W=J.y-p[d*2+1];
if(E*L>16){var q=this.qf(j,d);if(q[0]==0){var P=Math.floor(d/E),g=d-P*E;if(g>0)z.push(d-1);if(g<E-1)z.push(d+1);
if(P>0)z.push(d-E);if(P<L-1)z.push(d+E)}}for(var T=0;T<z.length;T++){p[z[T]*2]+=F;p[z[T]*2+1]+=W}B.aI.BV(m,j)}else if(x){B.ih.agI(j,x[0],x[1],J.x-this.Vj.x,J.y-this.Vj.y);
B.aI.BV(m,j)}};is.prototype.ej=function(h,e,v,J){var m=this.Xl;this.NJ=null;this.Xl=-1;if(m!=-1){var d=B.aI.hW(this.aI),x=B.ih.gr(d,J);
if(m==0||m==1)B.ih.split(d,0,x[0]);if(m==0||m==2)B.ih.split(d,1,x[1]);B.aI.BV(this.aI,d)}h.GI=!0;return m!=-1};
is.prototype.lK=function(h,e,v){var J=v.Sl();if(J.x||J.y){var m=new aJ(1,0,0,1,J.x,J.y);B.w.C(this.sf,m,this.sf);
this.LL(h)}};is.prototype.qf=function(h,T){var e=h[0],v=h[1],J=this.jf,m=Math.floor(J/e),d=J-m*e,x=J%3,j=J%3,E=x==0&&j==0,m=Math.floor(T/e),d=T-m*e,x=d%3,j=m%3;
if(x!=0&&j!=0)return null;if(x==0&&j==0)return[0];else{var L=0;if(j==0)L=x==1?T-1:T+1;if(x==0)L=j==1?T-e:T+e;
if(e*v>16){var p=J==T||J==T+1||J==T-1||J==T+e||J==T-e;if(E&&(p||J==T+2||J==T-2||J==T+2*e||J==T-2*e)){}else if(!E&&p){}else return null}return[1,L]}};
is.aHP=function(h,e){var e=h.warpStyle.v.warpStyle,J;if(e=="warpCustom"||e=="warpNone")return null;var v=B.aI.hW(h);
if(e=="warpCylinder"){var m=h.warpValues.v;J=[0,1,1,0,.5,0,.5,1,.75-.25*m[6].v,.5]}else{var d=h.warpRotate.v.Ornt,x=B.aI.a4$[e];
J=d=="Hrzn"?[x[0],x[1]]:[x[1],x[0]]}B.ih.C(v,J,new fP(0,0,1,1));return J};is.prototype.LL=function(h,e){var v=this.aI,J=v.warpStyle.v.warpStyle,m=B.aI.hW(v),d=m[0],x=m[1],j=m[3],E=h.M.GW={WQ:[],g:[]},L=h.M.Sm=[],p=h.M.V9=[],Z=this.jf;
if(J=="warpCustom")for(var o=0;o<x;o++)for(var u=0;u<d;u++){var T=o*d+u,N=this.qf(m,T);if(N==null)continue;
var M=j[2*T],O=j[2*T+1],F=p;if(N[0]==0)F=T==Z&&d*x>16?p:L;else{var W=N[1];E.WQ.push("M","L");E.g.push(M,O,j[2*W],j[2*W+1])}F.push(M,O)}else{var f=is.aHP(v);
if(f)for(var T=0;T<f.length;T++)L.push(f[T])}for(var o=0;o+1<x;o+=3)for(var u=0;u+1<d;u+=3){E.WQ.push("M","C","C","C","C");
var T=o*d+u,$=T+d+d,H=[T,T+1,T+2,T+3,T+d+3,$+3,$+d+3,$+d+2,$+d+1,$+d,$,T+d,T];for(var T=0;T<H.length;
T++){var M=j[H[T]*2],O=j[H[T]*2+1];E.g.push(M,O)}}var A=[],G=[];function l(K,u,q){for(var H=0;H<=q;H++){G.push(H==0?"M":"L");
if(K==0)A.push(u,H/q);else A.push(H/q,u)}}if(e)e=B.ih.gr(m,e);for(var K=0;K<2;K++){var U=m[2][K],z=K==0?d:x,q=z*5;
for(var P=1;P<z;P++){var g=Math.floor((P-1)/3),a=P-(1+g*3);if(a==0)continue;var u=U[g]+a/3*(U[g+1]-U[g]);
l(K,u,q)}var w=this.Xl;if(e&&w!=-1&&(w==0||w-1==K))l(K,e[K],q)}B.ih.C(m,A,new fP(0,0,1,1));B.w.concat(E,{g:A,WQ:G});
h.GI=!0};is.prototype.clear=function(h){h.M.GW=null;h.M.Sm=[];h.M.V9=[];h.GI=!0};function i_(){this.uh=!1;
this.sv=!1;this.aiF=!1;this.aHW=!1;this.LY=!1;this.o9=!1;this.R7=0;this.Ji=0}i_.prototype.HL=function(h){this.uh=!0;
this.sv=!1;this.LY=h.r(dW.l$);this.o9=h.r(dW.B2);this.R7=this.LY?0:1;this.Ji=this.o9?0:1};i_.prototype.lK=function(h){var e=this.aHW=h.r(dW.l$),v=this.aiF=h.r(dW.B2);
if(this.sv){if(this.R7==0&&!e)this.R7++;if(this.R7==1&&e)this.R7++;if(this.Ji==0&&!v)this.Ji++;if(this.Ji==1&&v)this.Ji++}};
i_.prototype._8=function(){this.sv=!0};i_.prototype.ej=function(){this.uh=!1};i_.prototype.l6=function(T){if(T==0)return this.uh?this.o9:this.aiF;
if(T==1)return this.sv?this.Ji==2:!1};i_.prototype.uj=function(T){if(T==0)return this.uh?this.LY:this.aHW;
if(T==1)return this.sv?this.R7==2:!1};c.History=function(){c.Yu.call(this,"History",c.V8);this.Fn=!0;
this.ahe=0};c.History.prototype=new c.Yu;c.History.prototype.iu=function(h,e,v,J){v.NK=!0;if(h.V=="h_itemchange"){if(h.index<v.uM)for(var T=v.uM;
T>h.index;T--)this.PG(v);if(h.index>v.uM)for(var T=v.uM;T<h.index;T++)this.lw(v)}if(h.V=="h_stepfwd")this.lw(v);
if(h.V=="h_stepbck")this.PG(v);if(h.V=="h_undoredo"){var m=this.Fn||this.ahe!=v.uM;if(m){this.PG(v);
m=!1}else{this.lw(v);m=!0}this.Fn=m;this.ahe=v.uM}if(h.V=="h_clear"){if(h.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
v.history=[new aO([1,0],null)];v.uM=0}else this.Fn=!0};c.History.prototype.PG=function(h){if(h.uM==0)return;
var e=h.history[h.uM];e.I.ZL(e.data,h);h.uM--};c.History.prototype.lw=function(h){if(h.uM==h.history.length-1)return;
var e=h.history[h.uM+1];e.I.W1(e.data,h);h.uM++};c.YK=function(){c.Yu.call(this,"Layers",c.Yn);this.IF=null};
c.YK.prototype=new c.Yu;c.YK.prototype.iu=function(h,e,v,J,m){this.IF=e;var d=h.V,x=h.L!=null?h.L:v.X.length!=0?v.X[0]:v.T.length-1,j=v.T[x];
v.L9=!0;var E=J.r(dW.B2),L=J.r(dW.l$),p=J.r(dW.Dd);if(d==s.au&&v.K==null&&(v.X.length>1||!v.kC(!1)||v.T[v.X[0]].XN()))d=s.Zn;
if(d==s.ac){var Z=new aO([6,33],this),o=j.XN()?["pass"].concat(cc.El):cc.El,u=o[h.uO],N=h.L!=null?[h.L]:v.X,M=JSON.stringify(N),O=[];
for(var T=0;T<N.length;T++)O.push(v.T[N[T]].fR);Z.data={V:d,oP:M,nd:O,uO:u};v.Mk(Z);this.W1(Z.data,v);
this.track(h8.Ks("Md",{t:"enum",v:{BlnM:cc.e_(u)}}))}if(d==s.Dw){var Z,F=v.Ax(),N=h.L!=null?[h.L]:v.X,M=JSON.stringify(N);
if(F&&F.data&&F.data.V==d&&F.data.oP==M)Z=F;else{var W=h8.Ks("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(W);var O=[];for(var T=0;T<N.length;T++)O.push(v.T[N[T]].S2);Z=new aO([6,32],this);Z.data={V:d,oP:M,nd:O,uO:h.uO,K8:W.TH};
v.Mk(Z)}Z.data.uO=h.uO;Z.data.K8.T.v.Opct.v.val=Math.round(h.uO*100/255);this.W1(Z.data,v)}if(d==s.bO){if(j.add.iOpa==null)j.add.iOpa=255;
var Z,F=v.Ax();if(F&&F.data&&F.data.V==d&&F.data.L==x)Z=F;else{Z=new aO("Fill Opacity Change",this);
Z.data={V:d,L:x,nd:j.add.iOpa,uO:h.uO};v.Mk(Z)}Z.data.uO=h.uO;this.W1(Z.data,v)}if(d==s.RK){var f=h.uO,$=h.L!=null?[h.L]:v.X.slice(0),H=[],A=[],Z;
for(var G=0;G<$.length;G++){var l=v.T[$[G]];if(l.add.lspf==null)l.add.lspf=0;var O=l.add.lspf,u=O;for(var T=0;
T<f[0].length;T++){var K=f[1][T],U=1<<K;if((u&U)==0&&f[0][T])u^=U;else if((u&U)!=0&&!f[0][T])u^=U}H.push(O);
A.push(u)}var F=v.Ax(),N=JSON.stringify($);if(F&&F.data&&F.data.V==d&&JSON.stringify(F.data.oP)==N){Z=F;
Z.data.uO=A}else{var Z=new aO([6,57,1],this);Z.data={V:d,oP:N,nd:H,uO:A};v.Mk(Z)}this.W1(Z.data,v)}if(d==s.Dt){var z="----",q=h.SB,u=null;
for(var T=0;T<cZ.Im.kr.length;T++)if(j.add[cZ.Im.kr[T]])z=cZ.Im.kr[T];var P=j.add[z];if(q=="TySh")u=fr.YI(50,50,m.Xi);
var Z=new aO("Layer Type",this);Z.data={V:d,L:x,ad6:[z,P],SB:[q,u]};v.Mk(Z);this.W1(Z.data,v)}if(d==s.KA){var $=[];
if(E){var g=v.Ax(),a=g?g.data:null;if(g!=null&&g.I==this&&a.V==s.KA&&a.oP.length!=1){var w=new g3(k.E.A);
w.I=c.V8;w.data={V:"h_stepbck"};e.a(w);if(a.L==x)return}var y=v.root.Ix(x),S=y,i=[h.L];while(S.parent!=v.root){i.push(S.parent.index);
S=S.parent}for(var T=0;T<v.T.length;T++){var C=v.T[T],S=v.root.Ix(T),Y=i.indexOf(T)!=-1?!0:C.oA()&&y.depth<S.depth;
if(Y!=C.oA())$.push(T)}}else if(h.oP)$=h.oP;else{$.push(x);var _=v.T[x].oA(),W={UH:_?"hide":"show",TH:{classID:_?"Hd":"Shw",null:{t:"VlLs",v:[h8.$j("Lyr",!0)]}}};
this.track(W)}var Z=new aO("Layer visibility",this,!0);Z.data={V:d,oP:$,L:x};v.Mk(Z);this.W1(Z.data,v)}if(d==s.hg){if(m.jR==c.Sc){var t=new g3(k.E.u);
t.data={V:k.l.px,I:c.GA};e.a(t)}var I=h.azo,r=h.JX,D,escape=!1,dG=!1;if(h.pp){if(p&&(r==0||r==1||r==2)){var n=0;
if(L)n++;if(E)n+=2;var Q=new g3(k.E.A,!0);Q.I=c.Wm;Q.data={V:"fromlayer",d9:[h.L,r,n]};e.a(Q);return}}var W={UH:"select",TH:{classID:"null",MkVs:{t:"bool",v:!1}}};
v.a9R();if(J.r(dW.Dd)||h.lB==0){var R=v.X.indexOf(x);if(R==-1)v.X.push(x);else if(v.X.length>1){if(h.lB!=0)v.X.splice(R,1)}v.X.sort(function(Z,bK){return Z-bK});
W.TH.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};D=x}else if(L&&!E&&r>0){d=r==1?s.KQ:r==2?s.ul:s.CD;
escape=!0}else if((L||h.lB==1)&&v.X.length>0){var X=Math.min(x,v.X[0]),dx=Math.max(x,v.X[v.X.length-1]);
v.X=[];for(var T=X;T<=dx;T++)if(v.T[T].add.lsct!=d7.FJ)v.X.push(T);W.TH.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
D=x}else{D=x;if(x>=v.T.length)return;var C=v.T[x];if(C&&C.XN()&&h.atp)C.add.lsct=d7.W$;else if(v.X.length==1&&v.X[0]==x&&Math.max(0,r)==C.TM){dG=!0;
v.L9=!1}if(!dG){v.X=[x];v.n6()}}if(!dG){if(D!=null&&D<v.T.length){W.TH.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:v.T[D].getName()}}]},this.track(W)}if(!escape){console.log("no escape");
if(v.X.length==1){var jv=v.X[0];for(var T=0;T<v.T.length;T++){if(T==jv)continue;var l=v.T[T];l.TM=0;
l.xc=!1}var j=v.T[jv];if(r==2){j.xc=!j.xc;v.cg=[]}else if(j){j.TM=r<=0?0:r}}else for(var T=0;T<v.T.length;
T++){var l=v.T[T];l.TM=0;l.xc=!1}v.Z3=null;v.NK=!0}}if(h.pp&&E){if((r==1||r==3)&&I!=null){var Q=new g3(k.E.A,!0);
Q.I=c.ZM;Q.data={V:"mskView",J:I!=0?0:L?1:2};e.a(Q)}else{this.iu({V:s.QR,L:h.L},e,v,J,m)}}}if(d==s.KQ||d==s.CD){var gB=d==s.KQ,hQ=gB?j.NH():j.o7(v).N;
if(hQ==null)return;var Z=new aO(hQ.isEnabled?gB?[6,15]:[6,42]:gB?[6,14]:[6,41],this);Z.data={V:d,L:x};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.ul){var hQ=j.add.vmsk;if(hQ==null)return;var Z=new aO(hQ.isEnabled?[6,17]:[6,16],this);
Z.data={V:d,L:x};v.Mk(Z);this.W1(Z.data,v)}if(d==s.a9r){var ah=j.add.lsct==d7.W$?d7.kZ:d7.W$,S=v.root.Ix(v.T.indexOf(j)),bs=!1;
if(J.r(dW.Dd)){var kG=S.parent;for(var T=0;T<kG.children.length;T++){var iZ=kG.children[T].L;if(iZ.XN())iZ.add.lsct=ah}}else j.add.lsct=ah;
for(var T=0;T<v.X.length;T++){var ey=v.X[T];if(S.kl<ey&&ey<S.index)bs=!0}if(bs)v.X=[S.index];v.NK=!0}if(d==s.QR){if(!v.Qu(x))return;
var Z=new aO(j.ql?[6,19]:[6,18],this);Z.data={V:d,L:x};v.Mk(Z);if(h.uO==null||h.uO!=j.ql)this.W1(Z.data,v)}if(d==s.a9A){if(j.Uo())j.IT-=32;
else j.IT+=32;v.NK=!0}if(d==s.wi||d==s.KJ){var Z;if(d==s.wi)Z=new aO(j.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(d==s.KJ)Z=new aO(j.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);Z.data={V:d,L:x};v.Mk(Z);this.W1(Z.data,v)}if(d==s.Ur||d==s.uw){var jv=h.index,Z;
if(d==s.Ur)Z=new aO(j.add.lmfx[fL.oN[jv[0]]].v[jv[1]].v.enab.v?[6,30,0]:[6,29],this);if(d==s.uw)Z=new aO(j.add.SoLd.filterFX.v.filterFXList.v[jv].v.enab.v?[6,44]:[6,43],this);
Z.data={V:d,L:x,index:h.index};v.Mk(Z);this.W1(Z.data,v)}if(d==s.Ql){if(h.src==h.ix)return;var jp=v.T[h.src],eh=v.T[h.ix],dt=jp.add.lmfx?JSON.stringify(jp.add.lmfx):"",jN=eh.add.lmfx?JSON.stringify(eh.add.lmfx):"";
if(eh.add.lmfx==null){eh.add.lmfx=JSON.parse(fL.default);for(var T=0;T<fL.order.length;T++)eh.add.lmfx[fL.oN[T]]={t:"VlLs",v:[]}}if(h.d1==null){eh.add.lmfx=JSON.parse(dt);
if(!E)delete jp.add.lmfx}else{var jX=h.d1[0],jw=fL.oN[jX];if(fL.avq.indexOf(fL.order[jX])==-1)eh.add.lmfx[jw].v=[];
eh.add.lmfx[jw].v.push(jp.add.lmfx[jw].v[h.d1[1]]);if(!E)jp.add.lmfx[jw].v.splice(h.d1[1],1)}var i7=jp.add.lmfx?JSON.stringify(jp.add.lmfx):"",kn=eh.add.lmfx?JSON.stringify(eh.add.lmfx):"";
if(!eh.Uo())eh.IT+=32;var Z=new aO("Move Layer Styles",this);Z.data={V:d,mR:h.src,pj:h.ix,a7G:dt,a6L:jN,anh:i7,aCk:kn};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.q9){if(h.src!=null)x=h.src;var l=v.T[x],eK=JSON.stringify(l.add.SoLd),ee=JSON.parse(eK),az=ee.filterFX.v.filterFXList.v;
az.splice(h.d1,1);var Z=new aO([6,53],this);Z.data={V:s.tl,dt:[{pT:x,rS:[eK,JSON.stringify(ee)]}]};v.Mk(Z);
this.W1(Z.data,v)}if(d==s.ah8){var k7=E,jp=v.T[h.src],eh=v.T[h.ix],al=[];if(jp!=eh&&eh.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jp==eh&&!k7&&h.d1==h.St)return;if(jp==eh&&h.d1==-1)return;var kl=jp.o7(v),eK=JSON.stringify(jp.add.SoLd),ee=JSON.parse(eK),az=ee.filterFX.v.filterFXList.v;
if(jp==eh){az.splice(h.St,0,az[h.d1]);if(!k7)az.splice(h.d1+(h.d1<h.St?0:1),1);al.push({pT:h.src,rS:[eK,JSON.stringify(ee)]})}else if(h.d1==-1){var b9=ee.filterFX;
if(!k7){delete ee.filterFX;al.push({pT:h.src,rS:[eK,JSON.stringify(ee)],hv:[kl,null]})}var h9=eh.vO()?eh.o7(v):null,ge=e7.a7R(kl),iN=JSON.stringify(eh.add.SoLd),a8=JSON.parse(iN);
a8.placed.v=ge.id;a8.filterFX=b9;al.push({pT:h.ix,rS:[iN,JSON.stringify(a8)],hv:[h9,ge]})}else{var dK=az[h.d1];
if(!k7){az.splice(h.d1,1);al.push({pT:h.src,rS:[eK,JSON.stringify(ee)]})}var iN=JSON.stringify(eh.add.SoLd),a8=JSON.parse(iN);
if(a8.filterFX==null)a8.filterFX=f8.Tw();var f6=a8.filterFX.v.filterFXList.v;f6.splice(h.St,0,dK);var fS={pT:h.ix,rS:[iN,JSON.stringify(a8)]};
if(!eh.vO()){var ge=e7.a8k(eh.add.SoLd.placed.v);fS.hv=[null,ge]}al.push(fS)}var Z=new aO([6,52],this);
Z.data={V:s.tl,dt:al};v.Mk(Z);this.W1(Z.data,v)}if(d==s.HI){var hQ=j.NH(),Z=new aO(hQ.jA?[6,26]:[6,25],this);
Z.data={V:d,L:x};v.Mk(Z);this.W1(Z.data,v);this.track({UH:"set",TH:{classID:"setd",null:{t:"obj ",v:[h8.$j("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:hQ.jA}}}}})}if(d==s.KZ){var hQ=j.add.vmsk,Z=new aO(hQ.jA?[6,28]:[6,27],this);
Z.data={V:d,L:x};v.Mk(Z);this.W1(Z.data,v)}if(d==s.CV){var Z=new aO("Variables / Datasets",this),cf=JSON.stringify([v.pr,v.X0]);
if(cf==h.J)return;Z.data={V:d,a5Y:cf,alN:h.J};v.Mk(Z);this.W1(Z.data,v)}if(d==s.W7){var iG=[],Z;for(var T=0;
T<v.X.length;T++){var G=v.X[T],C=v.T[G];if(C.add.vogk)iG.push(G,JSON.stringify(C.add.vogk))}for(var T=0;
T<v.cg.length;T++){var G=v.cg[T],C=v.H0[G];if(C.add.vogk)iG.push(-1-G,JSON.stringify(C.add.vogk))}B.WU.azc(v,h.J,h.are);
var eC=[];for(var T=0;T<v.X.length;T++){var G=v.X[T],C=v.T[G];if(C.add.vogk)eC.push(G,JSON.stringify(C.add.vogk))}for(var T=0;
T<v.cg.length;T++){var G=v.cg[T],C=v.H0[G];if(C.add.vogk)eC.push(-1-G,JSON.stringify(C.add.vogk))}var F=v.Ax();
if(F&&F.data&&F.data.V==d){var kH=!0;for(var T=0;T<iG.length;T+=2)if(iG[T]!=F.data.vL[T])kH=!1;if(kH){Z=F;
Z.data.Ml=eC}}if(Z==null){var Z=new aO([12,91,1],this);Z.data={V:d,vL:iG,Ml:eC};v.Mk(Z)}this.W1(Z.data,v)}if(d==s.KC){var i0=JSON.stringify(j.add.artb),e5=JSON.stringify(h.Ea),Z;
v.T[x].add.artb=JSON.parse(e5);var gA=new fP(0,0,v.q,v._),bW=c.Zk.O$(v),F=v.Ax();if(F&&F.data&&F.data.V==d&&F.data.L==x){Z=F;
Z.data.Ea=e5}if(Z==null){var Z=new aO("Editing Artboard",this);Z.data={V:d,L:x,afP:i0,Ea:e5,H$:gA};v.Mk(Z)}Z.data.Uc=bW;
this.W1(Z.data,v)}if(d==s.tn){var eC=v.Ar.slice(0),e3=v.kH.slice(0),iL=v.K,h4=v.K,Y=v.p.Y.slice(0);if(h.rf=="seltochannel"){var iT=h.d9[0],hC=eC[iT]=eC[iT].O(),S=B.HE.Vy(v.K,hC,h.d9[1]);
hC.G=S.G;hC.R=S.R}if(h.rf=="fromAction"){var dS=h.J.UH,il=h.J.TH;if(dS=="make"||dS=="duplicate"){var i6=eC.length,bH=!1,b5=!1;
if(v.l9())i6--;var co=new s.xK;co.name="Alpha "+(i6+1);if(dS=="make"){var ej=il.Nw.v;co.color=0;e3=[i6];
co.bx=!0;co.lI=ej.Opct.v;if(ej.Nm)co.name=ej.Nm.v;if(ej.classID=="SCch"){bH=!0;h4=null;co.R4=1}for(var T=0;
T<v.Ar.length;T++)v.Ar[T].bx=!1;Y=[0,0,0]}else{var C=v.T[v.X[0]],id=C.TM==1?C.NH():C.TM==3?C.o7(v).N:null,dH=il.null.v[0].v;
if(il.Nm)co.name=il.Nm.v;if(dH.keyID=="fsel")bH=!0;else if(id){co.G=id.G.slice(0);co.R=id.R.O();co.color=id.color}else{var hA=c.tM.ac1(v);
h4=c.tM.aoI(v,hA);co.color=0;co.R=h4.R;co.G=h4.G}}if(bH){co.color=0;if(v.K){co.R=v.K.R.O();co.G=v.K.G.slice(0)}if(b5){co.color=255-co.color;
B.ia(co.G)}}eC.splice(i6,0,co)}else if(dS=="delete"){if(j&&j.NH()&&j.TM==1){this.iu({V:s.Of},e,v,J,m);
return}var fn=v.kH;fn.sort(function(Z,bK){return bK-Z});if(fn.length==0)return;for(var T=0;T<fn.length;
T++)eC.splice(fn[T],1);e3=[];Y=[1,1,1]}else if(dS=="show"||dS=="hide"){var d3=il.null.v,iF=null,hF=!1;
for(var T=0;T<d3.length;T++){var bz=d3[T].v[0].v,hN=bz.enum;if(hN=="Trgt"){if(eC[e3[0]]==null)continue;
eC[e3[0]]=eC[e3[0]].O();eC[e3[0]].bx=dS=="show";hF=!0}else{var iT=["Rd","Grn","Bl"].indexOf(hN);if(iF==null)iF=v.p.Y.slice(0);
iF[iT]=dS=="show"?1:0}}if(iF){var w=new g3(k.E.A,!0);w.I=c.I5;w.data={V:"setcls",Y:iF};e.a(w);if(!hF)return}}}if(h.rf=="rnm"){eC[h.yl]=eC[h.yl].O();
eC[h.yl].name=h.name}var Z=new aO("Channel Edit",this);Z.data={V:d,vL:v.Ar.slice(0),Np:v.kH.slice(0),Ml:eC,nW:e3,B1:iL,at:h4,adU:v.p.Y.slice(0),aqW:Y};
this.W1(Z.data,v);v.Mk(Z)}if(d==s.Uu){var cA=new fP(0,0,v.q,v._),Z=new aO(h.SQ,this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:h.P1,Nn:v.X.slice(0),Pi:h.at};
v.Mk(Z);this.W1(Z.data,v);var km=c.Zk.gV(v);if(km){Z.data.H$=cA;Z.data.Uc=km}}if(d==s.Zt){var gm=v.lX(null,h.L),jl=1e10;
if(gm.length==0)return;if(v.T.length==gm.length){alert("Project must have at least 1 layer");return}var gS=[];
for(var T=0;T<v.T.length;T++)if(gm.indexOf(T)==-1)gS.push(v.T[T]);for(var T=0;T<gm.length;T++)jl=Math.min(jl,gm[T]);
while(jl>gS.length-1)jl--;jl=Math.max(jl,0);while(gS[jl].name=="</Layer group>")jl++;this.track({UH:"delete",TH:{classID:"Dlt",null:h8.$j("Lyr",!0)}});
var gA=new fP(0,0,v.q,v._),Z=new aO([6,31],this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[jl]};
v.Mk(Z);this.W1(Z.data,v);var bW=c.Zk.O$(v);if(bW){Z.data.Uc=bW;Z.data.H$=gA;c.Zk.gV(v)}}if(d==s.y2){if(!J.r(dW.l$))return;
var Z=new aO("Switch Layer Link",this);Z.data={V:d,L:h.L};v.Mk(Z);this.W1(Z.data,v)}if(d==s.SR){var fn=h.a7V?h.a7V:v.X,jn=0,db=!1;
if(fn.length==0)return;if(fn.length==1&&v.T[fn[0]].sg==0){alert(bj.get([15,7,5]));return}var ad=[];for(var T=0;
T<v.T.length;T++){var el=v.T[T].sg;ad.push(el);jn=Math.max(jn,el)}var dC=-1,cJ=-1;for(var T=0;T<fn.length;
T++){var el=v.T[fn[T]].sg;if(el==0)db=!0;else if(dC==-1||dC==el)dC=el;else cJ=el}if(!db)for(var T=0;
T<fn.length;T++)v.T[fn[T]].sg=0;else if(dC!=-1&&cJ==-1)for(var T=0;T<fn.length;T++)v.T[fn[T]].sg=dC;
else for(var T=0;T<fn.length;T++)v.T[fn[T]].sg=jn+1;var cu=[];for(var T=0;T<v.T.length;T++){var el=v.T[T].sg;
if(cu[el]==null)cu[el]=0;cu[el]++}for(var T=0;T<v.T.length;T++){var el=v.T[T].sg;if(cu[el]==1)v.T[T].sg=0}var jg=ad;
ad=[];for(var T=0;T<v.T.length;T++){var el=v.T[T].sg;ad.push(el);jn=Math.max(jn,el)}var Z=new aO(db?[6,54,0]:[6,54,1],this);
Z.data={V:s.SR,a7s:jg,aaf:ad};v.Mk(Z);this.W1(Z.data,v)}if(d==s.Zn&&(h.L!=null||v.X.length!=0)||d==s.JA){var jP=v.Ae(d==s.Zn?h.L:x,null,h.arI),gc;
if(d==s.JA){var l=jP[0],dS=l.add.SoLd.Idnt.v,er=v.mJ(dS).O();l.add.SoLd.Idnt.v=er.mX=e7.Yh()+dS.slice(8);
v.add.lnk2.push(er)}if(d==s.Zn){var jR={UH:"duplicate",TH:{classID:"null",null:h8.$j("Lyr",!0)}};if(h.Di){jP[jP.length-1].Ip(h.Di);
jR.Nm={t:"TEXT",v:h.Di}}this.track(jR);h.abD=h.L}d=s.m1;h.T=jP;h.iY=v;h.WK=v}if(d==s.m1){var bg,gO,f5=h.iY,kY=h.WK,g2=0,hs=0,gH=f5.uG(),hD=!1,hh,hb=0,bN=0;
if(f5!=kY){console.log("ADDLAYERS different projs");var bg=new fP(0,0,f5.q,f5._),gO=new fP(0,0,kY.q,kY._),hW=[],fY=[],gn=new fP;
for(var T=0;T<h.T.length;T++){var l=h.T[T];gn=gn.R$(l.R);if(l.add.SoLd==null)continue;var dS=l.add.SoLd.Idnt.v;
if(hW.indexOf(dS)==-1){hW.push(dS);fY.push(e7.Yh()+dS.slice(8))}l.add.SoLd.Idnt.v=fY[hW.indexOf(dS)];
var kl=l.o7(f5);if(kl){f5.JK(kl);kY.eF(kl)}}if(gH==-1&&!h.KR&&h.an$&&!gO.qm(gn)){g2=-gn.x;hs=-gn.y}if(hW.length>0){if(kY.add.lnk2==null)kY.add.lnk2=[];
for(var T=0;T<hW.length;T++){var cL=f5.mJ(hW[T]),er=cL.O();er.mX=fY[T];kY.add.lnk2.push(er)}}}var iL=kY.X.slice(0);
iL.sort(function(Z,bK){return Z-bK});var gS=kY.T.slice(0),h4=[],eo=-1;for(var T=0;T<iL.length;T++)eo=Math.max(eo,iL[T]);
if(h.abD!=null)eo=h.abD;if(h.KR){eo=h.KR-1;var fh=kY.T[h.KR].AC();g2+=fh.x;hs+=fh.y}if(gH!=-1&&(f5!=kY||h.KR)){var fU=f5.T[gH].AC();
g2-=fU.x;hs-=fU.y}var f_=kY.XX();for(var T=0;T<f_[0].length;T++){var a3=f_[1][T];if(a3!=-1)f_[1][T]=gS[a3]}eo++;
for(var T=0;T<h.T.length;T++){var C=h.T[T],br=C.add.artb;gS.splice(eo,0,C);h4.push(eo);eo++;if(br){hh=!0;
var ij=br.guideIndeces;if(ij){ij=ij.v;for(var am=0;am<ij.length;am++){f_[0].push(f5.nT[ij[am].v].slice(0));
f_[1].push(C);hD=!0}}}}for(var T=0;T<f_[0].length;T++){var a3=f_[1][T];if(a3!=-1)f_[1][T]=gS.indexOf(a3)}for(var T=0;
T<h.T.length;T++){var C=h.T[T];if(C.add.lsct==d7.FJ){if(hb==0)bN++;hb++}else if(C.XN())hb--}if(bN==1)h4=[eo-1];
var Z=new aO([6,0],this);Z.data={V:s.Uu,OA:kY.T.slice(0),P1:gS,Nn:iL,Pi:h4};if(hD){Z.data.hq=[kY.XX(),f_]}kY.Mk(Z);
this.W1(Z.data,kY);if(g2!=0||hs!=0)c.Pj.tq(kY,kY.lX(),null,g2,hs);if(hh){Z.data.H$=new fP(0,0,kY.q,kY._);
Z.data.Uc=c.Zk.O$(kY);c.Zk.gV(kY)}}if(d==s.S5){var ch=h.L!=null?[h.L]:v.lX(),gS=v.T.slice(0);for(var T=0;
T<ch.length;T++){var C=v.T[ch[T]].O();C.C3(v);gS.splice(ch[T],1,C)}var Z=new aO([6,8],this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:v.X.slice(0)};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.ad9){var gS=v.T.slice(0),C=gS[v.X[0]]=gS[v.X[0]].O(),fE=C.add.lmfx,e6,fh;
delete C.add.lmfx;var cO=v.X[0],gp=cO+1;if(C.XN()){var fI=v.T[v.X[0]].em;fh=fI.a2H;e6=fI.OM;var S=v.root.Ix(cO);
cO=S.kl}else{fh=C.R;e6=B.U(fh.$());B.Bq(C.buffer,e6,3)}var jA=d4.lr(fE,C.add.fxrp,e6,fh,v,fh).c;for(var T=0;
T<fL.order.length;T++){var iQ=fL.order[T],f0=jA[iQ];f0.reverse();for(var am=0;am<f0.length;am++){var hm=f0[am],N=v.ws(),e8=T>7;
if(iQ=="ebbl"){if(hm.YW||hm.Gz){var bM=hm.YW?hm.YW:hm.Gz;if(hm.YW)delete hm.YW;else delete hm.Gz;if(hm.Gz||hm.p9)am--}else if(hm.p9||hm.Dv){var bM=hm.Dv?hm.Dv:hm.p9;
if(hm.Dv){delete hm.Dv;if(hm.p9)am--}e8=!0}hm=bM}N.fR=hm.Cs;N.S2=Math.round(255*hm.Al);N.buffer=hm.su;
N.R=hm.js.O();N.R.offset(fh.x,fh.y);if(iQ=="FrFX"){N.buffer=N.buffer.slice(0);B.ar(hm.Su?hm.Su:hm.WN,N.buffer,3);
if(hm.Su){e8=!0;delete hm.Su;if(hm.WN)am--}}N.ql=!e8;N.Ip(C.getName()+"'s "+bj.get(fL.names[T]));gS.splice(e8?cO:gp,0,N);
if(e8)gp++}}var Z=new aO("Styles to Layers",this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[gp-1]};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.aeV){var ch=v.lX(),gS=v.T.slice(0),ho=new fP(0,0,v.q,v._);for(var T=0;
T<ch.length;T++){var k4=v.T[ch[T]],f7=k4.oA();k4.nP(!0);var hn=v.root.Ix(ch[T]);if(k4.XN())continue;
if(hn==null)continue;var C=k4.O();C.C3(v);var cr=hn.YO(v,!0),bf=v.T;v._g([k4]);v.dn();v.vp();C.buffer=B.U(cr.$()*4);
B.YZ(v.pb(),ho,C.buffer,cr);C.R=cr;C.S2=255;C.add.iOpa=255;C.fR="norm";C.dn();C.em.Db=!0;v._g(bf);if(C.add.lmfx)delete C.add.lmfx;
C.N=C.zl=null;gS.splice(ch[T],1,C);C.nP(f7);k4.nP(f7)}var Z=new aO([6,34],this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:v.X.slice(0)};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.iC){var ch=v.lX(),gS=v.T.slice(0);for(var T=0;T<ch.length;T++){var C=v.T[ch[T]],hL=C.add.TySh;
if(hL==null)continue;var l=new em(hL.lf,m.eN,hL.fB),kB=B.w.FE(hP.s2(l,hL,!0));for(var aw in kB){var bl=kB[aw],iZ=C.O();
delete iZ.add.TySh;iZ.IT=iZ.IT|1<<4;iZ.add.SoCo=B.t(fL.fZ[0]);var a5=iZ.add.SoCo.Clr.v;a5.Rd.v=parseInt(aw.slice(1,3),16);
a5.Grn.v=parseInt(aw.slice(3,5),16);a5.Bl.v=parseInt(aw.slice(5,7),16);var b8=new s.eo;b8.z=B.w.GJ(bl,!1);
if(iZ.add.vmsk!=null){iZ.add.vmsk.aEp();b8.concat(iZ.add.vmsk)}iZ.add.vmsk=b8;iZ.add.vstk=fL.gL.UX(!0);
iZ.d6();iZ.vT(v);gS.splice(gS.indexOf(C),0,iZ)}gS.splice(gS.indexOf(C),1)}var h4=v.X.slice(0);for(var T=h4.length-1;
T>=0;T--)if(h4[T]>=gS.length)h4.splice(T,1);var Z=new aO([6,40],this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:h4};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.an3){var j7=v.X.length,aN,fp;if(j7<2){alert("Select two or more layers.");
return}for(var T=0;T<j7;T++){var fU=v.T[v.X[T]].R;aN=T==0?fU:aN.UP(fU);fp=T==0?fU:fp.R$(fU)}if(aN.$()*1.2>fp.$()){alert("stacking images");
var aU=[],bY=[];for(var T=0;T<j7;T++){var C=v.T[v.X[T]];aU.push(C.buffer);bY.push(C.R)}var kD=B.am9.aY(aU,bY),aW=kD[0],bo=kD[1],ef=[];
for(var T=0;T<j7;T++){var hQ=new s.xK;hQ.color=255;hQ.R=bo;hQ.G=aW[T];ef.push(v.X[T],null,hQ)}var Z=new aO("Focus-Stack",this);
Z.data={V:s.Wd,Fy:ef};v.Mk(Z);this.W1(Z.data,v);return}if(!v.YB())return;var iZ=v.T[v.X[0]].O(),gS=[];
for(var T=0;T<v.T.length;T++)if(v.X.indexOf(T)==-1)gS.push(v.T[T]);gS.splice(v.X[0],0,iZ);for(var T=1;
T<j7;T++)if(v.T[v.X[T]].R.$()>2e6){alert("Blended areas are too large.");return}for(var T=1;T<j7;T++){var C=v.T[v.X[T]],bo=C.R.O();
bo.vY(1,1);var bK=B.U(bo.$()*4);B.YZ(C.buffer,C.R,bK,bo);iZ.extend(bo);var b0=B.U(bo.$()*4);B.YZ(iZ.buffer,iZ.R,b0,bo);
var Z=B.U(bo.$());B.Bq(bK,Z,3);B.round(Z,200);B.ar(Z,bK,3);B.B.lU("norm",bK,bo,b0,bo,bo,1);B.JS.aJ(b0,Z,bo);
B.YZ(b0,bo,iZ.buffer,iZ.R)}var Z=new aO([2,10,0],this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[v.X[0]]};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.mB){var gS=v.T.slice(0),e3=v.X.slice(0);for(var T=0;T<gS.length;T++){var C=gS[T],jL=C.add.vmsk;
if(C.Yb()&&jL&&C.add.vstk.strokeEnabled.v&&!C.add.vstk.fillEnabled.v){var bd=jL.z,d0=0,gQ=-1;for(var am=0;
am<bd.length;am++){if((bd[am].c==0||bd[am].c==3)&&bd[am].Jb!=-1){d0++;if(bd[am].c==3&&gQ==-1){bd[am].rH=bd[am].Jb=1;
gQ=am}}}if(d0>1&&gQ!=-1&&d0<10){console.log("separating an open path into a new layer");C=C.O();jL=C.add.vmsk;
bd=jL.z;var N=bd[gQ].length,kz=C.O();kz.add.lyid=v.h2();jL.z=bd.slice(0,2).concat(bd.slice(gQ,gQ+N+1));
jL.X=[];C.vT(v);C.dn();var hf=kz.add.vmsk.z;kz.add.vmsk.z=hf.slice(0,gQ).concat(hf.slice(gQ+N+1,hf.length));
kz.add.vmsk.X=[];kz.vT(v);gS[T]=C;gS.splice(T+1,0,kz);for(var am=0;am<e3.length;am++)if(e3[am]>T)e3[am]++;
var jr=e3.indexOf(T);if(jr!=-1){e3.splice(jr+1,0,T+1)}}}}if(gS.length!=v.T.length){var Z=new aO("Splitting open paths",this);
Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:e3};v.Mk(Z);this.W1(Z.data,v)}}if(d==s.k$){this.iu({V:s.mB},e,v,J,m);
var iL=v.X.slice(0),bf=v.T.slice(0),ch=v.lX();if(ch.length==0)return;v.arm(ch,!1,h.v9);var Z=new aO([6,36,0],this);
Z.data={V:s.Uu,OA:bf,P1:v.T.slice(),Nn:iL,Pi:v.X.slice(0)};v.Mk(Z);this.W1(Z.data,v)}if(d==s.a2W){var eK=j.add.SoLd;
if(eK==null)return;var dS=eK.Idnt.v,gE=v.mJ(dS);gE.pb(!1);var fO=gE.pd[0],bo=gE.pd[1];if(B.kx(fO)){alert("The smart object contains transparency.");
return}var bA=gI.g6("jpg").oZ([[fO.buffer]],bo.q,bo._,[90]);this.iu({V:s.NU,data:new Uint8Array(bA),PY:"image.jpg"},e,v,J,m);
console.log(v.add);return}if(d==s.NU){var ho=h.Zw,dS=h.id;if(ho==null)ho=v;if(dS==null)dS=j.add.SoLd.Idnt.v;
var cL=ho.mJ(dS),er=cL.O();er.raw=h.data;er.PY=h.PY;var bD=gI.pI(h.data.buffer);if(bD=="psd"){er.DE="8BIM";
er.oH="8BPB"}else{er.DE="    ";er.oH="    "}er.pb(!1);cL.pb(!1);var Z=new aO([6,36,1],this);Z.data={V:s.NU,id:dS,jl:cL,IG:er};
ho.Mk(Z);this.W1(Z.data,ho)}if(d==s.XO){var Z=new aO([6,36,4],this);Z.data={V:d,L:x,xz:j.add.SoLd.Impr.v.classID,uO:h.uO};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.a7S){var cN,hB;if(h.k7){cN=h.Zw;hB=h.k7}else{h.Zw.Bb();h.Zw.gU();h.Zw.dn();
h.Zw.vp();h.Zw.pb();cN=gI.g6("PSD").oZ(h.Zw,0,0,[!0,!0]);hB=h.Zw.name}if(!(cN instanceof ArrayBuffer))throw"e";
cN=new Uint8Array(cN);var R=h.NP;if(R==null){if(v.X.length==0)R=v.X.length;else{var ey=v.X[v.X.length-1],N=v.T[ey];
R=N.XN()?ey:ey+1}}var cd=new fP(0,0,v.q,v._),cQ=v.uG();if(cQ!=-1)cd=v.T[cQ].AC();var bT=v.dz(cN,hB,null,null,cd,m.eN,e),gS=v.T.slice(0);
gS.splice(R,0,bT);var Z=new aO([6,36,2],this);Z.data={V:s.Uu,OA:v.T.slice(),P1:gS,Nn:v.X.slice(0),Pi:[gS.indexOf(bT)]};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.r0&&h.rf=="merge"){var d8=[],kQ=v.root.children,cX=0;for(var T=0;T<kQ.length;
T++){var S=kQ[T],C=S.L,a1=S.children,gt=!0;if(!C.XN()||a1.length==0)continue;for(var am=0;am<a1.length;
am++)if(!a1[am].L.getName().startsWith("_a_")){gt=!1;break}if(gt)d8.push(v.T.indexOf(C))}var fe=[];for(var T=0;
T<d8.length;T++)if(v.X.indexOf(d8[T])!=-1)fe.push(d8[T]);if(fe.length>=2)d8=fe;if(d8.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var je=[];for(var T=0;T<d8.length;T++)je.push(v.T[d8[T]].getName());var f0=[];for(var ix=0;ix<d8.length;
ix++){var S=v.root.Ix(d8[ix]),fS=[[],[],0,ix];f0.push(fS);for(var T=0;T<S.children.length;T++){var G=S.children[T].index,C=S.children[T].L,co=C.getName(),gh=20,bF=co.split(",");
if(bF.length>1){var dg=parseInt(bF.pop());if(!isNaN(dg)&&dg!=0)gh=dg}if(gh<17)gh=17;fS[0].push(C);fS[1].push(gh);
fS[2]+=gh}}f0.sort(function(Z,bK){return bK[2]-Z[2]});if(f0[0][2]>2e3){var kb=0,iw=0;for(var T=0;T<f0.length;
T++){var cv=f0[T][1].length/f0[T][2];if(cv>iw){iw=cv;kb=T}}var f2=(f0[0][2]/1e3).toFixed(1),hg=window.confirm("- \""+je[f0[0][3]]+"\" is "+f2+" seconds long\n"+"- \""+je[f0[kb][3]]+"\" is playing at "+Math.round(iw*1e3)+" frames per second\n"+"A merged animation must be "+f2+" sec, up to "+Math.round(f0[0][2]*iw)+" frames. Proceed?");
if(!hg)return}var cI=f0[0],ek=cI[2];for(var a3=1;a3<f0.length;a3++){var fS=f0[a3],kL=1,av=fS[1].slice(0),gJ=0;
while((kL+1)*fS[2]<=cI[2]){kL++;av=av.concat(fS[1])}fS[1]=av;fS[2]*=kL;var dr=cI[2]/fS[2];for(var T=0;
T<fS[1].length;T++){var e4=Math.floor(fS[1][T]*dr);fS[1][T]=e4;gJ+=e4}while(gJ<ek){gJ++;fS[1][fS[1].length-1]++}fS[2]=gJ}var kh=[],hV=[],e4=[];
for(var T=0;T<f0.length;T++){kh.push(0);hV.push(0)}while(cX<ek){var hK=1e9,i6=-1;for(var T=0;T<f0.length;
T++){var jf=f0[T][1],cO=kh[T];if(cO!=jf.length&&hV[T]+jf[cO]<cX+hK){i6=T;hK=hV[T]+jf[cO]-cX}}hV[i6]+=f0[i6][1][kh[i6]];
kh[i6]++;if(hK!=0){e4.push(hK);cX+=hK}}for(var T=1;T<e4.length;T++){var kI=e4[T];if(kI<16&&(e4[T-1]<16||T<e4.length-1&&16<=e4[T+1])){e4[T-1]+=kI;
e4.splice(T,1);T--}}var f7=[],ho=new fP(0,0,v.q,v._);for(var T=0;T<v.T.length;T++){f7[T]=v.T[T].oA();
v.T[T].nP(!1)}var dp=v.X.slice(0);v.X=d8;var gm=v.lX();gm.sort(function(Z,bK){return Z-bK});var gS=[];
for(var T=0;T<v.T.length;T++){if(gm.indexOf(T)==-1)gS.push(v.T[T])}f0.sort(function(Z,bK){return Z[3]-bK[3]});
function kS(jf,kd){var T=0,h2=0;while(h2+jf[T]<=kd){h2+=jf[T];T++}return T}cX=0;gS.splice(gm[0],0,v.gB());
for(var j$=0;j$<e4.length;j$++){var $=[];for(var T=0;T<f0.length;T++){var cO=kS(f0[T][1],cX)%f0[T][0].length,C=f0[T][0][cO];
$.push(C)}var C=v.ws();for(var T=0;T<f0.length;T++){var io=$[T],kG=v.T[d8[T]];io.nP(!0);kG.nP(!0)}v.dn();
v.vp();var fO=v.pb();C.R=B.vJ(fO,ho,2);C.buffer=B.U(C.R.$()*4);B.YZ(fO,ho,C.buffer,C.R);for(var T=0;
T<f0.length;T++){var io=$[T],kG=v.T[d8[T]];io.nP(!1);kG.nP(!1)}C.nP(j$==0);C.Ip("_a_frm"+j$+","+e4[j$]);
gS.splice(gm[0]+1+j$,0,C);cX+=e4[j$]}var C=v.ws();C.Ip(je.join(" + "));C.fR="pass";C.add.lsct=d7.kZ;
C.IT=24;gS.splice(gm[0]+1+e4.length,0,C);for(var T=0;T<v.T.length;T++)v.T[T].nP(f7[T]);var Z=new aO([6,12,0],this);
Z.data={V:s.Uu,OA:v.T,P1:gS,Nn:dp,Pi:[gm[0]+1+e4.length]};v.Mk(Z);this.W1(Z.data,v)}if(d==s.X$||d==s.uW){var fX=v.X.length==1&&!v.T[v.X[0]].XN(),gu=!0,bT=null,h4;
if(fX&&v.X[0]==0)return;var jy=d==s.X$&&h.L!=null&&v.X.indexOf(h.L)==-1,bf=v.T.slice(0),iL=v.X.slice(0);
if(fX||jy)v.X=[x,x-1];if(d==s.uW){v.X=[];for(var T=0;T<v.T.length;T++)if(v.T[T].oA())v.X.push(T)}var ch=v.lX();
ch.sort(function(Z,bK){return Z-bK});var eq=new fP,ho=new fP(0,0,v.q,v._);for(var T=0;T<ch.length;T++){var G=ch[T],C=v.T[G];
if(C.XN()||C.getName()=="</Layer group>")continue;gu=gu&&C.Yb()&&C.add.vmsk!=null;eq=eq.R$(v.root.Ix(G).YO(v,!0))}if(h.HE!=null&&!gu){alert("Select shape layers only.");
return}if(gu){var jL=null,eR=h.HE;for(var T=0;T<ch.length;T++){var N=v.T[ch[T]];if(N.R.$()==0)continue;
if(bT==null){bT=N.O();jL=bT.add.vmsk}else{var N=v.T[ch[T]],hf=s.eo.p3(N.add.vmsk.z);if(eR!=null)for(var am=0;
am<hf.length;am++)if(hf[am].Jb!=null&&hf[am].Jb!=-1)hf[am].Jb=[1,2,3,0][eR];jL.z=jL.z.concat(hf.slice(2));
bT.add.vogk=bT.add.vogk.concat(B.t(N.add.vogk))}}bT.add.vmsk.c8=!0;bT.vT(v)}else if(ho.xB(eq)){bT=v.ws();
bT.Ip(v.T[ch[ch.length-1]].getName());bT.R=eq;bT.buffer=B.U(eq.$()*4);var jq=v.add.artd;delete v.add.artd;
var bC=v.pb(ch);if(jq)v.add.artd=jq;B.YZ(bC,ho,bT.buffer,eq);bT.pE();bT.dn()}else{v.arm(ch,!0);bT=v.T[v.X[0]];
v.T.splice(v.X[0],1);var iX=v.mJ(bT.add.SoLd.Idnt.v);v.add.lnk2.splice(v.add.lnk2.indexOf(iX),1);delete bT.add.SoLd}var ep=E,eb=-1;
if(h.TH&&h.TH.Dplc&&h.TH.Dplc.v)ep=!0;if(ep&&d==s.uW&&iL.length!=0&&v.T[iL[0]].t2()&&v.T[iL[0]].R.EG()){eb=iL[0]}if(eb!=-1||fX){var i9=v.T[eb!=-1?eb:x-1];
bT.Ip(i9.getName());bT.add.lclr=i9.add.lclr}var gS=[];for(var T=0;T<v.T.length;T++)if(ep||ch.indexOf(T)==-1)if(T!=eb)gS.push(v.T[T]);
var gf=ch[ch.length-1],cD=gf==v.T.length-1?null:v.T[gf+1],iV=cD?gS.indexOf(cD):gS.length;gS.splice(iV,0,bT);
h4=[iV];if(jy)h4=iL.slice(0);var Z=new aO([6,12,0],this);Z.data={V:s.Uu,OA:bf,P1:gS,Nn:iL,Pi:h4};v.Mk(Z);
this.W1(Z.data,v)}if(d==s.alP){var iZ=v.ws();iZ.R=new fP(0,0,v.q,v._);iZ.buffer=B.U(iZ.R.$()*4);B.yV(iZ.buffer,4294967295);
B.B.lU("norm",v.pb(),iZ.R,iZ.buffer,iZ.R,iZ.R,1);iZ.Ip("Background");iZ.add.lspf=1<<2;var Z=new aO([6,12,1],this);
Z.data={V:s.Uu,OA:v.T.slice(),P1:[iZ],Nn:v.X.slice(0),Pi:[0]};v.Mk(Z);this.W1(Z.data,v)}var kJ=d==s.au||d==s.Ha;
if(d==s.yY||d==s.oX||d==s.Z8||d==s.Lo||kJ){var C=kJ?v.Ae()[0]:v.ws(),eS=bj.get([0,3]),hi=h.Di,kw=!1,ed,cp;
if(d==s.Z8)eS=bj.get([12,76,1]);if(kJ){if(v.K){var k4=v.T[v.X[0]],eL=k4.sk(v,v.K);if(eL==null){alert("Copied area is empty");
return}C.R=eL.R;C.buffer=eL.ND;C.C3(v);C.nP(!0)}else hi=C.getName();C.add.lspf=0;C.ql=!1;if((C.IT&1)!=0)C.IT--}if(d==s.Lo){C.R=c.YK.a0e(h.qs,v);
C.buffer=h.qs.buffer.slice(0);if(h.ayR&&v.K){C.N=new s.xK;C.N.R=v.K.R;C.N.color=0;C.N.G=v.K.G.slice(0)}}if(d==s.yY){this.track({UH:"make",TH:{classID:"Mk",null:h8.$j("Lyr")}})}if(d==s.oX){C.IT|=16;
var a7=h.TH.Usng.v,bq=a7.Type.v,eg=hy.D7[bq.classID];eS=bj.get(hy.names[eg]);if(a7.Nm)hi=a7.Nm.v;C.add[eg]=f8.UX(eg);
if(C.add[eg]==null)C.add[eg]={};for(var iA in bq)C.add[eg][iA]=B.t(bq[iA]);C.N=c.YK.aq8(v);C.TM=1}if(d==s.Z8){C.IT|=16;
var il=h.TH,a7=il.Usng.v,eF=a7.Type.v,bB=a7.Shp;if(a7.Nm)hi=a7.Nm.v;if(bB==null){var d_=v.rx(),kB=d_[0],a_=d_[1];
if(a_.length!=0&&kB[a_[0]].yl<0){var g9=kB[a_[0]].add;C.add.vmsk=g9.vmsk.O();C.add.vstk=fL.gL.UX(!0);
C.add.vogk=B.t(g9.vogk);v.cg=[]}else C.N=c.YK.aq8(v)}else{C.add.vmsk=new s.eo;C.add.vstk=B.t(a7.strokeStyle?a7.strokeStyle.v:fL.gL.UX(!0));
C.add.vogk=[];if(bB){var iH=B.WU.e5(bB,v.q,v._);if(iH){C.add.vogk=[iH];C.add.vmsk.z.push({c:0,Jb:1,length:0});
B.WU.r2(C.add.vogk,C.add.vmsk)}else{bB=bB.v;var kp=bB.classID;if(kp=="Plgn"){var bz=bB.Cntr.v,fU=bB.corner.v;
bz=new fq(bz.Hrzn.v.val,bz.Vrtc.v.val);fU=new fq(fU.Hrzn.v.val,fU.Vrtc.v.val);C.add.vmsk.z=B.s.z0.BZ(bz.x,bz.y,Math.sqrt(fU.x*fU.x+fU.y*fU.y),Math.atan2(fU.y,fU.x),bB.sides.v,0)}else if(kp=="customShape"){var fl=B.WU.AB(bB),fm=fl[2]-fl[0],cB=fl[3]-fl[1],eM=m.ki,eT,cl;
for(var T=0;T<eM.length;T++)if(eM[T].zV==bB.Nm.v)eT=eM[T];if(eT){cl=s.eo.p3(eT.z);B.s.Ma(cl,new aJ(fm,0,0,cB,fl[0],fl[1]))}else cl=B.s.z0.Rect(fl[0],fl[1],fm,cB,0);
C.add.vmsk.z=cl}C.d6()}}}if(jD==0){var d1={solidColorLayer:0,gradientLayer:1,patternLayer:2}[eF.classID],aK=["SoCo","GdFl","PtFl"][d1];
C.add[aK]=B.t(fL.fZ[d1]);if(d1==0)C.add[aK].Clr.v=B.Vh.WZ(B.UY(m.kc));c.YK.AZ(eF,C.add[aK],d1);if(bB==null)eS=bj.get([6,48,0,d1]);
if(aK=="PtFl"){var i$=C.add[aK].Ptrn.v,bF=d4.bI(i$,m.T9);if(bF==null)bF=d4.bI(i$,v.add.Patt);if(bF==null)bF=m.T9[0];
i$.Idnt.v=bF.id;v.zR(bF)}C.vT(v)}else{C.add.vstl=B.t(m.au5)}}var j7=c.YK.Bc(v,eS+" ");C.Ip(eS+" "+(j7+1));
if(hi)C.Ip(hi);var a0=v.X.length==0?v.T.length-1:v.X[v.X.length-1],bc=v.T[a0];if(jD==0&&d==s.Z8&&bc.t2()&&bc.R.EG()){kw=!0;
C.Ip(bc.getName());ed=a0}else{ed=a0+(d==s.yY&&p&&!L?0:1);if(bc&&bc.add.lsct==d7.W$)ed--}if(h.ajd)ed=Math.max(0,ed-1);
var gS=v.T.slice(0);if(d==s.Ha){var ja=gS[v.X[0]]=gS[v.X[0]].O(),kj=v.K.G.slice(0);B.ia(kj);B.L_(kj,v.K.R,ja.buffer,ja.R)}gS.splice(ed,kw?1:0,C);
var kq=[5,2];if(d==s.yY)kq=[6,13];if(d==s.oX)kq=[6,1];if(d==s.Z8){kq=[6,48,1];var bB=h.TH.Usng.v.Shp;
if(bB){var hq={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[bB.v.classID];
if(hq)kq=hq}}if(kJ){kq=[6,49,d==s.au?0:1]}if(kJ||d==s.Z8||d==s.Lo||d==s.oX)if(v.K)cp=[v.K,null];var Z=new aO(kq,this);
Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[ed],pm:cp};v.Mk(Z);this.W1(Z.data,v);if(d==s.Z8&&bB==null&&d1!=0||d==s.oX){var t=new g3(k.E.u);
t.data={V:k.l.Os,dF:b4.rF.G8};e.a(t)}}if(d==s.ana){var gS=v.T.slice(0),C=v.T[v.X[0]],dz=C.R.$(),ie=dz*4,jv=gS.indexOf(C),i9=v.ws();
i9.Ip("Decomposition");i9.add.lsct=d7.W$;i9.fR="pass";i9.IT=24;gS.splice(jv+1,0,i9);gS.splice(jv+1,0,v.gB());
var kO=C.O();kO.Ip("Residual");gS.splice(jv+2,0,kO);function hK(Z,bK,T){bK[T]+=128-Z[T];bK[T+1]+=128-Z[T+1];
bK[T+2]+=128-Z[T+2];bK[T+4]+=128-Z[T+4];bK[T+5]+=128-Z[T+5];bK[T+6]+=128-Z[T+6]}gS.splice(jv,0);var hz=Date.now();
for(var ea=0;ea<5;ea++){var kz=kO.O();gS.splice(jv+3,0,kz);kz.S2=128;kz.fR="lLit";kz.Ip("Scale "+(ea+1));
f8.SO(1<<ea,B.kK.Yo,kO.buffer,C.R);var fl=kO.buffer,h3=new Uint8ClampedArray(kz.buffer.buffer);for(var T=0;
T<ie;T+=8)hK(fl,h3,T)}var Z=new aO("Wavelet Decompose",this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[jv+2]};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.B_){var C=v.ws(),eS=bj.get([0,4]),j7=c.YK.Bc(v,eS+" ");C.Ip(eS+" "+(j7+1));
C.fR="pass";C.add.lsct=d7.W$;C.IT=24;if(h.Di)C.Ip(h.Di);if(h.F$!=null)C.add.lclr=h.F$;var as=v.gB(),a0=x,ed=a0+(p?0:1),gS=v.T.slice(0);
gS.splice(ed,0,as,C);var Z=new aO([6,20],this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[ed+1]};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.UJ||d==s.hB){var bL=d==s.UJ?h.source:v.X[0],kZ,iM,bn=v.X.indexOf(bL)!=-1,ag=E|h.ayh,jO,hK=null;
if(bn)jO=v.lX();else jO=v.Wz(bL);jO.sort(function(Z,bK){return Z-bK});if(d==s.UJ){kZ=h.target;iM=h.iw>.5}else if(h.target!=null){kZ=Math.min(h.target,v.T.length-1);
iM=h.target<v.T.length;v.vn=!0}else{var kN=h.rf;iM=kN>1;if(kN==0){kZ=v.T.length-1}if(kN==1){kZ=jO[jO.length-1]+1;
var N=v.Wz(kZ);if(N.indexOf(bL)==-1)kZ+=N.length-1}if(kN==2){kZ=jO[0]-1;var N=v.Wz(kZ);if(N.indexOf(bL)==-1)kZ-=N.length-1}if(kN==3){kZ=0;
if(v.T[0].add.lnsr=="bgnd")kZ++}if(kZ<0||kZ>v.T.length-1)return;v.vn=!0}if(jO.indexOf(kZ)!=-1&&!ag)return;
var cz=c.YK.lG(v,jO,kZ,iM,ag?v.Ae(bn?null:bL):null,d==s.UJ&&h.iw>.8),b_=cz.pop(),e3=cz.pop(),gS=cz.pop(),gW=v.X;
v.X=[bL];var gH=v.uG();v.X=[kZ];var b3=v.uG();if(b3==kZ&&!iM)b3=-1;v.X=gW;if(bL==gH){}else if(gH!=b3){var hK=new fq(0,0);
if(gH!=-1){var bo=v.T[gH].AC();hK.x-=bo.x;hK.y-=bo.y}if(b3!=-1){var bo=v.T[b3].AC();hK.x+=bo.x;hK.y+=bo.y}}var Z=new aO(ag?[6,0]:[6,35],this);
Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:e3,Vq:hK};v.Mk(Z);this.W1(Z.data,v);var il={classID:"move",null:h8.$j("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:b_+(iM?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ag}};
this.track({UH:"move",TH:il})}if(d==s.ha){var bc=h.FP;if(h.hp){if(j==null||!j.XN())return;var S=v.root.Ix(x),bG=v.T.indexOf(S.UC),gS=v.T.slice(0);
gS.splice(x,1);gS.splice(bG,1);var e3=[];for(var T=bG;T<x-1;T++)e3.push(T);if(bc){var X=x-2;gS[X]=gS[X].O();
gS[X].FP=!1}var Z=new aO(bc?[6,6,0]:"Ungroup Layers",this);Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:e3};
v.Mk(Z);this.W1(Z.data,v)}else{var C=v.ws(),ce=bj.get([0,4])+" ";C.Ip(ce+(c.YK.Bc(v,ce)+1));C.fR="pass";
if(bc){if(v.X.length==1){alert("Select more than one layer for a clipping group.");return}C.Ip("<Clip Group>")}if(h.Di)C.Ip(h.Di);
if(h.F$!=null)C.add.lclr=h.F$;C.add.lsct=v.X.length==1?d7.W$:d7.kZ;C.IT=24;var as=v.gB(),jO=v.lX();if(jO.length==0)return;
jO.sort(function(Z,bK){return Z-bK});var gS=[];for(var T=0;T<v.T.length;T++)if(jO.indexOf(T)==-1)gS.push(v.T[T]);
var a0=v.X[v.X.length-1]-jO.length;gS.splice(a0+1,0,as);for(var T=0;T<jO.length;T++)gS.splice(a0+2+T,0,v.T[jO[T]]);
gS.splice(a0+2+jO.length,0,C);if(bc){var X=a0+jO.length+1;gS[X]=gS[X].O();gS[X].FP=!0}var Z=new aO(bc?[6,6,0]:[6,9],this);
Z.data={V:s.Uu,OA:v.T.slice(0),P1:gS,Nn:v.X.slice(0),Pi:[gS.indexOf(C)]};v.Mk(Z);this.W1(Z.data,v);var W={UH:"make",Mf:!0};
W.TH={classID:"Mk",null:h8.$j("layerSection"),From:h8.$j("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:C.getName()}}}};
this.track(W)}}if(d==s.aAj){if(v.X.length!=1)return;var R=v.X[0],hc=E;if(v.T[R].NH()==null&&!J.r(dW.Dd)){d=s.mH;
h.MC=v.K?!hc?"RvlS":"HdSl":!hc?"RvlA":"HdAl"}else{d=s.YD;h.az0=!0}}if(d==s.mH){if(v.X.length!=1)return;
var R=v.X[0],C=v.T[R];if(C.add.vmsk&&C.N==null)C.vT(v);var bO=C.NH();if(bO==null||h.a9u){var Z=new aO(h.Di?h.Di:[6,21],this),cK=new s.xK,gN=h.MC,bE=gN=="RvlS"||gN=="HdSl";
if(gN=="RvlS"||gN=="HdAl"||gN=="Trns")cK.color=0;if(bE){cK.G=v.K.G.slice(0);cK.R=v.K.R.O();if(gN=="HdSl")B.ia(cK.G)}if(gN=="Trns"){cK.R=C.R.O();
cK.G=B.U(C.R.$());B.Bq(C.buffer,cK.G,3)}Z.data={V:s.Wd,Fy:[R,bO,cK],pm:bE?[v.K,null]:null,aBi:gN=="Trns"};
v.Mk(Z);this.W1(Z.data,v);v.T[R].TM=1;this.track({UH:"make",TH:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:gN}}}})}}else if(d==s.ax8){var jp=v.T[h.src],eh=v.T[h.ix],Z=new aO([6,21],this),kA=jp.NH(),fF=eh.NH(),hQ=[h.src,kA,null,h.ix,fF,kA];
if(E||L){var co=kA.O();if(E)hQ=[h.ix,fF,co];else hQ[5]=co;if(L){B.ia(co.G);co.color=255-co.color}}Z.data={V:s.Wd,Fy:hQ};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.Of){if(v.X.length!=1)return;var R=x,kE=v.T[R].NH();if(kE!=null){var Z=new aO([6,22],this);
Z.data={V:s.Wd,Fy:[x,kE,null]};v.Mk(Z);this.W1(Z.data,v)}}if(d==s.Lh){var bf=v.T.slice(0),iZ=j.O(),id=iZ.NH();
B.L_(id._N(iZ.R),iZ.R,iZ.buffer,iZ.R);c.YK.SJ(v,iZ);iZ.pE();v.T[v.X[0]]=iZ;var Z=new aO([5,8],this);
Z.data={V:s.Uu,OA:bf,P1:v.T.slice(),Nn:v.X.slice(0),Pi:v.X.slice(0)};v.Mk(Z);this.W1(Z.data,v)}if(d==s.Mp){if(v.X.length!=1)return;
var R=v.X[0];if(v.T[R].o7(v).N==null){var Z=new aO([6,45],this);Z.data={V:d,L:R,N:new s.xK};v.Mk(Z);
this.W1(Z.data,v)}}if(d==s.A6){if(v.X.length!=1)return;var R=v.X[0];if(v.T[R].o7(v).N!=null){var Z=new aO([6,46],this);
Z.data={V:d,L:R,N:v.T[R].o7(v).N};v.Mk(Z);this.W1(Z.data,v)}}if(d==s.VQ){if(h.src==null&&v.X.length!=1)return;
if(h.src!=null)x=h.src;if(v.T[x].vO()){var Z=new aO([6,47],this),eK=JSON.stringify(v.T[x].add.SoLd),ee=JSON.parse(eK);
delete ee.filterFX;Z.data={V:s.tl,dt:[{pT:x,rS:[eK,JSON.stringify(ee)],hv:[v.T[x].o7(v),null]}]};v.Mk(Z);
this.W1(Z.data,v)}}if(d==s.YD){if(v.X.length!=1)return;if(j.add.vmsk==null){var Z=new aO([6,23],this),bd=v.rx(),fn=bd[1],bd=bd[0],cK,iH;
if(h.az0&&fn.length!=0){var g9=bd[fn[0]].add;cK=g9.vmsk.O();iH=g9.vogk}else{cK=new s.eo;iH=[];cK.z[1].all=h.atQ?0:1}Z.data={V:d,L:x,Fh:!0,N:cK,WU:JSON.stringify(iH),gL:null};
if(j.Yb()){Z.data.gL=Stroke.gL.UX(!0)}v.Mk(Z);this.W1(Z.data,v)}}if(d==s._B){var jp=v.T[h.src],eh=v.T[h.ix];
if(eh.add.vmsk)return;var Z=new aO([6,23],this),jL=jp.add.vmsk;Z.data={L:h.ix,Fh:jp.xc,N:jL.O(),WU:JSON.stringify(jp.add.vogk),gL:jp.add.vstk?JSON.stringify(jp.add.vstk):null};
if(E){Z.data.V=s.YD}else{Z.data.V=d;Z.data.src=h.src;Z.data.ix=h.ix}v.Mk(Z);this.W1(Z.data,v)}if(d==s.h5||d==s.jS){if(v.X.length!=1)return;
var C=v.T[x],jL=C.add.vmsk;if(jL!=null){var c7=d==s.jS,Z=new aO(c7?[6,8]:[6,24],this);Z.data={V:s.h5,L:x,Fh:C.xc,N:jL,WU:JSON.stringify(C.add.vogk),gL:C.add.vstk?JSON.stringify(C.add.vstk):null};
if(c7){Z.data.zl=jL.NH(C.add.vstk);Z.data.zl.Lz=!1}v.Mk(Z);this.W1(Z.data,v)}}if(d==s.jF){var Z=new aO("Metadata",this);
Z.data={V:d,Tk:JSON.stringify(v.dQ),dI:JSON.stringify(h.dI)};v.Mk(Z);this.W1(Z.data,v)}if(d==s.f8){var h1=h.ix?h.ix:v,ae=h1.name,hi=h.J+".psd";
if(ae==hi)return;var Z=new aO([6,37],this);Z.data={V:d,adh:ae,Di:hi};if(h.a2e!=!0)h1.Mk(Z);this.W1(Z.data,h1)}if(d==s.r0&&h.rf.endsWith("makeframes")){var aj=[],c1=h.rf.startsWith("make");
for(var T=0;T<v.X.length;T++){var G=v.X[T],C=v.T[G],kC=C.getName(),im=kC.startsWith("_a_");if(c1==im||C.add.lsct==d7.FJ)continue;
var gr=c1?"_a_"+kC:kC.slice(3);aj.push([G,kC,gr,C.add.lnsr,null])}var Z=new aO([6,37],this);Z.data={V:s.rg,m0:aj};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.rg){var ae=j.getName(),hi=h.name.substring(0,255);if(ae==hi)return;
var Z=new aO([6,37],this);Z.data={V:d,m0:[[x,ae,hi,j.add.lnsr,null]]};v.Mk(Z);this.W1(Z.data,v);this.track(h8.Ks("Nm",{t:"TEXT",v:hi}))}if(d==s.dO){var gi=v.lX(),ao=[],eE=[];
for(var T=0;T<gi.length;T++){ao.push(v.T[gi[T]].add.lclr);eE.push(h.aCW)}var Z=new aO([6,38],this);Z.data={V:d,T:gi,a9w:ao,F$:eE};
v.Mk(Z);this.W1(Z.data,v)}if(d==s.Fc){var Z=v.history[v.uM];if(Z!=null&&Z.I==this&&Z.data.V==d&&Z.data.L==h.Eq&&Z.data.uO.Oa==h.YH.Oa)Z.data.uO=h.YH;
else{Z=new aO("Mask Density / Feather",this);Z.data={V:d,L:h.Eq,xz:v.T[h.Eq].yD(h.YH.Oa),uO:h.YH};v.Mk(Z)}this.W1(Z.data,v)}if(d==s.A0){var dw=JSON.stringify(h.J),dB=JSON.parse(dw),Z=v.history[v.uM];
if(Z!=null&&Z.I==this&&Z.data.V==d&&Z.data.zS==h.zS&&Z.data.oP.join(",")==h.oP.join(",")){for(var T=0;
T<h.oP.length;T++)Z.data._r[T]=dB;if(Z.data.TH&&dB.oH!=0)c.YK.AZ(dB.ag,Z.data.TH.T.v,dB.oH-1)}else{Z=new aO([11,6],this);
Z.data={V:d,oP:h.oP,zS:h.zS,axi:[],_r:[]};var g$=!1;for(var T=0;T<h.oP.length;T++){var G=h.oP[T],C=v.T[G],j_=h.zS?fL.aB(C.add):B.t(C.add.vstk);
Z.data.axi.push(j_);Z.data._r.push(dB);if(JSON.stringify(j_)!=dw)g$=!0}if(!g$)return;v.Mk(Z);if(h.zS&&dB.oH>0){var il=Z.data.TH={classID:"setd",null:h8.$j("contentLayer",!0),T:{t:"Objc",v:{}}};
c.YK.AZ(dB.ag,il.T.v,dB.oH-1);this.track({UH:"set",TH:il})}}if(h.zS&&dB.oH==3)v.zR(d4.bI(dB.ag.Ptrn.v,m.T9));
if(!h.zS){var dh=dB.strokeStyleContent.v;if(dh.classID==fL.gL.Wj[2])v.zR(d4.bI(dh.Ptrn.v,m.T9))}this.W1(Z.data,v)}if(d==s.S6){var iO=m.Rr,ax=[];
for(var T=0;T<v.X.length;T++){var G=v.X[T],C=v.T[G],aZ=C.add.vstl;if(aZ==null)continue;var j_=JSON.stringify(aZ);
for(var ho in iO)aZ[ho]=iO[ho];var dB=JSON.stringify(aZ);if(j_==dB)continue;ax.push([G,j_,dB])}if(ax.length!=0){var g=v.Ax();
if(g&&g.I==this&&g.data.V==d&&g.data.Yx.length==ax.length){var kH=!0;for(var T=0;T<ax.length;T++)if(ax[T][0]!=g.data.Yx[T][0])kH=!1;
if(kH){for(var T=0;T<ax.length;T++)g.data.Yx[T][2]=ax[T][2];v.dn();return}}var Z=new aO("Style Change",this);
Z.data={V:d,Yx:ax};v.Mk(Z);v.dn()}}};c.YK.lG=function(h,e,v,J,m,d){var x=h.T[v],j=[];if(m)j=h.T.slice(0);
else for(var T=0;T<h.T.length;T++)if(e.indexOf(T)==-1)j.push(h.T[T]);var E=j.indexOf(x);if(d&&x.XN()&&x.add.lsct==d7.kZ)E-=h.Wz(v).length-1;
var L=[];for(var T=0;T<e.length;T++){var p=E+(J?0:1)+T,Z=m?m[T]:h.T[e[T]];j.splice(p,0,Z);L.push(p)}return[j,L,E]};
c.YK.AZ=function(h,e,v){var J=[fL.hz,fL.RN,fL.CI][v];if(e.classID==null)e.classID=["solidColorLayer","gradientLayer","patternLayer"][v];
for(var T=0;T<J.length;T++)if(h[J[T]])e[J[T]]=B.t(h[J[T]])};c.YK.aq8=function(h){var e=new s.xK;if(h.K!=null){e.color=0;
e.G=h.K.G.slice(0);e.R=h.K.R.O()}return e};c.YK.p$=function(h,e,v,J,m){var d=J.q/v.q,x=J._/v._,j=J.q/2,E=J._/2,L=B.w.Tp(J).g;
for(var T=0;T<h.T.length;T++){var p=h.T[T],Z=p.add.SoLd;if(Z==null||Z.Idnt.v!=e)continue;var o=d!=1||x!=1;
if(o){var u=c.L2.RT(Z.nonAffineTransform),N=B.D.s6(u,J),M=new aJ;M.translate(-j,-E);M.scale(d,x);M.translate(j,E);
var O=B.D.Eh(N,B.D.fi(M)),F=L.slice(0);B.D.C(O,F);Z.Trnf=c.L2.ni(F);Z.nonAffineTransform=c.L2.ni(F);
if(B.aI.bS(Z.quiltWarp.v)){var W=Z.quiltWarp.v.bounds.v;W.Rght.v.val=J.q;W.Btom.v.val=J._}}p.eW(h,null,m,!o)}h.dn()};
c.YK.agR=function(h,e,v){e.color=255-e.color;B.ia(e.G);e.c8=!0;h.vT(v);v.dn()};c.YK.prototype.ZL=function(h,e){var v=h.V,J=e.T[h.L];
e.L9=!0;if(v==s.NU){e.add.lnk2.splice(e.add.lnk2.indexOf(h.IG),1,h.jl);c.YK.p$(e,h.id,h.IG.Qp,h.jl.Qp)}if(v==s.XO){J.add.SoLd.Impr.v.classID=h.xz;
J.eW(e)}if(v==s.ac){var m=JSON.parse(h.oP);for(var T=0;T<m.length;T++)e.T[m[T]].fR=h.nd[T];e.dn()}if(v==s.Dw){var m=JSON.parse(h.oP);
for(var T=0;T<m.length;T++)e.T[m[T]].S2=h.nd[T];e.dn()}if(v==s.RK){var m=JSON.parse(h.oP);for(var T=0;
T<m.length;T++)if(e.T[m[T]].add.lsct!=d7.FJ)e.T[m[T]].add.lspf=h.nd[T]}if(v==s.Dt){var d=h.SB,x=h.ad6;
delete J.add[d[0]];if(x[0]!="----")J.add[x[0]]=x[1]}if(v==s.bO){J.add.iOpa=h.nd;e.dn()}if(v==s.KA){for(var T=0;
T<h.oP.length;T++){var j=e.T[h.oP[T]];j.nP(!j.oA())}e.dn()}if(v==s.KQ){var E=J.NH();E.isEnabled=!E.isEnabled;
J.vT(e);e.dn()}if(v==s.CD){var E=J.o7(e).N;E.isEnabled=!E.isEnabled;J.dn();e.dn()}if(v==s.ul){var E=J.add.vmsk;
E.isEnabled=!E.isEnabled;if(!E.isEnabled){if(J.zl){J.N=J.zl;J.zl=null}else J.N=null}else if(J.N){J.zl=J.N;
J.N=null}J.vT(e);e.dn()}if(v==s.QR){J.ql=!J.ql;e.dn()}if(v==s.wi){J.add.lmfx.masterFXSwitch.v=!J.add.lmfx.masterFXSwitch.v;
J.em.Db=!0;e.dn()}if(v==s.KJ){J.add.SoLd.filterFX.v.enab.v=!J.add.SoLd.filterFX.v.enab.v;J.pM(e);e.dn()}if(v==s.Ur){var L=h.index,p=J.add.lmfx[fL.oN[L[0]]].v[L[1]].v;
p.enab.v=!p.enab.v;J.em.Db=!0;e.dn()}if(v==s.Ql){var Z=e.T[h.mR],o=e.T[h.pj],u=h.a7G,N=h.a6L;if(u=="")delete Z.add.lmfx;
else Z.add.lmfx=JSON.parse(u);if(N=="")delete o.add.lmfx;else o.add.lmfx=JSON.parse(N);Z.em.Db=!0;o.em.Db=!0;
e.dn()}if(v==s.uw){var M=J.add.SoLd.filterFX.v.filterFXList.v[h.index].v;M.enab.v=!M.enab.v;J.pM(e);
e.dn()}if(v==s.ah3){J.add.SoLd.filterFX.v=B.t(h.ao2);J.pM(e);e.dn()}if(v==s.HI){var E=J.NH();E.jA=!E.jA}if(v==s.KZ){var E=J.add.vmsk;
E.jA=!E.jA}if(v==s.CV){var O=JSON.parse(h.a5Y);e.pr=O[0];e.X0=O[1]}if(v==s.W7){var O=h.vL;for(var T=0;
T<O.length;T+=2){var F=O[T],j=F>=0?e.T[F]:e.H0[-1-F];j.add.vogk=JSON.parse(O[T+1]);B.WU.r2(j.add.vogk,j.add.vmsk);
if(F>=0)j.vT(e)}e.dn()}if(v==s.KC){J.add.artb=JSON.parse(h.afP);e.dn();c.Zk.EX(e,h)}if(v==s.tn){e.K=h.B1;
if(h.adU)e.p.Y=h.adU.slice(0);e.Ar=h.vL.slice(0);e.kH=h.Np.slice(0);e.GI=e.NK=!0}if(v==s.y2){J.ga=!J.ga}if(v==s.SR){var W=h.a7s;
for(var T=0;T<W.length;T++)e.T[T].sg=W[T]}if(v==s.Uu){if(h.Vq)c.Pj.tq(e,e.X,null,-h.Vq.x,-h.Vq.y);if(h.Nn)e.X=h.Nn;
if(h.pm)e.K=h.pm[0];e.Z3=null;e.dn();c.Zk.EX(e,h);e._g(h.OA);if(h.hq)e.IY(h.hq[0])}if(v==s.Wd){for(var T=0;
T<h.Fy.length;T+=3)c.YK.SJ(e,e.T[h.Fy[T]],h.Fy[T+1]);if(h.pm){var f=h.pm[0];if(f==null)delete e.K;else e.K=f}if(h.aBi){var j=e.T[h.Fy[0]];
B.ar(h.Fy[2].G,j.buffer,3)}}if(v==s.Mp){J.o7(e).N=null;J.dn();e.dn()}if(v==s.A6){J.o7(e).N=h.N;J.dn();
e.dn()}if(v==s.tl){c.YK.a3Y(e,h.dt,0)}if(v==s.YD){c.YK.KP(e,J,!0)}if(v==s._B){c.YK.KP(e,e.T[h.ix],h.N.isEnabled);
c.YK.sZ(e,e.T[h.src],h)}if(v==s.h5){if(h.zl)c.YK.SJ(e,J,null);c.YK.sZ(e,J,h)}if(v==s.jF){e.dQ=JSON.parse(h.Tk)}if(v==s.f8){e.name=h.adh}if(v==s.rg){for(var T=0;
T<h.m0.length;T++){var $=h.m0[T],j=e.T[$[0]];j.Ip($[1]);if($[3])j.add.lnsr=$[3];else delete j.add.lnsr}}if(v==s.dO){for(var T=0;
T<h.T.length;T++)e.T[h.T[T]].add.lclr=h.a9w[T]}if(v==s.A0){var H=h.axi;for(var T=0;T<h.oP.length;T++){var j=e.T[h.oP[T]],A=H[T];
if(!h.zS)j.add.vstk=B.t(A);else fL.mD(j.add,B.t(A));j.S_(e)}e.dn()}if(v==s.S6){for(var T=0;T<h.Yx.length;
T++){var G=h.Yx[T];e.T[G[0]].add.vstl=JSON.parse(G[1])}e.dn()}if(v==s.Fc){J.a8b(h.xz);J.vT(e);e.dn()}e.NK=!0};
c.YK.prototype.W1=function(h,e){var v=h.V,J=e.T[h.L];e.L9=!0;if(v==s.NU){e.add.lnk2.splice(e.add.lnk2.indexOf(h.jl),1,h.IG);
c.YK.p$(e,h.id,h.jl.Qp,h.IG.Qp)}if(v==s.XO){J.add.SoLd.Impr.v.classID=h.uO;J.eW(e)}if(v==s.ac){var m=JSON.parse(h.oP);
for(var T=0;T<m.length;T++)e.T[m[T]].fR=h.uO;e.dn()}if(v==s.Dw){var m=JSON.parse(h.oP);for(var T=0;T<m.length;
T++)e.T[m[T]].S2=h.uO;e.dn()}if(v==s.RK){var m=JSON.parse(h.oP);for(var T=0;T<m.length;T++)if(e.T[m[T]].add.lsct!=d7.FJ)e.T[m[T]].add.lspf=h.uO[T]}if(v==s.Dt){var d=h.ad6,x=h.SB;
delete J.add[d[0]];if(x[0]!="----")J.add[x[0]]=x[1]}if(v==s.bO){J.add.iOpa=h.uO;e.dn()}if(v==s.KA){for(var T=0;
T<h.oP.length;T++){var j=e.T[h.oP[T]];j.nP(!j.oA())}e.dn()}if(v==s.KQ){var E=J.NH();E.isEnabled=!E.isEnabled;
J.vT(e);e.dn()}if(v==s.CD){var E=J.o7(e).N;E.isEnabled=!E.isEnabled;J.dn();e.dn()}if(v==s.ul){var E=J.add.vmsk;
E.isEnabled=!E.isEnabled;if(!E.isEnabled){if(J.zl){J.N=J.zl;J.zl=null}else J.N=null}else if(J.N){J.zl=J.N;
J.N=null}J.vT(e);e.dn()}if(v==s.QR){J.ql=!J.ql;e.dn()}if(v==s.wi){J.add.lmfx.masterFXSwitch.v=!J.add.lmfx.masterFXSwitch.v;
J.em.Db=!0;e.dn()}if(v==s.KJ){J.add.SoLd.filterFX.v.enab.v=!J.add.SoLd.filterFX.v.enab.v;J.pM(e);e.dn()}if(v==s.Ur){var L=h.index,p=J.add.lmfx[fL.oN[L[0]]].v[L[1]].v;
p.enab.v=!p.enab.v;J.em.Db=!0;e.dn()}if(v==s.Ql){var Z=e.T[h.mR],o=e.T[h.pj],u=h.anh,N=h.aCk;if(u=="")delete Z.add.lmfx;
else Z.add.lmfx=JSON.parse(u);if(N=="")delete o.add.lmfx;else o.add.lmfx=JSON.parse(N);Z.em.Db=!0;o.em.Db=!0;
e.dn()}if(v==s.uw){var M=J.add.SoLd.filterFX.v.filterFXList.v[h.index].v;M.enab.v=!M.enab.v;J.pM(e);
e.dn()}if(v==s.ah3){J.add.SoLd.filterFX.v=B.t(h.a4i);J.pM(e);e.dn()}if(v==s.HI){var E=J.NH();E.jA=!E.jA}if(v==s.KZ){var E=J.add.vmsk;
E.jA=!E.jA}if(v==s.CV){var O=JSON.parse(h.alN);e.pr=O[0];e.X0=O[1]}if(v==s.W7){var O=h.Ml;for(var T=0;
T<O.length;T+=2){var F=O[T],j=F>=0?e.T[F]:e.H0[-1-F];j.add.vogk=JSON.parse(O[T+1]);B.WU.r2(j.add.vogk,j.add.vmsk);
if(F>=0)j.vT(e)}e.dn()}if(v==s.KC){J.add.artb=JSON.parse(h.Ea);e.dn();c.Zk.a_(e,h)}if(v==s.tn){e.K=h.at;
if(h.aqW)e.p.Y=h.aqW.slice(0);e.Ar=h.Ml.slice(0);e.kH=h.nW.slice(0);e.GI=e.NK=!0}if(v==s.y2){J.ga=!J.ga}if(v==s.SR){var W=h.aaf;
for(var T=0;T<W.length;T++)e.T[T].sg=W[T]}if(v==s.Uu){e.a9R();var f=h.P1,$=0,H;for(var T=0;T<f.length;
T++){var j=f[T],A=j.add.lsct;if(A==d7.FJ)$++;else if(A==d7.W$||A==d7.kZ)$--;if(j.add.artb&&$!=0)H="Artboards can not be inside folders."}if(H){e.history.pop();
e.uM--;alert(H);return}if(h.Pi)e.X=h.Pi;if(h.pm)e.K=h.pm[1];e.Z3=null;e.dn();e._g(h.P1);c.Zk.a_(e,h);
if(h.Vq)c.Pj.tq(e,e.X,null,h.Vq.x,h.Vq.y);if(h.hq)e.IY(h.hq[1])}if(v==s.Wd){for(var T=0;T<h.Fy.length;
T+=3)c.YK.SJ(e,e.T[h.Fy[T]],h.Fy[T+2]);if(h.pm){var G=h.pm[1];if(G==null)delete e.K;else e.K=G}if(h.aBi){var j=e.T[h.Fy[0]],l=j.buffer;
for(var T=0;T<l.length;T+=4)l[T+3]=255}}if(v==s.Mp){J.o7(e).N=h.N;J.TM=0;J.dn();e.dn()}if(v==s.A6){J.o7(e).N=null;
J.TM=0;J.dn();e.dn()}if(v==s.tl){c.YK.a3Y(e,h.dt,1)}if(v==s.YD){c.YK.sZ(e,J,h)}if(v==s._B){c.YK.KP(e,e.T[h.src],h.N.isEnabled);
c.YK.sZ(e,e.T[h.ix],h)}if(v==s.h5){c.YK.KP(e,J,h.N.isEnabled);if(h.zl)c.YK.SJ(e,J,h.zl)}if(v==s.jF){e.dQ=JSON.parse(h.dI)}if(v==s.f8){e.name=h.Di}if(v==s.rg){for(var T=0;
T<h.m0.length;T++){var K=h.m0[T],j=e.T[K[0]];j.Ip(K[2]);if(K[4])j.add.lnsr=K[4];else delete j.add.lnsr}}if(v==s.dO){for(var T=0;
T<h.T.length;T++)e.T[h.T[T]].add.lclr=h.F$[T]}if(v==s.A0){var U=h._r;for(var T=0;T<h.oP.length;T++){var j=e.T[h.oP[T]],z=U[T];
if(!h.zS)j.add.vstk=B.t(z);else fL.mD(j.add,B.t(z));j.S_(e)}e.dn()}if(v==s.S6){for(var T=0;T<h.Yx.length;
T++){var q=h.Yx[T];e.T[q[0]].add.vstl=JSON.parse(q[2])}e.dn()}if(v==s.Fc){J.a8b(h.uO);J.vT(e);e.dn()}e.NK=!0};
c.YK.Bc=function(h,e){var v=0;for(var T=0;T<h.T.length;T++){var J=h.T[T].getName();if(J.startsWith(e)){var m=J.slice(e.length).trim(),d=parseInt(m);
if(!isNaN(d)&&d+""==m&&d>v)v=d}}return v};c.YK.a3Y=function(h,e,v){for(var T=0;T<e.length;T++){var J=e[T],m=h.T[J.pT];
if(J.rS){m.add.SoLd=JSON.parse(J.rS[v])}if(J.hv){if(J.hv[1-v]!=null)h.JK(J.hv[1-v]);if(J.hv[v]!=null)h.eF(J.hv[v]);
else m.TM=0}m.eW(h)}};c.YK.a0e=function(h,e){var v=h.Hs,J=h.R.O();if(v!=null&&(v.x!=e.q||v.y!=e._)){J.x=Math.floor((e.q-J.q)/2);
J.y=Math.floor((e._-J._)/2)}else if(v==null){var m=new fP(0,0,e.q,e._),d=e.uG();if(d!=-1)m=e.T[d].AC();
J.x+=m.x;J.y+=m.y}return J};c.YK.a29=function(h,e){if(e.zl)e.zl=null;else e.N=null;e.vT(h);h.dn();e.TM=0};
c.YK.SJ=function(h,e,v){var J=e.NH();if(J==null&&v==null)return;if(J)c.YK.a29(h,e);if(v==null)return;
if(e.N)e.zl=v;else e.N=v;e.vT(h);h.dn()};c.YK.KP=function(h,e,v){if(e.zl&&v){e.N=e.zl;e.zl=null}else if(e.N&&v){e.N=null}delete e.add.vogk;
delete e.add.vstk;delete e.add.vmsk;e.vT(h);e.xc=!1;h.Z3=[];h.dn()};c.YK.sZ=function(h,e,v){e.add.vogk=JSON.parse(v.WU);
if(v.gL)e.add.vstk=JSON.parse(v.gL);else delete e.add.vstk;e.add.vmsk=v.N.O();if(e.N&&e.add.vmsk.isEnabled)e.zl=e.N;
e.vT(h);e.xc=v.Fh;h.Z3=[h.T.indexOf(e)];h.cg=[];h.dn()};c.Bx=function(){c.Yu.call(this,"Layer Styles",c.MP);
this.ww=null;this.Vd=null;this.H7=null;this.JC=[];this.J7=null};c.Bx.prototype=new c.Yu;c.Bx.prototype.iu=function(h,e,v,J,m){var d=h.L;
if(d==null)d=v.X[0];var x=v.T[d],j=h.yl;if(this.ww==null){this.H7=c.Bx.x9(v,x);this.ww=JSON.stringify(this.H7);
if(x.add.lmfx)this.Vd=JSON.stringify(x.add.lmfx)}if(x.add.lmfx==null){x.add.lmfx=JSON.parse(fL.default);
for(var T=0;T<fL.order.length;T++)x.add.lmfx[fL.oN[T]]={t:"VlLs",v:[]}}if(h.V=="scaleeffects"){if(h.J=="confirm"||h.J=="cancel"){this.iu({V:h.J},e,v,J,m);
return}x.add.lmfx=JSON.parse(this.Vd);d4.D$(x.add.lmfx,h.J/100)}else if(h.V=="changeprop"){var E=null;
if(j!=0){var L=this.JC[j[0]];if(L==null)L=fL.JC[j[0]];L=JSON.parse(L);var p=x.add.lmfx[fL.oN[j[0]]].v;
if(p[j[1]]==null)p[j[1]]={t:"Objc",v:L};E=p[j[1]].v;for(var Z in L)if(E[Z]==null)E[Z]=L[Z]}if(h.V=="changeprop"){if(j==0){this.H7[h.$o].v=h.J;
c.Bx.XG(v,x,this.H7)}else if(h.$o=="lagl"){if(E.uglg&&E.uglg.v){v.Ko(h.J.val);this.H7.gagl.v.val=v.J0()}else E[h.$o].v=h.J}else if(h.$o=="Lald"){if(E.uglg.v){v.DZ(h.J.val);
this.H7.aqy=v.uz()}else E[h.$o].v=h.J}else if((j[0]==3||j[0]==8)&&(h.$o=="Clr"||h.$o=="Grad")){if(h.$o=="Clr"){E.Clr={t:"Objc",v:h.J};
delete E.Grad}if(h.$o=="Grad"){E.Grad={t:"Objc",v:h.J};delete E.Clr}}else{E[h.$o].v=h.J}if(j!=0)this.JC[j[0]]=JSON.stringify(E)}if(j!=0)if(E.Ptrn)v.zR(d4.bI(E.Ptrn.v,m.T9))}else if(h.V=="setstl"){var o=h.J.Lefx;
if(o)d4.aEq(o,v,m.T9);d4.axX(h.J,x,null,v);this.H7=c.Bx.x9(v,x)}else if(h.V=="st_dupsingle"){var u=x.add.lmfx[fL.oN[h.tK[0]]].v;
if(u[h.tK[1]]==null)return;var N=B.t(u[h.tK[1]]);u.splice(h.tK[1],0,N)}else if(h.V=="st_movsingle"){var M=h.tK[1],u=x.add.lmfx[fL.oN[h.tK[0]]].v;
if(u[h.tK[1]]==null)return;var O=Math.max(0,Math.min(u.length-1,M+h.aqR)),F=u[O];u[O]=u[M];u[M]=F}else if(h.V=="cancel"){if(this.Vd==null)delete x.add.lmfx;
else x.add.lmfx=JSON.parse(this.Vd);c.Bx.XG(v,x,JSON.parse(this.ww));this.ww=null;this.Vd=null}else if(h.V=="confirm"){var W=JSON.stringify(x.add.lmfx),f=new aO([11,6],this);
f.data={T:[d],ic:[this.Vd],$i:[W],Nt:[this.ww],xw:[JSON.stringify(this.H7)]};v.Mk(f);this.ww=null;this.Vd=null;
if(W!=null){var $=JSON.parse(W);ba.SM($);$.classID="Lefx";delete $.masterFXSwitch;var H=new g3(k.E.Fq);
H.u$=!0;H.data={UH:"set",Mf:!0};var A=h8.$j("Lyr",!0);A.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
H.data.TH={__name:"Set",classID:"setd",null:A,T:{t:"Objc",v:$}};e.a(H)}}else if(h.V=="st_copy"){this.J7=[this.ww,this.Vd];
this.ww=null;this.Vd=null}else if(h.V=="st_paste"||h.V=="st_clear"){if(h.V=="st_paste"&&this.J7==null)return;
var G=h.L!=null?[h.L]:v.X.slice(0),l=[],K=[],U=[],z=[];for(var T=0;T<G.length;T++){var x=v.T[G[T]],q=c.Bx.x9(v,x);
l.push(x.add.lmfx?JSON.stringify(x.add.lmfx):null);U.push(JSON.stringify(q));if(h.V=="st_paste"){K.push(this.J7[1]);
z.push(this.J7[0])}else{K.push(null);q.lrMd.v=0;q.Opct.v.val=100;q.iOpa.v.val=100;q.blIf={v:[]};for(var P=0;
P<10;P++)q.blIf.v.push(0,0,255,255);z.push(JSON.stringify(q))}}var f=new aO([11,6],this);f.data={T:G,ic:l,$i:K,Nt:U,xw:z};
this.W1(f.data,v);v.Mk(f);this.ww=null;this.Vd=null}else{var g=this.H7,$=null;if(h.V=="st_delsingle"){$=JSON.parse(this.Vd);
$[fL.oN[h.tK[0]]].v.splice(h.tK[1],1);$=JSON.stringify($)}if($==null)delete x.add.lmfx;else x.add.lmfx=JSON.parse($);
if(g!=null)c.Bx.XG(v,x,g);var f=new aO([11,6],this);f.data={T:[h.L],ic:[this.Vd],$i:[$],Nt:[this.ww],xw:[JSON.stringify(g)]};
v.Mk(f);this.ww=null;this.Vd=null}x.em.Db=!0;v.L9=!0;v.dn()};c.Bx.x9=function(h,e){if(e.add.iOpa==null)e.add.iOpa=255;
if(e.add.brst==null)e.add.brst=[1,1,1];var v=e.XN()?["pass"].concat(cc.El):cc.El;return{lrMd:{v:v.indexOf(e.fR)},Opct:{v:{type:"#Prc",val:Math.round(e.S2*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(e.add.iOpa*100/255)},t:"UntF"},blIf:{v:e.DL.slice(0)},brst:{v:e.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:h.J0()}},aqy:h.uz(),XN:e.XN()}};
c.Bx.XG=function(h,e,v){var J=e.XN()?["pass"].concat(cc.El):cc.El;e.fR=J[v.lrMd.v];e.S2=Math.round(v.Opct.v.val*255/100);
e.add.iOpa=Math.round(v.iOpa.v.val*255/100);e.DL=v.blIf.v.slice(0);e.add.brst=v.brst.v.slice(0);h.Ko(v.gagl.v.val);
h.DZ(v.aqy)};c.Bx.prototype.ZL=function(h,e){for(var T=0;T<h.T.length;T++){var v=e.T[h.T[T]],J=h.ic[T];
if(J==null)delete v.add.lmfx;else v.add.lmfx=JSON.parse(J);c.Bx.XG(e,v,JSON.parse(h.Nt[T]));v.em.Db=!0}e.L9=!0;
e.dn()};c.Bx.prototype.W1=function(h,e){for(var T=0;T<h.T.length;T++){var v=e.T[h.T[T]],J=h.$i[T];if(J==null)delete v.add.lmfx;
else v.add.lmfx=JSON.parse(J);c.Bx.XG(e,v,JSON.parse(h.xw[T]));v.em.Db=!0}e.L9=!0;e.dn()};c.XM=function(){c.Yu.call(this,"Layer Comps",c.sE)};
c.XM.prototype=new c.Yu;c.XM.prototype.iu=function(h,e,v,J){var m=B.t(v.bW),d=B.t(v.bW),x=null,j=null,E=null,L=-1,p=!1;
if(h.V=="delLC"){var Z=c.XM.UR(v.bW,h.yl),o=v.bW.lastAppliedComp?v.bW.lastAppliedComp.v:0;d.list.v.splice(Z,1);
if(o==h.yl)delete d.lastAppliedComp;x="Delete Layer Comp"}if(h.V=="editLC"){var Z=c.XM.UR(v.bW,h.yl),u=d.list.v[Z].v;
if(h.Di!=null)u.Nm.v=h.Di;if(h.a5c!=null){var N=h.a5c,M=u.capturedInfo.v,O=M&(1<<N)-1;M=M>>N;if((M&1)==1)M--;
else M++;u.capturedInfo.v=(M<<N)+O}x="Layer Comp properties"}if(h.V=="setLC"){c.XM.gj(v);if(h.yl==0)delete d.lastAppliedComp;
else d.lastAppliedComp={t:"long",v:h.yl};x="Switch Layer Comp";p=!0}if(h.V=="updLC"){c.XM.gj(v);j=c.XM.a3v(v,h.yl);
E=c.XM.Va(v,h.yl);d.lastAppliedComp={t:"long",v:h.yl};x="Update Layer Comp";L=h.yl;p=!0}if(h.V=="addLC"){c.XM.gj(v);
var F=1;for(var T=0;T<d.list.v.length;T++)F=Math.max(F,d.list.v[T].v.compID.v)+1;F+=Math.floor(Math.random()*1e4);
var W={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(d.list.v.length+1)},compID:{t:"long",v:F},capturedInfo:{t:"long",v:7}}};
d.list.v.push(W);d.lastAppliedComp={t:"long",v:F};x="New Layer Comp";var f=c.XM.Va(v,F);c.XM.dp(v,f,F)}var $=new aO(x,this);
$.data={ann:m,asP:d,aD3:j,ao6:E,yl:L,zz:p};this.W1($.data,v);v.Mk($)};c.XM.prototype.W1=function(h,e){e.bW=h.asP;
e.L9=!0;if(h.ao6)c.XM.dp(e,h.ao6,h.yl);if(h.zz){var v=e.bW.lastAppliedComp?e.bW.lastAppliedComp.v:0,J=c.XM.UR(e.bW,v),m=J==-1?null:e.bW.list.v[J].v,d=m?m.capturedInfo.v:7;
c.XM.FC(e,v,d);e.dn()}};c.XM.prototype.ZL=function(h,e){e.bW=h.ann;e.L9=!0;if(h.aD3)c.XM.dp(e,h.aD3,h.yl);
if(h.zz){var v=e.bW.lastAppliedComp?e.bW.lastAppliedComp.v:0,J=c.XM.UR(e.bW,v),m=J==-1?null:e.bW.list.v[J].v,d=m?m.capturedInfo.v:7;
c.XM.FC(e,v,d);e.dn()}};c.XM.gj=function(h){if(h.bW.lastAppliedComp!=null||!h.Fa)return;var e=c.XM.Va(h,0);
c.XM.dp(h,e,0);h.Fa=!1};c.XM.xu=function(h,e,v){h.v.Hrzn.v+=e;h.v.Vrtc.v+=v};c.XM.UR=function(h,e){var v=h.list.v;
for(var T=0;T<v.length;T++)if(v[T].v.compID.v==e)return T;return-1};c.XM.aGK=function(h){var e=h.layerSettings.v,m=null;
if(e.length==0)return;var v="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),J=e[0].v;
if(J.enab==null)J.enab={t:"bool",v:!0};if(J.Ofst==null)J.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var T=0;T<e.length;T++){var d=e[T].v;if(m==null)m=B.t(d);else for(var x=0;x<v.length;x++){var j=v[x];
if(d[j])m[j]=B.t(d[j])}e[T].v=B.t(m)}};c.XM.axZ=function(h,e){var v=h.add.shmd.cmls,J=v.layerSettings.v;
for(var m=0;m<J.length;m++){var d=J[m].v,x=d.compList.v[0].v;if(x==e)return m}return-1};c.XM.aHB=function(h,e){var v=c.XM.axZ(h,e);
return v==-1?null:h.add.shmd.cmls.layerSettings.v[v].v};c.XM.FC=function(h,e,v){for(var T=0;T<h.T.length;
T++){var J=h.T[T],m=J.add.shmd.cmls;if(m==null)continue;var d=m.layerSettings.v,x=c.XM.aHB(J,e);if(x==null){J.nP(!1);
continue}if((v&1)!=0){if(x.enab)J.nP(x.enab.v);else J.nP(!0)}if((v&2)!=0){if(x.Ofst){var j=x.Ofst.v,E=J.D5(h),L=Math.round(j.Hrzn.v-E.x),p=Math.round(j.Vrtc.v-E.y);
if(L!=0||p!=0)c.Pj.tq(h,[T],null,L,p)}}if((v&4)!=0){if(x.Lefx){var Z=B.t(x.Lefx.v);ba.pw(Z);if(JSON.stringify(Z)!=JSON.stringify(J.add.lmfx)){J.add.lmfx=Z;
J.em.Db=!0}}else delete J.add.lmfx;if(x.blendOptions){var o=x.blendOptions.v;if(o.Opct)J.S2=Math.round(255*o.Opct.v.val/100);
if(o.fillOpacity)J.add.iOpa=Math.round(255*o.fillOpacity.v.val/100);if(o.Md)J.fR=J.add.lsct==d7.FJ?"norm":cc.lY(o.Md.v.BlnM)}else{J.S2=255;
J.fR=J.XN()?"pass":"norm";J.add.iOpa=255}}}};c.XM.a3v=function(h,e){var v={};for(var T=0;T<h.T.length;
T++){var J=h.T[T];if(J.add.shmd==null||J.add.shmd.cmls==null)continue;v["l"+J.add.lyid]=B.t(c.XM.aHB(J,e))}return v};
c.XM.Va=function(h,e){var v={};for(var T=0;T<h.T.length;T++){var J=h.T[T],m=J.add.lyid;v["l"+m]=c.XM.aeh(h,J,e)}return v};
c.XM.aeh=function(h,e,v){var J=e.add.shmd?e.add.shmd.cmls:null,m={classID:"null"},d=e.D5(h),x={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:d.x},Vrtc:{t:"long",v:d.y}}};
m.compList={t:"VlLs",v:[{t:"long",v:v}]};m.enab={t:"bool",v:e.oA()};m.Ofst=B.t(x);m.FXRefPoint=B.t(J&&J.origFXRefPoint?J.origFXRefPoint:x);
m.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:cc.e_(e.fR)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*e.S2/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:e.add.iOpa!=null?100*e.add.iOpa/255:100}}}};
if(e.add.vmsk){m.vectorMask={t:"Objc",v:{classID:"null"}};m.vectorMask.v.Ofst=B.t(x)}if(e.add.lmfx){m.Lefx={t:"Objc",v:B.t(e.add.lmfx)};
ba.SM(m.Lefx.v)}return m};c.XM.afq=function(h,e){var v=e.add.lyid;if(e.add.shmd==null)e.add.shmd={};
if(e.add.shmd.cmls==null){e.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:v},layerSettings:{t:"VlLs",v:[{t:"Objc",v:c.XM.aeh(h,e,0)}]}}}};
c.XM.dp=function(h,e,v){for(var T=0;T<h.T.length;T++){var J=h.T[T],m=J.add.lyid;c.XM.afq(h,J);var d=J.add.shmd.cmls,x=d.layerSettings.v,j=e["l"+m];
if(j!=null)j={t:"Objc",v:B.t(j)};var E=c.XM.axZ(J,v);if(E==-1){if(j==null)continue;else x.push(j)}else{if(j==null)x.splice(E,1);
else x[E]=j}}};c.XM.f0=function(h,e){for(var T=0;T<h.T.length;T++){var v=h.T[T],J=v.add.lyid;if(v.add.shmd==null||v.add.shmd.cmls==null)continue;
var m=v.D5(h),d=Math.round(m.x),x=Math.round(m.y);if(!e){d=-d;x=-x}var j=v.add.shmd.cmls,E=j.layerSettings.v;
if(j.origFXRefPoint)c.XM.xu(j.origFXRefPoint,-d,-x);for(var L=0;L<E.length;L++){var p=E[L].v;c.XM.xu(p.Ofst,d,x);
var Z=p.imageMask,o=p.vectorMask;if(Z&&Z.v.Ofst)c.XM.xu(Z.v.Ofst,d,x);if(o&&o.v.Ofst)c.XM.xu(o.v.Ofst,d,x)}}};
c.tC=function(){c.Yu.call(this,"Adjust Edit",c.EM);this.dI=null;this.eg=null};c.tC.prototype=new c.Yu;
c.tC.aE=function(h,e,v,J){if(J)e/=4;var m=0,d=0,x=255,j=0,E=0,L=255;while(d+h[m]<e){d+=h[m];m++}while(j+h[x]<e){j+=h[x];
x--}if(J){m-=Math.round(h[m]/(v/32));x+=Math.round(h[x]/(v/32));if(m<0)E=Math.round(-m*255/(x-m));if(x>255)L=255-Math.round((x-255)*255/(x-m))}return[Math.max(m,0),Math.min(x,255),E,L,100]};
c.tC.prototype.iu=function(h,e,v,J,m){var d=h.V;if(d=="auto"){var x=h.xY,j=c.tC.getData(v);for(var T=0;
T<j.length;T++){var E=j[T],L;if(x<3){}else{var p=f8.UX("hue2");bb.mm(p,0,[0,-100,0]);L=hy.hc("hue2",p)}hy.$a(L,E.ND,E.tH,E.e3)}c.tC.jJ(v,j);
c.tC.Jl(v,j,x<3?[4,16,x]:[19,7,0],this);v.dn()}if(d=="edit_layer")this.ayq(h,e,v,J);if(d=="edit"||d=="confirm"||d=="cancel")this.yS(h,e,v,m,!0);
if(d=="start"){if(v.X.length==0)return;var Z=v.T[v.X[0]];if(Z.add.SoLd&&Z.TM<=0&&v.kH.length==0){var o=new g3(k.E.A,!0);
o.I=c.hk;o.data={V:"start",Ps:h.yo,GL:h.GL};e.a(o);return}if(!v.YB(e,null,!0))return;if(aE[h.yo]&&h.GL==null){if(v.X.length!=1)alert("Will be applied to "+v.X.length+" layers.");
var o=new g3(k.E.u,!0);o.data={V:k.l.Xq,dF:"afw_"+h.yo};e.a(o)}else{this.yS({V:"edit",GL:h.GL,Ps:h.yo},e,v,m);
this.yS({V:"confirm",Ps:h.yo},e,v,m)}}};c.tC.prototype.ayq=function(h,e,v,J){var m=h.V,d=v.X[0],x=v.T[d],j=hy.get(x.add),o;
if(x.add[j]==null)return;var E=B.t(x.add[j]);for(var L in h.J)E[L]=h.J[L];var p=B.t(E);for(var L in hy.D7)if(hy.D7[L]==j)p.classID=L;
var Z=v.history[v.uM];if(Z&&Z.I==this&&Z.data.xz!=null&&Z.data.L==d)o=Z;else{var u=new g3(k.E.Fq,!0),N={classID:"setd",null:h8.$j("AdjL",!0),T:{t:"Objc",v:p}};
u.data={Mf:!0,UH:"set",TH:N};e.a(u);var o=new aO([6,39],this);o.data={L:d,xz:x.add[j],uO:E,K8:N};v.Mk(o)}o.data.uO=E;
o.data.K8.T.v=p;this.W1(o.data,v)};c.tC.getData=function(h,e,v){var J=[],m=new fP(0,0,h.q,h._),d=h.kH.length!=0?[-1-h.kH[0]]:h.X;
for(var T=0;T<d.length;T++){var x=d[T],j=x<0?null:h.T[x],E={L:x,tf:x<0?1:j.TM};J.push(E);var L=h.Ar[-1-x];
if(0<=x)L=j.TM<=0?null:j.TM==1?j.NH():j.o7(h).N;var p=L?L.R:j.R;if(h.K){E.e3=h.K.R.UP(e||L!=null?m:p)}else E.e3=e||L!=null?p.R$(m):p.O();
if(v)E.e3=v[T].e3.O();var Z=E.e3.$();E.ND=B.U(Z*4);if(L)c.Bt.Dl(L.G,L.R,L.color,E.ND,E.e3);else B.YZ(j.buffer,p,E.ND,E.e3);
E.tH=E.ND.slice(0);if(h.K){E.Fy=B.U(Z);B.Ww(h.K.G,h.K.R,E.Fy,E.e3)}}return J};c.tC.avR=function(h,e,v){if(e==null)return e;
var J=hy.gI(h,e),d;if(J==-1)return e;var m=v.length>>>2,x=B.AH(v),j=.001*m;if(J==0||J==2)d=[[0,255,0,255,100],c.tC.aE(x[1],j,m,J==2),c.tC.aE(x[2],j,m,J==2),c.tC.aE(x[3],j,m,J==2)];
if(J==1)d=[c.tC.aE(x[0],j*.33,m,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var E=f8.UX("levl");
for(var T=0;T<4;T++)a4.mm(E,T,d[T]);return E};c.tC.a2n=function(h,e,v,J){var m,d;if(v.t=="name"){var x=0;
for(var j=0;j<h.T.length;j++)if(h.T[j].getName()==v.v.val)x=j;if(h==e&&x==J.L){m=J.ND;d=J.e3}else{var E=h.T[x];
m=E.buffer;d=E.R}}else{d=new fP(0,0,h.q,h._);m=h==e?J.wp:h.pb()}return[m,d]};c.tC.prototype.yS=function(h,e,v,J){if(this.dI==null){if(h.Ps=="aply")v.T[v.X[0]].extend(new fP(0,0,v.q,v._));
this.dI=c.tC.getData(v,null,h.Ps=="fade"?v.Ax().data:null);if(h.Ps=="aply"||h.Ps=="matc")this.dI[0].wp=v.pb()}if(h.V=="edit"){this.eg=[h.Ps,h.GL];
var m=this.dI[0],d=c.tC.avR(h.Ps,h.GL,m.ND),x=hy.hc(h.Ps,d);if(h.Ps=="fade"||h.Ps=="matc"||h.Ps=="aply")x=h.GL;
if(x!=null){for(var j=0;j<this.dI.length;j++){var E=this.dI[j];if(h.tB)B.N7(E.ND,E.tH);else if(h.Ps=="fade"){var L=cc.lY(h.GL.Md.v.BlnM),p=h.GL.Opct.v.val/100,Z=v.Ax().data[j];
B.N7(Z.ND,E.tH);if(L=="norm")B.B.JD(E.ND,E.e3,E.tH,E.e3,null,null,null,E.e3,p);else{var o=d4.xO();o.K3=!0;
for(var T=0;T<Z.ND.length;T+=4)if(Z.ND[T+3]!=E.ND[T+3]){o=null;break}B.B.lU(L,E.ND,E.e3,E.tH,E.e3,E.e3,p,o)}}else if(h.Ps=="matc"){var u;
if(x.noReference&&x.noReference.v)u=E.ND;else{var N=x.Srce.v,M=N[1].v.val,O=e.qk,F=v;for(var T=0;T<O.length;
T++)if(O[T].name==M)F=O[T];var W=c.tC.a2n(F,v,N[0],E);u=W[0]}kF(E.ND,E.e3.q,E.e3._,u,E.tH,[x.Lght.v,x.ClrR.v,x.Fade.v,x.neutralizeColor?x.neutralizeColor.v:!1])}else if(h.Ps=="aply"){x=x.With.v;
var f=x.T.v,W=c.tC.a2n(v,v,f[1],E),u=W[0],$=W[1],H=x.Clcl?x.Clcl.v.Clcn:null,L=H?cc.lY(H):"norm",p=x.Opct?x.Opct.v.val/100:1,A=["RGB","Rd","Grn","Bl","Trsp"].indexOf(f[0].v.enum),d=x.Invr&&x.Invr.v;
if(d||A!=0){u=u.slice(0);if(d)B.au6(u);if(A!=0){var G=B.U($.$());B.Bq(u,G,A-1);if(A==4)B.ia(G);for(var l=0;
l<3;l++)B.ar(G,u,l)}}if(H=="Add"||H=="Sbtr"){var K=1/x.Scl.v,U=x.Ofst.v,z=H=="Add"?1:-1,q=new Uint8ClampedArray(E.tH.buffer);
for(var T=0;T<u.length;T+=4){q[T]=(E.ND[T]+z*u[T])*K+U;q[T+1]=(E.ND[T+1]+z*u[T+1])*K+U;q[T+2]=(E.ND[T+2]+z*u[T+2])*K+U}}else{var o=d4.xO();
o.K3=x.PrsT&&x.PrsT.v;E.tH.fill(0);E.tH.set(E.ND);B.B.lU(L,u,$,E.tH,E.e3,E.e3,p,o)}}else hy.$a(x,E.ND,E.tH,E.e3)}c.tC.jJ(v,this.dI)}}if(h.V=="cancel"){c.tC.ajK(v,this.dI);
this.dI=null}if(h.V=="confirm"){var P={fade:[2,11],aply:[2,12],matc:[4,18]},g=P[h.Ps];if(g==null)g=hy.names[h.Ps];
var a=hy.gI(h.Ps,this.eg[1]);if(a!=-1)g=[4,16,a];c.tC.Jl(v,this.dI,g,this);this.dI=null;if(a==-1)c.tC.O5(e,this.eg)}v.dn()};
c.tC.O5=function(h,e){var v=e[0],J=e[1],m,d;if(hy.Ht[v]){m=hy.Ht[v];if(aE[v])d=J}if(f8.Ht[v]){m=f8.Ht[v];
if(aE[v])d=J}if(v=="fade"){m="fade";d=J}if(v=="matc"){m="matchColor";d=J}if(v=="aply"){m="applyImageEvent";
d=J}if(v=="GEfc"){if(d.GEfs)d=d.GEfs.v[0].v}if(m==null)return;var x=new g3(k.E.Fq,!0);x.data={Mf:!0,UH:m};
if(d){d=B.t(d);x.data.TH=d}h.a(x)};c.tC.ajK=function(h,e){c.tC.z1(h,e)};c.tC.Jl=function(h,e,v,J){for(var T=0;
T<e.length;T++){var m=e[T],d=h.T[m.L],x=m.L<0?h.Ar[-1-m.L]:m.tf<=0?null:m.tf==1?d.NH():d.o7(h).N;if(x){x.pE();
x.c8=!0;if(d)d.vT(h)}else{d.pE();d.dn()}delete m.tH;delete m.Fy}var j=new aO(v,J);j.data=e;h.Mk(j);h.L9=!0};
c.tC.jJ=function(h,e,v){for(var T=0;T<e.length;T++){var J=e[T],m=h.T[J.L],d=v?J.ND:J.tH,x=J.e3;if(J.tf==0){m.extend(x);
if(J.Fy){B.YZ(J.ND,x,m.buffer,m.R);B.B.JD(d,x,m.buffer,m.R,J.Fy,x,0,x,1)}else B.YZ(d,x,m.buffer,m.R)}else{var j=J.L<0?h.Ar[-1-J.L]:J.tf==1?m.NH():m.o7(h).N;
j.extend(x);if(J.Fy){var E=B.U(x.$()*4);B.N7(J.ND,E);B.B.JD(d,x,E,x,J.Fy,x,0,x,1);c.Bt.MT(E,x,j)}else c.Bt.MT(d,x,j);
j.c8=!0;if(m)m.vT(h)}if(m)m.dn()}if(!v)c.tC.alc(h,e)};c.tC.z1=function(h,e){for(var T=0;T<e.length;T++){var v=e[T],J=h.T[v.L],m=v.e3,d=B.U(m.$()*4);
if(v.tf==0){B.YZ(J.buffer,J.R,d,m);J.extend(m);B.YZ(v.ND,m,J.buffer,J.R);J.pE()}else{var x=v.L<0?h.Ar[-1-v.L]:v.tf==1?J.NH():J.o7(h).N;
c.Bt.Dl(x.G,x.R,x.color,d,m);x.extend(m);c.Bt.MT(v.ND,m,x);x.pE();x.c8=!0;if(J)J.vT(h)}v.ND=d;if(J)J.dn()}h.L9=!0};
c.tC.Fb=function(h){var e=0;for(var T=0;T<h.length;T++)e+=h[T].ND.length;return e};c.tC.alc=function(h,e){var v=c.tC.aEb(h),J=~v;
if(v==16777215)return;for(var T=0;T<e.length;T++){var m=e[T],d=h.T[m.L],x=m.e3;if(m.tf!=0)continue;d.extend(x);
var j=x.x-d.R.x,E=x.y-d.R.y,L=d.R.q,p=new Uint32Array(m.ND.buffer),Z=new Uint32Array(d.buffer.buffer);
for(var o=0;o<x._;o++)for(var u=0;u<x.q;u++){var N=o*x.q+u,M=(o+E)*L+(u+j);Z[M]=Z[M]&v|p[N]&J}d.pE();
d.dn()}h.dn()};c.tC.aEb=function(h){var e=h.p.Y;return e[2]*16711680|e[1]*65280|e[0]*255};c.tC.prototype.ZL=function(h,e){var v=e.T[h.L];
if(h.xz!=null)v.add[hy.get(v.add)]=h.xz;else c.tC.z1(e,h);e.dn()};c.tC.prototype.W1=function(h,e){var v=e.T[h.L];
if(h.xz!=null)v.add[hy.get(v.add)]=h.uO;else c.tC.z1(e,h);e.dn()};c.tC.prototype.Fb=function(h){return h.xz==null?c.tC.Fb(h):0};
c.TL=function(){c.Yu.call(this,"Filter Edit",c.hk);this.dI=null;this.Nd=null;this.V=null;this.eg=null};
c.TL.prototype=new c.Yu;c.TL.prototype.iu=function(h,e,v,J,m){if(h.V=="start"){if(v.X.length==0)return;
var d=v.T[v.X[0]];if(d.add.SoLd&&d.TM<=0&&v.kH.length==0){}else if(!v.YB(e,null,!0))return;var x=h.Ps;
if((aE[x]||f8.F[x])&&h.GL==null){if(v.X.length!=1)alert("Will be applied to "+v.X.length+" layers.");
var j=new g3(k.E.u,!0);j.data=c.TL.aiW(x,this.tW(v,x),h.iq);e.a(j)}else{var E={V:"edit",Ps:x,GL:h.GL,AU:this.tW(v)};
this.iu(E,e,v,J,m);E.V="confirm";delete E.GL;this.iu(E,e,v,J,m)}}if(h.V=="edit"||h.V=="cancel"||h.V=="confirm"){if(h.V=="edit")this.eg=[h.Ps,h.GL];
if(h.AU)this.aHn(h,e,v,m);else this.a3F(h,e,v,m)}if(h.V=="applylast"&&this.eg!=null){var E={V:"edit",Ps:this.eg[0],GL:this.eg[1],AU:this.tW(v)};
this.iu(E,e,v,J,m);E.V="confirm";delete E.GL;this.iu(E,e,v,J,m)}};c.TL.aiW=function(h,e,v){var J=f8.F[h];
if(J)return{V:k.l.px,I:J,yJ:{AU:e,iq:v}};else return{V:k.l.Xq,dF:"afw_"+h,AU:e}};c.TL.prototype.tW=function(h,e){var v=h.T[h.X[0]],J;
if(v.add.SoLd&&v.TM<=0&&h.kH.length==0){J={L:h.X[0],index:0};if(v.add.SoLd.filterFX!=null){var m=v.add.SoLd.filterFX.v.filterFXList.v;
J.index=m.length;for(var T=0;T<m.length;T++)if(f8.FA(m[T].v)=="rigidTransform")J.index=T}}return J};
c.TL.prototype.aHn=function(h,e,v,J){var m=v.T[h.AU.L],d=h.Ps;if(h.V=="edit"){if(this.V==null){var x=f8.names[d];
if(x==null)x=hy.names[d];if(d=="blendOptions")x=[14,10];this.V=new aO(x,this);this.V.data={AU:h.AU,aAn:B.t(m.add.SoLd)}}if(!m.vO()){m.add.SoLd.filterFX=f8.Tw();
var j=this.V.data.hv=e7.a8k(m.add.SoLd.placed.v);v.eF(j);if(v.K){j.N.G=v.K.G.slice(0);j.N.R=v.K.R.O();
j.N.color=0;this.V.data.B1=v.K;v.K=null}m.eW(v)}var E=m.add.SoLd.filterFX.v.filterFXList.v;if(E[h.AU.index]==null){E.push(f8.BN(d,J))}if(h.GL){E[h.AU.index].v.enab.v=h.tB!=!0;
if(d=="blendOptions")E[h.AU.index].v.blendOptions.v=h.GL;else E[h.AU.index].v.Fltr.v=h.GL}this.V.data.aw7=B.t(m.add.SoLd);
this.W1(this.V.data,v)}if(h.V=="cancel"){if(this.V)this.ZL(this.V.data,v);this.V=null}if(h.V=="confirm"){if(this.V)v.Mk(this.V);
c.tC.O5(e,this.eg);this.V=null}};c.TL.prototype.jo=function(h){return{n:h>>>16,i:h>>>8&255,b:h&255}};
c.TL.prototype.a3F=function(h,e,v,J){if(this.dI==null){var m=f8.L4(h.Ps,h.GL);this.dI=c.tC.getData(v,m.x!=0||m.y!=0,h.Ps=="VaPo"?[{e3:h.wp[1]}]:null)}if(h.V=="edit"){var d=JSON.stringify(h.GL);
if((h.GL==null||d!=this.Nd)&&h.tB!=!0)for(var T=0;T<this.dI.length;T++){var x=this.dI[T],j={R:x.e3,buffer:x.ND},E={R:x.e3,buffer:x.tH};
if(h.Ps=="Avrg"&&x.Fy){j.buffer=x.ND.slice(0);B.yr(x.Fy,j.buffer)}f8.$a(h.Ps,j,h.GL,this.jo(J.kc),this.jo(J.kF),E,[v.add.lnk2?v.add.lnk2:[],v.T[v.X[0]].NH(),v.Ar,v.rx()]);
if(h.Ps=="VaPo"){B.YZ(h.wp[0],h.wp[1],E.buffer,E.R)}if(h.Ps=="Avrg"&&x.Fy){var L=x.ND.length;for(var T=0;
T<L;T+=4)x.tH[T+3]=x.ND[T+3]}this.Nd=d}c.tC.jJ(v,this.dI,h.tB)}if(h.V=="cancel"){c.tC.ajK(v,this.dI);
this.dI=null;this.Nd=null}if(h.V=="confirm"){if(h.Ps=="VaPo"){this.dI.aea=JSON.stringify(v.uF);this.dI.iZ=JSON.stringify(h.J);
v.uF=h.J}c.tC.Jl(v,this.dI,f8.names[h.Ps],this);this.dI=null;this.Nd=null;c.tC.O5(e,this.eg)}v.dn();
v.L9=!0};c.TL.prototype.ZL=function(h,e){if(h.iZ)e.uF=JSON.parse(h.aea);if(h.AU){var v=e.T[h.AU.L];if(h.hv)e.JK(h.hv);
if(h.B1)e.K=h.B1;v.add.SoLd=B.t(h.aAn);if(v.vO())v.pM(e);else{v.eW(e);v.TM=0}}else c.tC.z1(e,h);e.dn();
e.L9=!0};c.TL.prototype.W1=function(h,e){if(h.iZ)e.uF=JSON.parse(h.iZ);if(h.AU){var v=e.T[h.AU.L];if(h.hv)e.eF(h.hv);
if(h.B1)e.K=null;v.add.SoLd=B.t(h.aw7);if(v.vO())v.pM(e);else v.eW(e);if(!v.Uo())v.IT+=32}else c.tC.z1(e,h);
e.dn();e.L9=!0};c.TL.prototype.Fb=function(h){return h.AU==null?c.tC.Fb(h):0};var dq={AY:"0",ty:"1",vk:"2",oK:"3",Hn:"3.5",NC:"4",to:"5",pt:"6",fU:"7",A:"8",yR:"8.5",fJ:"8.8",Iz:"9",Na:"10",PC:"11",j_:"12",a0:"13",lc:"14",Nh:"15",G$:"16",Gn:"17",rz:"18",SH:"19",Ih:"21",x8:"22",ik:"23",xo:"23.0",Cw:"23.1",tp:"23.2",WC:"23.3",lD:"23.4",lp:"23.5",Xr:"23.6",agZ:"30",Ls:"31",Cy:"40",LQ:"41",Dy:"42"};
dq.AM={};dq.AM[dq.ty]=["abr","brushes",bI,[9,3],3];dq.AM[dq.vk]=["grd","gradients",kt,[12,37],4,36,36];
dq.AM[dq.oK]=["shc","contours",hM,[12,21],0];dq.AM[dq.Hn]=["acv","curves",fZ,[4,2],0];dq.AM[dq.NC]=["asl","styles",fG,[12,22],5];
dq.AM[dq.to]=["pat","patterns",aT,[12,62],6];dq.AM[dq.pt]=["csh","shapes",dI,[12,77],7];dq.AM[dq.fU]=["aco","swatches",fy,[9,8],0,22,22];
dq.AM[dq.A]=["atn","actions",eN,[9,9],2];dq.AM[dq.yR]=["tpl","tpresets",ji,[9,12],0];dq.AM[dq.fJ]=["icc","profiles",gX,"LUTs",8];
function aO(h,e,v){if(v==null)v=!1;this.name=h;this.I=e;this.sC=v;this.data=null;this.a05=Date.now()}aO.prototype.Fb=function(){return this.I?this.I.Fb(this.data):0};
var h8={};h8.$j=function(h,e){var v={t:"Clss",v:{classID:h}};if(e)v={t:"Enmr",v:{classID:h,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[v]}};h8.Ks=function(h,e){var v={classID:"Lyr"};v[h]=e;return{UH:"set",TH:{classID:"null",null:h8.$j("Lyr",!0),T:{t:"Objc",v:v}}}};
h8.aHb=function(h,e,v,J,m){var d=new g3(k.E.Fq,!0),x=[],T=0,j=h8.Kf(e,v,J,x);while(x.length!=0){var E=x.pop();
T++;if(!E.m)continue;console.log(T-1);if(E.UH=="conditional"){var L=h.T[h.X[0]],p=E.TH.null.v.Cndt,Z=!1;
if(p=="Bckg")Z=!1;else if(p=="Pxel"&&h.kC(!1))Z=!0;else if(p=="Adjs"&&hy.get(L.add))Z=!0;else if(p=="Shp"&&L.add.vogk)Z=!0;
else if(p=="Grup"&&L.XN())Z=!0;else if(p=="Opn"&&h!=null)Z=!0;else if(p=="32Bt")Z=!1;else if(p=="RGB")Z=!0;
var o=E.TH.then,u=E.TH.else;if(Z&&o)h8.Kf(e,o.v[0].v.val,o.v[1].v.val,x);if(!Z&&u)h8.Kf(e,u.v[0].v.val,u.v[1].v.val,x)}else if(E.UH=="stop"){if(E.TH.Cntn&&E.TH.Cntn.v==!0)window.confirm(E.TH.Msge.v);
else{alert(E.TH.Msge.v);break}}else if(E.UH=="play"){var N=E.TH.null.v,M=new g3(k.E.u,!0);M.data={V:k.l.n9,d9:[N[0].v.val,N[1].v.val]};
m.a(M)}else{d.data={UH:E.UH,TH:E.TH};m.a(d)}}};h8.WG=function(h,e,v){var J;for(var T=0;T<h.length;T++){if(h[T].SQ!=v)continue;
var m=h[T].L1;for(var d=0;d<m.length;d++){if(m[d].SQ!=e)continue;J=m[d]}}return J};h8.Kf=function(h,e,v,J){var m=h8.WG(h,e,v).L1,d=m.length;
for(var T=0;T<d;T++)J.push(m[d-1-T])};h8.aG7=function(h){var e=h.UH,v=h.TH,J,x,j,E,L;if(v&&v.null)J=v.null.v[0];
if(v&&J==null&&v.At)J=v.At.v[0];if(J&&J.t=="obj ")J=J.v[0];var m=J&&J.v?J.v.classID:null,d=["purge"];
if(d.indexOf(e)!=-1)return e[0].toUpperCase()+e.slice(1);if(e=="GEfc"||e=="paintDaubs")return aS.names[v.GEfk.v.GEft][1];
L=hy.Ht;for(x in L)if(L[x]==e)j=x;L=f8.Ht;for(x in L)if(L[x]==e)E=x;L=f8.Ht;for(x in L)if(x==e)E=x;if(j){var p=hy.gI(j,v);
if(p!=-1)return[4,16,p];return hy.names[j]}if(E)return f8.names[E];var Z=h8.asf;if(e=="make"){if(J){if(m=="AdjL")return[6,1];
else if(m=="layerSection")return v.From?[6,9]:[6,20];else if(m=="Lyr")return[6,13];else if(m=="Chnl"&&J.v.enum=="Msk")return[6,2];
else if(m=="contentLayer")return[6,48,1];else if(m=="BckL")return"Make Background Layer";else if(m=="Path")return"Make Path";
else if(m=="TxLr")return"Make Text Layer";else if(m=="slice")return"Make Slices";else if(m=="Dcmn")return[11,7];
else if(m=="Gd")return[23,4];else if(m=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(v.Nw){m=v.Nw.v.classID;
if(m=="Dcmn")return[11,7];else if(m=="Chnl"||m=="SCch")return"New Channel"}}else if(e=="deselect"){if(m=="Path")return"Deselect current path";
else throw m}else if(e=="draw"){return"Draw"}else if(e=="select"){if(m=="Chnl"){var o={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[J.v.enum];
if(o==null)o="";return"Select "+o+" Channel"}else if(m=="Mn")return"Select Panel \""+J.v.enum+"\"";else if(m=="Lyr"){if(J.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[J.v.enum]+" Layer";
return"Select Layer \""+J.v.val+"\""}else if(m=="Path")return"Select Path";else if(m=="Brsh")return"Select Brush";
else if(m=="Dcmn")return"Select Document"}else if(Z[e]&&m=="Chnl"){var u=J.v.keyID=="fsel";return Z[e]+" "+(u?"Selection":"Channel")}else if(e=="set"){if(m=="Lyr")return"Set Current Layer";
else if(m=="AdjL")return[6,39];else if(m=="contentLayer")return[6,48,2];else if(m=="Prpr"){var N=J.v.keyID;
if(N=="TxtS")return"Set Text Style";else if(N=="paragraphStyle")return"Set Paragraph Style";else if(N=="Lefx")return[11,6];
else console.log(N)}else if(m=="Clr")return"Set "+(J.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(m=="Brsh")return"Set Brush";else if(m=="Path")return"Set Work Path";else console.log(m)}else if(e=="move"){if(m=="Lyr")return"Move Layer";
else if(m=="Chnl"&&J.v.keyID=="fsel")return[7,7];else console.log(m)}else if(e=="show"||e=="hide"){var M="";
if(m=="Lyr")M="Layer";if(m=="Chnl")M="Channel";if(m=="filterFX")M="Filter Effect";return(e=="show"?"Show":"Hide")+" "+M}else if(e=="reset"){if(m=="Clr")return"Reset Colors"}else if(e=="exchange"){if(m=="Clr")return[22,7,0]}else if(e=="rotateEventEnum")return[2,5];
else if(e=="flip"){var O=v.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,O?2:3]]}if(e=="duplicate"&&m=="Dcmn")return"Duplicate first document";
if(m=="Chnl"){if(e=="duplicate"){if(J.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(e=="delete")return"Delete Channel"}if(e=="transform")return J&&J.v.keyID=="fsel"?[7,10]:[10,16];
var F={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:v?m=="Lyr"?[6,31]:m=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},W=F[e];
if(W==null)W=h8.aB9[e];if(W)return W;return e};h8.aB9={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
h8.asf={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
h8.aGv=function(h,e,v,J){var m=h.UH,d=h.TH,x=!1,j=new g3(k.E.A,!0),Z,o,u,N;j.I=c.Yn;var E=new g3(k.E.u,!0),L=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(L.indexOf(m)!=-1)return;var p=m;while(p.length<4)p+=" ";N=hy.Ht;for(Z in N)if(N[Z]==p)o=Z;N=f8.Ht;
for(Z in N)if(N[Z]==p)u=Z;N=f8.Ht;for(Z in N)if(Z==p)u=Z;if(m=="fade")o=m;if(m=="matchColor")o="matc";
if(m=="applyImageEvent")o="aply";if(o){j.I=c.EM;j.data={V:"start",yo:o,GL:d}}else if(u){j.I=c.hk;j.data={V:"start",Ps:u,GL:d}}else if(m=="GEfc"||m=="paintDaubs"){j.I=c.hk;
j.data={V:"start",Ps:"GEfc",GL:d}}else if(m=="imageSize"||m=="canvasSize"||m=="revealAll"||m=="trim"||m=="crop"){j.I=c.jI;
j.data={V:"fromAction",tT:h}}else if(m=="fill"||m=="stroke"||m=="delete"&&d==null){var M=null;if(J.X.length!=0)M=J.T[J.X[0]];
var O=B.UY(v.kc);if(M!=null&&m=="fill"&&M.add.TySh){var F="var c = new SolidColor();  c.rgb.red="+O.n+";  c.rgb.green="+O.i+";  c.rgb.blue="+O.b+";  app.activeDocument.activeLayer.textItem.color = c;";
E.data={V:k.l.M7,Ds:F}}else if(M!=null&&m=="delete"&&M.add.TySh){j.I=c.HV;j.data={V:"insertText",J:""}}else if(M!=null&&m=="fill"&&M.Yb()){var j=new g3(k.E.Fq,!0),d={classID:"setd",null:h8.$j("contentLayer",!0),T:{t:"Objc",v:{}}};
c.YK.AZ({Clr:{t:"Objc",v:B.Vh.WZ(B.UY(v.kc))}},d.T.v,0);j.data={UH:"set",TH:d};e.a(j);return}else if(m=="stroke"&&d&&d.null==null){j.I=c.dY;
j.data={V:"stroke",aH_:d}}else{if(m=="stroke"&&d&&d.Usng)j.I=c.Ht[d.Usng.v.classID];else j.I=v.jR==c.aL?c.aL:c.ty;
j.data={V:"fromAction",tT:h}}}else if(m=="colorRange"||m=="grow"||m=="similar"){j.I=c.K2;j.data={V:"fromAction",tT:h}}else if(m=="set"&&d&&d.T&&d.T.v.Ordn=="Al"&&v.jR==c.HV&&e.wM().G0()){j.I=c.HV;
j.data={V:"selectAll"}}else if(h8.aB9[m]||h8.asf[m]&&(!1||d.With&&d.With.v[0].v.keyID=="fsel"||d.From&&d.From.v[0].v.keyID=="fsel"||d.null&&d.null.v[0].v.keyID=="fsel"||d.T.v[0]&&d.T.v[0].v.keyID=="fsel")){j.I=c.Wm;
j.data={V:"fromAction",tT:h}}else if(m=="rasterizeLayer"){j.data={V:d.What?d.What.v.rasterizeItem=="vectorMask"?s.jS:s.aeV:s.S5}}var W={copyToLayer:s.au,cutToLayer:s.Ha,mergeLayersNew:s.X$,mergeVisible:s.uW,flattenImage:s.alP,newPlacedLayer:s.k$};
if(W[m])j.data={V:W[m],TH:d};if(j.data){e.a(j);return}if(m=="collapseAllGroupsEvent"){for(var T=0;T<J.T.length;
T++){var M=J.T[T];if(M.XN())M.add.lsct=d7.kZ}J.NK=!0;return}if(m=="desaturate"||m=="Dstt"){j.I=c.EM;
j.data={V:"auto",xY:3};if(J&&J.T[J.X[0]].add.SoLd==null)e.a(j);return}if(m=="close"){if(d&&d.Svng.v.YsN=="Ys"){E.data={V:k.l.TN};
e.a(E)}E.data={V:k.l.Q$,tL:J};e.a(E);return}if(m=="save"){E.data={V:k.l.TN};e.a(E);return}if(m=="copyMerged"){E.data={V:k.l.Bn,fz:!0,qT:!0};
e.a(E);return}if(m=="placedLayerReplaceContents")E.data={V:k.l.iv,tQ:!0};var W={placedLayerEditContents:k.l.aBQ,placedLayerExportContents:k.l.abl,copyEvent:k.l.Bn,paste:k.l.Qv};
if(W[m])E.data={V:W[m],qT:!0};if(E.data){e.a(E);return}var f=d.null?d.null.v:null,$=f?f[0].v.classID:"";
if(m=="make"){if(d.null==null&&d.Nw)$=d.Nw.v.classID;if($=="AdjL"){j.data={V:s.oX,TH:d}}else if($=="layerSection"){j.data=d.From?{V:s.ha}:{V:s.B_};
if(d.Usng){var H=d.Usng.v;if(H.Nm)j.data.Di=H.Nm.v;if(H.Clr)j.data.F$=h8.X4(H)}}else if($=="Lyr"){if(d.Usng&&d.Usng.v.length==2)j.data={V:s.ad9};
else{j.data={V:s.yY};if(d.Usng)j.data.Di=d.Usng.v.Nm.v;if(d.below&&d.below.v)j.data.ajd=!0}}else if($=="Chnl"&&d.At&&d.At.v[0].v.enum=="Msk"){j.data={V:s.mH,MC:d.Usng.v.UsrM}}else if($=="Chnl"||$=="SCch"){j.data={V:s.tn,rf:"fromAction",J:h}}else if($=="contentLayer"){j.data={V:s.Z8,TH:d}}else if($=="BckL"){J.T[J.X[0]].azs();
return}else if($=="Dcmn"){if(d.Nw==null)return;var A=d.Nw.v;E.data={V:k.l.zM,Zw:e7.a2C(A,v)}}else if($=="Ptrn")E.data={V:k.l.hJ,m0:0};
else if($=="Brsh")E.data={V:k.l.hJ,m0:1};else if($=="Path"){var G=d.At;if(G&&G.v&&G.v[0]&&G.v[0].v&&G.v[0].v.enum=="vectorMask"){j.I=c.Yn;
var l=!1,K=!1;if(d&&d.Usng){var H=d.Usng.v;l=H.vectorMaskEnabled=="RvlA";K=H[0]&&H[0].v.classID=="Path"}j.data={V:s.YD,atQ:!l,az0:K}}else{j.I=c.uP;
j.data={V:"pathedit",rf:"fromsel"}}}else if($=="TxLr"){j.I=c.HV;j.data={V:"fromAction",tT:h}}else if($=="slice"){j.I=c.e0;
j.data={V:"fromAction",tT:h}}else if($=="Gd"){var U=[[],[]],A=d.Nw.v;U[A.Ornt.v.Ornt=="Vrtc"?0:1].push(A.Pstn.v.val);
var z=iB.ht(U);c.Pj.bF(z,J.XX());j.I=c.GA;j.data={V:"gids",qR:z}}else{console.log(m,$,d);throw"e"}}else if(m=="divide"){j.I=c.e0;
j.data={V:"fromAction",tT:h}}else if(m=="deselect"){if($=="Path"){J.cg=[];J.Z3=[];J.NK=J.GI=!0;return}else throw $}else if(m=="selectNoLayers"){J.X=[];
J.L9=!0}else if(m=="selectAllLayers"){J.X=[];for(var T=0;T<J.T.length;T++)J.X.push(T);J.L9=!0;return}else if(m=="select"){var q=c.Ht;
if($=="Lyr"){var P=d.selectionModifier,g=P?P.v.selectionModifierType:null,a=h8.tV(J,f[0]),w=0;if(a==-1){alert("Layer "+f[0].v.val+" does not exist.");
return}var M=J.T[a];if(M.XN()&&M.NH()&&P==null)w=1;j.data={V:s.hg,L:a,lB:g?["addToSelection","addToSelectionContinuous"].indexOf(g):null,JX:w}}else if($=="Path"){if(f[0].v.keyID=="WrPt"){J.cg=[0];
J.NK=J.GI=!0;return}else if(f[0].t=="name"){for(var T=0;T<J.H0.length;T++)if(J.H0[T].name==f[0].v.val){J.cg=[T];
J.NK=J.GI=!0;return}}else throw f[0]}else if($=="Chnl"){var y=f?f[0].v.enum:"",S=["Rd","Grn","Bl"].indexOf(y);
if(S!=-1){var i=d.Extd&&d.Extd.v?J.p.Y.slice(0):[0,0,0];i[S]=1;j.I=c.I5;j.data={V:"setcls",Y:i}}else j.data={V:s.hg,L:a,JX:y=="RGB"?0:1}}else if($=="Dcmn"){if(e.qk.length<2)return;
E.data={V:k.l.afU,dir:d.null.v[0].v.val}}else if($=="Brsh"){var C=v.Zb.list,Y;for(var T=0;T<C.length;
T++){if(C[T].v.Nm.v.split("/").pop()==f[0].v.val)Y=C[T].v}if(v.jR==c.GA){E.data={V:k.l.px,I:c.ty};e.a(E)}E.data={V:k.l.Gi,m0:dq.lc,Pz:Y}}else if($=="Mn"){if(f[0].v.enum=="Scl")E.data={V:k.l.px,I:c.Li,yJ:{MC:3}};
if(f[0].v.enum=="Plce")E.data={V:k.l.iv,aab:!0};if(f[0].v.enum=="ZmIn"){j.I=c.ZM;j.data={V:"zoom",YV:!0}}if(f[0].v.enum=="ZmOt"){j.I=c.ZM;
j.data={V:"zoom",YV:!1}}if(f[0].v.enum=="FtOn"){j.I=c.ZM;j.data={V:"adapt",J:"fitscr"}}}else if(q[$]){E.data={V:k.l.px,I:q[$]}}else throw $}else if(m=="draw"){j.I=c.uP;
j.data={V:"fromAction",tT:h}}else if(m=="gradientClassEvent"){j.I=c.EZ;j.data={V:"fromAction",tT:h}}else if((m=="set"||m=="reset"||m=="exchange")&&$=="Clr"){E.data={V:k.l.Gi,m0:dq.Ih,rf:m=="reset"?3:2};
if(m=="set"){E.data.rf=f[0].v.keyID=="FrgC"?0:1;var _=B.Vh.SL(d.T.v);E.data.J=_.n<<16|_.i<<8|_.b}}else if(m=="set"){if($=="AdjL"){var t=d.T.v.classID;
t=hy.D7[t];j.I=c.EM;if(t)j.data={V:"edit_layer",J:d.T.v}}else if($=="Lyr"){var I=d.T.v,a=h8.tV(J,f[0]);
for(var r in I){if(r=="classID")continue;j.I=c.Yn;if(r=="Nm")j.data={V:s.rg,name:I.Nm.v};else if(r=="Opct")j.data={V:s.Dw,uO:Math.round(I.Opct.v.val*255/100)};
else if(r=="fillOpacity")j.data={V:s.bO,uO:Math.round(I.fillOpacity.v.val*255/100)};else if(r=="Md")j.data={V:s.ac,uO:cc.s7.indexOf(I.Md.v.BlnM)+(J.T[a].XN()?1:0)};
else if(r=="Usrs")j.data={V:s.HI,L:a};else if(r=="Blnd"){j.I=c.MP;j.data={V:"setstl",L:a,J:{blendOptions:{t:"objc",v:I}}};
e.a(j);j.data={V:"confirm",L:a}}else if(r=="userMaskFeather"||r=="userMaskDensity"){var n=I.userMaskFeather,Q=I.userMaskDensity,a=J.X[0],D=J.T[a].yD(0);
if(n)D.Nu=n.v.val;if(Q)D.xV=Q.v.val;j.data={V:s.Fc,Eq:a,YH:D}}else if(r=="Clr"){var O=h8.X4(I);j.data={V:s.dO,aCW:O}}else if(r=="Lefx")h8.auV(e,a,I.Lefx.v,v);
else{console.log(d);throw r}if(j.data){e.a(j);delete j.data}}j.data={};var M=J.T[a];M.a97()}else if($=="Prpr"){var I=B.t(d.T.v),a=h8.tV(J,d.null.v[1]),M=J.T[a],dG=f[0].v.keyID;
if(dG=="TxtS"||dG=="paragraphStyle"){var R=M.add.TySh,X=B.t(R.lf),dx=fr.X3(X),jv=fr.aX(X,0,dx.length-2);
if(dG=="TxtS")fr.amP(I,jv);else fr.a60(I,jv);fr.UE(X,0,dx.length-1,jv);j.I=c.HV;j.data={V:"newED",Ed:a,gW:X}}else if(dG=="Lefx"){for(var gB in I)if(I[gB].v){if(gB=="Scl")I[gB].v.val=100}h8.auV(e,a,I,v);
j.data={}}else throw dG}else if($=="contentLayer"){var a=h8.tV(J,f[0]),I=d.T.v,hQ=!0;if(I.classID=="shapeStyle"){if(I.strokeStyle){I=I.strokeStyle.v;
hQ=!1}else I=I.FlCn.v}if(hQ){var kG={solidColorLayer:0,gradientLayer:1,patternLayer:2}[I.classID],iZ=fL.aB(J.T[a].add),u=iZ.oH==kG+1?iZ.ag:fL.fZ[kG];
u=B.t(u);c.YK.AZ(I,u,kG);j.data={V:s.A0,oP:[a],zS:!0,J:{oH:kG+1,ag:u}}}else{var bs=B.t(J.T[a].add.vstk);
for(var gB in I)bs[gB]=I[gB];j.data={V:s.A0,oP:[a],zS:!1,J:bs}}}else if($=="Brsh"){var Y=B.t(v.Zb.kt),ey=d.T.v;
if(ey.masterDiameter)Y.Brsh.v.Dmtr.v.val=ey.masterDiameter.v.val;else console.log("unknown brush parameters");
E.data={V:k.l.Gi,m0:dq.lc,Pz:Y}}else if($=="Path"){j.I=c.uP;j.data={V:"fromAction",tT:h}}else if($=="TxLr"){j.I=c.HV;
j.data={V:"fromAction",tT:h}}else{console.log(f[0],d);throw $}}else if(m=="move"){if($=="Lyr"){var I=d.T.v;
if(I.classID=="Ofst"){j.data={V:"trsl",Vx:I.Hrzn.v.val,N6:I.Vrtc.v.val};j.I=c.GA}else{var jp,eh;if(I[0].t=="Enmr"){if(I[0].v.enum=="Frnt")eh=0;
else if(I[0].v.enum=="Nxt")eh=1;else if(I[0].v.enum=="Prvs")eh=2;else if(I[0].v.enum=="Back")eh=3;else throw"e"}else jp=I[0].v.val;
j.data={V:s.hB,target:jp,rf:eh,ayh:d.Dplc?d.Dplc.v:!1}}}else if($=="Chnl"&&f[0].v.keyID=="fsel"){j.I=c.Wm;
j.data={V:"fromAction",tT:h}}}else if(m=="groupEvent"||m=="ungroup")j.data={V:s.QR};else if(m=="show"||m=="hide"){var dt=d.null.t;
if(dt=="obj "){if(f[0].v.val!=null)j.data={V:s.uw,index:f[0].v.val-1};else j.data={V:s.KJ}}else if(dt=="VlLs"){var $=f[0].v[0].v.classID;
if($=="Chnl")j.data={V:s.tn,rf:"fromAction",J:h};else{var jN=$=="filterFX"?f:f[0].v;for(var T=0;T<jN.length;
T++){if($=="filterFX")j.data={V:s.uw,index:jN[T].v[0].v.val-1};else{var a=h8.tV(J,jN[T]),jX=J.T[a].oA();
if(m=="show"&&jX||m=="hide"&&!jX)continue;j.data={V:s.KA,oP:[a]}}e.a(j)}return}}else throw dt}else if(m=="rotateEventEnum"){j.I=$=="Lyr"?c.Li:c.jI;
var jw=d.Angl.v.val;j.data={V:"rot",SQ:[2,5],J:-jw*Math.PI/180}}else if(m=="flip"){j.I=$=="Lyr"?c.Li:c.jI;
var i7=d.Axis.v.Ornt=="Hrzn",kn=i7?new fq(-1,1):new fq(1,-1);j.data={V:"scl",SQ:[[2,6],[22,4,i7?2:3]],J:kn}}else if(m=="transform"){var eK=1,ee=1,az=0,k7=0,al=0,kl=0,b9=0,dK=null,f6=null;
if(d.Wdth)eK=d.Wdth.v.val/100;if(d.Hght)ee=d.Hght.v.val/100;if(d.Skew){var h9=d.Skew.v;az=h9.Hrzn.v.val;
k7=h9.Vrtc.v.val}if(d.Ofst){var ge=d.Ofst.v;kl=ge.Hrzn.v.val;b9=ge.Vrtc.v.val}if(d.Angl)al=d.Angl.v.val;
var iN=new aJ;iN.concat(new aJ(eK,eK*Math.tan(k7*Math.PI/180),ee*Math.tan(az*Math.PI/180),ee,0,0));iN.rotate(-al*Math.PI/180);
iN.translate(kl,b9);var a8=B.D.fi(iN);if(d.Usng){var ge=d.Usng.v;a8[6]=ge.Hrzn.v.val/100;a8[7]=ge.Vrtc.v.val/100}var fS=d.FTcs.v.QCSt;
if(fS=="Qcsi"){var cf=d.Pstn.v;dK=new fq(cf.Hrzn.v.val,cf.Vrtc.v.val)}else f6=c.L2.adI[fS];var f=d.null;
if(f&&f.v instanceof Array)f=f.v[0];var a=f?h8.tV(J,f):null;if(a==-1)a=null;j.I=f&&f.v.keyID=="fsel"?c.gz:c.Li;
j.data={V:"dtr",o5:f6,J:a8,kO:d.warp,aqI:dK}}else if(m=="duplicate"){if($=="Chnl")j.data={V:s.tn,rf:"fromAction",J:h};
else if($=="Dcmn"){var iG=gI.g6("PSD").oZ(J);ke.we({url:J.name},iG,e);return}else if($=="Actn"){var eC=v.cW,kH=f[1].v.val,i0=null;
for(var T=0;T<eC.length;T++)if(eC[T].SQ==kH)i0=eC[T];var e5=h8.WG(eC,f[0].v.val,kH);e5=B.t(e5);e5.SQ+=" copy";
i0.L1.push(e5);return}else j.data={V:s.Zn,Di:d.Nm?d.Nm.v:null}}else if(m=="delete"){if($=="filterFX"){if(f[0].v.val!=null)j.data={V:s.q9,d1:f[0].v.val-1};
else j.data={V:s.VQ}}else if($=="Path"){if(f&&f.length==2&&f[0].v.enum=="vectorMask"&&f[1].v.classID=="Lyr"){j.I=c.Yn;
j.data={V:s.h5}}else{j.I=c.uP;j.data={V:"pathedit",rf:"del"}}}else if($=="Lyr")j.data={V:s.Zt};else if($=="Chnl"&&f[0].v.enum=="Msk")j.data={V:s.Of};
else if($=="Chnl")j.data={V:s.tn,rf:"fromAction",J:h};else if($=="Cmnd"){var eC=v.cW,kH=f[2].v.val,e5=h8.WG(eC,f[1].v.val,kH);
e5.L1.splice(f[0].v.val-1,1);return}else if($=="Actn"){var eC=v.cW,kH=f[1].v.val,i0=null;for(var T=0;
T<eC.length;T++)if(eC[T].SQ==kH)i0=eC[T];var e5=h8.WG(eC,f[0].v.val,kH);i0.L1.splice(i0.L1.indexOf(e5),1);
return}else if($=="ASet"){var eC=v.cW,kH=f[0].v.val,i0=null;for(var T=0;T<eC.length;T++)if(eC[T].SQ==kH)i0=eC[T];
if(i0==null)return;eC.splice(eC.indexOf(i0),1);J.L9=!0;return}else throw $}else if(m=="align"){if(d.Aply&&d.Aply.v.projection=="Auto"){j.I=c.jI;
j.data={V:"auto-align"}}else{j.I=c.GA;var gA=d.Usng.v.ADSt,o={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[gA];
if(o==null)throw gA;j.data={V:"algn",J:o}}}else if(m=="applyLocking"){var bW=d.layerLocking.v,e3;if(bW.protectTransparency)e3=[[bW.protectTransparency.v],[0]];
else if(bW.protectNone)e3=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(bW);throw"e"}j.data={V:s.RK,uO:e3}}if(j.data)e.a(j);
else if(E.data)e.a(E);else{console.log(h);alert("Unknown action \""+m+"\"");throw"e"}};h8.auV=function(h,e,v,J){v=B.t(v);
ba.pw(v);if(v.masterFXSwitch==null)v.masterFXSwitch={t:"bool",v:!0};console.log(v);var m=fL.oN;for(var d=0;
d<m.length;d++)if(v[m[d]]){for(var T=0;T<v[m[d]].v.length;T++){var x=v[m[d]].v[T].v;for(var j=0;j<2;
j++){var E=x[j==0?"TrnS":"MpgS"];if(E&&E.v.Crv==null){var L=E.v,p=L.Nm.v.split("=").pop(),Z=J.CT,o=0;
for(var u=0;u<Z.length;u++){var N=Z[u].Nm.v.split("=").pop();if(N==p)o=u}L.Crv=B.t(Z[o].Crv)}}}}var M=new g3(k.E.A,!0);
M.I=c.MP;M.data={V:"setstl",L:e,J:{Lefx:{t:"objc",v:v}}};h.a(M);M.data={V:"confirm",L:e};h.a(M)};h8.X4=function(h){var e={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[h.Clr.v.Clr];
if(e==null)throw h.Clr.v.Clr;return e};h8.tV=function(h,e){var v=1e6,J=0,m=h.T.length;for(var T=0;T<h.X.length;
T++){v=Math.min(v,h.X[T]);J=Math.max(J,h.X[T])}var d=e.t,x=-1;if(d=="name"){var j=e.v.val,x=-1;for(var T=0;
T<m;T++)if(h.T[T].getName()==j){x=T;break}}else if(d=="Enmr"){if(h.X.length!=0)x=h.X[0];if(e.v.enum=="Frwr")x=J+1;
if(e.v.enum=="Bckw")x=v-1;if(e.v.enum=="Back")x=0;if(e.v.enum=="Frnt")x=m-1;x=(x+m)%m}else if(d=="prop"){if(e.v.keyID=="Bckg")x=0}else if(d=="indx")x=e.v.val-1;
return x};var hy={};hy.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
hy.a4D=["expA","clrL","selc"];hy.uZ=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];hy.aa$=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
hy.wh=[[13,1,1],[13,1,4],[13,1,5]];hy.Ec={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
hy.D7=function(){var h=B.t(hy.Ec);delete h.GrMp;h.GdMp="grdm";return h}();hy.Ht={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
hy.keys={levl:[dW.Dd,dW.hO],curv:[dW.Dd,dW.f_],hue2:[dW.Dd,dW.kP],nvrt:[dW.Dd,dW.CC],blnc:[dW.Dd,dW.BS]};
hy.RF=function(h){var e=f8.UX("mixr");e.Mnch={t:"bool",v:h.H4};function v(J,T){var m={classID:"ChMx"},d={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in d)m[x]={t:"UntF",v:{type:"#Prc",val:J[T+d[x]]}};return{t:"Objc",v:m}}if(h.H4)e.Gry=v(h.J,0);
else{e.Rd=v(h.J,0);e.Grn=v(h.J,5);e.Bl=v(h.J,10)}return e};hy.i5=function(h){function e(J,m,T){var d={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in d)if(J[x])m[T+d[x]]=J[x].v.val}var v={H4:!1,J:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(h.Mnch&&h.Mnch.v)v.H4=!0;if(v.H4)e(h.Gry.v,v.J,0);else{e(h.Rd.v,v.J,0);e(h.Grn.v,v.J,5);e(h.Bl.v,v.J,10)}return v};
hy.get=function(h){for(var e in hy.names)if(h[e]!=null)return e;return null};hy.hc=function(h,e){var v=hy.qB,J;
if(h=="brit"){var m=e.Brgh?e.Brgh.v:0,d=e.Cntr?e.Cntr.v:0,x=e.useLegacy?e.useLegacy.v:!1;if(x){var j=m/255,E=1+d/100;
if(E>1)E=1+Math.tan(Math.PI/2*d/101);var L=(1-E)/2,p=B.$c.vr(j,j,j),Z=[E,0,0,L,0,E,0,L,0,0,E,L,0,0,0,1],o=B.$c.multiply(Z,p),u=new B.Em(256);
for(var T=0;T<256;T++)u.n[T]=T;B.$c.transform(u,u,o);J={c:v.st,Sq:u.n,eK:u.n,Cs:u.n,pk:!1,Jm:!1}}else{var N=1024,M=-30+60*(d+100)/200,O=[];
for(var T=0;T<4;T++)O.push(B.CL.M$(T/3*255,T/3*255,!0));O[1].v.Hrzn.v=64;O[1].v.Vrtc.v=64-M;O[2].v.Hrzn.v=128+64;
O[2].v.Vrtc.v=128+64+M;O.sort(function(f5,kY){return f5.v.Hrzn.v-kY.v.Hrzn.v});var F=B.CL.zA(O,N);function W(f5,N){var O=[],iW=3;
for(var T=0;T<iW+1;T++)O.push(B.CL.M$(T/iW*255,T/iW*255,!0));O[1].v.Hrzn.v=130-f5*26;O[1].v.Vrtc.v=130+f5*51;
O[2].v.Hrzn.v=233-f5*48;O[2].v.Vrtc.v=233+f5*10;return B.CL.zA(O,N)}var f=W(Math.abs(m)/100,N);if(m<0){var $=[],H=1/N;
for(var T=0;T<N;T++){var A=T*H,G=T;while(f[G]>A&&G>1)G--;$[T]=G*H}f=$}var l=new Uint8Array(N);for(var T=0;
T<N;T++){var K=Math.round((N-1)*f[T]);l[T]=Math.round(255*F[K])}J={c:v.st,Sq:l,eK:l,Cs:l,pk:!1,Jm:!1}}}if(h=="levl"){var U=[],z,q,p,P,g,a;
for(var T=0;T<4;T++)U.push(a4.GT(e,T));z=-U[0][0]/255;q=1/(U[0][1]/255-U[0][0]/255);p=B.$c.multiply(B.$c.wd(q,q,q),B.$c.vr(z,z,z));
P=B.$c.wd(1/(U[1][1]/255-U[1][0]/255),1/(U[2][1]/255-U[2][0]/255),1/(U[3][1]/255-U[3][0]/255));g=B.$c.vr(-U[1][0]/255,-U[2][0]/255,-U[3][0]/255);
a=B.$c.multiply(P,g);var l=new B.Em(256);for(var T=0;T<256;T++)l.n[T]=l.i[T]=l.b[T]=T;var w=1/(U[0][4]/100),y=1/(U[1][4]/100),S=1/(U[2][4]/100),i=1/(U[3][4]/100);
B.$c.transform(l,l,a);for(var T=0;T<256;T++){l.n[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(l.n[T]/255,y))));
l.i[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(l.i[T]/255,S))));l.b[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(l.b[T]/255,i))))}B.$c.transform(l,l,p);
for(var T=0;T<256;T++){l.n[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(l.n[T]/255,w))));l.i[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(l.i[T]/255,w))));
l.b[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(l.b[T]/255,w))))}z=U[0][2]/255;q=U[0][3]/255-U[0][2]/255;
p=B.$c.multiply(B.$c.vr(z,z,z),B.$c.wd(q,q,q));P=B.$c.wd(U[1][3]/255-U[1][2]/255,U[2][3]/255-U[2][2]/255,U[3][3]/255-U[3][2]/255);
g=B.$c.vr(U[1][2]/255,U[2][2]/255,U[3][2]/255);a=B.$c.multiply(g,P);B.$c.transform(l,l,B.$c.multiply(p,a));
J={c:v.st,Sq:l.n,eK:l.i,Cs:l.b,pk:!1,Jm:!1}}if(h=="curv"){var C=fZ.GT(e,0).length==256?1:0,Y=[];if(C==0){var _=B.CL.Oh(fZ.GT(e,0),256);
for(var T=1;T<4;T++){var t=B.CL.Oh(fZ.GT(e,T),256);Y.push(B.CL.ab4(t,_))}}else{var I=[];for(var T=0;
T<4;T++){var r=new Uint8Array(256);I.push(r);var n=fZ.GT(e,T);for(var G=0;G<256;G++)r[G]=n[G]}for(var T=1;
T<4;T++)Y.push(B.CL.ab4(I[T],I[0]))}J={c:v.st,Sq:Y[0],eK:Y[1],Cs:Y[2],pk:!1,Jm:!1}}if(h=="expA"){var Q=e.Exps,D=e.Ofst,dG=e.gammaCorrection,R=Q?Q.v:0,X=D?D.v:0,dx=dG?dG.v:1,l=new Uint8Array(256);
for(var T=0;T<256;T++){var e=T/255,jv=Math.pow(Math.abs(X),1/(Math.PI/2));if(X>0){e=Math.max(X/Math.E,e);
e=e*Math.exp(X/1.75+R/Math.PI);e=(1-jv)*e+jv*1}else{e=e*Math.exp(-X*1.75+R/Math.PI);e=e+-jv*1.14}e=Math.pow(e,1/dx);
e=Math.max(0,Math.min(1,e));l[T]=Math.round(e*255)}J={c:v.st,Sq:l,eK:l,Cs:l,pk:!1,Jm:!1}}if(h=="vibA"){var gB=(e.vibrance?e.vibrance.v:0)/100,hQ=(e.Strt?e.Strt.v:0)/100,jv=1+gB*(gB>0?.25:.5),ah=.8+.2/jv;
J={c:v.ZX,m0:[gB,hQ,ah,jv]}}if(h=="hue2"){var kG=[],iZ=[],bs=[],ey=e.Clrz?e.Clrz.v:!1;for(var T=0;T<256;
T++){kG[T]=T/255;iZ[T]=0;bs[T]=0}var jp=bb.GT(e,0),eh=hy.Mj(jp[1]/100);if(ey){var dt=jp[0]/360;for(var T=0;
T<256;T++){kG[T]=dt;iZ[T]=eh}}else{for(var T=0;T<256;T++){var jN=kG[T],jX=iZ[T];kG[T]+=jp[0]/360;for(var G=0;
G<6;G++){var jw=bb.GT(e,G+1),i7=jw.dD,kn=jw.fW,jv=0;for(var eK=1;eK<4;eK++)if(kn[eK]<kn[0])kn[eK]+=360;
var ee=kn[0],az=kn[1],k7=kn[2],al=kn[3],kl=jN*360;if(kl<kn[0])kl+=360;var b9=(kl-ee)/(az-ee),h9=(kl-k7)/(al-k7);
if(b9<0)jv=0;else if(b9<1)jv=b9;else if(h9<0)jv=1;else if(h9<1)jv=1-h9;else jv=0;var E=hy.Mj(i7[1]/100);
kG[T]+=jv*i7[0]/360;iZ[T]+=jv*E;bs[T]+=jv*i7[2]/100}}for(var T=0;T<256;T++){iZ[T]=(1+iZ[T])*(1+eh)-1;
bs[T]=Math.max(-1,Math.min(1,bs[T]))}}var ge=new Uint8Array(256),iN=new Uint8Array(256),a8=new Uint8Array(256);
for(var T=0;T<256;T++){var dK=kG[T],hQ=iZ[T],f6=bs[T];if(dK>1)dK--;if(dK<0)dK++;hQ=hy.a6U(hQ);hQ=(1+hQ)*.5;
f6=(1+f6)*.5;ge[T]=Math.round(255*dK);iN[T]=Math.round(255*hQ);a8[T]=Math.round(255*f6)}var fS=jp[2]/100,cf=fS<0?-fS:fS,iG=fS<0?0:1;
J={c:v.Fl,afn:ge,AO:iN,axD:a8,aae:cf*iG,jv:1-cf,avh:jp[2]/100,a0o:ey?1:0}}if(h=="nvrt"){var l=new Uint8Array(256);
for(var T=0;T<256;T++)l[T]=255-T;J={c:v.st,Sq:l,eK:l,Cs:l,pk:!1,Jm:!1}}if(h=="post"){var eC=e.Lvls.v,l=new Uint8Array(256),jv=eC/255.001,kH=255/(eC-1);
for(var T=0;T<256;T++)l[T]=Math.floor(T*jv)*kH;J={c:v.st,Sq:l,eK:l,Cs:l,pk:!1,Jm:!1}}if(h=="grdm"){var i0=e.Grad.v,e5=e.Rvrs,N=1024,gA;
if(i0.Clrs){var bW=B.Vh.M6(i0,0,0);gA=B.Vh.abP(i0,bW,N,e5?e5.v:!1)}else{gA=B.Vh.a4r(i0,N,e5?e5.v:!1)}var e3=B.U(N),iL=B.U(N),h4=B.U(N);
B.Bq(gA,e3,0);B.Bq(gA,iL,1);B.Bq(gA,h4,2);J={c:v.st,Sq:e3,eK:iL,Cs:h4,pk:!0,Jm:!1}}if(h=="selc"){var iT=new Float32Array(9*3*2),hC=e.Ti,dS=e.Mthd?e.Mthd.v.CrcM=="Absl":!1;
for(var G=0;G<9;G++){var il=G*6,i6=dX.GT(e,G),co=i6[0]/100,bH=i6[1]/100,b5=i6[2]/100,ej=i6[3]/100;if(dS){iT[il]=iT[il+1]=iT[il+2]=1;
iT[il+3]=co*(1+ej)+ej;iT[il+4]=bH*(1+ej)+ej;iT[il+5]=b5*(1+ej)+ej}else{iT[il+0]=(1+co)*(1+ej);iT[il+1]=(1+bH)*(1+ej);
iT[il+2]=(1+b5)*(1+ej)}}J={c:v.gH,ajx:iT}}if(h=="blwh"){var id="Rd Yllw Grn Cyn Bl Mgnt".split(" "),J=[],hF=0,bz=0;
for(var T=0;T<6;T++)J.push(e[id[T]].v);J.push(e.useTint.v,e.tintColor.v);var dH=[];for(var T=0;T<6;T++)dH.push((J[T]-50)/50);
var hA=B.Vh.SL(J[7]);hA.n/=255;hA.i/=255;hA.b/=255;var fn=B.vB(hA.n,hA.i,hA.b),f6=B.qG(B.aP(fn.qw,1,.5)),iF=fn.eL*fn.GL;
if(f6==.5)hF=bz=.5;else{hF=iF*(.5-f6)/(.5/f6-1);bz=1-iF*(.5-f6)-1/(2*(1-f6));bz/=1-1/(2*(1-f6))}J={c:v.kv,aAb:dH,ge:J[6]?1:0,a1f:fn.qw,qG:f6,a6t:iF,JV:hF,a3e:bz}}if(h=="blnc"){var U=[],hN=["ShdL","MdtL","HghL"];
for(var T=0;T<3;T++){if(e[hN[T]]==null){U[T]=[0,0,0];continue}var eC=e[hN[T]].v,cA=eC[0].v/100,km=eC[1].v/100,gm=eC[2].v/100,gS=e.PrsL==null||e.PrsL.v?(Math.min(cA,km,gm)+Math.max(cA,km,gm))/2:0;
U[T]=[cA-gS,km-gS,gm-gS]}var Y=[B.U(256),B.U(256),B.U(256)];for(var G=0;G<3;G++)for(var T=0;T<256;T++){var A=T*(1/255),jl=0,M=0,ad=0;
M=U[2][G];ad=Math.abs(M);if(M<0)jl=Math.pow(A,Math.SQRT2);else jl=1.63*(Math.pow(A+.04,.5)-.2);A=ad*jl+(1-ad)*A;
M=U[1][G];ad=Math.abs(M);if(M<0)jl=Math.pow(A,2);else jl=Math.min(2.35*(Math.pow(A+.09,.5)-.3),Math.pow(A,1/2));
A=ad*jl+(1-ad)*A;M=U[0][G];ad=Math.abs(M);if(M<0)jl=A<.4?0:Math.pow((A-.4)/.6,Math.SQRT2);else jl=Math.pow(A,Math.SQRT2/2);
A=ad*jl+(1-ad)*A;A=Math.max(0,Math.min(1,A));Y[G][T]=Math.round(A*255)}J={c:v.st,Sq:Y[0],eK:Y[1],Cs:Y[2],pk:!1,Jm:!1}}if(h=="phfl"){var el=B.Vh.SL(e.Clr.v),db=[el.n/255,el.i/255,el.b/255],dC=e.Dnst.v/100,Y=[B.U(256),B.U(256),B.U(256)];
for(var G=0;G<3;G++)for(var T=0;T<256;T++){var A=T*(1/255),cJ=A*db[G];cJ=Math.max(0,Math.min(1,cJ));
A=dC*cJ+(1-dC)*A;Y[G][T]=Math.round(A*255)}J={c:v.st,Sq:Y[0],eK:Y[1],Cs:Y[2],pk:!1,Jm:e.PrsL.v}}if(h=="thrs"){var l=B.U(256);
for(var T=e.Lvl.v;T<256;T++)l[T]=255;J={c:v.st,Sq:l,eK:l,Cs:l,pk:!0,Jm:!1}}if(h=="mixr"){var cu=hy.i5(e),o=[];
for(var T=0;T<cu.J.length;T++)if(T%5!=3)o.push(cu.J[T]/100);if(cu.H4){for(var jg=1;jg<3;jg++)for(var A=0;
A<4;A++)o[jg*4+A]=o[A]}J={c:v.Q6,ok:o}}if(h=="rplc"){var jP=e.Mnm.v,gc=e.Mxm.v;J={c:v.MQ,$R:[jP.Lmnc.v,jP.A.v,jP.B.v],LW:[gc.Lmnc.v,gc.A.v,gc.B.v],shift:[e.H.v/360,e.Strt.v/100,e.Lght.v/100],My:e.Fzns.v/150}}if(h=="clrL"&&e.profile){var er=new Uint8Array(e.profile.v),jR=ICC.R(er.buffer),bg=[],gO=17,bg=ICC.U.sampleLUT(jR,gO);
J={c:v.hf,ND:ICC.U.lutToRGBA8(bg,gO),a1r:bg,VJ:gO}}return J};hy.gI=function(h,e){var v=-1;if(h!="levl"||e==null)v=-1;
else if(e.Auto)v=0;else if(e.AuCo)v=1;else if(e.autoBlackWhite)v=2;return v};hy.qB={st:0,Fl:1,ZX:2,gH:3,kv:4,Q6:5,MQ:6,hf:7};
hy.Mj=function(h){if(h<0)return h;return Math.pow(Math.tan(Math.PI/2*h),1.3)};hy.a6U=function(h){if(h<0)return h;
h=Math.pow(h,1/1.3);return Math.atan2(h,1)/(Math.PI/2)};hy.$a=function(h,e,v,J){var m=hy.qB,d=Date.now();
if(fM.QX&&J.$()>300*300&&h.c!=m.st&&h.c!=m.hf){J=J.O();J.x=J.y=0;var x=fM.cm(0,J.q,J._);x.set(e);fM.qH(x,J);
x.Ie(J);hy.Ce(h,x.vH,J);x.get(v);return}if(h.c==m.hf){var j=h.a1r,E=h.VJ;ICC.U.applyLUT(j,E,e,v);var L=e.length;
for(var T=0;T<L;T+=4)v[T+3]=e[T+3]}if(h.c==m.Q6)B.$c.a9G(e,v,h.ok);if(h.c==m.kv){var p=h.a6t,Z=h.qG,o=h.JV,u=h.a3e,L=e.length;
for(var T=0;T<L;T+=4){var J=e[T]*(1/255),N=e[T+1]*(1/255),M=e[T+2]*(1/255),O=B.kn(J,N,M),F=0;for(var W=0;
W<6;W++)F+=Math.min(1,1.7*(1-O.cw))*O.eL*h.aAb[W]*hy.a0R(O.qw,W*(1/6));var f=Math.max(0,Math.min(1,O.cw*(1+F)));
if(h.ge==1){var $=0;if(f<o)$=f*(.5/Z);else if(f<u)$=f+p*(.5-Z);else $=1-(1-f)*.5/(1-Z);O.qw=h.a1f;O.eL=Math.min(1,p+3*p*Math.abs(f-.5*(o+u)));
O.cw=$}else{O.qw=0;O.eL=0;O.cw=f}var H=B.aP(O.qw,O.eL,O.cw);v[T]=Math.round(H.n*255);v[T+1]=Math.round(H.i*255);
v[T+2]=Math.round(H.b*255)}}if(h.c==m.gH){var A=h.ajx,L=e.length,G=1/255;for(var T=0;T<L;T+=4){var J=e[T]*G,N=e[T+1]*G,M=e[T+2]*G,O=B.kn(J,N,M),l=Math.max(J,Math.max(N,M)),K=Math.min(J,Math.min(N,M)),U=1-J,z=1-N,q=1-M,P=0,g=0,a=0;
for(var W=0;W<9;W++){var w=W*6,C=0;if(A[w]==1&&A[w+1]==1&&A[w+2]==1&&A[w+3]==0&&A[w+4]==0&&A[w+5]==0)continue;
var y=U*A[w]+A[w+3],S=z*A[w+1]+A[w+4],i=q*A[w+2]+A[w+5];if(W<6)C=hy.a0R(O.qw,W*(1/6))*O.eL*2*Math.min(O.cw,1-O.cw);
else if(W==6)C=Math.max(0,K-.5)*2;else if(W==7)C=1-(Math.abs(l-.5)+Math.abs(K-.5));else C=Math.max(0,.5-l)*2;
P+=(Math.max(0,Math.min(1,y))-U)*C;g+=(Math.max(0,Math.min(1,S))-z)*C;a+=(Math.max(0,Math.min(1,i))-q)*C}U=Math.max(0,Math.min(1,U+P));
z=Math.max(0,Math.min(1,z+g));q=Math.max(0,Math.min(1,q+a));J=1-U;N=1-z;M=1-q;v[T]=Math.round(J*255);
v[T+1]=Math.round(N*255);v[T+2]=Math.round(M*255)}}if(h.c==m.st){B.a1Y(e,v,h.Sq,h.eK,h.Cs,h.pk,h.Jm)}if(h.c==m.Fl){var Y=new Uint32Array(e.buffer),_=new Uint32Array(v.buffer),L=Y.length;
if(hy.pC==null){hy.pC=new Float64Array(256);for(var T=0;T<256;T++)hy.pC[T]=hy.Mj(-1+2*T/255)}var t=hy.pC;
for(var T=0;T<L;T++){var I=Y[T],J=(I&255)*(1/255),N=(I>>>8&255)*(1/255),M=(I>>>16&255)*(1/255),r=I>>>24,n=Math.min(J,N,M),Q=Math.max(J,N,M),D=0,dG=0,R=0;
D=B.kn(J,N,M).qw;var X=~~(D*255+.5),dx=h.afn[X]*(1/255),jv=h.AO[X]*(1/255)*2-1,gB=h.axD[X]*(1/255)*2-1,F=-gB,hQ=n;
if(0<gB){F=gB;hQ=Q}var ah=h.aae+h.jv*F*hQ,kG=h.jv*(1-F);J=ah+kG*J;N=ah+kG*N;M=ah+kG*M;Q=Math.max(J,N,M);
n=Math.min(J,N,M);R=(Q+n)*.5;if(Q!=n){var iZ=Q-n;dG=R>.5?iZ/(2-(Q+n)):iZ/(Q+n)}var bs=jv;if(h.a0o==0){jv=t[Math.floor((1+jv)*127.5)];
bs=Math.min(dG*(1+jv),1)}var H=B.aP(dx,bs,R);J=H.n;N=H.i;M=H.b;_[T]=r<<24|M*255<<16|N*255<<8|J*255}}if(h.c==m.MQ){B.N7(e,v);
var Y=new Uint32Array(e.buffer),_=new Uint32Array(v.buffer),L=Y.length,ey=h.My,jp=1/ey,eh={hO:h.$R[0],DR:h.$R[1],b:h.$R[2]},dt={hO:h.LW[0],DR:h.LW[1],b:h.LW[2]};
for(var T=0;T<L;T++){var I=Y[T],jN=I&255,jX=I>>>8&255,jw=I>>>16&255,J=jN*(1/255),N=jX*(1/255),M=jw*(1/255),r=I>>>24,i7=B.Aj(jN,jX,jw),kn=B.aDS(i7,eh,dt,ey,jp);
if(kn==0)continue;var O=B.kn(J,N,M),dx=2+O.qw+h.shift[0];O.qw=dx-~~dx;O.eL=Math.max(0,Math.min(1,O.eL+h.shift[1]));
O.cw=Math.max(0,Math.min(1,O.cw+h.shift[2]));var H=B.aP(O.qw,O.eL,O.cw);J=(1-kn)*J+kn*H.n;N=(1-kn)*N+kn*H.i;
M=(1-kn)*M+kn*H.b;_[T]=r<<24|M*255<<16|N*255<<8|J*255}}if(h.c==m.ZX){var Y=new Uint32Array(e.buffer),_=new Uint32Array(v.buffer),L=Y.length,eK=h.m0[0],ee=h.m0[1],az=h.m0[2],F=h.m0[3],k7=B.$c.Nf([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),al=B.$c.ia(k7),kl=2.4;
function E(a8){return Math.max(0,Math.min(1,a8))}function b9(a8){return Math.pow(a8,kl)}function h9(a8){return Math.pow(a8,1/kl)}function ge(J,N,M,a8){J=b9(J);
N=b9(N);M=b9(M);var dK=B.$c.QE(k7,[J,N,M,1]);dK[0]*=az;dK[1]*=F;dK[2]*=F;var H=B.$c.QE(al,dK);H[0]=h9(E(H[0]));
H[1]=h9(E(H[1]));H[2]=h9(E(H[2]));return H}for(var T=0;T<L;T++){var I=Y[T],J=(I&255)*(1/255),N=(I>>>8&255)*(1/255),M=(I>>>16&255)*(1/255),r=I>>>24,H=ge(J,N,M,eK);
J=H[0];N=H[1];M=H[2];var iN=B.kn(J,N,M);iN.eL=Math.max(0,Math.min(1,iN.eL*(1+ee)));H=B.aP(iN.qw,iN.eL,iN.cw);
J=H.n;N=H.i;M=H.b;_[T]=r<<24|M*255<<16|N*255<<8|J*255}}};hy.Ce=function(h,e,v){fM.yo.Ce(h,e)};hy.a0R=function(h,e){var v=B.RA(e,h)*6;
return Math.max(0,Math.min(1,v<0?1+v:1-v))};var f8={};f8.FA=function(h){var e=h.filterID.v;return e>16777215?b.axC(e):h.Fltr.v.classID};
f8.tx=[{ag:"GEfc"},{ag:"LnCr"},{ag:"Adobe Camera Raw Filter"},{ag:"LqFy"},{ag:"VaPo",jV:!0},{C2:"3D",Qn:["lightFilterGradient","Dila"]},{C2:[24,2],Qn:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{C2:[24,3,11],Qn:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{C2:[24,4],Qn:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{C2:[24,6],Qn:["AdNs","Dspc","DstS","Mdn ","denoise"]},{C2:[24,8],Qn:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{C2:[24,10],Qn:["Flam","Clds","DfrC","Fbrs","LnsF"]},{C2:[24,12],Qn:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{C2:[24,14],Qn:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{C2:[24,16],Qn:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{C2:"Fourier",Qn:["dDFT","iDFT"]}];
f8.Ht={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
f8.J5={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
f8.F={rigidTransform:c.fT,blurbTransform:c.awH};f8.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
f8.UX=function(h){var e=null;if(h=="GEfc")e={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:aS.UX("GlwE")}]}};
if(h=="LqFy"){var v={VA:5,qw:5,map:new Float32Array(5*5*2)},J=new Uint8Array(eV.el(v)),m=[];for(var T=0;
T<J.length;T++)m.push(J[T]);e={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:m}}}if(h=="rigidTransform"){e={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(h=="blurbTransform"){e={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(h=="LnCr")e={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(h=="adaptCorrect")e={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(h=="Dfs ")e={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(h=="Fbrs")e={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(h=="Embs")e={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(h=="oilPaint")e={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(h=="TrcC")e={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(h=="Wnd ")e={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(h=="lightFilterGradient")e={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(h=="boxblur")e={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(h=="GsnB")e={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(h=="Bokh")e={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(h=="MtnB")e={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(h=="RdlB")e={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(h=="surfaceBlur")e={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(h=="denoise")e={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(h=="Dspl")e={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(h=="Pnch")e={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(h=="Plr ")e={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(h=="Rple")e={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(h=="Shr ")e={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(h=="Sphr")e={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(h=="Twrl")e={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(h=="Wave")e={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(h=="ZgZg")e={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(h=="AdNs")e={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(h=="DstS")e={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(h=="Mdn ")e={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(h=="ClrH")e={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(h=="Crst")e={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(h=="Mztn")e={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(h=="Msc ")e={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(h=="Pntl")e={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(h=="LnsF")e={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(h=="Dthr")e={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(h=="Part")e={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(h=="Adobe Camera Raw Filter")e={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(h=="smartSharpen")e={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(h=="UnsM")e={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(h=="HghP")e={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(h=="HsbP")e={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(h=="Mxm ")e={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(h=="Mnm ")e={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(h=="Ofst")e={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(h=="Kale")e={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(h=="Rept")e={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(h=="Flam")e={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(h=="Ctoa")e={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(h=="brit")e={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(h=="levl")e={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(h=="curv")e={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(h=="expA")e={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(h=="vibA")e={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(h=="hue2")e={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(h=="blnc")e={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(h=="blwh")e={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(h=="phfl")e={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(h=="grdm")e={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(fL.JC[6]).Grad};
if(h=="selc")e={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(h=="thrs")e={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(h=="mixr")e={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(h=="clrL")e={__name:"Color Lookup",classID:"colorLookup"};if(h=="post")e={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(h=="rplc")e={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(h=="fade")e={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(h=="aply")e={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(h=="matc"){e={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(h=="Dila")e={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(h=="blendOptions")e={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return e};f8.E0={sFlam:function(h,e){e[0]=h.Type.v;e[1]=h.Leng.v;e[2]=h.RndL.v;e[3]=h.Widt.v;e[4]=h.Angl.v;
e[5]=h.Intr.v;e[6]=h.Adpt.v;e[7]=h.Clr.v;e[8]=h.Qual.v;e[9]=h.Turb.v;e[10]=h.Jag.v;e[11]=h.Opct.v.val;
e[12]=h.Lins.v;e[13]=h.Botm.v;e[14]=h.Styl.v;e[15]=h.Shap.v;e[16]=h.RnSh.v;e[17]=h.Arng.v},gFlam:function(h,e){h.Type.v=e[0];
h.Leng.v=e[1];h.RndL.v=e[2];h.Widt.v=e[3];h.Angl.v=e[4];h.Intr.v=e[5];h.Adpt.v=e[6];h.Clr.v=e[7];h.Qual.v=e[8];
h.Turb.v=e[9];h.Jag.v=e[10];h.Opct.v.val=e[11];h.Lins.v=e[12];h.Botm.v=e[13];h.Styl.v=e[14];h.Shap.v=e[15];
h.RnSh.v=e[16];h.Arng.v=e[17]},sAdNs:function(h,e){e[0]=h.Nose.v.val;e[1]=["Gsn","Unfr"].indexOf(h.Dstr.v.Dstr);
e[2]=h.Mnch.v},gAdNs:function(h,e){h.Nose.v.val=e[0];h.Dstr.v.Dstr=["Gsn","Unfr"][e[1]];h.Mnch.v=e[2]},sDstS:function(h,e){e[0]=h.Rds.v;
e[1]=h.Thsh.v},gDstS:function(h,e){h.Rds.v=e[0];h.Thsh.v=e[1]},sGsnB:function(h,e){e[0]=h.Rds.v.val},gGsnB:function(h,e){h.Rds.v.val=e[0]},sDila:function(h,e){e[0]=h.Crop.v.val;
e[1]=h.Rds.v.val},gDila:function(h,e){h.Crop.v.val=e[0];h.Rds.v.val=e[1]},sHghP:function(h,e){e[0]=h.Rds.v.val},gHghP:function(h,e){h.Rds.v.val=e[0]},sHsbP:function(h,e){var v=["RGBC","HSBl","HSLC"];
e[0]=v.indexOf(h.Inpt.v.ClrS);e[1]=v.indexOf(h.Otpt.v.ClrS)},gHsbP:function(h,e){var v=["RGBC","HSBl","HSLC"];
h.Inpt.v.ClrS=v[e[0]];h.Otpt.v.ClrS=v[e[1]]},"sMxm ":function(h,e){var v="preserveShape";e[0]=h.Rds.v.val;
e[1]=h[v]?["squareness","Rndn"].indexOf(h[v].v[v]):0},"gMxm ":function(h,e){var v="preserveShape";h.Rds.v.val=e[0];
h[v]={t:"enum",v:{preserveShape:["squareness","Rndn"][e[1]]}}},"sMnm ":function(h,e){var v="preserveShape";
e[0]=h.Rds.v.val;e[1]=h[v]?["squareness","Rndn"].indexOf(h[v].v[v]):0},"gMnm ":function(h,e){var v="preserveShape";
h.Rds.v.val=e[0];h[v]={t:"enum",v:{preserveShape:["squareness","Rndn"][e[1]]}}},sMtnB:function(h,e){e[0]=[h.Angl.v];
e[1]=h.Dstn.v.val;console.log(e)},gMtnB:function(h,e){h.Angl.v=typeof e[0]=="number"?e[0]:e[0][0];h.Dstn.v.val=e[1]},sOfst:function(h,e){e[0]=h.Hrzn.v;
e[1]=h.Vrtc.v;e[2]=["Rpt","Bckg","Wrp"].indexOf(h.Fl.v.FlMd)},gOfst:function(h,e){h.Hrzn.v=e[0];h.Vrtc.v=e[1];
h.Fl.v.FlMd=["Rpt","Bckg","Wrp"][e[2]]},sPnch:function(h,e){e[0]=h.Amnt.v},gPnch:function(h,e){h.Amnt.v=e[0]},"sPlr ":function(h,e){e[0]=["RctP","PlrR"].indexOf(h.Cnvr.v.Cnvr)},"gPlr ":function(h,e){h.Cnvr.v.Cnvr=["RctP","PlrR"][e[0]]},sRple:function(h,e){e[0]=h.Amnt.v;
e[1]=["Sml","Mdm","Lrg"].indexOf(h.RplS.v.RplS)},gRple:function(h,e){h.Amnt.v=e[0];h.RplS.v.RplS=["Sml","Mdm","Lrg"][e[1]]},sTwrl:function(h,e){e[0]=h.Angl.v},gTwrl:function(h,e){h.Angl.v=e[0]},sZgZg:function(h,e){e[0]=h.Amnt.v;
e[1]=h.NmbR.v;e[2]=["ArnC","OtFr","PndR"].indexOf(h.ZZTy.v.ZZTy)},gZgZg:function(h,e){h.Amnt.v=e[0];
h.NmbR.v=e[1];h.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][e[2]]},sUnsM:function(h,e){e[0]=h.Amnt.v.val;e[1]=h.Rds.v.val;
e[2]=h.Thsh.v},gUnsM:function(h,e){h.Amnt.v.val=e[0];h.Rds.v.val=e[1];h.Thsh.v=e[2]},sWave:function(h,e){e[0]=h.NmbG.v;
e[1]=h.WLMn.v;e[2]=h.WLMx.v;e[3]=h.AmMn.v;e[4]=h.AmMx.v;e[5]=h.SclH.v;e[6]=h.SclV.v;e[7]=["WvSn","WvTr","WvSq"].indexOf(h.Wvtp.v.Wvtp);
e[8]=["WrpA","RptE"].indexOf(h.UndA.v.UndA);e[9]=h.RndS.v},gWave:function(h,e){h.NmbG.v=e[0];h.WLMn.v=e[1];
h.WLMx.v=e[2];h.AmMn.v=e[3];h.AmMx.v=e[4];h.SclH.v=e[5];h.SclV.v=e[6];h.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][e[7]];
h.UndA.v.UndA=["WrpA","RptE"][e[8]];if(e[9]!=null){var v=parseInt(e[9]);if(isNaN(v))v=248325464;v=Math.max(0,Math.min(268435455,v));
h.RndS.v=v}},sDspl:function(h,e){e[0]=h.HrzS.v;e[1]=h.VrtS.v;e[2]=0;e[3]=["WrpA","RptE"].indexOf(h.UndA.v.UndA)},gDspl:function(h,e){h.HrzS.v=e[0];
h.VrtS.v=e[1];h.UndA.v.UndA=["WrpA","RptE"][e[3]];h.DspF.v.pth=e[4]},sbrit:function(h,e){e[0]=h.Brgh?h.Brgh.v:0;
e[1]=h.Cntr?h.Cntr.v:0;e[2]=h.useLegacy?h.useLegacy.v:!1},gbrit:function(h,e){h.Brgh.v=e[0];h.Cntr.v=e[1];
if(e[2]!=null)h.useLegacy.v=e[2]}};f8.ahC=function(h){var e=new fq(0,0);if(h.enab.v==!1)return e;var v=h.filterFXList.v;
for(var T=0;T<v.length;T++){var J=v[T].v;if(J.enab.v==!1)continue;var m=f8.FA(J),d=f8.L4(m,J.Fltr?J.Fltr.v:null);
if(d.x>e.x)e.x=d.x;if(d.y>e.y)e.y=d.y}return e};f8.L4=function(h,e){var v=0,J=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(h)!=-1){var m=e.Rds?e.Rds.v.val:1;
v=J=m*2.57}if(h=="MtnB")v=J=e.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,Frgm,Flam".split(",").indexOf(h)!=-1){v=J=1e4}if(h=="GEfc")return aS.L4(e);
return new fq(Math.ceil(v),Math.ceil(J))};f8.Tw=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
f8.BN=function(h,e){var v={n:e.kc>>16,i:e.kc>>8&255,b:e.kc&255},J={n:e.kF>>16,i:e.kF>>8&255,b:e.kF&255},m=f8.names[h];
if(m==null)m=hy.names[h];var d=h;for(var x in hy.Ec)if(hy.Ec[x]==h)d=x;var j={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:bj.get(m)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:B.Vh.WZ(v)},BckC:{t:"Objc",v:B.Vh.WZ(J)},filterID:{t:"long",v:d.length==4?b.au4(d):777}}},E=f8.UX(h);
if(E)j.v.Fltr={t:"Objc",v:E};return j};f8.SO=function(h,e,v,J){var m=Date.now(),d=fM.QX&&Math.max(J.q,J._)<=fM.h_.getParameter(fM.h_.MAX_TEXTURE_SIZE);
if(h<1){var x=Math.round(h*5),j=[1,2,1,2,[40,26,13,6,4,2][x],2,1,2,1];j=B.Zq.Du(j);if(!d){B.kj(v);var E=v.slice(0);
B.Zq.uy(E,v,J.q,J._,j,255);B.Az(v)}else{var L=J.q,p=J._,Z=fM.cm(0,L,p);Z.set(v);var o=fM.cm(1,L,p),u=new Float32Array([1/L,1/p]);
fM.qH(o);fM.filter.Ce({c:fM.filter.arb,DV:u,ak3:new Float32Array(j)},Z.nS);o.get(v)}}else{var N=e==B.kK.A7?0:e==B.kK.Yo?1:2,M=[];
while(N!=2&&h*[1,2.4][N]>20&&M.length<4){var O=B.Uq(v,J);M.push(v,J);v=O.su;J=O.R;h/=2}var L=J.q,p=J._;
if(!d||N==2&&h>15){B.kj(v);e(v,J,h);B.Az(v)}else{var Z=fM.cm(0,L,p);Z.set(v);var o=fM.cm(1,L,p),u=new Float32Array([1/L,1/p]);
if(N==0){var F=1;while(F<h)F<<=1;fM.qH(o);fM.filter.Ce({c:fM.filter.ho,DV:u,$g:h,yJ:[0,0,F]},Z.nS);fM.qH(Z);
fM.filter.Ce({c:fM.filter.ho,DV:u,$g:h,yJ:[0,1,F]},o.nS);Z.get(v)}else if(N==1){var W=3,f=B.kK.ET(h,W);
for(var T=0;T<W;T++){var $=f[T]>>>1,H=1;while(H<$)H<<=1;if($==0)continue;fM.qH(o);fM.filter.Ce({c:fM.filter.ho,DV:u,$g:$,yJ:[0,0,H]},Z.nS);
fM.qH(Z);fM.filter.Ce({c:fM.filter.ho,DV:u,$g:$,yJ:[0,1,H]},o.nS)}Z.get(v)}else{var F=1;while(F<h)F<<=1;
fM.qH(o);fM.filter.Ce({c:fM.filter.ho,DV:u,$g:h,yJ:[0,0,F]},Z.nS);o.get(v)}}var A=Date.now();while(M.length!=0){var G=M.pop(),l=M.pop();
B.scale.apA(v,J.q,J._,l,G.q,G._);v=l;J=G}}};f8.acL=function(h,e,v,J){for(var T=0;T<h.length;T++){v[T]=h[T]*(1/255);
J[T]=0}FFT.fft2d(v,J);var m=e>>>1,d=16384,x=128,E=100;while(x<e){x<<=1;d<<=2}var j=255/Math.log(d),L=-100;
for(var p=0;p<e;p++)for(var Z=0;Z<m;Z++){var o=e+m+p&e-1,u=v[o*e+Z],N=J[o*e+Z],M=Math.sqrt(u*u+N*N),O=Math.atan2(N,u);
h[p*e+Z]=Math.round(j*Math.log(M+1));h[p*e+m+Z]=Math.round((Math.PI+O)*(255*.5/Math.PI))}};f8.aC6=function(h,e,v,J){v.fill(0);
J.fill(0);var m=e>>>1,d=16384,x=128;while(x<e){x<<=1;d<<=2}var j=255/Math.log(d),E=[],L=[],p=[];for(var T=0;
T<256;T++){E[T]=Math.exp(T/j)-1;var Z=T*(2*Math.PI/255)-Math.PI;L[T]=Math.sin(Z);p[T]=Math.cos(Z)}for(var o=0;
o<e;o++)for(var u=0;u<m;u++){var N=e+m+o&e-1,M=E[h[o*e+u]],Z=h[o*e+m+u],O=M*p[Z],F=M*L[Z];v[N*e+u]=O;
J[N*e+u]=F;if(u!=0){var W=N==0?N*e+e-u:(e-N)*e+(e-u);v[W]=O;J[W]=-F}}FFT.ifft2d(v,J);for(var T=0;T<h.length;
T++){h[T]=Math.max(0,Math.min(255,~~(.5+255*v[T])))}};f8.aFz=new ArrayBuffer(512);f8.a0K=function(h){var e=f8.aFz,v=h.length;
if(e.byteLength<v)f8.aFz=e=new ArrayBuffer(v);var J=new Uint8Array(e);for(var T=0;T<v;T+=4){J[T]=h[T];
J[T+1]=h[T+1];J[T+2]=h[T+2];J[T+3]=h[T+3]}return e};f8.$a=function(h,e,v,J,m,d,x){if(d==null)d={buffer:B.U(e.buffer.length),R:e.R.O()};
d.buffer.set(e.buffer);var j=v&&v.RndS?v.RndS.v>>>1:0;if(h=="GEfc"){var E=[];if(v.GEfs){var L=v.GEfs.v;
for(var T=0;T<L.length;T++){var p=L[T].v;if(p.GELv&&p.GELv.v==!1)continue;E.push(p)}}else E=[v];for(var T=0;
T<E.length;T++){var Z;if(T==0)aS.$a(h,e,E[T],J,m,d,x);else{if(Z==null)Z={buffer:B.U(e.buffer.length),R:e.R.O()};
B.N7(d.buffer,Z.buffer);aS.$a(h,Z,E[T],J,m,d,x)}}}if(h=="Dila"){var o=v.Crop.v.val,u=v.Rds.v.val+o;u=u*u;
if(u==0)return;var N=e.R,M=N.q,O=N._,F=M*O,W=e.buffer,Z=d.buffer,f=B.U(F);B.Bq(W,f,3);if(o!=0){var $=N.O();
$.vY(1,1);var H=B.U($.$());B.Ww(f,N,H,$);B.ia(H);B.style.stroke(H,H,$,o);B.ia(H);B.Ww(H,$,f,N)}var A=B.style.Xg(f,M,O);
Z.fill(0);for(var G=0;G<O;G++)for(var l=0;l<M;l++){var T=G*M+l,K=T<<1,U=T<<2,z=A[K],q=A[K+1];if(z*z+q*q<u){var P=(G+q)*M+(l+z)<<2;
Z[U]=W[P];Z[U+1]=W[P+1];Z[U+2]=W[P+2];Z[U+3]=255}}}if(h=="Adobe Camera Raw Filter"){var N=e.R,M=N.q,O=N._,F=M*O,g=F*4,a=F*3,w=new Float32Array(M*O*3),y=e.buffer;
for(var T=0;T<F;T++){var S=T*3,U=T*4;w[S]=y[U]*(1/255);w[S+1]=y[U+1]*(1/255);w[S+2]=y[U+2]*(1/255)}var i=B.t(v);
delete i.Upri;delete i.GuUr;var C=w.slice(0);gd(w,M,O,C,i);w=C;y=d.buffer;for(var T=0;T<F;T++){var S=T*3,U=T*4;
y[U]=255*Math.max(0,Math.min(1,w[S]));y[U+1]=255*Math.max(0,Math.min(1,w[S+1]));y[U+2]=255*Math.max(0,Math.min(1,w[S+2]))}}if(h=="Fct "){var N=e.R,M=N.q,O=N._,F=M*O,g=F*4;
function Y(cB){var al=cB.slice(0);for(var G=0;G<3;G++)for(var l=0;l<3;l++)al[G*3+l]=cB[(2-l)*3+G];return al}function _(eq,jH,cp,hq){var bY=0;
for(var G=0;G<3;G++)for(var l=0;l<3;l++)bY+=jH[G*3+l]*eq[(hq-1+G)*M+cp-1+l];return bY}var I=[8,5,2,5,2,-1,2,-1,-4],r=[5,5,5,2,2,2,-1,-1,-1],n=[2,2,2,2,2,2,2,2,2],Q=[];
Q.push(I);for(var T=0;T<3;T++)Q.push(Y(Q[Q.length-1]));Q.push(r);for(var T=0;T<3;T++)Q.push(Y(Q[Q.length-1]));
Q.push(n);for(var T=0;T<9;T++)Q[T]=B.Zq.Du(Q[T]);var D=[-M-1,-M,-M+1,-1,0,1,M-1,M,M+1],dG=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],R=B.U(F),X=new Float32Array(F),C=B.U(F);
for(var dx=0;dx<3;dx++){B.Bq(e.buffer,R,dx);for(var jv=0;jv<1;jv++){for(var G=1;G<O-1;G++)for(var l=1;
l<M-1;l++){var gB=G*M+l,hQ=R[gB];X[gB]=1e9;for(var T=0;T<9;T++){var ah=_(R,Q[T],l,G),kG=(ah-hQ)*(ah-hQ);
if(kG<X[gB])X[gB]=kG}}for(var G=1;G<O-1;G++)for(var l=1;l<M-1;l++){var iZ=0,bs=1e9;for(var T=0;T<9;T++){var ey=G*M+l+D[T],kG=X[ey];
if(kG<bs){bs=kG;iZ=R[ey]}}C[G*M+l]=iZ}R.set(C)}B.ar(C,d.buffer,dx)}}if(h=="adaptCorrect"){var N=e.R,M=N.q,O=N._,F=M*O,g=F*4,jp=v.sdwM.v,eh=jp.Amnt.v.val/100,dt=jp.Wdth.v.val/100,jN=jp.Rds.v,jX=v.hglM.v,jw=jX.Amnt.v.val/100,i7=jX.Wdth.v.val/100,kn=jX.Rds.v;
B.azB.aY(e.buffer,d.buffer,M,O,eh,dt,jN,jw,i7,kn,v.ClrC.v/100,v.Cntr.v/100)}if(h=="denoise"){var N=e.R,M=N.q,O=N._,eK=v.channelDenoise.v[0].v;
B.awb.aFK(e.buffer,M,O,d.buffer,eK.Amnt.v/10,eK.EdgF.v/100)}if(h=="HsbP"){var ee=v.Inpt.v.ClrS,az=v.Otpt.v.ClrS,N=e.R,M=N.q,O=N._,F=M*O;
for(var T=0;T<F;T++){var U=T*4,jv=e.buffer[U]*(1/255),k7=e.buffer[U+1]*(1/255),al=e.buffer[U+2]*(1/255);
if(ee=="RGBC"){}else if(ee=="HSLC"){var C=B.aP(jv,k7,al);jv=C.n;k7=C.i;al=C.b}else if(ee=="HSBl"){var C=B.aAP(jv,k7,al);
jv=C.n;k7=C.i;al=C.b}var kl=jv,b9=k7,h9=al;if(az=="RGBC"){}else if(az=="HSLC"){var C=B.kn(jv,k7,al);
kl=C.qw;b9=C.eL;h9=C.cw}else if(az=="HSBl"){var C=B.auy(jv,k7,al);kl=C.qw;b9=C.eL;h9=C.b}d.buffer[U]=~~(255*kl);
d.buffer[U+1]=~~(255*b9);d.buffer[U+2]=~~(255*h9)}}if(h=="Fbrs"){var N=e.R,M=N.q,O=N._;B.W.apM(e.buffer,M,O,d.buffer,[v.Vrnc.v,v.Strg.v,j]);
var ge=B.U(M*O);B.Bq(d.buffer,ge,0);B.ia(ge);aS.jY(ge,d.buffer,J,m)}if(h=="Frgm"){var N=e.R,M=N.q,O=N._,iN=e.buffer.slice(0);
B.kj(iN);B.W.a5h(iN,M,O,d.buffer);B.Az(d.buffer)}if(h=="Flam"){var N=e.R,M=N.q,O=N._,a8=v.Clr.v,dK={c:v.Type.v+1,length:v.Leng.v,avJ:v.RndL.v,bU:v.Widt.v,a0C:v.Angl.v,a3h:v.Intr.v,awF:v.Adpt.v,color:{n:a8.Rd.v,i:a8.Grn.v,b:a8.Bl.v},TU:v.Qual.v+1,Zs:v.Turb.v,Ve:v.Jag.v,S2:v.Opct.v.val,cL:v.Lins.v,amM:v.Botm.v,style:v.Styl.v+1,shape:v.Shap.v+1,ay9:v.RnSh.v,a9L:v.Arng.v,abN:!1};
if(x[3]==null)return;var f6=x[3],fS=f6[0],cf=f6[1],iG=fS[cf.length!=0?cf[0]:0];if(iG==null){alert("Make a path first");
return}var eC=iG.add.vmsk.z,kH=B.s.bJ(eC),i0=[];for(var P=0;P<kH;P++){var e5=B.s.n2(eC,P),gA=eC[e5];
if(gA.length<2)continue;var bW=[];i0.push(bW);var e3=gA.length-(gA.c==3?1:0);for(var gB=0;gB<e3;gB++){var iL=eC[e5+1+gB],h4=gB==gA.length-1?eC[e5+1]:eC[e5+1+gB+1],iT=iL.Q,hC=iL.Xb,I=h4.NA,dS=h4.Q,il=Math.round(fq.mr(iT,dS)/5);
for(var i6=0;i6<il;i6++){var co=i6/il,bH=1-co,l=bH*bH*bH*iT.x+3*bH*bH*co*hC.x+3*bH*co*co*I.x+co*co*co*dS.x,G=bH*bH*bH*iT.y+3*bH*bH*co*hC.y+3*bH*co*co*I.y+co*co*co*dS.y;
bW.push(l,G)}}}var b5=[i0,dK],ej=Date.now(),id=jZ(b5);aC(e.buffer,M,O,d.buffer,id,b5)}if(h=="Dfs "){var N=e.R,M=N.q,O=N._,dH=["Nrml","DrkO","LghO","anisotropic"].indexOf(v.Md.v.DfsM);
if(dH<3)B.W.auF(e.buffer,M,O,d.buffer,[dH]);else{var b5=[1.4,1.6,1,4,!1,2,[0,0,.001]],N=e.R.O();N.x=N.y=0;
B.r_.filter(e.buffer,N,d.buffer,b5)}}if(h=="TrcC"){var N=e.R,M=N.q,hA=M<<2,O=N._,fn=v.Lvl.v,d3=v.Edg.v.CntE=="Lwr",iF=e.buffer,hF=d.buffer;
B.yV(hF,16777215,4278190080);function bz(bq,eg){cA(bq,eg);cA(bq+1,eg+1);cA(bq+2,eg+2)}function hN(bq,eg){km(bq,eg);
km(bq+1,eg+1);km(bq+2,eg+2)}function cA(bq,eg){var kl=iF[bq],b9=iF[eg];if(kl>=fn&&b9<fn)hF[bq]=0;if(kl<fn&&b9>=fn)hF[eg]=0}function km(bq,eg){var kl=iF[bq],b9=iF[eg];
if(kl>fn&&b9<=fn)hF[eg]=0;if(kl<=fn&&b9>fn)hF[bq]=0}if(d3)for(var G=1;G<O;G++)for(var l=1;l<M;l++){var U=G*M+l<<2;
bz(U,U-4);bz(U,U-hA)}else for(var G=1;G<O;G++)for(var l=1;l<M;l++){var U=G*M+l<<2;hN(U,U-4);hN(U,U-hA)}}if(h=="Embs"){var N=e.R,M=N.q,O=N._,gm=-v.Angl.v*Math.PI/180,gS=v.Hght.v,jl=v.Amnt.v/100;
gS/=2;var z=Math.cos(gm)*gS,q=Math.sin(gm)*gS,iF=e.buffer,hF=d.buffer;hF.fill(0);var jn=new Uint32Array(iF.buffer),C=new Uint8Array(4),ad=new Uint32Array(C.buffer);
for(var G=0;G<O;G++)for(var l=0;l<M;l++){var el=0,db=0,dC=0;if(0<=l+z&&l+z<M&&0<=G+q&&G+q<O){B.D.Kw(l+z+.5,G+q+.5,jn,M,O,ad,0,0);
el+=C[0]-128;db+=C[1]-128;dC+=C[2]-128}if(0<=l-z&&l-z<M&&0<=G-q&&G-q<O){B.D.Kw(l-z+.5,G-q+.5,jn,M,O,ad,0,0);
el-=C[0]-128;db-=C[1]-128;dC-=C[2]-128}var U=G*M+l<<2;hF[U]=Math.max(0,Math.min(255,el*jl+128));hF[U+1]=Math.max(0,Math.min(255,db*jl+128));
hF[U+2]=Math.max(0,Math.min(255,dC*jl+128));hF[U+3]=iF[U+3]}}if(h=="ShrE"){var N=e.R,M=N.q,O=N._;B.W.ajF(e.buffer,M,O,d.buffer)}if(h=="Dspc"){var N=e.R,M=N.q,O=N._;
B.W.aba(e.buffer,M,O,d.buffer)}if(h=="Slrz"){var jJ=d.buffer,cJ=128;for(var T=0;T<jJ.length;T+=4){if(jJ[T]>cJ)jJ[T]=255-jJ[T];
if(jJ[T+1]>cJ)jJ[T+1]=255-jJ[T+1];if(jJ[T+2]>cJ)jJ[T+2]=255-jJ[T+2]}}if(h=="Wnd "){var N=e.R,M=N.q,O=N._,cu=["Wnd","Blst","Stgr"],jg=v.WndM.v.WndM;
B.W.dF(e.buffer,M,O,d.buffer,[cu.indexOf(jg),v.Drct.v.Drct!="Left"])}if(h=="Bokh"){var N=e.R,M=N.q,O=N._,F=M*O,g=F*4,jP=e.buffer.slice(0),gc=v.BkDi.v.BtDi,er=v.BkDc,jR=v.BkDs.v,bg=v.BkDp.v/255;
if(gc=="BeIn")bg=0;var gO=57*(.3+.7*((M+O)/2)/1750)*(v.BkIb.v/100)*(1+.2*Math.pow(bg,.1)),iW=parseInt(v.BkIs.v.BtIs.slice(3)),f5=-v.BkIr.v*Math.PI/180,kY=[];
for(var T=0;T<8;T++){var g2=f5+T*(Math.PI*2/iW),hs=f5+(T+1)*(Math.PI*2/iW),gH=Math.cos(g2),hW=Math.sin(g2),fY=Math.cos(hs),gn=Math.sin(hs),cL=[0,0,0];
B.ok.ef([[gH,hW,1,0],[fY,gn,1,0],[1,1,1,1]],cL);if(cL[2]>0){cL[0]*=-1;cL[1]*=-1;cL[2]*=-1}kY.push(cL[0],cL[1],cL[2],0)}if(gc=="BeIn"){B.yV(jP,0,16777215);
bg=1}else if(gc=="BeIt"&&er.v.BtDc=="BeCt"){}else{var eo;if(gc=="BeIt"&&er.v.BtDc=="BeCm")eo=x[1];else if(gc=="BeIa")eo=x[2][er.v];
if(eo==null){B.yV(jP,0,16777215)}else{var R;if(eo.R.lS(N))R=eo.G;else R=eo._N(N);B.ar(R,jP,3)}}if(jR)for(var T=0;
T<g;T+=4)jP[T+3]=255-jP[T+3];if(fM.QX){var fh=jP,fU=M,f_=O,hD=1,hh=(v.BkSb.v==0||v.BkSt.v==255)&&gc=="BeIn";
if(!hh){var a3=0;for(var T=0;T<g;T+=4)a3+=Math.abs(bg-jP[T+3]*(1/255));a3=a3/F*gO;var br=3.14*a3*a3*M*O/3e6;
if(br>2e3){alert("too large radius");return}}while(hh&&3*(gO/hD)*(gO/hD)*M*O>500*2e3*2e3){var ij=B.ap7(jP,new fP(0,0,fU,f_));
jP=ij.su;fU=ij.R.q;f_=ij.R._;hD*=2}var ej=Date.now(),W=fM.cm(0,fU,f_);W.set(jP);var am=fM.cm(1,M,O);
fM.qH(am);fM.filter.Ce({c:fM.filter.anC,DV:new Float32Array([1/fU,1/f_]),a5i:bg,r3:gO/hD,aip:new Float32Array([v.BkSb.v/100,v.BkSt.v/255]),aaJ:new Float32Array([v.BkNa.v/100,v.BkNt.v.BtNt=="BeNu"?0:1,v.BkNm.v?1:0]),asm:new Float32Array(kY.slice(0,16)),aCc:new Float32Array(kY.slice(16))},W.nS);
am.get(d.buffer);var hb=d.buffer;for(var T=0;T<g;T+=4)hb[T+3]=e.buffer[T+3]}}if(h=="blurbTransform"){B.Hy.apply(v,e,d)}if(h=="rigidTransform"){var ej=Date.now(),bN=f8.a0K,W=e.buffer.slice(0),fI=0,jA=0;
B.kj(W);var M=e.R.q,O=e.R._,ch=v.puppetShapeList.v,fE=[],e6=[],cO=[],gp=[];for(var gB=0;gB<ch.length;
gB++){var iQ=ch[gB].v,K=fI*2,S=jA*3,f0=iQ.originalVertexArray.v.length>>>2,hm=iQ.indexArray.v.length>>>2,e8=new Float32Array(bN(iQ.originalVertexArray.v));
for(var T=0;T<f0;T++)fE[K+T]=e8[T];var bM=new Float32Array(bN(iQ.deformedVertexArray.v));for(var T=0;
T<f0;T++)e6[K+T]=bM[T];var ho=new Uint32Array(bN(iQ.indexArray.v));for(var T=0;T<hm;T++)cO[S+T]=fI+ho[T];
var k4=[],f7=[],hn=iQ.PnDp.v;for(var T=0;T<hn.length;T++){k4.push(iQ.pinVertexIndices.v[T].v);f7.push(hn[T].v)}var cr=B.tz.ax1(e8,ho,k4,f7);
for(var T=0;T<cr.length;T++)gp[fI+T]=cr[T];fI+=f0>>>1;jA+=~~(hm/3)}var bf=new aJ(1,0,0,1,-e.R.x,-e.R.y);
B.w.C(fE,bf,fE);B.w.C(e6,bf,e6);d.buffer.fill(0);B.tz.sU(W,M,O,d.buffer,M,O,fE,e6,gp,cO);B.Az(d.buffer)}if(h=="lightFilterGradient"){function hL(iT){var jH=1/Math.sqrt(iT[0]*iT[0]+iT[1]*iT[1]+iT[2]*iT[2]);
iT[0]*=jH;iT[1]*=jH;iT[2]*=jH}var M=e.R.q,O=e.R._,F=M*O,ej=Date.now(),kB=B.U(F),b9=.3,h9=.7;B.hS(d.buffer,kB);
var aw=B.U(F);B.kK.he(kB,aw,d.R,16);var bl=B.U(F);B.kK.he(kB,bl,d.R,8);var a5=kB,b8=new Float32Array(F),j7=v.Dtl.v,aN=j7[2].v,fp=j7[1].v,aU=j7[0].v,bY=v.Scl.v*40*v.textureScale.v/(aN+fp+aU);
aN*=bY;fp*=bY;aU*=bY;for(var T=0;T<F;T++){var kD=aw[T]*(1/255),aW=bl[T]*(1/255),bo=a5[T]*(1/255);bo=bo*bo;
b8[T]=aN*kD+fp*aW+aU*bo}var ef=v.blur.v;if(ef!=0){B.kK.p2(b8,d.R,ef)}var bK=M-1,b0=O-1;for(var G=0;G<O;
G++)for(var l=0;l<M;l++){var T=G*M+l,U=T*4,jL=b8[T],z=b9*(b8[T+(l==bK?0:1)]-jL)+h9*(jL-b8[T-(l==0?0:1)]),q=b9*(b8[T+(G==b0?0:M)]-jL)+h9*(jL-b8[T-(G==0?0:M)]),iT=[1,0,z],hC=[0,1,q];
hL(iT);hL(hC);var hs=iT[0],bd=iT[2],d0=hC[1],gQ=hC[2],kz=-bd*d0,hf=-hs*gQ,jr=hs*d0;d.buffer[U]=~~(127.5+kz*127.5);
d.buffer[U+1]=~~(127.5+hf*127.5);d.buffer[U+2]=~~(127.5+jr*127.5)}}if(h=="defr"){var M=e.R.q,O=e.R._;
aM(e.buffer,M,O,d.buffer)}if(h=="dDFT"||h=="iDFT"){function gE(iW){if(iW==0)return 1;iW--;iW|=iW>>1;
iW|=iW>>2;iW|=iW>>4;iW|=iW>>8;iW|=iW>>16;return iW+1}var M=e.R.q,O=e.R._,fO=gE(Math.max(M,O)),bA=fO>>>1,bD=new fP(0,0,fO,fO),cN=new fP(0,0,M,O);
cN.y=fO-O>>>1;var hB=M>>>1,cd=new fP(0,cN.y,hB,O),cQ=new B.Em(M*O);B.G3(e.buffer,cQ);var bT=new Float64Array(fO*fO),d8=new Float64Array(fO*fO),R=B.U(fO*fO);
FFT.init(fO);var kQ=[cQ.n,cQ.i,cQ.b];for(var T=0;T<3;T++){var a1=kQ[T];R.fill(0);if(h=="dDFT"){B.Ww(a1,cN,R,bD);
f8.acL(R,fO,bT,d8);B.Ww(R,bD,a1,cN,cd);cd.x+=hB;bD.x-=bA-hB;B.Ww(R,bD,a1,cN,cd);cd.x-=hB;bD.x+=bA-hB}else{B.Ww(a1,cN,R,bD,cd);
cd.x+=bA;cN.x+=bA-hB;B.Ww(a1,cN,R,bD,cd);cd.x-=bA;cN.x-=bA-hB;f8.aC6(R,fO,bT,d8);B.Ww(R,bD,a1,cN)}}B.VT(cQ,d.buffer)}if(h=="Avrg"){var gt=0,fe=0,je=0,ix=0,gh=1;
for(var T=0;T<e.buffer.length;T+=4){var f=e.buffer[T+3];je+=e.buffer[T]*f;fe+=e.buffer[T+1]*f;gt+=e.buffer[T+2]*f;
ix+=f}var dg=1/ix;gt=Math.round(gh*(gt*dg)+(1-gh)*255);fe=Math.round(gh*(fe*dg)+(1-gh)*255);je=Math.round(gh*(je*dg)+(1-gh)*255);
B.yV(d.buffer,gt<<16|fe<<8|je,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(h)!=-1){var iw=v.Rds?v.Rds.v.val:1,cv=h=="boxblur"?B.kK.A7:B.kK.Yo;
f8.SO(iw,cv,d.buffer,d.R);if(h=="UnsM"||h=="smartSharpen"){var jl=(v.Amnt?v.Amnt.v.val:200)/100,f2=0;
if(h=="UnsM")f2=v.Thsh.v;else jl*=.75;for(var T=0;T<e.buffer.length;T++){if((T&3)==3){d.buffer[T]=e.buffer[T];
continue}var hQ=e.buffer[T],ah=d.buffer[T],hg=jl*(hQ-ah);if(hg>0)hg=Math.max(0,hg-f2);else hg=Math.min(0,hg+f2);
d.buffer[T]=Math.max(0,Math.min(255,hQ+hg))}}if(h=="HghP")for(var T=0;T<e.buffer.length;T++){if((T&3)==3){d.buffer[T]=e.buffer[T];
continue}var hQ=e.buffer[T],ah=d.buffer[T];d.buffer[T]=Math.max(0,Math.min(255,128+hQ-ah))}}if(h=="AdNs"){var cI=new Uint8ClampedArray(d.buffer.buffer),ek=255*v.Nose.v.val/100,kL;
if(v.Dstr.v.Dstr=="Gsn")kL=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else kL=function(){return Math.random()*2-1};for(var T=0;T<cI.length;T+=4){var jv=cI[T],k7=cI[T+1],al=cI[T+2],av,jG,dF;
if(v.Mnch.v){av=jG=dF=kL()}else{av=kL();jG=kL();dF=kL()}jv+=ek*av;k7+=ek*jG;al+=ek*dF;cI[T]=jv;cI[T+1]=k7;
cI[T+2]=al}}var ej=Date.now();if(h=="Mdn "||h=="DstS"||h=="Mxm "||h=="Mnm "||h=="surfaceBlur"){var jv=0,dr=v.Thsh,iQ=0;
if(dr)dr=dr.v;else dr=0;if(h=="Mdn "||h=="Mxm "||h=="Mnm "||h=="surfaceBlur")jv=v.Rds.v.val;else jv=v.Rds.v;
var gJ=10*Math.ceil(jv/10),M=e.R.q,O=e.R._,e4=["Mnm ","Mxm ","surfaceBlur"].indexOf(h),cX=(iQ==0?1:.75)*[.73,.73,1.2][e4]*(M*O*Math.pow(gJ*gJ,1.05))/6022387,kh=.6*(M*O*Math.pow(jv,1/2.6))/6500;
if(h=="Mxm "||h=="Mnm ")kh=M*O/13e3;var hV=v.preserveShape;if(hV&&hV.v.preserveShape=="Rndn")iQ=1;if(fM.QX&&e4!=-1&&(cX<kh||iQ==1)&&cX<500){var W=fM.cm(0,M,O);
W.set(e.buffer);var Z=fM.cm(1,M,O);fM.qH(Z);fM.filter.Ce({c:fM.filter.awQ,DV:new Float32Array([1/M,1/O]),r3:jv,agT:dr/255,yJ:[iQ,e4,gJ]},W.nS);
Z.get(d.buffer)}else if(h=="Mxm "||h=="Mnm "){var M=e.R.q,O=e.R._;B.TI.a84(e.buffer,d.buffer,M,O,1+Math.floor(v.Rds.v.val)*2,h=="Mxm ")}else{jv=Math.round(jv);
B.iN.e8=.5;B.iN.GR=dr;var cv=h=="surfaceBlur"?1:0;B.iN.D3(e.buffer,d.buffer,M,O,jv,cv);if(h=="DstS")for(var T=0;
T<M*O*4;T++){var hK=Math.abs(e.buffer[T]-d.buffer[T]);if(hK<=dr)d.buffer[T]=e.buffer[T]}}}if(h=="ClrH"){var cd=e.R.O(),jy=0;
cd.x=cd.y=0;var jv=v.Rds.v;jv=jv*Math.sqrt(2);var M=cd.q,O=cd._,jf=B.Ut(M,O),kS=new Float32Array(256);
for(var T=0;T<256;T++){var a8=T/255,iw=Math.sqrt(a8*(1/Math.PI));if(iw>.5)iw=.5+Math.pow((iw-.5)/(.564-.5),1.35)*.2;
kS[T]=jv*iw}var dM=Math.floor(2*M/jv),j$=Math.floor(2*O/jv),io=10-(jv-54*Math.sqrt(2))*1.5,fX=[e.buffer,cd];
B.Nb(fX);while(fX[jy*2+1].q>1.5*M/jv)jy++;var el=fX[jy*2+1],dC=fX[jy*2],gu=B.U(el.$()),hD=1/(1<<jy),fU=el.q,f_=el._,R=B.U(M*O);
for(var eq=0;eq<3;eq++){B.Bq(dC,gu,eq);B.ia(gu);var gm=Math.PI*v["Ang"+(eq+1)].v/180,eR=new aJ;eR.translate(-M/2,-O/2);
eR.rotate(-gm);eR.translate(M/2,O/2);jf.clearRect(0,0,M,O);for(var G=-(j$>>>2);G<j$;G++)for(var l=-(dM>>>2);
l<dM;l++){var bC=eR.w7(new fq((l+.5)*jv-io,(G+.5)*jv-io)),iX=Math.max(0,Math.min(bC.x*hD,fU-.51)),ep=Math.max(0,Math.min(bC.y*hD,f_-.51)),F=~~B.D.WV(iX,ep,gu,fU,f_);
jf.beginPath();jf.arc(bC.x,bC.y,kS[F],0,2*Math.PI);jf.fill()}var j1=jf.getImageData(0,0,M,O);B.Bq(j1.data,R,3);
B.ia(R);B.ar(R,d.buffer,eq)}}if(h=="Crst"||h=="Pntl"){var M=e.R.q,O=e.R._,cv=h=="Crst"?B.Y6.a4C:B.Y6.acx;
cv(e.buffer,M,O,d.buffer,v.ClSz.v,[Math.round(m.n),Math.round(m.i),Math.round(m.b)])}if(h=="Mztn"){var M=e.R.q,O=e.R._,F=M*O,cQ=new B.Em(F),eb=[cQ.n,cQ.i,cQ.b];
B.G3(e.buffer,cQ);var jg=v.MztT.v.MztT,gf={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[jg],ej=Date.now(),cD=[];
for(var T=0;T<F;T++){cD[T]=Math.random()}var F=M*O,iV=Math.round(F*gf[0]),hi=F-M-1;for(var T=0;T<iV;
T++){var eL=Math.random(),a7=1;if(eL<.5){a7=M;eL*=2}else eL=2*(eL-.5);var bq=Math.floor(eL*hi),eg=bq+a7;
cD[bq]=cD[eg]}var iA=Math.round(M*gf[1]);for(var G=0;G<O;G++)for(var T=0;T<iA;T++){var eL=B.B.qx(G*F+T),bq=G*M+Math.floor(eL*(M-1));
cD[bq]=cD[bq+1]}var eF=new Float64Array(256);for(var T=0;T<256;T++){var bB=T/255,d_=2*(bB<.5?bB:1-bB);
d_=gf[2]+Math.pow(d_,gf[3])*(1-gf[2]);bB=bB<.5?d_*.5:1-d_*.5;eF[T]=bB}for(var dx=0;dx<3;dx++){var R=eb[dx];
for(var G=0;G<O;G++){for(var l=0;l<M;l++){var T=G*M+l,a_=R[T],bB=eF[a_],eL=cD[T];R[T]=eL>bB?0:255}}}B.VT(cQ,d.buffer)}if(h=="Msc "){var kH=v.ClSz.v.val,M=e.R.q,O=e.R._,g9=Math.ceil(M/kH),iH=Math.ceil(O/kH),kp=B.U(g9*iH*4);
B.scale.hE(e.buffer,M,O,kp,g9,iH,1/kH);B.scale.hE(kp,g9,iH,d.buffer,M,O,kH)}if(h=="Clds"||h=="DfrC"){var M=d.R.q,O=d.R._,F=M*O,fl=B.U(F);
if(h=="Clds")B.yV(d.buffer,4278190080);var fm=B.U(256*4);for(var T=0;T<256;T++){var U=T<<2,cB=T/255,ho=1-cB;
fm[U]=Math.round(cB*J.n+ho*m.n);fm[U+1]=Math.round(cB*J.i+ho*m.i);fm[U+2]=Math.round(cB*J.b+ho*m.b)}B.W.aBk(e.buffer,M,O,fl);
var eM=d.buffer;for(var T=0;T<F;T++){var U=T<<2,dx=fl[T]<<2,jv=fm[dx],k7=fm[dx+1],al=fm[dx+2];if(h=="Clds"){eM[U]=jv;
eM[U+1]=k7;eM[U+2]=al}else{eM[U]=Math.abs(eM[4*T]-jv);eM[U+1]=Math.abs(eM[4*T+1]-k7);eM[U+2]=Math.abs(eM[4*T+2]-al)}}}if(h=="LnsF"){var M=e.R.q,O=e.R._,jg=["Zm","Nkn","Nkn1","PnVs"].indexOf(v.Lns.v.Lns),eT=v.FlrC.v,cl=[Math.min(jg,2),v.Brgh.v/100,eT.Hrzn.v,eT.Vrtc.v],ej=Date.now();
B.ays(e.buffer,M,O,d.buffer,cl)}var d1=["Blr ","BlrM","Shrp","ShrM"].indexOf(h);if(d1!=-1){var aK=d1>1,M=e.R.q,O=e.R._,i$=B.Zq.If[d1],a0=e.buffer.slice(0);
if(!aK)B.kj(a0);B.Zq.uy(a0,d.buffer,M,O,i$,255,!1,aK);if(!aK)B.Az(d.buffer)}if(h=="MtnB"){var bc=-v.Angl.v*Math.PI/180,kw=v.Dstn.v.val/2,ej=Date.now(),M=e.R.q,O=e.R._,N=e.R.O();
N.x=N.y=0;if(fM.QX){var ej=Date.now(),ed=d.buffer;ed.set(e.buffer);B.kj(ed);var ja=fM.cm(0,M,O);ja.set(ed);
var iF=B.U(4);iF[0]=Math.round(128+127*Math.cos(bc));iF[1]=Math.round(128+127*Math.sin(bc));new Uint32Array(ed.buffer).fill(new Uint32Array(iF.buffer)[0]);
var kj=fM.cm(1,M,O);kj.set(ed);fM.qH(ja,N);ja.Ie(N);fM.filter.Ce({c:fM.filter.sN,Dr:kj.nS,DV:new Float32Array([1/M,1/O]),ZR:kw/2,Bi:1},ja.vH);
ja.get(ed);B.Az(ed)}else{var bf=new aJ;bf.rotate(bc);var C=c.L2.X_([e.buffer,e.R],bf,!1,null,!0);f8.SO(kw,B.kK.a9y,C.buffer,C.R);
bf.ia();C=c.L2.X_([C.buffer,C.R],bf,!1,d.buffer.buffer,!0,d.R)}console.log(Date.now()-ej)}if(h=="RdlB"){var M=e.R.q,O=e.R._,jl=v.Amnt.v,kq=v.BlrM.v.BlrM=="Zm",eq=v.Cntr.v,cp=eq.Hrzn.v,hq=eq.Vrtc.v,z=Math.max(cp,1-cp)*M,q=Math.max(hq,1-hq)*O,iw=Math.sqrt(z*z+q*q),dz=2*Math.PI*iw*1.5,ie=Math.round(dz),kO=Math.round(iw),cd=new fP(0,0,ie,kO),hz=B.U(ie*kO*4),ea=kq?4:1,h3=kq?.6:8*((M+O)/2)/1400,as=.1,hD=1,dM=1;
B.D.aop(e.buffer,M,O,hz,ie,kO,cp,hq,ea,as,hD,dM);var bL=kq?B.U(ie*kO*4):null;if(kq){B.D.nc(hz,bL,ie,kO);
var co=bL;bL=hz;hz=co;cd.q=kO;cd._=ie}f8.SO(h3*jl,B.kK.a9y,hz,cd);if(kq){B.D.nc(hz,bL,kO,ie);var co=bL;
bL=hz;hz=co;cd.q=ie;cd._=kO}B.D.aqn(hz,ie,kO,d.buffer,M,O,cp,hq,ea,as,hD,dM)}if(h=="Plr "){var M=e.R.q,O=e.R._;
if(v.Cnvr.v.Cnvr=="RctP")B.D.aqn(e.buffer,M,O,d.buffer,M,O,.5,.5,1,0,2,M/O);else B.D.aop(e.buffer,M,O,d.buffer,M,O,.5,.5,1,0,2,M/O)}if(h=="FndE"){var M=e.R.q,O=e.R._;
B.Zq.adf(e.buffer,d.buffer,M,O)}if(h=="oilPaint"){var gm=v.LghD.v*Math.PI/180,kZ=[Math.cos(gm),Math.sin(gm),.001],b5=[v.stylization.v,v.cleanliness.v,v.brushScale.v,v.microBrush.v,v.lightingOn.v,v.specularity.v,kZ],N=e.R.O();
N.x=N.y=0;B.r_.filter(e.buffer,N,d.buffer,b5)}if(h=="Ofst"){var M=e.R.q,O=e.R._,iM=new Uint32Array(e.buffer.buffer),bn=new Uint32Array(d.buffer.buffer),ag=v.Hrzn.v,jO=v.Vrtc.v,kN=v.Fl.v.FlMd;
B.yV(bn,0);if(kN=="Bckg"||kN=="Rpt"){var cd=e.R.O();cd.offset(ag,jO);B.YZ(iM,cd,bn,d.R)}if(kN=="Rpt"){var gH,hW,fY,gn,cz;
ag=Math.max(-M,Math.min(M,ag));jO=Math.max(-O,Math.min(O,jO));gH=ag>0?ag:0;fY=ag>0?M:M+ag;hW=jO>0?0:jO+O;
gn=jO>0?jO:O;cz=jO>0?0:M*(O-1);for(var G=hW;G<gn;G++)for(var l=gH;l<fY;l++)bn[G*M+l]=iM[cz+l-ag];gH=ag>0?0:M+ag;
fY=ag>0?ag:M;hW=jO>0?jO:0;gn=jO>0?O:O+jO;cz=ag>0?0:M-1;for(var G=hW;G<gn;G++)for(var l=gH;l<fY;l++)bn[G*M+l]=iM[cz+M*(G-jO)];
if(ag>=0&&jO>=0){gH=0;fY=ag;hW=0;gn=jO;cz=0}if(ag>=0&&jO<0){gH=0;fY=ag;hW=O+jO;gn=O;cz=M*(O-1)}if(ag<0&&jO>=0){gH=M+ag;
fY=M;hW=0;gn=jO;cz=M-1}if(ag<0&&jO<0){gH=M+ag;fY=M;hW=O+jO;gn=O;cz=M*O-1}for(var G=hW;G<gn;G++)for(var l=gH;
l<fY;l++)bn[G*M+l]=iM[cz]}if(kN=="Wrp"){ag=(ag+100*M)%M;jO=(jO+100*O)%O;var cd=new fP(ag-M,jO-O,M,O);
B.YZ(iM,cd,bn,d.R);cd.offset(M,0);B.YZ(iM,cd,bn,d.R);cd.offset(0,O);B.YZ(iM,cd,bn,d.R);cd.offset(-M,0);
B.YZ(iM,cd,bn,d.R)}}if(h=="Rept"){var b_=v.Rsft.v.val/100,gW=v.SpcX.v.val/100;gW=Math.max(gW,-.99);var b3=v.SpcY.v.val/100;
b3=Math.max(b3,-.99);var hD=v.Scl.v.val/100,bf=new aJ;bf.rotate(v.Angl.v*Math.PI/180);bf.scale(hD,hD);
var bG={buffer:e.buffer,R:e.R};B.ZI(bG);if(bG.R.EG()){bG.buffer=e.buffer;bG.R=e.R}var eM=bG.buffer,cd=bG.R,ce=B.vJ(eM,cd,0),hc=new Uint32Array(eM.buffer)[0];
if(!ce.EG()&&!ce.lS(cd)){var bO=B.U(ce.$()*4);B.YZ(eM,cd,bO,ce);eM=bO;cd=ce}cd.x=cd.y=0;hc=gW==0&&b3==0&&!B.kx(e.buffer)||v.SpcC.v?hc:0;
function cK(l){return l<0?Math.ceil(l):Math.floor(l)}var gN=bf.w7(new fq(cd.q,0));gN.x=cK(gN.x);gN.y=cK(gN.y);
var bE=bf.w7(new fq(0,cd._));bE.x=cK(bE.x);bE.y=cK(bE.y);var C=c.L2.X_([eM,cd],bf,!1),cN=C.R,hF=C.buffer,kA=Math.round(cN.x),fF=Math.round(cN.y),kE=Math.max(d.R.q,d.R._)/Math.min(cd.q*hD*(1+gW),cd._*hD*(1+b3));
kE=Math.ceil(kE*1.7);B.yV(d.buffer,hc);for(var G=-kE;G<kE;G++){for(var l=-kE;l<kE;l++){var c7=(l+G*b_)*(1+gW),h1=G*(1+b3);
cN.x=kA+Math.round(c7*gN.x+h1*bE.x);cN.y=fF+Math.round(c7*gN.y+h1*bE.y);if(cN.qm(d.R))B.B.lU("norm",hF,cN,d.buffer,d.R,cN,1)}}}if(h=="Ctoa"){var m=B.Vh.SL(v.Clr.v),dr=v.Trsp.v.val/100,ae=v.Opct.v.val/100;
dr=ae==0?0:dr/ae;var M=e.R.q,O=e.R._,aj=~~m.n,c1=~~m.i,kC=~~m.b,cz=e.buffer,ey=d.buffer;for(var G=0;
G<O;G++)for(var l=0;l<M;l++){var T=G*M+l,U=T<<2,cd=cz[U],im=cz[U+1],eM=cz[U+2],gr=Math.abs(aj-cd),gi=Math.abs(c1-im),ao=Math.abs(kC-eM),eE=Math.max(gr,gi,ao)*(1/255);
eE=Math.max(0,Math.min(1,eE/ae));var dw=eE==0?0:1/eE,dB=dr==1?1:Math.max(0,Math.min(1,(eE-dr)/(1-dr)));
ey[U]=Math.max(0,Math.min(255,(cd-aj*(1-eE))*dw));ey[U+1]=Math.max(0,Math.min(255,(im-c1*(1-eE))*dw));
ey[U+2]=Math.max(0,Math.min(255,(eM-kC*(1-eE))*dw));ey[U+3]=Math.min(ey[U+3],~~(.5+dB*255))}}if(h=="Dthr"){function g$(l){return~~(.5+255*B.ps(l/255))}var gB=v.Plte.v,j_;
if(gB==0)j_=[4278190080,4294967295];else{var dh=[[1,1,1],[2,2,2],[3,3,2]][gB-1],iO=[1<<dh[0],1<<dh[1],1<<dh[2]],ax=[~~(255/(iO[0]-1)),~~(255/(iO[1]-1)),~~(255/(iO[2]-1))];
j_=[];for(var jv=0;jv<iO[0];jv++)for(var k7=0;k7<iO[1];k7++)for(var al=0;al<iO[2];al++)j_.push(255<<24|g$(al*ax[2])<<16|g$(k7*ax[1])<<8|g$(jv*ax[0]))}var M=e.R.q,O=e.R._,F=M*O,aZ=F*4,dC=e.buffer.slice(0),kd=d.buffer;
for(var T=0;T<aZ;T++)dC[T]=~~(.5+255*B.ps(dC[T]/255));var h2=B.U(M*O);UPNG.encode.dither(dC,M,O,j_,kd,h2,v.Mthd?v.Mthd.v:1);
for(var T=0;T<aZ;T++)kd[T]=~~(.5+255*B.sq(kd[T]/255))}if(h=="Part"){var d5=[v.RndS.v,v.Cont.v/100,v.Size.v,v.Dpth.v/100,v.Brgh.v/100,B.Vh.SL(v.Clr.v),v.Time.v,v.Blnk.v,v.Fall.v,v.Turb.v/100];
B.EF.pN(d.buffer,e.R.q,e.R._,d5)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(h)!=-1){var i3=x[0],M=e.R.q,O=e.R._,eF,ex=0;
if(h=="LqFy")eF=eV.kq(new Uint8Array(v.LqMe.v).buffer);else{var gU=3;if(h=="Wave")gU=Math.min(3,v.WLMn.v);
eF={VA:Math.floor(M/gU),qw:Math.floor(O/gU)};eF.map=new Float32Array(eF.VA*eF.qw*2);if(h=="LnCr"){var cp=.5*(eF.VA-1),hq=.5*(eF.qw-1),eJ=Math.max(Math.abs(0-cp),Math.abs(1-cp)),jb=Math.max(Math.abs(0-hq),Math.abs(1-hq)),eR=Math.sqrt(eJ*eJ+jb*jb),bp=0,dv=0,h6=-1,j6=2,hD=v.LnSi.v/100,kq=1/hD,dU=v.LnIa.v/100,dL=dU==0?1e-6:dU*4.6,fR=kq/eR;
for(var G=0;G<eF.qw;G++){for(var l=0;l<eF.VA;l++){var z=(l-cp)*fR,q=(G-hq)*fR,jv=Math.sqrt(z*z+q*q)*dL,eG=Math.atan(jv),e_=dU>0?eG/jv:jv/eG,dM=cp+eR*e_*z,j$=hq+eR*e_*q,T=G*eF.VA+l<<1;
eF.map[T]=dM-l;eF.map[T+1]=j$-G}}}else if(h=="Kale"){var g9=eF.VA,iH=eF.qw,ky=(g9-1)*.5,b0=(iH-1)*.5,bh=v.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,iY=v.Mirr.v,k9=Math.PI*2/iY,kR=.5*k9;
for(var G=0;G<iH;G++)for(var l=0;l<g9;l++){var z=l-ky,q=G-b0,jz=Math.sqrt(z*z+q*q),gm=Math.atan2(q,z)+bh;
gm=gm%k9;if(gm>kR)gm=k9-gm;var dM=ky+Math.cos(gm-bh)*jz,j$=b0+Math.sin(gm-bh)*jz,T=(G*g9+l)*2;eF.map[T]=dM-l;
eF.map[T+1]=j$-G}}else if(h=="Dspl"&&i3.length!=0){ex=v.UndA.v.UndA=="WrpA"?2:1;var dm=v.DspF.v.pth,bi,ju=v.DspD,dj,cC,jo;
if(ju){var gt=ju.v;cC=gt[1]*256+gt[0];dj=gt[5]*256+gt[4];jo=new Uint8Array(gt.slice(10,10+dj*cC))}else{for(var T=0;
T<i3.length;T++)if(i3[T].mX==dm)bi=i3[T];if(bi==null)bi=i3[0];bi.pb();var gr=bi.pd[1],jo=B.U(gr.$());
B.hS(bi.pd[0],jo);dj=gr.q;cC=gr._}eF={VA:dj,qw:cC};eF.map=new Float32Array(eF.VA*eF.qw*2);var eI=2.54*v.HrzS.v*dj/M,bR=2.54*v.VrtS.v*cC/O;
for(var G=0;G<eF.qw;G++){for(var l=0;l<eF.VA;l++){var hK=-.5+jo[G*dj+l]*(1/255),T=G*eF.VA+l<<1;eF.map[T]=hK*eI;
eF.map[T+1]=hK*bR}}}else if(h=="Pnch"||h=="Twrl"||h=="Sphr"||h=="ZgZg"){var jl=1,bc=Math.PI,hv=0,kX=1,ga=0,eq=3,kH=1.53,e_=1;
if(h=="Pnch"||h=="Sphr"||h=="ZgZg")jl=v.Amnt.v/100;if(h=="ZgZg"){kX=v.NmbR.v;ga=["ArnC","OtFr","PndR"].indexOf(v.ZZTy.v.ZZTy)}if(h=="Twrl")bc=v.Angl.v*Math.PI/180;
if(h=="Sphr")hv=["Nrml","HrzO","VrtO"].indexOf(v.SphM.v.SphM);function cv(l){l=Math.pow(l,1-l*.3-l*l*(l*l)*.5);
return-.225*Math.sin(l*Math.PI)}function bk(O,jH,jv,gH,hW,fY,gn,e_){var z=fY-gH,q=gn-hW,gP=gH-O,iz=hW-jH,cB=z*z+q*q,al=2*(z*gP+q*iz),eq=gP*gP+iz*iz-jv*jv,eO=Math.sqrt(al*al-4*cB*eq),iP=e_/(2*cB),kf=(-al+eO)*iP,jm=(-al-eO)*iP;
return e_*Math.min(kf,jm)}var g9=eF.VA,iH=eF.qw,ky=eF.VA/2,b0=eF.qw/2,hd=1/ky,jv=Math.sqrt(eq*eq+1)/eq,a1=eq+Math.sqrt(1/(eq*eq));
if(jl<0){eq=1.72;jv=1;a1=eq;kH=-1;e_=-1}for(var G=0;G<iH;G++){var q=(G-b0)/b0;for(var l=0;l<g9;l++){var z=(l-ky)*hd;
if(hv==1)q=0;else if(hv==2)z=0;var c$=Math.sqrt(z*z+q*q);if(c$<1&&c$!=0){var T=G*eF.VA+l<<1;if(h=="Pnch"){var hT=-jl*cv(c$)/c$;
eF.map[T]=z*hT*ky;eF.map[T+1]=q*hT*b0}else if(h=="Sphr"){var co=bk(0,a1,jv,0,0,c$,eq,e_),io=kH*jl*(co-1);
eF.map[T]=z*io*ky;eF.map[T+1]=q*io*b0}else if(h=="Twrl"){var gm=Math.atan2(q,z)-bc*(1-c$)*(1-c$),jT=Math.cos(gm),gD=Math.sin(gm);
eF.map[T]=(c$*jT-z)*ky;eF.map[T+1]=(c$*gD-q)*b0}else if(h=="ZgZg"){var jT=0,gD=0,bX=jl*(.5-.5*Math.cos(c$*kX*2*Math.PI))*(1-c$);
if(ga==0){var gm=Math.atan2(q,z)-3.5*bX;jT=c$*Math.cos(gm);gD=c$*Math.sin(gm)}if(ga==1){bX=100/M*bX/c$;
jT=(1-bX)*z;gD=(1-bX)*q}if(ga==2){var n=512/M*bX*Math.PI/4;jT=n+z;gD=n+q}eF.map[T]=(jT-z)*ky;eF.map[T+1]=(gD-q)*b0}}}}}else if(h=="Shr "){var eC=B.t(v.ShrP.v);
B.CL.C(eC,new aJ(0,255/127,255/127,0,-2,0));var cS=B.CL.zA(eC,eF.qw,!0);ex=v.UndA.v.UndA=="WrpA"?2:1;
for(var G=0;G<eF.qw;G++){var z=-cS[G]*eF.VA;for(var l=0;l<eF.VA;l++){var T=G*eF.VA+l<<1;eF.map[T]=z}}}else if(h=="Wave"){var j5=v.NmbG.v,cW=v.WLMn.v,bw=v.WLMx.v,hY=v.AmMn.v*(Math.PI/4),gF=v.AmMx.v*(Math.PI/4),dd=v.SclH.v/100,j2=v.SclV.v/100,jg=v.Wvtp.v.Wvtp,bX=Math.sin;
if(jg=="WvTr")bX=function(l){l*=2/Math.PI;return-.5+Math.abs(l%2-1)};if(jg=="WvSq")bX=function(l){l*=2/Math.PI;
return 1+2*Math.floor(l%2-1)};var gj=[],k5=new B.B.Ay(v.RndS.v);for(var T=0;T<j5;T++){gj.push(k5.get()*10);
gj.push(Math.PI*gU/(cW+k5.get()*(bw-cW)));gj.push(dd*(hY+k5.get()*(gF-hY))/gU);gj.push(k5.get()*10);
gj.push(Math.PI*gU/(cW+k5.get()*(bw-cW)));gj.push(j2*(hY+k5.get()*(gF-hY))/gU)}var aD=[],be=[],g7=Math.max(eF.VA,eF.qw);
for(var T=0;T<g7;T++){var z=0,q=0;for(var i6=0;i6<j5;i6++){var jW=i6*6;z+=gj[jW+2]*bX(gj[jW]+T*gj[jW+1]);
q+=gj[jW+5]*bX(gj[jW+3]+T*gj[jW+4])}aD[T]=q;be[T]=z}for(var G=0;G<eF.qw;G++){for(var l=0;l<eF.VA;l++){var T=G*eF.VA+l<<1;
eF.map[T]=be[G];eF.map[T+1]=aD[l]}}ex=v.UndA.v.UndA=="WrpA"?2:1}else if(h=="Rple"){ex=1;var jl=v.Amnt.v/100,gL=4,c5=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],dy=1,kx=1,gP=0,jK=["Sml","Mdm","Lrg"].indexOf(v.RplS.v.RplS);
if(jK==0){dy=1;kx=.2;gP=3}if(jK==2){dy=1;kx=2;gP=-1;c5=c5.reverse()}var f4=function(l,G){var eq=Math.cos,bY=0;
for(var T=0;T<gL;T++)for(var i6=0;i6<gL;i6++)bY+=c5[T*gL+i6]*eq(l*(T+gP)-G*(i6+gP));return bY},aQ=Math.floor(50/gU),kP=new Float32Array(aQ*aQ*2),fH=kx*jl*.5/gU;
for(var G=0;G<aQ;G++)for(var l=0;l<aQ;l++){var cp=dy*l*2*Math.PI/aQ,hq=dy*G*2*Math.PI/aQ,gv=f4(cp,hq),z=(f4(cp+.01,hq)-gv)*100,q=(f4(cp,hq+.01)-gv)*100,T=(G*aQ+l)*2;
kP[T]=z*fH;kP[T+1]=q*fH}for(var G=0;G<eF.qw;G++)for(var l=0;l<eF.VA;l++){var gD=G%aQ,jT=l%aQ,T=G*eF.VA+l<<1,i2=gD*aQ+jT<<1;
eF.map[T]=kP[i2];eF.map[T+1]=kP[i2+1]}}}B.MF.Fs(e.buffer,d.buffer,M,O,null,eF.map,eF.VA,eF.qw,ex)}return d};
var aS={};aS.aw8="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");aS.lH="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
aS.uI=["ScrC","ScrD","ScrL"];aS.L8=["SDRD","SDHz","SDLD","SDVt"];aS.ZY="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
aS.ds="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");aS.dK="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
aS.tx=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];aS.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
aS.UX=function(h){var e;if(h=="ClrP")e={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(h=="Ct")e={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(h=="DryB")e={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(h=="FlmG")e={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(h=="Frsc")e={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(h=="NGlw")e={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(h=="PntD")e={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(h=="PltK")e={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(h=="PlsW")e={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(h=="PstE")e={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(h=="RghP")e={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(h=="SmdS")e={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(h=="Spng")e={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(h=="Undr")e={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(h=="Wtrc")e={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(h=="AccE")e={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(h=="AngS")e={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(h=="Crsh")e={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(h=="DrkS")e={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(h=="InkO")e={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(h=="Smie")e={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(h=="Spt")e={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(h=="SprS")e={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(h=="DfsG")e={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(h=="Gls")e={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(h=="OcnR")e={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(h=="BsRl")e={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(h=="ChlC")e={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(h=="Chrc")e={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(h=="Chrm")e={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(h=="CntC")e={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(h=="GraP")e={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(h=="HlfS")e={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(h=="NtPr")e={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(h=="Phtc")e={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(h=="Plst")e={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(h=="Rtcl")e={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(h=="Stmp")e={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(h=="TrnE")e={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(h=="WtrP")e={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(h=="GlwE")e={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(h=="Crql")e={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(h=="Grn")e={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(h=="MscT")e={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(h=="Ptch")e={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(h=="StnG")e={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(h=="Txtz")e={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
e.__name="Filter Gallery";e.classID="GEfc";e.GEfk={t:"enum",v:{GEft:h}};e.GELv={t:"bool",v:!0};return e};
aS.pk=function(h,e){for(var T=0;T<e.length;T++)~~(e[T]=(h[4*T]+h[4*T+1]+h[4*T+2])*(1/3))};aS.a0G=function(h,e,v,J,m,d){var x=UPNG.quantize(h,e);
x={Wi:x.inds,KW:x.plte};if(d){var j=new Uint32Array(x.KW.length);for(var T=0;T<j.length;T++)j[T]=x.KW[T].est.rgba;
x.Wi=B.ao9(new Uint8Array(h),v,J,new Uint8Array(j.buffer))}var E=Math.floor((v+J)*.015);if(E!=0&&m)B.yw.aqb(x.Wi,v,J,E);
return x};aS.$a=function(h,e,v,J,m,d,x){h=v.GEfk.v.GEft;var j=e.R,E=j.q,L=j._,p=E*L,Z=v.FlRs?v.FlRs.v>>>1:0;
function o(H){return H.n<<24|H.i<<16|H.b<<8|255}if(h=="ClrP")B.W.azL(e.buffer,E,L,d.buffer,[v.Pncl.v,v.StrP.v,v.PprB.v]);
if(h=="Ct"){var u=v.NmbL.v,N=v.EdgS.v,M=aS.a0G(e.buffer.buffer,u*2,E,L,!0);for(var T=0;T<M.Wi.length;
T++)M.Wi[T]++;var O=new Uint8Array((E+2)*(L+2));B.Ww(M.Wi,new fP(1,1,E,L),O,new fP(0,0,E+2,L+2));var F=B.w.zr(O,E+2,L+2,N,!1),W=new aJ(1,0,0,1,-1,-1);
for(var T=0;T<F.length;T++)B.w.C(F[T].path.g,W,F[T].path.g);var f=[],$=M.KW;for(var T=0;T<$.length;T++){var H=$[T].est.q;
f.push({n:Math.round(255*H[0]),i:Math.round(255*H[1]),b:Math.round(255*H[2]),DR:Math.round(255*H[3])})}var A=B.Ut(E,L);
for(var T=0;T<F.length;T++){var G=F[T],H=f[G.color-1];if(H.DR==0)continue;A.fillStyle="rgba("+H.n+","+H.i+","+H.b+","+H.DR/255+")";
A.beginPath();Typr.U.pathToContext({crds:G.path.g,cmds:G.path.WQ},A);A.fill()}if(!j.EG()){var l=A.getImageData(0,0,E,L);
B.N7(l.data,d.buffer)}}if(h=="DryB")B.W.a3a(e.buffer,E,L,d.buffer,[v.BrsS.v,v.BrsD.v,v.Txtr.v]);if(h=="FlmG")B.W.avU(e.buffer,E,L,d.buffer,[v.Grn.v,v.HghA.v,v.Intn.v,Z]);
if(h=="Frsc")B.W.aH$(e.buffer,E,L,d.buffer,[v.BrsS.v,v.BrsD.v,v.Txtr.v]);if(h=="NGlw")B.W.awE(e.buffer,E,L,d.buffer,[v.Sz.v,v.Brgh.v,o(B.Vh.SL(v.Clr.v)),o(J),o(m)]);
if(h=="PltK")B.W.a4P(e.buffer,E,L,d.buffer,[v.StrS.v,v.StDt.v,v.Sftn.v]);if(h=="PstE")B.W.az3(e.buffer,E,L,d.buffer,[v.EdgT.v,v.EdgI.v,v.Pstr.v]);
if(h=="RghP")B.W.afF(e.buffer,E,L,d.buffer,[v.StrL.v,v.StDt.v,aS.ZY.indexOf(v.TxtT.v.TxtT),v.Scln.v,v.Rlf.v,aS.lH.indexOf(v.LghD.v.LghD),v.InvT.v]);
if(h=="SmdS")B.W.aG8(e.buffer,E,L,d.buffer,[v.StrL.v,v.HghA.v,v.Intn.v,v.FlRs?v.FlRs.v:0,Z]);if(h=="Spng")B.W.amL(e.buffer,E,L,d.buffer,[v.BrsS.v,v.Dfnt.v,v.Smth.v,v.FlRs?v.FlRs.v:0,Z]);
if(h=="Undr")B.W.a58(e.buffer,E,L,d.buffer,[v.BrsS.v,v.TxtC.v,aS.ZY.indexOf(v.TxtT.v.TxtT),v.Scln.v,v.Rlf.v,aS.lH.indexOf(v.LghD.v.LghD),v.InvT.v]);
if(h=="Wtrc")B.W.awZ(e.buffer,E,L,d.buffer,[v.BrsD.v,v.ShdI.v,v.Txtr.v]);if(h=="AccE")B.W.aGM(e.buffer,E,L,d.buffer,[v.EdgW.v,v.EdgB.v,v.Smth.v]);
if(h=="AngS")B.W.aeS(e.buffer,E,L,d.buffer,[v.DrcB.v,v.StrL.v,v.Shrp.v]);if(h=="Crsh")B.W.azp(e.buffer,E,L,d.buffer,[v.StrL.v,v.Shrp.v,v.Strg.v]);
if(h=="DrkS")B.W.abM(e.buffer,E,L,d.buffer,[v.Blnc.v,v.BlcI.v,v.WhtI.v]);if(h=="InkO")B.W.amm(e.buffer,E,L,d.buffer,[v.StrL.v,v.DrkI.v,v.LghI.v]);
if(h=="Smie")B.W.ajz(e.buffer,E,L,d.buffer,[v.StrW.v,v.StrP.v,v.Cntr.v]);if(h=="DfsG")B.W.azb(e.buffer,E,L,d.buffer,[v.Grns.v,v.GlwA.v,v.ClrA.v,o(m),Z]);
if(h=="CntC")B.W.aB5(e.buffer,E,L,d.buffer,[v.FrgL.v,v.BckL.v,aS.ZY.indexOf(v.TxtT.v.TxtT),v.Scln.v,v.Rlf.v,aS.lH.indexOf(v.LghD.v.LghD),v.InvT.v,o(m),o(J)]);
if(h=="ChlC")B.W.a6E(e.buffer,E,L,d.buffer,[v.ChrA.v,v.ChlA.v,v.StrP.v,Z,o(m),o(J)]);var K=h=="GraP"||h=="Chrc"||h=="Plst"||h=="Rtcl"||h=="Stmp"||h=="TrnE";
if(K){var U=B.U(E*L);if(h=="GraP")B.W.a7K(e.buffer,E,L,d.buffer,[v.StrL.v,v.LgDr.v,aS.L8.indexOf(v.SDir.v.StrD),Z]);
if(h=="Chrc")B.W.a35(e.buffer,E,L,d.buffer,[v.ChAm.v,v.Dtl.v,v.LgDr.v]);if(h=="Plst")B.W.aBw(e.buffer,E,L,d.buffer,[v.ImgB.v,aS.ds.indexOf(v.LghP.v.LghP),v.Smth.v]);
if(h=="Rtcl")B.W.a5w(e.buffer,E,L,d.buffer,[v.Dnst.v,v.BlcL.v,v.WhtL.v,Z]);if(h=="Stmp")B.W.a6d(e.buffer,E,L,d.buffer,[v.LgDr.v,v.Smth.v]);
if(h=="TrnE")B.W.aDQ(e.buffer,E,L,d.buffer,[v.ImgB.v,v.Smth.v,v.Cntr.v,Z]);B.Bq(d.buffer,U,0);aS.jY(U,d.buffer,J,m)}if(h=="NtPr")B.W.ari(e.buffer,E,L,d.buffer,[v.ImgB.v,v.Grns.v,v.Rlf.v,o(J),o(m),Z]);
if(h=="WtrP")B.W.aah(e.buffer,E,L,d.buffer,[v.FbrL.v,v.Brgh.v,v.Cntr.v,Z>>>1]);if(h=="Crql")B.W.aky(e.buffer,E,L,d.buffer,[v.CrcS.v,v.CrcD.v,v.CrcB.v,Z]);
if(h=="Grn")B.W.axP(e.buffer,E,L,d.buffer,[v.Intn.v,aS.dK.indexOf(v.Grnt.v.Grnt),v.Cntr.v,o(J),o(m),Z]);
if(h=="MscT")B.W.ac6(e.buffer,E,L,d.buffer,[v.TlSz.v,v.GrtW.v,v.LghG.v,Z]);if(h=="Ptch")B.W.aFf(e.buffer,E,L,d.buffer,[v.SqrS.v,v.Rlf.v,Z]);
if(h=="Phtc"){function z(eC,kH,j,gm){B.kK.PX(eC,kH,j,gm);for(var T=0;T<p;T++)kH[T]=Math.max(0,Math.min(255,128+eC[T]-kH[T]))}var q=v.Dtl.v,P=v.Drkn.v,g=B.U(p);
B.hS(e.buffer,g);var a=B.U(p);z(g,a,j,1);if(q==1){q=2;P=Math.round(P/4)}var w=B.U(p);z(g,w,j,q);for(var T=0;
T<p;T++)g[T]=Math.max(0,Math.min(255,255-(a[T]-w[T])*P));aS.jY(g,d.buffer,J,m)}if(h=="Spt"||h=="SprS"){var y,S=1,i=1;
y={VA:Math.floor(E/i),qw:Math.floor(L/i)};y.map=new Float32Array(y.VA*y.qw*2);var C=new B.B.Ay(Z),Y=new Float32Array(8192),_=v.SprR.v,I=_<20?.018*_:.36+(_-20)*.128;
if(h=="SprS"){I=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][_]}for(var T=0;
T<8192;T++)Y[T]=(-1+2*C.get())*I*70;for(var r=0;r<L;r++)for(var n=0;n<E;n++){var Q=r*E+n<<1;y.map[Q]=Y[Q%7919];
y.map[Q+1]=Y[(Q+1)%7919]}var D=y.map.slice(0),dG=h=="Spt"?v.Smth.v-1:1;if(h=="Spt"&&dG!=0){aS.ahZ(y.map,D,E,L,dG);
aS.aHQ(D,y.map,E,L,dG)}if(h=="SprS"){var R=v.StrL.v>>>1,X=R==0?2:1;aS.ahZ(y.map,D,E,L,X);aS.aHQ(D,y.map,E,L,X);
if(R!=0){var dx=aS.L8.indexOf(v.SDir.v.StrD),jv=[1,1,1,0][dx],gB=[-1,0,1,1][dx],hQ=2*R+1,ah=1/hQ;for(var r=0;
r<L;r++)for(var n=0;n<E;n++){var Q=r*E+n<<1,kG=0,iZ=0;for(var T=0;T<hQ;T++){var bs=Math.max(0,Math.min(E-1,n-(R+T)*jv)),ey=Math.max(0,Math.min(L-1,r-(R+T)*gB)),jp=ey*E+bs<<1;
kG+=y.map[jp];iZ+=y.map[jp+1]}D[Q]=kG*ah;D[Q+1]=iZ*ah}y.map=D}}B.MF.Fs(e.buffer,d.buffer,E,L,null,y.map,y.VA,y.qw,S)}if(h=="BsRl"||h=="PlsW"||h=="Chrm"){var eh=Date.now(),dt=B.U(p),jN=dt.slice(0);
B.hS(e.buffer,dt);var q=v.Dtl.v,jX=v.Smth.v;if(q!=15){B.kK.he(dt,jN,j,Math.round((15-q)*.5));B.N7(jN,dt)}var jw=1.4/E,i7=1.4/L,kn=new Float32Array(p),eK=new Float32Array(p),ee=new Float32Array(d.buffer.buffer);
for(var r=0;r<L;r++)for(var n=0;n<E;n++){var T=r*E+n,jv=n==E-1?dt[T]-dt[T-1]:dt[T+1]-dt[T],gB=r==L-1?dt[T]-dt[T-E]:dt[T+E]-dt[T],az=n*jw-.7,k7=r*i7-.7;
kn[T]=jv==0?az:jv*.4;eK[T]=gB==0?k7:gB*.4}if(h=="BsRl"){var al=(2+aS.lH.indexOf(v.LghD.v.LghD))*Math.PI*.25,kG=Math.cos(al);
if(Math.abs(kG)<.1)kG=0;kG=Math.sign(kG);var iZ=Math.sin(al);if(Math.abs(iZ)<.1)iZ=0;iZ=Math.sign(iZ);
var kl=1/(kG*kG+iZ*iZ);for(var r=0;r<L;r++)for(var n=0;n<E;n++){var T=r*E+n,b9=Math.max(-1,Math.min(1,kG*kn[T])),h9=Math.max(-1,Math.min(1,iZ*eK[T]));
jN[T]=128+127*(b9+h9)*kl}if(jX!=1){B.kK.he(jN,dt,j,Math.round((jX-1)*.5));B.N7(dt,jN)}aS.jY(jN,d.buffer,J,m)}else{if(h=="Chrm")jX=5+jX;
if(jX>1)aS.SO(kn,eK,ee,j,jX-1);if(h=="PlsW"){var ge=new Uint8Array(kn.buffer);for(var T=0;T<p;T++){var iN=T<<2,jv=kn[T],gB=eK[T],a8=1/(Math.sqrt(1+jv*jv)*Math.sqrt(1+gB*gB)),dK=a8*a8,f6=dK*dK,H=~~(255*(f6*f6*dK));
ge[iN+0]=H;ge[iN+1]=H;ge[iN+2]=H;ge[iN+3]=H}d.buffer.set(e.buffer);B.B.lU("norm",ge,j,d.buffer,j,j,v.HghS.v/20)}else if(h=="Chrm"){var fS=d.buffer,cf=E>>>1,iG=L>>>1;
for(var T=0;T<p;T++){var iN=T<<2,jv=kn[T],gB=eK[T],eC={x:1,y:0,It:jv};d4.pO(eC);var kH={x:0,y:1,It:gB};
d4.pO(kH);var i0=d4.anr(eC,kH),e5=1/i0.It,gA=~~Math.max(0,Math.min(E-1,cf-i0.x*e5*cf)),bW=~~Math.max(0,Math.min(L-1,iG-i0.y*e5*iG)),H=dt[bW*E+gA];
fS[iN+0]=H;fS[iN+1]=H;fS[iN+2]=H}}}}if(h=="Gls"||h=="OcnR"||h=="Txtz"){var e3=h=="OcnR"?2:aS.ZY.indexOf(v.TxtT.v.TxtT),iL=aS.Cl(e3),h4=iL[0],dt=iL[1],iT=h4.q,hC=h4._,hQ=24,dH=0,hA,fn;
function dS(cL,eo,fh){return~~(il*(cL+eo)+8192)&127}var kn=new Float32Array(p),eK=new Float32Array(p),ee=new Float32Array(d.buffer.buffer),il=h=="OcnR"?1/(1+(v.RplS.v-1)*.1):100/v.Scln.v;
if(e3==3)il*=32/22.2;var eh=Date.now(),i6=il,jw=1.4/E,i7=1.4/L;if(h=="Txtz"){i6*=1/255;hQ=256}for(var r=0;
r<L;r++){var co=dS(r,j.y,hC),ey=co+1&127;for(var n=0;n<E;n++){var T=r*E+n,bH=dS(n,j.x,iT),bs=bH+1&127,b5=0,ej=0,id=0;
if(h=="Txtz"){b5=B.D.WV(il*n,il*r,dt,128,128);ej=B.D.WV(il*n,il*r+1,dt,128,128);id=B.D.WV(il*n+1,il*r,dt,128,128)}else{b5=dt[co*iT+bH];
ej=dt[ey*iT+bH];id=dt[co*iT+bs]}kn[T]=Math.max(-hQ,Math.min((id-b5)*i6,hQ));eK[T]=Math.max(-hQ,Math.min((ej-b5)*i6,hQ))}}if(h=="Txtz")aS.anb(kn,eK,ee,j,6);
else aS.SO(kn,eK,ee,j,h=="Txtz"?1:h=="OcnR"?3.5/il:v.Smth.v);if(h=="Txtz")dH=v.InvT.v?-1:1;else if(h=="Gls"){dH=[1,.4,.5,.5,.5,.5,.5][e3]*(Math.exp(v.Dstr.v*.155)-1);
if(v.InvT.v)dH=-dH}else{dH=.5*(Math.exp(v.RplM.v*.155)-1)}var fS=d.buffer;if(h=="Txtz"){var al=(2+aS.lH.indexOf(v.LghD.v.LghD))*Math.PI*.25,kG=Math.cos(al),iZ=Math.sin(al);
hA={x:kG,y:iZ,It:0};d4.pO(hA);fn=v.Rlf.v;fn=fn/4+Math.max(0,(fn-35)*2)}function d3(eC,kH,hF){var db=B.B.overF(kH,eC,1),cL=(1-hF)*eC+hF*(hF*kH+(1-hF)*db);
return cL*255}for(var r=0;r<L;r++)for(var n=0;n<E;n++){var T=r*E+n,iN=T<<2,jv=kn[T],gB=eK[T],eC={x:1,y:0,It:jv};
d4.pO(eC);var kH={x:0,y:1,It:gB};d4.pO(kH);var i0=d4.anr(eC,kH);if(h=="Txtz"){var iF=d4.aEw(i0,hA)*dH,hF=1,H=1;
if(iF<0){H=0;iF=-iF}hF=Math.min(1,iF*fn);fS[iN+0]=~~d3(e.buffer[iN]*(1/255),H,hF);fS[iN+1]=~~d3(e.buffer[iN+1]*(1/255),H,hF);
fS[iN+2]=~~d3(e.buffer[iN+2]*(1/255),H,hF)}else{var e5=dH/i0.It,gA=~~Math.max(0,Math.min(E-1,n-i0.x*e5)),bW=~~Math.max(0,Math.min(L-1,r-i0.y*e5)),bz=bW*E+gA<<2;
fS[iN+0]=e.buffer[bz];fS[iN+1]=e.buffer[bz+1];fS[iN+2]=e.buffer[bz+2]}}}if(h=="PntD"){var hN=v.Shrp.v*.4,cA=v.BrsT.v.BrsT,km={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[cA],gm=Math.round(v.Sz.v*.5);
B.iN.e8=km[0];B.iN.D3(e.buffer,d.buffer,E,L,gm,0,[]);var gS=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];gS=B.Zq.Du(gS);
var jl=d.buffer.slice(0);B.Zq.uy(jl,d.buffer,E,L,gS,0);for(var T=0;T<e.buffer.length;T++){var jn=d.buffer[T]-jl[T];
d.buffer[T]=Math.max(0,Math.min(255,jl[T]+hN*jn))}}if(h=="GlwE"){var ad=d.buffer.slice(0);B.iN.e8=.5;
B.iN.D3(e.buffer,ad,E,L,v.Smth.v>>>1,0,[]);B.Zq.adf(ad,d.buffer,E,L);B.N7(d.buffer,ad);B.ia(ad);B.yV(ad,4278190080,16777215);
B.TI.a84(ad,d.buffer,E,L,(v.EdgW.v>>>1)*2+1,!0);var el=v.EdgB.v/10;for(var T=0;T<ad.length;T++){if((T&3)==3)continue;
var db=d.buffer[T];d.buffer[T]=Math.max(0,Math.min(255,db*el))}}if(h=="StnG"){B.Y6.a6u(e.buffer,E,L,d.buffer,v.ClSz.v,[Math.round(J.n),Math.round(J.i),Math.round(J.b)],v.BrdT.v)}if(h=="HlfS"){var dC=v.HlSz.v,jJ=dC*2+1,cJ=v.Cntr.v,cu=aS.uI.indexOf(v.ScrT.v.ScrT),p=E*L,jg=p*4,jP=B.U(p),gc=e.buffer,f5=0,kY=0;
aS.pk(gc,jP);var er=jP.slice(0);B.kK.akp(er,jP,j,dC);var jR=Math.PI/jJ,bg=new Float64Array(E),kG=new Float64Array(E),gO=new Float64Array(2*E);
for(var n=0;n<E;n++){var bH=(n-(E>>>1))*jR;bg[n]=bH*bH;kG[n]=Math.cos(bH);var jv=n<<1;gO[jv]=Math.sin(jv*(1/4.5));
gO[jv+1]=Math.sin((jv+1)*(1/4.5))}for(var r=0;r<L;r++){var co=(r-(L>>>1))*jR,iZ=Math.cos(co),g2=co*co;
for(var n=0;n<E;n++){var H=iZ;if(cu==0){var hs=.5+Math.sqrt(bg[n]+g2)*4.5;H=gO[~~hs]}else if(cu==1){H=kG[n]*iZ}var T=r*E+n,gH=jP[T]*(.75+.25*H),hF=gc[(T<<2)+3]*(1/255),hW=Math.max(0,Math.min(255,~~gH));
f5+=hW*hF,kY+=hF;jP[T]=hW}}f5/=kY;var fY=128+1.26*(f5-128),el=.08+.25*Math.abs((128-f5)/128),gn=1+el*cJ;
for(var T=0;T<p;T++){var gH=fY+(jP[T]-fY)*gn;jP[T]=Math.max(0,Math.min(255,~~gH))}if(cJ>46)B.round(jP);
aS.jY(jP,d.buffer,J,m)}for(var T=0;T<e.buffer.length;T+=4)d.buffer[T+3]=e.buffer[T+3]};aS.jY=function(h,e,v,J){var m=h.length,d=v.n,x=v.i,j=v.b,E=J.n,L=J.i,p=J.b;
for(var T=0;T<m;T++){var Z=h[T]*(1/255),o=1-Z,u=T<<2;e[u]=~~(d*o+E*Z);e[u+1]=~~(x*o+L*Z);e[u+2]=~~(j*o+p*Z)}};
aS.Cl=function(h){if(h==6)h=2;var e="blocks canvas frosted tinylens brick burlap".split(" ")[h];if(aS.BY==null)aS.BY=[];
if(aS.BY[h]==null){var v,J;if(h==2){J=new fP(0,0,128,128);var m=f8.UX("AdNs");m.Mnch.v=!0;m.Dstr.v.Dstr="Gsn";
m.Nose.v.val=50;var v=B.U(J.$()*4),d=v.slice(0);new Uint32Array(d.buffer).fill(4286611584);f8.$a("AdNs",{buffer:d,R:J},m,0,0,{buffer:v,R:J})}else{var x=gI.KF.get("tex/"+e,!0)[0];
J=x.Ei;v=new Uint8Array(x.data)}var j=B.U(J.$());B.Bq(v,j,0);aS.BY[h]=[J,j]}return aS.BY[h]};aS.SO=function(h,e,v,J,m){if(m<=1){m=Math.round(m);
aS.anb(h,e,v,J,[1,16,4][m]);return}var d=m*.42;if(h){B.kK.p2(h,J,d,3)}if(e){B.kK.p2(e,J,d,3)}};aS.anb=function(h,e,v,J,m){var d=B.Zq.Du([1,2,1,2,m,2,1,2,1]);
if(h){v.set(h);B.Zq.aow(h,v,J.q,J._,d);h.set(v)}if(e){v.set(e);B.Zq.aow(e,v,J.q,J._,d);e.set(v)}};aS.L4=function(h){if(h==null)return new fq(0,0);
var e=0,v=h.GEfs?h.GEfs.v:[{v:h}];for(var T=0;T<v.length;T++){var J=v[T].v,d=1e4;if(J.GELv&&!J.GELv.v)continue;
var m=J.GEfk.v.GEft;if(m=="GlwE"||m=="Phtc"||m=="BsRl"||m=="PlsW"||m=="Chrm"||m=="Gls"||m=="OcnR"||m=="InkO")d=0;
e=Math.max(e,d)}return new fq(e,e)};aS.ase=function(h){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0],v=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][h];
for(var T=0;T<13;T++){var J=T-6;e[T]=1/(v*Math.sqrt(2*Math.PI))*Math.exp(-.5*(J/v)*(J/v))}return e};
aS.ahZ=function(h,e,v,J,m){var d=aS.ase(m),x=6,j=13;for(var E=0;E<J;E++)for(var L=0;L<v;L++){var p=E*v+L<<1,Z=0,o=0;
for(var T=0;T<j;T++){var u=L+T-x,N=u<0?0:u>=v?v-1:u,M=(E*v+N)*2,O=d[T];Z+=O*h[M];o+=O*h[M+1]}e[p]=Z;
e[p+1]=o}};aS.aHQ=function(h,e,v,J,m){var d=aS.ase(m),x=6,j=13;for(var E=0;E<J;E++)for(var L=0;L<v;L++){var p=E*v+L<<1,Z=0,o=0;
for(var T=0;T<j;T++){var u=E+T-x,N=u<0?0:u>=J?J-1:u,M=(N*v+L)*2,O=d[T];Z+=O*h[M];o+=O*h[M+1]}e[p]=Z;
e[p+1]=o}};function cc(){}cc.qE=[2,5,5,7,4,4];cc.El="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
cc.s7="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
cc.j$=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
cc.rq=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
cc.lY=function(h){if(h=="passThrough")return"pass";return cc.El[cc.s7.indexOf(h)]};cc.e_=function(h){if(h=="pass")return"passThrough";
return cc.s7[cc.El.indexOf(h)]};cc.getName=function(h){return cc.j$[cc.El.indexOf(h)]};function s(){this.R=null;
this.buffer=null;this.fR="norm";this.S2=255;this.ql=!1;this.FP=!1;this.IT=0;this.sg=0;this.ga=!0;this.DL=[];
for(var T=0;T<10;T++)this.DL.push(0,0,255,255);this.name=null;this.add={};this.ZN=null;this.bK=null;
this.N=null;this.zl=null;this.aGi=30;this.m6=null;this.Nc=null;this.vM=null;this.Sk=null;this.TM=0;this.xc=!1;
this.gc=null;this.em=new s.Jd}s.Jd=function(){this.RX=!0;this.Db=!0;this.OM=B.U(0);this.a8d=B.U(0);this.LE=null;
this.L7={};this.auW=null;this.SX=null;this.B3=null;this.n4=null;this.CK=null;this.vx=null;this.y1=null;
this.TZ=null;this.oz=null;this.ue=null;this.Zp=null;this.SC=null;this.dT=!1};s.Jd.prototype.aql=function(){this.RX=null;
this.Db=!1;this.LE=null;this.dT=fM.QX};s.Jd.prototype.ahM=function(){d4.acM(this.L7);this.OM=B.U(0);
this.a8d=B.U(0);if(this.n4)this.n4.delete();if(this.CK)this.CK.delete();this.n4=null;this.CK=null;var h=[this.vx,this.y1,this.TZ,this.oz,this.ue,this.Zp];
for(var T=0;T<6;T++)if(h[T]!=null&&h[T]instanceof fM.Em)h[T].delete();this.vx=null;this.y1=null;this.TZ=null;
this.oz=null;this.ue=null;this.Zp=null};s.prototype.dn=function(h){if(h==null)h=this.R.O();if(this.em.LE==null)this.em.LE=h;
else this.em.LE=this.em.LE.R$(h)};s.prototype.XN=function(){return this.add.lsct==d7.W$||this.add.lsct==d7.kZ};
s.prototype.Yb=function(){var h=this.add;return h.SoCo!=null||h.GdFl!=null||h.PtFl!=null||h.vstl!=null};
s.prototype.aA9=function(){var h=this.add.lmfx;if(h==null)return;var e=["GrFl","patternFill"];for(var T=0;
T<e.length;T++){var v=fL.oN[fL.order.indexOf(e[T])],J=h[v].v;if(J.length==0)continue;for(var m=0;m<J.length;
m++){var d=J[m].v;if(d.enab.v&&(d.Algn==null||!d.Algn.v))this.em.Db=!0}}};s.prototype.a8E=function(){var h=this.N,e=this.em.RX;
if(this.Yb())h=this.NH();if(!fM.QX)return h.pJ();if(this.em.CK==null||e||fM.QX!=this.em.dT){var v=h.YO(),J=this.em.CK,m=null;
if(e!=!0&&e!=null){m=e.O();m.offset(-v.x,-v.y)}if(J==null||J.q!=v.q||J._!=v._){J=this.em.CK=new fM.y3(v.q,v._);
m=null}J.set(h.pJ(),m)}return this.em.CK};s.prototype.aAK=function(h){var e=this.R,v=this.buffer;if(!fM.QX){var J=this.yQ(h,v,e);
if(J){v=J.su;e=J.R}return v}if(this.em.LE!=null||fM.QX!=this.em.dT){var J=this.yQ(h,v,e);if(J){v=J.su;
e=J.R}var m=e;if(fM.QX!=this.em.dT||this.em.n4==null||this.em.n4.q!=m.q||this.em.n4._!=m._){if(this.em.n4)this.em.n4.delete();
this.em.n4=new fM.Em(m.q,m._);this.em.n4.set(v)}else{var d=this.em.LE.O();d.offset(-e.x,-e.y);this.em.n4.set(v,d)}}return this.em.n4};
s.prototype.LN=function(){var h=this.N;if(this.Yb())h=this.NH();return h!=null&&h.isEnabled&&(!h.R.EG()||h.SL()!=255)};
s.prototype.yQ=function(h,e,v){if(this.vO()){var J=this.o7(h);if(J.N&&J.N.isEnabled&&(!J.N.R.EG()||J.N.color==0)){var m=this.add.SoLd.filterFX.v;
J.N.DH=m.filterMaskDensity?m.filterMaskDensity.v:255;J.N.jC=m.filterMaskFeather?m.filterMaskFeather.v:0;
var d=J.buffer,x=J.R;if(x.$()<v.$()){x=v;d=B.U(x.$()*4);B.YZ(J.buffer,J.R,d,x)}var j=J.N._N(v);B.ia(j);
e=e.slice(0);B.B.JD(d,x,e,v,j,v,0,v,1);return{su:e,R:v}}}};s.prototype.a8v=function(){var h={tE:!1,s9:!1,Sv:0,wr:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)h.s9=!0;if(this.NH()&&this.NH().isEnabled)h.tE=!0;if(h.tE&&h.s9){h.Sv=this.NH().R.x-this.add.vmsk.NH().R.x;
h.wr=this.NH().R.y-this.add.vmsk.NH().R.y}return h};s.prototype.vT=function(h,e){if(jD!=0)return;if(e&&this.NH().jC!=0){e=e.O();
var v=Math.round(this.NH().jC*2.4);e.vY(v,v)}var J=!1;if(this.add.lsct==d7.FJ)return;var m=this,d=this.NH()!=null&&this.NH().c8,x=this.add.vmsk!=null&&this.add.vmsk.c8,j=this.a8v(),E=JSON.stringify(j)!=this.em.auW||j.tE&&d||j.s9&&x;
if(E){if(j.s9){var L=this.add.vmsk.NH();if(j.tE){this.N=this.NH().Eh(L);this.em.SX=new fq(this.N.R.x-this.NH().R.x,this.N.R.y-this.NH().R.y)}else this.N=L}if(this.N)J=!0;
if(this.N)this.em.B3=new fq(this.R.x-this.N.R.x,this.R.y-this.N.R.y);if(j.tE)this.NH().c8=!1;if(j.s9)this.add.vmsk.c8=!1;
this.dn(e)}else{if(j.tE&&j.s9){this.N.R.x=this.NH().R.x+this.em.SX.x;this.N.R.y=this.NH().R.y+this.em.SX.y}}if(m.Yb()){this.S_(h)}if(m.t2()){var p;
if(this.N)p=new fq(this.R.x-this.N.R.x,this.R.y-this.N.R.y);if(this.N&&this.N.isEnabled&&(this.em.B3==null||!p.lS(this.em.B3))){this.em.B3=p;
this.dn(e);J=!0}}if(hy.get(m.add)!=null)J=!0;if(J){var Z=this.em.RX;if(e&&Z&&Z!=!0)Z=Z.R$(e);else Z=e?e:!0;
this.em.RX=Z}this.em.auW=JSON.stringify(j)};s.prototype.S_=function(h){if(jD!=0)return;var e=this,v=e.add.vstk,J=new fP(0,0,h.q,h._),m,d=e.add.vmsk?this.add.vmsk.NH():null,E=!0,Z;
if(d&&d.isEnabled&&d.SL()==0)m=d.YO().O();else m=J;var x=e.NH();if(x&&x.isEnabled&&x.SL()==0)m=m.UP(e.N.YO());
var j=d&&v;if(v&&(!v.strokeEnabled.v||v.strokeStyleLineWidth.v.val==0))j=!1;if(v&&!v.fillEnabled.v&&j)E=!1;
var L=B.U(m.$()*4);if(E){if(e.add.SoCo)d4.$b(L,e.add.SoCo.Clr.v);if(e.add.GdFl){var p=d&&d.color==0?B.s.jd(e.add.vmsk.z,null,!0):null;
d4.uo(e.add.GdFl,L,m,h,null,p)}if(e.add.PtFl)d4.$U(e.add.PtFl,L,m,h.add.Patt,e.add.fxrp)}if(j)Z=fL.gL.md.indexOf(v.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(d){var o=d.DH;if(j)d.DH=255;var u=B.U(m.$());if(d.SL()!=0)u.fill(Math.round(d.SL()));if(d&&d.isEnabled){var N=d.YO(),M=d.pJ();
if(N.lS(m))B.N7(M,u);else B.Ww(M,N,u,m)}if(j&&Z==2){}else{if(e.add.SoCo&&E){B.ar(u,L,3)}else B.L_(u,m,L,m)}if(j)d.DH=o}e.buffer=L;
e.R=m;if(j){var O=v.strokeStyleContent.v,F=fL.gL.Wj.indexOf(O.classID),W=this.add.vmsk.NH(v);if(Z!=0&&!e.R.lS(J))e.extend(e.R.R$(W.YO()));
var o=W.DH;W.DH=255;var f=W._N(e.R);W.DH=o;if(W.color==255)B.ia(f);var $=B.U(e.R.$()*4);if(F==0)d4.$b($,O.Clr.v);
if(F==1)d4.uo(O,$,e.R,h,null,d.color==0?d.R:null);if(F==2)d4.$U(O,$,e.R,h.add.Patt,e.add.fxrp);var H=v.strokeStyleOpacity.v.val/100;
if(H!=1)B.Co(f,H);if(W.color==255)Z=2-Z;if(Z<2){B.B.JD($,e.R,e.buffer,e.R,f,e.R,255,e.R,1,!1);if(Z==0)B.yr(u,e.buffer)}if(Z==2){B.yr(f,$);
B.ia(u);B.B.JD($,e.R,e.buffer,e.R,u,m,255,e.R,1,!1);B.ia(u)}if(W.DH!=255){var A=$.slice(0);B.yV(A,4278190080,16777215);
B.B.lU("norm",A,e.R,e.buffer,e.R,e.R,1-W.DH/255)}o=d.DH;d.DH=255;this.a8d=d._N(e.R);d.DH=o}this.dn()};
s.prototype.eW=function(h,e,v,J,m){var d=this,x=d.add.SoLd.Idnt.v,j=d.add.SoLd,E=c.L2.RT(j.nonAffineTransform),L=B.w.oS(E),p=h.Rk(x,j.Crop?j.Crop.v:null,[L.q,L._],j.Impr.v.classID,v),f=null;
if(p==null)return;var Z=p.pd;if(m&&B.dh(Z[0],0))return;j.Sz.v.Wdth.v=p.Qp.q;j.Sz.v.Hght.v=p.Qp._;if(jD!=0)return;
var o=p.gx==null?j.Rslt.v.val:p.gx,u=j.quiltWarp.v;if(B.aI.bS(u))u=null;var N=B.D.s6(E,p.Qp);if(u){var L=B.w.oS(B.aI.hW(u)[3]),M=L.x,O=L.y,F=1/L.q,W=1/L._;
N=B.D.s6(E);N=B.D.Eh(N,[F,0,-M*F,0,W,-O*W,0,0])}if(!e&&!d.vO()&&u==null){var $=h.T.indexOf(d),H=s.q5(d);
for(var T=0;T<$;T++){var A=h.T[T];if(A.add.SoLd&&!A.vO()&&s.q5(A)[0]==H[0]){var G=s.q5(A);f={buffer:A.buffer.slice(0),R:A.R.O()};
f.R.offset(Math.round(H[1]-G[1]),Math.round(H[2]-G[2]));break}}}if(f==null)f=c.L2.pf(Z,e?0:1,N,u,null,null,null,e);
if(f==null){d.buffer=B.U();d.R=new fP}else if(d.vO()){var l=d.o7(h);if(J){l.buffer.fill(0);B.YZ(f.buffer,f.R,l.buffer,l.R)}else{l.buffer=f.buffer;
l.R=f.R.O()}this.pM(h,e)}else{d.buffer=f.buffer;d.R=f.R}d.vT(h);d.dn();h.dn()};s.q5=function(h){var e=h.add.SoLd,v=e.Idnt.v,J=c.L2.RT(e.nonAffineTransform),m=B.D.s6(J,new fP(0,0,1e3,1e3)),d=e.quiltWarp.v;
if(B.aI.bS(d))d=null;return[[v,m[0],m[1],m[3],m[4],m[6],m[7],d==null].join(":"),m[2],m[5]]};s.prototype.pM=function(h,e){if(e==null)e=!1;
var v=this.o7(h),J=this.add.SoLd.filterFX.v,m=f8.ahC(J),d=new fP(0,0,h.q,h._),x=v.R.R$(d),j=v.R.O();
j.vY(m.x,m.y);var E={buffer:null,R:x.UP(j)};E.buffer=B.U(E.R.$()*4);B.YZ(v.buffer,v.R,E.buffer,E.R);
if(J.enab.v&&e==!1){var L=J.filterFXList.v;for(var T=0;T<L.length;T++){var p=L[T].v;if(p.enab.v==!1)continue;
var Z=p.blendOptions.v,o=cc.lY(Z.Md.v.BlnM),u=Z.Opct.v.val/100,N=B.Vh.SL(p.FrgC.v),M=B.Vh.SL(p.BckC.v),O=f8.FA(p),F={buffer:B.U(E.buffer.length),R:E.R.O()},W=p.Fltr?p.Fltr.v:null;
if(hy.Ec[O]!=null){var f=hy.Ec[O],$=hy.hc(f,W);if($)hy.$a($,E.buffer,F.buffer,E.R)}else f8.$a(O,E,W,N,M,F,[h.add.lnk2?h.add.lnk2:[],this.NH(),h.Ar]);
if(o=="norm"&&u==1)E=F;else if(o=="norm"){B.B.JD(F.buffer,F.R,E.buffer,E.R,null,null,null,E.R,u)}else{B.B.lU(o,F.buffer,F.R,E.buffer,E.R,E.R,u)}}}this.R=E.R;
this.buffer=E.buffer;this.pE();this.dn();h.dn()};s.prototype.nL=function(h,e,v){this.gc=this.a2F(h,e,v)};
s.prototype.sk=function(h,e){var v=this.a2F(h,e,!0);if(v==null)return null;var J={JX:v.TM,ND:v._c,R:v.cM};
if(J.JX==1||J.JX==3){var m=J.R,d=B.U(m.q*m._*4);B.ar(J.ND,d,0);B.ar(J.ND,d,1);B.ar(J.ND,d,2);B.a6h(h.K.G,h.K.R,d,m);
J.ND=d}return J};s.prototype.a2F=function(h,e,v){var J,m,d,x,j,E,L;if(this.TM<=0){var p=B.U(this.R.$());
B.Bq(this.buffer,p,3);J=B.HE.Vy(e,{G:p,R:this.R},3);if(J==null)return null;var Z=B.sH(J.G,J.R);x=J.R.O();
j=this.R.O();m=B.U(x.$()*4);B.YZ(this.buffer,j,m,x);B.ar(J.G,m,3);d=this.buffer.slice(0);if(!v){var o=e.G.slice(0);
B.ia(o);B.L_(o,e.R,d,j)}E=this.buffer.slice(0);L=this.R.O()}if(this.TM==1||this.TM==3){var u=this.TM==1?this.NH():this.o7(h).N;
x=e.R.O();j=u.R.O();m=u.mL(x);var d=u.G.slice(0);if(!v)B.B.Y3(u.color==255?B.RE(x.$()):B.ML(x.$()),x,d,j,e.G,x,1);
E=u.G.slice(0);L=u.R.O()}return{TM:this.TM,_c:m,cM:x,Fv:d,pS:j,HF:E,wb:L}};s.prototype.bL=function(h,e){var v=this.gc;
if(v.TM==0){this.R=v.wb;this.buffer=v.HF;this.dn()}if(v.TM==1||v.TM==3){var J=v.TM==1?this.NH():this.o7(h).N;
J.G=v.HF;J.R=v.wb;if(this.TM==1){J.c8=!0;this.vT(h)}if(this.TM==3)this.dn()}this.gc=e};s.prototype.SW=function(h,e){if(this.TM<=0&&e.R.lS(this.R)){var v=B.U(this.R.$());
B.Bq(this.buffer,v,3);if(B.lS(h.K.G,v)){var J=this.R,m=this.buffer;this.gc={TM:this.TM,_c:m.slice(0),cM:J.O(),Fv:B.U(0),pS:new fP,HF:B.U(0),wb:new fP};
return!0}}var d=this.gc;if(d==null)return!1;if(d.TM!=this.TM)return!1;if(!e.R.lS(d.cM))return!1;var x=d.pS.R$(d.cM);
if(d.TM<=0){if(!x.lS(this.R))return!1;var j=B.U(d._c.length>>2);B.Bq(d._c,j,3);if(!B.lS(e.G,j))return!1;
var E=B.U(x.q*x._*4);B.YZ(d.Fv,d.pS,E,x);B.B.lU("norm",d._c,d.cM,E,x,x,1);return B.lS(E,this.buffer)}if(d.TM==1||d.TM==3){var L=d.TM==1?this.NH():this.o7(h).N;
if(!x.lS(L.R))return!1;var p=B.U(x.$());p.fill(L.color);B.Ww(d.Fv,d.pS,p,x);B.B.Y3(d._c,d.cM,p,x,e.G,x,1);
return B.lS(p,L.G)}};s.prototype.lm=function(h,e,v,J){var m=this.gc;m.cM.offset(e,v);var d=m.pS.R$(m.cM);
if(m.TM<=0){var x=B.U(d.$()*4);B.YZ(m.Fv,m.pS,x,d);B.B.lU("norm",m._c,m.cM,x,d,d,1);this.buffer=x;this.R=d;
this.dn()}else{var j=this.TM==1?this.NH():this.o7(h).N,E=B.U(d.$());E.fill(j.color);B.Ww(m.Fv,m.pS,E,d);
B.B.Y3(m._c,m.cM,E,d,J.G,d,1);j.G=E;j.R=d.O();if(this.TM==1){j.c8=!0;this.vT(h)}if(this.TM==3)this.dn()}};
s.prototype.afK=function(h){var e=[-1,0,1,2];if(h)e.push(3);if(this.N)e.push(-2);if(this.zl)e.push(-3);
return e};s.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};s.prototype.Ip=function(iW){this.add.luni=this.name=iW};
s.prototype.XW=function(h){var e=this.add.lnsr,v=this.add.TySh;if(e=="rend"&&v){var J=fr.X3(v.lf);this.Ip(J.slice(0,J.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
s.prototype.oA=function(){return(this.IT&1<<1)==0};s.prototype.t2=function(){return(this.IT&1<<4)==0};
s.prototype.Uo=function(){return(this.IT&1<<5)!=0};s.prototype.azs=function(){var h=this;if(h.add.lnsr!="bgnd"){h.add.lnsr="bgnd";
h.Ip("Background");h.add.lspf=1<<2}};s.prototype.a97=function(){var h=this;if(h.add.lnsr=="bgnd"){delete h.add.lnsr;
h.Ip("Layer 0");h.add.lspf=0}};s.prototype.o1=function(h){var e=this.add.lspf;return e==null?!1:(e>>h&1)!=0};
s.prototype.nP=function(h){if(h&&!this.oA())this.IT-=2;if(!h&&this.oA())this.IT+=2};s.prototype.mV=function(){var h=this.add.lmfx;
if(h==null)return!1;for(var e in h){if(e=="masterFXSwitch")continue;if(e=="Scl")continue;if(e=="classID")continue;
if(h[e].v.length>0)return!0}return!1};s.prototype.vO=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
s.prototype.Qi=function(){var h=this.add.lmfx;if(h==null)return!1;if(!h.masterFXSwitch.v)return!1;for(var e in h){if(e=="masterFXSwitch")continue;
if(e=="Scl")continue;if(e=="classID")continue;var v=h[e].v;for(var T=0;T<v.length;T++)if(v[T].v.enab.v)return!0}return!1};
s.prototype.EN=function(){var h=this,e=h.add.SoLd,v=h.add.TySh,J=h.add.vmsk,m=[];if(e)m=c.L2.RT(e.nonAffineTransform);
if(v&&this.em.NW){m=B.w.Tp(h.em.NW).g;B.w.C(m,v.C,m)}if(J)m=B.w.Tp(J.a3m()).g;return m};s.prototype.D5=function(h,e,v,J){if(jD==1)return B.w.oS(this.EN());
var m=new fP,d=this.Vn(h,v,J);if(d.indexOf(0)!=-1)m=m.R$(this.R);if(d.indexOf(1)!=-1){var x=this.NH(),j=x.YO();
m=v&&x.SL()==0?m.EG()?j:m.UP(j):m.R$(j)}if(d.indexOf(2)!=-1){var E=this.add.vmsk,L=this.add.vstk,p;if(e){if(E.Ez.length>1){var Z=B.s.WE(E.z,null,E.Ez);
p=B.w.oS(Z);if(p.EG())p=null}if(p==null)p=B.s.jd(E.z,E.X.length!=0?E.X:null)}else p=B.s.jd(E.z);if(!J&&L&&L.strokeEnabled.v){var o=L.strokeStyleLineAlignment.v.strokeStyleLineAlignment,u=L.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(o!="strokeStyleAlignInside"){var N=L.strokeStyleLineWidth.v.val;if(u=="strokeStyleMiterJoin")p=new fP(0,0,h.q,h._);
else p.vY(N,N)}}m=m.R$(p)}if(d.indexOf(3)!=-1)m=m.R$(this.o7(h).N.YO());if(d.length==0&&this.Yb())m=J?new fP(0,0,0,0):new fP(0,0,h.q,h._);
return m};s.prototype.BE=function(){var h=this.add.artb,e=h.artboardBackgroundType.v,v=0;if(e==1)v=4294967295;
else if(e==2)v=4278190080;else if(e==3)v=0;else if(e==4){v=h.Clr.v;v=255<<24|v.Bl.v<<16|v.Grn.v<<8|v.Rd.v}else throw e;
return v};s.prototype.AC=function(){var h=this.add.artb.artboardRect.v,e=h.Btom.v,v=h.Left.v,J=h.Rght.v,top=h.Top.v;
return new fP(v,top,J-v,e-top)};s.prototype.B9=function(h){var e=s.BT(h);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=e};s.BT=function(h){var e={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
e.Btom.v=h.y+h._;e.Left.v=h.x;e.Rght.v=h.x+h.q;e.Top.v=h.y;return e};s.prototype.Vn=function(h,e,v){var J=[],m=this;
if(!e&&m.xc&&v){J.push(2)}else if(m.TM<=0||e){if(m.t2()){if(jD==1&&m.add.TySh)J.push(0);else if(jD==1&&m.add.SoLd)J.push(0);
else if(!this.R.EG()||m.add.SoLd||m.add.TySh)J.push(0)}if(m.NH()&&!m.NH().R.EG())if(m.NH().jA||e)J.push(1);
if(m.add.vmsk)if(m.add.vmsk.jA||e)J.push(2);if(m.vO()&&m.o7(h).N&&!m.o7(h).N.R.EG())J.push(3)}else if(m.TM==1){J.push(1);
if(m.NH().jA&&!m.NH().R.EG()){if(m.t2())if(!this.R.EG())J.push(0);if(m.add.vmsk)if(m.add.vmsk.jA)J.push(2)}}else if(m.TM==3&&!m.o7(h).N.R.EG())J.push(3);
if(m.add.artb&&J.indexOf(0)==-1)J.push(0);J.sort();return J};s.prototype.NH=function(){var h=this;return h.zl?h.zl:h.add.vmsk&&h.add.vmsk.isEnabled?null:h.N};
s.prototype.o7=function(h){var e=this.add.SoLd.placed.v,v=h.add.FEid;if(v==null)return null;for(var T=0;
T<v.length;T++)if(v[T].id==e)return v[T];return null};s.prototype.extend=function(h){B.aqD(this,h)};
s.prototype.ahL=function(h,e,v){var J=h.O();if(this.Qi()){var m=this.add.lmfx,d=e.root.Ix(e.T.indexOf(this)),x=m.gradientFillMulti.v,j=!1;
for(var T=0;T<x.length;T++)if(x[T].v.enab.v&&x[T].v.Algn.v)j=!0;if(j)J=J.R$(d.YO(e,!1));var E=d4.akR(this.add.lmfx,e,v);
J.offset(E.x,E.y);J.q+=E.q;J._+=E._}return J};s.prototype.pE=function(){if(this.t2())B.ZI(this);var h=this.NH();
if(h)h.pE()};s.prototype.O=function(){var h=new s;h.R=this.R.O();h.buffer=this.buffer.slice(0);h.fR=this.fR;
h.S2=this.S2;h.ql=this.ql;h.IT=this.IT;h.name=this.name;h.DL=this.DL.slice(0);if(this.N)h.N=this.N.O();
if(this.zl)h.zl=this.zl.O();for(var e in this.add)h.add[e]=ba.O(e,this.add[e]);return h};s.prototype.C3=function(h){var e=this;
if(e.add.TySh)delete e.add.TySh;if(e.add.SoLd){var v=this.yQ(h,this.buffer,this.R);if(v){this.buffer=v.su;
this.R=v.R;this.dn()}delete e.add.SoLd}if(e.add.SoCo||e.add.GdFl||e.add.PtFl){if(e.add.vogk)delete e.add.vogk;
if(e.add.SoCo)delete e.add.SoCo;if(e.add.GdFl)delete e.add.GdFl;if(e.add.PtFl)delete e.add.PtFl;if(e.add.vmsk){console.log(e.zl,e.N);
delete e.add.vmsk;if(e.zl==null&&e.N)delete e.N;else if(e.zl!=null&&e.N!=null){e.N=e.zl;delete e.zl}}}if(!e.XN()&&hy.get(e.add)==null&&!this.t2())this.IT-=16};
s.prototype.yD=function(h){var e=255,v=0;if(h==2){var J=this.add.SoLd.filterFX.v;if(J.filterMaskDensity)e=J.filterMaskDensity.v;
if(J.filterMaskFeather)v=J.filterMaskFeather.v}else{var m=h==0?this.NH():this.add.vmsk;e=m.DH;v=m.jC}return{Oa:h,xV:e,Nu:v}};
s.prototype.a8b=function(h){if(h.Oa==2){var e=this.add.SoLd.filterFX.v;if(h.xV==255)delete e.filterMaskDensity;
else e.filterMaskDensity={t:"long",v:h.xV};if(h.Nu==0)delete e.filterMaskFeather;else e.filterMaskFeather={t:"doub",v:h.Nu};
this.dn()}else{var v=h.Oa==0?this.NH():this.add.vmsk;v.DH=h.xV;v.jC=h.Nu;v.c8=!0}};s.prototype.d6=function(){var h=this,e=h.add.vmsk;
if(e==null)return;h.add.vogk=B.WU.asJ(e.z)};s.d6=function(h){var e=[],v=B.s.bJ(h);for(var J=0;J<v;J++)e.push(B.WU.ML());
return e};var d7={E8:0,W$:1,kZ:2,FJ:3};s.xK=function(){this.name="Mask";this.bx=!1;this.Rm={n:255,i:0,b:0};
this.lI=50;this.R4=0;this.color=255;this.jA=!0;this.isEnabled=!0;this.Lz=!1;this.DH=255;this.jC=0;this.R=new fP;
this.G=B.U(0);this.XS=null;this.aFr=null;this.c8=!0};s.xK.prototype.Eh=function(h){if(!this.isEnabled)return h;
var e=new s.xK;e.color=Math.round(this.SL()*h.SL()/255);if(this.SL()==0&&h.SL()==0)e.R=this.YO().UP(h.YO());
else if(h.SL()==0)e.R=h.YO().O();else if(this.SL()==0)e.R=this.YO().O();else e.R=this.YO().R$(h.YO());
e.G=this._N(e.R);e.DH=255;e.jC=0;var v=h._N(e.R);B.ab9(v,e.R,e.G,e.R);return e};s.xK.prototype.YO=function(){if(this.jC==0)return this.R;
var h=Math.ceil(this.jC*2.2),e=this.R.O();if(e.y==0){if(e.x==0)e.q+=h;else e.vY(h,0);e._+=h}else e.vY(h,h);
return e};s.xK.prototype.pJ=function(){if(this.jC==0&&this.DH==255)return this.G;if(this.jC==0){var h=this.G.slice(0);
B.ia(h);B.Co(h,this.DH/255);B.ia(h);return h}var e=this.YO(),v=this.mL(e),h=B.U(e.$());B.kK.he(v,h,e,this.jC);
if(this.DH!=255){B.ia(h);B.Co(h,this.DH/255);B.ia(h)}return h};s.xK.prototype.SL=function(){return Math.round(255-(255-this.color)*(this.DH/255))};
s.xK.prototype.extend=function(h){B.extend(this,h,this.color)};s.xK.prototype.pE=function(){if(this.color==255)B.ia(this.G);
B.pE(this);if(this.color==255)B.ia(this.G)};s.xK.prototype.O=function(){var h=new s.xK;h.name=this.name;
h.bx=this.bx;h.Rm=this.Rm;h.lI=this.lI;h.R4=this.R4;h.color=this.color;h.jA=this.jA;h.isEnabled=this.isEnabled;
h.Lz=this.Lz;h.DH=this.DH;h.jC=this.jC;h.R=this.R.O();h.G=this.G.slice(0);return h};s.xK.prototype.mL=function(h,e){if(e==null)e=B.U(h.$());
e.fill(this.color);B.Ww(this.G,this.R,e,h);return e};s.xK.prototype._N=function(h,e){var v=this.YO(),J=this.pJ();
if(e==null)e=B.U(h.$());e.fill(this.SL());B.Ww(J,v,e,h);return e};s.eo=function(){this.jA=!0;this.isEnabled=!0;
this.DH=255;this.jC=0;this.d0=0;this.Jb=1;this.z=[{c:6},{c:8,all:0}];this.sf=[-3,-3];this.WM=!1;this.zl=null;
this.c8=!0;this.X=[];this.Ez=[]};s.eo.prototype.a3m=function(h){var e=s.eo.p3(this.z),v=new aJ;if(h)v.rotate(-this.d0);
B.s.Ma(e,v);return B.s.jd(e)};s.eo.prototype.VI=function(){var h=this.a3m(!0),e=B.w.Tp(h).g,v=new aJ;
v.rotate(this.d0);B.w.C(e,v,e);return e};s.eo.prototype.offset=function(h,e){this.zl=this.NH();B.s.Ma(this.z,new aJ(1,0,0,1,h,e));
this.zl.R.offset(h,e)};s.eo.prototype.NH=function(h){if(!this.c8&&this.zl&&h==null){this.zl.isEnabled=this.isEnabled;
return this.zl}var e=B.s.jd(this.z),v="strokeStyleLineAlignment",J="strokeStyleLineJoinType";if(e.$()>2e4*2e4)e=new fP(0,0,100,100);
if(h&&h[v].v[v]!="strokeStyleAlignInside"){var m=1;if(h[J].v[J]=="strokeStyleMiterJoin"){var d=B.s.abv(this.z),x=d/2,j=Math.sin(x),E=Math.cos(x);
E/=j;j=1;var m=Math.sqrt(E*E+j*j);if(isNaN(m)||m<1)m=1}m*=h[v].v[v]=="strokeStyleAlignOutside"?1:.5;
var L=Math.ceil(h.strokeStyleLineWidth.v.val*m);L=Math.min(L,600);e.vY(L,L)}e=B.w.jg(e);var p=new s.xK;
p.color=B.s.D2(this.z)?0:255;p.jA=this.jA;p.isEnabled=this.isEnabled;p.Lz=!0;p.R=e;p.DH=this.DH;p.jC=this.jC;
p.G=B.U(p.R.$());if(!e.EG())B.s.a21(this.z,p.G,p.R,h);if(h==null){this.zl=p;this.c8=!1}return p};s.eo.prototype.O=function(){var h=new s.eo;
h.jA=this.jA;h.isEnabled=this.isEnabled;h.DH=this.DH;h.jC=this.jC;h.d0=this.d0;h.z=s.eo.p3(this.z);h.sf=this.sf.slice(0);
h.WM=this.WM;h.X=this.X.slice(0);h.Ez=this.Ez.slice(0);return h};s.eo.prototype.concat=function(h){var e=h.z.slice(2);
if(e.length==0)return;e[0].Jb=3;this.z=this.z.concat(e)};s.eo.p3=function(h){var e=[];for(var T=0;T<h.length;
T++){var v=h[T];if(v.c>5||v.c==0||v.c==3)e.push(B.t(v));else e.push({c:v.c,NA:v.NA.O(),Q:v.Q.O(),Xb:v.Xb.O()})}return e};
s.eo.aor=function(h,e,v){if(h.length!=e.length)return!1;for(var T=2;T<h.length;T++){var J=h[T],m=e[T];
if(J.c!=m.c)return!1;if(J.c==0||J.c==3){if(J.length!=m.length||!v&&J.Jb!=m.Jb)return!1}else if(!J.NA.lS(m.NA)||!J.Q.lS(m.Q)||!J.Xb.lS(m.Xb))return!1}return!0};
s.eo.prototype.aEp=function(){var h=this.z;for(var T=3;T<h.length;T++)if(h[T].c==0||h[T].c==3)h[T].Jb=-1};
s.AA=function(){this.c=null;this.$J=2;this.mX=null;this.PY="";this.oH="";this.DE="";this.open=0;this.raw=null;
this.pd=null;this.arT="none";this.cj=!1;this.gx=null;this.Qp=null};s.AA.prototype.O=function(){var h=new s.AA;
h.c=this.c;h.$J=this.$J;h.mX=this.mX;h.PY=this.PY;h.oH=this.oH;h.DE=this.DE;h.open=this.open;h.raw=new Uint8Array(this.raw.buffer.slice(0));
return h};s.AA.prototype.pb=function(h,e,v,J,m){if(v==null)v="none";var d=this,x=gI.pI(d.raw.buffer),j=x=="svg"||x=="pdf"||x=="ai";
if(d.pd){var E=e&&j&&Math.max(d.pd[1].q,d.pd[1]._)<Math.max(e[0],e[1]);if(!E&&v==this.arT&&!d.cj)return}this.arT=v;
if(!j)h=0;if(x==null){alert("Unsupported format: "+b.RZ(d.raw,0,4));return null}var L=gI.g6(x);if(x=="psd"&&jD==1){var p=jI.ayb(d.raw)[0],Z=new Uint8Array(p.data);
d.pd=[Z,p.Ei]}else if(L.ug){var o=new e7(name+(x=="psd"?"":"-"+x)+".psd"),Z;L.E2(d.raw.buffer,o,e);var u=new fP(0,0,o.q,o._);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(v)!=-1){var N=[];for(var T=0;T<o.T.length;
T++){var M=o.T[T],O=M.buffer;if(!M.R.lS(u)){O=B.U(u.$()*4);B.YZ(M.buffer,M.R,O,u);console.log("resizing")}N.push(O)}Z=B.U(u.$()*4);
B.stack.stack(N,Z,v)}else{for(var T=0;T<o.T.length;T++)if(o.T[T].Yb())o.T[T].vT(o);if(J&&o.cj){var F=hP.gu(o,J,m);
d.cj=!F;if(F)hP.GV(o,J,m)}o.Bb();o.dn();o.vp();Z=o.pb()}d.pd=[Z,u];d.gx=o.gx!=null&&o.gx!=0?o.gx:72}else if(L){var W=L.E2(d.raw.buffer)[0];
d.pd=[new Uint8Array(W.data),W.Ei];d.gx=W.gx!=null&&W.gx!=0?W.gx:72}if(d.pd){d.Qp=d.pd[1].O();if(h==1){var O=d.pd[0],f=d.pd[1],$=B.U(f.$());
B.Bq(O,$,3);var H=B.sH($,f),A=B.U(H.$()*4);B.YZ(O,f,A,H);H.x=H.y=0;d.pd=[A,H]}else{var O=d.pd[0],f=d.pd[1],H=B.vJ(O,f,2,null,4278190080);
if(H.EG())H=new fP(0,0,1,1);while((H.x&15)!=0){H.x--;H.q++}while((H.y&15)!=0){H.y--;H._++}if(!H.lS(f)&&H.$()/f.$()<.7){var A=B.U(H.$()*4);
B.YZ(O,f,A,H);d.pd=[A,H]}}B.Nb(d.pd)}};s.Zn="0";s.Zt="2";s.SR="2.5";s.y2="2.6";s.k$="3";s.NU="4";s.XO="4.5";
s.a2W="4.6";s.a7S="5";s.JA="5.5";s.S5="6";s.aeV="7";s.ad9="8";s.X$="9";s.uW="9.3";s.alP="9.5";s.r0="9.6";
s.KQ="10";s.ul="11";s.CD="12";s.mH="13";s.Of="13.1";s.ax8="13.2";s.Lh="13.3";s.Wd="13.4";s.YD="14";s.h5="14.1";
s._B="14.2";s.jS="14.3";s.HI="17";s.KZ="18";s.aAj="19";s.W7="19.5";s.tn="19.6";s.KC="19.7";s.CV="19.8";
s.ac="20";s.Dw="21";s.RK="21.5";s.bO="22";s.Dt="22.5";s.KA="23";s.avB="24";s.hg="25";s.a9r="26";s.a9A="27";
s.wi="28";s.Ur="29";s.m1="30";s.QR="31";s.yY="32";s.ana="32.5";s.B_="33";s.oX="34";s.Lo="35";s.UJ="36";
s.Ql="36.5";s.ha="37";s.hB="37.5";s.af5="37.6";s.rg="38";s.f8="38.5";s.jF="38.6";s.Uu="39";s.dO="40";
s.iC="41";s.an3="42";s.KJ="50";s.uw="51";s.Mp="52";s.A6="53";s.VQ="54";s.ah8="54.5";s.q9="54.6";s.ah3="54.7";
s.tl="54.8";s.A0="55";s.S6="55.5";s.Z8="56";s.au="57";s.Ha="58";s.Fc="59";s.mB="60";function ap(){this.depth=0;
this.index=-1;this.L=null;this.UC=null;this.kl=-1;this.children=null;this.parent=null;this.ie=null}ap.prototype.atB=function(h,e){if(this.depth!=0)h.push(this.L.getName());
if(this.children)for(var T=0;T<this.children.length;T++)this.children[T].atB(h,e);if(h.length>e.GL.length)e.GL=h.slice(0);
if(this.depth!=0)h.pop()};ap.prototype.aBb=function(){var h=0;if(this.L.XN()){for(var T=0;T<this.children.length;
T++)h+=this.children[T].aBb()}else if(this.L.buffer)h+=this.L.buffer.length;return h};ap.prototype.Ix=function(h){var e=this.ie[h];
return this.ie[h]};ap.prototype.wy=function(h,e){var v=this.L;if(!v.oA()||v.o1(2)||v.o1(31))return null;
if(v.LN()){var J=v.N.R.qm(h);if(!J&&v.N.color==0)return}if(v.XN()){for(var T=0;T<this.children.length;
T++){var iW=this.children[T];iW.wy(h,e)}}else if(jD==1){var m=v.EN();if(h.qm(B.w.oS(m))&&e.indexOf(this.index)==-1)e.push(this.index)}else if(v.R.qm(h))e.push(this.index)};
ap.prototype.v0=function(h,e){var v=this.L;if(!v.oA()||v.o1(2)||v.o1(31))return null;if(v.LN()){if(v.N.R.GX(h)){if(!B.v0(h,v.N.G,v.N.R))return null}else if(v.N.color==0)return null}if(v.XN()){if(v.add.artb&&!v.AC().GX(h))return null;
for(var T=this.children.length-1;T>=0;T--){var iW=this.children[T],J=iW.v0(h,e);if(J&&e==null)return J}return null}else if(jD==1){if(v.add.vmsk){var m=v.add.vstk,d=!m.fillEnabled.v&&!v.FP,x=m.strokeStyleLineWidth.v.val*.5,j=B.s.v0(v.add.vmsk.z,h,d,x);
return j.yl==-1?null:this}var E=v.EN();if(fg.Wk(E,h.x,h.y))return this}else if(v.add.TySh&&v.R.GX(h)||B.az4(h,v.buffer,v.R)){if(e==null)return this;
else e.push(this.index)}return null};ap.prototype.amg=function(h){var e=this.L;if(!e.oA()||e.o1(2)||e.o1(31))return null;
var v=e.add.vmsk;if(v&&v.isEnabled){var J=B.s.v0(v.z,h).yl;if(J!=-1)return{a0g:this,am3:J}}if(e.XN()){if(e.add.artb&&!e.AC().GX(h))return null;
for(var T=this.children.length-1;T>=0;T--){var iW=this.children[T],m=iW.amg(h);if(m)return m}return null}return null};
ap.prototype.fy=function(h,e){h.push(this.index);if(this.L.XN()){h.push(this.kl);if(e)if(this.L.TM==1&&this.L.NH().jA==!1)return;
for(var T=0;T<this.children.length;T++)this.children[T].fy(h)}};ap.iH=function(){var h=document.createElement("canvas");
return h.getContext("2d")};ap.agc=function(h,e){var v,J;if(h.q>h._){v=Math.floor(e);J=Math.floor(e*(h._/h.q))}else{v=Math.floor(e*(h.q/h._));
J=Math.floor(e)}return new fq(v,J)};ap._o=32;ap.xd=1;ap.prototype.lT=function(h,e,v){var J=ap.xd,m=this.L;
if(m.XN()&&m.add.artb!=null)e=m.AC();var d=J==0?m.R:e;if(d.EG()||m.add.TySh)d=e;var x=ap._o*c.A_(),j=ap.agc(d,x),E=j.x,L=j.y,p=ap.agc(e,x),Z=hy.get(m.add)!=null;
if(m.Yb()&&m.add.vmsk==null||m.add.TySh||Z)E=L=Math.max(L,16);else if(m.XN()){E=L=Math.round(18*c.A_())}else{E=Math.max(E,6);
L=Math.max(L,6)}if(v&&m.m6==null){m.m6=ap.iH();if(jD==0){m.Nc=ap.iH();m.vM=ap.iH();m.Sk=ap.iH()}}var o=m.Yb()&&m.add.vmsk;
if(jD==1&&!m.XN()){if(v)B.mT.agL(m.m6,E,L,h,this)}else if(o){if(v&&m.add.vstk)B.mT.fb(m.m6,E,L,d,m.buffer,m.R,!1,null,!m.add.vstk.fillEnabled.v&&!m.add.vstk.strokeEnabled.v);
if(v)B.mT.aCX(m.m6,E,L)}else if(m.add.TySh){if(v)B.mT.auI(m.m6,L,L,m.add.TySh)}else if(m.add.SoCo){if(v)B.mT.aHO(m.m6,L,L,m.add.SoCo)}else if(m.add.GdFl){if(v)B.mT.a1L(m.m6,L,L,m.add.GdFl)}else if(m.add.PtFl){if(v)B.mT.aCF(m.m6,L,L,m.add.PtFl,h)}else if(Z){if(v)B.mT.arv(m.m6,L,L,m.add)}else if(m.add.SoLd){if(v)B.mT.fb(m.m6,E,L,d,m.buffer,m.R,!1);
if(v)B.mT.am8(m.m6,E,L,m.add.SoLd)}else if(m.XN()){}else{if(v){if(m.t2())B.mT.fb(m.m6,E,L,d,m.buffer,m.R,!1);
else{B.mT.a8c(m.m6,L,L)}}}var u=m.NH();if(v){if(u)B.mT.gy(m.Nc,p.x,p.y,e,u);if(m.vO()&&m.o7(h)&&m.o7(h).N){var N=m.o7(h).N;
B.mT.gy(m.Sk,p.x,p.y,e,N)}if(!o&&m.add.vmsk){B.mT.gy(m.vM,p.x,p.y,e,m.add.vmsk.NH(),!0)}}if(u||m.add.vmsk)L=Math.max(L,p.y);
m.aGi=Math.max(L,16);if(v!=!0&&m.XN()&&(m.add.lsct==d7.W$||h.T.length<4e3))for(var T=0;T<this.children.length;
T++)this.children[T].lT(h,e)};ap.prototype.a2p=function(h,e,v,J){this.depth=v;var m=h[e];if(J==null)J=[];
this.ie=J;if(m.add.lsct==d7.FJ){this.UC=m;this.kl=e-1;this.children=[];var T=e+1;while(!0){var d=h[T];
if(d==null)console.log(T,h.length);if(d.add.lsct==d7.W$||d.add.lsct==d7.kZ){if(m.add.lyid==d.add.lyid)m.add.lyid+=16777215;
this.L=d;this.index=T-1;J[this.index]=this;J[e-1]=this;break}var x=new ap;x.parent=this;T=x.a2p(h,T,v+1,J);
this.children.push(x)}return T+1}else{this.L=m;this.index=e-1;J[this.index]=this;return e+1}};ap.prototype.Tj=function(h,e,v,J){var m=this.Ix(v),d=h;
while(m.parent!=null){d=m.L.ahL(d,e,J);m=m.parent}return d};ap.prototype.YO=function(h,e){var v=this.L,J=new fP;
if(!v.oA())return J;var m=v.NH();if(v.XN())for(var T=0;T<this.children.length;T++){var d=this.children[T].YO(h,!0);
J=J.R$(d)}else if(hy.get(v.add)!=null)J=v.LN()&&v.N.color==0?v.N.YO().O():new fP(0,0,h.q,h._);else if(v.Yb()&&v.add.vmsk&&v.add.vmsk.isEnabled&&v.add.vstk){J=v.R.O()}else if(v.Yb()&&m&&m.isEnabled&&m.SL()!=0)J=new fP(0,0,h.q,h._);
else{J=v.D5(h,!1,!0);if(v.add.vmsk)J=B.w.jg(J)}return e?v.ahL(J,h):J};ap.kP={delete:function(h){if(h&&h.q)h.delete()},U:function(h,e){return fM.QX?new fM.Em(h,e):B.U(h*e*4)},DA:function(h,e){var v=e.q,J=e._;
if(fM.QX){if(h==null||h.q!=v||h._!=J){ap.kP.delete(h);return new fM.Em(v,J)}}else{if(h==null||!(h instanceof Uint8Array)||h.length!=v*J*4){ap.kP.delete(h);
return B.U(v*J*4)}}return h},Ww:function(h,e,v,J,m){(fM.QX?fM.LA:B.YZ)(h,e,v,J,m)},JD:function(h,e,v,J,m,d,x,j,T,E,L){(fM.QX?fM.B.e2:B.B.JD)(h,e,v,J,m,d,x,j,T,E,L)},aEl:function(h,e,v,J,m,d,x,j){var E=v.O(),L=m.q,p=m._,Z=E.x,o=E.y,u=E.x+E.q>L?-1:0,N=E.x<0?2:1,M=E.y+E._>p?-1:0,O=E.y<0?2:1;
for(var F=M;F<O;F++)for(var W=u;W<N;W++){E.x=Z+W*L;E.y=o+F*p;ap.kP.lU(h,e,E,J,m,d,x,j)}},lU:function(h,e,v,J,m,d,x,j){if(fM.QX)fM.B.alO(h,e,v,J,m,d,x,j);
else B.B.lU(h,e,v,J,m,d,x,j)},yV:function(h,e,v){if(fM.QX){fM.qH(h);fM.w$(e,v)}else B.yV(h,e,v)},ad1:function(h,e,v,J,m){if(fM.QX){fM.B.e2(null,null,J,m,h,e,v,m,1,!1)}else{if(v==255)B.L_(h,e,J,m);
else{var d=B.U(e.$());B.Si(J,m,d,e);B.OE(h,d);B.yV(J,0,16777215);B.a6h(d,e,J,m)}}},yP:function(h,e,v,J){if(fM.QX)fM.B.e2(null,null,v,J,h,e,0,J,1,!1);
else B.yP(h,e,v,J)}};ap.prototype.n8=function(h,e,v,J,m,d){var x=typeof d=="number";if(!this.L.XN()&&(x&&this.index>d||!x&&d.indexOf(this.index)==-1)){return}var j=this.L,E=d4.x9(j),L=ap.kP,p=j.Yb()?j.NH():j.N;
if(!j.oA())return;if(j.LN()&&p.R.EG()&&p.SL()==0){return}if(j.add.vstk==null&&this.YO(J,!1).EG()){return}if(j.Yb()&&j.R.EG())return;
var Z=this.YO(J,!0).UP(v);if(!e.lS(v)&&!v.qm(Z))return;if(j.XN()&&j.add.artb){var o=j.AC();v=v.UP(o)}var u=ap.abx(j,m,E);
if(!u){this.aiV(h,e,v,J,m,d);return}j.em.vx=L.DA(j.em.vx,Z);L.Ww(h,e,j.em.vx,Z,v);this.aiV(j.em.vx,Z,v,J,m,d);
L.JD(j.em.vx,Z,h,e,null,null,0,v,j.S2/255,j.fR=="diss",E.rt)};ap.abx=function(h,e,v){if(v.rt[0]*v.rt[1]*v.rt[2]==0)return!0;
return h.S2!=255&&(e.length!=0||h.XN()||h.Qi())};ap.af_={em:{}};ap.prototype.aiV=function(h,e,v,J,m,d){var x=this.L,j=d4.x9(x),E=hy.get(x.add)!=null,L=ap.kP,p=ap.abx(x,m,j),Z=p?1:x.S2/255,o=x.Yb()?x.NH():x.N,u=x.XN()&&j.yH==null&&(x.fR=="pass"||x.add.artb)&&!(m.length>0||j.fill!=1||x.Qi()),N=!x.XN()&&!E&&!x.Qi()&&m.length==0,M=E&&!x.Qi()&&m.length==0,H=null,A=null,G=null,q;
if(u||N||M){var O=h,F=e;if(x.LN()){F=this.YO(J,!1);O=x.em.oz=L.DA(x.em.oz,F);L.Ww(h,e,x.em.oz,F)}if(u)this.$x(O,F,v,J,d);
if(N)L.lU(x.fR,x.aAK(J),x.R,O,F,v,Z,j);if(M){var W=x.LN()&&o.SL()==0?o.YO().O():F.O(),f=x.em;if(W.lS(new fP(0,0,J.q,J._)))f=ap.af_;
f.TZ=this.axS(O,F,f.TZ,W,x.add);j.K3=!0;L.lU(x.fR,f.TZ,W,O,F,v,Z,j)}if(x.LN())L.JD(O,F,h,e,x.a8E(),o.YO(),o.SL(),v,1,x.fR=="diss");
x.em.aql();return}var $=x.XN()&&x.fR=="pass"&&(m.length>0||j.fill!=1||x.Qi()),W=x.R;if(x.XN()){W=this.YO(J,!1);
G=x.em.TZ=L.DA(x.em.TZ,W);L.yV(G,0);this.$x(G,W,W,J,d);A=L.DA(x.em.y1,W);L.Ww(G,W,A,W)}else if(E){W=x.LN()&&o.SL()==0?o.YO().O():e.O();
A=L.DA(x.em.y1,W);L.yV(A,4294967295)}else{W=x.R;H=x.aAK(J);A=L.DA(x.em.y1,W);L.Ww(H,W,A,W)}x.em.y1=A;
if(x.LN())L.ad1(x.a8E(),o.YO(),o.SL(),A,W);if(x.Qi())if(x.em.LE||x.em.Db||x.em.dT!=fM.QX||x.em.RX||x.XN()){var l=x.add.vmsk,K=B.U(W.$());
if(d4.awn(x.add.lmfx)){if(fM.QX){if(!x.XN()&&x.NH()==null&&x.R.lS(W)&&l==null)B.Bq(x.buffer,K,3);else{var U=B.U(W.$()*4);
A.get(U);B.Bq(U,K,3)}}else B.Bq(A,K,3)}if(x.em.Db||x.em.dT!=fM.QX||!B.lS(K,x.em.OM)){var z=null;if(x.Yb()&&l&&l.isEnabled&&l.NH().color==0)z=l.NH().R;
d4.acM(x.em.L7);x.em.L7=d4.aHp(K,W,x.add.lmfx,x.add.fxrp,J,z);x.em.OM=K;x.em.a2H=W}}if(x.Qi())d4.aBD(x.add.lmfx,x.em.L7,W,h,e,v);
if(x.XN()){H=L.DA(x.em.oz,W);L.yV(H,0);if(x.fR=="pass")L.Ww(h,e,H,W);if($)L.yP(G,W,H,W);this.$x(H,W,v,J,d);
x.em.oz=H}if(E){H=x.em.oz=this.axS(h,e,x.em.oz,W,x.add)}if(x.XN()||E)q=H;else{q=L.DA(x.em.oz,W);L.Ww(H,W,q,W,v);
x.em.oz=q}L.yV(q,4278190080,16777215);for(var T=0;T<m.length;T++)m[T].n8(q,W,v,J,[],d);var P=x.em.ue=L.DA(x.em.ue,W);
L.Ww(h,e,P,W,v);if(E)j.K3=!0;L.lU(x.fR=="pass"?"norm":x.fR,q,W,P,W,v,1,j);if(x.Qi()){var g=x.em.L7.c.FrFX,a=null;
if(g.length!=0){a=g[0];for(var T=0;T<g.length;T++)if(g[T].cu.q>a.cu.q)a=g[T];x.em.Zp=L.DA(x.em.Zp,a.cu);
L.Ww(h,e,x.em.Zp,a.cu,v);x.em.SC=L.DA(x.em.SC,a.cu)}d4.am0(x.add.lmfx,x.em.L7,W,h,e,v,P,x.em.Zp,x.em.SC,a?a.cu:null)}if(!fM.QX){var w=B.U(W.$());
B.Bq(A,w,3);A=w}L.JD(P,W,h,e,A,W,0,v,1,x.fR=="diss");x.em.aql()};ap.prototype.axS=function(h,e,v,J,m){var d=hy.get(m),x;
if(d)x=hy.hc(d,m[d]);var j=ap.kP;v=j.DA(v,J);if(!(fM.QX&&e.lS(J)))j.Ww(h,e,v,J);if(x){if(fM.QX){var E=J.O();
E.x=E.y=0;if(e.lS(J)){fM.qH(v,E);hy.Ce(x,h.nS,E)}else{fM.qH(v,J);v.Ie(J);hy.Ce(x,v.vH,E)}}else hy.$a(x,v,v,J)}return v};
ap.prototype.$x=function(h,e,v,J,m){var d=e.q,x=e._,j=e.x,E=e.y,iW=v,L=iW.x,p=iW.y,Z=-1,o=-1,u=2,N=2;
if(!J.m8){Z=o=0;u=N=1}var M=this.children;for(var T=0;T<M.length;T++){var O=hy.get(M[T].L.add)!=null,F=[];
for(var W=T+1;W<M.length;W++)if(M[W].L.ql)F.push(M[W]);else break;for(var f=o;f<N;f++)for(var $=Z;$<u;
$++){e.x=j+$*d;e.y=E+f*x;iW.x=L+$*d;iW.y=p+f*x;if(($!=0||f!=0)&&O)continue;M[T].n8(h,e,iW,J,F,m)}T+=F.length}e.x=j;
e.y=E;iW.x=L;iW.y=p};(function(){ap.prototype._5=function(m,d,x,j){var E=this.L,L=E.add.lmfx,p=E.add.TySh,Z=E.add.SoLd,u=null;
if(!E.oA())return;d.save();var o=E.S2/255*(E.add.iOpa?E.add.iOpa/255:1);d.globalAlpha*=o;d.globalCompositeOperation=cc.rq[cc.El.indexOf(E.fR)];
var N=m.add.prvw==0;if(N){d.lineWidth=1/m.p.e4;d.fillStyle="black"}var M=d4.aon(E,!1);if(M){u=d;var O=document.createElement("canvas");
O.width=d.canvas.width;O.height=d.canvas.height;var F=d.getTransform();d=O.getContext("2d");d.setTransform(F.a,F.b,F.c,F.d,F.e,F.f)}if(E.XN()){var W=this.children,f=null;
for(var T=0;T<W.length;T++)if(W[T].L.FP&&W[T].L.oA())f=W[T].L;if(f&&!N){d.beginPath();e(f,d);d.clip()}for(var T=0;
T<W.length;T++)W[T]._5(m,d,x,j)}else if(p){var $=!0;if(E.em.path==null){$=hP.fm(p,x.eN);if($)hP.IV(E,x.eN,!1)}if($){{var H=p.C;
d.save();h(d,H);var A=E.em.path;if(N){var G=A.WQ.slice(0);for(var T=0;T<G.length;T++)if(G[T][0]=="#")G[T]="#000000";
A={WQ:G,g:A.g}}hP.a2h(A,d);d.restore()}}}else if(E.Yb()&&E.add.vmsk&&(!E.FP||N)){var l=E.add.vmsk;d.beginPath();
e(E,d);if(N){d.stroke()}else{var K=E.add.vstl;if(K.xJ.length!=0){var U=v(K.xJ,l.z,m,d);if(U[1]){d.save();
h(d,U[1])}d.fillStyle=U[0];d.fill(["nonzero","evenodd"][l.Jb]);if(U[1]){d.restore()}}if(K.N0.length!=0){B.s.ba(K,d);
d.strokeStyle=v(K.N0,l.z,m,d,!0)[0];d.stroke()}}}else if(Z){var z=Z.filterFX;if(z){var U=z.v.filterFXList.v;
for(var T=0;T<U.length;T++){var q=U[T].v;if(!q.enab.v)continue;var P=f8.FA(q);if(P=="GsnB"){d.filter="blur("+q.Fltr.v.Rds.v.val*m.p.e4+"px)"}}}var g=Z.Idnt.v,a=m.Rk(g,Z.Crop?Z.Crop.v:null),H=B.D.li(Z),w=a.pd;
if(N){var y=c.L2.RT(Z.Trnf);d.moveTo(y[0],y[1]);for(var T=2;T<8;T+=2)d.lineTo(y[T],y[T+1]);d.closePath();
d.stroke()}else J(m,E,d,H,w)}if(M){u.save();u.setTransform(1,0,0,1,0,0);u.drawImage(d.canvas,0,0);u.restore();
d=u}d.globalAlpha/=o;d.globalCompositeOperation="source-over";d.restore()};function h(m,d){m.transform(d.DR,d.b,d.tg,d.l_,d.TO,d.bZ)}function e(m,d){var x=m.add.vmsk.z;
for(var T=0;T<x.length;T++){if(x[T].c>5)continue;var j=x[T].length;if(j==0)continue;var E=x[T].c==3;
B.s.ay2(d,x,T+1,j,0,0,E);if(!E)d.closePath();T+=j}}function v(m,d,x,j,E){if(m.length==3)return[CSS.aCE(m),null];
else if(m.length==2){var L=x.QZ[m[0]],p=1,Z=L.QM;if(Z==null){var o=document.createElement("canvas"),u=o.getContext("2d");
o.width=Math.round(L.q*p);o.height=Math.round(L._*p);u.scale(p,p);L.root._5(L,u,{},null);Z=L.QM=j.createPattern(o,"repeat")}var N=new aJ(1/p,0,0,1/p,0,0),M=x.gx/72,O=new aJ;
O.concat(N);var F=m[1][1];O.concat(new aJ(F[0],F[1],F[2],F[3],M*F[4],M*F[5]));O.scale(1,-1);return[Z,O]}else{var W=m[0],f=m[1],$=m[2],H=-$[5]*Math.PI/180,A=jQ.Ep(m,d),G,N;
if(W==0){var l=[0,0,1,0];B.w.C(l,A,l);G=j.createLinearGradient(l[0],l[1],l[2],l[3])}else{var l=[Math.cos(H)*$[6],Math.sin(H)*$[6],0,0,1,0],K=Math.abs(A.DR*A.b+A.tg*A.l_)<1e-9,U=Math.abs(A.DR*A.DR+A.b*A.b-A.tg*A.tg-A.l_*A.l_)<1e-9,z=K&&U;
if(z||E){B.w.C(l,A,l);var q=l[4]-l[2],P=l[5]-l[3];G=j.createRadialGradient(l[0],l[1],0,l[2],l[3],Math.sqrt(q*q+P*P))}else{G=j.createRadialGradient(l[0],l[1],0,0,0,1);
N=A}}B.Vh.jQ(G,f);return[G,N]}}function J(m,d,x,j,E){if(j==null)j=new aJ;var L=d.buffer,p=d.R;if(E){var Z=j.n$()*m.p.e4,o=0;
while(1<<o/2<.5/Z&&o+2<E.length)o+=2;L=E[o];p=E[o+1];p=p.O();p.x=p.y=0;var Z=1<<o/2,u=new aJ;u.scale(Z,Z);
u.concat(j);j=u}if(p.EG())return;var N=document.createElement("canvas");N.width=p.q;N.height=p._;var M=N.getContext("2d");
M.putImageData(new ImageData(new Uint8ClampedArray(L.buffer),p.q,p._),0,0);x.transform(j.DR,j.b,j.tg,j.l_,j.TO,j.bZ);
x.drawImage(N,p.x,p.y);j.ia();x.transform(j.DR,j.b,j.tg,j.l_,j.TO,j.bZ)}}());function e7(h){this.z2="psd";
this.um=!1;this.name=h;this.P7=8;this.depth=8;this.i9=-1;this.m8=!1;this.N2=null;this.L5=null;this.Mr=null;
this.Ey=null;this.q=0;this._=0;this.buffer=null;this.T=[];this.Fz={};this.add={};this.us=[];this.QZ={};
this.KW=[];this.QM=null;this.pe=4;this.Rn=null;this.gx=72;this.dQ={};this.X=[];this.nT=[];this.rn=!1;
this.Ys=[];this.ek=[];this.H0=[e7.O8("Work Path")];this.cg=[];this.Z3=null;this.bW={classID:"CompList",list:{t:"VlLs",v:[]}};
this.ck=null;this.uF=[];this.pr=[];this.X0=[];this.root=null;this.Pq=null;this.cj=!1;this.aAH=!1;this.a45=!1;
this.Fa=!1;this.AQ=!1;this.GI=!1;this.NK=!1;this.L9=!1;this.NV=!1;this.vn=!1;this.LE=null;this.$F=null;
this.K=null;this.Ar=[];this.kH=[];this.M={$u:{},S0:[],Sm:[],V9:[],LK:[],Sx:[],Qd:null,GW:null,Yp:null,Cj:null,rj:null,AF:null,Z2:null,gb:null,ud:[],xT:[],Il:null};
this.history=[new aO([1,0],null)];this.uM=0;this.YG=0;this.fp=0;this.aT=0;this.rK=null;this.eH=!1;this.p=new fi(this);
this.Bk=null;this.EY=null}e7.prototype.abm=function(){var h=this,e=h.add.artd;return e!=null&&e.Cnt.v>1||h.add.arts&&h.add.arts.length>1};
e7.prototype.Qk=function(h){if(h){if(h.length==30240){this.Qk(null);return}this.Fz.r1039=h;var e=ICC.R(h.buffer),m=null,d=17,E,L;
if(e==null){this.Qk(null);return}var v=e.header.spaceIn.toLowerCase(),J=JSON.stringify(e.tags.desc).toLowerCase();
try{m=ICC.U.profileName(e)}catch(j3){}if(v!="rgb "||m==null||v=="rgb "&&this.add.fcmy==1){this.Qk(null);
return}console.log("We got an ICC profile!",e,m);try{var x=ICC.U.sampleLUT(e,d)}catch(j3){this.Qk(null);
return}var j=x.slice(0),p=B.U(4),Z=B._V("rgbToRgbC"),o=Z[2],u=Z[3];for(var T=0;T<x.length;T+=3){p[0]=x[T]*255;
p[1]=x[T+1]*255;p[2]=x[T+2]*255;ICC.U.applyLUT(u,o,p,p);j[T]=p[0]/255;j[T+1]=p[1]/255;j[T+2]=p[2]/255}if(fM.QX){E=new fM.Em(d,d*d);
E.set(ICC.U.lutToRGBA8(x,d));L=new fM.Em(d,d*d);L.set(ICC.U.lutToRGBA8(j,d))}this.Bk=[h,e,d,x,E,j,L]}else{delete this.Fz.r1039;
this.Bk=null}};e7.prototype.AG=function(){return this.Bk};e7.prototype.n0=function(){if(this.Bk)return this.Bk;
if(this.add.fcmy==1){if(this.EY==null){var h=B._V("rgbToRgbC"),e=h[2],v=h[3],J;if(fM.QX){J=new fM.Em(e,e*e);
J.set(ICC.U.lutToRGBA8(v,e))}this.EY=[null,null,e,null,null,v,J]}return this.EY}};e7.prototype.a9R=function(){var h=this;
if(h.p.Y.join("")!="111"){h.p.Y=[1,1,1];h.GI=!0}for(var T=0;T<h.T.length;T++){var e=h.T[T],v=e.add.vmsk;
if(e.vO()){var J=e.o7(h);if(J&&J.N&&J.N.bx){J.N.bx=!1;h.GI=!0}}var m=e.NH();if(m&&m.bx){m.bx=!1;h.GI=!0}if(v){if(v.X.length!=0)v.X=[];
if(v.Ez.length!=0)v.Ez=[]}}};e7.prototype.aCb=function(){var h=this;return h.K!=null||h.rx()[1].length!=0||h.X.length>1};
e7.prototype.XX=function(){var h=this.nT,e=[];for(var T=0;T<h.length;T++)e[T]=-1;var v=this.root.children;
for(var T=0;T<v.length;T++){var J=v[T],m=J.L.add.artb;if(m==null)continue;var d=m.guideIndeces;d=d?d.v:[];
for(var x=0;x<d.length;x++)e[d[x].v]=J.index}return[B.t(h),e]};e7.prototype.IY=function(h){this.nT=B.t(h[0]);
var e=h[1],v=this.root.children;for(var T=0;T<v.length;T++){var J=v[T],m=J.L.add.artb;if(m==null)continue;
m.guideIndeces={t:"VlLs",v:[]}}for(var T=0;T<e.length;T++)if(e[T]!=-1)this.T[e[T]].add.artb.guideIndeces.v.push({t:"long",v:T})};
e7.prototype.az6=function(h){var e=this;if(h[0])e.add.lnk2=h[0];else delete e.add.lnk2;if(h[1])e.add.FEid=h[1];
else delete e.add.FEid;if(h[2])e.add.Patt=h[2];else delete e.add.Patt};e7.prototype.aFe=function(h){var e=this,v=[],J=[],m=[],N=null,M=null,O=null;
for(var T=0;T<h.length;T++){var d=h[T];if(d.add.SoLd){v.push(d.add.SoLd.Idnt.v);J.push(d.add.SoLd.placed.v)}if(d.add.PtFl)m.push(d.add.PtFl.Ptrn.v.Idnt.v);
if(d.add.lmfx){for(var x=0;x<fL.oN.length;x++){var j=d.add.lmfx[fL.oN[x]].v;for(var E=0;E<j.length;E++)if(j[E].v.Ptrn){var L=j[E].v;
if(L.classID=="FrFX"&&L.PntT.v.FrFl!="Ptrn")continue;m.push(L.Ptrn.v.Idnt.v)}}}var p=d.add.vstk;if(p&&p.strokeStyleContent.v.classID=="patternLayer"){m.push(p.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var Z=e.add.lnk2,o=e.add.FEid,u=e.add.Patt;
if(Z){N=[];for(var T=0;T<Z.length;T++)if(v.indexOf(Z[T].mX)!=-1)N.push(Z[T]);if(N.length==0)N=null}if(o){M=[];
for(var T=0;T<o.length;T++)if(J.indexOf(o[T].id)!=-1)M.push(o[T]);if(M.length==0)M=null}if(u){O=[];for(var T=0;
T<u.length;T++)if(m.indexOf(u[T].id)!=-1)O.push(u[T]);if(O.length==0)O=null}return[N,M,O]};e7.prototype.qL=function(h){var e=this,v=e.root.Ix(h==null?e.X[0]:h),J=!1;
while(v.parent!=null){J=J||v.L.o1(31);v=v.parent}return J};e7.prototype.l9=function(){var h=this.Ar,e=this.Ar.length;
if(e!=0&&h[e-1].name=="Quick Mask")return h[e-1]};e7.prototype.Qx=function(){return this.z2==c3.M8("% |/!)")||this.z2==c3.h7("gP")};
e7.prototype.pG=function(h){var e=this.add.artd;if(h!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:h},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};e7.prototype.eF=function(h){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(h)==-1)this.add.FEid.push(h)};
e7.prototype.JK=function(h){var e=this.add.FEid.indexOf(h);this.add.FEid.splice(e,1);if(this.add.FEid.length==0)delete this.add.FEid};
e7.prototype.dn=function(h){if(h==null)h=new fP(0,0,this.q,this._);if(this.LE==null)this.LE=h;else this.LE=this.LE.R$(h)};
e7.prototype.ayc=function(h){return this.LE!=null};e7.prototype.Qu=function(h){var e=this.T[h],v=this.root.Ix(h);
if(v==null)return!1;if(e.XN()||v.parent.children.indexOf(v)==0)return!1;return!0};e7.a1d=function(h){if(h.add.lnk2)for(var T=0;
T<h.add.lnk2.length;T++){var e=h.add.lnk2[T].mX;h.add.lnk2[T].mX=e7.Yh()+e.slice(8);for(var v=0;v<h.T.length;
v++){var J=h.T[v].add.SoLd;if(J&&J.Idnt.v==e)J.Idnt.v=h.add.lnk2[T].mX}}};e7.prototype.x2=function(h,e,v){h.sort(function(Z,o){return Z-o});
var top=h[h.length-1],J=this.T.slice(0),m=this.X.slice(0),d=[],x=[];for(var T=0;T<this.T.length;T++){if(h.indexOf(T)!=-1)x.push(this.T[T]);
else d.push(this.T[T])}this._g(x);this.X=[];var j=this.root.YO(this,!0);if(e)j=j.UP(e);if(v)j=j.R$(v);
if(j.EG())j=new fP(0,0,100,100);var E=new fP(-j.x,-j.y,this.q,this._),L=new Uint8Array(gI.g6("PSD").oZ(this,0,0,[!0,!1]));
this._g(J);this.X=m;var p=new e7(this.T[top].getName());gI.g6("PSD").E2(L.buffer,p);delete p.add.artd;
p.Ys=[];p._g(p.T);p.IY([[],[]]);e7.a1d(p);c.Zk.SU(p,j);p.dn();p.vp();p.pb();return[p,j,d,top]};e7.prototype.arm=function(h,e,v){var J=this.x2(h),m=J[0],d=J[1],x=J[2],top=J[3],j;
if(v=="jpg")j=new Uint8Array(gI.g6("JPG").oZ([[m.pb().buffer]],m.q,m._,[80]));else j=new Uint8Array(gI.g6("PSD").oZ(m,null,null,[!0,!1]));
if(e)x=this.T.slice(0);var E=this.dz(j,m.name,d.x,d.y);if(top==this.T.length-1)x.push(E);else x.splice(e?top+1:top-h.length+1,0,E);
this._g(x);this.X=[x.indexOf(E)]};e7.Yh=function(h){if(h==null)h="";var e="";while(e==""||e==h){e="";
for(var T=0;T<8;T++)e+=Math.floor(Math.random()*16).toString(16)}return e};e7.prototype.zR=function(h){if(h==null)return;
if(this.add.Patt==null)this.add.Patt=[];var e=this.add.Patt;for(var T=0;T<e.length;T++)if(e[T].id==h.id)return;
e.push(h)};e7.prototype.aqA=function(h){for(var T=0;T<this.T.length;T++){var e=this.T[T],v=e.add.SoLd;
if(v&&v.Idnt.v==h)e.eW(this)}};e7.prototype.dz=function(h,e,v,J,m,d,x){if(this.add.lnk2==null)this.add.lnk2=[];
var j=null;for(var T=0;T<this.add.lnk2.length;T++)if(B.lS(h,this.add.lnk2[T].raw)){j=this.add.lnk2[T].mX;
break}if(j==null){var E=gI.pI(h.buffer);j=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f";var L=new s.AA;L.mX=j;
L.DE=E=="psd"?"8BIM":"    ";L.PY=e+"."+E;L.oH=E=="psd"?"8BPB":"    ";L.open=0;L.raw=h;L.c="liFD";L.$J=2;
this.add.lnk2.push(L)}var p=this.Rk(j,null,null,null,d,x),Z=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f",o=this.ws(),u=p?p.Qp:new fP;
o.Ip(e);o.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:j},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:Z},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:B.aI.U(u)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:u.q},Hght:{t:"doub",v:u._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:p?p.gx:72}}};
var N=u.O();if(v!=null)N.offset(v,J);if(p!=null&&m){var E=gI.pI(h.buffer),M=m.x,O=m.y,F=m.q,W=m._;N=p.Qp.O();
N.offset(M+v,O+J);var f=f=this.gx/(E=="pdf"?144:p.gx?p.gx:this.gx);N.q=N.q*f;N._=N._*f;var $=Math.max(N.q/F,N._/W);
if($>1.0001){N.q=N.q/$;N._=N._/$}N.x=Math.round(M+(F-N.q)/2);N.y=Math.round(O+(W-N._)/2)}var H=B.w.Tp(N).g;
o.add.SoLd.Trnf=c.L2.ni(H);o.add.SoLd.nonAffineTransform=c.L2.ni(H);if(p){if(m)o.eW(this,!1);else if(jD==0){o.R=p.pd[1].O();
o.R.offset(N.x,N.y);o.buffer=p.pd[0].slice(0)}}return o};e7.prototype.Wo=function(){var h=this.add.arts,e=new fP;
for(var T=0;T<h.length;T++)e=e.R$(B.w.Ob(h[T].Fv));return e};e7.prototype.alb=function(h,e,v){var J=this.Wo();
if(e==null){e=J.q;v=J._}var m=B.Ut(e,v);m.save();m.translate(-J.x,-J.y);m.scale(e/J.q,v/J._);this.root._5(this,m,h,new fP(0,0,e,v));
m.restore();return m.getImageData(0,0,e,v).data.buffer};e7.prototype.pb=function(h){if(h!=null){this.dn();
this.vp(h);var e=this.buffer;if(fM.QX)this.Pq.get(e);else e=e.slice(0);this.dn();this.vp();return e}if(this.LE){this.vp();
this.LE=null}if(fM.QX&&this.$F){this.Pq.get(this.buffer);this.$F=null;this.NK=!0}return this.buffer};
e7.prototype.ay8=function(){for(var T=0;T<this.T.length;T++)this.T[T].aA9();this.dn()};e7.prototype.aEM=function(){for(var T=0;
T<this.T.length;T++)if(this.T[T].add.lmfx)this.T[T].em.Db=!0};e7.prototype.h2=function(){var h=this.Fz.r1044;
if(h==null){h=this.Fz.r1044=new Uint8Array(4);var e=0;for(var T=0;T<this.T.length;T++)e=Math.max(e,this.T[T].add.lyid);
b.ft(h,0,e)}var v=b.d$(h,0);b.ft(h,0,v+1);return v+1};e7.prototype.kC=function(h,e,v){if(h==null)h=!0;
var J=this;if(J.kH.length!=0)return!0;if(J.X.length!=1){if(h)alert(J.X.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.YB(h,e,v)};e7.prototype.YB=function(h,e,v){if(h==null)h=!0;if(e==null)e=!1;var J=this;
if(J.kH.length!=0)return!0;for(var T=0;T<J.X.length;T++){var m=J.T[J.X[T]],d=e||m.TM<=0;if(m.add.lsct!=null&&m.add.lsct!=d7.E8&&m.TM!=1){if(h)alert(bj.get([15,7,2]));
return!1}if(d&&!m.t2()){if(h)alert(bj.get([15,7,2]));return!1}if(d&&m.add.TySh){return this.asQ(h,[15,7,3],v)}if(d&&m.add.SoLd){return this.asQ(h,[15,7,4],v)}if(m.o1(1)||J.qL(J.X[T])){if(h)alert(bj.get([6,57,0]));
return!1}}return!0};e7.prototype.asQ=function(h,e,v){if(h&&typeof h=="object"){var J=new g3(k.E.u);J.data={V:k.l.Xq,dF:"confirm"};
J.data.J=bj.get(e)+". "+bj.get([6,8])+"?";var m=h;J.data.j5=function(){var d=new g3(k.E.Fq,!0);d.data={UH:"rasterizeLayer",TH:{classID:"rasterizeLayer",null:h8.$j("Lyr",!0)}};
m.a(d)};h.a(J);return!1}if(h)alert(bj.get(e));return!1};e7.prototype.a43=function(h){var e=this.root.Ix(h);
if(e.parent)return e.L.oA()&&this.a43(e.parent.index);else return e.L.oA()};e7.prototype.uG=function(h){var e=this;
if(h){var v=0;for(var T=0;T<e.X.length;T++)if(e.T[e.X[T]].add.artb)v++;if(v>1)return-1}if(e.add.artd&&e.X.length!=0){var J=e.root.Ix(e.X[0]);
while(J.parent.parent)J=J.parent;if(J.L.add.artb)return J.index}return-1};e7.prototype.fQ=function(){var h=this.uG();
if(h!=-1){var e=this.T[h].AC();return new fq(e.x,e.y)}return new fq(0,0)};e7.prototype.adn=function(){var h=this.T[this.X[0]];
if(h.TM<=0&&!h.R.qm(this.K.R)){alert("Selected area is empty.");return!1}if(this.X.length==1&&this.K){var e=B.U(this.K.G.length);
B.Si(h.buffer,h.R,e,this.K.R);B.OE(this.K.G,e);if(B.dh(e,0)){alert("Selected area is empty.");return!1}}return!0};
e7.prototype.J0=function(){if(this.Fz["r"+1037]==null)this.Ko(30);return b.Pp(this.Fz["r"+1037],0)};
e7.prototype.Ko=function(h){if(this.Fz["r"+1037]==null)this.Fz["r"+1037]=new Uint8Array(4);if(b.Pp(this.Fz["r"+1037],0)==h)return;
b.RH(this.Fz["r"+1037],0,h);this.aEM()};e7.prototype.uz=function(){if(this.Fz["r"+1049]==null)this.DZ(30);
return b.Pp(this.Fz["r"+1049],0)};e7.prototype.DZ=function(h){if(this.Fz["r"+1049]==null)this.Fz["r"+1049]=new Uint8Array(4);
if(b.Pp(this.Fz["r"+1049],0)==h)return;b.RH(this.Fz["r"+1049],0,h);this.aEM()};e7.prototype.mJ=function(h){if(this.add.lnk2==null)return null;
for(var T=0;T<this.add.lnk2.length;T++)if(this.add.lnk2[T].mX==h)return this.add.lnk2[T];return null};
e7.prototype.a3y=function(h){var e=this.mJ(h);if(e==null)return!1;var v=gI.pI(e.raw.buffer);if(v==null)return!1;
if(gI.g6(v)!=null||v=="psd")return!0;return!1};e7.prototype.Rk=function(h,e,v,J,m,d){var x=this.mJ(h);
if(x==null)return null;x.pb(e,v,J,m,d);if(x.pd)return x};e7.prototype.a7u=function(){var h=this.q,e=this._;
if(fM.QX&&this.Pq==null)this.Pq=new fM.Em(h,e,!0);if(this.buffer==null||this.buffer.length!=h*e*4||fM.QX&&(this.Pq.q!=h||this.Pq._!=e)){this.buffer=B.U(h*e*4);
if(this.Pq)this.Pq.delete();if(fM.QX)this.Pq=new fM.Em(h,e,!0)}};e7.prototype.ak7=function(){this.a7u();
if(fM.QX){this.Pq.set(this.buffer)}};e7.prototype.vp=function(h){if(jD!=0)throw"redrawing in vector mode";
var e=this.q,v=this._,J=new fP(0,0,e,v),m=this.m8?J:J.UP(this.LE);this.a7u();if(m.EG())return;if(!m.lS(J)){if(!fM.QX){var d=B.ML(m.$()*4);
B.YZ(d,m,this.buffer,J)}if(fM.QX){fM.qH(this.Pq,m);fM.w$(0)}}else{if(fM.QX){this.Pq.set(null)}else{this.buffer.fill(0)}}var x=Date.now(),j=fM.QX?this.Pq:this.buffer;
if(h==null)h=1e9;var E=this.root.children;for(var T=0;T<E.length;T++){var L=E[T].L;if(L.oA()&&L.add.artb&&this.add.artd){var p=L.AC(),Z=m.UP(p),o=L.BE();
if(o!=0){if(fM.QX){fM.qH(j,Z);fM.w$(o);fM.w$(o)}else B.aDR(j,J,Z,o)}}}this.root.n8(j,J,m,this,[],h);
this.$F=this.LE.O()};e7.prototype.ws=function(h){var e=new s;e.R=new fP(0,0,0,0);e.buffer=B.U(1);e.add.luni=new fq(0,0);
if(h!=!0)e.add.lyid=this.h2();e.add.lsct=d7.E8;e.add.lclr=0;e.add.fxrp=new fq(0,0);return e};e7.prototype.gB=function(h){var e=this.ws(h);
e.Ip("</Layer group>");e.add.lsct=d7.FJ;e.IT=24;return e};e7.prototype.XQ=function(){return this.uM!=this.YG};
e7.prototype.Mk=function(h){while(this.history.length>this.uM+1)this.history.pop();if(this.YG>this.uM)this.YG=-1;
if(h.I.id!=c.sE){this.Fa=!0;if(this.bW.lastAppliedComp){delete this.bW.lastAppliedComp;this.NK=!0}}this.history.push(h);
this.uM++;this.NK=!0;var e=cU.Ju()?60:30,v=0;for(var T=this.history.length-1;T>=0;T--){var J=this.history[T];
if(J.sC)continue;v++;if(v==e){this.uM-=T;this.history=this.history.slice(T);break}}};e7.prototype.Ax=function(){if(this.uM!=this.history.length-1)return null;
return this.history[this.history.length-1]};e7.prototype.lX=function(h,e,v,J){if(h==null)h=!1;var m=e!=null?[e]:this.X.slice(0);
if(J){var d=[];for(var T=0;T<m.length;T++){var x=this.T[m[T]],j=x.sg;if(x.ga&&j!=0&&d.indexOf(j)==-1)d.push(j)}if(d.length!=0)for(var T=0;
T<this.T.length;T++){var x=this.T[T],j=x.sg;if(x.ga&&j!=0&&d.indexOf(j)!=-1&&m.indexOf(T)==-1)m.push(T)}}var E=[];
for(var T=0;T<m.length;T++){var L=this.Wz(m[T],h);for(var p=0;p<L.length;p++)if(E.indexOf(L[p])==-1)E.push(L[p]);
if(v){var iW=this.root.Ix(m[T]);while(iW.parent!=null&&iW.parent.parent!=null){iW=iW.parent;if(E.indexOf(iW.index)==-1){E.push(iW.index,iW.kl)}}}}return E};
e7.prototype.Ae=function(h,e,v){var J=this,m=J.lX(!1,h,null,v);m.sort(function(f,$){return f-$});var d={};
for(var x=0;x<J.T.length;x++){var j=J.T[x].getName();d[j]=!0}var E=[];for(var T=0;T<m.length;T++){var L=J.T[m[T]].O(),O,F;
L.add.lyid=J.h2();L.add.lspf=0;if(L.vO()){var p=L.o7(J),Z=e7.a7R(p);J.eF(Z);L.add.SoLd.placed.v=Z.id}else if(L.add.SoLd){var o=L.add.SoLd.placed.v;
L.add.SoLd.placed.v=e7.Yh(o.slice(0,8))+o.slice(8)}L.vT(J);var u=L.getName(),N=u.length;while(48<=u.charCodeAt(N-1)&&u.charCodeAt(N-1)<=57)N--;
var M=parseInt(u.slice(N));if(isNaN(M)){if(u.endsWith(" copy")){M=1;O=u.slice(0,u.length-5)}else{M=0;
O=u}}else if(u.slice(0,N).endsWith(" copy ")){M=M;O=u.slice(0,N-6)}else{M=0;O=u}M++;while(!0){F=O+" copy"+(M==1?"":" "+M);
if(d[F]==null)break;M++}var W=m.indexOf(this.root.Ix(m[T]).parent.index)!=-1;if(u=="Background"&&J.T.length==1)F="Layer 1";
if(e!=!0&&!W)L.Ip(F);d[F]=!0;E.push(L)}return E};e7.a7R=function(h){return{id:e7.Yh(h.id.slice(0,8))+h.id.slice(8),buffer:h.buffer.slice(0),R:h.R.O(),N:h.N?h.N.O():null}};
e7.a8k=function(h){return{id:h,R:new fP,buffer:B.U(1),N:new s.xK}};e7.O8=function(h,e){if(e==null)e={vmsk:new s.eo};
if(e.vogk==null){e.vogk=[];var v=B.s.bJ(e.vmsk.z);for(var J=0;J<v;J++)e.vogk.push(B.WU.ML())}return{name:h,yl:0,add:e}};
e7.prototype.rx=function(h){var e=[],v=[],J=this;for(var T=1;T<J.H0.length;T++){var m=J.H0[T];m.yl=-1-T;
e.push(m);if(J.cg.indexOf(T)!=-1)v.push(e.length-1)}if(J.H0[0].add.vmsk.z.length>2){var m=J.H0[0];m.yl=-1;
e.push(m);if(J.cg.indexOf(0)!=-1)v.push(e.length-1)}var d=J.Z3==null;if(d)J.Z3=[];for(var T=J.X.length-1;
T>=0;T--){var x=J.X[T],j=J.T[x],E=j.add.TySh;if(j.add.vmsk!=null){var m=e7.O8("\""+j.getName()+"\" Shape Path",j.add);
m.yl=x;e.push(m);if(d&&(j.xc||j.Yb()))J.Z3.push(x);if(J.Z3.indexOf(x)!=-1)v.push(e.length-1)}if(h!=!0&&E&&E.add&&B.aI.bS(E.a5)){var m=e7.O8("\""+j.getName().slice(0,10)+"..\" Text Path",E.add);
m.yl=1e6+J.X[T];e.push(m);v.push(e.length-1)}}if(v.length==0&&h){J.H0[0].yl=-1;J.cg=[0];v.push(e.length);
e.push(J.H0[0])}return[e,v]};e7.prototype.Wz=function(T,h){var e=[],iW=this.root.Ix(T);if(iW)iW.fy(e,h);
return e};e7.prototype.gU=function(){this.root.lT(this,new fP(0,0,this.q,this._))};e7.prototype._g=function(h){for(var T=0;
T<this.T.length;T++){var e=this.T[T];if(h.indexOf(e)==-1){e.em.ahM();e.dn()}}var v=0;for(var T=0;T<h.length;
T++)if(h[T].add.artb)v++;this.pG(v);this.T=h.slice(0);this.Bb()};e7.prototype.Bb=function(){var h=this.T,e=h.length;
this.root=new ap;var v=this.ws(!0);v.fR="pass";v.add.lsct=d7.W$;v.Ip("");var J=this.gB(!0),m=[J];for(var T=0;
T<e;T++)m.push(h[T]);m.push(v);this.root.a2p(m,0,0);if(this.X.length==0)this.X=[e-1]};e7.prototype.n6=function(){if(this.X.length!=1)return;
var h=this.root.Ix(this.X[0]);while(h.parent!=null){var e=h.parent.L;e.add.lsct=d7.W$;h=h.parent}this.GI=this.a6D=!0};
e7.prototype.aii=function(){this.Bb();var h=[this.root],fW=0;while(h.length!=0){var top=h.pop();fW++;
if(top.L.add.lsct==d7.W$)for(var T=0;T<top.children.length;T++)h.push(top.children[T])}if(fW>1e3){var e=this.root.children;
for(var T=0;T<e.length;T++)if(e[T].L.add.lsct==d7.W$)e[T].L.add.lsct=d7.kZ}};e7.nz=function(h,e,v,J,m,d,x,j){if(j==null)j="sRGB IEC61966-2.1";
var E={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:J},artboard:{t:"bool",v:d},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:h*72/v}},Hght:{t:"UntF",v:{type:"#Rlt",val:e*72/v}},Rslt:{t:"UntF",v:{type:"#Rsl",val:v}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:m}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:j}}}};
if(m=="Clr")E.Nw.v.FlCl={t:"Objc",v:x};return{UH:"make",TH:E}};e7.a2C=function(h,e){var v=0,J=0,m=72,d=e.afc,x=h.preset&&h.preset.v=="Clipboard";
if(x){v=d.q;J=d._}else{v=h.Wdth.v.val;J=h.Hght.v.val;m=h.Rslt.v.val;v=Math.round(v*m/72);J=Math.round(J*m/72)}var j=new e7((h.Nm?h.Nm.v:bj.get([11,7]))+".psd");
j.q=v;j._=J;j.gx=m;var E=h.Fl?h.Fl.v.Fl:"Wht";if(h.artboard&&h.artboard.v){var L=j.ws();L.Ip(bj.get([1,16,0])+" 1");
L.add.lsct=d7.W$;L.B9(new fP(0,0,v,J));L.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[E]};
if(E=="Clr")L.add.artb.Clr={t:"Objc",v:B.Vh.WZ(B.Vh.SL(h.FlCl.v))};L.fR="pass";L.IT=24;var p=j.ws();
p.Ip("Layer 1");j._g([j.gB(),p,L]);j.pG(1);j.X=[1]}else if(jD==0){var Z=j.ws(),o=0;Z.Ip("Background");
j._g([Z]);Z.add.lspf=1<<2;if(E=="Clr"){o=B.Vh.SL(h.FlCl.v);o=255<<24|Math.round(o.b)<<16|Math.round(o.i)<<8|Math.round(o.n)}else{var u=e.kF;
u=(u&255)<<16|(u>>>8&255)<<8|u>>>16;o={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|u}[E]}Z.R=new fP(0,0,v,J);
Z.buffer=B.U(v*J*4);B.yV(Z.buffer,o);Z.pE()}if(jD==0)j.buffer=B.U(v*J*4);var N=h.profile;if(N){var M={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[N.v];
if(M)j.Qk(gI.KF.get(M))}return j};e7.prototype.a3Q=function(){var h=this,e=h.add.arts=[],v=!0;h.add.prvw=1;
h.Bb();var J=h.root.children;for(var T=0;T<J.length;T++)if(!J[T].L.XN())v=!1;if(!v||h.T.length==0){h.T.unshift(h.gB());
var m=h.ws();m.Ip("Layer 1");m.add.lsct=d7.W$;m.fR="pass";m.IT=24;h.T.push(m);for(var T=0;T<h.X.length;
T++)h.X[T]++;h.L9=!0}if(h.add.artd){delete h.add.artd;var d=[];for(var T=0;T<h.T.length;T++){var m=h.T[T],x=m.add.artb;
if(x==null)continue;var j=m.AC();delete m.add.artb;e.push({pQ:m.getName(),Fv:[j.x,j.y,j.x+j.q,j.y+j._],X:!1});
var E=x.artboardBackgroundType.v;if(E!=1&&E!=3){var L=h.root.Ix(T).UC;d.push([L,E,j,B.Vh.SL(x.Clr.v)])}}for(var T=0;
T<d.length;T++){var L=d[T][0],E=d[T][1],j=d[T][2],p=d[T][3],m=h.ws();m.Ip("Background");m.add.vmsk=new s.eo;
m.add.vmsk.z=B.s.z0.Rect(j.x,j.y,j.q,j._);m.add.vstk=fL.gL.UX(!0);m.add.vstl=fL.Rr.UX();m.add.vstl.xJ=[null,[1,1,1],[0,0,0],[],[p.n/255,p.i/255,p.b/255],[1,1,1]][E];
m.d6();h.T.splice(h.T.indexOf(L)+1,0,m);h.Bb()}console.log(d)}else e.push({pQ:"Artboard",Fv:[0,0,h.q,h._],X:!1});
if(h.name.endsWith(".psd"))h.name=h.name.slice(0,-4)+".ai";if(h.buffer)h.buffer=null;for(var T=0;T<h.T.length;
T++){var m=h.T[T],j=m.R;if(m.XN()&&m.add.vmsk){var Z=h.ws();h.T.splice(T,0,Z);Z.Ip("<Clipping Path>");
Z.FP=!0;Z.add.vogk=m.add.vogk;delete m.add.vogk;Z.add.vmsk=m.add.vmsk;delete m.add.vmsk;Z.add.vstk=fL.gL.UX();
Z.add.SoCo=JSON.parse(fL.JC[fL.order.indexOf("SoFi")]);Z.add.vstl={};console.log("mask here!")}else if(m.Yb()&&m.add.vstl==null){if(m.add.vmsk==null){m.add.vmsk=new s.eo;
m.add.vmsk.z=B.s.z0.Rect(0,0,h.q,h._);m.add.vstk=fL.gL.UX(!0);m.d6()}var o=m.add.vstl=e7.mv(m.add)}delete m.add.lmfx;
if(m.add.SoLd||m.add.TySh||m.add.vmsk||j.EG())continue;var u=j.q,N=j._,M=B.Mc(m.buffer,u,N)?"JPG":"PNG";
if(u*N<700*700)M="PNG";var O=gI.g6(M).oZ([[m.buffer.buffer]],u,N),F=h.T[T]=h.dz(new Uint8Array(O),m.getName(),j.x,j.y);
F.nP(m.oA())}};e7.mv=function(h,e){var v=h.vstk,E=null,L=null;if(v==null)v=fL.gL.UX(!0);var J=fL.gL.th(v),m=fL.aB(h),d=fL.RM(v);
function x(E){var M=B.Vh.SL(E.Clr.v);return[M.n/255,M.i/255,M.b/255]}var j=h.lmfx;if(j)E=j.solidFillMulti.v[0];
if(E)E=E.v;if(E&&(!E.enab.v||E.Opct.v.val<50))E=null;if(j)L=j.frameFXMulti.v[0];if(L)L=L.v;if(L&&(!L.enab.v||L.Opct.v.val<50))L=null;
var p=h.vmsk,Z=p?p.z:B.s.z0.Rect(0,0,e.q,e._);for(var o=0;o<2;o++){var u=o==0?m:d,N=[];if(u.oH==1)N=aH.xm(u.ag.Clr.v);
if(u.oH==2){N=h[o==0?"_fstl":"_sstl"];if(N==null||jD==0)N=jQ.$E(u.ag,Z,e)}if(o==0&&E)N=x(E);if(o==1&&L){N=x(L);
J.T8=L.Sz.v.val;J.Tt=fL.stroke.types.indexOf(L.Styl.v.FStl);J.Jv=1}if(o==0)J.xJ=N;else J.N0=N}return J};
function fi(h){this.Zw=h;this.e4=0;this.$B=1;this.d=new fq(0,0);this.Md=new fq(0,0);this.dW=0;this.Y=[1,1,1];
this.UF=0;this.L1=new fP(0,0,1,1);this.a6K=new fP(0,0,h.q,h._);this._C=null;this.Nj=null;this.qF=new Uint32Array(0);
this.j4=null;this.MY=null;this._E=B.U(0);this.f4=null;this.p5=null}fi.prototype.MJ=function(h){var e=new aJ,v=this.L1,J=this.Zw,m=h?this.$B:this.e4,d=h?this.Md:this.d,x=Math.round((v.q-J.q*m)/2+d.x),j=Math.round((v._-J._*m)/2+d.y);
e.translate(-x,-j);e.scale(1/m,1/m);var E=J.q/2,L=J._/2;e.translate(-E,-L);e.rotate(this.dW);e.translate(E,L);
return e};fi.prototype.ags=function(h){var e=this.L1,v=this.Zw,J=Math.atan2(-h.b,h.DR),m=v.q/2,d=v._/2;
h.translate(-m,-d);h.rotate(-J);h.translate(m,d);var x=1/h.n$();h.scale(x,x);var j=-h.TO,E=-h.bZ,L=Math.round(j-(e.q-v.q*x)/2),p=Math.round(E-(e._-v._*x)/2);
if(Math.abs(x-Math.round(x))<1e-6)x=Math.round(x);this.dW=J;this.e4=x;this.d=new fq(L,p)};fi.prototype.$$=function(h,e,v){var J=this.MJ(),m=J.w7(new fq(h,e));
if(v){m.x=Math.round(m.x);m.y=Math.round(m.y)}return m};fi.prototype.IK=function(h,e){var v=this.MJ();
v.ia();return v.w7(new fq(h,e))};function fL(){}fL.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
fL.oN="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
fL.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];fL.avq=["DrSh","IrSh","SoFi","GrFl","FrFX"];
fL.hz=["Clr"];fL.RN="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");fL.CI=["Ptrn","Angl","Scl","Algn","phase"];
fL.GB={bm:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aBn:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",avC:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a1y:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Xt:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
fL.GB.bm="\"Clr\": "+fL.GB.bm;fL.GB.Vh="\"Grad\":"+fL.GB.aBn+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
fL.GB.Xt="\"Ptrn\":"+fL.GB.Xt+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
fL.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
fL.JC=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+fL.GB.bm+","+fL.GB.Vh+","+fL.GB.Xt+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fL.GB.bm+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fL.GB.Vh+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fL.GB.Xt+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
fL.Vh={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
fL.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Lq:["SClr","GrFl","Ptrn"],aim:[[13,0],[12,37],[12,62]]};
fL.X5={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],amq:["SrcC","SrcE"],avz:[[19,5,1],[12,69]]};fL.zu={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],abf:["SfBL","PrBL","Slmt"],aj6:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
fL.gL={_h:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],md:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Wj:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+fL.GB.bm+"}")},strokeStyleResolution:{t:"doub",v:72}},UX:function(h,e){var v=JSON.parse(fL.gL.azz);
if(h)v.fillEnabled.v=!0;if(e)v.strokeEnabled.v=!0;return v},th:function(h,e,v){if(e==null)e={};if(v==null)v=1;
var J=h.strokeStyleLineDashSet.v,m=e.T8=h.strokeStyleLineWidth.v.val*v;e.Mm=h.strokeStyleMiterLimit.v;
e.MG=h.strokeStyleLineDashOffset.v.val;e.Jv=fL.gL.join.indexOf(h.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
e.qP=fL.gL._h.indexOf(h.strokeStyleLineCapType.v.strokeStyleLineCapType);e.Tt=fL.gL.md.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
e.fe=[];for(var T=0;T<J.length;T++)e.fe.push(J[T].v.val*m);if(e.fe.length==1&&e.fe[0]==0)e.fe=[];return e},write:function(h,e,v){if(v==null)v=1;
var J=e.T8,m=e.Mm,d=e.fe,x=e.MG,j=e.Jv,E=e.qP,L=e.Tt;if(J!=null)J=h.strokeStyleLineWidth.v.val=Math.max(.4,J*v);
else J=h.strokeStyleLineWidth.v.val;if(L!=null)h.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fL.gL.md[L];
if(m!=null)h.strokeStyleMiterLimit.v=m;if(d!=null)h.strokeStyleLineDashSet.v=d4.YA(d,v/J);if(x!=null)h.strokeStyleLineDashOffset.v.val=x;
if(j!=null)h.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fL.gL.join[j];if(E!=null)h.strokeStyleLineCapType.v.strokeStyleLineCapType=fL.gL._h[E]}};
fL.gL.azz=JSON.stringify(fL.gL.default);fL.Rr={UX:function(){return{xJ:[1,1,1],N0:[0,0,0],T8:1,Mm:0,fe:[],MG:0,Jv:0,qP:0,Tt:1}},aEc:function(h){var e=fr.SL(h.StrokeColor),v=fL.Rr.UX();
v.Tt=h.FillFirst?1:2;var J=h._LineCap,m=h._LineJoin,d=h._MiterLimit,x=h._LineDashOffset,j=h._LineDashArray,E=h.OutlineWidth;
if(J)v.qP=J;if(m)v.Jv=m;if(d)v.Mm=d;if(j)v.fe=j;if(E!=null)v.T8=E;v.N0=[e.n/255,e.i/255,e.b/255];return v},aj2:function(h,e){e.FillFirst=h.Tt==1;
e._LineCap=h.qP;e._LineJoin=h.Jv;e._MiterLimit=h.Mm;e._LineDashArray=h.fe}};fL.RM=function(h){var e=h.strokeEnabled.v,v=h.strokeStyleContent.v;
return e?{oH:1+fL.gL.Wj.indexOf(v.classID),ag:v}:{oH:0}};fL.ba=function(h,e){var v=e.oH;h.strokeEnabled.v=v!=0;
if(v!=0){h.strokeStyleContent.v=e.ag;e.ag.classID=fL.gL.Wj[v-1]}};fL.aB=function(h){var e=h.vstk,v=null;
if(e&&!e.fillEnabled.v)v={oH:0};else if(h.SoCo)v={oH:1,ag:h.SoCo};else if(h.GdFl)v={oH:2,ag:h.GdFl};
else if(h.PtFl)v={oH:3,ag:h.PtFl};return v};fL.mD=function(h,e){var v=h.vmsk,J=h.vstk,m=e.oH;if(J)J.fillEnabled.v=m!=0;
if(m>0){var d=["SoCo","GdFl","PtFl"][m-1];for(var T=0;T<3;T++)delete h[["SoCo","GdFl","PtFl"][T]];h[d]=e.ag}};
fL.fZ=[{classID:"null",Clr:JSON.parse(fL.JC[5]).Clr},{classID:"null",Grad:JSON.parse(fL.JC[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(fL.JC[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var d4={};d4.a1T=function(h,e){function v(h,o){if(h==null||!h.masterFXSwitch.v)return null;var u=h[o].v,N;
if(u.length!=0){N=u[0].v;if(!N.enab.v)N=null}return N}var J=e.SoCo,m=e.GdFl,d=v(h,"solidFillMulti"),x=v(h,"gradientFillMulti");
if(d==null&&x==null)return[J,m];var j=d4.amc;if(J&&d&&x==null){var E=B.t(J);E.Clr.v=j(d.Clr.v,J.Clr.v,d);
return[E,null]}if(m&&d&&x==null){var L=B.t(m),p=L.Grad.v.Clrs.v;for(var T=0;T<p.length;T++){var Z=p[T].v.Clr;
Z.v=j(d.Clr.v,Z.v,d)}return[null,L]}if(J&&x){var L=B.t(x),p=L.Grad.v.Clrs.v;for(var T=0;T<p.length;T++){var Z=p[T].v.Clr;
Z.v=j(Z.v,J.Clr.v,x)}return[null,L]}return[d,x]};d4.v3={Mz:B.U(4),i7:B.U(4),n:new fP(0,0,1,1)};d4.amc=function(h,e,v){var J=cc.lY(v.Md.v.BlnM),m=v.Opct.v.val/100,d=d4.v3;
h=B.Vh.SL(h);e=B.Vh.SL(e);d.Mz[0]=h.n;d.Mz[1]=h.i;d.Mz[2]=h.b;d.Mz[3]=255;d.i7[0]=e.n;d.i7[1]=e.i;d.i7[2]=e.b;
d.i7[3]=255;B.B.lU(J,d.Mz,d.n,d.i7,d.n,d.n,m);return{classID:"RGBC",Rd:{t:"doub",v:d.i7[0]},Grn:{t:"doub",v:d.i7[1]},Bl:{t:"doub",v:d.i7[2]}}};
d4.aFn=function(h,e,v){var J=h;h=h.slice(0);var m=cc.El[cc.s7.indexOf(e.Md.v.BlnM)],d=B.Vh.SL(e.Clr.v),x=4278190080|Math.round(d.b)<<16|Math.round(d.i)<<8|Math.round(d.n),j=B.U(v.$()*4);
B.yV(j,x);B.B.lU(m,j,v,h,v,v,e.Opct.v.val/100);for(var T=0;T<h.length;T+=4)h[T+3]=J[T+3];return h};d4.D$=function(h,e){var v=["Sz","blur","Sftn","Dstn"];
for(var T=0;T<fL.order.length;T++){var J=fL.order[T],m=h[fL.oN[T]].v;for(var d=0;d<m.length;d++){var x=m[d].v;
for(var j=0;j<v.length;j++){var E=x[v[j]];if(E){var L=E.v.val,p=L;p=Math.max(L==0?0:1,p*e);if(J=="ChFX")p=Math.min(p,250);
if(J=="ebbl"){if(v[j]=="blur")p=Math.min(p,250);if(v[j]=="Sftn")p=Math.min(p,16)}E.v.val=Math.round(p)}}if(J=="ebbl"||J=="patternFill"||J=="FrFX")if(x.Ptrn&&x.Scl)x.Scl.v.val=Math.max(1,Math.min(1e3,x.Scl.v.val*e))}}};
d4.akR=function(h,e,v){var J=new fP(-.5,-.5,1,1);for(var T=0;T<fL.order.length;T++){var m=fL.order[T],d=h[fL.oN[T]].v;
for(var x=0;x<d.length;x++){var j=d[x].v,Z;if(!j.enab.v)continue;var E=j.blur?j.blur.v.val+1:0,L=j.Ckmt?j.Ckmt.v.val/100:0,p=Math.round(E*L);
if(m=="DrSh"||m=="IrSh"&&v){Z=new fP(-.5,-.5,1,1);Z.vY(E,E);d4.uA(Z,j,e,0)}if(m=="St3D"){Z=new fP(-.5,-.5,1,1);
d4.uA(Z,j,e,Math.PI,"Angl")}if(m=="OrGl"||m=="IrGl"&&v){Z=new fP(-.5,-.5,1,1);Z.vY(E,E)}if(m=="FrFX"){var o=d4.$s(j),u=o[1];
if(v)u=Math.max(o[0],u);Z=new fP(-.5,-.5,1,1);Z.vY(Math.ceil(u),Math.ceil(u))}if(m=="ebbl"){var E=j.blur.v.val,N=j.bvlS.v.BESl;
if(N=="Embs"||N=="PlEb")E/=2;var M=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],F=["In","Out"],W=j.bvlT.v.bvlT!="SfBL"?E:E*.43,f=Math.round(E);
Z=new fP(-f-1,-f-1,2*f+2,2*f+2)}if(v&&m=="ChFX"){Z=new fP(-.5,-.5,1,1);Z.vY(E,E);var $=Z.O();d4.uA(Z,j,e,0);
d4.uA($,j,e,Math.PI);Z=Z.R$($)}if(Z)J=J.R$(Z)}}if(J.x!=Math.ceil(J.x)){J.x=Math.ceil(J.x);J.q-=1}if(J.y!=Math.ceil(J.y)){J.y=Math.ceil(J.y);
J._-=1}J.q=Math.floor(J.q);J._=Math.floor(J._);return J};d4.$s=function(h){var e,v,J=0,m=0;if(h.Sz){e=h.Sz.v.val;
v=fL.stroke.types.indexOf(h.Styl.v.FStl)}else{e=h.Wdth.v;v=["Insd","Cntr","Otsd"].indexOf(h.Lctn.v.StrL)}if(v==0)J=e;
if(v==1)J=m=e/2;if(v==2)m=e;return[J,m]};d4.auM=function(h){if(fM.QX&&h.BI==null){h.BI=new fM.Em(h.js.q,h.js._);
h.BI.set(h.su);delete h.su;if(h.WN){h.AP=new fM.y3(h.js.q,h.js._);h.AP.set(h.WN);delete h.WN}if(h.Su){h.Xy=new fM.y3(h.js.q,h.js._);
h.Xy.set(h.Su);delete h.Su}}};d4.a5v=function(h){if(h.BI)h.BI.delete();if(h.AP)h.AP.delete();if(h.Xy)h.Xy.delete()};
d4.acM=function(h){if(h.all==null)return;for(var T=0;T<h.all.length;T++){d4.a5v(h.all[T])}};d4.aHp=function(h,e,v,J,m,d){var x=d4.lr(v,J,h,e,m,d);
for(var T=0;T<x.all.length;T++)d4.auM(x.all[T]);return x};d4.awn=function(h){for(var T=0;T<fL.order.length;
T++){var e=fL.order[T],v=fL.oN[T],J=h[v].v;for(var m=0;m<J.length;m++){var d=J[m].v;if(d.enab.v&&["patternFill","GrFl","SoFi"].indexOf(e)==-1)return!0}}return!1};
d4.lr=function(h,e,v,J,m,d){if(d==null)d=J;var x=0,j=0;for(var T=0;T<fL.order.length;T++){var E=fL.order[T],L=fL.oN[T],p=h[L].v;
for(var Z=0;Z<p.length;Z++){var o=p[Z].v;if(E=="DrSh"&&o.enab.v&&o.Ckmt.v.val>0&&o.blur.v.val>0)x=Math.max(x,Math.ceil(o.Ckmt.v.val*o.blur.v.val/100));
if(E=="OrGl"&&o.enab.v&&o.Ckmt.v.val>0&&o.blur.v.val>0&&o.GlwT.v.BETE=="SfBL")x=Math.max(x,Math.ceil(o.Ckmt.v.val*o.blur.v.val/100));
if(E=="OrGl"&&o.enab.v&&o.blur.v.val>0&&o.GlwT.v.BETE=="PrBL")x=Math.max(x,o.blur.v.val);if(E=="FrFX"&&o.enab.v&&o.Sz.v.val>0){if(o.Styl.v.FStl=="OutF")x=Math.max(x,o.Sz.v.val);
if(o.Styl.v.FStl=="CtrF")x=Math.max(x,Math.ceil(o.Sz.v.val/2));j=Math.max(j,d4.$s(o)[1])}}}var u=new d4.E_(v,J,x,d4.awn(h)),N=-J.x,M=-J.y,O={c:{},all:[]};
for(var F=0;F<fL.order.length;F++){var E=fL.order[F],L=fL.oN[F];O.c[E]=[];for(var W=h[L].v.length-1;
W>=0;W--){var f=h[L].v[W].v,G;if(!f.enab.v)continue;var $=f.blur?f.blur.v.val:0,H=f.Ckmt?f.Ckmt.v.val/100:0,A=$*H;
if(E=="St3D"){var l=Math.max(1e-4,1-f.Srnk.v.val/100),g=2,kG=0;function K(U,eh,f){var e8=f.Angl.v.val;
e8*=Math.PI/180;var _=f.Dstn.v.val,bM=Math.cos(e8)*_,ho=-Math.sin(e8)*_,k4=l+eh*(1-l),jN=new aJ;jN.translate(-U.q/2,-U._/2);
jN.scale(k4,k4);jN.translate(U.q/2,U._/2);jN.translate((1-eh)*bM,(1-eh)*ho);return jN}var U=J.O(),z=v;
U.x=U.y=0;var q=Date.now(),P=U.O();P.vY(g,g);var a=B.U(P.$());B.Ww(z,U,a,P);P.x=P.y=0;B.kK.he(a,a,P,2);
var w=B.U(P.$()*4);w.fill(255);B.WS(a,w);var y=B.U(U.$()),S=U.q,i=U._,C=P.q,Y=d4.a2t(f,m),_=Math.cos(Y[1]),t=-Math.cos(Y[0])*_,I=Math.sin(Y[0])*_;
if(Math.abs(t)<.001&&Math.abs(I)<.001)t=I=0;for(var r=0;r<i;r++)for(var n=0;n<S;n++){var T=(r+g)*C+n+g,Q=a[T+1]-a[T-1],D=a[T+C]-a[T-C],dG=Q*Q+D*D;
if(dG>10){var R=1/Math.sqrt(dG);y[r*S+n]=Math.max(0,Math.min(255,128+127*(t*R*Q+I*R*D)))}}var X=[z,U],dx=K(U,0,f),jv=B.w.Tp(U).g,gB=jv.slice(0);
B.w.C(jv,dx,gB);var hQ=U.R$(B.w.Ob(gB)),ah=B.U(hQ.$()*4);for(var T=0;T<8;T+=2){var Q=jv[T]-gB[T],D=jv[T+1]-gB[T+1];
kG=Math.max(kG,Math.sqrt(Q*Q+D*D))}var iZ=Math.round(kG/2),bs=B.Vh.SL(f.Clr.v);bs.n/=255;bs.i/=255;bs.b/=255;
var ey=f.Drkn.v.val/100;for(var jp=0;jp<iZ;jp++){var eh=jp/iZ,dt=1-ey+eh*ey,jN=K(U,eh,f),jX=U.O(),jw=z;
if(l!=1){var i7=c.L2.pV(X,jN);jX=i7.R;jw=i7.G}else{var kn=jN.w7(new fq(0,0));jX.x+=Math.round(kn.x);
jX.y+=Math.round(kn.y)}var eK=B.U(jX.$()*4);if(t!=0||I!=0){var ee=jX.q,az=jX._,k7=bs.n,al=bs.i,kl=bs.b,b9=jN.O();
b9.ia();var h9=b9.w7(new fq(.5,.5)),ge=b9.w7(new fq(1.5,1.5)),Q=ge.x-h9.x,D=ge.y-h9.y;for(var r=0;r<az;
r++){for(var n=0;n<ee;n++){var T=r*ee+n,iN=T*4,a8=Math.max(0,Math.min(S-1,~~(.5+Q*n))),dK=Math.max(0,Math.min(i-1,~~(.5+D*r))),f6=y[dK*S+a8],fS=-1+2*f6*(1/255),cf=-fS,iG=0;
if(fS>0){cf=0;iG=fS}eK[iN]=255*(1-cf)*(iG+(1-iG)*k7)*dt;eK[iN+1]=255*(1-cf)*(iG+(1-iG)*al)*dt;eK[iN+2]=255*(1-cf)*(iG+(1-iG)*kl)*dt}}}else d4.$b(eK,f.Clr.v,null,dt);
B.ar(jw,eK,3);B.B.lU("norm",eK,jX,ah,hQ,jX,1)}G={su:ah,js:hQ}}else if(E=="DrSh"){var eC=u.MR(A,$-A,!0),kH=eC.xA,i0=eC.e3.O();
d4.sl(kH,f,!1);if(f.Cntn&&f.Cntn.v){var e5=new fP;d4.uA(e5,f,m,0);var gA=i0.O();gA.offset(-e5.x,-e5.y);
gA=gA.R$(i0);var bW=B.U(gA.$());B.Ww(kH,i0,bW,gA);var e3=Math.sqrt(e5.x*e5.x+e5.y*e5.y),iL=kH.slice(0);
for(var T=0;T<e3-1;T++){var Q=Math.round(-e5.x*T/e3),D=Math.round(-e5.y*T/e3),h4=eC.e3.O();h4.offset(Q,D);
B.arM(iL,h4,bW,gA)}kH=bW;i0=gA}i0.offset(N,M);d4.uA(i0,f,m,0);var ah=B.U(i0.$()*4);d4.$b(ah,f.Clr.v);
B.ar(kH,ah,3);G={su:ah,js:i0,ax0:f.layerConceals.v}}else if(E=="IrSh"){var eC=u.MR(A,$-A,!1);d4.uA(eC.e3,f,m,0);
var i0=u.R().O(),kH=B.U(i0.$());kH.fill(255);B.Ww(eC.xA,eC.e3,kH,i0);d4.sl(kH,f,!0,!0);var ah=B.U(i0.$()*4);
d4.$b(ah,f.Clr.v);B.ar(kH,ah,3);i0.offset(N,M);G={su:ah,js:i0}}else if(E=="GrFl"){var ah=B.U(u.R().$()*4);
d4.uo(f,ah,u.R(),m,null,d);var i0=u.R().O();i0.offset(N,M);G={su:ah,js:i0}}else if(E=="SoFi"){var ah=B.U(u.xA().length*4);
d4.$b(ah,f.Clr.v);var i0=u.R().O();i0.offset(N,M);G={su:ah,js:i0}}else if(E=="ebbl"){var iT=!1;if(iT)console.log(f);
var q=Date.now(),hC=q,dS=f.bvlS.v.BESl,il=f.bvlT.v.bvlT;if(dS=="strokeEmboss"){var i6=h.frameFXMulti.v;
if(i6.length==0)continue;i6=i6[0].v;if(!i6.enab.v)continue;var co=i6.Styl.v.FStl;if(co=="OutF")dS="OtrB";
if(co=="CtrF")dS="Embs";if(co=="InsF")dS="InrB"}var $=f.blur.v.val;if($==0)$=.7;if(dS=="Embs"||dS=="PlEb")$/=2;
var bH=["OtrB","InrB","Embs","PlEb","strokeEmboss"],b5=["SfBL","PrBL","Slmt"],ej=["In","Out"],id=il!="SfBL"?$:$*.45,dH=Math.round($),hA=u.R().O(),fn=hA.O();
fn.vY(dH,dH);var S=fn.q,i=fn._,d3=S*i,iF=B.U(d3);B.Ww(u.xA(),hA,iF,fn);var hF=B.style.Be(iF,S,i);B.ia(iF);
var bz=B.style.Be(iF,S,i);if(iT)console.log("distTransform computed",Date.now()-q);q=Date.now();d4.aGV(id,hF,bz);
if(iT)console.log("summing + cropping",Date.now()-q);q=Date.now();if(il=="SfBL"){var hN=Math.pow($*.21,1.22);
if(!0)hN=Math.max(hN,2);B.kK.p2(bz,fn,hN,2)}if(iT)console.log("blurring",Date.now()-q);q=Date.now();
var cA=bz,km=hF;km.set(cA);if(f.useShape.v){var gm=Math.min(100,f.Inpr.v.val+1)/100;if(dS!="OtrB"&&dS!="InrB")gm=1;
var gS=B.CL.zA(f.MpgS.v.Crv.v,2e3),jl=Math.round(2e3/gm);gS=B.CL.ads(gS,jl,dS=="InrB");var jn=.5/id;
for(var T=0;T<d3;T++){var ad=cA[T],el=.99999*(ad+id)*jn;cA[T]=-id+2*id*gS[~~(el*(jl-1))]}if(iT)console.log("applying shape",Date.now()-q);
q=Date.now()}if(f.useTexture.v){var eK=B.U(S*i*4);d4.$U(f,eK,fn,m.add.Patt,e);var db=B.U(S*i);B.hS(eK,db);
B.kK.akp(db,db,fn,1);var dC=$*f.textureDepth.v.val*(1/100)*(1/255);if(f.InvT.v)dC=-dC;for(var T=0;T<d3;
T++)cA[T]+=-dC*db[T];if(iT)console.log("applying texture",Date.now()-q);q=Date.now()}var jJ=dS=="PlEb",cJ=new Float32Array(d3),cu=cJ;
if(jJ){cu=new Float32Array(d3)}var jg=d4.agk(S,i,f,m,cA,cJ,cu,jJ);if(iT)console.log("raycasting",Date.now()-q);
q=Date.now();if(f.Sftn.v.val!=0){B.kK.p2(cJ,fn,f.Sftn.v.val*.43,2);if(jJ)B.kK.p2(cu,fn,f.Sftn.v.val*.43,2)}if(iT)console.log("softening",Date.now()-q);
q=Date.now();var jP=new Uint8Array(cJ.buffer),gc=new Uint32Array(jP.buffer),er=new Uint8Array(cA.buffer),jR=new Uint32Array(er.buffer),bg=jP,gO=er,f5=gc,kY=jR;
if(jJ){bg=new Uint8Array(cu.buffer);f5=new Uint32Array(bg.buffer);gO=new Uint8Array(km.buffer);kY=new Uint32Array(gO.buffer)}d4.a15(f,S,i,jg,id,jJ,km,gc,jR,f5,kY,cJ,cu);
if(iT)console.log("baking textures",Date.now()-q);q=Date.now();fn=u.R().O();fn.vY(dH,dH);fn.offset(N,M);
G={adR:f.bvlS.v.BESl=="strokeEmboss"};var g2=cc.lY(f.hglM.v.BlnM),hs=f.hglO.v.val/100,gH=cc.lY(f.sdwM.v.BlnM),hW=f.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(dS)!=-1){G.Gz={su:jP,js:fn,Cs:g2,Al:hs};G.YW={su:er,js:fn,Cs:gH,Al:hW}}if(["OtrB","Embs","PlEb"].indexOf(dS)!=-1){G.p9={su:bg,js:fn,Cs:g2,Al:hs};
G.Dv={su:gO,js:fn,Cs:gH,Al:hW}}if(iT)console.log(Date.now()-hC)}else if(E=="patternFill"){var fY=u.R(),ah=B.U(fY.$()*4);
d4.$U(f,ah,fY,m.add.Patt,e);var i0=fY.O();i0.offset(N,M);G={su:ah,js:i0}}else if(E=="ChFX"){var ah=B.U(u.xA().length*4);
d4.$b(ah,f.Clr.v);var $=f.blur.v.val,gn=u.R().O();gn.vY($,$);var cL=B.U(gn.$()),eo=B.U(gn.$());B.Ww(u.xA(),u.R(),eo,gn);
B.kK.he(eo,cL,gn,$*.43);var fh=B.CL.Oh(f.MpgS.v.Crv.v,256,!0);B.aA_(cL,fh);var fU=B.U(u.xA().length),f_=B.U(u.xA().length),hD=u.R().O();
d4.uA(hD,f,m,0);B.Ww(cL,gn,fU,hD);hD=u.R().O();d4.uA(hD,f,m,Math.PI);B.Ww(cL,gn,f_,hD);var hh=fU.length;
for(var T=0;T<hh;T++)ah[4*T+3]=Math.abs(fU[T]-f_[T]);if(f.Invr.v)for(var T=0;T<hh;T++)ah[4*T+3]=255-ah[4*T+3];
var i0=u.R().O();i0.offset(N,M);G={su:ah,js:i0}}else if(E=="OrGl"){var eC;if(f.GlwT.v.BETE=="SfBL")eC=u.MR(A,$-A,!0);
else eC=u.abw($,H,!0);var kH=eC.xA,i0=eC.e3,a3=kH.slice(0);d4.aEt(kH,f);var ah=B.U(i0.$()*4);if(f.Grad==null){d4.$b(ah,f.Clr.v);
d4.sl(kH,f,!1)}else{d4.sl(kH,f,null);var br={GN:kH,f1:255,k_:0,x4:i0};d4.uo(f,ah,i0,m,br);var ij=f.Nose.v.val/100,am=i0.q;
for(var T=0;T<a3.length;T++){var hb=255,bN=a3[T];if(bN<32){var ch=(bN+a3[T-1]+a3[T+1]+a3[T-am]+a3[T+am])*.2-1;
hb=Math.min(255,Math.round(Math.max(0,ch)*8))}kH[T]=hb}d4.aen(kH,f)}B.ar(kH,ah,3);i0.offset(N,M);G={su:ah,js:i0}}else if(E=="IrGl"){var eC;
if(f.GlwT.v.BETE=="SfBL")eC=u.MR(A,$-A,!1);else eC=u.abw($,H,!1);var kH=eC.xA,i0=eC.e3;d4.aEt(kH,f);
if(f.glwS.v.IGSr=="SrcC")B.ia(kH);var ah=B.U(i0.$()*4);if(f.Grad==null){d4.$b(ah,f.Clr.v);d4.sl(kH,f,!0)}else{d4.sl(kH,f,null);
var br={GN:kH,f1:255,k_:0,x4:i0};d4.uo(f,ah,i0,m,br);kH.fill(255);d4.aen(kH,f)}B.ar(kH,ah,3);i0.offset(N,M);
G={su:ah,js:i0}}else if(E=="FrFX"){var fE=d4.$s(f),e6=fE[0],cO=fE[1],i0=u.R().O(),gp=null,fI=null;i0.vY(Math.ceil(j),Math.ceil(j));
if(cO>0){var eC=u.MR(cO,0,!0);fI=eC.xA;if(fI.length<i0.$()){fI=B.U(i0.$());B.Ww(eC.xA,eC.e3,fI,i0)}}if(e6>0){var eC=u.MR(e6,0,!1);
gp=B.U(i0.$());gp.fill(255);B.Ww(eC.xA,eC.e3,gp,i0)}i0.offset(N,M);var ah=B.U(i0.$()*4),jA=f.PntT.v.FrFl;
if(jA=="SClr")d4.$b(ah,f.Clr.v);if(jA=="GrFl")d4.uo(f,ah,i0,m,u.aak(e6,cO));if(jA=="Ptrn")d4.$U(f,ah,i0,m.add.Patt,e);
var iQ=f.overprint,f0=iQ?iQ.v:!1;if(f0){var hm=gp?gp:fI;if(gp&&fI)B.HE.UP(gp,fI,hm);B.ar(hm,ah,3)}G={su:ah,js:i0,Su:fI,WN:gp,aEU:f0}}O.c[E].push(G);
if(E=="ebbl"){if(G.Gz)O.all.push(G.Gz,G.YW);if(G.p9)O.all.push(G.p9,G.Dv)}else{G.Cs=cc.lY(f.Md.v.BlnM);
G.Al=f.Opct.v.val/100,O.all.push(G)}}}return O};d4.pO=function(h){var e=1/Math.sqrt(h.x*h.x+h.y*h.y+h.It*h.It);
h.x*=e;h.y*=e;h.It*=e};d4.anr=function(h,e){return{x:h.y*e.It-h.It*e.y,y:h.It*e.x-h.x*e.It,It:h.x*e.y-h.y*e.x}};
d4.aEw=function(h,e){return h.x*e.x+h.y*e.y+h.It*e.It};d4.aen=function(h,e){var v=e.Nose.v.val/100;if(v>0)for(var T=0;
T<h.length;T++){var J=h[T];J=Math.min(510-(1+v)*B.style.qx(T),J);h[T]=J}};d4.aGV=function(h,e,v){var J=e.length;
for(var T=0;T<J;T++){var m=v[T]-e[T];v[T]=m}for(var T=0;T<J;T++){var m=v[T];if(m<-h)v[T]=-h;else if(m>h)v[T]=h}};
d4.agk=function(h,e,v,J,m,d,x,j){var E=d4.a2t(v,J),L=E[0],p=E[1],Z=Math.cos(L)*Math.cos(p),o=-Math.sin(L)*Math.cos(p),u=Math.sin(p);
d.fill(u);if(j)x.fill(u);var N=(v.bvlT.v.bvlT=="SfBL"?1:.5)*(v.bvlD.v.BESs=="In"?1:-1)*v.srgR.v.val/100,M=-.125*N;
for(var O=0;O<e;O++){var F=O==0?0:-h,W=O==e-1?0:h,T=O*h;for(var f=0;f<h;f++,T++){var $=f==0?T:T-1,H=f==h-1?T:T+1,A=m[H]-m[$],G=m[T+W]-m[T+F];
if(A*A+G*G<.005)continue;var l=m[$+F],K=m[H+F],U=m[$+W],z=m[H+W],q=M*(K+2*A+z-l-U),P=M*(U+2*G+z-l-K),g=1/Math.sqrt(q*q+P*P+1);
q*=g;P*=g;d[T]=Math.max(0,q*Z+P*o+g*u);if(j)x[T]=Math.max(0,-q*Z-P*o+g*u)}}return u};d4.a15=function(h,e,v,J,m,d,x,j,E,L,p,Z,o){var u=1/J,N=1/(1-J),M=1/m,O=B.CL.zA(h.TrnS.v.Crv.v,1024),F=d4.sS(h.hglC.v,0),W=d4.sS(h.sdwC.v,0),f=new Float32Array(2500);
for(var T=0;T<2500;T++){var $=Math.max(0,Math.min(1,(T-500)*.001));f[T]=Math.pow($,.2)}var H=new Float32Array(1024),A=new Float32Array(1024);
for(var T=0;T<1024;T++){var G=O[T];H[T]=255*(1-Math.min(1,G*u));A[T]=255*(1-Math.min(1,(1-G)*N))}for(var l=0;
l<v;l++)for(var $=0;$<e;$++){var T=l*e+$,K=(x[T]+m*.993)*M,U=f[~~(500+K*1e3)],z=~~(Z[T]*1023),q=U*H[z],P=U*A[z];
E[T]=~~(.5+q)<<24|W;j[T]=~~(.5+P)<<24|F;if(d){z=~~(o[T]*1023);q=U*H[z];P=U*A[z];p[T]=~~(.5+q)<<24|W;
L[T]=~~(.5+P)<<24|F}}};d4.x9=function(h){var e=d4.xO(),v=h.DL,J=!1;for(var T=0;T<32;T+=8)if(v[T]+v[T+1]+v[T+4]+v[T+5]!=0||v[T+2]+v[T+3]+v[T+6]+v[T+7]!=1020)J=!0;
if(J){v=v.slice(0);for(var T=0;T<40;T+=4){var m=v[T]/255,d=v[T+1]/255,x=v[T+2]/255,j=v[T+3]/255;v[T]=m-.001;
v[T+1]=m==d?1e6:1/(d-m);v[T+2]=x==j?-1e6:1/(x-j);v[T+3]=j+.001}}var E=h.add.iOpa!=null?h.add.iOpa/255:e.fill,L=h.add.vstk;
if(L&&!L.fillEnabled.v&&(!L.strokeEnabled.v||L.strokeStyleLineWidth.v.val==0))E=0;return{fill:E,yH:J?v:null,rt:h.add.brst!=null?h.add.brst:e.rt,a8s:h.add.knko!=null?h.add.knko:e.a8s,style:!1,K3:!1}};
d4.xO=function(){return{fill:1,yH:null,rt:[1,1,1],a8s:0,style:!1,K3:!1}};d4.aFb=function(h,e,v,J,m,d,x,j){if(j==null)j=1;
if(x==null)x=new aJ;var E=h.$O[1].q,L=h.$O[1]._,p=new aJ,Z=m<2;if(Z)p.translate(-E/2,-L/2);if(m==0){j*=Math.max(v/E,J/L)}else if(m==1){j*=Math.min(v/E,J/L)}else if(m==2){p.scale(1/E,1/L);
p.concat(x);p.scale(v,J)}else if(m==3){j=j}p.scale(j,j);if(Z)p.translate(v/2,J/2);p.concat(d);e.Ptrn.v.Idnt.v=h.id;
e.Scl.v.val=Math.round(100*p.n$());e.Angl.v.val=Math.round(180*Math.atan2(-p.b,p.DR)/Math.PI);e.Algn.v=!0;
var o=e.phase.v;o.Hrzn.v=Math.round(p.TO);o.Vrtc.v=Math.round(p.bZ)};d4.bI=function(h,e){if(e==null)return null;
var v=h.Idnt.v,J=h.Nm.v;for(var T=0;T<e.length;T++)if(e[T].id==v)return e[T];for(var T=0;T<e.length;
T++)if(e[T].name==J)return e[T];return null};d4.aEq=function(h,e,v){var J=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var T=0;T<J.length;T++){var m=h.v[J[T]].v;for(var d=0;d<m.length;d++)if(m[d].v.Ptrn)e.zR(d4.bI(m[d].v.Ptrn.v,v))}};
d4.a4O=function(h,e,v){var J=["patternFillMulti","ebblMulti","frameFXMulti"];for(var T=0;T<J.length;
T++){var m=h.v[J[T]].v;for(var d=0;d<m.length;d++)if(m[d].v.Ptrn){var x=m[d].v.Ptrn.v,j=d4.bI(x,v),E=d4.bI(x,e.add.Patt);
if(j==null&&E)v.push(E)}}};d4.$U=function(h,e,v,J,m){var d=d4.bI(h.Ptrn.v,J);if(d!=null&&!v.EG()){var x=d.$O,j=x[0],E=x[1],L=0;
B.Nb(x);var p=(h.Scl?h.Scl.v.val:100)/100;while((p<.3||p==.5)&&x[L+2]){p*=E.q/x[L+3].q;L+=2;j=x[L];E=x[L+1]}var Z=B.scale.$U(j,E.q,E._),o=h.phase?h.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},u=h.Angl?h.Angl.v.val:0,N=-v.x+o.Hrzn.v-1,M=-v.y+o.Vrtc.v-1;
if(h.Algn!=null&&!h.Algn.v){}else{N+=m.x;M+=m.y}if(e)B.scale.af0(Z,e,v.q,v._,p,p,N+1,M+1,u*Math.PI/180);
else return[Z,p,N+1,M+1,u*Math.PI/180]}};d4.uo=function(h,e,v,J,m,d,x,j){if(d==null)d=v;var E=h.Type?h.Type.v.GrdT:"shapeburst",L=h.Algn&&h.Algn.v?d:new fP(0,0,J.q,J._),p=h.Angl?B.Vh.aCr(h,L):[new fq(0,0),new fq(100,0)],Z=p[0].x,o=p[0].y,u=p[1].x-Z,N=p[1].y-o,M=Math.sqrt(u*u+N*N);
M=1/(2*M*M);var O=[u*M,N*M,-N*M,u*M],F=h.Rvrs?h.Rvrs.v:!1,W=h.Dthr?h.Dthr.v:!1;B.Vh.YE(h.Grad.v,e,v,O,Z,o,F,fL.Vh.types.indexOf(E),x==null?0:x,j==null?0:j,m,W)};
d4.a92=function(h,e,v){for(var T=0;T<h.all.length;T++){var J=h.all[T];J.cu=J.js.O();J.cu.offset(e,v)}};
d4.aBD=function(h,e,v,J,m,d){var x=fM.QX?d4.aoD:d4.awO;d4.a92(e,v.x,v.y);var j=e.c.DrSh;for(var T=0;
T<j.length;T++)if(!j[T].ax0)x(j[T],J,m,d)};d4.am0=function(h,e,v,J,m,d,x,j,E,L){var p=v,Z=fM.QX?d4.aoD:d4.awO,o=fM.QX?fM.B.e2:B.B.JD,u;
u=e.c.DrSh;for(var T=0;T<u.length;T++)if(u[T].ax0)Z(u[T],J,m,d);u=e.c.St3D;for(var T=0;T<u.length;T++)Z(u[T],J,m,d);
u=e.c.OrGl;for(var T=0;T<u.length;T++)Z(u[T],J,m,d);var N="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var M=0;M<N.length;M++){var u=e.c[N[M]];for(var T=0;T<u.length;T++)Z(u[T],x,p,d)}var O=e.c.ebbl[0],F=O!=null&&O.adR;
u=e.c.FrFX;for(var T=0;T<u.length;T++){var W=u[T];ap.kP.Ww(j,L,E,L,d);Z(W,E,L,d);if(F&&T==u.length-1){if(O.Dv)Z(O.Dv,E,L,d);
if(O.p9)Z(O.p9,E,L,d);if(O.YW)Z(O.YW,E,L,d);if(O.Gz)Z(O.Gz,E,L,d)}if(W.aEU){if(W.WN||W.AP){Z(W,x,p,d)}if(W.Su||W.Xy){Z(W,J,m,d)}}else{if(W.WN||W.AP)o(E,L,x,p,fM.QX?W.AP:W.WN,W.cu,0,d,1);
if(W.Su||W.Xy)o(E,L,J,m,fM.QX?W.Xy:W.Su,W.cu,0,d,1)}}if(!F&&O!=null){if(O.Dv)Z(O.Dv,J,m,d);if(O.p9)Z(O.p9,J,m,d);
if(O.YW)Z(O.YW,x,p,d);if(O.Gz)Z(O.Gz,x,p,d)}};d4.awO=function(h,e,v,J){var m=d4.xO();m.fill=h.Al;m.style=!0;
B.B.lU(h.Cs,h.su,h.cu,e,v,J,1,m)};d4.aoD=function(h,e,v,J){var m=d4.xO();m.fill=h.Al;m.style=!0;fM.B.alO(h.Cs,h.BI,h.cu,e,v,J,1,m)};
d4.aEt=function(h,e){var v=1-e.Inpr.v.val/100,J=1+Math.tan(v*(Math.PI/2)),m=h.length;for(var T=0;T<m;
T++)h[T]=Math.min(255,Math.round(h[T]*J))};d4.sl=function(h,e,v,J){var m=e.blur.v.val,d=Math.round(m*(e.Ckmt.v.val/100));
if(m>d){var x=B.CL.Oh(e.TrnS.v.Crv.v,256,J!=!0);B.aA_(h,x)}if(v!=null&&e.Nose.v.val>0)B.style._2(h,e.Nose.v.val/100,v)};
d4.sS=function(h,e,v){if(e==null)e=255;var J=B.Vh.SL(h);if(v!=null){J.n=Math.round(J.n*v);J.i=Math.round(J.i*v);
J.b=Math.round(J.b*v)}return e<<24|J.b<<16|J.i<<8|J.n};d4.$b=function(h,e,v,J){var m=new Uint32Array(h.buffer);
m.fill(d4.sS(e,v,J))};d4.uA=function(h,e,v,J,m){var d=e.uglg&&e.uglg.v?v.J0():e[m?m:"lagl"].v.val;d=d*Math.PI/180+J;
var x=Math.cos(d)*e.Dstn.v.val,j=Math.sin(d)*e.Dstn.v.val;h.x-=Math.round(x);h.y+=Math.round(j)};d4.a2t=function(h,e){var v=h.uglg&&h.uglg.v?e.J0():h.lagl.v.val;
v=v*(Math.PI/180);var J=h.uglg&&h.uglg.v?e.uz():h.Lald.v.val;J=J*(Math.PI/180);return[v,J]};d4.a1o=function(h){if(h==null||!h.masterFXSwitch.v)return null;
var e=h.frameFXMulti.v,v=null;for(var T=0;T<e.length;T++)if(e[T].v.enab.v)v=e[T].v;if(v==null)return null;
var J=fL.gL.UX();d4.a7w(v,J);return J};d4.a7w=function(h,e){var v=fL.stroke.Lq.indexOf(h.PntT.v.FrFl),J=[fL.hz,fL.RN,fL.CI][v],m=e.strokeStyleContent.v={classID:fL.gL.Wj[v]};
for(var T=0;T<J.length;T++)m[J[T]]=h[J[T]];e.strokeEnabled=h.enab;e.strokeStyleLineWidth=h.Sz;e.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fL.gL.md[fL.stroke.types.indexOf(h.Styl.v.FStl)];
e.strokeStyleOpacity=h.Opct;e.strokeStyleBlendMode=h.Md;e.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
d4.YA=function(h,e){var v=[];for(var T=0;T<h.length;T++)v.push({t:"UntF",v:{type:"#Nne",val:h[T]*e}});
return v};d4.aon=function(h,e){var v=h.S2/255*(h.add.iOpa?h.add.iOpa/255:1),J=h.add.TySh,m=h.XN()||h.Yb()&&h.add.vmsk&&h.add.vstk.fillEnabled.v&&h.add.vstk.strokeEnabled.v;
if(J){var d=J.lf.EngineDict.StyleRun.RunArray,x=d[0].StyleSheet.StyleSheetData,j=0;if(x.FillFlag)j++;
if(x.StrokeFlag)j++;if(x._FillBackgroundFlag)j++;if(j>1)m=!0}return m&&(e||v!=1||h.fR!="pass"&&h.fR!="norm")};
d4.E_=function(h,e,v,J){this.yM=e.O();this.ab8=e.O();this.ab8.vY(v,v);if(J){this.yM.vY(1,1);this.DQ=B.U(this.yM.$());
B.Ww(h,e,this.DQ,this.yM)}else this.DQ=h;this.ze=null;this.G4=null;this.Uw=null};d4.E_.prototype.xA=function(){return this.DQ};
d4.E_.prototype.R=function(){return this.yM};d4.E_.prototype.Yi=function(){return this.ab8};d4.E_.prototype.hp=function(){if(this.ze)return this.ze;
this.ze=this.xA().slice(0);B.ia(this.ze);return this.ze};d4.E_.prototype.qQ=function(){if(this.G4)return this.G4;
this.G4=B.style.Be(this.hp(),this.R().q,this.R()._);return this.G4};d4.E_.prototype.Wp=function(){if(this.Uw)return this.Uw;
var h=this.Yi(),e=B.U(h.$());B.Ww(this.xA(),this.R(),e,h);var v=Date.now();this.Uw=B.style.Be(e,h.q,h._);
return this.Uw};d4.E_.prototype.aak=function(h,e){var v={f1:-e,k_:h,x4:null,GN:null};if(e==0){v.x4=this.R();
v.GN=this.qQ();return v}var J=this.Wp().slice(0),m=this.Yi();v.x4=m;v.GN=J;for(var T=0;T<J.length;T++)J[T]=-J[T];
if(h==0)return v;var d=this.qQ(),x=this.R();for(var j=0;j<x._;j++)for(var E=0;E<x.q;E++){var L=j*x.q+E,p=(j+x.y-m.y)*m.q+E+x.x-m.x;
J[p]+=d[L]}return v};d4.E_.prototype.MR=function(h,e,v){var J=Math.ceil(h+e),m={e3:this.R().O(),xA:null};
m.e3.vY(J,J);m.xA=B.U(m.e3.$());if(h==0&&e==0)B.N7(v?this.xA():this.hp(),m.xA);else{var d=B.U(m.e3.$());
B.Ww(this.xA(),this.R(),d,m.e3);if(!v)B.ia(d);if(h!=0){if(v)B.style.Xx(d,m.e3,this.Wp(),this.Yi(),h);
else B.style.Xx(d,m.e3,this.qQ(),this.R(),h)}if(e!=0)B.kK.he(d,m.xA,m.e3,Math.max(1,e*.43));else m.xA=d}return m};
d4.E_.prototype.abw=function(h,e,v){var J=h*(e-.5),m={e3:this.R().O(),xA:null};if(v)m.e3.vY(h,h);m.xA=B.U(m.e3.$());
var d=m.e3.q,x=m.e3._,j=v?this.Wp():this.qQ(),E=v?this.Yi():this.R(),L=m.e3,p=L.UP(E),d=p.q,x=p._,Z=p.x-L.x,o=p.y-L.y,u=p.x-E.x,N=p.y-E.y,M=1-e*2;
for(var O=0;O<x;O++)for(var F=0;F<d;F++){var W=j[(O+N)*E.q+F+u],f=W/h;m.xA[(O+o)*L.q+F+Z]=Math.max(0,Math.min(255,255-255*((f+M)/(1+M))))}return m};
d4.axX=function(h,e,v,J){var m=h.Lefx,d=h.blendOptions;if(m){var x=e.add.lmfx;if(v==null)v=x?x.Scl.v.val:100;
e.add.lmfx=B.t(m.v);if(e.add.lmfx.Scl==null)e.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};d4.D$(e.add.lmfx,v/e.add.lmfx.Scl.v.val);
if(x)e.add.lmfx.Scl.v.val=x.Scl.v.val;var j=m.v.gagl;if(j&&J)J.Ko(j.v.val)}else delete e.add.lmfx;if(d){d=d.v;
if(d.Md)e.fR=cc.lY(d.Md.v.BlnM);if(d.Opct)e.S2=Math.round(d.Opct.v.val*255/100);if(d.fillOpacity)e.add.iOpa=Math.round(d.fillOpacity.v.val*255/100);
if(d.Blnd){var E=[];for(var T=0;T<10;T++)E.push(0,0,255,255);var L=d.Blnd.v,p="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var T=0;T<L.length;T++){var Z=L[T].v,o=8*["Gry","Rd","Grn","Bl"].indexOf(Z.Chnl.v[0].v.enum);for(var u=0;
u<8;u++){E[o+u]=Z[p[u]].v}}e.DL=E}}};d4.aAZ=function(h){var e="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),v=[],J=h.DL;
for(var T=0;T<4;T++){var m=T*8;if(J[m]+J[m+1]+J[m+4]+J[m+5]==0&&J[m+2]+J[m+3]+J[m+6]+J[m+7]==4*255)continue;
var d={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][T]}}]}}};
v.push(d);for(var x=0;x<8;x++)d.v[e[x]]={t:"long",v:J[T*8+x]}}var j={classID:"blendOptions"};if(h.fR!="norm")j.Md={t:"enum",v:{BlnM:cc.e_(h.fR)}};
if(h.S2!=255)j.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(h.S2*100/255)}};if(h.add.iOpa!=null)j.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(h.add.iOpa*100/255)}};
if(v.length!=0)j.Blnd={t:"VlLs",v:v};var E={ks:{classID:"null",Idnt:{t:"TEXT",v:e7.Yh()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},bP:{classID:"Styl",blendOptions:{t:"Objc",v:j}}},L=h.add.lmfx;
if(L)E.bP.Lefx={t:"Objc",v:L};return E};function a2(){}a2.EB=function(h){var e=B.t(a2.aC0),v=e.Brsh.v;
if(h!=null){delete v.Hrdn;v.classID="sampledBrush";v.sampledData={t:"TEXT",v:h}}return e};a2.aC0={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
a2.a2x=function(h,e){var v=["opVr","szVr"],J=["usePaintDynamics","useTipDynamics"];for(var T=0;T<2;T++){var m=v[T];
if(h[m]==null)h[m]=JSON.parse(a2.pO.RO[m]);h[m].v.bVTy.v=e[T]?2:0;if(e[T])h[J[T]].v=!0}a2.pO.a07(h)};
a2.pO={};a2.pO.check=function(h){var e=a2.pO.gd;for(var T=0;T<e.length;T++)if(h[e[T]]==null)h[e[T]]=JSON.parse(a2.pO.RO[e[T]]);
var v=[];for(var T=0;T<e.length;T++)v.push(e[T]);var J=a2.pO.a9t;for(var T=0;T<J.length;T++){var m=J[T][0],d=J[T][1],x=!0;
for(var j=0;j<m.length;j++)x=x&&h[m[j]].v==!0;if(x)for(var j=0;j<d.length;j++){if(h[d[j]]==null)console.log("Missing conditional parameter "+d[j]);
else v.push(d[j])}}for(var E in h)if(v.indexOf(E)==-1&&E!="toolOptions")console.log("Extra parameter "+E);
h=h.Brsh.v;e=a2.pO.Pz.gd;for(var T=0;T<e.length;T++)if(h[e[T]]==null)h[e[T]]=JSON.parse(a2.pO.Pz.RO[e[T]]);
v=[];for(var T=0;T<e.length;T++)if(h[e[T]])v.push(e[T]);else console.log("Missing default parameter "+e[T]);
J=a2.pO.Pz.alH[h.classID];for(var T=0;T<J.length;T++)if(h[J[T]]==null&&J[T]!="dtipsGridSize"&&J[T]!="dtipsErodibleTipHeightMap"&&h.avu!=1)console.log("Missing conditional parameter "+J[T]);
else v.push(J[T]);for(var E in h)if(v.indexOf(E)==-1)console.log("Extra parameter "+E)};a2.pO.a07=function(h){var e=a2.pO.a9t;
for(var T=0;T<e.length;T++){var v=e[T][0],J=e[T][1],m=!0;for(var d=0;d<v.length;d++)m=m&&h[v[d]]&&h[v[d]].v==!0;
if(m){for(var d=0;d<J.length;d++)if(h[J[d]]==null){h[J[d]]=JSON.parse(a2.pO.RO[J[d]])}}else for(var d=0;
d<J.length;d++)if(h[J[d]]!=null){delete h[J[d]]}}};a2.pO.Pz={};a2.pO.Pz.gd="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
a2.pO.Pz.RO={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};a2.pO.Pz.alH={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
a2.pO.a9t=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
a2.pO.gd="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
a2.pO.RO={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function a$(h,e){this.aku=h;this.dW=e==null?0:e;this.dir=0}a$.prototype.Pd=function(h,e){var v=this.aku,J=new fq(h.x-v.x,h.y-v.y),m=new aJ;
m.rotate(-this.dW);J=m.w7(J);if(this.dir==0&&!v.lS(h))this.dir=Math.abs(J.x)<Math.abs(J.y)?1:2;if(e.r(dW.l$)){if(this.dir==1)J.x=0;
if(this.dir==2)J.y=0}m.ia();J=m.w7(J);var d=new fq(v.x+J.x,v.y+J.y);return d};a$.prototype.abh=function(h){if(h.r(dW.l$))return this.dir;
return 0};var js=function(){function h(){this.aAL={}}h.awU=function(e,v){var J=e.O();J.TO-=Math.floor(J.TO);
J.bZ-=Math.floor(J.bZ);var m=new fq(v,0),d=new fq(0,v),x=J.w7(m),j=J.w7(d),E=new fq(J.TO,J.bZ);return[x,j,E]};
h.a8O=function(e,v){var J=fq.mr;return J(e[0],v[0])+J(e[1],v[1])+J(e[2],v[2]);return dsum};h.prototype.a3B=function(e){var v=this.aAL,J=v[e];
if(J==null)J=v[e]={nK:[],SK:0,$:0,ad3:0,apj:0};J.SK=Date.now();while(Object.keys(v).length>3){var m="",d=Date.now();
for(var x in v){var j=v[x].SK;if(j<d){d=j;m=x}}delete v[m]}return J};h.prototype.an2=function(e,v){var J=e.nK,m,d=1e6;
for(var T=0;T<J.length;T++){var x=J[T],j=h.a8O(x.jC,v);if(j<d){m=x;d=j}}return m};h.prototype.axf=function(e,v){var J=e.nK;
J.push(v);e.$+=v.R.$();if(J.length>1e3||e.$>100*100*1600){console.log("pruning",e.$,J.length);J.sort(function(d,x){return x.SK-d.SK});
while(J.length>500||e.$>100*100*800){var m=J.pop();e.$-=m.R.$()}}};return h}();function d2(h,e,v,J,m,d,x,j,E){this.kk=e;
this.tr=v;this.kF=d;this.d9=J;this.I0=null;this.T$=null;this.yk=0;this.aHU=0;this.aFI=0;this.jP=0;this.jj=0;
this.nw=E==null?Math.floor(Math.random()*16777215):E;this.MH=E==null?Math.floor(Math.random()*16777215):E;
this.Ei=new fP;this.cF=new fP;if(j!=null){this.su=j}else{var L=d2.a5a;if(L.length!=x.$()*4)L=B.U(x.$()*4);
else L.fill(0);this.su=d2.a5a=L}this.R=x.O();this.Z$=[];this.zk=[];this.FZ=null;this.kc=0;this.b=null;
this.aBS="";this.zU=null;this.aur(h,m)}d2.a5a=B.U(16);d2.prototype.aur=function(h,e){this.kc=e;this.b=h;
this.aBS=JSON.stringify(h)+JSON.stringify(this.d9.PJ);this.zU=d2.afZ(this.b,this.kk,this.tr)};d2.prototype.moveTo=function(h,e,v){v=this.afQ(v);
this.yk=v;var J=new fq(h,e),m=this.b.Brsh.v.Dmtr.v.val;this.I0=J.O();this.T$=J.O();this.FZ=J.O();this.Z$=[h,e];
this.zk=[v];if(this.d9.s1!=d2.M0){var d=this.b.angleDynamics,x=d?d.v.bVTy.v==6:!1;this.TG(x?new fP:this.ar_(J,this.ath(v),v,new fq(0,0)))}this.jP=J.O()};
d2.prototype.lineTo=function(h,e,v){v=this.afQ(v);var J=this.Z$,m=J.length,d=J[m-2],x=J[m-1];if(h==d&&e==x)return;
var j=this.b.Brsh.v.Dmtr.v.val,E=Math.ceil(j)+1,L=new fP(Math.round(d),Math.round(x),0,0);L.vY(E,E);
var p=new fP(Math.round(h),Math.round(e),0,0);p.vY(E,E);this.Z$.push(h,e);this.zk.push(v);m+=2;if(m>=6)this.TG(this.a0I(m))};
d2.prototype.afQ=function(h){if(h==null)h=1;h=Math.max(.05,Math.min(5,h));if(isNaN(h)){alert("Pressure is not a number");
throw"e"}return h};d2.prototype.TG=function(h){this.Ei=h;this.cF=this.cF.R$(h)};d2.prototype.finish=function(){var h=this.Z$,e=h.length,v;
if(e==4)v=this.lu(h[e-2],h[e-1],this.zk[(e>>1)-1],!0);if(e>4)v=this.a0I(e+2);if(v)this.TG(v)};d2.prototype.YO=function(){return this.R.O()};
d2.prototype.hy=function(){return this.Ei.UP(this.R)};d2.prototype.kp=function(){return this.cF.UP(this.R)};
d2.prototype.ju=function(){return this.su};d2.prototype.a0I=function(h){var e=this.Z$,v=this.zk,J=e[h-6],m=e[h-5],d=e[h-4],x=e[h-3],j=v[(h>>1)-3],E=v[(h>>1)-2],L=new fq(0,0),p=new fq(0,0);
if(8<=h)L=d2.a8p(e[h-8],e[h-7],J,m,d,x);if(h<=e.length)p=d2.a8p(e[h-2],e[h-1],d,x,J,m);var Z=J+L.x,o=m+L.y,u=d+p.x,N=x+p.y,M=new fP,O=this.avZ()?1:10;
for(var T=0;T<O;T++){var F=(T+1)/O,W=1-F,f=W*W*W*J+3*F*W*W*Z+3*F*F*W*u+F*F*F*d,$=W*W*W*m+3*F*W*W*o+3*F*F*W*N+F*F*F*x,H=this.lu(f,$,j+F*(E-j));
M=M.R$(H)}return M};d2.a8p=function(h,e,v,J,m,d){var x=h-v,j=e-J,E=m-v,L=d-J,p=Math.sqrt(x*x+j*j),Z=Math.sqrt(E*E+L*L),o=Math.acos((x*E+j*L)/(p*Z))/Math.PI,u=.35,N=.1;
o=N+o*(u-N);var M=m-h,O=d-e,F=Math.sqrt(M*M+O*O),W=o*Z/F;return new fq(M*W,O*W)};d2.prototype.lu=function(h,e,v,J){var m=new fP,d=this.d9.a9o;
if(d==null)d=0;if(d==0||J){m=this.aqC(h,e,v);return m}var x=this.FZ,j=h-x.x,E=e-x.y,L=Math.sqrt(j*j+E*E);
j/=L;E/=L;if(L>d){var p=x.x+j*(L-d),Z=x.y+E*(L-d);m=this.aqC(p,Z,v);this.FZ.Cg(p,Z)}return m};d2.prototype.avZ=function(){var h=this.b,e=h.Brsh.v.Dmtr.v.val;
return this.d9.PJ&&e==1};d2.prototype.aqC=function(h,e,v){var J=new fP,m=new fq(h,e),d=this.d9.s1,x=m.am(this.T$);
x.normalize(1);var j=fq.mr(this.T$,m),E=-this.aHU,L=this.T$.O();if(this.avZ()){if(j>.99){var p=this.T$;
d2.aot(p,m,this.su,this.R,this.X4(this.b));J=B.w.Ob([p.x,p.y,m.x,m.y]);E=j}else m=this.T$}else while(!0){var Z=this.yk+(v-this.yk)*(Math.max(0,E)/j),o=this.ath(Z),u=this.aB7()*(o+this.aFI)/2*this.zU.a6a;
if(d==d2.M0)u=1;u=Math.max(u,.5);if(E+u<j){E+=u;this.jj+=u;var N=new fq(this.T$.x+x.x*E,this.T$.y+x.y*E),F=1;
if(d==d2.M0){var M=L.O();M.x+=x.x>0?1:-1;var O=L.O();O.y+=x.y>0?1:-1;if(fq.mr(M,N)<fq.mr(O,N))N=M;else N=O;
E=fq.mr(N,this.T$)}if(this.b.useScatter.v==!0){F=this.b.Cnt.v;var W=this.b.countDynamics.v.jitter.v.val/100,f=W*(-1+2*this.FF());
F+=Math.round(F*f)}for(var T=0;T<F;T++){var $=this.ar_(N,o,v,x);J=J.R$($)}L=N}else break}this.aHU=j-E;
this.T$=m;this.yk=v;return J};d2.prototype.aB7=function(){var h=this.b.Brsh.v,e=h.Spcn.v.val,v=Math.max(5,h.Rndn.v.val);
return v/100*(e/100)};d2.prototype.ath=function(h){var e=this.b,v=e.Brsh.v.Dmtr.v.val;if(e.useTipDynamics.v){var J=v*(e.minimumDiameter.v.val/100);
v=J+(v-J)*(1-this.FF(this.MH)*(e.szVr.v.jitter.v.val/100));v*=d2.g9(e,"szVr",h,this.jj)}return v};d2.g9=function(h,e,v,J){var m=1,d=h[e].v,x=d.bVTy.v,j=d.fStp.v;
if(x==1)m*=Math.max(0,(j-J)/j);if(x==2)m*=v;return m};d2.prototype.ar_=function(h,e,v,J){var m=this.d9.tm,M=0;
m=Math.min(1,m);var d=this.b,x=this.b.Brsh.v,j=x.Dmtr.v.val,E=this.d9,L=E.s1,p=E.a6c,Z=this.zU.$O[1],o=new aJ;
o.translate(-Z.q/2,-Z._/2);o.scale(1/this.zU.ayG,1/this.zU.ayG);o.scale(e/j,e/j);o.scale(1,Math.max(5,x.Rndn.v.val)/100);
if(d.usePaintDynamics&&d.usePaintDynamics.v){var u=d.opVr.v.jitter.v.val/100,N=d.prVr.v.jitter.v.val/100;
m*=1-this.FF()*u;m*=1-this.FF()*N;m*=d2.g9(d,"opVr",v,this.jj)*d2.g9(d,"prVr",v,this.jj)}if(d.useTipDynamics.v){var O=d.angleDynamics.v,F=d.minimumRoundness.v.val/100;
o.scale(1,F+(1-F)*Math.round(100-this.FF()*d.roundnessDynamics.v.jitter.v.val)/100);M+=(-.5+this.FF())*4*Math.PI*(O.jitter.v.val/100);
M+=d2.g9(d,"angleDynamics",v,this.jj)*2*Math.PI;if(O.bVTy.v==6)M+=Math.atan2(-J.y,J.x)}M+=x.Angl.v.val*(Math.PI/180);
o.rotate(M);if(d.useScatter.v){var W=(-1+2*this.FF())*d.scatterDynamics.v.jitter.v.val/100;o.translate(-W*e*J.y,W*e*J.x)}o.translate(h.x,h.y);
var f=this.acp(o,h,e),$=f.R.O();if(L==null){var H=this.X4(d);B.yV(f.ay,Math.round(H.b*255)<<16|Math.round(H.i*255)<<8|Math.round(H.n*255)<<0,4278190080);
if(this.cF.EG()&&this.R.lS(f.R)&&m==1)this.su=f.ay.slice(0);else{var A=-1,G=2,l=-1,K=2;if(!E.m8){A=l=0;
G=K=1}for(var U=l;U<K;U++)for(var z=A;z<G;z++){var q=f.R.O();q.x+=z*this.R.q;q.y+=U*this.R._;if(q.qm(this.R)){$=$.R$(q);
B.B.af$(f.ay,q,this.su,this.R,q,m)}}}}if(L==d2.M0){var P=new fq(f.R.x+f.R.q/2,f.R.y+f.R._/2),g=Math.round(P.x-this.jP.x),a=Math.round(P.y-this.jP.y),w=f.R.O();
w.offset(-g,-a);var y=w.UP(this.R);y.offset(g,a);B.YZ(this.su,this.R,f.ay,w);B.B.adq(f.ay,f.R,this.su,this.R,f.wP,f.R,m)}if(L==d2.ho||L==d2.D0||L==d2.jZ){var S=f.R.UP(this.R),i;
if(S.lS(f.R))i=f.wP;else{i=B.U(S.$());B.Ww(f.wP,f.R,i,S)}var C=B.U(S.$()*4);B.YZ(this.su,this.R,C,S);
if(L==d2.D0){var Y=C.slice(0),_=B.Zq.Du([-1,-1,-1,-1,25,-1,-1,-1,-1]);B.Zq.uy(C,Y,S.q,S._,_,0);B.N7(Y,C)}else if(L==d2.jZ){var t=f8.UX("UnsM");
t.Amnt.v.val=15;t.Thsh.v=0;t.Rds.v.val=5;var Y=B.U(C.length);f8.$a("UnsM",{buffer:C,R:S},t,0,0,{buffer:Y,R:S});
B.N7(Y,C)}else{f8.SO(1,B.kK.A7,C,S)}B.B.adq(C,S,this.su,this.R,i,S,m)}this.aFI=e;this.jP=P;this.MH++;
return $};d2.prototype.X4=function(h){var e=d2.ara(this.kc);if(h.useColorDynamics&&h.useColorDynamics.v){var v=1-this.FF()*h.clVr.v.jitter.v.val/100,J=d2.ara(this.kF);
e.n=v*e.n+(1-v)*J.n;e.i=v*e.i+(1-v)*J.i;e.b=v*e.b+(1-v)*J.b;var m=(-.5+this.FF())*h.H.v.val/100,d=(-1+2*this.FF())*h.Strt.v.val/100,x=(-1+2*this.FF())*h.Brgh.v.val/100,j=B.vB(e.n,e.i,e.b);
j.qw=(j.qw+m+1)%1;j.eL=j.eL+d;if(j.eL<0)j.eL=-j.eL;if(j.eL>1)j.eL=1-(j.eL-1);j.GL=j.GL+x;if(j.GL<0)j.GL=-j.GL;
if(j.GL>1)j.GL=1-(j.GL-1);e=B.Qh(j.qw,j.eL,j.GL)}return e};d2.prototype.pO=function(h){return Math.max(0,Math.min(1,h))};
d2.prototype.FF=function(h){if(h==null){h=this.nw++}return d2.hash(h)};d2.ara=function(h){return{n:(h>>16&255)/255,i:(h>>8&255)/255,b:(h>>0&255)/255}};
d2.hash=function(h){h=h^61^h>>16;h=h+(h<<3);h=h^h>>4;h=h*668265261;h=h^h>>15;return(h&16777215)/16777215};
d2.alX=new js;d2.prototype.acp=function(h,e,v){var J=Math.sqrt(this.zU.$O[1].$()),m=J*h.n$(),d=m<10?1:m<50?1.5:m<200?3:8;
if(m<30)d=0;var x=d2.alX,j=x.a3B(this.aBS),E=this.d9.PJ,L=js.awU(h,J),p=x.an2(j,L);if(p&&js.a8O(p.jC,L)>d)p=null;
if(p){p.R.x=Math.round(p.aDe.x+h.TO);p.R.y=Math.round(p.aDe.y+h.bZ);p.SK=Date.now()}else{var Z=Math.round(this.b.Brsh.v.Dmtr.v.val),o;
if(E&&Z<=3){o={G:B.U(Z*Z),R:new fP(Math.round(e.x-Z/2),Math.round(e.y-Z/2),Z,Z)};o.G.fill(255)}else if(h.DR==1&&h.b==0&&h.tg==0&&h.l_==1){o={G:this.zU.$O[0],R:this.zU.$O[1].O()};
o.R.x=Math.round(h.TO);o.R.y=Math.round(h.bZ)}else{if(h.n$()>1e-4)o=c.L2.pV(this.zU.$O,h)}if(o==null)o={G:B.U(0),R:new fP};
if(E){for(var T=0;T<o.G.length;T++)o.G[T]=o.G[T]>127?255:0}p={ay:B.U(o.R.$()*4),wP:o.G,R:o.R,aDe:new fq(o.R.x-h.TO,o.R.y-h.bZ),jC:L,SK:Date.now()};
B.ar(p.wP,p.ay,3);if(j)x.axf(j,p)}return p};d2.afZ=function(h,e,v){var J,m,d,x=h.Brsh.v.Dmtr.v.val,j=h.Brsh.v.classID;
if(j=="computedBrush"){var E=h.Brsh.v.Hrdn.v.val/100;m=x<100?1.4:1;d=1;J=B.atb.a5R(x,E,m)}if(j=="sampledBrush"){var L;
for(var T=0;T<e.length;T++)if(e[T].id==h.Brsh.v.sampledData.v)L=e[T];J=L.$O;var p=J[1];m=Math.max(p.q,p._)/x;
d=Math.min(p.q,p._)/Math.max(p.q,p._)}return{ayG:m,a6a:d,$O:J}};d2._y=null;d2.h_=null;d2.lT=function(h,e,v,J,m,d){var x=d2._y,j=d2.h_;
if(x==null){d2._y=x=document.createElement("canvas");d2.h_=j=x.getContext("2d")}if(d==null)d=J;if(x.width!=d||x.height!=m){x.width=d;
x.height=m}else j.clearRect(0,0,d,m);j.fillStyle="#000000";j.font=Math.floor(10*c.A_())+"px sans-serif";
var E=h.Brsh.v.Dmtr.v.val,L=""+E,p=h.useBrushSize;if(p&&p.v)L="---";var Z=j.measureText(L);j.fillText(L,(J-Z.width)/2,m-2);
var o=J,u=m-10*c.A_(),N=Math.min(o,u),M=h.Brsh.v.classID;if(M=="computedBrush"){j.translate(o/2,u/2);
j.rotate(-h.Brsh.v.Angl.v.val*Math.PI/180);j.scale(1,.1+.9*h.Brsh.v.Rndn.v.val/100);var O=Math.min(.95*N/2,E/2)+.5,F=.9*h.Brsh.v.Hrdn.v.val/100,W=j.createRadialGradient(0,0,0,0,0,O);
W.addColorStop(F,"rgba(0,0,0,1)");W.addColorStop((.5+F)/1.5,"rgba(0,0,0,.5)");W.addColorStop(1,"rgba(0,0,0,0)");
j.fillStyle=W;j.fillRect(-O,-O,2*O,2*O);j.setTransform(1,0,0,1,0,0)}else if(M=="sampledBrush"){var f,l=0;
for(var T=0;T<e.length;T++)if(e[T].id==h.Brsh.v.sampledData.v)f=e[T];var $=f.$O;B.mU($);var H=$[0],A=$[1].q,G=$[1]._;
while((A>o||G>u)&&$[l+2]){l+=2;H=$[l];A=$[l+1].q;G=$[l+1]._}if(A*G!=0){var K=B.U(A*G*4);B.ar(H,K,3);
var U=new ImageData(new Uint8ClampedArray(K.buffer),A,G);j.putImageData(U,Math.round((o-A)/2),Math.round((u-G)/2))}}else{}return x.toDataURL()};
d2.d5=function(h,e,v,J){if(v==0)v=1;var m=h.Brsh.v,d=m.Dmtr.v.val,x=m.Dmtr.v.val=Math.min(J!=null?Math.round(J*2.6):3e3,d*v),j=m.Hrdn?m.Hrdn.v.val/100:1,E=J!=null?J:Math.round(x*(1+.55*(1-j)))+4,Z;
E=Math.max(15,Math.min(E,3e3));var L=new fP(0,0,E,E),p=new d2(h,e,null,{tm:1},16711712,0,L);m.Dmtr.v.val=d;
p.moveTo(L.q/2,L._/2);var o=p.ju(),u=p.YO();if(L.lS(u))Z=o;else{Z=B.U(L.$()*4);B.YZ(o,u,Z,L)}return[Z,L,x]};
d2.adO=function(h,e,v,J){var m=e.q,d=m>>>1;for(var T=0;T<4;T++){var x=6-T;h[m*(d-x)+d-1]=J;h[m*(d-x)+d]=v;
h[m*(d-x)+d+1]=J;h[m*(d+x)+d-1]=J;h[m*(d+x)+d]=v;h[m*(d+x)+d+1]=J;h[m*(d-1)+d-x]=J;h[m*d+d-x]=v;h[m*(d+1)+d-x]=J;
h[m*(d-1)+d+x]=J;h[m*d+d+x]=v;h[m*(d+1)+d+x]=J}};d2.Mh=function(h,e,v,J){var m=d2.d5(h,e,v),d=m[0].slice(0),x=m[1],j=m[2],E=x.$(),L=B.U(E);
B.Bq(d,L,3);var p=B.U(E);B.K.alT(L,p,x,c.A_()>1.9);if(j<3||B.dh(p,0)||J&&j>12){d2.adO(p,x,255,0)}var Z=[3,5,3,4,8,4,3,5,3];
Z=B.Zq.Du(Z);B.Zq.xQ(p,L,x.q,x._,Z);B.yV(d,4294967295);B.ar(L,d,3);for(var T=0;T<E;T++)if(p[T]==255){d[T<<2]=d[(T<<2)+1]=d[(T<<2)+2]=0;
d[(T<<2)+3]=255}return{wp:d,e3:x,Tc:new fq(x.q/2,x._/2)}};d2.aot=function(h,e,v,J,m){var d=4278190080|Math.round(m.b*255)<<16|Math.round(m.i*255)<<8|Math.round(m.n*255)<<0;
v=new Uint32Array(v.buffer);var x=Math.floor(h.x),j=Math.floor(h.y),E=Math.floor(e.x),L=Math.floor(e.y),p=Math.abs(E-x),Z=Math.abs(L-j),o=x<E?1:-1,u=j<L?1:-1,N=p-Z;
while(!0){v[j*J.q+x]=d;if(x==E&&j==L)break;var M=2*N;if(M>-Z){N-=Z;x+=o}if(M<p){N+=p;j+=u}}};d2.M0="0";
d2.ho="1";d2.D0="2";d2.jZ="3";var hP={};hP.IV=function(h,e,v){if(v==null)v=!0;var J=h.add.TySh,m=J.lf,d=new em(m,e,J.fB);
h.em.NW=d.V0();var x=h.em.path=hP.s2(d,J);if(jD!=0)return[x,d,null];var j=hP.sU(x,J.C,fr.lh(J));if(v){h.R=j.e3;
h.buffer=j.su;h.dn()}return[x,d,j]};hP.sU=function(h,e,v){h={WQ:h.WQ,g:h.g.slice(0)};B.w.C(h.g,e,h.g);
var J=B.w.Ob(h.g),m=0;if(J.EG())return{su:B.U(0),e3:new fP};for(var T=0;T<h.WQ.length;T++){var d=h.WQ[T];
if(d[0]=="O"&&d[1]=="-")m=Math.max(m,parseFloat(d.split("-")[2]))}m=Math.ceil(m*e.n$()/2);J.vY(m,m);
var x=B.Ut(J.q,J._);x.translate(-J.x,-J.y);hP.a2h(h,x);var j=x.getImageData(0,0,J.q,J._),E=new Uint8Array(j.data.buffer);
if(v==0)for(var T=0;T<E.length;T+=4)E[T+3]=E[T+3]>80?255:0;if(v==3)for(var T=0;T<E.length;T+=4)E[T+3]=Math.min(255,E[T+3]*1.5);
x.resetTransform();x.beginPath();return{su:E,e3:J}};hP.s2=function(h,e,v){var J=e.C,m=e.lf;hP.tb=J.n$();
var d=fr.lh(e),x=Math.max(J.b*J.b,J.tg*J.tg)<1e-9?J:null;if(d==3||d==4)x=null;var j={WQ:[],g:[]};hP.aoH(h,j,x,!0);
hP.aoH(h,j,x,!1);j=hP.tP(j,e,h,v);return j};hP.tb=1;hP.tP=function(h,e,v,J){if(h==null)return h;if(v&&v.Sq)B.w.C(h.g,v.Sq,h.g);
if(v&&!B.aI.bS(e.a5)){var m=fr.YO(e,v);if(!m.EG()){if(h.WQ){h=B.w.$P(h);var d=Math.min(m.q,m._)/8;if(d<1)d=1;
h=B.w.JH(h,d)}var x=B.aI.hW(e.a5,m);B.ih.C(x,h.g,m)}}var j=e.C;if(J)B.w.C(h.g,j,h.g);return h};hP.a2h=function(h,e){e.save();
e.miterLimit=2;Typr.U.pathToContext({crds:h.g,cmds:h.WQ},e);e.restore()};hP.fm=function(h,e,v){var J=em.aHY(v),m=h.lf,d=m.ResourceDict.FontSet,x=m.ResourceDict.StyleSheetSet[0].StyleSheetData,j=m.EngineDict.StyleRun.RunLengthArray,E=m.EngineDict.StyleRun.RunArray,L=fr.X3(m),p=!0,Z={},o=0;
for(var T=0;T<E.length;T++){var u=E[T].StyleSheet.StyleSheetData.Font;if(u==null)u=x.Font;for(var N=0;
N<j[T];N++){var M=L.charCodeAt(o+N),O=u+","+(M>128?M:-1);if(Z[O]==null){Z[O]=1;if(e.xs(d[u].Name,M)==null)p=!1}}o+=j[T]}return p&&J};
hP.gu=function(h,e,v){var J=!0;for(var m=0;m<h.T.length;m++){var d=h.T[m],x=d.add.TySh;if(x!=null&&!hP.fm(x,e,v))J=!1}return J};
hP.GV=function(h,e,v){for(var J=0;J<h.T.length;J++){var m=h.T[J],d=m.add.TySh;if(d!=null&&hP.fm(d,e,v)){hP.IV(m,e);
h.dn()}}};hP.aoH=function(h,e,v,J){var m=new aJ;for(var T=0;T<h.UZ.length;T++)hP.ad$(h.zI,h.UZ[T],e,m,v,J)};
hP.ad$=function(h,e,v,J,m,d){J.translate(e.R8.x,e.R8.y);for(var T=0;T<e.zo.length;T++){var x={},j=e.zo[T];
if(!j.s$)break;var E=J.O();E.translate(j.R8.x,j.R8.y);if(m){var L=m.bZ+E.bZ*m.l_;E.bZ=(Math.round(L)-m.bZ)/m.l_}for(var p=j.start;
p<j.end;p++)hP.akw(h,e.Dq[p],e,x,v,E,d)}J.translate(-e.R8.x,-e.R8.y)};hP.akw=function(h,e,v,J,m,d,x){d.translate(e.R8.x,e.R8.y);
for(var j=e.n1;j<=e.xP;j++){var E=v.oV[j],L=E.e3.q,p=h[v.ayK+E.cH],Z=p.CN._FillBackgroundFlag;if(p.sO=="\n"||x&&!Z)continue;
var o=p.CN.FontSize/p.rQ.head.unitsPerEm,u=d.O();u.translate(E.R8.x+E.Sv*o,E.R8.y-E.wr*o);var N=new aJ;
N.scale(o,-o);if(p.CN.FauxItalic)N.concat(new aJ(1,0,-Math.tan(.18),1,0,0));N.translate(0,p.C9);N.scale(p.scale.x,p.scale.y);
if(p.CN.BaselineShift!=null)N.translate(0,-p.CN.BaselineShift);if(E.dW!=0){N.rotate(-E.dW)}N.concat(u);
var M=(p.CN.OutlineWidth?p.CN.OutlineWidth:1)*hP.tb;if(x){m.WQ.push(hP.X4(p.CN._FillBackgroundColor));
var O=1.005*E.e3._/o,F=new fP(-E.Sv,-O*.27,1.03*E.e3.q/(o*p.scale.x),O);if(p.CN.StrokeFlag)F.vY(M/o,M/o);
B.w.concat(m,B.w.Tp(F),N);m.WQ.push("X");continue}if(p.CN.FillFlag)m.WQ.push(hP.X4(p.CN.FillColor));
if(p.CN.StrokeFlag){var W=fL.Rr.aEc(p.CN);m.WQ.push(hP.a3G(W))}if(E.path.WQ.length!=0&&p.sO!="\t"){if(p.CN.FauxBold){var f=p.CN.FontSize/2048*27*p.scale.x,$=Math.cos(E.dW)*f,H=Math.sin(E.dW)*f;
N.TO+=$;N.bZ+=H;B.w.concat(m,E.path,N);N.TO-=$+$;N.bZ-=H+H;B.w.concat(m,E.path,N)}else B.w.concat(m,E.path,N)}if(p.sO!="\n"){var A=E.e3.q/o;
if(p.CN.Underline){if(J.mq==null)J.mq=p.rQ.post.underlineThickness;if(J.ajC==null)J.ajC=p.rQ.post.underlinePosition;
var G=0,l=J.ajC-J.mq/2,K=-J.mq;B.w.concat(m,{WQ:["M","L","L","L","Z"],g:[G,l,G+A,l,G+A,l+K,G,l+K]},N)}if(p.CN.Strikethrough){var U=p.rQ["OS/2"].yStrikeoutSize,z=p.rQ["OS/2"].yStrikeoutPosition,G=0,l=z+U/2,K=-U;
B.w.concat(m,{WQ:["M","L","L","L","Z"],g:[G,l,G+A,l,G+A,l+K,G,l+K]},N)}}var q=p.CN.FillFlag,P=p.CN.FillFirst;
if(P==null)P=!0;if(q&&P)m.WQ.push("X");if(p.CN.StrokeFlag)m.WQ.push("OX");if(q&&!P)m.WQ.push("X")}d.translate(-e.R8.x,-e.R8.y)};
hP.a3G=function(h){var e=h.N0,v=["O","#"+B.zF(B.RP({n:e[0],i:e[1],b:e[2]},1)),h.T8];v.push(h.qP,h.Jv,h.Mm,h.MG,h.fe.join(","));
return v.join("-")};hP.aF2=function(h){var e=parseFloat,v=h.split("-"),J=B.UY(parseInt(v[1].slice(1),16));
return{N0:[J.n/255,J.i/255,J.b/255],T8:e(v[2]),qP:e(v[3]),Jv:e(v[4]),Mm:e(v[5]),MG:e(v[6]),fe:v[7].split(",").map(e),Tt:v[8]=="1"?2:0}};
hP.X4=function(h){return"#"+B.zF(B.RP(fr.SL(h)))};function em(h,e,v){var J=fr.tO(h),m,d,x=fr.hi(h),j=h._LineOrientation==2?new aJ:null,Z,u;
if(h.Curve)d=em.sx(h.Curve);if(J!=0){m=new fP(x[0],x[1],x[2],x[3]);if(j){var E=m.q;m.q=m._;m._=E;j.translate(0,-x[2])}if(J==2){m.q=d[5]-d[4];
m._=9999}}this.UZ=[];this.zI=[];this.R4=J;this.Sq=j;var L=this.a1E=fr.X3(h),p=-1,o=-1;for(var T=0;T<L.length;
T++){var N=Z,M=fr.aaM(h,T);if(M!=p){p=M;N=Z=fr.ahr(h,M)}var O=u,M=fr.a11(h,T);if(M!=o){o=M;O=u=fr.anO(h,M)}var F={sO:L.charAt(T),CN:N,rQ:null,MD:!1,wI:-1,B5:fr.ajt(h,T),C9:0,scale:new fq(0,0),Z9:0,lineHeight:0,Fj:0},W=h.ResourceDict.FontSet[N.Font].Name,f=F.rQ=e.xs(W,L.charCodeAt(T));
if(N.FontCaps==1)F.MD=f&&f.GSUB&&f.GSUB.smcp?!1:!0;F.scale.x=N.HorizontalScale==null?1:N.HorizontalScale;
F.scale.y=N.VerticalScale==null?1:N.VerticalScale;var $=f["OS/2"],H=f.hhea;if(F.MD&&F.sO!=F.sO.toUpperCase()){var A=$.sxHeight?$.sxHeight/$.sTypoAscender:.76;
F.scale.x*=A;F.scale.y*=A}var G=1/f.head.unitsPerEm*N.FontSize;if(N.FontBaseline==1){var A=h.ResourceDict.SuperscriptSize;
F.scale.x*=A;F.scale.y*=A;F.C9-=h.ResourceDict.SuperscriptPosition*N.FontSize}if(N.FontBaseline==2){var A=h.ResourceDict.SubscriptSize;
F.scale.x*=A;F.scale.y*=A;F.C9+=h.ResourceDict.SubscriptPosition*N.FontSize}F.Z9=em.Z9(f)*N.FontSize;
var l=O.AutoLeading;F.lineHeight=N.FontSize*(l==null?1.2:l);if(N.AutoLeading==!1)F.lineHeight=N.Leading;
if(F.sO=="\n"&&L[T-1]!="\n")F.lineHeight=0;if(F.lineHeight==0)F.lineHeight=.01;this.zI.push(F)}var K=this.UZ,U=[0];
for(var T=0;T<h.EngineDict.ParagraphRun.RunLengthArray.length;T++){var z=new em.$M(h,e,this.zI,T,m,U,J==1?d:null);
K.push(z)}if(j){if(J==0)j.translate(0,K[0].Dq[0].Z9/2);j.rotate(-Math.PI/2)}if(J==2){var q=h.Curve.Points,P=d[0],g=d[1],a=d[2],w=d[3],y=d[4],S=d[5];
for(var T=0;T<K.length;T++)for(var i=0;i<K[T].zo.length;i++)if(!(T==0&&i==0))K[T].zo[i].s$=!1;var z=K[0],C=z.zo[0];
z.R8.Cg(0,0);C.R8.Cg(0,0);for(var i=C.start;i<C.end;i++){var Y=z.Dq[i],_=Y.R8.x;Y.R8.x=0;for(var t=Y.n1;
t<=Y.xP;t++){var I=z.oV[t],r=I.e3.q/2;I.R8.x+=_;var n=em.aok(P,(y+I.R8.x+r)%w);I.R8.x=n[0]-r*n[2];I.R8.y=n[1]-r*n[3];
I.dW=Math.atan2(n[3],n[2])}}}if(v){var Q=v.VAlign.v;if(Q!=0&&fr.tO(h)==1){var D=fr.hi(h)[3],dG=this.V0()._,R=0;
if(Q==1)R=D-dG;if(Q==2)R=(D-dG)/2;for(var T=0;T<this.UZ.length;T++)this.UZ[T].R8.y+=R}}}em.Z9=function(h){var e=h._hhhh;
if(e==null){var v=Typr.U,J=v.codeToGlyph(h,104),m=B.w.oS(Typr.U.glyphToPath(h,J).crds)._;e=h._hhhh=m*(1/h.head.unitsPerEm)}return e};
em.prototype.aju=function(){return!this.aAs(0)};em.prototype.ah2=function(){return this.aAs(1)};em.prototype.aAs=function(h){var e=this.UZ,v=!0,J=0;
for(var T=0;T<e.length;T++){var m=e[T].zo,d=m.length;J+=d;for(var x=0;x<d;x++)v&=m[x].s$}return[v,J][h]};
em.sx=function(h,e,v){if(e==null)e=.25;var J=h.Points,m=J.length,d=m>>>3,x=h.TextOnPathTRange,j=h.Reversed,o=0,u=0;
if(j){var E=J.slice(0);for(var T=0;T<m;T+=2){E[T]=J[m-2-T];E[T+1]=J[m-1-T]}J=E;x=[d-x[1]%d,d-x[0]%d]}var L=[],p=[0],Z=[0];
for(var T=0;T<m;T+=8){var N=J[T+6]-J[T+0],M=J[T+7]-J[T+1],O=Math.round(Math.sqrt(N*N+M*M)/e),F=v&&T==m-8?O+1:O;
for(var W=0;W<F;W++){var f=W/O,$=1-f,H=$*$*$*J[T+0]+3*$*$*f*J[T+2]+3*$*f*f*J[T+4]+f*f*f*J[T+6],A=$*$*$*J[T+1]+3*$*$*f*J[T+3]+3*$*f*f*J[T+5]+f*f*f*J[T+7];
L.push(H,A);if(T+W!=0){var N=H-o,M=A-u;Z.push(Z[Z.length-1]+Math.sqrt(N*N+M*M));p.push((T>>>3)+f)}o=H;
u=A}}var e=Z.length,G=Z[e-1],l=em.QB(x[0]%d,p),K=em.QB(x[1]%d,p),U=Z[l%e],z=Z[K%e];if(U>=z)z+=G;return[L,p,Z,G,U,z]};
em.QB=function(h,e){var T=0;while(e[T]<h)T++;return T};em.aok=function(h,e){var v=0,T=0,J,m,d;while(v<e){J=h[T+2]-h[T];
m=h[T+3]-h[T+1];d=Math.sqrt(J*J+m*m);v+=d;T+=2}return[h[T],h[T+1],J/d,m/d]};em.prototype.a95=function(h){return this.zI[h]};
em.prototype.afD=function(h){for(var e=0;e<this.UZ.length;e++){var v=this.UZ[e];for(var J=0;J<v.zo.length;
J++){var m=v.zo[J],d=v.Dq[m.start].start,x=v.Dq[m.end-1].end;if(d<h&&h<x)return[d,x-1]}}return[0,1]};
em.prototype.ahf=function(h,e){var v=-1,J=this.UZ;if(this.R4==2){var m=1e9,d=0,x=J[0],j=x.zo[0];for(var E=j.start;
E<j.end;E++){var L=x.Dq[E];for(var p=L.n1;p<=L.xP;p++){var Z=x.oV[p],o=Z.e3.q,u=h.x-Z.R8.x,N=h.y-Z.R8.y,M=u*u+N*N;
if(M<m){m=M;d=Z.cH}}}if(d!=0&&this.a1E.codePointAt(d-1)>65535)d--;return d}for(var O=0;O<J.length;O++){var x=J[O];
for(var F=0;F<x.zo.length;F++){v++;var j=x.zo[F],W=x.zo[F+1];if(W==null&&O<J.length-1)W=J[O+1].zo[0];
if(e!=null){if(v!=e)continue}else{if(W!=null&&x.R8.y+j.R8.y<h.y)continue}for(var E=j.start;E<j.end;E++){var L=x.Dq[E];
for(var p=L.n1;p<=L.xP;p++){var Z=x.oV[p],o=Z.e3.q,f=x.R8.x+j.R8.x+L.R8.x,$=f+Z.R8.x,H=f+(p<L.xP?x.oV[p+1].R8.x:Z.R8.x+o);
if(h.x<=H||E+1==j.end&&p==L.xP){var A=x.ayK+Z.cH,G=this.zI[A],l=G.Fj&1;if(G.sO!="\n"&&(l==0&&h.x>$+o/2||l==1&&h.x<$+o/2))A+=this.a1E.codePointAt(A)>65535?2:1;
return A}}}}}};em.prototype.Mq=function(h){var e={e3:new fP,xZ:0},v=0;for(var J=0;J<this.UZ.length;J++){var m=this.UZ[J];
for(var d=0;d<m.zo.length;d++){var x=m.zo[d];e.xZ=v;v++;for(var j=x.start;j<x.end;j++){var E=m.Dq[j];
for(var L=E.start;L<E.end;L++){if(L==h){var p=this.zI[L],Z=p.wI,o=m.oV[Z].cH,u=1;while(m.oV[Z]!=null&&m.oV[Z].cH==o){var N=m.oV[Z],M=m.R8.x+x.R8.x+E.R8.x+N.R8.x,O=m.R8.y+x.R8.y+E.R8.y+N.R8.y;
e.e3=e.e3.R$(new fP(M,O-p.lineHeight,N.e3.q,p.lineHeight));e.dW=N.dW;Z+=u}return e}}}}}};em.prototype.V0=function(){var h=Infinity,e=Infinity,v=-Infinity,J=-Infinity;
for(var T=0;T<this.UZ.length;T++){var m=this.UZ[T];for(var d=0;d<m.zo.length;d++){var x=m.zo[d];if(!x.s$)break;
for(var j=x.start;j<x.end;j++){var E=m.Dq[j];for(var L=E.n1;L<=E.xP;L++){var p=m.oV[L],Z=p.e3,o=m.R8.x+x.R8.x+E.R8.x+p.R8.x,u=m.R8.y+x.R8.y+E.R8.y+p.R8.y;
h=Math.min(h,o+Z.x);e=Math.min(e,u+Z.y);v=Math.max(v,o+Z.x+Z.q);J=Math.max(J,u+Z.y+Z._)}}}}return new fP(h,e,v-h,J-e)};
em.wj=function(h){return 19968<=h&&h<=40959||12288<=h&&h<=12543};em.Xl=function(h,e,v,J,m,d,x){var j=[d],E=0;
for(var T=d;T<x;T++){if(v[T]==null)console.log(T,d,x,v);var L=v[T].sO,p=L.charCodeAt(0);if(p==32||p==9){j.push(E,T,1,T+1);
E=0}else if(p==3851){j.push(E+1,T+1);E=0}else if(em.wj(p)){j.push(E,T);E=1}else if(T!=d&&v[T].Fj!=v[T-1].Fj){j.push(E,T);
E=1}else E++}j.push(E);var Z=[];for(var T=0;T<j.length;T+=2){var o=j[T],u=j[T+1];if(u==0)continue;Z.push(new em.a5L(h,e,v,J,m,o,u))}return Z};
em.aym=function(h,e,v,J,m,d,x){var j=[0,e?e.q:1e9],E=[];if(J){var L=h[d].Z9,p=m+(m==0?L:h[d].lineHeight),Z=p-L*.9,o=B.w.a3U(J[0],Z),u=o.length,N=B.w.a3U(J[0],p),M=N.length;
if(u!=0&&M!=0){var O=0,F=0,W=[];while(O<u&&F<M){var f=Math.max(o[O],N[F]),$=o[O+1],H=N[F+1],A=Math.min($,H);
if(f<A)W.push(f,A);if($<H)O+=2;else F+=2}if(W.length!=0)j=W}}for(var G=0;G<j.length;G+=2){var l=0,K=d,U=e?j[G+1]-j[G]-v.StartIndent-v.EndIndent-(d==0?v.FirstLineIndent:0):Infinity;
while(d!=h.length){var z=h[d],q=l==0||(z.t3||z.Ny)||l+z.e3.q<U;if(!q)break;l+=z.e3.q;d++}E.push(d-K)}x[0]=E;
x[1]=j;x[2]=d};em.a8W=function(h,e){var v=h.length,J=new Uint32Array(v),m=new Uint8Array(v),d=0;for(var T=0;
T<v;T++){m[T]=0;var x=h.charCodeAt(T);J[T]=x;if(x>d)d=x}if(d>1424)m=em.aGW(J,e);return m};em.a27=function(h){return h=="ß"?h:h.toUpperCase()};
em.$M=function(h,e,v,J,m,d,x){this.Dq=[];this.zo=[];this.R8=new fq(0,0);this.oV=null;this.Dq=null;this.CN=fr.anO(h,J);
var j=this.CN,Z=0,N="",H=0,A=1,R=0;if(J!=0){var E=j.SpaceBefore;if(E!=null)d[0]+=E}var L=h.EngineDict.ParagraphRun.RunLengthArray,p=L[J];
for(var T=0;T<J;T++)Z+=L[T];var o=j._Direction?j._Direction:0;this.ayK=Z;var u=fr.X3(h).slice(Z,Z+p);
for(var M=0;M<u.length;M++){var O=v[Z+M],F=O.CN.FontCaps,W=u.charAt(M);if(F==0)N+=W;if(F==1)N+=O.MD?em.a27(W):W;
if(F==2)N+=em.a27(W)}u=N;var f=em.a8W(u,o),$=[],G=f[0]&1,l=v[Z].rQ;v[Z].Fj=f[0];for(var T=1;T<u.length;
T++){var W=v[Z+T],K=f[T];W.Fj=K;if(K!=G||W.rQ!=l){$.push(H,A);H=T;A=1;G=K;l=W.rQ}else A++}$.push(H,A);
var U=this.oV=[];for(var T=0;T<$.length;T+=2){var z=$[T],q=$[T+1],P=(v[Z+z].Fj&1)==0,g=u.slice(z,z+q),a=[],I=0;
for(var M=0;M<q;M++){var w=v[Z+z+M].CN,y=[];a.push(y);for(var S=0;S<8;S++)y.push(w[fr.Ok[S]]?1:0);y.push(w.FontCaps==1?1:0)}a=em.a3X(a);
var i=Typr.U.shapeHB(v[Z+z].rQ,g,P,a),C=[];for(var M=0;M<i.length;M++){var Y=i[M];C.push({i:Y.g,cH:Y.cl,oU:Y.ax,dG:Y.ay,Sv:Y.dx,wr:Y.dy})}i=C;
var _=i.slice(0);if(!P)_.reverse();for(var M=0;M<g.length;M++){while(I+1<_.length&&_[I+1].cH<=M){I++}while(I>0&&_[I-1].cH==M)I--;
v[Z+z+M].wI=U.length+(P?I:_.length-I-1)}for(var M=0;M<i.length;M++){U.push(i[M]);i[M].cH+=z;var W=v[Z+i[M].cH];
if(W.B5!=-1&&W.B5<W.rQ.maxp.numGlyphs){i[M].i=W.B5;var r=W.rQ.hmtx;if(r){var n=Object.keys(r)[0];i[M].oU=r[n][W.B5]}}if(W.sO=="\n")i[M].oU=0;
if(W.sO=="\t")i[M].oU=W.rQ.head.unitsPerEm*36/W.CN.FontSize}}var Q=fr.fl(j),D=this.Dq=em.Xl(h,e,v,Z,U,Z,Z+p),dG=this.zo,X=-1,N=[null,null,0];
while(R<D.length){em.aym(D,m,j,x,d[0],R,N);X++;var dx={start:R,end:0,e3:new fP,R8:new fq(0,0),s$:!0},eK=0,ee=0;
dG.push(dx);dx.end=N[2];if(dx.start==dx.end)throw"e";var jv=dx.end==D.length;function gB(_,z,al){var kl=al-z>>>1;
for(var T=0;T<kl;T++){var b9=_[z+T];_[z+T]=_[al-1-T];_[al-1-T]=b9}}for(var hQ=1;hQ<5;hQ++){var ah=-1;
for(var T=dx.start;T<dx.end;T++){var K=v[D[T].start].Fj;if(ah==-1&&K>=hQ)ah=T;else if(ah!=-1&&K<hQ){gB(D,ah,T);
ah=-1}}var kG=dx.end;if(o==0&&D[kG-1].t3)kG--;if(ah!=-1)gB(D,ah,kG)}var iZ=N[0],bs=N[1],ah=R,ey=R;for(var jp=0;
jp<bs.length;jp+=2){var dt=m?bs[jp+1]-bs[jp]-j.StartIndent-j.EndIndent-(R==0?j.FirstLineIndent:0):Infinity,jN=0;
ah=ey;ey+=iZ[jp>>>1];var jX=this.amw(ah,ey,D,o,m!=null);if(m){if(Q==1||jv&&Q==4)jN=jX[1]+(dt-jX[0]);
if(Q==2||jv&&Q==5)jN=jX[1]+(dt-jX[0])/2;if(ey-ah==1&&D[ah].e3.q>dt)jN=0;if(X==0)jN+=j.FirstLineIndent;
jN+=j.StartIndent}else{if(Q==0)jN=j.StartIndent+j.FirstLineIndent;if(Q==1)jN=-jX[0]-j.EndIndent;if(Q==2)jN=-jX[0]/2}jN+=bs[jp];
if(m&&Q>2&&(Q==6||!jv))this.amU(ah,ey,D,dt,o,jN);else{var jw=jN;for(var T=ah;T<ey;T++){var i7=D[T],kn=i7.e3.q;
i7.R8.x=jw;if(i7.De=="\t")kn=Math.ceil((jw+4)/36)*36-jw;jw+=kn}}}R=dx.end;for(var T=dx.start;T<dx.end;
T++){var az=D[T].e3.O();az.a8x(D[T].R8);dx.e3=dx.e3.R$(az);eK=Math.max(eK,D[T].Z9);ee=Math.max(ee,D[T].lineHeight)}dx.R8.y=X==0?0:dG[X-1].R8.y+ee;
if(X==0){if(J==0&&m)d[0]+=eK;if(J!=0)d[0]+=ee;this.R8.y=d[0]}else d[0]+=ee;if(m)dx.s$=this.R8.y+dx.R8.y<m.y+m._||J==0&&X==0}var k7=j.SpaceAfter;
if(k7!=null)d[0]+=k7};em.$M.prototype.amw=function(h,e,v,J,m){var d=0,x=0;for(var T=h;T<e;T++)d+=v[T].e3.q;
if(m){if(J==0)for(var T=e-1;T>=h;T--)if(v[T].t3||v[T].Ny)d-=v[T].e3.q;else break;if(J==1)for(var T=h;
T<e;T++)if(v[T].t3||v[T].Ny){var j=v[T].e3.q;d-=j;x-=j}else break}return[d,x]};em.$M.prototype.amU=function(h,e,v,J,m,d){var x=0,j=0,E=0,L=0;
for(var T=h;T<e;T++)if(v[T].t3)E++;else{x+=v[T].e3.q;j++}if(m==0)for(var T=e-1;T>=h;T--)if(v[T].t3||v[T].Ny){if(v[T].t3){E--}}else break;
if(m==1)for(var T=h;T<e;T++)if(v[T].t3||v[T].Ny){if(v[T].t3){E--;L++}}else break;if(j<=1||E==0){if(j==1)v[h].R8.x=d;
return}var p=(J-x)/E,Z=-L*p;for(var T=h;T<e;T++){if(v[T].t3)this.oV[v[T].n1].e3.q=v[T].e3.q=p;v[T].R8.x=d+Z;
Z+=v[T].e3.q}};em.a5L=function(h,e,v,J,m,d,x){this.De="";for(var T=0;T<x;T++)this.De+=v[d+T].sO;this.t3=x==1&&(v[d].sO==" "||v[d].sO=="\t");
this.Ny=x==1&&v[d].sO=="\n";this.start=d;this.end=d+x;this.e3=new fP;this.R8=new fq(0,0);this.Z9=0;this.lineHeight=0;
var j=0,E=0;if(x==0){this.lineHeight=v[d].lineHeight;this.Z9=v[d].Z9;this.e3=new fP(0,-v[d].lineHeight,0,v[d].lineHeight)}var L=v[d].wI,p=v[d+x-1].wI;
if(p<L){var Z=L;L=p;p=Z}while(p+1<m.length&&m[p].cH==m[p+1].cH){p++}this.n1=L;this.xP=p;for(var o=L;
o<=p;o++){var u=m[o],N=v[J+u.cH],M=h._LineOrientation==2&&(N.CN.BaselineDirection!=2||em.wj(N.sO.charCodeAt(0))),O=Typr.U.glyphToPath(N.rQ,u.i),H=0;
u.path={WQ:O.cmds,g:O.crds};var F=N.CN.FontSize,W=1/N.rQ.head.unitsPerEm*F;if(!N.CN.AutoKerning)j+=N.CN.Kerning*2*W*N.scale.x;
u.R8=new fq(j,0);u.dW=0;if(M&&u.path.g.length>0){u.dW=-Math.PI/2;u.R8.x+=F*.83;u.R8.y=-F*.3+u.oU*W/2;
u.oU=F/W}var f=u.oU*W*N.scale.x;u.e3=new fP(0,-N.lineHeight,f,N.lineHeight);var $=u.e3.O();$.a8x(u.R8);
if(N.CN.Tracking!=null)H=N.CN.Tracking*.001*F;if(N.CN.FauxBold==!0)H+=.027*F;j+=f+H;if(o<m.length-2)u.e3.q+=H;
if(x==1&&N.sO==" "){$.q+=2*H;u.R8.x+=H}else if(x==1&&N.sO!=null&&em.wj(N.sO.charCodeAt(0)))$.q+=H;this.e3=this.e3.R$($);
this.Z9=Math.max(this.Z9,N.Z9);this.lineHeight=Math.max(this.lineHeight,N.lineHeight)}};em.m_=0;em.aHY=function(h){if(em.m_==2)return!0;
if(em.m_==1)return!1;em.m_=1;function e(){fetch(cU.Hk("code/ext/fribidi.wasm")).then(function(v){return v.arrayBuffer()}).then(function(v){return WebAssembly.instantiate(v)}).then(function(v){var J=v.instance.exports,m=J.memory,d=16,x=256,j=1,E=d|x,L=d|x|j;
em.aGW=function(Z,o){var u=Z.length,N=u*4+4+u*4+u*4+u;gI.do(J,N+u+1e7);var M=new Uint8Array(m.buffer),O=new Uint32Array(m.buffer),F=J.calloc(N,1),W=F+u*4,f=W+4,$=f+u*4,H=$+u*4;
O.set(Z,F>>>2);O[W>>>2]=o==0?E:L;J.fribidi_get_bidi_types(F,u,f);J.fribidi_get_bracket_types(F,u,f,$);
J.fribidi_get_par_embedding_levels_ex(f,$,u,W,H);var A=M.slice(H,H+u);J.free(F);return A};em.m_=2;var p=new g3(k.E.u,!0);
p.data={V:k.l.Gi,N2:"add",m0:dq.Na,mM:null};if(h)h.a(p)})}Typr.U.initHB(cU.Hk("code/ext/hb.wasm"),e);
return!1};em.a3X=function(h){var e=[],v=h.length,J=fr.afT;for(var m=0;m<9;m++){var d=J[m],j=null;if(d==null)continue;
var x=-1;for(var T=0;T<v;T++){var E=h[T][m];if(E!=x){if(j)j[3]=T;j=[d,E,T,T+1];e.push(j);x=E}}j[3]=v}return e};
function fr(){}fr.LC=function(h,e){for(var v in e)h[v]=e[v]};fr.Ok="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
fr.bH=[18,20,19,25,28,26,24,23];fr.ag0="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
fr.afT="liga calt dlig swsh salt titl ordn frac smcp".split(" ");fr.YI=function(h,e,v,J){var m=fr.a1F();
if(v)fr.UE(m,0,0,v);var d=new aJ;if(J!=null)d.rotate(J);d.translate(Math.round(h),Math.round(e));var x={C:d,lf:m};
x.fB=fr.aqB();x.a5=B.aI.U();x.dP=new fP;return x};fr.axl=function(h){var e=["CharacterDirection",0];
for(var T=0;T<e.length;T+=2){if(h[e[T]]!=null&&h[e[T]]!=e[T+1]){throw"e";console.log(e[T],h[e[T]])}}if(h instanceof Array)for(var T=0;
T<h.length;T++)fr.axl(h[T]);else if(h instanceof Object)for(var v in h)fr.axl(h[v])};fr.fl=function(h,e){if(e==null)e=h.Justification;
var v=h._Direction?h._Direction:0;if(v==1){if(e==0||e==3)e++;else if(e==1||e==4)e--}return e};fr.dd=function(h){if(h.add==null)return;
var e=h.lf,v=e.Curve,J=h.add.vmsk,m=J.z,d=B.w._i(m,2).g,x=h.C.O();x.ia();B.w.C(d,x,d);var j=d.slice(0,8);
for(var E=8;E<d.length;E+=6)j.push(d[E-2],d[E-1],d[E],d[E+1],d[E+2],d[E+3],d[E+4],d[E+5]);v.Points=j;
v.TextOnPathTRange=J.sf.slice(0);v.Reversed=J.WM;if(fr.tO(e)==1){var v=em.sx(e.Curve),L=B.w.oS(v[0]);
fr.Uv(e,[0,0,L.q,L._].map(Math.round));for(var T=0;T<j.length;T+=2){j[T]-=L.x;j[T+1]-=L.y}var p=new aJ(1,0,0,1,L.x,L.y);
p.concat(h.C);h.C=p}};fr.BA=function(h){if(h.add==null)return;var e=h.add.vmsk,v=h.lf.Curve,J=v.Points,m={WQ:["M"],g:[J[0],J[1]]};
for(var T=0;T<J.length;T+=8){m.WQ.push("C");m.g.push(J[T+2],J[T+3],J[T+4],J[T+5],J[T+6],J[T+7])}B.w.C(m.g,h.C,m.g);
var d=B.w.GJ(m,!0);e.z=d;e.WM=v.Reversed;e.sf=v.TextOnPathTRange.slice(0);h.add.vogk=s.d6(d)};fr.SL=function(h){var e={n:0,i:0,b:0};
if(h){var v=h.Values;if(h.Type==1)e={n:v[1]*255,i:v[2]*255,b:v[3]*255};else if(h.Type==2){var J={classID:"CMYC",Cyn:{t:"doub",v:v[1]*100},Mgnt:{t:"doub",v:v[2]*100},Ylw:{t:"doub",v:v[3]*100},Blck:{t:"doub",v:v[4]*100}};
e=B.Vh.SL(J)}else console.log("Unknown color type")}return e};fr.aBI=function(h){for(var T=0;T<h.length;
T++){var e=h[T].StyleSheet.StyleSheetData,v=e.FillColor;if(v&&v.Type==2){var J=fr.SL(v);v.Type=1;v.Values=[1,J.n/255,J.i/255,J.b/255]}}};
fr.YO=function(h,e){var v;if(fr.tO(h.lf)==1){var J=fr.hi(h.lf);v=new fP(0,0,J[2]-J[0],J[3]-J[1])}else{v=e.V0();
if(e.Sq){var m=e.Sq.O(),d=B.w.Tp(v);B.w.C(d.g,m,d.g);v=B.w.oS(d.g)}}return v};fr.Eh=function(h){var e=h[0];
for(var T=0;T<h.length;T++)e=fr.a4R(e,h[T]);return e};fr.a4R=function(h,e){var v={};for(var J in h)if(JSON.stringify(h[J])==JSON.stringify(e[J]))v[J]=h[J];
return v};fr.wm=function(h,e){var v=h.k0,J=-1;for(var T=0;T<v.length;T++)if(v[T].Name==e)J=T;if(J==-1){J=v.length;
v.push({FontType:1,Name:e,Script:0,Synthetic:0})}h.zI.Font=J};fr.X3=function(h){return h.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
fr.lP=function(h,e){h.EngineDict.Editor.Text=e.replace(/\n/g,"\r")};fr.tO=function(h){return h.Curve&&h.Curve.TextOnPathTRange[0]>=0?2:h.EngineDict.Rendered.Shapes.Children[0].ShapeType};
fr.Ii=function(h,e){var v=h.EngineDict.Rendered.Shapes.Children[0];v.ShapeType=e;var J=v.Cookie.Photoshop;
J.ShapeType=e;J.Base.ShapeType=e;if(e==0){delete J.BoxBounds;J.PointBase=[0,0]}if(e==1){delete J.PointBase;
J.BoxBounds=[0,0,1,1]}};fr.hi=function(h){return h.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
fr.Uv=function(h,e){h.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=e};fr.ajt=function(h,e){var v=h.EngineDict.AlternateGlyphRun;
if(v==null)return-1;var J=fr.uR(v.RunLengthArray,e).N4;if(v.RunArray[J]==null)return-1;var m=v.RunArray[J].Glyph;
return m==null?-1:m};fr.a3N=function(h,e,v){var J=h.EngineDict.AlternateGlyphRun;if(J==null){J=h.EngineDict.AlternateGlyphRun=fr.aCx();
J.RunArray.push({});J.RunLengthArray.push(fr.X3(h).length)}var m=fr.uR(J.RunLengthArray,e),d=m.N4,x=e-m.Pg,j=J.RunArray[d],E=JSON.stringify(j),L=J.RunLengthArray[d];
if(x!=0){J.RunArray.splice(d,0,JSON.parse(E));J.RunLengthArray.splice(d,0,x);J.RunLengthArray[d+1]-=x;
d++;L-=x;x=0}if(L!=1){J.RunArray.splice(d+1,0,JSON.parse(E));J.RunLengthArray.splice(d+1,0,L-1);J.RunLengthArray[d]=1;
L=1}j.Glyph=v};fr.aaM=function(h,e){var v=h.EngineDict.StyleRun.RunLengthArray;return fr.uR(v,e).N4};
fr.ahr=function(h,e){var v=h.ResourceDict.StyleSheetSet[0].StyleSheetData,J={};for(var m in v)J[m]=v[m];
var d=h.EngineDict.StyleRun.RunArray[e].StyleSheet.StyleSheetData;fr.LC(J,d);return J};fr.a11=function(h,e){var v=h.EngineDict.ParagraphRun.RunLengthArray;
return fr.uR(v,e).N4};fr.anO=function(h,e){var v=h.ResourceDict.ParagraphSheetSet[0].Properties,J={};
for(var m in v)J[m]=v[m];var d=h.EngineDict.ParagraphRun.RunArray[e].ParagraphSheet.Properties;fr.LC(J,d);
var x=["StartIndent","EndIndent","FirstLineIndent"];for(var T=0;T<3;T++)if(J[x[T]]==null)J[x[T]]=0;return J};
fr.hj=function(h,e,v){if(v=="")return;var J=fr.X3(h);fr.lP(h,J.substring(0,e)+v+J.substring(e,J.length));
var m=h.EngineDict.StyleRun,d=m.RunLengthArray,x=fr.uR(d,e-1);d[x.N4]+=v.length;var j=h.EngineDict.AlternateGlyphRun;
if(j){var d=j.RunLengthArray,x=fr.uR(d,e-1);d[x.N4]+=v.length}var E=h.EngineDict.ParagraphRun,d=E.RunLengthArray,L=fr.uR(d,e),p=v.split("\n");
if(p.length==1){d[L.N4]+=v.length;return}d.splice(L.N4+1,0,d[L.N4]-(e-L.Pg));E.RunArray.splice(L.N4+1,0,B.t(E.RunArray[L.N4]));
d[L.N4]-=d[L.N4+1];d[L.N4]+=p[0].length+1;for(var T=1;T<p.length-1;T++){E.RunArray.splice(L.N4+T,0,B.t(E.RunArray[L.N4+T-1]));
E.RunLengthArray.splice(L.N4+T,0,p[T].length+1)}d[L.N4+p.length-1]+=p[p.length-1].length};fr.ED=function(h,e,v){var J=fr.X3(h);
fr.lP(h,J.substring(0,e)+J.substring(v,J.length));fr.ln(h.EngineDict.ParagraphRun,e,v,!0);fr.ln(h.EngineDict.StyleRun,e,v,!1);
var m=h.EngineDict.AlternateGlyphRun;if(m)fr.ln(m,e,v,!1)};fr.ln=function(h,e,v,J){var m=h.RunLengthArray,d=fr.uR(m,e),x=fr.uR(m,v),j=[];
for(var T=0;T<m.length;T++)for(var E=0;E<m[T];E++)j.push(T);j.splice(e,v-e);var L=[];for(var T=0;T<m.length;
T++)L.push(0);for(var T=0;T<j.length;T++)L[j[T]]++;for(var T=0;T<m.length;T++){if(L[T]==0){L.splice(T,1);
m.splice(T,1);h.RunArray.splice(T,1);T--}else if(L[T]<m[T])m[T]=L[T]}if(J&&d.N4!=x.N4&&d.Pg!=e){m[d.N4]+=m[d.N4+1];
m.splice(d.N4+1,1);h.RunArray.splice(d.N4+1,1)}};fr.UE=function(h,e,v,J){var m=h.EngineDict.Editor.Text.length;
if(v==m-2)v++;if(J.zI.Font!=null)h.ResourceDict.FontSet=J.k0.slice(0);if(e<=v)fr.a3M(h.EngineDict.StyleRun,J.zI,e,v,!0);
fr.a3M(h.EngineDict.ParagraphRun,J.UZ,e,v,!1)};fr.aX=function(h,e,v){var J={k0:h.ResourceDict.FontSet.slice(0),zI:[],UZ:[]},m=h.EngineDict.StyleRun.RunLengthArray,d=fr.uR(m,e).N4,x=fr.uR(m,v).N4;
for(var T=d;T<=x;T++){var j=B.t(h.ResourceDict.StyleSheetSet[0].StyleSheetData),E=h.EngineDict.StyleRun.RunArray;
if(E.length==0)continue;var L=E[T].StyleSheet.StyleSheetData;fr.LC(j,L);J.zI.push(j)}var p=h.EngineDict.ParagraphRun.RunLengthArray,Z=fr.uR(p,e).N4,o=fr.uR(p,v).N4;
for(var T=Z;T<=o;T++){var u=h.EngineDict.ParagraphRun.RunArray;if(u.length==0)continue;J.UZ.push(B.t(u[T].ParagraphSheet.Properties))}J.zI=J.zI.length==0?{}:fr.Eh(J.zI);
J.UZ=J.UZ.length==0?{}:fr.Eh(J.UZ);return J};fr.a3M=function(h,e,v,J,m){var d=h.RunLengthArray;if(m){var x=fr.uR(d,v);
if(x.Pg!=v){var j=d[x.N4];d.splice(x.N4,0,v-x.Pg);d[x.N4+1]=j-d[x.N4];h.RunArray.splice(x.N4+1,0,B.t(h.RunArray[x.N4]))}var E=fr.uR(d,J);
if(E.Pg+d[E.N4]-1!=J){var j=d[E.N4];d.splice(E.N4,0,J-E.Pg+1);d[E.N4+1]=j-d[E.N4];h.RunArray.splice(E.N4+1,0,B.t(h.RunArray[E.N4]))}}var x=fr.uR(d,v),E=fr.uR(d,J);
if(m)for(var T=x.N4;T<=E.N4;T++)fr.LC(h.RunArray[T].StyleSheet.StyleSheetData,e);else for(var T=x.N4;
T<=E.N4;T++)fr.LC(h.RunArray[T].ParagraphSheet.Properties,e)};fr.axs=function(h,e,v){var J=h.EngineDict.StyleRun.RunLengthArray,m=[],d=0;
for(var T=0;T<J.length;T++){var x=J[T];for(var j=0;j<x;j++)if(e<=d+j&&d+j<v)m.push(T);d+=x}var E=m[0],L=[];
for(var T=0;T<m.length;T++){var p=m[T]-E;if(p==L.length)L.push(0);L[p]++}return L};fr.apE=function(h){var e=h.EngineDict.StyleRun,v=e.RunArray,J=e.RunLengthArray;
for(var T=0;T<J.length-1;T++){var m=v[T].StyleSheet.StyleSheetData,d=v[T+1].StyleSheet.StyleSheetData;
if(JSON.stringify(m)==JSON.stringify(d)){v.splice(T+1,1);J[T]+=J[T+1];J.splice(T+1,1);T--}}};fr.lh=function(h){var e=h.fB.AntA.v.Annt;
e=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(e);if(e==-1)e=1;return e};fr.io=function(h,e){h.fB.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][e]};
fr.UI=function(h,e){var v,J;v=["FontSize","Leading","BaselineShift","OutlineWidth"];J=h.zI;for(var T=0;
T<v.length;T++)if(J[v[T]]!=null)J[v[T]]*=e;v=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
J=h.UZ;for(var T=0;T<v.length;T++)if(J[v[T]]!=null)J[v[T]]*=e};fr.aFV=function(){return fr.aX(B.t(fr.aH4),0,0)};
fr.aqB=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
fr.uR=function(h,e){var v=0,T=0;while(v+h[T]<=e){v+=h[T];T++}return{N4:T,Pg:v}};fr.a1F=function(){var h=B.t(this.aH4);
return h};fr.a60=function(h,e){var v=e.UZ};fr.amP=function(h,e){var v=e.zI,J;J=h.Undl;if(J&&J.v.Undl=="underlineOnLeftInVertical")v.Underline=!0;
J=h.syntheticItalic;if(J)v.FauxItalic=J.v};fr.al2={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
fr.aav={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
fr.aCx=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};fr.aH4={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:B.t(fr.al2)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:B.t(fr.al2)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:B.t(fr.aav)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var k6={};k6.amB=function(h){var e=k6.a96(h._0,h._1);k6.afw(e,h._0);return e};k6.awN=function(h,e,v){var J={};
J._98={_0:"i7"};J._0=k6.aC7(h,e,v?v._0:null);J._1=k6.a6J(h,e,J._0,v?v._1:null);return J};k6.aC7=function(h,e,v){var J={};
J._1=k6.aGz(h,v?v._1:null);J._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};J._3=B.t(k6.a0c);J._4=B.t(k6.acq);
J._5=k6.adB(h,J._1._0,v?v._5:null);J._6=k6.am7(h,v?v._6:null);J._8=k6.afV(h,e,v?v._8:null);J._9=k6.a2L;
return J};k6.afw=function(h,e){k6.aer(h,e._5,e._1._0)};k6.aGz=function(h,e){var v=[],J=[];for(var T=0;
T<h.length;T++){var m=h[T].ResourceDict.FontSet;for(var d=0;d<m.length;d++){var x=m[d];if(J.indexOf(x.Name)!=-1)continue;
v.push(x);J.push(x.Name)}}var j={_0:[]};for(var T=0;T<v.length;T++){var E=v[T],L={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+E.Name,_1:"i"+E.Script,_2:"i"+E.FontType}}};
if(E.Script==0)delete L._0._0._1;j._0.push(L)}return j};k6.adB=function(h,e,v){var J={_0:[],_1:[]},m={_0:B.t(k6.a06)};
k6.aom(m._0,h[0].ResourceDict.StyleSheetSet[0],e,h[0].ResourceDict.FontSet);J._0.push(m);J._1.push({_0:"i0"});
J._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});J._1.push({_0:"i1"});return J};k6.aer=function(h,e,v){var J=e._0[0];
for(var T=0;T<h.length;T++)k6.akW(J._0,h[T].ResourceDict.StyleSheetSet[0],v,h[T].ResourceDict.FontSet)};
k6.am7=function(h,e){var v={_0:[],_1:[]},J={_0:B.t(k6.b0)};k6.p8(J._0,h[0].ResourceDict.ParagraphSheetSet[0]);
v._0.push(J);v._1.push({_0:"i0"});J={_0:B.t(k6.b0)};k6.p8(J._0,h[0].ResourceDict.ParagraphSheetSet[0]);
J._0._0="sBasic Paragraph";J._0._6="i0";v._0.push(J);v._1.push({_0:"i1"});return v};k6.afV=function(h,e,v){var J={_0:[]};
for(var T=0;T<h.length;T++){var m=h[T].Curve,d={};J._0.push({_0:d});var x=fr.tO(h[T]);d._1={};d._2={};
d._2._0="i"+x;if(h[T]._LineOrientation==2)d._2._1="i2";if(x==0){delete d._1;d._2._6=["f-1","f-1"];d._2._11={_4:"i-1",_7:!1}}else if(x==1&&m==null){var j=fr.hi(h[T]),E=j[2],L=j[3];
d._1._0=k6.P$("f",[0,0,0,0,E,0,E,0,E,0,E,0,E,L,E,L,E,L,E,L,0,L,0,L,0,L,0,L,0,0,0,0]);d._2._6=["f-2","f-2"];
d._2._11={_4:"i-2",_7:!1}}else if(x==1){var j=fr.hi(h[T]),E=j[2],L=j[3];d._1._0=k6.P$("f",m.Points);
d._2._6=["f-3","f-3"];d._2._11={_4:"i-3",_7:!1}}else if(x==2){d._1._0=k6.P$("f",m.Points);d._2._6=k6.P$("f",m.TextOnPathTRange);
d._2._11={_0:m.Reversed,_3:"i0",_5:"f0",_7:!1}}}return J};k6.a6J=function(h,e,v,J){var m={};m._0=B.t(k6.anw);
m._1=k6.ayE(h,e,v,J?J._1:null);m._2=B.t(k6.a06._6);m._3=B.t(k6.b0._5);return m};k6.a96=function(h,e){return k6.auo(h,e._1)};
k6.ayE=function(h,e,v,J){var m=[],d=v._1._0;for(var T=0;T<h.length;T++){var x=h[T],j={_0:{}};m.push(j);
j._0._0="s"+x.EngineDict.Editor.Text;j._0._0=j._0._0;var E=j._0._5={_0:[]},L=x.EngineDict.ParagraphRun;
for(var p=0;p<L.RunArray.length;p++){var Z={_0:{}};E._0.push(Z);Z._0._0={_0:"s",_5:{},_6:"i1"};k6.p8(Z._0._0,L.RunArray[p].ParagraphSheet);
Z._1="i"+L.RunLengthArray[p]}var o=j._0._6={_0:[]};L=x.EngineDict.StyleRun;for(var p=0;p<L.RunArray.length;
p++){var u={_0:{}};o._0.push(u);u._0._0={_0:"s",_5:"i1",_6:{}};k6.aom(u._0._0,L.RunArray[p].StyleSheet,d,x.ResourceDict.FontSet);
u._1="i"+L.RunLengthArray[p]}L=x.EngineDict.AlternateGlyphRun;if(L){var N=j._0._9={_0:[]};for(var p=0;
p<L.RunArray.length;p++){var M={_0:{}};N._0.push(M);var O=L.RunArray[p];if(O.Glyph!=null){M._0._0={_0:"i"+O.Glyph,_1:"e"}}M._1="i"+L.RunLengthArray[p]}}j._0._10={_0:"i4",_2:!0};
j._1=k6.view.alE(x,null,T,null)}return m};k6.auo=function(h,e){var v=[],J=h._1._0;if(e)for(var T=0;T<e.length;
T++){var m=fr.a1F();v.push(m);var d=e[T];m.EngineDict.Editor.Text=d._0._0.slice(1);var x=m.EngineDict.ParagraphRun.RunArray[0],j=m.EngineDict.ParagraphRun,E=d._0._5;
if(E)for(var L=0;L<E._0.length;L++){var p=E._0[L];j.RunLengthArray[L]=parseInt(p._1.slice(1));j.RunArray[L]=B.t(x);
k6.a49(p._0._0,j.RunArray[L].ParagraphSheet)}else{j.RunLengthArray[0]=fr.X3(m).length}var Z=d._0._6;
j=m.EngineDict.StyleRun;if(Z)for(var L=0;L<Z._0.length;L++){var o=Z._0[L];j.RunLengthArray[L]=parseInt(o._1.slice(1));
j.RunArray[L]={StyleSheet:{StyleSheetData:{}}};k6.akW(o._0._0,j.RunArray[L].StyleSheet,J,m.ResourceDict.FontSet)}else{j.RunLengthArray[0]=fr.X3(m).length;
j.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return v};k6.aom=function(h,e,v,J,m){h._0="s"+(e.Name?e.Name:"");
var d=h._6,x=m?m._6:null,j=e.StyleSheetData;if(j.Font!=null){var E=J[j.Font].Name,L=-1;for(var T=0;T<v.length;
T++)if("s"+E==v[T]._0._0._0){L=T;break}d._0="i"+L}if(j.FontSize!=null)d._1="f"+j.FontSize;if(j.FauxBold!=null)d._2=j.FauxBold;
if(j.FauxItalic!=null)d._3=j.FauxItalic;if(j.AutoLeading!=null)d._4=j.AutoLeading;if(j.Leading!=null)d._5="f"+j.Leading;
if(j.HorizontalScale!=null)d._6="f"+j.HorizontalScale;if(j.VerticalScale!=null)d._7="f"+j.VerticalScale;
if(j.Tracking!=null)d._8="i"+j.Tracking;if(j.BaselineShift!=null)d._9="f"+j.BaselineShift;if(j.AutoKerning!=null)d._11="i"+(j.AutoKerning?1:0);
if(j.FontCaps!=null)d._12="i"+j.FontCaps;if(j.FontBaseline!=null)d._13="i"+j.FontBaseline;if(j.Strikethrough!=null)d._15="i"+(j.Strikethrough?1:0);
if(j.Underline!=null)d._16="i"+(j.Underline?2:0);if(j.Ligatures!=null)d._18=j.Ligatures;if(j.DLigatures!=null)d._19=j.DLigatures;
if(j.BaselineDirection!=null)d._35="i"+j.BaselineDirection;if(j.Language!=null)d._38="i"+j.Language;
if(j.FillColor!=null)d._53=k6.X4(j.FillColor);if(j.StrokeColor!=null)d._54=k6.X4(j.StrokeColor);if(j.FillFlag!=null)d._56=j.FillFlag;
if(j.StrokeFlag!=null)d._57=j.StrokeFlag;if(j.FillFirst!=null)d._58=j.FillFirst;if(j.OutlineWidth!=null)d._63="f"+j.OutlineWidth;
if(j._FillBackgroundColor!=null)d._79=k6.X4(j._FillBackgroundColor);if(j._FillBackgroundFlag!=null)d._80=j._FillBackgroundFlag;
if(j._LineCap!=null)d._61="i"+j._LineCap;if(j._LineJoin!=null)d._62="i"+j._LineJoin;if(j._MiterLimit!=null)d._64="f"+j._MiterLimit;
if(j._LineDashOffset!=null)d._65="f"+j._LineDashOffset;if(j._LineDashArray!=null)d._66=k6.P$("f",j._LineDashArray);
for(var T=0;T<8;T++)if(j[fr.Ok[T]]!=null)d["_"+fr.bH[T]]=j[fr.Ok[T]]};k6.X4=function(h){return{_99:"/SimplePaint",_0:{_0:"i1",_1:k6.P$("f",h.Values)}}};
k6.akW=function(h,e,v,J){var m=h._6;if(m==null)return;var d=e.StyleSheetData;if(m._0){var x=parseInt(m._0.slice(1)),j=v[x]._0._0._0.slice(1);
fr.wm({zI:d,k0:J},j)}if(m._1!=null)d.FontSize=parseFloat(m._1.slice(1));if(m._2!=null)d.FauxBold=m._2;
if(m._3!=null)d.FauxItalic=m._3;if(m._4!=null)d.AutoLeading=m._4;if(m._5!=null)d.Leading=parseFloat(m._5.slice(1));
if(m._6!=null)d.HorizontalScale=parseFloat(m._6.slice(1));if(m._7!=null)d.VerticalScale=parseFloat(m._7.slice(1));
if(m._8!=null)d.Tracking=parseFloat(m._8.slice(1));if(m._9!=null)d.BaselineShift=parseFloat(m._9.slice(1));
if(m._11!=null)d.AutoKerning=parseFloat(m._11.slice(1))==1;if(m._12!=null)d.FontCaps=parseFloat(m._12.slice(1));
if(m._13!=null)d.FontBaseline=parseFloat(m._13.slice(1));if(m._15!=null)d.Strikethrough=parseFloat(m._15.slice(1))==1;
if(m._16!=null)d.Underline=parseFloat(m._16.slice(1))==1;if(m._18!=null)d.Ligatures=m._18;if(m._19!=null)d.DLigatures=m._19;
if(m._35!=null)d.BaselineDirection=parseFloat(m._35.slice(1));if(m._38!=null)d.Language=parseFloat(m._38.slice(1));
if(m._53!=null)d.FillColor=k6.XJ(m._53);if(m._54!=null)d.StrokeColor=k6.XJ(m._54);if(m._56!=null)d.FillFlag=m._56;
if(m._57!=null)d.StrokeFlag=m._57;if(m._63!=null)d.OutlineWidth=parseFloat(m._63.slice(1));if(m._79!=null)d._FillBackgroundColor=k6.XJ(m._79);
if(m._80!=null)d._FillBackgroundFlag=m._80;if(m._61!=null)d._LineCap=parseFloat(m._61.slice(1));if(m._62!=null)d._LineJoin=parseFloat(m._62.slice(1));
if(m._64!=null)d._MiterLimit=parseFloat(m._64.slice(1));if(m._65!=null)d._LineDashOffset=parseFloat(m._65.slice(1));
if(m._66!=null)d._LineDashArray=k6.Yj(m._66);for(var T=0;T<8;T++)if(m["_"+fr.bH[T]]!=null)d[fr.Ok[T]]=m["_"+fr.bH[T]]};
k6.XJ=function(h){var e=h._0._0,v=[1,0,0,0],J=k6.Yj(h._0._1);if(e=="i0")v[1]=v[2]=v[3]=J[1];else if(e=="i1")v=J;
else if(e=="i2")v=[1].concat(UDOC.C.cmykToRgb(J.slice(1)));else console.log("unknown color type",e,J);
return{Type:1,Values:v}};k6.p8=function(h,e){h._0="s"+(e.Name?e.Name:"");var v=h._5,J=e.Properties;if(J.Justification!=null)v._0="i"+J.Justification;
if(J.FirstLineIndent!=null)v._1="f"+J.FirstLineIndent;if(J.StartIndent!=null)v._2="f"+J.StartIndent;
if(J.EndIndent!=null)v._3="f"+J.EndIndent;if(J.SpaceBefore!=null)v._4="f"+J.SpaceBefore;if(J.SpaceAfter!=null)v._5="f"+J.SpaceAfter;
if(J.AutoLeading!=null)v._7="f"+J.AutoLeading;if(J.AutoHyphenate!=null)v._9=J.AutoHyphenate;if(J._Direction!=null)v._33="i"+J._Direction;
if(J._ComposerEngine!=null)v._35="i"+J._ComposerEngine};k6.a49=function(h,e){var v=h._5;if(v==null)return;
var J=e.Properties;if(v._0)J.Justification=parseInt(v._0.slice(1))};k6.P$=function(h,e){var v=[];for(var T=0;
T<e.length;T++)v.push(h+e[T]);return v};k6.Yj=function(h){var e=[];for(var T=0;T<h.length;T++)e.push(parseFloat(h[T].slice(1)));
return e};k6.a0c={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
k6.acq={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
k6.a06={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
k6.b0={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
k6.a2L={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
k6.anw={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var au={};au.amv=function(h){return au.AT(h,au.xD,0)};au.aFB=function(h){return au.ao(h,au.xD)};au.AT=function(h,e,v){var J;
if(typeof h=="string")return h;if(h instanceof Array){J=[];for(var T=0;T<h.length;T++)J[T]=au.AT(h[T],e,v+1)}else{J={};
var m={};for(var d in e){var x=e[d],j="_"+x[0];if(h[j]!=null){J[d]=x[1]?au.AT(h[j],x[1],v+1):h[j];m[j]=!0}}for(var d in h){if(m[d]==null){if(d.length>3)continue;
console.log(e,m);console.log(d,h);throw"e"}}}return J};au.ao=function(h,e){var v;if(typeof h=="string")return h;
else if(h instanceof Array){v=[];for(var T=0;T<h.length;T++)v[T]=au.ao(h[T],e)}else{v={};var J={};for(var m in e){var d=e[m],x="_"+d[0];
if(h[m]!=null){v[x]=d[1]?au.ao(h[m],d[1]):h[m];J[m]=!0}}for(var m in h){if(J[m]==null){console.log(e,J);
console.log(m,h);throw"e"}}}return v};au.mP={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
au.s7={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,au.mP],_StrokeColor:[54,au.mP],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,au.mP],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
au.aEO={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,au.s7],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
au.aAI={_Name:[0],_Features:[5,au.aEO],_Parent:[6],_UUID:[97]};au.aAN={_Name:[0],_Parent:[5],_Features:[6,au.s7],_UUID:[97]};
au.xD={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,au.aAN]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,au.aAI]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,au.aAI]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,au.aAN]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,au.s7],_OriginalNormalParagraphFeatures:[3,au.aEO],_4:[4]}]};
k6.view={};k6.view.alE=function(h,e,v,J){var m={},d=fr.tO(h);m._0=[{_0:"i"+v}];return m};function CSS(){}CSS.a3j=function(h,e){var v=h.add,J=v.vmsk,m=v.vstk,d=v.lmfx,x=v.TySh,j=[],E=CSS.aB(d,v),L=h.S2/255*(h.add.iOpa!=null?h.add.iOpa/255:1);
if(L!=1)j.push("opacity: "+L.toFixed(3));if(h.Yb()&&J){var p=B.s.jd(J.z);if(!p.EG()){j.push("width: "+Math.round(p.q)+"px");
j.push("height: "+Math.round(p._)+"px")}var Z=B.s.awd(J.z);if(Z>0)j.push("border-radius: "+Math.round(Z)+"px")}else if(x){var o=x.lf;
if(fr.tO(o)==1){var p=fr.hi(o);j.push("width: "+Math.round(p[2])+"px");j.push("height: "+Math.round(p[3])+"px")}CSS.ahk(j,fr.aX(o,0,0),x.C,!1,!1,E[0])}CSS.a2K(e,d,j);
if(x==null)CSS.aH1(E,j);if(m==null||!m.strokeEnabled.v)m=d4.a1o(d);if(m&&m.strokeEnabled.v){var u=m.strokeStyleContent.v,N=u.classID,M=m.strokeStyleOpacity.v.val/100,O=m.strokeStyleLineWidth.v.val,F="";
if(N=="solidColorLayer")F=CSS.w1(u.Clr.v,M);j.push("border: "+O+"px solid "+F)}return j};CSS.a2K=function(h,e,v){if(e==null||!e.masterFXSwitch.v)return;
var J=e.dropShadowMulti.v.concat(e.innerShadowMulti.v);for(var T=0;T<J.length;T++){var m=J[T].v;if(m.enab.v){var d=m.classID=="IrSh",x=m.Dstn.v.val,j=m.lagl.v.val*Math.PI/180;
if(m.uglg&&m.uglg.v)j=h.J0()*Math.PI/180;var E=x*Math.cos(j),L=x*Math.sin(j),p=(E==0?"0 ":CSS.alY(-E)+"px ")+(L==0?"0 ":CSS.alY(L)+"px ")+m.blur.v.val/2+"px "+CSS.w1(m.Clr.v,m.Opct.v.val/100);
if(d)v.push("box-shadow: inset "+p);else v.push("filter: drop-shadow("+p+")")}}};CSS.aB=function(h,e){var v=d4.a1T(h,e),J=v[0],m=v[1],d,x;
if(J){d=CSS.w1(J.Clr.v,e.iOpa!=null?e.iOpa/255:1)}else if(m){x=CSS.$E(m)}return[d,x]};CSS.aH1=function(h,e){if(h[0])e.push("background-color: "+h[0]);
if(h[1])e.push("background-image: "+h[1])};CSS.hR={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.alY=function(iW){return""+parseFloat(iW.toFixed(3))};CSS.J3=function(h){if(h==null)return{n:0,i:0,b:0};
var e=h.indexOf("(");if(e!=-1){var v=h.slice(e+1,h.length-1).split(",");for(var T=0;T<v.length;T++){var J=v[T].trim();
v[T]=parseFloat(J)*(J.endsWith("%")?255/100:1)}if(h.startsWith("hsl")){var m=B.aP(v[0]/360,v[1]/255,v[2]/255);
m.n*=255;m.i*=255;m.b*=255;return m}return{n:v[0],i:v[1],b:v[2]}}if(h.charAt(0)!="#"){var d=CSS.hR;if(d[h])h=d[h];
else console.log("unknown color "+h)}h=h.slice(1);if(h.length==4)h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]+h[3]+h[3];
if(h.length==3)h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2];var x=-1;if(h.length==8){x=parseInt(h.slice(6),16);h=h.slice(0,6)}h=parseInt(h,16);
var j={n:h>>16&255,i:h>>8&255,b:h&255};if(x!=-1)j.DR=x;return j};CSS.w1=function(h,e){return CSS.Q8(B.Vh.SL(h),e)};
CSS.Q8=function(h,e){if(e==null)e=1;var v=Math.round(h.n),J=Math.round(h.i),m=Math.round(h.b),d=v<<16|J<<8|m;
return e==1?"#"+B.zF(d):"rgba("+v+","+J+","+m+","+e+")"};CSS.aCE=function(h,e){return CSS.Q8({n:h[0]*255,i:h[1]*255,b:h[2]*255},e)};
CSS.$E=function(h){var e=h.Grad.v;if(e.Clrs==null)return"";var v=e.Clrs.v.slice(0),J=e.Trns.v.slice(0),m=h.Ofst.v,d=h.Type.v.GrdT=="Rdl"?1:0,x=(d==1?"radial":"linear")+"-gradient",j=d==0?Math.round(-h.Angl.v.val+90)+"deg":"circle at center",E=h.Rvrs.v,L=B.Vh.alh(e,E);
for(var T=0;T<L.length;T++){var p=L[T],Z=p[1];j+=", "+CSS.Q8({n:Z[0]*255,i:Z[1]*255,b:Z[2]*255},p[2])+" "+Math.round(p[0]*100)+"%"}return x+"("+j+")"};
CSS.ahk=function(h,e,v,J,m,d){var x=e.zI,j=J?1:v.n$(),E=Math.round(x.FontSize*j);h.push("font-size: "+E+"px");
var L=x.Tracking;if(!J&&L!=null&&L!=0)h.push("letter-spacing: "+Math.round(L*E/1e3)+"px");if(!x.AutoLeading)h.push("line-height: "+Math.round(x.Leading*j)+"px");
if(x.Strikethrough)h.push("text-decoration: line-through");if(x.Underline)h.push("text-decoration: underline");
if(x.FontCaps==2)h.push("text-transform: uppercase");var p=fr.SL(x.FillColor);p=[p.n,p.i,p.b].map(Math.round);
h.push((J?"fill: ":"color: ")+(d?d:"#"+B.zF(p[0]<<16|p[1]<<8|p[2])));var Z=e.k0[x.Font].Name;if(Z){var o=j3.aF.xs(Z),u="",N=null,M=null;
if(o!=null&&Z!=j3.vy(o))o=null;if(m&&o)u+="\""+Z+"\", ";var O=Z.toLowerCase();if(o){N=j3.ahX(o)[0];if(o["OS/2"])M=o["OS/2"].usWeightClass}else{N=CSS.ajS(Z);
if(O.indexOf("light")!=-1)M=300;else if(O.indexOf("medium")!=-1)M=500;else if(O.indexOf("black")!=-1||O.indexOf("extrabold")!=-1)M=800;
else if(O.indexOf("bold")!=-1)M="bold"}if(N!=null)u+="\""+N+"\"";if(M!=null)h.push("font-weight: "+M);
if(O.indexOf("italic")!=-1||O.indexOf("oblique")!=-1)h.push("font-style: italic");if(u)h.push("font-family: "+u)}var F=e.UZ.Justification;
if(F!=null&&F!=0)if(J){}else h.push("text-align: "+["left","right","center"][F%3])};CSS.ajS=function(h){h=h.split("-")[0];
while(h.endsWith("MT")||h.endsWith("PS"))h=h.slice(0,h.length-2);var e=!0;for(var T=0;T<h.length;T++){var v=h.charAt(T);
if(!e&&v.toLowerCase()!=v){h=h.slice(0,T)+" "+h.slice(T);T++;e=!0}else e=!1}return h};function cZ(){}cZ.Ek={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
cZ.SE=function(h,e){var v=Date.now(),J=h.split("\n"),m;if(J.length==1)J=h.split("\r");for(var T=0;T<J.length;
T++)if(J[T].trim()[0]=="#"){J[T]=""}h=J.join("\n");try{m=acorn.parse(h)}catch(j3){console.log(j3);return}var d=B.t(cZ.Im.aQ);
d.__return=!1;d.__continue=!1;d.__break=!1;d.__throw=!1;d.__fs={};d.__window={};cZ.eval(m,e,d);var x=d.__fs;
if(Object.keys(x).length!=0){var j=UZIP.encode(x);ke.save(j,"output.zip")}};cZ.eval=function(h,e,v){var J=h.type;
if(!1){}else if(J=="Program"||J=="BlockStatement"){var m=h.body;for(var T=0;T<m.length;T++){var d=m[T].type;
if(d=="FunctionDeclaration")v[m[T].id.name]=m[T]}for(var T=0;T<m.length;T++){var d=m[T].type,x=cZ.eval(m[T],e,v);
if(v.__continue&&v.__pif==null){v.__continue=!1;return x}if(v.__return||v.__break||v.__throw)return x}}else if(J=="ReturnStatement"){v.__return=!0;
return h.argument?cZ.Sf(h.argument,e,v):null}else if(J=="BreakStatement"){v.__break=!0}else if(J=="ContinueStatement"){v.__continue=!0}else if(J=="VariableDeclaration"){var j=h.declarations;
for(var T=0;T<j.length;T++)cZ.eval(j[T],e,v)}else if(J=="VariableDeclarator"){v[h.id.name]=h.init?cZ.Sf(h.init,e,v):null}else if(J=="FunctionDeclaration"){v[h.id.name]=h}else if(J=="MemberExpression"){var E=cZ.Sf(h.object,e,v),x;
if(v.__throw)return;var L=h.computed?cZ.Sf(h.property,e,v):cZ.eval(h.property,e,v);if(E.Y!=null)x=cZ.Im.$o(E,L,e,v);
else if(E==window&&cZ.Ek[L]){}else x=E[L];return x}else if(J=="ArrayExpression"){var p=[],Z=h.elements;
for(var T=0;T<Z.length;T++)p.push(cZ.Sf(Z[T],e,v));return p}else if(J=="ObjectExpression"){var p={},Z=h.properties;
for(var T=0;T<Z.length;T++){var o=Z[T],u=Z[T].key.name?Z[T].key.name:Z[T].key.value;p[u]=cZ.Sf(Z[T].value,e,v)}return p}else if(J=="ExpressionStatement"){return cZ.eval(h.expression,e,v)}else if(J=="NewExpression"){var N=h.arguments,M=h.callee,O=M.type,F=M.name,W=[],p=null;
for(var T=0;T<N.length;T++)W.push(cZ.Sf(N[T],e,v));if(F=="Array")p=new window[F];else if(O=="Identifier")p=cZ.Im.aI7(F,W,e,v);
else throw"e";if(p==null)throw"new "+F;return p}else if(J=="CallExpression"){var N=h.arguments,M=h.callee,O=M.type,f={};
for(var $ in v)f[$]=v[$];var W=[];for(var T=0;T<N.length;T++)W.push(cZ.Sf(N[T],e,v));if(O=="Identifier"){var H=M.name,A=v[H];
if(A&&A.Y=="AppFunc"){H=A.pQ;A=null}if(A){if(A.params){var G=A.params;for(var T=0;T<G.length;T++)f[G[T].name]=W[T];
return cZ.eval(A.body,e,f)}else{return A.apply(null,W)}}else if(cZ.Im.aCi.indexOf(H)!=-1)return cZ.Im.qI({Y:"Application"},H,W,e,v);
else if(window[H]==null)console.log("Unknown function "+H);else if(cZ.Ek[H])alert(H+"() not available");
else{var l=window[H].apply(window,W);return l}}else if(O=="MemberExpression"){var E=cZ.Sf(M.object,e,v),L=M.computed?cZ.Sf(M.property,e,v):cZ.eval(M.property,e,v);
if(E==window&&cZ.Ek[L])return;if(E.Y!=null)return cZ.Im.qI(E,L,W,e,v);else if(L=="sort"&&E[0]&&E[0].Y=="Layer"){return E.sort(function(Q,D){return Q.J.getName()>D.J.getName()?1:-1})}else if(L=="toSource")return JSON.stringify(E);
else return E[L].apply(E,W)}else if(O=="FunctionExpression"){var K=cZ.eval(M.body,e,v);v.__return=!1;
return K}else console.log(h)}else if(J=="AssignmentExpression"){var U=h.operator,z=h.left,q=z.type,P=cZ.Sf(z,e,v),g=cZ.Sf(h.right,e,v),x=null;
if(!1){}else if(U=="=")x=g;else if(U=="+=")x=P+g;else if(U=="-=")x=P-g;else if(U=="*=")x=P*g;else if(U=="/=")x=P/g;
else if(U=="%=")x=P%g;else if(U=="&=")x=P&g;else if(U=="|=")x=P|g;else if(U=="&&=")x=P&&g;else if(U=="||=")x=P||g;
else console.log(h);if(q=="Identifier"){var a=z.name;if(v.hasOwnProperty(a))v[a]=x;else v.__window[a]=x}else if(q=="MemberExpression"){var w=cZ.eval(z.property,e,v),y=cZ.Sf(z.object,e,v);
if(y.Y!=null)cZ.Im.aBM(y,w,x,e,v);else y[w]=x}else console.log(h);return x}else if(J=="Identifier")return h.name;
else if(J=="Literal")return h.value;else if(J=="UpdateExpression"){var U=h.operator,S=h.argument.name,p=cZ.Sf(h.argument,e,v),i=v;
if(i[S]==null)i=v.__window;if(!1){}else if(U=="++"){i[S]++;return h.prefix?i[S]:i[S]-1}else if(U=="--"){i[S]--;
return h.prefix?i[S]:i[S]+1}else console.log(h)}else if(J=="UnaryExpression"){var U=h.operator,C=cZ.Sf(h.argument,e,v);
if(C&&C.Y=="UnitValue"){if(U=="-")return-C.J;else return cZ.aCg(C.J,U)}else return cZ.aCg(C,U)}else if(J=="BinaryExpression"||J=="LogicalExpression"){var U=h.operator,z=cZ.Sf(h.left,e,v);
if(J=="LogicalExpression"&&U=="&&"&&!z)return z;var C=cZ.Sf(h.right,e,v);if(z==null||C==null)return cZ.V6(z,C,U);
else if(z.Y=="UnitValue"&&C.Y=="UnitValue")return cZ.V6(z.J,C.J,U);else if(z.Y=="UnitValue")return cZ.V6(z.J,C,U);
else if(C.Y=="UnitValue"){if(U=="-")return-(z-C.J);else return cZ.V6(z,C.J,U)}else return cZ.V6(z,C,U)}else if(J=="IfStatement"){var Y=cZ.Sf(h.test,e,v),_=v.__pif,x=null;
v.__pif=!0;if(Y)x=cZ.eval(h.consequent,e,v);else if(h.alternate)x=cZ.eval(h.alternate,e,v);v.__pif=_;
return x}else if(J=="ConditionalExpression"){var Y=cZ.Sf(h.test,e,v);if(Y)return cZ.Sf(h.consequent,e,v);
else if(h.alternate)return cZ.Sf(h.alternate,e,v)}else if(J=="ForInStatement"){cZ.eval(h.left,e,v);var t=h.left.declarations[0].id.name,I=cZ.Sf(h.right,e,v);
for(var $ in I){v[t]=$;var r=cZ.eval(h.body,e,v);if(v.__break)break;if(v.__return)return r}v.__break=!1}else if(J=="ForStatement"){cZ.eval(h.init,e,v);
while(cZ.eval(h.test,e,v)){var r=cZ.eval(h.body,e,v);if(v.__break)break;if(v.__return)return r;cZ.eval(h.update,e,v)}v.__break=!1}else if(J=="WhileStatement"){while(cZ.eval(h.test,e,v)){var r=cZ.eval(h.body,e,v);
if(v.__break)break;if(v.__return)return r}v.__break=!1}else if(J=="DoWhileStatement"){do{var r=cZ.eval(h.body,e,v);
if(v.__break)break;if(v.__return)return r}while(cZ.eval(h.test,e,v));v.__break=!1}else if(J=="TryStatement"){cZ.eval(h.block,e,v);
if(v.__throw){var n=h.handler;v[n.param.name]=v.__throw;v.__throw=!1;cZ.eval(n.body,e,v);delete v[n.param.name]}}else if(J=="FunctionExpression"){return h}else if(J=="EmptyStatement"){}else console.log(h)};
cZ.V6=function(h,e,v){if(v=="+")return h+e;else if(v=="-")return h-e;else if(v=="*")return h*e;else if(v=="/")return h/e;
else if(v=="%")return h%e;else if(v=="^")return h^e;else if(v=="&")return h&e;else if(v=="&&")return h&&e;
else if(v=="|")return h|e;else if(v=="||")return h||e;else if(v=="<")return h<e;else if(v==">")return h>e;
else if(v=="=="){if(h!=null&&e!=null&&h.Y&&e.Y)return h.J==e.J;return h==e}else if(v=="===")return h===e;
else if(v=="<=")return h<=e;else if(v==">=")return h>=e;else if(v=="!=")return h!=e;else if(v=="!==")return h!==e;
else if(v=="<<")return h<<e;else if(v==">>")return h>>e;else console.log(v)};cZ.aCg=function(h,e){if(e=="-")return-h;
else if(e=="!")return!h;else if(e=="~")return~h;else if(e=="+")return h;else if(e=="typeof")return typeof h;
else console.log(e,h)};cZ.Sf=function(h,e,v){var J=h.type;if(J=="Identifier")return cZ.a5l(h.name,e,v);
else return cZ.eval(h,e,v)};cZ.a5l=function(h,e,v){if(h=="undefined")return undefined;else if(v.hasOwnProperty(h))return v[h];
else if(h=="app")return{Y:"Application"};else if(h=="Folder")return{Y:"Folder"};else if(h=="File")return{Y:"File"};
else if(h=="$")return{Y:"$"};else if(cZ.Im.ab7.indexOf(h)!=-1)return cZ.Im.$o({Y:"Application"},h,e,v);
else if(cZ.Im.aCi.indexOf(h)!=-1)return{Y:"AppFunc",pQ:h};else if(v.__window.hasOwnProperty(h))return v.__window[h];
else if(window[h]&&!cZ.Ek[h])return window[h];else{v[h]=null;return null}};cZ.Im={};cZ.Im.aI7=function(h,e,v,J){var m;
if(h=="PathPointInfo")m={Y:h,kind:0,Q:[],NA:[],Xb:[]};if(h=="SubPathInfo")m={Y:h,uu:0,yL:!1,J:[]};if(h=="SolidColor")m={Y:h,J:[1,0,0,0]};
if(h=="RGBColor")m={Y:h,J:[1,0,0,0]};if(h=="Window")m={Y:h,J:new cY(e[0],e[1],e[2])};if(h=="ExportOptionsSaveForWeb")m={Y:h,J:{v9:"png",rB:100}};
if(h=="PhotoshopSaveOptions")m={Y:h,J:{v9:"psd"}};if(h=="PNGSaveOptions")m={Y:h,J:{v9:"png",rB:100}};
if(h=="JPEGSaveOptions")m={Y:h,J:{v9:"jpg",rB:100}};if(h=="PDFSaveOptions")m={Y:h,J:{v9:"pdf",a3k:""}};
if(h=="File")m={Y:h,J:e[0]};if(h=="ActionReference")m={Y:h,J:{t:"obj ",v:[]}};if(h=="ActionDescriptor")m={Y:h,J:{t:"Objc",v:{classID:"null"}}};
if(h=="ActionList")m={Y:h,J:{t:"VlLs",v:[]}};if(h=="UnitValue")m={Y:h,J:e.length==0?0:parseFloat(e[0])};
return m};cZ.Im.ab7="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
cZ.Im.aCi="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
cZ.Im.$o=function(h,e,v,J){var m=v.H,d=v.LV();if(!1){}else if(e=="typename"){if(h.Y=="Layer")return h.J.XN()?"LayerSet":"ArtLayer";
else return h.Y}else if(["Document","Layer"].indexOf(h.Y)!=-1&&["layers","artLayers","layerSets"].indexOf(e)!=-1){var x=d;
if(h.Y=="Document")x=h.J;else x=h.T0;var j=x.root,E={Y:"Layers",a9_:e,J:[],T0:x};if(h.Y=="Layer")j=x.root.Ix(x.T.indexOf(h.J));
if(j.children==null)return null;for(var T=0;T<j.children.length;T++){var L=j.children[T].L,p=L.XN();
if(p&&e=="artLayers"||!p&&e=="layerSets")continue;E.J.push({Y:"Layer",J:L,T0:x})}E.J.reverse();return E}else if(h.Y=="Documents"||h.Y=="Layers"||h.Y=="HistoryStates"||h.Y=="LayerComps"||h.Y=="PathItems"||h.Y=="SubPathItems"||h.Y=="PathPoints"){if(!1){}else if(e=="length")return h.J.length;
else if(Number.isInteger(e))return h.J[e];else console.log(h.Y+": unknown property ",e)}else if(h.Y=="Application"){if(!1){}else if(e=="activeDocument")return{Y:"Document",J:v.LV()};
else if(e=="documents"){var E={Y:"Documents",J:[]};for(var T=0;T<v.qk.length;T++)E.J.push({Y:"Document",J:v.qk[T]});
return E}else if(e=="fonts")return{Y:"TextFonts"};else if(e=="preferences")return{Y:"Preferences"};else if(e=="displayDialogs")return{Y:"DialogModes"};
else if(e=="foregroundColor"||e=="backgroundColor"){var Z=e[0]=="f"?m.kc:m.kF;return{Y:"SolidColor",J:[1,(Z>>>16&255)/255,(Z>>>8&255)/255,(Z>>>0&255)/255]}}else if(e=="UI")return{Y:"UI"};
else if(e=="version")return 30;else console.log(h,e)}else if(h.Y=="Document"){var d=h.J;if(!1){}else if(e=="activeLayer"){var L=d.T[d.X[0]];
return{Y:"Layer",J:L,T0:d}}else if(e=="pixelAspectRatio")return 1;else if(e=="resolution")return d.gx;
else if(e=="width")return d.q;else if(e=="height")return d._;else if(e=="name")return d.name;else if(e=="saved")return!d.XQ();
else if(e=="selection")return{Y:"Selection"};else if(e=="activeHistoryState")return{Y:"HistoryState",yl:d.uM};
else if(e=="source")return d.L5;else if(e=="layerComps"){var o=d.bW.list.v,u=[];for(var T=0;T<o.length;
T++)u.push({Y:"LayerComp",J:T});return{Y:"LayerComps",J:u}}else if(e=="historyStates"){var N=[];for(var T=0;
T<d.history.length;T++)N.push({Y:"HistoryState",yl:T});return{Y:"HistoryStates",J:N}}else if(e=="mode")return 7;
else if(e=="colorSamplers"){var E={Y:"ColorSamplers",a9_:e,J:d.us.slice(0),T0:d};return E}else if(e=="pathItems"){var M=[],d=h.J,O=d.rx(),F=O[0],W=O[1];
for(var T=0;T<F.length;T++)M.push({Y:"PathItem",J:F[T]});return{Y:"PathItems",J:M}}else console.log(h,e)}else if(h.Y=="PathItem"){if(e=="subPathItems"){var f=h.J,$=f.add.vmsk.z,M=[];
for(var T=0;T<B.s.bJ($);T++){var H=B.s.n2($,T),A=$[H],G=$.slice(H+1,H+1+A.length);M.push({Y:"SubPathItem",uu:A.Jb,yL:A.c==0,J:s.eo.p3(G)})}return{Y:"SubPathItems",J:M}}else alert(e)}else if(h.Y=="SubPathItem"||h.Y=="SubPathInfo"){if(e=="pathPoints"||e=="entireSubPath"){var M=[];
for(var T=0;T<h.J.length;T++){var l=h.J[T];M.push({Y:"PathPointInfo",kind:l.c==1||l.c==4?1:0,Q:[l.Q.x,l.Q.y],NA:[l.NA.x,l.NA.y],Xb:[l.Xb.x,l.Xb.y]})}return{Y:"PathPoints",J:M}}else if(e=="operation")return h.uu;
else if(e=="closed")return h.yL;else throw e}else if(h.Y=="PathPointInfo"){if(e=="kind")return h.kind;
else if(e=="anchor")return h.Q;else if(e=="leftDirection")return h.NA;else if(e=="rightDirection")return h.Xb;
else throw e}else if(h.Y=="LayerComp"){if(e=="name")return d.bW.list.v[h.J].v.Nm.v;else throw e}else if(h.Y=="ColorSamplers"){if(Number.isInteger(e))return{Y:"ColorSampler",J:h.J[e]};
else if(e=="length")return d.us.length}else if(h.Y=="ColorSampler"){if(e=="color"){var Z=c.ct.hY(d,d.p.IK(h.J.x,h.J.y),1,2);
return{Y:"SolidColor",J:[1,(Z>>>16&255)/255,(Z>>>8&255)/255,(Z>>>0&255)/255]}}else if(e=="position")return[h.J.x,h.J.y]}else if(h.Y=="Layer"){var K={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},L=h.J;
if(!1){}else if(e=="visible")return L.oA();else if(e=="selected")return d.X.indexOf(d.T.indexOf(L))!=-1;
else if(e=="grouped")return L.ql;else if(K[e]!=null)return L.o1(K[e]);else if(e=="opacity")return L.S2*100/255;
else if(e=="fillOpacity")return(L.add.iOpa==null?255:L.add.iOpa)*100/255;else if(e=="blendMode")return L.fR;
else if(e=="name")return L.getName();else if(e=="textItem")return{Y:"TextItem",J:L};else if(e=="bounds"){var U=c.L2.YO(d,[d.T.indexOf(L)]);
return cZ.Im.a0k(U,d)}else if(e=="parent"){var z=v.qk,x;for(var T=0;T<z.length;T++)if(z[T].T.indexOf(L)!=-1)x=z[T];
var q=x.root.Ix(x.T.indexOf(L)).parent;return q.depth==0?{Y:"Document",J:x}:{Y:"Layer",J:q.L,T0:x}}else if(e=="kind"){var P=cZ.Im.kr;
for(var T=0;T<P.length;T++)if(L.add[P[T]]!=null)return T;return 0}else if(e=="isBackgroundLayer")return L.add.lnsr="bgnd";
else if(e=="itemIndex")return d.T.indexOf(L)+1;else console.log(h,e)}else if(h.Y=="Selection"){if(!1){}else if(e=="bounds"){if(d.K==null)J.__throw={message:"no selection"};
else return cZ.Im.a0k(d.K.R,d)}else console.log(h,e)}else if(h.Y=="TextItem"){var g=h.J.add.TySh,a=g.lf,w=fr.X3(a),y=g.C.n$(),S=fr.aX(a,0,0);
if(e=="contents")return w.slice(0,w.length-1).replace(/\n/g,"\r");else if(e=="font")return S.zI.Font!=null?S.k0[S.zI.Font].Name:null;
else if(e=="size")return cZ.Im.ox(S.zI.FontSize*y,d);else if(e=="leading")return cZ.Im.ox(S.zI.Leading*y,d);
else if(e=="tracking")return cZ.Im.ox(S.zI.Tracking);else if(e=="baselineShift")return cZ.Im.ox(S.zI.BaselineShift);
else if(e=="fauxBold")return S.zI.FauxBold;else if(e=="fauxItalic")return S.zI.FauxItalic;else if(e=="kind")return 1-fr.tO(a);
else if(e=="useAutoLeading")return S.UZ.AutoLeading;else if(e=="hyphenation")return S.UZ.AutoHyphenate;
else if(e=="justification")return cZ.Im.ox(S.UZ.Justification);else if(e=="color")return{Y:"SolidColor",J:S.zI.FillColor.Values.slice(0)};
else if(e=="width"||e=="height"){var i=fr.hi(a),C=(i[2]-i[0])*y,Y=(i[3]-i[1])*y;return cZ.Im.ox(e=="width"?C:Y,d)}else if(e=="position"){var _=g.C;
return cZ.Im.awL([_.TO,_.bZ],d)}else if(e=="horizontalScale"||e=="verticalScale"){var t=e[0].toUpperCase()+e.slice(1);
return Math.round(S.zI[t]*100)}else if(e=="antiAliasMethod")fr.lh(g);else if(e=="totalTextStyle"){var E={};
for(var I=0;I<2;I++){var r=["Style","Paragraph"][I],n=a.EngineDict[r+"Run"].RunLengthArray,Q=[],D=0;
for(var T=0;T<n.length;T++){var dG=fr.aX(a,D,Math.min(D+n[T],w.length-2));D+=n[T];Q.push(I==0?dG.zI:dG.UZ);
E.fontSet=dG.k0}E[r]={runs:n,styles:Q}}return JSON.stringify(E)}else if(e=="transform"){var _=g.C;return JSON.stringify([_.DR,_.b,_.tg,_.l_,_.TO,_.bZ])}else console.log(h,e)}else if(h.Y=="Preferences"){if(e=="rulerUnits")return m.Kd.XB;
else console.log(h,e)}else if(h.Y=="SolidColor"){if(e=="rgb")return{Y:"RGBColor",J:h.J};if(e=="cmyk")return{Y:"CMYKColor",J:B.Wu(h.J.slice(1))};
else console.log(h,e)}else if(h.Y=="RGBColor"){var U=Math.round(255*h.J[1]),R=Math.round(255*h.J[2]),X=Math.round(255*h.J[3]);
if(!1){}else if(e=="red")return U;else if(e=="green")return R;else if(e=="blue")return X;else if(e=="hexValue")return B.zF(U<<16|R<<8|X).toUpperCase();
else console.log(h,e)}else if(h.Y=="CMYKColor"){var dx=[];for(var T=0;T<4;T++)dx.push(Math.round(h.J[T]*100));
var jv=["cyan","magenta","yellow","black"].indexOf(e);if(jv!=-1)return dx[jv];else console.log(h,e)}else if(h.Y=="UnitValue"){if(e=="value")return h.J;
else throw"e"}else if(h.Y=="ExportOptionsSaveForWeb"){if(e=="format")return h.J.v9;else if(e=="PNG8"||e=="interlaced")return!1;
else if(e=="quality")return h.J.rB;else if(e=="transparency")return!0;else throw e}else if(h.Y=="PNGSaveOptions"||h.Y=="JPEGSaveOptions"||h.Y=="PDFSaveOptions"){return 0}else if(h.Y=="$"){if(e=="localize")return!1;
else if(e=="os")return"Windows";else throw e}else if(h.Y=="ActionList"){if(e=="count")return h.J.v.length;
else throw e}else console.log(h,e)};cZ.Im.a0k=function(h,e){return cZ.Im.awL([h.x,h.y,h.x+h.q,h.y+h._],e)};
cZ.Im.awL=function(h,e){var v=[];for(var T=0;T<h.length;T++)v.push(cZ.Im.ox(h[T],e));return v};cZ.Im.mI=function(h){var e=[];
for(var T=0;T<h.length;T++)e.push(h[T].Y?h[T].J:h[T]);return e};cZ.Im.ox=function(h,e){return{Y:"UnitValue",J:h}};
cZ.Im.av2=function(h,e){if(h.Y=="UnitValue")return h.J;return h};cZ.Im.aBM=function(h,e,v,J,m){var d=new g3(k.E.A,!0),x=new g3(k.E.u,!0),j=J.LV(),E=J.H;
if(!1){}else if(h.Y=="Application"){if(!1){}else if(e=="activeDocument"){x.data={V:k.l.zM,Zw:v.J};J.a(x)}else if(e=="displayDialogs"){}else if(e=="foregroundColor"||e=="backgroundColor"){var L=v.J,p=L[1]*255<<16|L[2]*255<<8|L[3]*255<<0;
x.data={V:k.l.Gi,m0:dq.Ih,rf:e=="foregroundColor"?0:1,J:p};J.a(x)}else console.log(h,e,v)}else if(h.Y=="Document"){var Z=h.J;
if(!1){}else if(e=="name"){d.I=c.Yn;d.data={V:s.f8,J:v,a2e:!0,ix:Z};j.NK=!0}else if(e=="source")Z.L5=v;
else if(e=="activeLayer"){Z.X=[Z.T.indexOf(v.J)]}else if(e=="activeHistoryState"){d.I=c.V8;d.data={V:"h_itemchange",index:v.yl}}else console.log(h,e)}else if(h.Y=="Layer"){d.I=c.Yn;
var o={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},u=h.J,N=j.T.indexOf(u);
if(!1){}else if(e=="visible"){if(u.oA()!=v)d.data={V:s.KA,L:N}}else if(e=="opacity"){d.data={V:s.Dw,L:N,uO:Math.round(255*v/100)}}else if(e=="fillOpacity"){d.data={V:s.bO,L:N,uO:Math.round(255*v/100)}}else if(e=="blendMode"){d.data={V:s.ac,L:N,uO:cc.El.indexOf(v)}}else if(e=="name"){d.data={V:s.rg,L:N,name:v}}else if(o[e]!=null){d.data={V:s.RK,L:N,uO:[[v],[o[e]]]}}else if(e=="kind"){d.data={V:s.Dt,L:N,SB:cZ.Im.kr[v]}}else if(e=="grouped"){d.data={V:s.QR,L:N,uO:v}}else console.log(h,e,v)}else if(h.Y=="TextItem"){d.I=c.HV;
var u=h.J,M=u.add.TySh,O=B.t(M.lf),F=M.C.O(),W=M.C.n$(),f=fr.X3(O),$=fr.aX(O,0,f.length-2),H=!1;if(!1){}else if(e=="contents"){fr.ED(O,0,f.length-1);
fr.hj(O,0,v.replace(/\r/g,"\n"))}else if(e=="size"){$.zI.FontSize=(v.J!=null?v.J:v)/W;H=!0}else if(e=="leading"){$.zI.Leading=(v.J!=null?v.J:v)/W;
H=!0}else if(e=="tracking"){$.zI.Tracking=v.J!=null?v.J:v;H=!0}else if(e=="baselineShift"){$.zI.BaselineShift=v.J!=null?v.J:v;
H=!0}else if(e=="fauxBold"){$.zI.FauxBold=v;H=!0}else if(e=="fauxItalic"){$.zI.FauxItalic=v;H=!0}else if(e=="kind"){var A=fr.tO(O);
if(A==1&&v==1){var G=new em(O,J.H.eN,M.fB).UZ[0],l=G.zo[0].end,K=G.Dq[l-1].end;fr.ED(O,0,f.length-1);
fr.hj(O,0,f.slice(0,K-1))}if(A==v)fr.Ii(O,1-v)}else if(e=="useAutoLeading"){$.UZ.AutoLeading=v;H=!0}else if(e=="hyphenation"){$.UZ.AutoHyphenate=v;
H=!0}else if(e=="justification"){$.UZ.Justification=v;H=!0}else if(e=="font"){fr.wm($,v);H=!0}else if(e=="color"){$.zI.FillColor.Values=v.J.slice(0);
H=!0}else if(e=="width"||e=="height"){var U=fr.hi(O).slice(0),z=cZ.Im.av2(v);if(e=="width")U[2]=Math.round(U[0]+z/W);
else U[3]=Math.round(U[1]+z/W);fr.Uv(O,U)}else if(e=="position"){F.TO=v[0];F.bZ=v[1]}else if(e=="horizontalScale"||e=="verticalScale"){var q=e[0].toUpperCase()+e.slice(1);
$.zI[q]=v/100;H=!0}else if(e=="antiAliasMethod")fr.io(M,v);else console.log(h,e,v);if(H)fr.UE(O,0,f.length-1,$);
d.data={V:"newED",Ed:j.T.indexOf(u),gW:O,C:F}}else if(h.Y=="Preferences"){if(!1){}else if(e=="rulerUnits"){var P=B.t(E.Kd);
P.XB=v;x.data={V:k.l.Gi,m0:dq.xo,uO:P};J.a(x)}else console.log(h,e,v)}else if(h.Y=="SolidColor"){if(e=="rgb")h.J=v.J;
else throw e}else if(h.Y=="RGBColor"){if(!1){}else if(e=="red")h.J[1]=v/255;else if(e=="green")h.J[2]=v/255;
else if(e=="blue")h.J[3]=v/255;else if(e=="hexValue"){var g=B.aj9(v.slice(v.charAt(0)=="#"?1:0));h.J[1]=(g>>>16&255)/255;
h.J[2]=(g>>>8&255)/255;h.J[3]=(g>>>0&255)/255}else console.log(h,e)}else if(h.Y=="ExportOptionsSaveForWeb"){if(e=="format")h.J.v9=v;
else if(e=="PNG8"||e=="transparency"||e=="interlaced"){}else if(e=="quality")h.J.rB=v;else throw e}else if(h.Y=="PNGSaveOptions"||h.Y=="JPEGSaveOptions"){if(e=="quality")h.J.rB=Math.round(100*v/12)}else if(h.Y=="PDFSaveOptions"){if(e=="preset")h.J.a3k=v}else if(h.Y=="PathPointInfo"){if(e=="kind")h.kind=v;
else if(e=="anchor")h.Q=v;else if(e=="leftDirection")h.NA=v;else if(e=="rightDirection")h.Xb=v;else throw e}else if(h.Y=="SubPathInfo"){if(e=="operation")h.uu=v;
else if(e=="closed")h.yL=v;else if(e=="entireSubPath"){h.J=[];for(var T=0;T<v.length;T++){var a=v[T];
h.J.push({c:a.kind==1?1:2,NA:new fq(a.NA[0],a.NA[1]),Q:new fq(a.Q[0],a.Q[1]),Xb:new fq(a.Xb[0],a.Xb[1])})}}else throw e}else if(h.Y=="$"){if(e=="localize"){}}else console.log(h,e,v);
if(d.data!=null)J.a(d)};cZ.Im.a1t=function(h,e,v){if(e==null)return;var J=e.lf.EngineDict.StyleRun.RunArray,m=e.lf.ResourceDict.FontSet,d=[];
for(var T=0;T<J.length;T++){var x=J[T].StyleSheet.StyleSheetData,j=m[x.Font].Name,E=v.H.eN.xs(j);if(E&&E.name.postScriptName!=j)E=null;
d.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:E!=null},fontPostScriptName:{t:"TEXT",v:j}}}}})}h.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:d},textKey:{t:"TEXT",v:fr.X3(e.lf)}}}};
cZ.Im.qI=function(h,e,v,J,m){var d=h.Y,x=null,j=new g3(k.E.A,!0),E=new g3(k.E.Fq,!0),L=new g3(k.E.u,!0),p=J.LV(),Z=J.qk;
if(!1){}else if(d=="Application"){if(!1){}else if(e=="charIDToTypeID"){var o=v[0].trim(),u={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return u[o]?u[o]:o}else if(e=="stringIDToTypeID"){var N=v[0].trim(),u={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr",textStyle:"TxtS"},M=u[N];
return M==null?N:M}else if(e=="typeIDToStringID"){return v[0].trim()}else if(e=="executeAction"){var O;
if(v[1]){O=v[1].J.v;O.classID=v[0]}var F={setd:"set"},W=F[v[0]];if(W==null)W=v[0];var f=hy.Ec[v[0]];
if(f&&hy.Ht[f])W=hy.Ht[f];E.data={UH:W,TH:O}}else if(e=="executeActionGet"){var $=v[0].J.v,x={};if($.length==1){var H=x.classID=$[0].v.classID;
if(H=="Lyr"){var A=h8.tV(p,$[0]),G=p.T[A],l=G.add.SoLd,K=G.add.SoCo,U=G.add.TySh;if(l)x.smartObjectMore={t:"Objc",v:{transform:l.nonAffineTransform}};
if(K)x.adjustment={t:"VlLs",v:[{t:"Objc",v:B.t(K)}]};if(U)cZ.Im.a1t(x,U,J)}return{Y:"ActionDescriptor",J:{t:"null",v:x}}}if($.length==2){var H=x.classID=$[1].v.classID,N=$[0].v.keyID;
if(H=="Dcmn"){var z=p;if(N=="numberOfLayers")x[N]={t:"long",v:z.T.length};else throw N}else if(H=="Lyr"){var A=h8.tV(p,$[1]),G=p.T[A],U=G.add.TySh;
if(N=="textKey")cZ.Im.a1t(x,U,J);else throw N}else if(H=="ASet"){var q=J.H.cW,P=x.classID=$[0].v.classID;
if(P=="Actn"){x.NmbC={t:"long",v:h8.WG(q,$[0].v.val,$[1].v.val).L1.length}}else throw P}else throw H;
return{Y:"ActionDescriptor",J:{t:"null",v:x}}}}else if(e=="doAction"){L.data={V:k.l.n9,d9:[v[0],v[1]]}}else if(e=="bringToFront"){}else if(e=="open"){L.data={V:k.l.We,m0:{url:v[0]}};
if(v[2]&&Z.length!=0)L.data.m0.az=Z.indexOf(p)}else if(e=="echoToOE"){L.data={V:k.l.c$,m0:v[0]}}else if(e=="showWindow"){L.data={V:k.l.Xq,dF:v[0]}}else if(e=="UnitValue"){return v[0]+" "+v[1]}else console.log(e)}else if(d=="LayerComp"){if(e=="apply"){j.I=c.sE;
j.data={V:"setLC",yl:p.bW.list.v[h.J].v.compID.v}}else throw e}else if(d=="Document"){var p=h.J;if(!1){}else if(e=="crop"){var g=v[0];
E.data=c.Zk.aaL([g[0],g[1],g[2]-g[0],g[3]-g[1]])}else if(e=="trim"){var a=[];for(var T=0;T<4;T++)a.push(v[T+1]!=null?v[T+1]:!0);
E.data=c.Zk.KG(v[0]!=null?v[0]:0,a)}else if(e=="suspendHistory"){var w=acorn.parse(v[1]);cZ.eval(w,J,m)}else if(e=="save"){L.data={V:k.l.TN}}else if(e=="saveToOE"){L.data={V:k.l.TN,Ro:v}}else if(e=="rotateCanvas"){E.data=c.L2.G2(!0,v[0])}else if(e=="resizeImage"||e=="resizeCanvas"){var y=v[0],S=v[1];
if(y!=null){if(typeof y!="number"){y=p.q*parseFloat(y.slice(0,y.length-1))/100;S=p._*parseFloat(S.slice(0,S.length-1))/100}y=Math.round(y);
S=Math.round(S)}if(e=="resizeCanvas")E.data=c.Zk.avi(y,S,v[2]);else E.data=c.Zk.u_(y,S,v[2],y!=null?1:null)}else if(e=="paste"){L.data={V:k.l.Qv,a5D:v.length!=0&&v[0],qT:!0};
J.a(L);L.data=null;return{Y:"Layer",J:p.T[p.X[0]],T0:p}}else if(e=="close"){L.data={V:k.l.Q$,tL:p}}else if(e=="exportDocument"||e=="saveAs"){var i=m.__fs,C=e=="exportDocument"?v[2].J:v[1].J,Y=v[0].J.replace(":","").replace("~/","");
if(!Y.toLowerCase().endsWith("."+C.v9))Y+="."+C.v9;var _=gI.Pc(p,C.v9,null,null,C.v9=="pdf"?null:[C.rB],J.H);
i[Y]=new Uint8Array(_)}else if(e=="flatten"){E.data={UH:"flattenImage"}}else if(e=="clearHistory"){j.I=c.V8;
j.data={V:"h_clear",force:!0}}else console.log(h,e,v)}else if(d=="Layer"){var t=h.J,A=p.T.indexOf(t);
if(!1){}else if(e=="copy"){cZ.Im.u8(p,J,0);L.data={V:k.l.Bn,fz:v[0],pT:A,qT:!0};J.a(L);delete L.data;
cZ.Im.u8(p,J,1)}else if(e=="clear"){cZ.Im.u8(p,J,0);E.data={UH:"delete"};J.a(E);delete E.data;cZ.Im.u8(p,J,1)}else if(e=="autoLevels"||e=="autoContrast"){if(e=="autoContrast")E.data={UH:"levels",TH:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else E.data={UH:"levels",TH:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(e=="duplicate"){if(v.length==0){var I=p.X.slice(0);
j.data={V:s.Zn,L:A};j.I=c.Yn;J.a(j);j.data=null;x={Y:"Layer",J:p.T[p.X[0]],T0:h.T0};p.X=I}else if(v[0].Y=="Document"){j.data={V:s.m1,T:p.Ae(A),iY:p,WK:v[0].J};
j.I=c.Yn}if(j.data){J.a(j);j.data=null;return{Y:"Layer",J:p.T[p.X[0]],T0:p}}}else if(e=="merge"||e=="remove"){j.data={V:e=="merge"?s.X$:s.Zt,L:A};
j.I=c.Yn;var r=p.T.length-A;J.a(j);j.data=null;if(e!="remove")x={Y:"Layer",J:p.T[p.T.length-r],T0:h.T0}}else if(e=="move"){var n=p.T.indexOf(v[0].J);
if(n==A+1&&v[1]==4)return;if(n==A-1&&v[1]==3)return;j.data={V:s.UJ,source:A,target:n,iw:v[1]!=3?.6:.3};
j.I=c.Yn}else if(e=="rasterize"){j.I=c.Yn;j.data={V:s.S5,L:A};J.a(j);j.data=null;h.J=p.T[A]}else if(e=="rotate"){j.data={V:"rot",SQ:[2,5],J:-v[0]*Math.PI/180,o5:v[1],L:A};
j.I=c.Li}else if(e=="resize"){j.data={V:"scl",SQ:[2,4],J:new fq(v[0]/100,v[1]/100),o5:v[2],L:A};j.I=c.Li}else if(e=="translate"){var Q=cZ.Im.mI(v);
j.data={V:"trsl",L:A,Vx:Q[0],N6:Q[1]};j.I=c.GA}else if(e=="link"){j.data={V:s.SR,a7V:[A,p.T.indexOf(v[0].J)]};
j.I=c.Yn}else if(e=="invert"){j.I=c.EM;j.data={V:"start",yo:"nvrt"}}else if(e=="desaturate"){E.data={UH:"desaturate"}}else if(e.startsWith("apply")&&f8.J5[e.slice(5)]||e.startsWith("adjust")&&f8.J5[e.slice(6)]||e=="mixChannels"){var D=e.startsWith("apply"),Q=cZ.Im.mI(v),dG=e=="mixChannels"?"mixr":f8.J5[e.slice(D?5:6)];
if(dG=="Dspl"){for(var T=0;T<p.T.length;T++)if(p.T[T].getName()==Q[4]){Q[4]=p.T[T].add.SoLd.Idnt.v;break}}E.data={UH:D?f8.Ht[dG]:hy.Ht[dG]};
var O=f8.UX(dG),I=p.X;p.X=[A];if(O){if(dG=="mixr"){var R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var T=0;
T<3;T++){var X=Q[0][T],dx=T*5;R[dx+0]=X[0];R[dx+1]=X[1];R[dx+2]=X[2];R[dx+4]=X[3]}O=hy.RF({J:R,H4:Q[1]})}else f8.E0["g"+dG](O,Q);
E.data.TH=O}J.a(E);E.data=null;p.X=I}else if(e=="applyStyle"){var jv=J.H.L7,hQ=null;for(var T=0;T<jv.length;
T++)if(jv[T].ks.Nm.v.split("/").pop()==v[0])hQ=jv[T];if(hQ==null){alert("Style not found!");return}j.I=c.MP;
j.data={V:"setstl",J:hQ.bP,L:A};J.a(j);j.data={V:"confirm",L:A}}else console.log(h,e,v)}else if(d=="Documents"){if(e=="getByName"){for(var T=0;
T<Z.length;T++)if(Z[T].name==v[0])return{Y:"Document",J:Z[T]};return null}else if(e=="add"){if(v.length==0)v=[100,100,72,"New Project"];
var ah=v[5];if(ah==null)ah=1;E.data=e7.nz(v[0],v[1],v[2],v[3],["Wht","Trns","BckC"][ah],!1);J.a(E);E.data=null;
return{Y:"Document",J:J.LV()}}else throw"e"}else if(d=="Layers"){if(e=="getByName"){for(var T=0;T<h.J.length;
T++)if(h.J[T].J.getName()==v[0]){x=h.J[T];break}if(x==null)m.__throw={message:"No layer with a name "+v[0]}}else if(e=="add"){j.data={V:h.a9_=="layerSets"?s.B_:s.yY};
j.I=c.Yn;J.a(j);j.data=null;x={Y:"Layer",J:p.T[p.X[0]],T0:h.T0}}else console.log(h,e,v)}else if(h.Y=="Selection"){if(e=="select"){var kG=v[0],iZ=[];
for(var T=0;T<kG.length;T++)iZ.push(kG[T][0],kG[T][1]);E.data=c.tM.g4(cZ.Im.mI(iZ),v[1])}else if(e=="clear"){E.data={UH:"delete"}}else if(e=="selectAll"){E.data=c.tM.CZ(!0)}else if(e=="invert"){E.data={UH:"inverse"}}else if(e=="copy"){L.data={V:k.l.Bn,fz:v[0],qT:!0}}else if(e=="deselect"){E.data=c.tM.CZ()}else if(e=="fill"){var ey=v[0].J;
ey=B.Vh.WZ({n:ey[1]*255,i:ey[2]*255,b:ey[3]*255});E.data=c.Bt.pH("Clr",v[1],v[2]==null?1:v[2]/100,ey)}else if(e=="grow"||e=="similar"){var O={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(v[0]!=null)O.Tlrn={t:"long",v:v[0]};E.data={UH:e,TH:O}}else if(e=="expand"||e=="contract"||e=="feather"){E.data=c.tM.ka(e,v[0],!0)}else if(e=="translate"){var O={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:v[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:v[1]}}}}};
E.data={UH:"move",TH:O}}else if(e=="smooth"){E.data=c.tM.ka("smoothness",v[0],!1)}else if(e=="stroke"){var hQ=JSON.parse(fL.JC[1]),jp=hQ.Clr.v,ey=v[0].J;
jp.Rd.v=ey[1]*255;jp.Grn.v=ey[2]*255;jp.Bl.v=ey[3]*255;hQ.Sz.v.val=v[1];hQ.Styl.v.FStl=fL.stroke.types[v[2]];
console.log(hQ,v);j.I=c.dY;j.data={V:"stroke",aH_:hQ}}else console.log(h,e,v)}else if(h.Y=="Window"){if(e=="show"){L.data={V:k.l.Xq,dF:h.J}}else throw"e"}else if(h.Y=="ActionReference"){if(e=="putProperty"){h.J.v.push({t:"prop",v:{classID:v[0],keyID:v[1]}})}else if(e=="putClass"){h.J.v.push({t:"Clss",v:{classID:v[0]}})}else if(e=="putEnumerated"){h.J.v.push({t:"Enmr",v:{classID:v[0],typeID:v[1],enum:v[2]}})}else if(e=="putName"){h.J.v.push({t:"name",v:{classID:v[0],val:v[1]}})}else if(e=="putIndex"){h.J.v.push({t:"indx",v:{classID:v[0],val:v[1]}})}else console.log(e,v)}else if(h.Y=="ActionDescriptor"||h.Y=="ActionList"){var eh=h.Y=="ActionList";
if(e.startsWith("put")){var dt=eh?v:v.slice(1),M=null;if(e=="putReference"){M=dt[0].J}else if(e=="putObject"){M=dt[1].J;
M.v.classID=dt[0]}else if(e=="putList"){M=dt[0].J}else if(e=="putDouble"){M={t:"doub",v:dt[0]}}else if(e=="putUnitDouble"){M={t:"UntF",v:{type:dt[0],val:dt[1]}}}else if(e=="putBoolean"){M={t:"bool",v:dt[0]}}else if(e=="putInteger"){M={t:"long",v:dt[0]}}else if(e=="putString"){M={t:"TEXT",v:dt[0]}}else if(e=="putClass"){M={t:"type",v:{classID:dt[0]}}}else if(e=="putEnumerated"){var jN=v[0].split("+");
if(jN.length==2&&v[1]==null){v[0]=jN[0];v[1]=dt[0]=jN[1]}var dx={};dx[dt[0]]=dt[1];M={t:"enum",v:dx}}else throw e;
if(eh)h.J.v.push(M);else h.J.v[v[0]]=M}else if(e=="hasKey"){return h.J.v[v[0]]!=null}else if(e=="getEnumerationValue"){if(v[0]=="layerSection")x="layerSectionContent";
else console.log(v)}else if(e=="getBoolean"){x=h.J.v[v[0]].v}else if(e=="getString"){x=h.J.v[v[0]].v}else if(e=="getObjectValue"){var x=h.J.v[v[0]];
return{Y:"ActionDescriptor",J:B.t(x)}}else if(e=="getList"){var x=h.J.v[v[0]];return{Y:"ActionList",J:x}}else if(e=="getInteger"||e=="getDouble"){return h.J.v[v[0]].v}else console.log(e,v)}else if(h.Y=="$"){if(e=="writeln"){console.log(v[0])}else throw e}else if(h.Y=="UI"){if(e=="scroll"||e=="scrollTo"){var jX=v[0],jw=v[1],i7=p.p.e4;
if(e=="scrollTo"){jX=(-p.q/2+jX)*i7+p.p.d.x;jw=(-p._/2+jw)*i7+p.p.d.y}j.I=c.I5;j.data={V:"scroll",Mx:new fq(Math.round(jX),Math.round(jw))}}else{var kn;
if(e=="zoomIn"||e=="zoomOut"){kn={V:"zoom",YV:e=="zoomIn"}}else if(e=="fitTheArea"){kn={V:"adapt",J:"fitscr"}}else if(e=="pixelToPixel"){kn={V:"adapt",J:"pixel"}}j.I=c.ZM;
j.data=kn;if(e=="switchFullscreen"){var eK=J.H.LI,ee=document.fullscreenElement!=null==(eK==2);L.data={V:k.l.cb,J:eK==0?2:0,dw:ee}}}}else if(h.Y=="ColorSamplers"){if(e=="removeAll")p.us=[];
else if(e=="add"){var az={x:v[0][0],y:v[0][1]};p.us.push(az);var x={Y:"ColorSampler",J:az}}}else if(h.Y=="ColorSampler"){if(e=="move"){var k7=p.us.indexOf(h.J);
az=p.us[k7];az.x=v[0][0];az.y=v[0][1]}else if(e=="remove"){var k7=p.us.indexOf(h.J);p.us.splice(k7,1)}}else if(h.Y=="PathItem"){if(e=="select"){p.cg=[p.H0.indexOf(h.J)];
p.NK=!0}else if(e=="remove"){j.I=c.uP;j.data={V:"pathedit",rf:"del"}}else console.log(e)}else if(h.Y=="PathItems"){if(e=="add"){var al=v[1],kl=e7.O8(v[0]),g=kl.add.vmsk.z;
for(var T=0;T<al.length;T++){var b9=al[T],h9=b9.J.length;g.push({c:b9.yL?0:3,length:h9,Jb:b9.uu});for(var ge=0;
ge<h9;ge++){if(!b9.yL)b9.J[ge].c+=3;g.push(b9.J[ge])}}j.I=c.uP;j.data={V:"pathedit",rf:"new",gA:kl};
J.a(j);return{Y:"PathItem",J:kl}}else throw e}else if(h.Y=="Folder"){if(e=="selectDialog")x="img";else throw e}else if(h.Y=="File"){if(e=="openDialog")alert("A website can not show the Open dialog from a script");
else throw e}else console.log(h,e,v);if(j.data)J.a(j);if(E.data)J.a(E);if(L.data)J.a(L);return x};cZ.Im.u8=function(h,e,v){var J=new g3(k.E.A,!0);
J.I=c.Wm;var m=new g3(k.E.Fq,!0);if(v==0){cZ.Im.aqN=h.K;m.data=c.tM.CZ(!0)}else{var d=cZ.Im.aqN;if(d)J.data={V:"setsel",SQ:"Restore Selection",K:{R:d.R.O(),G:d.G.slice(0)}};
else m.data=c.tM.CZ()}e.a(J.data?J:m)};cZ.Im.aqN=null;cZ.Im.aQ={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3}};
cZ.Im.aQ.ColorBlendMode=cZ.Im.aQ.BlendMode;cZ.Im.kr="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function cP(){}cP.Q7={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
cP.km={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
cP.akA=function(h,e){if(e==null)e={};var v=cP.km,J=[],m=[],d="";for(var T=0;T<h.length;T++){var x=h[T],j=v[x[0]+""];
if(j&&e[j]==null)e[j]=x[1];else if(x[0]==12)m.push(x[1]);else if(x[0]==25)J.push(x[1]);else if(x[0]==55)d=x[1];
else if(x[0]==60)d+=";"+x[1]}if(d!=""&&e["exif:DateTimeOriginal"]==null)e["exif:DateTimeOriginal"]=d;
if(m.length!=0&&e["Iptc4xmpCore:SubjectCode"]==null)e["Iptc4xmpCore:SubjectCode"]=m.join(";");if(J.length!=0&&e["dc:Keywords"]==null)e["dc:Keywords"]=J.join(";");
return e};cP.awA=function(h){var e=cP.km,v=[];for(var J in e)if(h[e[J]])v.push([parseInt(J),h[e[J]]]);
if(h["Iptc4xmpCore:SubjectCode"]){var m=h["Iptc4xmpCore:SubjectCode"].split(";");for(var T=0;T<m.length;
T++)v.push([12,m[T].trim()])}if(h["dc:Keywords"]){var m=h["dc:Keywords"].split(";");for(var T=0;T<m.length;
T++)v.push([25,m[T].trim()])}v.sort(function(d,x){return d[0]-x[0]});return v};cP.VX=function(h,e){if(e==null)e={};
var v=new DOMParser,J=v.parseFromString(h,"image/svg+xml"),m=J.getElementsByTagName("rdf:Description")[0];
if(m==null)return e;var d=cP.Q7;for(var x in d){var j=d[x][2];if(j==null)continue;var E=[];if(j.startsWith("xmp:")){var L=m.getAttribute(j);
if(L==null)continue;E.push(L)}else{var p=m.getElementsByTagName(j)[0];if(p==null)continue;var Z=p.getElementsByTagName("rdf:li");
for(var T=0;T<Z.length;T++)E.push(Z[T].textContent)}e[x]=E.join("; ")}return e};cP.E9=function(h){var e=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],v=cP.Q7,J="";
for(var m in v){var d=h[m],x=v[m][2];if(d==null||x==null)continue;if(x.startsWith("xmp:")){J+=" "+x+"=\""+d+"\""}else{var j="Seq",E="";
if(x=="dc:title"||x=="dc:description"){j="Alt";E=" xml:lang=\"x-default\""}if(x=="dc:subject")j="Bag";
e.push("\t<"+x+"><rdf:"+j+">");var L=x=="dc:subject"?d.split(";").join(",").split(","):[d];for(var T=0;
T<L.length;T++)e.push("\t\t<rdf:li"+E+">"+L[T].trim()+"</rdf:li>");e.push("\t</rdf:"+j+"></"+x+">")}}e[3]+=J+">";
e.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return e.join("\n")};
cP.alm=function(h){var e=[];for(var T=0;T<h.length;T++)e[T]=h[T][1]==0?0:h[T][0]/h[T][1];return e};cP.amH=function(h){var e=[];
for(var T=0;T<h.length;T++){var v=h[T],J=1;if(v!=Math.round(v)){J=1e3;v=Math.round(v*J)}e[T]=[v,J]}return e};
cP.VB=function(h,e){var v=cP.Q7;if(e==null)e={};for(var J in v){var m=v[J][1],d="t"+m;if(m!=null&&h[d]!=null){var x=h[d];
if(m==0)x=x.join(".");else if(m==2||m==4){var j=h["t"+(m-1)];if(j==null)j=[m==2?"N":"E"];x=cP.alm(x).join(",")+j[0]}else if(m==42034)x=cP.alm(x).join(" ");
else if(m==270||m==315){var E=x[0],L=new Uint8Array(E.length);b._z(L,0,E);x=b.Is(L)}else x=x[0];e[J]=x}}if(h.exifIFD)cP.VB(h.exifIFD,e);
if(h.gpsiIFD)cP.VB(h.gpsiIFD,e);return e};cP.u4=function(h,e,v){var J=cP.Q7,d=0,j=0;if(e==null)e={};
var m={},x={};for(var E in J){if(h[E]==null||J[E][1]==null)continue;var L=J[E][1],p="t"+L,Z=e;if(E.startsWith("exif:")){Z=m;
d++;if(E.startsWith("exif:GPS")){Z=x;j++}}var o=h[E];if(L==0)o=new Uint8Array(o.split(".").map(parseFloat));
else if(L==2||L==4){var u=o.length;Z["t"+(L-1)]=[o.slice(o.length-1)];o=cP.amH(o.split(",").map(parseFloat))}else if(L==42034)o=cP.amH(o.split(" ").map(parseFloat));
else if(L==270||L==315){var N=b.YQ(o);o=[b.RZ(N,0,N.length)]}else o=[o];Z[p]=o}if(d!=0){e.exifIFD=m;
e.t34665=[0]}if(j!=0){e.gpsiIFD=x;e.t34853=[0]}var M=new Date,O=[M.getFullYear(),M.getMonth()+1,M.getDate(),M.getHours(),M.getMinutes(),M.getSeconds()];
for(var T=0;T<6;T++)O[T]=(O[T]+"").padStart(2,"0");e.t305=["Photopea Editor (www.photopea.com)"];if(v!=!0)e.t306=[O[0]+":"+O[1]+":"+O[2]+" "+O[3]+":"+O[4]+":"+O[5]];
return e};function ds(){}ds.kq=function(h){var e={aAi:",",qu:"\r\n",_x:"\""},v=[[""]],J,m,d,x,j;for(J=m=d=x=0;
d<h.length;d++){switch(j=h.charAt(d)){case e._x:if(x&&h.charAt(d+1)==e._x){v[J][m]+=e._x;++d}else{x^=1}break;
case e.aAi:if(!x){v[J][++m]=""}else{v[J][m]+=j}break;case e.qu.charAt(0):if(!x&&(!e.qu.charAt(1)||e.qu.charAt(1)&&e.qu.charAt(1)==h.charAt(d+1))){v[++J]=[""];
v[J][m=0]="";if(e.qu.charAt(1)){++d}}else{v[J][m]+=j}break;default:v[J][m]+=j}}if(v[v.length-1].length<v[0].length)v.pop();
return v};var V={};V.ab$=0;V.FA=function(){V.ab$++;return V.ab$};V.amT="uint8";V.Kk=function(h){h.Z.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
h.Z.style.opacity="1";h.Z.style.transform="scale(1)"};V.dm=function(h,e){h.Z.style.opacity="0";h.Z.style.transform="scale(0.95)";
if(e)setTimeout(function(){e.removeChild(h.Z)},100)};V.aH7=function(){var h=V.cC();if(h=="")return 0;
if(h!=V.h7("_TXZRPB;d7@;")&&h!=c3.h7("eQLZRRM?8a4=8")){var e=V.vq[c3.Bo][c3.KB],v=e.indexOf(String.fromCharCode(35)),J;
if(v==-1)return 0;try{J=JSON.parse(V.vq[c3.ap3](e.slice(v+1)))}catch(j3){return 0}var m=J[V.h7("bQ[ODL<E<M")];
if(m==null||m.length<<2!=64)return 0;var d=c3.SK(),x=parseInt(m.slice(3*4).split("").reverse().join(""),16)<<16;
if(x<d||m!=c3.atZ(x,h))return 0;return 2}return 1};V.cC=function(){var h=V.vq[V.M8("}$z{2*35")][V.h7("W[\\ZQAJ?")],e=String.fromCharCode(46),v=h.split(e);
if(v.length<2)return"";var J=v.pop();J=v.pop()+e+J;return J};V.ng=function(h){var e=V.cC();if((e==c3.h7("_TXZRPB;d7@;")||e==c3.h7("~yy"))&&V.vq==V.vq[c3.awI])return!0;
var v=V.vq[c3.Bo][c3.KB],J=v.indexOf("#");if(J!=-1&&J!=v.length-1&&(v[J+1]=="%"||v[J+1]=="{")){var m=v.substring(J+1,v.length);
m=JSON.parse(V.vq[c3.ap3](m));var d=m[c3.h7("P\\RY")];if(d)if(h==0&&d[c3.h7("aYKM")]||h==1&&d[c3.h7("SQcMR")])return!0}return!1};
V.aGq=function(){if(V.vq[c3.apD][c3.aij]){var h=new V.vq[c3.dr];h[c3.jq](c3.ahH,V.h7("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+V.cC());
h[c3.zT]()}};V.rJ=function(){if(window.top!=window.self)return!1;var h=navigator.userAgent.toLowerCase();
if(h.indexOf("safari")!=-1&&h.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};V.dB=function(h){this.I1=h;
this.cl=V.k("img");this.hr=V.k("canvas");this.Gv=null;this.xg="";this.Lb=null;this.cT=new fq(0,0);this.BJ=!0;
V.Xa(this.I1,this.oE.bind(this))};V.dB.prototype.eh=function(h,e){this.Gv=h;if(e)this.xg=e;this.oE()};
V.dB.prototype.Es=function(h){this.BJ=h;this.oE()};V.dB.prototype.oE=function(h){if(h)this.cT=V.IE(h,this.I1);
var e=this.BJ?this.Gv:"auto",v=typeof e=="string";if(!v){var J=V.A_(),m=this.cT,d=e.e3.q,x=e.e3._,j=typeof e.wp=="string",E=j?this.cl:this.hr;
if(j)E.setAttribute("src",e.wp);else{E.width=d;E.height=x;var L=E.getContext("2d"),p=new ImageData(new Uint8ClampedArray(e.wp.buffer),d,x);
L.putImageData(p,0,0)}V.v(E," position:absolute; pointer-events:none;user-select:none;"+"top:"+(m.y-e.Tc.y/J)+"px; left:"+(m.x-e.Tc.x/J)+"px; width:"+d/J+"px; height:"+x/J+"px");
var Z=this.Lb;if(Z==null||Z!=E){if(Z)this.I1.removeChild(Z);this.I1.appendChild(E);this.Lb=E}}else if(this.Lb){this.I1.removeChild(this.Lb);
this.Lb=null}V.v(this.I1,"cursor:"+(v?e:"none")+"; "+this.xg)};V.gq=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
V.jE=function(h,e){h.Ao(bj.get([12,41]).charAt(0)+":");e.Ao(bj.get([12,42]).charAt(0)+":")};V.k=function(h,e){var v=document.createElement(h);
if(e!=null)v.className=e;return v};V.H5=function(h){while(h.firstChild)h.removeChild(h.firstChild)};
V.zZ=function(h,e){var v=h.className;v=v.split(" ");if(v.indexOf(e)==-1)v.push(e);h.className=v.join(" ")};
V.t7=function(h,e){var v=h.className;if(v=="")return;v=v.split(" ");if(v.indexOf(e)!=-1)v.splice(v.indexOf(e),1);
h.className=v.join(" ")};V.gl=function(h){while(!0){if(h==document)return!0;if(h==null)return!1;h=h.parentNode}};
V.Xp=function(h){h.appendChild(V.k("br"))};V.ja=function(h){h.appendChild(V.k("hr"))};V.v=function(iW,h){iW.setAttribute("style",h)};
V.ab=function(h,e,v){var J=new eA([1,12,1],v==null?!0:v,null,!0);if(h)J.P("click",h.nb,h);if(e)e.appendChild(J.Z);
return J};V.vq=document;V.Rw=function(h){var e=0;for(var T=0;T<h;T++)e+=Math.random();return e/h<Math.PI/4};
V.h7=function(h){var e="";if(!V.Rw(28))h+="-3";for(var T=0;T<h.length;T++){var v=h.charCodeAt(T);if(v<32||126<v)throw"e";
e+=String.fromCharCode(32+(v-32+17+3*T)%95)}return e};V.M8=function(h){var e="";if(!V.Rw(28))h+="-1";
for(var T=0;T<h.length;T++){var v=h.charCodeAt(T);v-=32;v+=95e4;v-=17+3*T;v=v%95;e+=String.fromCharCode(32+v)}return e};
V.ye=function(h){var e=Math.random();V.amT="uint"+(3+e);return new h};(function(){var h=window.PointerEvent,e=h?"pointer":"mouse",v=e+"down",J=e+"move",m=e+"up",d=!1;
V.La=function(x,j){x.addEventListener(v,j,d);if(!h)x.addEventListener("touchstart",j,d)};V.Xa=function(x,j){x.addEventListener(J,j,d);
if(!h)x.addEventListener("touchmove",j,d)};V.wZ=function(x,j){x.addEventListener(m,j,d);if(!h)x.addEventListener("touchend",j,d)};
V.atR=function(x,j){x.removeEventListener(v,j,d);if(!h)x.removeEventListener("touchstart",j,d)};V.L0=function(x,j){x.removeEventListener(J,j,d);
if(!h)x.removeEventListener("touchmove",j,d)};V.SV=function(x,j){x.removeEventListener(m,j,d);if(!h)x.removeEventListener("touchend",j,d)}}());
V.zY=function(h){h.addEventListener("touchstart",V.dR,!1);h.addEventListener("touchmove",V.dR,!1);h.addEventListener("touchend",V.dR,!1);
h.addEventListener("gesturestart",V.dR,!1);h.addEventListener("gesturechange",V.dR,!1);h.addEventListener("gestureend",V.dR,!1)};
V.a0n=function(h){var e=h.sourceCapabilities;if(e)return e.firesTouchEvents;return!1};V.xX=function(h,e,v,J){var m=V.A_();
h.width=Math.floor(e*m);h.height=Math.floor(v*m);if(J)J.scale(m,m);V.U3(h)};V.U3=function(h){var e=V.A_();
h.style.width=h.width/e+"px";h.style.height=h.height/e+"px"};V.Aw=function(h,e,v){V.v(h,"width:"+e/V.A_()+"px; height:"+v/V.A_()+"px")};
V.IE=function(h,e){if(e==null)e=h.currentTarget;var v=e.getBoundingClientRect();if(h.touches)h=h.touches.item(0);
return{x:h.clientX-v.left,y:h.clientY-v.top}};V.A_=function(){return window.devicePixelRatio||1};V.JM=function(h){h.addEventListener("keydown",V.azW,!1)};
V.azW=function(h){h.stopPropagation()};V.dR=function(h){h.preventDefault()};V.wY=function(h){h.stopPropagation();
h.preventDefault()};V.pY=function(h,e,v){v=v?v:"";if(PIMG["__"+h]==null)v+=" gsicon";return"<img src=\""+PIMG[h]+"\" alt=\""+(e?e:"")+"\" class=\""+v+"\" />"};
V.Wt=function(h,e,v,J){var m=h.dataTransfer.getData("text/uri-list");if(m!=null&&m.startsWith("http")){var d=new g3(k.E.u,!0);
d.data={V:k.l.We,m0:{url:m,Q4:!0,az:v,J6:J}};e.a(d)}if(h.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var x=[],j=h.dataTransfer.items.length,E=h.dataTransfer.files;
for(var L of h.dataTransfer.items)L.getAsFileSystemHandle().then(function(p){x.push(p);if(x.length==j){var d=new g3(k.E.u,!0);
d.data={V:k.l.YM,data:E,az:v,J6:J,acW:x};e.a(d)}})}else{var d=new g3(k.E.u,!0);d.data={V:k.l.YM,data:h.dataTransfer.files,az:v,J6:J};
e.a(d)}};if(V.Rw(27))V.vq=window;else V.vq=V.a2R;V.vq._cwY=V.vq[V.M8("t$&!'31")];var i4={};i4.aai=function(T){var h=i4.je[T],e=document.documentElement.style,J=1;
e.setProperty("--base","#"+B.zF(h["--base"]));e.setProperty("--bg-panel","#"+B.zF(h["--bg-panel"]));
e.setProperty("--bg-canvas","#"+B.zF(h["--bg-canvas"]));e.setProperty("--bg-input","#"+B.zF(h["--bg-input"]));
e.setProperty("--bg-bbtn","#"+B.zF(h["--bg-bbtn"]));e.setProperty("--bg-bbtnOver","#"+B.zF(h["--bg-bbtnOver"]));
e.setProperty("--brdr","#"+B.zF(h["--brdr"]));e.setProperty("--text-color","#"+B.zF(h["--text-color"]));
e.setProperty("--brdrLgt","rgba(255,255,255,"+h["--brdrLgt"]+")");e.setProperty("--brdrDrk","rgba(  0,  0,  0,"+h["--brdrDrk"]+")");
e.setProperty("--alphaDark",""+h["--alphaDark"]);e.setProperty("--gs-invert",""+h["--gs-invert"]);e.setProperty("--accent","#"+B.zF(h["--accent"]));
var v=h["--sh-clr"];e.setProperty("--sh-clr","rgba("+(v>>16)+","+(v>>8&255)+","+(v&255)+", 0.45)");e.setProperty("--absc",""+h["--absc"]);
e.setProperty("--abs255",""+h["--abs255"]);if(1<V.A_()&&V.A_()<1.5)J=1/V.A_();e.setProperty("--img20",20*J+"px");
e.setProperty("--img18",18*J+"px");e.setProperty("--img15",15*J+"px");if(PIMG!=null){var m="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var T=0;T<m.length;T++){var d=m[T],x=d.split("/").pop(),j=PIMG["__"+d]==null?h["--gs-invert"]:"0";
e.setProperty("--icon_"+x,"url("+PIMG[d]+")");e.setProperty("--icon_"+x+"_invrt",j)}}var E=document.querySelector("meta[name=theme-color]");
if(E)E.setAttribute("content","#"+B.zF(h["--base"]))};(function(){var h=3441398,e=3441398;i4.je=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":e},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":h},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":h},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":h},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":h},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":h},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":e}]}());
function aL(){this.t9={};this.JZ={}}aL.prototype.acQ=function(h){var e=this.t9[h];if(e==null)return!1;
return e.length>0};aL.prototype.addEventListener=function(h,e){this.P(h,e,null)};aL.prototype.P=function(h,e,v){if(this.t9[h]==null){this.t9[h]=[];
this.JZ[h]=[]}this.t9[h].push(e);this.JZ[h].push(v)};aL.prototype.removeEventListener=function(h,e){var v=this.t9[h];
if(v==null)return;var J=v.indexOf(e);if(J<0)return;var m=this.JZ[h];v.splice(J,1);m.splice(J,1)};aL.prototype.a=function(h){h.currentTarget=this;
if(h.target==null)h.target=this;var e=this.t9[h.c];if(e==null)return;var v=this.JZ[h.c];for(var T=0;
T<e.length;T++){if(v[T]==null)e[T](h);else e[T].call(v[T],h)}};var g3=function(h,e){if(!e)e=!1;this.c=h;
this.target=null;this.currentTarget=null;this.bubbles=e;this.I=null;this.u$=!1},k={E:{A:"0",u:"1",Fq:"1.5",f:"2",Y$:"3",awG:"4"},l:{V4:"10",Eu:"11",Ni:"12",pz:"13",zq:"14",atw:"14.1",We:"15",iv:"16",gh:"17",O4:"18",TN:"19",aiz:"19.5",aBQ:"20",abl:"20.1",a6f:"20.5",a3T:"20.6",X8:"21",Bn:"22",Qv:"23",Os:"24",Xq:"25",vI:"26",zM:"27",f9:"28",av7:"28.5",a4f:"29",YM:"30",px:"31",NY:"32",bf:"33",vi:"34",Gi:"35",a3b:"35.5",US:"37",aAM:"38",zw:"39",gv:"40",M7:"41",c$:"41.5",bC:"42",hJ:"43",afU:"43.5",Q$:"44",azm:"45",E1:"46",x_:"47",kX:"48",n9:"49",arP:"50",cb:"51"}};
function fx(){aL.call(this);this.parent=null;this.Z=null;this.VA=0;this.qw=0;this.ac4=!1}fx.prototype=new aL;
fx.prototype.aeT=function(h){var iW=this;while(iW!=null){if(iW==h)return!0;iW=iW.parent}return!1};fx.prototype.OD=function(){var h=this.Z;
return h.offsetWidth+h.clientLeft};fx.prototype.a5u=function(){var h=this.Z;return h.offsetHeight+h.clientTop};
fx.prototype.update=function(h){};fx.prototype.a=function(h){aL.prototype.a.call(this,h);if(h.bubbles&&this.parent!=null)this.parent.a(h)};
fx.prototype.S=function(){};fx.prototype.Kt=function(h,e){};fx.prototype.VZ=function(h){V.zZ(this.Z,"disabled")};
fx.prototype.kE=function(h){V.t7(this.Z,"disabled")};fx.prototype.Es=function(h){if(h)this.kE();else this.VZ()};
fx.prototype.vo=function(){this.ac4=!0};fx.prototype.UO=function(){var h=this.eM,e=this.ac4,v=this.Ul;
if(h){h=bj.get(this.eM);if(!e)h+=":";v.textContent=h;if(e){v.style.display="block";v.style.lineHeight="1.6em";
v.style.marginLeft="3px";V.t7(v,"flabel")}}if(e){this.mW.style.fontSize="1.15em"}};function c8(h){fx.call(this);
this.fo=[];this.yt=!1;this.a76=0;this.FQ={x:0,y:0,fE:!1};this.Us=h;this.at8=this.wa.bind(this);this.cA=this.$X.bind(this);
this.jO=this.sd.bind(this);V.La(h,this.at8);V.Xa(h,this.cA);h.addEventListener("wheel",this.Jo.bind(this),!1);
h.addEventListener("contextmenu",this.aH2.bind(this),!1);var e=this.aBB.bind(this);h.addEventListener("gesturestart",e,!1);
h.addEventListener("gesturechange",e,!1);h.addEventListener("gestureend",e,!1);V.zY(h)}c8.prototype=new fx;
c8.prototype.aBB=function(h){if(h.type=="gesturestart")this.tb=h.scale;if(h.type=="gesturechange"){var e=new g3("mouse",!0);
e.action="scroll";e.ky=!0;this.H9(h,e);var v=(this.tb-h.scale)/this.tb;e.Mx=new fq(0,100*v);this.tb=h.scale;
this.a(e)}};c8.prototype.H3=function(h){var e=-1,v=this.fo;for(var T=0;T<v.length;T++)if(v[T].pointerId==h.pointerId)e=T;
return e};c8.gS=function(h){var e=h.pointerType,v=window.__kb;return e=="touch"&&v.r(dW.aox)};c8.axc=function(h){var e=h.button!=null&&h.button!=0?h.which==2?"i":"r":"";
if(dW.hU()&&h.ctrlKey)e="r";return e};c8.prototype.wa=function(h){if(c8.gS(h))return;var e=this.H3(h);
if(e!=-1)this.fo[e]=h;else this.fo.push(h);if(this.fo.length==1){this.a76=Date.now();var v=c8.axc(h)+"down",J=new g3("mouse",!0);
J.action=v;this.H9(h,J);this.a(J);V.L0(this.Us,this.cA);V.Xa(window,this.cA);V.wZ(window,this.jO)}if(this.fo.length==2){if(Date.now()-this.a76<100){var J=new g3("mouse",!0);
J.action="cancellast";this.H9(h,J);this.a(J)}this.yt=!0}if(this.fo.length==2)this.aqV("multidown")};
c8.prototype.$X=function(h){if(c8.gS(h))return;var e=this.H3(h);if(e!=-1)this.fo[e]=h;if(this.fo.length>1){this.aqV("multimove")}if(this.yt)return;
if(this.fo.length==1&&e==-1)return;var v=new g3("mouse",!0);v.action="move";this.H9(h,v);this.a(v)};
c8.prototype.sd=function(h){if(c8.gS(h))return;var e=this.fo;e=this.fo=[];if(e.length==0){var v=c8.axc(h)+"up",J=new g3("mouse",!0);
J.action=v;this.H9(h,J);this.a(J);V.L0(window,this.cA);V.SV(window,this.jO);V.Xa(this.Us,this.cA);this.yt=!1}};
c8.prototype.Jo=function(h){h.preventDefault();if(h.deltaX==0&&h.deltaY==0)return;var e=new g3("mouse",!0);
e.action="scroll";e.ky=h.ctrlKey;this.H9(h,e);this.a(e)};c8.prototype.aH2=function(h){V.wY(h);if(V.a0n(h)){var e=new g3("mouse",!0);
this.H9(h,e);e.action="rdown";this.a(e);e.action="rup";this.a(e)}};c8.prototype.aqV=function(h){var e=this.fo,v=V.A_(),J=[];
for(var T=0;T<e.length;T++){var m=J[T]=V.IE(e[T],this.Us);m.x*=v;m.y*=v}var d=new g3("mouse",!0);d.action=h;
d.mG=J;if(e.length==2)this.a(d)};c8.prototype.H9=function(h,e,v){var J=this.fo.length!=0;if(e.action!="up"){var m=V.A_();
if(v==null)v=V.IE(h,this.Us);this.FQ=e.mj={x:m*v.x,y:m*v.y,fE:J};var d=V.IE(h,document.body);e.mj.oU=d.x;
e.mj.dG=d.y}else this.FQ=e.mj={x:this.FQ.x,y:this.FQ.y,fE:J};e.mj.$v=.5;if(h.pressure!=null)e.mj.$v=h.pressure;
if(h.pointerType=="mouse")e.mj.$v*=2;e.mj.ar6=h.pointerType;if(h.deltaX!=null){var x=h.deltaMode==0?1:40;
e.Mx=new fq(h.deltaX*x,h.deltaY*x)}};function ar(h,e,v){fx.call(this);this.dX=null;this.aca=this.sd.bind(this);
this.ane=this.O_.bind(this);this.aFq=this.awS.bind(this);this.a0t=this.aqq.bind(this);this.Z2=[];this.J9=[];
this.WL=[];this.afx=[];this.acK=v;this.Z=V.k("div","contextpanel "+(v?"cp_dark":"cp_light"));this.Z.addEventListener("contextmenu",V.dR,!1);
this.ne=null;this.ZV=0;this.KN=h;this.Sh=e;this.v4=[];for(var T=0;T<h.length;T++){var J=V.k("div","enab");
this.J9.push(J);this.Z.appendChild(J);var m=h[T].mT;if(m){if(m.startsWith("#")){var d=V.k("span");V.v(d,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+m);
J.appendChild(d)}else J.innerHTML=V.pY(h[T].mT,null,"thumb")}else{var x=V.k("span","check");this.afx.push(x);
J.appendChild(x)}var j=V.k("span","label");j.textContent=bj.get(h[T].name);J.appendChild(j);this.WL.push(j);
if(h[T].jV)this.Z.appendChild(V.k("hr"));if(h[T].vD||h[T].sub){var E=J.iK=V.k("span","right");J.appendChild(E);
if(h[T].vD)E.textContent=dW.G5(h[T].vD);else if(h[T].sub)E.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}J.addEventListener(v?"mouseup":"click",this.aca,!1);
J.addEventListener("mouseover",this.ane,!0);J.addEventListener("mouseout",this.aFq,!0);if(h[T].sub){var L=new ar(h[T].sub,e?e[T].sub:null);
L.parent=this;this.v4.push(L);L.P("select",this.aof,this)}else this.v4.push(null)}}ar.prototype=new fx;
ar.prototype.a8M=function(h){V.H5(this.Z);for(var T=0;T<h.length;T++)if(h[T]!=0&&h[T]!=null){this.Z.appendChild(this.J9[T]);
if(h[T]!=1&&this.v4[T])this.v4[T].a8M(h[T])}};ar.prototype.S=function(){var h=this.KN;for(var T=0;T<h.length;
T++){if(h[T].title)this.J9[T].title=bj.get(h[T].title);this.WL[T].textContent=bj.get(h[T].name)+(h[T].U$?"...":"")}for(var T=0;
T<this.v4.length;T++)if(this.v4[T])this.v4[T].S()};ar.prototype.update=function(h,e){if(!this.acK){this.Z.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var v=this.KN,J=window.innerWidth<450?"none":"inline";
for(var T=0;T<v.length;T++){var m=this.J9[T];if(m.iK&&!this.v4[T])m.iK.style.display=J;if(v[T].m){var d=v[T].m(h,e,T);
if(d.m!=null)this.J9[T].className=d.m?"enab":"disab";if(d.se!=null)this.WL[T].textContent=d.se;if(d.Z7!=null)this.afx[T].innerHTML=d.Z7?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(d.h!=null)this.Sh[T]=d.h}}for(var T=0;T<this.v4.length;T++)if(this.v4[T])this.v4[T].update(h,e)};
ar.prototype.S9=function(){return this.Z2};ar.prototype.sd=function(h){if(h.button!=0)return;var T=this.J9.indexOf(h.currentTarget);
if(this.v4[T]){this.ZV=T;this.aqq()}else{if(this.Sh){var e=this.Sh[T],v=new g3(e.o,!0);v.I=e.I;v.data=e.h;
this.a(v)}this.dX=null;this.Z2=[T];this.a(new g3("select",!1));var v=new g3(k.E.u,!0);v.data={V:k.l.pz};
this.a(v)}};ar.prototype.O_=function(h){var T=this.J9.indexOf(h.currentTarget);this.xS();this.ZV=T;this.ne=setTimeout(this.a0t,300)};
ar.prototype.awS=function(h){this.xS()};ar.prototype.xS=function(){if(this.ne){clearTimeout(this.ne);
this.ne=null}};ar.prototype.aqq=function(){this.xS();var T=this.ZV;if(this.dX)this.dX.amo();if(this.v4[T]==null)return;
this.dX=this.v4[T];var h=this.J9[T].getBoundingClientRect(),e=new g3(k.E.u,!0);e.data={V:k.l.Eu,nB:this.v4[T],x:h.left+h.width+2,y:h.top};
this.a(e)};ar.prototype.amo=function(){for(var T=0;T<this.v4.length;T++)if(this.v4[T])this.v4[T].amo();
var h=new g3(k.E.u,!0);h.data={V:k.l.Ni,nB:this};this.a(h)};ar.prototype.aof=function(h){var T=this.v4.indexOf(h.target);
this.Z2=[T].concat(h.target.S9());this.a(new g3("select",!1))};function hJ(h,e,v){fx.call(this);this.Z=V.k("span","fitem cbox");
if(e==null)e=!0;if(v==null)v="flabel";var J="cb"+V.FA();this.mW=V.k("input","");this.mW.setAttribute("type","checkbox");
this.mW.setAttribute("id",J);this.Z.appendChild(this.mW);this.eM=h;this.tF=V.k("label",v);if(e)this.tF.setAttribute("for",J);
this.Z.appendChild(this.tF);this.S();this.mW.addEventListener("change",this.jK.bind(this),!1)}hJ.prototype=new fx;
hJ.prototype.ajJ=function(){return this.eM};hJ.prototype.Ao=function(h){this.tF.textContent=h};hJ.prototype.S=function(){var h=this.eM;
if(typeof h=="string"&&h.startsWith("<"))this.tF.innerHTML=h;else this.tF.textContent=bj.get(h)};hJ.prototype.vU=function(){this.mW.checked=!0};
hJ.prototype.H2=function(){this.mW.checked=!1};hJ.prototype.rN=function(){return this.mW.checked};hJ.prototype.e=function(h){this.mW.checked=h};
hJ.prototype.j=hJ.prototype.rN;hJ.prototype.jK=function(h){this.a(new g3(k.E.f,!1))};function cE(h,e){fx.call(this);
this.eM=h;this.Z=V.k("span","labelitem fitem"+(e?" spread":""));this.S()}cE.prototype=new fx;cE.prototype.e=function(h){this.Z.textContent=h};
cE.prototype.j=function(){return this.Z.textContent};cE.prototype.kE=function(){this.Z.removeAttribute("disabled")};
cE.prototype.VZ=function(){this.Z.setAttribute("disabled","")};cE.prototype.Ao=function(h){this.Z.textContent=h};
cE.prototype.S=function(){this.Z.textContent=bj.get(this.eM)};cE.prototype.ajJ=function(){return this.eM};
function eA(h,e,v,J,m){fx.call(this);this.vw=!1;this.Z=V.k("button","fitem"+(e?" spread":"")+(J?" bbtn":""));
this.eM=h;this.PN=v;this.S();var d=m&&window.PointerEvent?"pointerup":"click";this.Z.addEventListener(d,this.vS.bind(this),!1)}eA.prototype=new fx;
eA.prototype.S=function(){var h=this.Z,e=this.eM,v=this.PN;if(typeof e=="string"&&(e.startsWith("<img")||e.startsWith("<svg")||e.startsWith("<span"))){if(!this.vw){h.innerHTML=e;
V.v(h,"padding:2px");this.vw=!0}}else h.textContent=bj.get(e);if(v){h.setAttribute("title",bj.get(v))}};
eA.prototype.auZ=function(h){this.Z.setAttribute("title",h)};eA.prototype.vS=function(h){this.a(new g3("click",!1))};
eA.prototype.vU=function(){V.zZ(this.Z,"bactive")};eA.prototype.H2=function(){V.t7(this.Z,"bactive")};
eA.prototype.Ao=function(h,e){if(h&&h!=this.eM){this.eM=h;this.vw=!1}if(e)this.PN=e;this.S()};eA.prototype.e=function(h){if(h)this.vU();
else this.H2()};eA.prototype.rN=function(){return this.Z.getAttribute("class").indexOf("bactive")!=-1};
eA.prototype.j=function(){return this.rN()};function jE(h,e,v,J,m){fx.call(this);var d=V.FA();this.Z=V.k("span","fitem tinput");
if(h){this.eM=h;this.Ul=V.k("label","flabel");this.Z.appendChild(this.Ul);this.Ul.setAttribute("for",d);
this.S()}if(m){this.mW=V.k("span")}else if(J==null){this.mW=V.k("input");this.mW.setAttribute("type","text")}else this.mW=V.k("textarea","scrollable");
this.mW.setAttribute("id",d);if(v)V.v(this.mW,"width:"+v+"em;"+(m?" display:inline-block; margin-left:6px;":""));
if(J)this.mW.setAttribute("rows",J);this.Z.appendChild(this.mW);if(e){this.SY=V.k("span");this.SY.textContent=e;
this.SY.style.marginLeft="2px";this.Z.appendChild(this.SY)}V.JM(this.mW);dW.H_(this.mW);this.mW.addEventListener("change",this.jK.bind(this),!1);
this.mW.addEventListener("input",this.amz.bind(this),!1);if(J==null)this.mW.addEventListener("keyup",this.pL.bind(this),!1)}jE.prototype=new fx;
jE.prototype.S=function(){this.UO()};jE.prototype.pL=function(h){var e=dW.ll(h.code,dW.BC),v=dW.ll(h.code,dW.zD);
if(v||e)this.mW.blur()};jE.prototype.Ao=function(h){this.Ul.textContent=h};jE.prototype.e=function(h){var e=this.mW,v=h==null?"":h,J=e.tagName=="SPAN";
if(J){e.textContent=" "+v;if(this.SY)e.appendChild(this.SY)}else e.value=v};jE.prototype.ai$=function(h){this.SY.textContent=h};
jE.prototype.j=function(){return this.mW.value};jE.prototype.bX=function(){this.mW.select();this.mW.focus()};
jE.prototype.jK=function(h){this.a(new g3(k.E.f,!1))};jE.prototype.amz=function(h){this.a(new g3("input",!1))};
function eU(h,e,v,J,m,d,x,j,E){fx.call(this);if(m==null)m=0;this.Z=V.k("span","fitem");var L=V.FA();
this.eM=h;this.PN=j;this.Gv=0;this.v8=E;this.f1=e;this.k_=v;this.PM=null;if(J instanceof Array){this.PM=J;
J=J[0]}this.OS=J;this.FK=m;this.aCs=d;this.iX=x;this.hs=0;this.Ul=V.k("label","flabel");V.v(this.Ul,"cursor:col-resize;");
this.Ud=V.k("input");this.Ud.setAttribute("type","range");if(x){this.Ud.min=0;this.Ud.max=400}else{this.Ud.min=e;
this.Ud.max=v;if(m!=0)this.Ud.step=(v-e)/200}this.mW=V.k("input");this.mW.setAttribute("type","text");
this.mW.setAttribute("id",L);this.SY=V.k("span");this.SY.textContent=J;V.JM(this.mW);this.mW.addEventListener("change",this.jK.bind(this),!1);
this.mW.addEventListener("keydown",this.cp.bind(this),!1);dW.H_(this.mW);this.mW.addEventListener("keyup",this.pL.bind(this),!1);
this.mW.addEventListener("wheel",this.Jo.bind(this),!1);this.Ud.addEventListener("input",this.jK.bind(this),!1);
if(E)this.Ud.addEventListener("change",this.jK.bind(this),!1);this.Ud.addEventListener("click",this.aG3.bind(this),!1);
this.aaO=this.amj.bind(this);this.app=this.amO.bind(this);this.a0_=this.asL.bind(this);this.Av=0;this.N5=0;
this.Ee=!1;V.La(this.Ul,this.aaO);V.zY(this.Ul)}eU.prototype=new fx;eU.prototype.JO=function(h){this.FK=h};
eU.prototype.Ao=function(h){this.Ul.style.display=h?"inherit":"none";if(h)this.Ul.textContent=bj.get(h)};
eU.prototype.S=function(){var iW=this.eM,h=this.PN;if(iW){if(typeof iW=="string"&&iW.startsWith("<"))this.Ul.innerHTML=iW;
else this.UO()}if(h){h=bj.get(h);if(iW)this.Ul.setAttribute("title",h);this.mW.setAttribute("title",h)}};
eU.prototype.e=function(h,e){var v=this.f1==this.k_,m;if(!v&&this.f1>=0)h=Math.max(this.f1,h);if(this.FK==0)h=Math.round(h);
var J=this.OS;this.Gv=h;this.mW.value=parseFloat(this.FK!=0?h.toFixed(this.FK):h)+(this.aCs&&J?(J.toLowerCase()==J.toUpperCase()?"":" ")+J:"");
if(-this.f1==this.k_)m=200+Math.sign(h)*200*Math.pow(Math.abs(h)/this.k_,1/2.7);else m=400*Math.pow((h-this.f1)/(this.k_-this.f1),1/2.7);
this.Ud.value=this.iX?m:h;if(e)this.ow()};eU.prototype.j=function(){var h=this.Gv;if(isNaN(h))h=0;return h};
eU.prototype.qA=function(){return this.OS};eU.prototype.jK=function(h){var e=0;if(h.currentTarget==this.mW){var v=h.target.value,J=0;
if(v=="")e=0;else if(this.OS){e=parseFloat(v)}else{try{e=eval(v)}catch(h){e=1}}if(isNaN(e))e=0;while(J<v.length&&(v.charAt(J)=="."||48<=v.charCodeAt(J)&&v.charCodeAt(J)<=57))J++;
var m=v.slice(J).trim();if(this.PM&&this.PM.indexOf(m)!=-1)this.OS=m}else{if(Date.now()-this.hs<10)return;
e=parseFloat(h.target.value);if(this.iX){if(-this.f1==this.k_)e=Math.sign(e-200)*Math.pow(Math.abs(e-200)/200,2.7)*this.k_;
else e=this.f1+Math.pow(e/400,2.7)*(this.k_-this.f1);e=this.aAu(e)}}this.e(e);if(h.type=="input"&&this.v8)return;
this.ow()};eU.prototype.ow=function(){this.a(new g3(k.E.f))};eU.prototype.aAu=function(h){if(this.k_-this.f1>50&&h>10)h=Math.round(h);
return h};eU.prototype.cp=function(h){var e=0;if(dW.ll(h.code,dW.nk))e=1;if(dW.ll(h.code,dW.nG))e=-1;
if(e!=0)this.abu(e,h.shiftKey)};eU.prototype.pL=function(h){var e=dW.ll(h.code,dW.BC),v=dW.ll(h.code,dW.zD);
if(e)this.e(this.j());if(v||e)this.mW.blur()};eU.prototype.Jo=function(h){this.abu(h.deltaY>0?-1:1,h.shiftKey)};
eU.prototype.abu=function(h,e){var v=this.j(),J=this.FK,m=h*(J==null||J==0||v>5?1:.1);if(e)m*=10;var d=v+m;
if(!this.iX&&this.k_!=this.f1)d=Math.min(this.k_,d);this.e(d);this.ow()};eU.prototype.aG3=function(h){var e=Date.now()-this.hs;
this.hs=Date.now();if(e>200)return;var v=this.f1,J=this.k_,m=(v+J)/2;if(v<1&&J>1&&J<10)m=1;else if(v<90&&J>110)m=100;
else if(v<0&&J>0)m=0;this.e(m);this.ow()};eU.prototype.amj=function(h){V.Xa(document,this.app);V.wZ(document,this.a0_);
this.Av=V.IE(h,document.body).x;this.N5=this.j()};eU.prototype.amO=function(h){V.wY(h);var e=this.f1==this.k_,v=V.IE(h,document.body).x,J=(v-this.Av)*(e?1:1/120*(this.k_-this.f1)),m=this.N5+J;
if(e)m=Math.round(m);if(!e){if(!0){m=Math.max(this.f1,m);if(m==this.f1){this.Av=v;this.N5=this.f1}}if(!this.iX){m=Math.min(this.k_,m);
if(m==this.k_){this.Av=v;this.N5=this.k_}}m=this.aAu(m)}this.Ee=!0;this.e(m);if(!this.v8)this.ow()};
eU.prototype.asL=function(h){if(!this.Ee)this.mW.focus();this.Ee=!1;if(this.v8)this.ow();V.L0(document,this.app);
V.SV(document,this.a0_)};eU.prototype.bX=function(){this.mW.select();this.mW.focus()};function cs(h,e,v,J,m,d,x,j,E,L){eU.call(this,h,e,v,J,m,!0,d,E,L);
V.zZ(this.Z,"rangedropinput");this.Z.appendChild(this.Ul);V.v(this.mW,"width:"+(j?j:3.3)+"em");this.Z.appendChild(this.mW);
this.aBT=V.k("span","rangecontFloat");this.aBT.appendChild(this.Ud);this.c3=V.k("button");this.c3.textContent="\u25BC";
V.La(this.c3,this.aiX.bind(this));if(x!=!0)this.Z.appendChild(this.c3);this.Iu=new fx;this.Iu.Z=this.aBT}cs.prototype=new eU;
cs.prototype.aiX=function(h){if(V.gl(this.Iu.Z))return;h.stopPropagation();var e=this.Z.getBoundingClientRect();
V.v(this.Ud,"width:"+e.width+"px;");var v=new g3(k.E.u,!0);v.data={V:k.l.Eu,nB:this.Iu,x:e.left-10,y:e.top+e.height};
this.a(v)};function bQ(h,e,v,J,m,d){eU.call(this,h,e,v,J,m,!1,d);this.Z.appendChild(this.Ul);var x=V.k("span");
this.Z.appendChild(x);x.appendChild(this.Ud);this.Z.appendChild(this.mW);V.v(this.mW,"width:3.3em");
if(this.OS)this.Z.appendChild(this.SY)}bQ.prototype=new eU;function ci(h,e,v,J,m,d,x,j){eU.call(this,h,e,v,J,m,!0,d,null,x);
V.zZ(this.Z,"trangeinput");this.Z.appendChild(this.Ul);this.Z.appendChild(this.mW);var E=V.k("span");
if(j!=!0)this.Z.appendChild(E);E.appendChild(this.Ud)}ci.prototype=new eU;function jV(h,e,v,J){fx.call(this);
if(!e)return;this.hK=0;this.eM=h;this.a6N=J;this.km=null;this.xM=v;this.G_=[];var m="dd"+V.FA();this.Z=V.k("span","fitem ddmenu");
if(h){this.Ul=V.k("label","flabel");this.Z.appendChild(this.Ul);this.Ul.setAttribute("for",m)}this.mW=V.k("select");
dW.H_(this.mW);this.mW.setAttribute("id",m);this.Z.appendChild(this.mW);this.mW.addEventListener("change",this.jK.bind(this),!1);
function d(x){var j=0;if(dW.ll(x.code,dW.nk))j=1;if(dW.ll(x.code,dW.nG))j=-1;if(j!=0)x.stopPropagation()}this.mW.addEventListener("keydown",d,!1);
this.mW.addEventListener("keyup",d,!1);this.Ru=[];this.mZ=null;this.VU(e,v);this.S()}jV.prototype=new fx;
jV.prototype.Ao=function(h){this.eM=h;this.S()};jV.prototype.S=function(){this.UO();if(this.mZ)this.VU(this.mZ,this.xM);
if(this.a6N)this.mW.setAttribute("title",bj.get(this.a6N));this.e(this.hK)};jV.prototype.j=function(){return this.hK};
jV.prototype.VU=function(h,e){V.H5(this.mW);var v=[],J=0;if(e){v.push(e[0]);for(var T=1;T<e.length;T++)v.push(v[T-1]+e[T])}this.mZ=h;
this.km=[];this.xM=e;for(var T=0;T<h.length;T++){var m=V.k("option");if(this.G_.indexOf(T)!=-1)m.setAttribute("disabled","");
m.textContent=bj.get(h[T]);m.setAttribute("value",T);this.mW.appendChild(m);this.Ru.push(m);this.km.push(T+J);
if(v.indexOf(T+1)!=-1&&T!=h.length-1){var d=V.k("option");d.setAttribute("disabled","");d.textContent="";
this.mW.appendChild(d);J++}}};jV.prototype.azi=function(T){var h=this.G_,e=h.indexOf(T);if(e==-1)h.push(T);
this.S()};jV.prototype.aHg=function(T){var h=this.G_,e=h.indexOf(T);if(e!=-1)h.splice(e,1);this.S()};
jV.prototype.e=function(h){this.hK=h;this.mW.selectedIndex=this.km[h]};jV.prototype.jK=function(h){this.hK=this.km.indexOf(this.mW.selectedIndex);
this.a(new g3(k.E.f,!1))};jV.prototype.bX=function(){this.mW.focus()};function ha(h,e,v,J,m){fx.call(this);
if(!e)return;this.hK=0;this.auK=J;this.aoy=m;this.Z=V.k("span","fitem bbmenu");this.tF=V.k("label","flabel");
if(h){this.eM=h;this.tF.textContent=h+":";this.Z.appendChild(this.tF)}this.Ru=[];this.lj=V.k("span");
this.Z.appendChild(this.lj);this.mZ=null;this.VU(e,v);this.e(0)}ha.prototype=new fx;ha.prototype.Ao=function(h){this.eM=h;
this.S()};ha.prototype.S=function(){var h=this.tF.parentNode!=null,e=this.Z;if(this.eM!=null){if(!h){e.appendChild(this.tF);
e.appendChild(this.lj)}this.tF.textContent=bj.get(this.eM)+": "}else if(h)e.removeChild(this.tF);for(var T=0;
T<this.Ru.length;T++)this.Ru[T].S()};ha.prototype.j=function(){return this.hK};ha.prototype.VU=function(h,e){V.H5(this.lj);
this.Ru=[];this.mZ=h;for(var T=0;T<h.length;T++){var v=new eA(h[T],!1,e?e[T]:null,this.auK);v.P("click",this.jK,this);
this.lj.appendChild(v.Z);this.Ru.push(v)}this.S()};ha.prototype.e=function(h){this.hK=h;for(var T=0;
T<this.Ru.length;T++)this.Ru[T].H2();if(h!=-1)this.Ru[h].vU()};ha.prototype.jK=function(h){var T=this.Ru.indexOf(h.target);
this.e(this.aoy&&T==this.hK?-1:T);this.a(new g3(k.E.f,!1))};ha.no=function(h,e,v){if(e==null)e=16;var J=ha.hr,m=J.getContext("2d"),d=e>>>1;
J.width=J.height=e;var x=[];for(var T=0;T<h.length;T++){if(h[T][0]=="-")x.push(h[T].slice(1));else if(h[T]=="checker"||h[T].startsWith("#")){if(h[T]=="checker"){m.fillStyle="white";
m.fillRect(0,0,e,e);m.fillStyle="#bbbbbb";m.fillRect(d,0,d,d);m.fillRect(0,d,d,d)}else if(h[T].startsWith("#")){m.fillStyle=h[T];
m.fillRect(0,0,e,e)}x.push("<img src=\""+J.toDataURL()+"\" />")}else x.push(V.pY(h[T],null,v?v:"autoscale"))}return x};
ha.hr=V.k("canvas");function hR(h,e,v,J,m,d){fx.call(this);this.Z=V.k("span","fitem mbox");this.a5O=v;
this.a5o=m;if(h){this.eM=h;this.tF=V.k("label","flabel");this.Z.appendChild(this.tF)}this.Q0=e;this.fA=[];
for(var T=0;T<e.length;T++){var x=v?new eA(e[T],!1,J?J[T]:null,!1,d):new hJ(e[T],!0,"");x.P(v?"click":k.E.f,this.jK,this);
this.fA.push(x);this.Z.appendChild(x.Z)}this.S()}hR.prototype=new fx;hR.prototype.e=function(h){for(var e=0;
e<this.Q0.length;e++)this.fA[e].e(h[e])};hR.prototype.j=function(){var h=[];for(var e=0;e<this.Q0.length;
e++)h[e]=this.fA[e].j();return h};hR.prototype.S=function(){if(this.eM)this.tF.innerHTML=bj.get(this.eM)+": ";
var h=this.fA;for(var e=0;e<h.length;e++){h[e].S();if(e==h.length-1)h[e].Z.style.marginRight="0px"}};
hR.prototype.jK=function(h){var T=this.fA.indexOf(h.currentTarget),e=this.fA[T];if(this.a5O)e.e(!e.j());
if(this.a5o){var v=e.j();for(var T=0;T<this.fA.length;T++)this.fA[T].e(!1);e.e(v)}this.a(new g3(k.E.f,!1))};
function dN(h,e){fx.call(this);this.QN=[];this.X=[];this.ax2=h;this.LO=e;this.AS=0;this.Me=null;this.cT=new fq(0,0);
if(e!=null){this.Oe=new ar([{name:[6,37]},{name:[5,4]}]);this.Oe.parent=this;this.Oe.P("select",this.ra,this)}this.Z=V.k("div","imageset scrollable");
this.Z.addEventListener("contextmenu",V.dR,!1)}dN.prototype=new fx;dN.prototype.S=function(){if(this.Oe)this.Oe.S()};
dN.prototype.ra=function(h){var T=this.Oe.S9()[0],e=new g3(k.E.u,!0),v={V:k.l.Gi,m0:this.LO,Wi:this.X.slice(0)};
if(T==0){var J=this.Me[1][this.X[0]],m=J.split("/");if(m.length==2){v.Mn=m[0]+"/";J=m[1]}v.N2="rnm";
e.data={V:k.l.Xq,dF:"namewindow",xz:J,P_:{o:k.E.u,h:v}}}else{e.data=v;v.N2="del"}this.a(e)};dN.prototype.a7a=function(){return this.AS};
dN.prototype.Vb=function(h){this.AS=h;if(this.Me)this.FN()};dN.prototype.eZ=function(h,e,v,J){this.Me=[h,e,v,J];
this.FN()};dN.prototype.FN=function(){var h=this.Me,e=this.Z,v=h[0],J=h[1],m=h[2],d=h[3];this.QN=[];
V.H5(e);var x=this.vS.bind(this),j=this.AS;if(j==0)V.zZ(e,"imageset");else V.t7(e,"imageset");var E={};
for(var T=0;T<v.length;T++){var L=v[T],p=null,Z=null;if(L==null){this.QN.push(null);continue}if(typeof L=="string"){p=V.k("img","image");
p.setAttribute("src",L)}else p=L;if(m)V.Aw(p,m,d);if(this.ax2)V.zZ(p,"gsicon");if(J){var Z=J[T],o=Z.split("/");
if(o.length==2){var u=E[o[0]];Z=o[1];if(u==null)u=E[o[0]]=[];u.push(T)}}if(j==0){}else{var N=V.k("div","listitem");
N.appendChild(p);var M=V.k("span");M.textContent=Z?Z:"Item "+(T+1);V.v(M,"margin-left:4px;");N.appendChild(M);
p=N}if(Z)p.setAttribute("title",Z);p.addEventListener("mousedown",x,!1);this.QN.push(p);e.appendChild(p)}if(Object.keys(E).length!=0){V.H5(e);
for(var O in E){var u=E[O],F=V.k("div","listitem head");V.v(F,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var W=V.k("div","headL");F.appendChild(W);W.appendChild(V.k("div","folder"));var M=V.k("span");M.textContent=O;
W.appendChild(M);e.appendChild(F);for(var T=0;T<u.length;T++)e.appendChild(this.QN[u[T]])}}};dN.prototype.vS=function(h){if(this.LO==null)h.preventDefault();
var e=this.QN.indexOf(h.currentTarget),v=window.__kb,J=this.X,m=J.length;if(v.r(dW.l$)){var d=Math.min(J[0],J[J.length-1],e),x=Math.max(J[0],J[J.length-1],e);
J=[];for(var T=d;T<=x;T++)J.push(T)}else if(v.r(dW.Dd)){var j=J.indexOf(e);if(j==-1)J.push(e);else J.splice(j,1)}else J=[e];
J.sort(function(Z,o){return Z-o});if(h.button==0||m==1)this.e(J);this.cT=V.IE(h,h.currentTarget);if(h.button==0)this.a(new g3(k.E.f));
if(h.button==2&&this.Oe){var E=this.Oe;E.update(null);var L=V.IE(h,document.body),p=new g3(k.E.u,!0);
p.data={V:k.l.Eu,nB:E,x:L.x,y:L.y+2};this.a(p)}};dN.prototype.j=function(){return this.X.slice(0)};dN.prototype.axx=function(){var h=this.cT;
return new fq(h.x,h.y)};dN.prototype.e=function(h){this.X=h.slice(0);for(var T=0;T<this.QN.length;T++){var e=this.QN[T];
if(e==null)continue;if(h.indexOf(T)!=-1)V.zZ(e,"selected");else V.t7(e,"selected")}};function iU(h,e){fx.call(this);
this.ax2=h;this.LO=e;this.AS=0;this._a=null;this.f6=[];this.u6=[];this.X=[];var v=dq.AM[e],J=v[0].toUpperCase();
this.Oe=new ar([{name:["VAR0 ."+J,[1,0]]},{name:["VAR0 ."+J,[1,8]]},{name:[6,37]},{name:[5,4],jV:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.Oe.parent=this;this.Oe.P("select",this.ra,this);this.Z=V.k("div","imageset scrollable");this.Z.addEventListener("contextmenu",V.dR,!1);
this.auh=this.vS.bind(this);this.adY=function(m){m.dataTransfer.setData("text",this.f6.indexOf(m.currentTarget))}.bind(this);
this.a72=this.apW.bind(this)}iU.prototype=new fx;iU.prototype.acZ=function(){return this.Oe};iU.prototype.S=function(){this.Oe.S()};
iU.prototype.apW=function(h){var e=parseInt(h.dataTransfer.getData("text")),v=this.f6.indexOf(h.currentTarget),J=this.X,L=!1;
if(J.indexOf(e)==-1)J=[e];var m=this.u6[v],d=m.join(",")+",",x=iU.Pb(J,this.u6),j=x[1];for(var E in j)if(d.startsWith(E))return;
var p=iU.AV(this._a,m)[2],Z=iU.getItem(this._a,m);if(Z[1]==null){p=Z[2];Z=p[0];L=!0}var o=iU.or(this._a,x[0]),u=p.indexOf(Z);
for(var T=0;T<o.length;T++)p.splice(u+(L?0:1)+T,0,o[T]);this.X=[];var N=iU.aAk(this._a);for(var T=0;
T<o.length;T++)this.X.push(N.indexOf(o[T]));this.FN()};iU.prototype.ra=function(h,e){if(e==null)e=this.Oe.S9()[0];
var v=this.X,J=new g3(k.E.u,!0);if(e==0){J.data={V:k.l.iv};this.a(J)}if(e==1){var m=iU.Pb(v,this.u6)[0],d=iU.or(this._a,m,!0),x=dq.AM[this.LO],j=fy.aau(d,x[2]);
ke.save(j,x[1]+"."+x[0])}if(e==2){J.data={V:k.l.Xq,dF:"namewindow",xz:iU.getItem(this._a,this.u6[v[0]])[0],j5:this.a04.bind(this)};
this.a(J)}if(e==3){var m=iU.Pb(v,this.u6)[0],d=iU.or(this._a,m);this.X=[];this.FN()}if(e==4){this.AS=1-this.AS;
this.FN()}if(e==5){this.a(new g3("define_new"))}if(e==6){this.afJ(["New folder",null,[],!0])}};iU.prototype.afJ=function(h){var e=this._a,v=this.X,J=e.length-1;
if(v.length!=0){var m=v[0],d=this.u6[m],e=iU.AV(this._a,d)[2],x=iU.getItem(this._a,d);J=e.indexOf(x);
if(x[1]==null){e=x[2];J=e.length-1}}e.splice(J+1,0,h);this.X=[iU.aAk(this._a).indexOf(h)];this.FN();
this.ra(null,2)};iU.prototype.a04=function(h){var e=iU.getItem(this._a,this.u6[this.X[0]]);e[0]=h;this.FN()};
iU.prototype.VU=function(h){this._a=h;this.FN()};iU.prototype.a7k=function(h,e,v){for(var T=0;T<h.length;
T++){var J=h[T],m=J[0],d,x=J[1]==null;v.push(T);if(x){d=V.k("div","listitem head");V.v(d,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var j=V.k("div","headL");d.appendChild(j);j.appendChild(V.k("div",J[3]?"open":"closed"));j.appendChild(V.k("div","folder"));
var E=V.k("span");E.textContent=m;j.appendChild(E)}else{var L=J[2],p=dq.AM[this.LO],Z=Math.floor(p[5]*V.A_()),o=Math.floor(V.A_()*p[6]);
if(L==null)L=J[2]=p[2].lT(J,Z,o);d=V.k("img","image");d.setAttribute("src",L);V.Aw(d,Z,o);if(this.AS==1){var u=V.k("div","listitem");
u.appendChild(d);u.style.height=p[6]+"px";var E=V.k("span");E.textContent=m;V.v(E,"margin-left:4px;");
u.appendChild(E);d=u}d.setAttribute("title",m)}e.appendChild(d);if(this.X.indexOf(this.f6.length)!=-1)V.zZ(d,"selected");
this.f6.push(d);this.u6.push(v.slice(0));d.addEventListener("mouseup",this.auh,!1);d.setAttribute("draggable","true");
d.addEventListener("dragover",V.wY,!1);d.addEventListener("dragstart",this.adY,!1);d.addEventListener("drop",this.a72,!1);
if(x){var N=V.k("div");N.style.marginLeft="14px";if(J[3])e.appendChild(N);this.a7k(J[2],N,v)}v.pop()}};
iU.prototype.FN=function(){var h=this._a,e=this.Z;V.H5(e);this.f6=[];this.u6=[];this.a7k(h,e,[])};iU.prototype.vS=function(h){var e=this.f6.indexOf(h.currentTarget),v=iU.getItem(this._a,this.u6[e]),J=v[1]==null,m=h.target.getAttribute("class"),d=this.X,x=d.length,j=d.indexOf(e);
if(m=="open"||m=="closed")v[3]=!v[3];else if(h.button==0||j==-1){var E=window.__kb;if(E.r(dW.l$)){var L=Math.min(d[0],d[d.length-1],e),p=Math.max(d[0],d[d.length-1],e);
d=[];for(var T=L;T<=p;T++)d.push(T)}else if(E.r(dW.Dd)){if(j==-1)d.push(e);else d.splice(j,1)}else d=[e];
d.sort(function(N,M){return N-M});this.X=d}this.FN();if(h.button==0&&!J&&d.length==1)this.a(new g3(k.E.f));
if(h.button==2){var Z=this.Oe;Z.update(null);var o=V.IE(h,document.body),u=new g3(k.E.u,!0);u.data={V:k.l.Eu,nB:Z,x:o.x,y:o.y+2};
this.a(u)}};iU.prototype.j=function(){return iU.getItem(this._a,this.u6[this.X[0]])[1]};iU.prototype.e=function(h){this.afJ(["New item",h])};
iU.getItem=function(h,e){var v=["",null,h];for(var T=0;T<e.length;T++)v=v[2][e[T]];return v};iU.AV=function(h,e){var v=["",null,h];
for(var T=0;T<e.length-1;T++)v=v[2][e[T]];return v};iU.aAk=function(h){function e(J,m){for(var T=0;T<J.length;
T++){var d=J[T];m.push(d);if(d[1]==null)e(d[2],m)}}var v=[];e(h,v);return v};iU.or=function(h,e,v){var J=[];
for(var m=e.length-1;m>=0;m--){var d=e[m],x=d[d.length-1],j=iU.AV(h,d);J.unshift(j[2][x]);if(!v)j[2].splice(x,1)}return J};
iU.Pb=function(h,e){var v=[],J={};for(var T=0;T<h.length;T++){var m=e[h[T]],d=m.join(",")+",",x=!1;for(var j in J)if(d.startsWith(j))x=!0;
if(!x){J[d]=!0;v.push(m)}}return[v,J]};function eQ(h,e,v,J,m,d,x){fx.call(this);this.Z=V.k("span","fitem "+v);
this.LO=d;this.B0=null;this.GZ=!0;this.i3=null;this.pD=new fx;this.pD.Z=V.k("div","floatcont");this.zy=J;
this.pD.parent=this;this.aei=V.k("div");this.pD.Z.appendChild(this.aei);this.Px=V.k("div");this.pD.Z.appendChild(this.Px);
if(h){this.eM=h;this.tF=V.k("label","flabel");this.Z.appendChild(this.tF)}this.V=V.k("button",x?"nopadding":"");
V.v(this.V,"position:relative;");var j=this.gK.bind(this),E=this.YF.bind(this);V.La(this.V,e?E:j);this.Z.appendChild(this.V);
this.Bw=V.k("img",x?"gsicon":"");this.V.appendChild(this.Bw);if(e){var L=V.k("button");L.textContent="\u25BC";
V.La(L,j);this.Z.appendChild(L)}else{var p=V.k("span");p.textContent="\u25BC";V.v(p,"position:absolute;  bottom:2px;  right:4px;");
this.V.appendChild(p)}var Z=this.a1C=V.k("span");this.Px.appendChild(Z);V.v(Z,"display:inline-block;  vertical-align:top;");
this.Io=this.anD()?new iU(x,d):new dN(x,d);Z.appendChild(this.Io.Z);this.Io.parent=this.pD;this.Io.P(k.E.f,this.k6,this);
this.Io.P("define_new",this.aAE,this);this.Io.Z.style.height=m+"px";this.jx=V.k("button");this.jx.textContent="\u25BC";
V.v(this.jx,"padding:3px");V.La(this.jx,this.ta.bind(this));this.Px.appendChild(this.jx);var o=this.EJ(),u=this.aDh=d!=dq.NC&&d!=dq.pt?d:null,N=this.a8S=d==null?!1:dq.AM[d][4]!=0,M=d==null?"":dq.AM[d][0].toUpperCase(),O=[];
if(u)O.push({name:[12,87]});O.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],jV:!0});O.push({name:[[23,6],"."+(M=="ICC"?"icc .cube .look .3dl":M)]},{name:["VAR0 ."+M,[1,8]]},{name:[6,37]},{name:[5,4],jV:o.length!=0});
for(var T=0;T<o.length;T++)O.push({name:o[T].split("/").pop()});this.apR=O}eQ.prototype=new fx;eQ.prototype.anD=function(){var h=this.LO;
return h==dq.fU||h==dq.vk};eQ.prototype.aAE=function(){this.Io.e(this.i3)};eQ.prototype.k6=function(h){this.e(h.target.j());
this.a(new g3(k.E.f))};eQ.prototype.Ky=function(){if(!this.GZ)return;this.Io.VU(this.B0,this);this.GZ=!1};
eQ.prototype.e=function(h){this.i3=B.t(h);this.hA()};eQ.prototype.j=function(){return B.t(this.i3)};
eQ.prototype.hA=function(){};eQ.prototype.EJ=function(){return[]};eQ.prototype.YF=function(){};eQ.prototype.S=function(){this.Io.S();
var h=this.eM;if(h)this.tF.textContent=bj.get(h)+":"};eQ.prototype.Ao=function(h){this.tF.textContent=h};
eQ.prototype.lN=function(h){var e=this.LO,v=0;if(e==dq.fJ){v=this.B0?this.B0.length:0;h=h.slice(0)}this.B0=h;
this.GZ=!0;if(V.gl(this.Io.Z)||e==dq.fU)this.Ky();if(e==dq.fJ&&h.length-v==1&&V.gl(this.Z)){this.e(h[v]);
this.GZ=!0;this.Ky();this.Io.e([v]);this.a(new g3(k.E.f))}};eQ.prototype.ra=function(h){var e=h.target.S9()[0];
if(this.aDh==null)e++;var v=new g3(k.E.u,!0);if(e==0){var J=this.ss();if(this.LO==dq.fJ&&J[0].profile==null)return;
v.data={V:k.l.Gi,N2:"add",m0:this.aDh,mM:J}}else if(e==1)this.Io.Vb(1-this.Io.a7a());else if(e<=5)this.iu(e-2);
else{var m=this.EJ();v.data={V:k.l.We,m0:{url:"rsrc/"+m[e-6]}}}if(v.data)this.a(v)};eQ.prototype.iu=function(h){var e=new g3(k.E.u,!0),v=this.Io.j(),J={V:k.l.Gi,m0:this.LO,Wi:v};
if(h>1&&v.length==0){alert("No items selected");return}if(h==0)e.data={V:k.l.iv};else if(h==1)e.data={V:k.l.E1,atU:this.LO,Wi:v.length==0?null:v};
else if(h==2){var m=this.Io.Me[1][v[0]],d=m.split("/");if(d.length==2){J.Mn=d[0]+"/";m=d[1]}J.N2="rnm";
e.data={V:k.l.Xq,dF:"namewindow",xz:m,P_:{o:k.E.u,h:J}}}else if(h==3){e.data=J;J.N2="del"}this.a(e)};
eQ.prototype.ss=function(){return[this.j()]};eQ.prototype.ta=function(h){var e;h.stopPropagation();if(this.anD())e=this.Io.acZ();
else{if(this.Oe==null){this.Oe=new ar(this.apR);this.Oe.parent=this.pD;this.Oe.P("select",this.ra,this)}e=this.Oe}if(V.gl(e.Z))return;
e.S();e.update(null);var v=h.currentTarget.getBoundingClientRect(),J=new g3(k.E.u,!0);J.data={V:k.l.Eu,nB:e,x:v.left,y:v.top+v.height};
this.a(J)};eQ.prototype.gK=function(h,e,v){if(V.gl(this.pD.Z))return;if(h)h.stopPropagation();this.Ky();
if(e==null){var J=this.V.getBoundingClientRect(),e=J.left,v=J.top+J.height}this.Kt();var m=new g3(k.E.u,!0);
m.data={V:k.l.Eu,nB:this.pD,x:e,y:v,u3:!0};this.a(m)};eQ.prototype.Kt=function(h,e){var h=Math.min(this.zy,window.innerWidth-40);
this.a1C.style.width=h+"px";this.pD.Z.style.width=h+20+"px"};eQ.prototype.a6B=function(h,e){this.gK(null,h,e)};
function et(){fx.call(this);this.Z=V.k("div");this.Gv=!1;this.f6=[new jV([12,19,1],[[13,1,7]].concat(hy.wh)),new ew([17,1]),new ew([12,46])];
for(var T=0;T<3;T++){var h=this.f6[T];this.Z.appendChild(h.Z);h.P(k.E.f,this.$_,this)}this.S()}et.prototype=new fx;
et.prototype.S=function(){for(var T=0;T<3;T++)this.f6[T].S()};et.prototype.j=function(){return this.Gv.slice(0)};
et.prototype.e=function(h){this.Gv=h.slice(0);var e=this.f6,v=e[0].j();e[1].e(h.slice(v*8,v*8+4),v);
e[2].e(h.slice(v*8+4,v*8+8),v)};et.prototype.$_=function(h){var e=this.f6,v=e.indexOf(h.currentTarget);
if(v==0)this.e(this.Gv);else{var J=e[0].j()*8+(v==1?0:4),m=e[v].j();for(var T=0;T<4;T++)this.Gv[J+T]=m[T];
this.a(new g3(k.E.f,!1))}};function ew(h){fx.call(this);this.Z=V.k("div");this._y=V.k("canvas");this.$Q=h;
this.Gv=[0,20,200,255];this.xm=0;this.Ne=-1;this.aoX=[];for(var T=0;T<5;T++){var e=V.k("span");V.v(e,"display:inline-block;width:"+(T==0?8:T==2?7:2)+"em");
this.aoX.push(e);this.Z.appendChild(e)}this.bq=this.wa.bind(this);this.Cd=this.$X.bind(this);this.KY=this.sd.bind(this);
V.zY(this._y);V.La(this._y,this.bq);this.Z.appendChild(this._y);this.FN()}ew.prototype=new fx;ew.prototype.S=function(){this.FN()};
ew.prototype.e=function(h,e){this.Gv=h;this.xm=e;this.FN()};ew.prototype.j=function(){return this.Gv.slice(0)};
ew.prototype.wa=function(h){var e=this.Gv,v=V.IE(h,this._y),J=v.x-8,m=-1,d=1e9;for(var T=0;T<4;T++){var x=J-e[T],j=Math.abs(x);
if(j<8&&j<d&&((T&1)==0&&x<0||(T&1)==1&&x>0)){d=x;m=T}}if(m==-1)return;this.Ne=m;this._m=window.__kb.r(dW.B2)||e[(m>>>1)*2]!=e[(m>>>1)*2+1];
V.Xa(window,this.Cd);V.wZ(window,this.KY)};ew.prototype.$X=function(h){var e=this.Gv,v=this.Ne,J=(v>>>1)*2,m=J+1,d=V.IE(h,this._y),x=Math.round(Math.max(0,Math.min(255,d.x-8)));
e[v]=x;if(this._m&&e[J]>=e[m])this._m=!1;if(!this._m)e[J]=e[m]=x;this.FN();this.a(new g3(k.E.f,!1))};
ew.prototype.sd=function(h){V.L0(window,this.Cd);V.SV(window,this.KY)};ew.prototype.FN=function(){var h=this._y;
V.xX(h,255+16,16);var e=h.getContext("2d"),v=h.width,J=h.height,m=Math.round(255*V.A_()),d=Math.round(8*V.A_());
e.translate(d,0);var x=e.createLinearGradient(0,0,m,0);x.addColorStop(0,"black");x.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.xm]);
e.fillStyle=x;e.fillRect(0,0,m,d);var j=this.aoX,E=bj.get(this.$Q)+":";j[0].textContent=E;for(var T=0;
T<4;T++){var L=this.Gv[T];j[1+T].textContent=L;var p=Math.round(L*V.A_());e.beginPath();e.moveTo(p,d);
e.lineTo(p,d+d);e.lineTo(p+((T&1)==0?-1:1)*d,d+d);e.closePath();e.fillStyle=T<2?"#666666":"#cccccc";
e.fill();e.strokeStyle="black";e.stroke()}};function en(h,e,v){fx.call(this);if(v==null)v=!1;this.J=[0,0,1];
this.aE9=e;this.aD_=v;this.jf=0;var J="ai"+V.FA();this.Z=V.k("span","fitem angleinput");if(h){this.tF=V.k("label","flabel");
this.eM=h;this.Z.appendChild(this.tF);this.tF.setAttribute("for",J)}this.$g=v?44:20;this._y=V.k("canvas","gsicon");
this.h_=this._y.getContext("2d");V.zY(this._y);V.xX(this._y,this.$g*2+1,this.$g*2+1);this.h_.scale(V.A_(),V.A_());
this.Z.appendChild(this._y);V.La(this._y,this.s0.bind(this));this.BM=this.EL.bind(this);this.bA=this.lW.bind(this);
var m=this.jK.bind(this),d=V.k("div");V.v(d,"display:inline-block;  vertical-align:middle;");if(!v)this.Z.appendChild(d);
this.Ws=[];for(var T=0;T<2;T++){var x=V.k("input");this.Ws.push(x);x.setAttribute("type","text");V.JM(x);
if(T==0)x.setAttribute("id",J);x.addEventListener("change",m,!1);var j=V.k("span");j.textContent="\xB0";
if(T==0||e){d.appendChild(x);d.appendChild(j);V.Xp(d)}}this.e(this.J)}en.prototype=new fx;en.prototype.S=function(){if(this.eM)this.tF.textContent=bj.get(this.eM)+":"};
en.prototype.Ao=function(h){this.tF.textContent=h};en.prototype.j=function(){return this.J.slice(0)};
en.prototype.e=function(h,e){var v=this.J;h=h.slice(0);if(h[0]==null)h[0]=v[0];if(h[1]==null)h[1]=v[1];
if(h[2]==null)h[2]=v[2];this.J=h;var J=h[0],m=h[1],d=h[2],x=this.aE9,j=this.aD_,E=this.$g*.85;if(!x)m=0;
this.Ws[0].value=J;this.Ws[1].value=m;var L=this.h_;L.clearRect(0,0,100,100);J=Math.PI*J/180;m=E*(90-m)/90;
var p=this.$g+.5;L.save();L.translate(p,p);L.rotate(-J);L.strokeStyle="rgba(0,0,0,0.5)";L.beginPath();
L.ellipse(0,0,E,E*d,0,0,2*Math.PI);if(j){L.moveTo(0,-E*d);L.lineTo(0,E*d);L.moveTo(-m,0)}else L.moveTo(0,0);
L.lineTo(m,0);L.stroke();var Z=this.$g*.15;L.fillStyle="black";L.beginPath();if(j){L.arc(0,-E*d,Z*.66,0,2*Math.PI);
L.arc(0,E*d,Z*.66,0,2*Math.PI)}if(x){L.arc(m,0,Z*.4,0,2*Math.PI)}else{L.moveTo(p-Z,-Z*.66);L.lineTo(p,0);
L.lineTo(p-Z,Z*.66)}L.fill();L.restore();if(e)this.jK()};en.prototype.jK=function(h){var e=parseInt(this.Ws[0].value);
if(isNaN(e))e=0;var v=parseInt(this.Ws[1].value);if(isNaN(v))v=0;e=e%360;v=v%360;this.e([e,v]);this.a(new g3(k.E.f,!1))};
en.prototype.s0=function(h){V.Xa(window,this.BM);V.wZ(window,this.bA);var e=V.IE(h,this._y),p=0,Z=1e9;
e.x-=this.$g;e.y-=this.$g;var v=this.J,J=v[0]*Math.PI/180,m=(90-v[1])/90,d=v[2],x=this.$g*.85,j=Math.sin(-J),E=Math.cos(-J),L=[new fq(E*x,j*x)];
if(this.aD_)L.push(new fq(-j*x*d,E*x*d),new fq(j*x*d,-E*x*d));for(var T=0;T<L.length;T++){var o=fq.mr(e,L[T]);
if(o<Z){Z=o;p=T}}this.jf=p;if(p==0)this.EL(h)};en.prototype.EL=function(h){var e=V.IE(h,this._y),v=this.jf,J=[],m=e.x-this.$g,d=e.y-this.$g,x=this.$g*.85;
if(v==0){var j=180*Math.atan2(-d,m)/Math.PI,E=90-90*Math.min(1,Math.sqrt(m*m+d*d)/x);if(h.shiftKey)j=Math.round(j/15)*15;
J=[Math.round(j),Math.round(E)]}else J=[null,null,Math.max(.01,Math.min(1,Math.sqrt(m*m+d*d)/x))];this.e(J);
this.a(new g3(k.E.f,!1))};en.prototype.lW=function(h){this.a(new g3(k.E.f,!1));V.L0(window,this.BM);
V.SV(window,this.bA)};function ak(h,e){fx.call(this);this.Gv=0;this.Rs=e;this.Z=V.k("span","fitem angleinput");
if(h){this.tF=V.k("label","flabel");this.eM=h;this.Z.appendChild(this.tF)}this._y=V.k("canvas","gsicon");
this.h_=this._y.getContext("2d");V.xX(this._y,e,e);this.Z.appendChild(this._y);V.zY(this._y);V.La(this._y,this.s0.bind(this));
this.BM=this.EL.bind(this);this.bA=this.lW.bind(this);this.e(0)}ak.prototype=new fx;ak.prototype.S=function(){if(this.eM)this.tF.textContent=bj.get(this.eM)+":"};
ak.prototype.Ao=function(h){this.tF.textContent=h};ak.prototype.j=function(){return this.Gv};ak.prototype.aw1=function(h){var e=this.Gv,v=Math.floor(e/3),J=e-v*3;
J=Math.max(0,Math.min(2,J+h.x));v=Math.max(0,Math.min(2,v+h.y));this.e(v*3+J)};ak.prototype.e=function(h){this.Gv=h;
var e=this._y.width,v=Math.floor(h/3),J=h-3*v,m=(J+.5)*e/3,d=(v+.5)*e/3,x=this.h_,j=[.5,Math.round(e/3)+.5,Math.round(2*e/3)+.5,e-.5];
x.clearRect(0,0,e,e);var E=this.Rs<30;x.setLineDash([]);x.strokeStyle=E?"rgba(0,0,0,0.5)":"#000000";
x.beginPath();for(var T=0;T<4;T++){var L=j[T];x.moveTo(L,0);x.lineTo(L,e);x.moveTo(0,L);x.lineTo(e,L)}x.stroke();
if(h==9)return;if(!E){x.setLineDash([1,2]);var p=e*.53,Z=Math.max(0,Math.min(e-p,m-p/2)),o=Math.max(0,Math.min(e-p,d-p/2));
x.strokeRect(Math.round(Z)+.5,Math.round(o)+.5,Math.round(p),Math.round(p))}x.fillStyle="#000000";x.beginPath();
x.arc(m,d,e/8,0,Math.PI*2);x.fill()};ak.prototype.s0=function(h){V.Xa(document.body,this.BM);V.wZ(document.body,this.bA);
this.EL(h)};ak.prototype.EL=function(h){var e=V.IE(h,this._y),v=Math.max(0,Math.min(2,Math.floor(e.x/(this.Rs/3)))),J=Math.max(0,Math.min(2,Math.floor(e.y/(this.Rs/3))));
this.e(J*3+v)};ak.prototype.lW=function(h){this.a(new g3(k.E.f,!1));V.L0(document.body,this.BM);V.SV(document.body,this.bA)};
function e$(iW){fx.call(this);this.Z=V.k("span","fitem cswatch");this.aha=0;this.CB=[];this.Og=[];var h=this.aiR.bind(this);
for(var T=0;T<iW;T++){this.CB.push(0);var e=V.k("span","colorsample");e.addEventListener("click",h,!1);
this.Og.push(e);this.Z.appendChild(e)}var v=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],J=Math.min(iW,v.length);
for(var T=0;T<J;T++)this.CB[T]=v[T];this.aD()}e$.prototype=new fx;e$.prototype.aiR=function(h){this.aha=this.Og.indexOf(h.currentTarget);
this.a(new g3(k.E.f))};e$.prototype.j=function(){return this.CB[this.aha]};e$.prototype.e=function(h){var e=this.CB,v=e.indexOf(h);
if(v!=-1)e.splice(v,1);else e.pop();e.unshift(h);this.aD()};e$.prototype.aD=function(){for(var T=0;T<this.CB.length;
T++){V.v(this.Og[T],"background-color:#"+B.zF(this.CB[T]))}};function iE(h){fx.call(this);this.mP={n:0,i:0,b:0};
this.AX=h;this.Z=V.k("span","fitem colorsample");this.Z.addEventListener("click",this.JU.bind(this),!1)}iE.prototype=new fx;
iE.prototype.S=function(){};iE.prototype.JU=function(h){var e=this.mP;this.a(new g3("click"));var v=new g3(k.E.u,!0);
v.data={V:k.l.Xq,dF:"colorpicker",Rm:B.RP(e),sI:this.I_.bind(this),kB:this.AX};this.a(v)};iE.prototype.I_=function(h){this.Y_(h);
this.a(new g3(k.E.f))};iE.prototype.h6=function(){this.JU(null)};iE.prototype.by=function(){var h=this.mP;
return h.n<<16|h.i<<8|h.b};iE.prototype.j=function(){return B.Vh.WZ(this.mP)};iE.prototype.Y_=function(h){this.mP=B.UY(h);
this.a8B()};iE.prototype.e=function(h){this.mP=B.Vh.SL(h);this.a8B()};iE.prototype.a8B=function(){var h=this.mP,e=h.n,v=h.i,J=h.b,m=e<<16|v<<8|J;
V.v(this.Z,"background-color:#"+B.zF(m))};function cM(){fx.call(this);this.xa=!1;this.on=20;this.a61=10;
this.vh=0;this.xa=!1;this.rZ={n:255,i:0,b:0};this.Vs={n:0,i:0,b:0};this.H=null;this.IU=null;this.Qo=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this.Z=V.k("canvas");this.FN();V.zY(this.Z);V.La(this.Z,this.bq.bind(this))}cM.prototype=new fx;cM.prototype.a0W=function(h){if(this.xa==h)return;
this.xa=h;this.FN()};cM.prototype.S=function(){};cM.prototype.a7q=function(h,e){function v(J){return{n:J>>16&255,i:J>>8&255,b:J&255}}if(h!=null)this.rZ=v(h);
if(e!=null)this.Vs=v(e);this.FN()};cM.prototype.ahF=function(h,e){this.H=h;this.IU=e;this.FN()};cM.prototype.bq=function(h){var e=V.IE(h,this.Z),v=e.x*V.A_(),J=e.y*V.A_(),m=this.on,d=this.a61,x=0;
if(J>m){x=4+Math.floor(3*v/m)}else if(v<d&&J<d){x=0}else if(v>m-d&&J>m-d){x=1}else if(v<d){x=2}else{x=3}this.h6(x)};
cM.prototype.h6=function(h){var e=this.H,v=new g3(k.E.u,!0);if(h>1){if(jD==0)v.data={V:k.l.Gi,m0:dq.Ih,rf:h};
else{var J=B.t(e.Rr);if(h==2){var m=J.N0;J.N0=J.xJ;J.xJ=m}if(h==3){J.xJ=[1,1,1];J.N0=[0,0,0]}if(h>=4){var d=this.Qo[h-4];
if(this.vh==0)J.xJ=d;else J.N0=d}v.data={V:k.l.Gi,m0:dq.SH,J:J}}}else{var x=this.I_.bind(this),j=this.vh;
this.vh=h;if(jD==0){var E=h==0?this.rZ:this.Vs;v.data={V:k.l.Xq,dF:"colorpicker",Rm:B.RP(E),sI:x}}else{if(j!=h){this.FN();
return}var L=h==0?e.Rr.xJ:e.Rr.N0;if(L.length==0)L=[0,0,0];cM.at4(L,this,x);return}}this.a(v)};cM.prototype.I_=function(h){var e=new g3(k.E.u,!0),v=this.vh,J=this.H;
if(jD==0)e.data={V:k.l.Gi,m0:dq.Ih,rf:v,J:h};else{var m=h;if(typeof h=="number"){m=B.UY(h,1);m=[m.n,m.i,m.b]}var d=B.t(J.Rr);
if(v==0)d.xJ=m;else d.N0=m;e.data={V:k.l.Gi,m0:dq.SH,J:d}}this.a(e)};cM.prototype.FN=function(){var h=this.Z,e=h.getContext("2d"),v=V.A_(),v=V.A_(),J=this.on=Math.floor(34*v),m=Math.floor((J-2)/3),d="#aaaaaa",x=.62;
h.width=J;h.height=J+jD*(m+9);V.U3(h);h.style.cursor="pointer";var J=this.on=h.width,j=this.a61=Math.round(J*x);
function E(f,$){var H=f.n,A=f.i,G=f.b;if($)H=A=G=Math.round(B.Pr(H,A,G));var l=H<<16|A<<8|G;return"#"+B.zF(l)}function L(e,o,f,$,H,A){e.beginPath();
if($>=A*2&&H>=A*2){e.moveTo(o+A,f);e.lineTo(o+$-A,f);e.quadraticCurveTo(o+$,f,o+$,f+A);e.lineTo(o+$,f+H-A);
e.quadraticCurveTo(o+$,f+H,o+$-A,f+H);e.lineTo(o+A,f+H);e.quadraticCurveTo(o,f+H,o,f+H-A);e.lineTo(o,f+A);
e.quadraticCurveTo(o,f,o+A,f)}e.closePath()}function p(o,f,j,$,H){e.strokeStyle=H?H:"black";e.fillStyle=$;
L(e,o+.5,f+.5,j-1,j-1,j*.2);e.fill();e.stroke()}var Z=this.H;if(Z){e.beginPath();var o=J-j,u=Math.floor(j*.28),N=j-2*u;
e.lineWidth=1;e.strokeStyle="white";if(this.vh==0)cM.sA(e,Z.Rr.N0,this.IU,j,j,o,o,!0);cM.sA(e,Z.Rr.xJ,this.IU,j,j,0,0);
if(this.vh==1)cM.sA(e,Z.Rr.N0,this.IU,j,j,o,o,!0);for(var T=0;T<3;T++){e.beginPath();cM.sA(e,this.Qo[T],this.IU,m,m,T*(m+1),J+9,!1)}}else{p(J-j,J-j,j,E(this.Vs,this.xa));
p(0,0,j,E(this.rZ,this.xa))}var M=J-j,O=Math.round(M*x);p(J-O,M-O,O,jD==0?"white":"black",d);p(J-M,0,O,jD==0?"black":"white",d);
e.save();e.fillStyle=d;e.translate(0,J);e.rotate(-Math.PI/2);M=J-j;var F=Math.round(M*.28),W=Math.round(M*.25);
for(var T=0;T<2;T++){e.fillRect(F,F,M-F,1);e.beginPath();e.moveTo(M-W,F+.5-W);e.lineTo(M,F+.5);e.lineTo(M-W,F+.5+W);
e.closePath();e.fill();e.transform(0,1,1,0,0,0)}e.restore()};cM.at4=function(h,e,v){var J=new g3(k.E.u,!0);
if(h.length==3)J.data={V:k.l.Xq,dF:"colorpicker",Rm:B.RP({n:h[0]*255,i:h[1]*255,b:h[2]*255}),sI:v};else J.data={V:k.l.Xq,dF:"vgradienteditor",J:h,sI:v};
e.a(J)};cM.sA=function(h,e,v,J,m,d,x,j){function E(M,O){return CSS.Q8({n:M[0]*255,i:M[1]*255,b:M[2]*255},O)}if(e==null){h.fillStyle="#888888";
h.clearRect(d,x,J,m);h.font=Math.round(m*.6*(j?.5:1))+"px sans-serif";h.fillStyle="white";if(j){h.fillText("?",d+J*.05,x+m*.3);
h.fillText("?",d+J*.8,x+m*.3);h.fillText("?",d+J*.05,x+m*.9);h.fillText("?",d+J*.8,x+m*.9)}else h.fillText("?",J*.36,m*.7)}else if(e.length==0){h.fillStyle="#ffffff";
h.fillRect(d,x,J,m);h.strokeStyle="#ff0000";h.lineWidth=2;h.moveTo(d,x);h.lineTo(d+J,x+m);h.moveTo(d,x+m);
h.lineTo(d+J,x);h.stroke()}else if(e.length==3){h.fillStyle=E(e);h.fillRect(d,x,J,m)}else if(e.length==4){var L=d+J/2,p=x+m/2,Z=e[0]==0?h.createLinearGradient(d,x,d+J,x):h.createRadialGradient(L,p,0,L,p,J/2);
B.Vh.jQ(Z,e[1]);h.fillStyle=Z;h.fillRect(d,x,J,m)}else if(e.length==2){var o=v.QZ[e[0]];h.save();h.fillStyle="white";
h.fillRect(d,x,J,m);h.rect(d,x,J,m);h.scale(J/o.q,m/o._);h.fillStyle=o.QM;h.fill();h.restore()}h.lineWidth=1;
h.strokeStyle="white";h.strokeRect(d+.5,x+.5,J-1,m-1);if(j){var u=Math.floor(J*.28),N=J-2*u;h.clearRect(d+u,d+u,N,N);
h.strokeRect(d+u+.5,d+u+.5,N-1,N-1)}};function d9(h){eQ.call(this,h,!1,"brushbutton nopadding",19*13,10*13,dq.ty,!0);
var e=this.aei;V.zZ(e,"flexrow");var v=V.k("div");e.appendChild(v);var J=V.k("div");e.appendChild(J);
V.v(J,"margin-left:8px");this.hl=new en(null,null,!0);this.hl.P(k.E.f,this.vN,this);v.appendChild(this.hl.Z);
this.Qs=new ci([12,14,0],1,1e3," px",0,!0);this.Qs.P(k.E.f,this.vN,this);J.appendChild(this.Qs.Z);this.I3=new ci([12,17],0,100,"%");
this.I3.P(k.E.f,this.vN,this);J.appendChild(this.I3.Z);this.BX=new hR(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.BX.P(k.E.f,this.vN,this);J.appendChild(this.BX.Z)}d9.prototype=new eQ;d9.prototype.EJ=function(){var h=["pencil","trees"];
for(var T=0;T<h.length;T++)h[T]="brushes/"+h[T]+".abr";return h};d9.prototype.e=function(h,e,v){this.i3=B.t(h);
var J=Math.floor(20*V.A_()),m=Math.floor(36*V.A_()),d=Math.floor(24*V.A_()),x=d2.lT(h,e,v,J,d,m);this.Bw.setAttribute("src",x);
V.Aw(this.Bw,m,d);var j=h.Brsh.v;this.Qs.e(j.Dmtr.v.val);if(j.Hrdn!=null){this.I3.kE();this.I3.e(j.Hrdn.v.val)}else this.I3.VZ();
if(j.Angl!=null)this.hl.e([j.Angl.v.val]);if(j.Rndn!=null)this.hl.e([null,null,j.Rndn.v.val/100]);var E=[!1,!1];
if(h.opVr)E[0]=h.opVr.v.bVTy.v==2;if(h.szVr)E[1]=h.szVr.v.bVTy.v==2;this.BX.e(E)};d9.prototype.ss=function(){return{list:[{t:"Objc",v:this.j()}],kk:[],tr:[]}};
d9.prototype.j=function(){return this.i3};d9.prototype.Ky=function(){if(!this.GZ)return;var h=[],e=[],v=this.B0,J=Math.floor(33*V.A_()),m=Math.floor(40*V.A_());
for(var T=0;T<v.list.length;T++){var d=v.list[T].v,x=d2.lT(d,v.kk,v.tr,J,m);h.push(x);e.push(d.Nm.v)}this.Io.eZ(h,e,J,m);
this.GZ=!1};d9.prototype.k6=function(h){var e=this.B0;this.e(e.list[this.Io.j()[0]].v,e.kk,e.tr);this.a(new g3(k.E.f))};
d9.prototype.S=function(){eQ.prototype.S.call(this);this.hl.S();this.Qs.S();this.I3.S()};d9.prototype.vN=function(h){var e=this.B0,v=this.i3,J=v.Brsh.v;
J.Dmtr.v.val=this.Qs.j();if(J.Hrdn!=null)J.Hrdn.v.val=this.I3.j();if(J.Angl!=null)J.Angl.v.val=this.hl.j()[0];
if(J.Rndn!=null)J.Rndn.v.val=Math.round(this.hl.j()[2]*100);if(h.target==this.BX)a2.a2x(v,this.BX.j());
this.e(v,e.kk,e.tr);this.a(new g3(k.E.f))};function h5(h){eQ.call(this,h,!0,"contourbutton",17*13,10.5*13,dq.oK)}h5.prototype=new eQ;
h5.prototype.k6=function(h){this.e(this.B0[h.target.j()]);this.a(new g3(k.E.f))};h5.prototype.YF=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.Xq,dF:"contoureditor",L1:this.i3,response:this.a9f.bind(this)};this.a(e)};h5.prototype.a9f=function(h){this.e(h);
this.a(new g3(k.E.f))};h5.prototype.Ky=function(){if(!this.GZ)return;var h=Math.floor(38*V.A_()),e=Math.floor(38*V.A_()),v=[],J=[],m=this.B0;
for(var T=0;T<m.length;T++){J.push(m[T].Nm?m[T].Nm.v:"");v.push(B.CL.lT(m[T].Crv.v,h,e))}this.Io.eZ(v,J,h,e);
this.GZ=!1};h5.prototype.e=function(h){this.i3=B.t(h);var e=this.i3.Crv.v;for(var T=0;T<e.length;T++)if(e[T].v.Cnty==null)e[T].v.Cnty={t:"bool",v:!0};
this.hA()};h5.prototype.hA=function(){var h=Math.floor(30*V.A_()),e=Math.floor(30*V.A_()),v=B.CL.lT(this.i3.Crv.v,h,e);
this.Bw.setAttribute("src",v);V.Aw(this.Bw,h,e)};function fj(h){fx.call(this);this.FI=null;this.H=null;
this.Zw=null;this.KT=null;this.anv=[];this.amu=[];this.Z=V.k("span","fitem fillbutton");this.pD=new fx;
this.pD.Z=V.k("div","floatcont form");V.v(this.pD.Z,"width: 21em;");this.pD.parent=this;this.VY=h;this.tF=this.tF=V.k("label","flabel");
this.Z.appendChild(this.tF);this._y=V.k("canvas");this.h_=this._y.getContext("2d");this.atD=null;this.Z.appendChild(this._y);
V.La(this._y,this.gK.bind(this));this.eu=new ha([12,66],["","Color","Grad","Patt"]);this.pD.Z.appendChild(this.eu.Z);
this.eu.P(k.E.f,this.$_,this);this.pD.Z.appendChild(V.k("hr"));this.azT=V.k("span");this.r8=new iE(!1);
this.r8.parent=this.pD;this.r8.P(k.E.f,this.$_,this);this.q$=new e$(10);this.q$.P(k.E.f,this.$_,this);
this.a8=V.k("div","marged hiline");this.a8.appendChild(this.r8.Z);V.Xp(this.a8);this.a8.appendChild(this.q$.Z);
this.UD=new jk("GrFl",!0);this.UD.parent=this.pD;this.UD.P(k.E.f,this.$_,this);this.n_=V.k("div","marged hiline");
var e="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var T=0;T<e.length;T++){var v=this.UD.GO[e[T]].Z;
this.n_.appendChild(v)}this.At=new jk("patternFill",!0);this.At.parent=this.pD;this.At.P(k.E.f,this.$_,this);
this.qX=V.k("div","marged hiline");var e=["Ptrn","Angl","Scl","Algn","phase"];for(var T=0;T<e.length;
T++){var v=this.At.GO[e[T]].Z;this.qX.appendChild(v)}}fj.prototype=new fx;fj.prototype.fa=function(h,e){var v=ev.i_(h,e);
if(v!=null)this.q$.e(v);if(e==dq.to){this.anv=[];this.amu=[];if(this.FI)this.e(this.Zw,this.j(),this.FI)}this.H=h;
this.UD.fa(h,e);this.At.fa(h,e)};fj.prototype.S=function(){this.tF.textContent=bj.get(this.VY)+": ";
this.eu.S();this.r8.S();this.UD.S();this.At.S()};fj.prototype.$_=function(h){var e=h.currentTarget;if(e==this.eu){var v=this.eu.j(),J={oH:v,ag:this.FI[v]};
if(v>0&&J.ag==null)J.ag=B.t(fL.fZ[v-1]);if(this.FI)this.e(this.Zw,J,this.FI)}if(e==this.q$)this.r8.Y_(e.j());
this.a(new g3(k.E.f,!1))};fj.prototype.gK=function(h){if(V.gl(this.pD.Z))return;h.stopPropagation();
var e=this._y.getBoundingClientRect(),v=new g3(k.E.u,!0);v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height+4};
this.a(v)};fj.prototype.e=function(h,e,v){this.FI=v;this.Zw=h;var J=[[13,1,0],[13,0],[12,37],[12,62]],m=this.anv,d=this.amu,x=!1,p;
for(var T=0;T<4;T++){var j={oH:T,ag:v[T]},E=fj.a2S(j);if(d[T]==E)continue;x=!0;var L=fj.akr(null,j,this.H,this.Zw,22,22,!1);
m[T]="<img width=\"22\" height=\"22\" src=\""+L+"\" />";d[T]=E}if(x)this.eu.VU(m,J);this.eu.e(e.oH);
var E=fj.a2S(e);if(E!=this.atD)fj.akr(this.h_,e,this.H,this.Zw,30,23,!0);this.atD=E;var Z=e.oH;if(Z==0){p=this.azT}if(Z==1){this.r8.e(e.ag.Clr.v);
p=this.a8}if(Z==2){this.UD.update(h,e.ag);p=this.n_}if(Z==3){this.At.update(h,e.ag);p=this.qX}if(p!=this.KT){if(this.KT!=null){this.pD.Z.removeChild(this.KT)}this.pD.Z.appendChild(p);
this.KT=p}};fj.prototype.j=function(){var h={oH:this.eu.j()};if(h.oH==1){h.ag=B.t(fL.fZ[0]);h.ag.Clr.v=this.r8.j()}if(h.oH==2){h.ag=this.UD.j()}if(h.oH==3){h.ag=this.At.j()}return h};
fj.a2S=function(h){var e=h.oH,v=h.ag,J="empty";if(e==1){J=B.Vh.SL(v.Clr.v);J=J.n+","+J.i+","+J.b}if(e==2)J=JSON.stringify(v.Grad.v);
if(e==3)J=v.Ptrn.v.Idnt.v;return J};fj.akr=function(h,e,v,J,m,d,x){if(h==null)h=fj.h_;var j=Math.floor(m*V.A_()),E=Math.floor(d*V.A_()),L=h.canvas;
L.width=j;L.height=E;V.Aw(L,j,E);fj.aCw(h,e,v,J,j,E);if(x){h.beginPath();h.strokeStyle="#000000";h.fillStyle="#ffffff";
h.lineWidth=2;var p=j*.7,Z=Math.floor(E*.7),o=7*V.A_();h.moveTo(p,Z);h.lineTo(p+o,Z);h.lineTo(p+o/2,Z+o/2);
h.closePath();h.stroke();h.fill()}if(h==fj.h_)return L.toDataURL()};fj.h_=V.k("canvas").getContext("2d");
fj.aCw=function(h,e,v,J,m,d,x,j){if(x==null)x=0;if(j==null)j=0;var E=e.oH;if(E==0){h.fillStyle="#ffffff";
h.fillRect(x,j,m,d);h.strokeStyle="#ff0000";h.lineWidth=2;h.moveTo(x,j);h.lineTo(x+m,j+d);h.moveTo(x,j+d);
h.lineTo(x+m,j);h.stroke()}if(E==1){var L=e.ag.Clr.v;L=B.Vh.SL(L);h.fillStyle="#"+B.zF(L.n<<16|L.i<<8|L.b);
h.fillRect(x,j,m,d)}if(E==2){var p=c.Sa.lT(e.ag.Grad.v,m,d,0,v.kc,v.kF,!0);h.putImageData(p,x,j)}if(E==3){var Z=e.ag.Ptrn.v,o;
if(J!=null)o=d4.bI(Z,J.add.Patt);if(o==null)o=d4.bI(Z,v.T9);b7.lT(o,m,d,h.canvas)}};function b7(h){eQ.call(this,h,!1,"patternbutton",18*13,10*13,dq.to);
this.KU=null}b7.prototype=new eQ;b7.prototype.k6=function(h){var e=this.B0[this.Io.j()];this.i3={classID:"Ptrn",Nm:{t:"TEXT",v:e.name},Idnt:{t:"TEXT",v:e.id}};
this.a(new g3(k.E.f));this.hA()};b7.prototype.Ky=function(){if(!this.GZ)return;var h=this.B0,e=Math.floor(34*V.A_()),v=Math.floor(34*V.A_()),J=[],m=[];
for(var T=0;T<h.length;T++){J.push(b7.lT(h[T],e,v));m.push(h[T].name)}this.Io.eZ(J,m,e,v);this.GZ=!1};
b7.prototype.e=function(h,e){if(this.i3&&h.Idnt.v==this.i3.Idnt.v)return;this.i3=B.t(h);this.hA(e)};
b7.prototype.j=function(){return B.t(this.i3)};b7.prototype.ss=function(){return this.KU?[this.KU]:[]};
b7.prototype.hA=function(h){var e=Math.floor(50*V.A_()),v=Math.floor(50*V.A_()),J;if(h!=null)J=d4.bI(this.i3,h.add.Patt);
if(J==null)J=d4.bI(this.i3,this.B0);this.KU=J;var m=b7.lT(J,e,v);this.Bw.setAttribute("src",m);V.Aw(this.Bw,e,v)};
b7._y=V.k("canvas","");b7.lT=function(h,e,v,J){if(J==null)J=b7._y;var m=J.getContext("2d");J.width=e;
J.height=v;if(h){var d=h.$O[1],x=d.q,j=d._,E=h.$O[0],L=Math.min(e/x,v/j),p=L;if(p*x<2)p=2/x;var Z=L;
if(Z*j<2)Z=2/j;var o=c.L2.X_([E,d],new aJ(p,0,0,Z,0,0),p>2),u=o.R.q,N=o.R._,M=new ImageData(u,N);B.N7(o.buffer,M.data);
m.putImageData(M,Math.floor((e-u)/2),Math.floor((v-N)/2))}return J.toDataURL()};function hx(h,e,v){if(e==null)e=24.2;
if(v==null)v=17;eQ.call(this,h,!1,"patternbutton",e*13,v*13,dq.NC);this.uQ=""}hx.prototype=new eQ;hx.prototype.k6=function(h){this.i3=B.t(this.B0[0][this.Io.j()[0]]);
this.a(new g3(k.E.f))};hx.prototype.Ky=function(){var h=this.B0;if(h==null||!this.GZ)return;var e=Math.floor(50*V.A_()),v=Math.floor(50*V.A_()),J=[],m=[];
for(var T=0;T<h[0].length;T++){J.push(hx.lT(this.B0[0][T].bP,e,v,this.B0[1]));m.push(h[0][T].ks.Nm.v.split("=").pop())}this.Io.eZ(J,m,e,v);
this.GZ=!1};hx.prototype.e=function(h,e,v,J){var m=JSON.stringify(h.bP)+","+v+","+J;if(this.uQ!=m){this.uQ=m;
this.i3=B.t(h);this.hA(e,v,J)}};hx.prototype.hA=function(h,e,v){var J=Math.floor(68*V.A_()),m=Math.floor(68*V.A_()),d=hx.lT(this.i3.bP,J,m,h?h:this.B0[1],e,v);
this.Bw.setAttribute("src",d);V.Aw(this.Bw,J,m)};hx.lT=function(h,e,v,J,m,d){var x=new e7;x.q=e;x._=v;
x.buffer=B.U(e*v*4);x.add.Patt=J;x.Ko(m==null?90:m);x.DZ(d==null?30:d);var j=new fP(0,0,Math.round(e*.5),Math.round(v*.5));
j.x=Math.round((e-j.q)/2);j.y=Math.round((v-j._)/2);var E=x.ws();E.R=j;E.buffer=B.U(j.$()*4);B.yV(E.buffer,4284045657);
d4.axX(h,E,.5*100);x.T.push(E);x.Bb();x.dn();var L=fM.QX;fM.QX=!1;x.vp();var p=x.pb();fM.QX=L;var Z=gI.q0(p.buffer,x.q,x._);
return Z};function h7(h){eQ.call(this,null,!1,"tpresetbutton",18*13,24*13,dq.yR,!0);V.t7(this.Z,"fitem");
this.Io.Vb(1);this.id=h;this.hA();this.V.style.overflow="hidden";this.mt=new hJ([15,7,9]);this.mt.e(!0);
this.mt.P(k.E.f,this.aD0,this);this.Px.appendChild(this.mt.Z)}h7.prototype=new eQ;h7.prototype.avk=function(h){if(this.id==h)return;
this.id=h;this.lN(this.B0)};h7.prototype.k6=function(h){var e=this.B0[this.Io.j()],v=new g3(k.E.u,!0);
v.data={V:k.l.Gi,N2:"set",m0:dq.yR,mM:e};this.a(v)};h7.prototype.S=function(){eQ.prototype.S.call(this);
this.mt.S()};h7.prototype.aD0=function(){this.GZ=!0;this.Ky()};h7.prototype.Ky=function(){if(!this.GZ)return;
var h=Math.floor(16*V.A_()),e=Math.floor(16*V.A_()),v=[],J=[],m=this.B0,d=this.mt.j();for(var T=0;T<m.length;
T++){var x=c.Ht[m[T][1].classID];if(!d||x==this.id){J.push(m[T][0]?m[T][0].split("=").pop():"");v.push(x==-1?"":PIMG[c.f2[x]])}else{v.push(null);
J.push(null)}}this.Io.eZ(v,J,h,e);this.GZ=!1};h7.prototype.hA=function(){var h=this.Bw;h.setAttribute("src",PIMG[c.f2[this.id]]);
V.zZ(h,"toolicon")};h7.prototype.ss=function(){return null};h7.xD={};h7.lT=function(h,e,v){var J=h7.h_,m=h7.xD,d=B.zF(h.n<<16|h.i<<8|h.b);
if(m[d])return m[d];if(J==null){var x=V.k("canvas");J=h7.h_=x.getContext("2d")}var x=J.canvas;x.width=e;
x.height=v;J.fillStyle="#"+d;J.fillRect(0,0,e,v);var j=m[d]=x.toDataURL();return j};function eW(h,e,v){fx.call(this);
this.Z=V.k("span","fitem curveeditor");this.nN=null;this.apS=0;this.xm="";this.mode=0;this.a2=h;this.aG6=e;
this.a3d=v;this.Au=null;this.Rg=null;this.ap0=0;this.aed=0;this.T$=new fq;this.t4=this.EL.bind(this);
this.ai=this.lW.bind(this);this.Rs=256;this._y=V.k("canvas");this.h_=this._y.getContext("2d");V.zY(this._y);
this.Z.appendChild(this._y);this.Kt(256,256);V.La(this._y,this.s0.bind(this));this.coords=V.k("div");
V.v(this.coords,"width:250px");this.Z.appendChild(this.coords);var J=this.k_=v?100:255,m=null;this.vv=new cs("X (in)",0,J,m,0,!1,!0);
this.ir=new cs("Y (out)",0,J,m,0,!1,!0);this.IR=new hJ([19,3,0]);this.vv.P(k.E.f,this.KI,this);this.ir.P(k.E.f,this.KI,this);
this.IR.P(k.E.f,this.KI,this);this.coords.appendChild(this.vv.Z);if(v)this.coords.appendChild(this.IR.Z);
this.coords.appendChild(this.ir.Z)}eW.prototype=new fx;eW.prototype.S=function(){this.IR.S();this.vv.S();
this.ir.S()};eW.prototype.Kt=function(h,e){this.Rs=Math.round(h);this.h_.resetTransform();V.xX(this._y,this.Rs,this.Rs,this.h_);
this.h_.scale(this.Rs/256,this.Rs/256);if(this.Au)this.zz()};eW.prototype.KI=function(h){var T=this.a9T(),e=this.Au[T],v=255/this.k_;
e.v.Hrzn.v=this.vv.j()*v;e.v.Vrtc.v=this.ir.j()*v;if(this.a3d)e.v.Cnty.v=this.IR.j();this.Au.sort(function(J,m){return J.v.Hrzn.v-m.v.Hrzn.v});
this.zz();this.a(new g3(k.E.f))};eW.prototype.e=function(h,T){var e=JSON.stringify(h);if(e==JSON.stringify(this.Au))return;
this.mode=h.length==256?1:0;this.Au=JSON.parse(e);if(T!=null)this.Rg=this.Au[T];this.zz()};eW.prototype.Y9=function(h,e,v){this.nN=h;
this.apS=e;this.xm=v;this.zz()};eW.prototype.j=function(){return B.t(this.Au)};eW.prototype.a9T=function(){return this.Au.indexOf(this.Rg)};
eW.prototype.s0=function(h){var e=256/this.Rs,v=V.IE(h,this._y);v.x*=e;v.y*=e;var J=v.x,m=256-v.y;if(this.a2){var d=J;
J=256-m;m=d}this.T$.Cg(J,m);if(this.mode==0){var x=0,j=1e9,o;for(var T=0;T<this.Au.length;T++){var E=this.Au[T].v,L=E.Hrzn.v-J,p=E.Vrtc.v-m,Z=Math.sqrt(L*L+p*p);
if(Z<j){j=Z;x=T}}if(j<15)o=this.Au[x];else{o=B.CL.M$(J,m,!0);this.Au.push(o);this.Au.sort(function(u,N){return u.v.Hrzn.v-N.v.Hrzn.v})}this.Rg=o;
this.aed=this.Au.slice(0)}V.Xa(document.body,this.t4);V.wZ(document.body,this.ai);this.EL(h)};eW.prototype.EL=function(h){var e=256/this.Rs,v=V.IE(h,this._y);
v.x*=e;v.y*=e;var J=v.x,m=256-v.y;if(this.a2){var d=J;J=256-m;m=d}if(this.mode==0){var x=this.Au,j=this.Rg,E=this.aed,L=E.indexOf(j),p=x.indexOf(j)!=-1,Z=E.length-1,o=J;
if(L==0){o=Math.max(0,Math.min(E[1].v.Hrzn.v-1,J))}else if(L==Z){o=Math.min(255,Math.max(E[Z-1].v.Hrzn.v+1,J))}else{var u=J<0||J>255||m<0||m>255;
if(J<=E[L-1].v.Hrzn.v||J>=E[L+1].v.Hrzn.v)u=!0;if(!u&&!p)x.splice(L,0,j);if(u&&p)x.splice(L,1)}if(this.aG6&&(L==0||L==E.length-1)){}else j.v.Hrzn.v=Math.round(o);
j.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(m)))}else{J=Math.round(J);m=Math.round(m);J=Math.max(0,Math.min(255,J));
m=Math.max(0,Math.min(255,m));var N=this.T$.x,M=J,O=this.T$.y,F=m;if(J<this.T$.x){M=N;N=J;F=O;O=m}this.Au[J]=m;
if(N!=M)for(var W=N;W<=M;W++)this.Au[W]=Math.round(O+(W-N)*(F-O)/(M-N))}this.T$.Cg(J,m);this.zz();this.a(new g3(k.E.f))};
eW.prototype.lW=function(h){V.L0(document.body,this.t4);V.SV(document.body,this.ai);this.a(new g3(k.E.f))};
eW.prototype.zz=function(){var h=this.h_,e=this._y;h.fillStyle="#ffffff";h.fillRect(0,0,256,256);var v=256/e.width;
if(this.nN){h.save();h.translate(0,256);h.scale(1,-1);kU.aC9(h,this.nN,5700/this.apS,this.xm);h.restore()}h.strokeStyle="#aaaaaa";
h.lineWidth=1*v;h.beginPath();for(var T=1;T<4;T++){var J=(Math.floor(64*T/v)+.5)*v;h.moveTo(0,J);h.lineTo(255,J);
h.moveTo(J,0);h.lineTo(J,255)}h.stroke();if(this.a2){h.save();h.transform(0,1,-1,0,256,0)}if(this.mode==0){var m=this.Au,d=B.CL.Oh(m,256);
h.strokeStyle="#000000";h.beginPath();h.moveTo(0,255.5-d[0]);for(var T=0;T<256;T++)h.lineTo(T,255.5-d[T]);
h.stroke();h.lineWidth=2*v;for(var T=0;T<m.length;T++){var x=m[T].v;h.fillStyle=this.Rg==m[T]?"#333":"#fff";
h.beginPath();h.moveTo(x.Hrzn.v,255.5-x.Vrtc.v);h.arc(x.Hrzn.v,255.5-x.Vrtc.v,5*v,0,2*Math.PI);h.stroke();
h.fill()}}else{var d=this.Au;h.strokeStyle="#000000";h.beginPath();h.moveTo(0,255.5-d[0]);for(var T=0;
T<256;T++)h.lineTo(T,255.5-d[T]);h.stroke()}if(this.a2)h.restore();var T=this.a9T();this.coords.className=T==-1?"disabled":"";
if(T==-1)return;var x=this.Au[T].v,j=255/this.k_;this.vv.e(Math.round(x.Hrzn.v/j));this.ir.e(Math.round(x.Vrtc.v/j));
if(x.Cnty)this.IR.e(x.Cnty.v)};function kU(h,e){fx.call(this);this.Z=V.k("span","");this.dE=new jV([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.dE.P(k.E.f,this.FN,this);this.Z.appendChild(this.dE.Z);V.Xp(this.Z);var v=V.k("div");this.Z.appendChild(v);
V.v(v,"background-color: var(--bg-canvas); margin:6px 0;");this._y=V.k("canvas");var J=this._y;v.appendChild(J);
J.width=Math.round(h*V.A_());J.height=Math.round(100*V.A_());V.Aw(J,J.width,J.height);J.style.display="block";
this.h_=J.getContext("2d");this.nN=null;this.UU=0;this.a4u=null;this.age=[];this.qO=[];var m=["Mean:","Pixels:"],d=this.Z;
if(e)for(var T=0;T<m.length;T++){var x=new cE(m[T]);this.age.push(x);d.appendChild(x.Z);var j=new cE("hi");
this.qO.push(j);d.appendChild(j.Z);V.Xp(d)}}kU.prototype=new fx;kU.prototype.S=function(){this.dE.S()};
kU.prototype.Vb=function(h){this.dE.e(h);this.FN()};kU.prototype.e=function(h,e){this.nN=h;this.a4u=e;
this.FN()};kU.prototype.Y_=function(h){if(h==this.UU)return;this.UU=h;this.FN()};kU.prototype.FN=function(){if(this.nN==null)return;
var h=this._y,e=this.h_,v=this.nN,J=this.a4u,m=this.dE.j(),d=6e3/v[4],x="#"+B.zF(this.UU),j=kU.aC9;h.width=h.width;
e.setTransform(h.width/256,0,0,-h.height/100,0,h.height);e.globalCompositeOperation="lighter";if(m==0)j(e,v[0],d/3,x);
else if(m<4)j(e,v[m],d,x);else{j(e,v[1],d,"#ff0000");j(e,v[2],d,"#00ff00");j(e,v[3],d,"#0000ff")}e.setTransform(1,0,0,1,0,0);
if(J!=null){if(m==4)m=0;var E=0;for(var T=0;T<256;T++)E+=T*v[m][T];if(m==0)E/=3;this.qO[0].e((E/J).toFixed(1)+"");
this.qO[1].e(J+"")}};kU.aC9=function(h,e,v,J){h.beginPath();h.moveTo(0,0);for(var m=0;m<256;m++)h.lineTo(m,e[m]*v);
h.lineTo(256,0);h.closePath();h.fillStyle=J;h.fill()};function cb(h,e){fx.call(this);this.oC={n:0,i:0,b:0};
if(Math.abs(h-256/V.A_())<10)h=256/V.A_();var v=this.Z=V.k("div","flexrow");v.style.position="relative";
var J=this.a7T=V.k("div");v.appendChild(J);this.LD=new fq;this.ib=new fq;this.BM=this.Cc.bind(this);
this.bA=this.aef.bind(this);this._y=V.k("canvas","");this.h_=this._y.getContext("2d");this._y.width=this._y.height=256;
this.aki=this.h_.getImageData(0,0,256,256);this.aHr=-1;this.ajD="";this.Oa=null;V.zY(this._y);V.La(this._y,this.au2.bind(this));
J.appendChild(this._y);this.a8g=this.a9p.bind(this);this.agJ=this.a8F.bind(this);this.k2=V.k("canvas","");
this.VH=this.k2.getContext("2d");this.k2.width=20;this.k2.height=256;this.a9v=this.VH.getImageData(0,0,20,256);
cb.aeR(this.a9v.data,20,256);V.zY(this.k2);V.La(this.k2,this.aqY.bind(this));v.appendChild(this.k2);
V.v(this._y,"width:"+h+"px; height:"+h+"px");V.v(this.k2,"width:16px; height:"+h+"px");this.w0=new hJ("Web Colors\u2001");
this.w0.P(k.E.f,this.update,this);this.KO=new hJ("CMYK gamut");this.KO.P(k.E.f,this.update,this);if(e){V.Xp(J);
J.appendChild(this.w0.Z);J.appendChild(this.KO.Z)}var m=this.Lv=document.createElementNS("http://www.w3.org/2000/svg","svg");
v.appendChild(m)}cb.prototype=new fx;cb.prototype.Kt=function(h,e){this._y.style.width=this.a7T.style.width=h-16+"px"};
cb.prototype.e=function(h){if(this.w0.j()){var e=B.t(h);cb.Ld(e);var v=this.j();if(e.n==v.n&&e.i==v.i&&e.b==v.b)h=this.oC}this.oC=h;
this.update()};cb.prototype.j=function(){var h=B.t(this.oC);if(this.w0.j())cb.Ld(h);return h};cb.prototype.update=function(){var h=this.oC,e=B.vB(h.n,h.i,h.b),j=18;
if(e.GL==0)e.eL=this.LD.x/255;if(e.eL==0||e.GL==0)e.qw=(255-this.pO(this.ib.y))/255;if(e.GL!=0)this.LD.x=e.eL*255;
this.LD.y=(1-e.GL)*255;this.ib.y=(1-e.qw)*255;var v=this.aki,J=this.w0.j(),m=this.KO.j(),d=J+","+m;if(Math.abs(e.qw-this.aHr)>.002||this.ajD!=d){this.a7$(v.data,256,256,e.qw,J,m);
this.aG_();this.aHr=e.qw;this.ajD=d}var x=this.h_;x.putImageData(v,0,0);v=this.a9v;x=this.VH;x.putImageData(v,0,0);
x.strokeStyle="#ffffff";x.beginPath();x.moveTo(0,this.ib.y);x.lineTo(20,this.ib.y);x.lineWidth=2;x.stroke();
var E=this.LD.y/255,L=parseFloat(this._y.style.width),p=parseFloat(this._y.style.height),Z=this.Lv;Z.setAttribute("width",j);
Z.setAttribute("height",j);var o=Math.round(h.n*255)<<16|Math.round(h.i*255)<<8|Math.round(h.b*255),u="<circle cx=\""+j/2+"\" cy=\""+j/2+"\" r=\""+j/2+"\" fill=\"#"+B.zF(o)+"\"></circle>";
u+="<circle cx=\""+j/2+"\" cy=\""+j/2+"\" r=\""+(-.5+j/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*E)+")\" stroke-width=\"1\"></circle>";
u+="<circle cx=\""+j/2+"\" cy=\""+j/2+"\" r=\""+(-1.2+j/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
Z.innerHTML=u;Z.style.pointerEvents="none";Z.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
Z.style.position="absolute";Z.style.left=L*(this.LD.x/255)-j/2+"px";Z.style.top=p*(this.LD.y/255)-j/2+"px"};
cb.Ld=function(h){h.n=~~(.5+h.n*5)*.2;h.i=~~(.5+h.i*5)*.2;h.b=~~(.5+h.b*5)*.2};cb.prototype.a7$=function(h,e,v,J,m,d){var x=1/e,j=1/v;
for(var E=0;E<v;E++)for(var L=0;L<e;L++){var p=B.Qh(J,L*x,(v-E-1)*j);if(m)cb.Ld(p);var T=E*e+L<<2;h[T+0]=~~(p.n*255);
h[T+1]=~~(p.i*255);h[T+2]=~~(p.b*255);h[T+3]=255}if(d){var Z=h.slice(0),o=B._V("rgbToRgbC"),u=o[2],N=o[3];
ICC.U.applyLUT(N,u,Z,Z);this.Oa=B.U(e*v);for(var T=0;T<h.length;T+=4){var M=h[T]-Z[T],O=h[T+1]-Z[T+1],F=h[T+2]-Z[T+2],W=M*M+O*O+F*F;
if(W>300){h[T]=h[T+1]=h[T+2]=200;this.Oa[T>>>2]=255}}}};cb.aeR=function(h,e,v,J,m){if(J==null)J=1;if(m==null)m=0;
var d=new Uint32Array(h.buffer);for(var x=0;x<v;x++){var j=B.Qh((1+J*(1-x/v)+m)%1,1,1),E=255<<24|j.b*255<<16|j.i*255<<8|j.n*255;
for(var L=0;L<e;L++)d[x*e+L]=E}};cb.prototype.au2=function(h){V.Xa(window,this.BM);V.wZ(window,this.bA);
this.Cc(h);this.Lv.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Lv.style.transform="scale(2.4)"};
cb.prototype.aef=function(h){V.L0(window,this.BM);V.SV(window,this.bA);this.Lv.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Lv.style.transform="scale(1)"};cb.prototype.Cc=function(h){var e=V.IE(h,this._y);e.x=e.x*(256/parseFloat(this._y.style.width));
e.y=e.y*(256/parseFloat(this._y.style.height));this.LD.Cg(this.pO(e.x),this.pO(e.y));this.aG_();this.ow()};
cb.prototype.aG_=function(){if(!this.KO.j())return;var h=this.LD,e=0,v=0,J=1e9;for(var m=0;m<256;m++){for(var d=0;
d<256;d++){if(this.Oa[m*256+d]==255)continue;var x=d-h.x,j=m-h.y,E=x*x+j*j;if(E<J){e=d;v=m;J=E}}}h.x=e;
h.y=v};cb.prototype.ow=function(){this.oC=this.ago();this.a(new g3(k.E.f))};cb.prototype.ago=function(){var h=B.Qh((255-this.pO(this.ib.y))/255,this.oM(this.LD.x/255),this.oM(1-this.LD.y/255));
return{n:h.n,i:h.i,b:h.b}};cb.prototype.aqY=function(h){V.Xa(window,this.a8g);V.wZ(window,this.agJ);
this.a9p(h)};cb.prototype.a8F=function(h){V.L0(window,this.a8g);V.SV(window,this.agJ)};cb.prototype.a9p=function(h){var e=V.IE(h,this.k2);
e.y=e.y*(256/parseFloat(this.k2.style.height));this.ib.Cg(this.pO(e.x),this.pO(e.y));this.ow()};cb.prototype.pO=function(h){return Math.max(0,Math.min(255,h))};
cb.prototype.oM=function(h){return Math.max(0,Math.min(1,h))};function aq(h,e,v,J){var m=ha.no(e,J);
ha.call(this,h,m,v)}aq.prototype=new ha;function c4(){fx.call(this);this.jH=new bP;this.jH.P(k.E.f,this.a2P,this);
this.jH.parent=this;this._L=new cs([12,14,0],1,150,"px",2,!0);this._L.P(k.E.f,this.Xh,this);this._L.parent=this;
this.h8=new cs([16,0],.01,100,"px",2,!0,null,5);this.h8.P(k.E.f,this.Xh,this);this.h8.parent=this;this.Fr=new hJ("Auto");
this.Fr.P(k.E.f,this.Xh,this);this.K9=new cs([16,1],-500,5e3,"%",0,!0);this.K9.P(k.E.f,this.Xh,this);
this.K9.parent=this;this.uS=new cs("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.uS.P(k.E.f,this.Xh,this);
this.uS.parent=this;this.bn=new cs("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.bn.P(k.E.f,this.Xh,this);
this.bn.parent=this;this.O7=new cs([16,2],-10,10,"px");this.O7.P(k.E.f,this.Xh,this);this.O7.parent=this;
this.nM=new iE(!0);this.nM.P(k.E.f,this.uv,this);this.nM.parent=this;this.b5=new iE(!0);this.b5.P(k.E.f,this.uv,this);
this.b5.parent=this;this.Gk=new iE(!0);this.Gk.P(k.E.f,this.uv,this);this.Gk.parent=this;this.tk=new iE(!0);
this.tk.P(k.E.f,this.uv,this);this.tk.parent=this;this.tA=new hJ([2,3]);this.tA.P(k.E.f,this.Xh,this);
this.bb=new hJ([14,9]);this.bb.P(k.E.f,this.Xh,this);this.fn=new hJ([12,46]);this.fn.P(k.E.f,this.Xh,this);
this.Gy=new j0(!0,!0);this.Gy.P(k.E.f,this.Xh,this);this.hG=new eA("...",null,null,!0);this.hG.Z.style.marginLeft="-8px";
V.La(this.hG.Z,this.adV.bind(this));this.pD=new fx;var h=this.pD.Z=V.k("div","floatcont form"),x=100;
this.pD.parent=this;this.Gy.parent=this.pD;this._Y=new cs([12,41],1,20,"px",0,!0,!0);this._Y.Z.style.marginLeft="16px";
this._Y.P(k.E.f,this.Xh,this);this._Y.parent=this.pD;h.appendChild(this.b5.Z);h.appendChild(this.tA.Z);
V.Xp(h);h.appendChild(this.Gk.Z);h.appendChild(this.bb.Z);V.Xp(h);h.appendChild(this._Y.Z);h.appendChild(this.Gy.Z);
V.Xp(h);h.appendChild(this.tk.Z);h.appendChild(this.fn.Z);this.Mu=new eA("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.TC=new eA("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.$d=new eA("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.SI=new eA("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.OW=new eA("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.Fi=new eA("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.ve=new eA("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.$L=new eA("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var e=[this.Mu,this.TC,this.$d,this.SI,this.OW,this.Fi,this.ve,this.$L];for(var T=0;T<e.length;T++)e[T].P("click",this.auH,this);
var v="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.Ok=[];for(var T=0;
T<8;T++){var J=new eA("<img src=\""+PIMG["lig/"+v[T]]+"\" class=\"autoscale gsicon\" />",!1,fr.ag0[T]);
J.P("click",this.auH,this);this.Ok.push(J)}this.Vc=new eA("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.gn=new eA("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.fv=new eA("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a2u=new eA("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.an0=new eA("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.axd=new eA("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.acU=new eA("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Bs=[this.Vc,this.gn,this.fv,this.a2u,this.an0,this.axd,this.acU];for(var T=0;T<this.Bs.length;T++)this.Bs[T].P("click",this.Xh,this);
var m=["lind","rind","flind","bind","aind"],d=[];for(var T=0;T<5;T++)d.push("<img src=\""+PIMG["par/"+m[T]]+"\" class=\"autoscale gsicon\" /> ");
this.To=new cs(d[0],-x,x,"px");this.le=new cs(d[1],-x,x,"px");this.tD=new cs(d[2],-x,x,"px");this.Hx=new cs(d[3],-x,x,"px");
this.r4=new cs(d[4],-x,x,"px");this.cf=new ha([12,33],["Abc ...","... أي بي"]);this.ZD=new cs(["Auto VAR0",[16,0]],0,500,"%");
this.OO=[this.To,this.le,this.tD,this.Hx,this.r4,this.cf,this.ZD];for(var T=0;T<this.OO.length;T++){var j=this.OO[T];
j.P(k.E.f,this.Xh,this);j.parent=this}}c4.prototype=new fx;c4.prototype.adV=function(h){if(V.gl(this.pD.Z))return;
h.stopPropagation();var e=this.hG.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height+4};
this.a(v)};c4.prototype.S=function(){this.jH.S();this._L.S();this.h8.S();this.K9.S();this.O7.S();this.uS.S();
this.bn.S();this.tA.S();this.bb.S();this.fn.S();this._Y.S();this.Gy.S();for(var T=0;T<this.OO.length;
T++)this.OO[T].S()};c4.prototype.e=function(h,e,v){this.Xi=B.t(h);var J=this.Xi,m=J.zI,d=J.UZ;this.Mu.e(m.FauxBold!=null?m.FauxBold:!1);
this.TC.e(m.FauxItalic!=null?m.FauxItalic:!1);this.$d.e(m.FontCaps==2);this.SI.e(m.FontCaps==1);this.OW.e(m.FontBaseline==1);
this.Fi.e(m.FontBaseline==2);this.ve.e(m.Underline);this.$L.e(m.Strikethrough);var x={};if(m.Font!=null){var j=e.xs(J.k0[m.Font].Name);
if(j)x=j.GSUB;if(x==null)x={}}for(var T=0;T<8;T++){this.Ok[T].Es(x[fr.afT[T]]);this.Ok[T].e(m[fr.Ok[T]])}this.jH.e(m.Font==null?null:J.k0[m.Font].Name,e,v);
var E=m.FontSize==null?20:m.FontSize;this._L.e(E);var L=m.Tracking;this.K9.e(L==null?0:L);this._Y.e(m.OutlineWidth!=null?m.OutlineWidth:1);
this.Gy.e(fL.Rr.aEc(m));this.h8.e(m.Leading!=null&&m.Leading!=0?m.Leading:E);this.Fr.e(m.AutoLeading);
this.uS.e((m.VerticalScale!=null?m.VerticalScale:0)*100);this.bn.e((m.HorizontalScale!=null?m.HorizontalScale:0)*100);
this.O7.e(m.BaselineShift!=null?m.BaselineShift:0);this.tA.e(m.FillFlag!=null?m.FillFlag:!1);this.bb.e(m.StrokeFlag!=null?m.StrokeFlag:!1);
this.fn.e(m._FillBackgroundFlag!=null?m._FillBackgroundFlag:!1);this.c6(m.FillColor,this.nM);this.c6(m.FillColor,this.b5);
this.c6(m.StrokeColor,this.Gk);this.c6(m._FillBackgroundColor,this.tk);var p=d._Direction!=null?d._Direction:0,Z=fr.fl(d);
for(var T=0;T<this.Bs.length;T++)this.Bs[T].e(Z==T);this.cf.e(p);this.ZD.e((d.AutoLeading!=null?d.AutoLeading:1.2)*100);
this.To.e(d.StartIndent!=null?d.StartIndent:0);this.le.e(d.EndIndent!=null?d.EndIndent:0);this.tD.e(d.FirstLineIndent!=null?d.FirstLineIndent:0);
this.Hx.e(d.SpaceBefore!=null?d.SpaceBefore:0);this.r4.e(d.SpaceAfter!=null?d.SpaceAfter:0)};c4.prototype.c6=function(h,e){if(h){var v=fr.SL(h);
e.Y_(Math.round(v.n)<<16|Math.round(v.i)<<8|Math.round(v.b))}else e.Y_(0)};c4.prototype.ob=function(){var h=new g3(k.E.u,!0);
h.data={V:k.l.Gi,m0:dq.PC,Xi:this.Xi};this.a(h);var h=new g3(k.E.A,!0);h.I=c.HV;h.data={V:"updateStyles"};
this.a(h)};c4.prototype.auH=function(h){var e=this.Xi.zI,v=h.target,J=!v.rN(),m=this.Ok.indexOf(v);if(m!=-1){e[fr.Ok[m]]=J}else{if(v==this.Mu)e.FauxBold=J;
if(v==this.TC)e.FauxItalic=J;if(v==this.$d)e.FontCaps=J?2:0;if(v==this.SI)e.FontCaps=J?1:0;if(v==this.OW)e.FontBaseline=J?1:0;
if(v==this.Fi)e.FontBaseline=J?2:0;if(v==this.ve)e.Underline=J;if(v==this.$L)e.Strikethrough=J}this.ob()};
c4.prototype.Xh=function(h){var e=this.Xi.zI,v=this.Xi.UZ,J=h.target;if(J==this.Gy){fL.Rr.aj2(J.j(),e)}if(J==this.K9){var m=this.K9.j();
e.Tracking=m}if(J==this.h8){e.AutoLeading=!1;e.Leading=this.h8.j()}if(J==this.Fr){e.AutoLeading=this.Fr.j()}if(J==this._Y)e.OutlineWidth=J.j();
if(J==this._L)e.FontSize=J.j();if(J==this.uS)e.VerticalScale=J.j()/100;if(J==this.bn)e.HorizontalScale=J.j()/100;
if(J==this.O7)e.BaselineShift=J.j();if(J==this.tA)e.FillFlag=J.j();if(J==this.bb)e.StrokeFlag=J.j();
if(J==this.fn)e._FillBackgroundFlag=J.j();if(this.Bs.indexOf(J)!=-1){v.Justification=fr.fl(v,this.Bs.indexOf(J))}if(J==this.To)v.StartIndent=J.j();
if(J==this.le)v.EndIndent=J.j();if(J==this.tD)v.FirstLineIndent=J.j();if(J==this.Hx)v.SpaceBefore=J.j();
if(J==this.r4)v.SpaceAfter=J.j();if(J==this.cf)v._Direction=J.j();if(J==this.ZD)v.AutoLeading=J.j()/100;
this.ob()};c4.prototype.a2P=function(h){var e=this.Xi,v=this.jH.j(),J=-1;for(var T=0;T<e.k0.length;T++)if(e.k0[T].Name==v)J=T;
if(J==-1){J=e.k0.length;var m=B.t(e.k0[0]);m.Name=v;e.k0.splice(J,0,m)}e.zI.Font=J;this.ob()};c4.prototype.uv=function(h){var e=h.target,v=e.by(),J={Type:1,Values:[1,(v>>16&255)/255,(v>>8&255)/255,(v>>0&255)/255]};
for(var T=0;T<4;T++)J.Values[T]=Math.round(J.Values[T]*1e3)/1e3;var m=e==this.nM||e==this.b5?0:e==this.Gk?1:2;
this.Xi.zI[["FillColor","StrokeColor","_FillBackgroundColor"][m]]=J;this.ob()};function bP(){fx.call(this);
this.Z=V.k("span","fontinput");this.GK=null;this.xf=null;this.DK=null;this.nh="";this.QN={};this._f=[];
this.Bh={};this.ajR={};this.eg=[];this.di=!1;this.AJ=V.k("button","fitem");V.v(this.AJ,"width:9em;");
this.AJ.textContent="Family Name \u25BC";this.Z.appendChild(this.AJ);V.La(this.AJ,this.aic.bind(this));
this.rk=new fx;this.rk.parent=this;var h=this.rk.Z=V.k("div","floatcont");h.style.padding="7px 7px 3px 7px";
var e=new cE("Recent");h.appendChild(e.Z);var v=this.aCn=new eA([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
v.P("click",this.axw,this);v.Z.style.float="right";h.appendChild(v.Z);var J=this.fH=new hJ("Local Fonts");
J.P(k.E.f,this.aka,this);J.Z.style.float="right";J.Z.style.marginRight="10px";J.Z.style.marginTop="3px";
h.appendChild(J.Z);V.Xp(h);this.jy=V.k("span","fitem imageset scrollable");this.jy.style.maxHeight="8em";
h.appendChild(this.jy);var m=V.k("div","form");this.rk.Z.appendChild(m);this.Mv=new eA(V.pY("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.Mv.P("click",this.a7N,this);m.appendChild(this.Mv.Z);this.Jg=new jE([12,86],null,7.5);this.Jg.P("input",this.P4,this);
m.appendChild(this.Jg.Z);this.HX=new c9(10,"\u2630");m.appendChild(this.HX.Z);this.HX.parent=this.rk;
this.HX.P(k.E.f,this.up,this);this.HX.Z.style.float="right";this.HX.Z.style.marginRight="0";this.EK=V.k("span","fitem imageset scrollable");
this.EK.style.height="30em";this.rk.Z.appendChild(this.EK);this.EK.addEventListener("scroll",this.aEr.bind(this),!1);
this.$y=V.k("button","fitem");V.v(this.$y,"width:7em;");this.$y.textContent="SubFamily Name \u25BC";
this.Z.appendChild(this.$y);V.La(this.$y,this.aic.bind(this));this.IP=new fx;this.IP.parent=this;this.IP.Z=V.k("div","floatcont");
this.uN=V.k("span","fitem imageset scrollable");this.IP.Z.appendChild(this.uN);this.az_=this.ajy.bind(this);
this.alp=this.az1.bind(this)}bP.prototype=new fx;bP.prototype.aka=function(h){j3.QU.Es(h.target.j(),function(){this.e();
this.up()}.bind(this),function(){this.fH.e(!1)}.bind(this));this.up()};bP.prototype.aEr=function(h){var e=this.EK.scrollTop,v=this._f,J=Math.floor(e/27),m=Math.min(J+20,v.length);
for(var T=J;T<m;T++)this.apl(v[T])};bP.prototype.axw=function(){var h=new g3(k.E.u,!0);h.data={V:k.l.iv};
this.a(h)};bP.prototype.S=function(){this.HX.S();this.aCn.S();this.fH.e(j3.QU.rN());this.Mv.Ao(V.pY("tools/cshape",null,"autoscale"))};
bP.prototype.a7N=function(h){this.Mv.e(!this.Mv.rN());this.up()};bP.prototype.P4=function(h){this.nh=this.Jg.j().toLowerCase();
this.up()};bP.prototype.aic=function(h){V.wY(h);var e=h.currentTarget,v=e.getBoundingClientRect(),J=e==this.AJ,m=J?this.rk:this.IP;
if(V.gl(m.Z)){this.anI(m);return}if(!J&&this.GK.H1()[this.DK]==null)return;var d=new g3(k.E.u,!0);d.data={V:k.l.Eu,nB:m,x:v.left,y:v.top+v.height};
this.a(d);if(J){this.up(null,!0)}};bP.prototype.ajy=function(h){var e=h.currentTarget.firstChild.nextSibling.textContent;
if(h.target.tagName.toLowerCase()=="button"){var v=this.xf.slice(0),J=v.indexOf(e);if(J==-1){v=v.slice(Math.max(0,v.length-29));
v.push(e)}else v.splice(J,1);var m=new g3(k.E.u,!0);m.data={V:k.l.Gi,m0:dq.Nh,uO:v};this.a(m);this.di=!0;
this.up()}else{this.a9x(e,null)}};bP.prototype.az1=function(h){this.a9x(null,h.currentTarget.firstChild.textContent)};
bP.prototype.a9x=function(h,e){var v=h==null?this.IP:this.rk,J=this.GK;if(h==null)h=J.H1()[this.DK][0];
else{var m=J.Kz(h),d=J.H1()[this.DK];e=j3.gG(m,d?d[1]:"regular")}var x=J.Op(h,e)[2];this.e(x,J);this.a(new g3(k.E.f,!1));
this.anI(v);this.up()};bP.prototype.anI=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.Ni,nB:h};this.a(e)};
bP.prototype.j=function(){return this.DK};bP.prototype.e=function(h,e,v){var J=this.GK;if(h!=null)this.DK=h;
else h=this.DK;if(e)this.GK=e;else e=this.GK;if(v)this.xf=v;else v=this.xf;if(h!=null){var m=e.H1()[h],d,x;
if(m==null){d="- "+h;x="-------"}else{d=m[0];x=m[1];var j=this.eg;for(var T=0;T<j.length;T++)if(j[T][0][0]==d)j.splice(T,1);
j.push([m,Date.now()]);j.sort(function(Z,o){return o[1]-Z[1]});j=j.slice(0,10);V.H5(this.jy);for(var T=1;
T<j.length;T++){var E=j[T][0],L=this.j7(E,!0);this.BH(L,E,!0);this.jy.appendChild(L)}var p=e.Kz(d);p.sort(j3.af6);
this.uN.textContent="";for(var T=0;T<p.length;T++){var m=e.Op(d,p[T]);if(!this.HX.kU(m))continue;var L=this.j7(m,!1);
this.uN.appendChild(L)}}this.AJ.textContent=d.substring(0,15)+" \u25BC";this.AJ.setAttribute("title",d+", \""+h+"\"");
this.$y.textContent=x.substring(0,10)+" \u25BC";this.$y.setAttribute("title",x)}};bP.prototype.up=function(h,e){var v=this.GK.H1()[this.DK],J=this.xf,m=this.GK.aEg();
this._f=[];var d=this.fH.j();for(var x in m){var j=J.indexOf(x)!=-1,E=this.GK.Kz(x),L=!1;for(var T=0;
T<E.length;T++){var p=this.GK.Op(x,E[T]),Z=!0;if(this.nh.length>0&&p[0].toLowerCase().indexOf(this.nh)==-1)Z=!1;
else if(!this.HX.kU(p))Z=!1;else if(this.Mv.rN()&&!j)Z=!1;else if(p[5]=="--loc"&&!d)Z=!1;if(Z)L=!0}var o=this.QN[x];
if(o==null){var u=j3.gG(m[x],"regular"),N=this.GK.Op(x,u),o=this.j7(N,!0);this.QN[x]=o;this.EK.appendChild(o);
this.Bh[x]="[true,false,false]"}if(L)this._f.push(x);var M=v!=null&&v[0]==x;this.ajR[x]="["+L+","+M+","+j+"]";
if(!e)this.apl(x)}if(v&&!this.di){var O=this.QN[v[0]];this.EK.scrollTop=O.offsetTop-210}this.aEr();this.di=!1};
bP.prototype.apl=function(h){var e=this.QN[h];if(e.firstChild==null){var v=this.GK.aEg(),J=j3.gG(v[h],"regular"),m=this.GK.Op(h,J);
this.BH(e,m,!0)}var d=this.Bh[h],x=this.ajR[h];if(d==x)return;var j=JSON.parse(d),E=JSON.parse(x);if(j[0]!=E[0]||j[1]!=E[1]){var L=E[0]?"":"display:none; ";
if(E[1])L+="background-color:rgba(0,0,0,0.13);";V.v(e,L)}if(j[2]!=E[2])V.v(e.firstChild,"opacity: "+(E[2]?"1":"0.2"));
this.Bh[h]=x};bP.prototype.j7=function(h,e){var v=V.k("div","fontitem");if(!e)this.BH(v,h,e);return v};
bP.prototype.BH=function(h,e,v){var J=e[v?0:1],m=v?this.az_:this.alp,E="";h.addEventListener("click",m,!1);
if(v)h.appendChild(V.k("button","star"));var d=V.k("span","label");d.setAttribute("title",J);d.textContent=J;
h.appendChild(d);var x=V.A_(),j=1/x,L=j3.Z5*j,p=j3.VF*j;if(1<x&&x<1.5)E="width:"+L+"px; height:"+p+"px;";
var Z=V.k("span","thumb gsicon");if(e.cs){E+="background: url("+e.cs+");";if(1<x&&x<1.5)E+="background-size: "+L+"px "+p+"px;"}else{var o=Math.ceil(FNTS.list.length/j3.cols),u=Math.floor(e.yl/j3.cols),N=e.yl-u*j3.cols,M=N*j3.Z5,O=u*j3.VF;
if(1<x&&x<1.5){E+="background-size: "+j3.cols*L+"px "+o*p+"px;";M*=j;O*=j}E+="background-position:-"+M+"px -"+O+"px;"}V.v(Z,E);
h.appendChild(Z)};function c9(h,e){fx.call(this);this.Z=V.k("button","fitem bbtn");this.Z.addEventListener("click",this.a1.bind(this),!1);
this.pD=new fx;this.pD.Z=V.k("div","floatcont");this.pD.parent=this;this.BR=V.k("div","flexrow");this.pD.Z.appendChild(this.BR);
this.$Q=e;this.cZ=[];this.rC=[];var v=this.BR,J=V.k("div",""),m=V.k("div","");v.appendChild(J);v.appendChild(m);
this.tx=[];for(var T=0;T<FNTS.cats.length;T++)this.tx.push({name:FNTS.cats[T],index:T,Pw:0});this.kI=new hJ([7,0]);
this.kI.e(!0);this.kI.P(k.E.f,this.aF0,this);J.appendChild(this.kI.Z);this.yn=V.k("div","vlist marged scrollable");
V.v(this.yn,"width:10.3em; height:"+h+"em; ");J.appendChild(this.yn);this.J2=[];for(var T=0;T<this.tx.length;
T++){var d=this.tx[T],x=new hJ(d.name);this.J2.push(x);x.P(k.E.f,this.a3W,this);x.e(!0);this.yn.appendChild(x.Z);
this.cZ.push(1)}this.anM=new hJ([7,0]);this.anM.P(k.E.f,this.ai1,this);this.qp=V.k("div","vlist marged scrollable");
V.v(this.qp,"width:8.6em; height:"+(h+1.5)+"em; ");m.appendChild(this.qp);this.HS=[];for(var T=0;T<FNTS.subsetNames.length;
T++){var x=new hJ(FNTS.subsetNames[T]);this.HS.push(x);x.P(k.E.f,this.aG0,this);x.e(!1);this.qp.appendChild(x.Z);
this.rC.push(x.j()?1:0)}}c9.prototype=new fx;c9.prototype.abA=function(h){var e=this.HS;for(var T=0;
T<e.length;T++){var v=(h>>>T&1)==1;this.rC[T]=v;e[T].e(v)}};c9.prototype.acZ=function(){return this.BR};
c9.prototype.S=function(){this.Z.textContent=this.$Q?this.$Q:bj.get([25,1,0])+" \u25BC";this.kI.S();
this.anM.S()};c9.prototype.a1=function(h){var e=this.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height,u3:!0};
this.a(v)};c9.prototype.kU=function(h){if(this.cZ[h[4]]==0)return!1;else for(var e=0;e<this.rC.length;
e++)if(this.rC[e]==1&&(h[3]>>>e&1)==0)return!1;return!0};c9.prototype.aF0=function(h){var e=h.target.j(),v=this.J2,J=this.cZ;
for(var T=0;T<v.length;T++){v[T].e(e);J[T]=e?1:0}this.a(new g3(k.E.f,!1))};c9.prototype.ai1=function(h){var e=h.target.j(),v=this.HS,J=this.rC;
for(var T=0;T<v.length;T++){v[T].e(e);J[T]=e?1:0}this.a(new g3(k.E.f,!1))};c9.prototype.a3W=function(h){var T=this.J2.indexOf(h.target),e=this.tx[T].index;
this.cZ[e]=1-this.cZ[e];this.a(new g3(k.E.f,!1));this.alV(this.J2,this.kI)};c9.prototype.aG0=function(h){var T=this.HS.indexOf(h.target);
this.rC[T]=1-this.rC[T];this.a(new g3(k.E.f,!1))};c9.prototype.alV=function(h,e){var v=!0;for(var T=0;
T<h.length;T++)v=v&&h[T].j();e.e(v)};function gV(h,e,v){eQ.call(this,e,!0,"gradientbutton",18*13,10*13,dq.vk);
this.kc=-1;this.kF=-1;this.aaX=null;this.ace=h;this.AX=v}gV.prototype=new eQ;gV.prototype.YF=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.Xq,dF:"gradienteditor",Vh:this.i3,sI:this.aDu.bind(this),kB:this.AX};this.a(e)};gV.prototype.aDu=function(h){this.e(h);
this.a(new g3(k.E.f))};gV.prototype.QG=function(h,e){this.kc=h;this.kF=e;this.hA()};gV.prototype.hA=function(){if(this.i3==null)return;
var h=JSON.stringify(this.i3)+","+this.kc+","+this.kF;if(h==this.aaX)return;this.aaX=h;var e=Math.floor(80*V.A_()),v=Math.floor(16*V.A_()),J=c.Sa.lT(this.i3,e,v,0,this.kc,this.kF);
this.Bw.setAttribute("src",J);V.Aw(this.Bw,e,v)};gV.prototype.j=function(){var h;if(this.ace)h=c.Sa.aoS(this.i3,this.kc,this.kF);
else h=B.t(this.i3);return h};function ig(h){eQ.call(this,h,!1,"swatchbutton",16*13,9.75*13,dq.fU)}ig.prototype=new eQ;
function iq(h){eQ.call(this,null,!0,"swatchbutton",16*13,8.75*13,dq.ty);this.wv=h}iq.prototype=new eQ;
iq.prototype.k6=function(h){var e=this.B0,v=h.target.j();this.e(v==0?[]:e.KW[v-1][1],e);this.a(new g3(k.E.f))};
iq.prototype.YF=function(h){if(this.i3.length!=0)cM.at4(this.i3,this,this.ow.bind(this))};iq.prototype.ow=function(h){var e=h;
if(typeof h=="number"){e=B.UY(h,1);e=[e.n,e.i,e.b]}this.e(e);this.a(new g3(k.E.f))};iq.prototype.e=function(h,e){this.i3=h;
this.hA(e)};iq.prototype.hA=function(h){var e=Math.floor(20*V.A_()),v=Math.floor(20*V.A_()),J=V.k("canvas"),m=J.getContext("2d");
J.width=e;J.height=v;cM.sA(m,this.i3,h,e,v,0,0,this.wv==1);var d=m.canvas.toDataURL("png");this.Bw.setAttribute("src",d);
V.Aw(this.Bw,e,v)};iq.prototype.Ky=function(){if(!this.GZ)return;var h=Math.floor(20*V.A_()),e=Math.floor(20*V.A_()),v=[],J=[],m=this.B0,d=m.KW,x=V.k("canvas"),j=x.getContext("2d");
x.width=h;x.height=e;d=[["None",[]]].concat(d);for(var T=0;T<d.length;T++){J.push(d[T][0]);cM.sA(j,d[T][1],m,h,e,0,0);
var E=j.canvas.toDataURL("png");v.push(E)}this.Io.eZ(v,J,h,e);this.GZ=!1};iq.prototype.j=function(){return B.t(this.i3)};
function gR(h,e,v){fx.call(this);this.Z=V.k(v?"div":"span");var J=this.cx=V.k("input");this.cx.setAttribute("type","file");
if(e)J.setAttribute("multiple","");this.cx.addEventListener("change",this.a2r.bind(this),!1);this.aui=this.es.bind(this);
this.v2={};this.mE=0;this.Ul=h;var m=this.mp=new eA(bj.get(h)+" (0)",null,null,!0);this.Z.appendChild(m.Z);
m.addEventListener("click",function(d){J.click()});if(v){this.X7=V.k("div","scrollable");V.v(this.X7,"height:120px; width:100%; line-height:1.5em;");
this.Z.appendChild(this.X7);this.FN()}}gR.prototype=new fx;gR.prototype.e=function(h){this.v2=h;this.FN()};
gR.prototype.j=function(h){return this.v2};gR.prototype.a2r=function(h){var e=h.target.files;this.mE=e.length;
this.v2={};for(var T=0;T<e.length;T++){var v=e[T],J=new FileReader;J.onload=this.aui;J.eM=v.name;J.readAsArrayBuffer(v)}};
gR.prototype.es=function(h){var e=this.v2[h.target.eM]=new Uint8Array(h.target.result);this.mE--;if(this.mE==0){this.FN();
this.a(new g3(k.E.f));this.cx.value=null}};gR.prototype.FN=function(){var h=this.v2;this.mp.Ao(bj.get(this.Ul)+" ("+Object.keys(h).length+")");
var e=this.X7;if(e==null)return;V.H5(e);var v=[];for(var J in h)v.push(J);v.sort();for(var T=0;T<v.length;
T++){var m=V.k("div");m.textContent=v[T];e.appendChild(m)}};function ai(h,e,v,J,m){if(h==null)h=!1;if(e==null)e=!1;
if(v==null)v=!1;fx.call(this);this.qV=new fq;this.YH=new fq;this.qv=72;this.lA=72;this.F0=!0;this.TQ=!1;
this.Z=V.k("span");this.bQ=new cs([12,41],0,0,null,0,!1,!0,4);this.Z.appendChild(this.bQ.Z);this.bQ.P(k.E.f,this.$_,this);
var d=["px","%"];if(h)d=d.concat(["cm","mm","in"]);if(m){d=[[12,76,2],[12,76,6]];if(h)d=d.concat([[12,76,4],[12,76,5],[12,76,3]])}this.sR=new jV(null,d);
this.Z.appendChild(this.sR.Z);V.Xp(this.Z);this.sR.P(k.E.f,this.$_,this);this.F_=new cs([12,42],0,0,null,0,!1,!0,4);
this.Z.appendChild(this.F_.Z);this.F_.P(k.E.f,this.$_,this);var x=new eA("\u21F5",!1,null,!0);x.P("click",this.wL,this);
this.K5=new eA("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.K5.P("click",this.$_,this);
this.rE=new cE("");this.rE.Z.style.margin="0";this.rE.Z.style.padding="0";if(e){this.Z.appendChild(this.K5.Z);
this.Z.appendChild(this.rE.Z);this.K5.vU()}else this.Z.appendChild(x.Z);this.PS=new cs("DPI",0,0,null,3,!1,!0,4);
this.HD=new jV(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(h&&!J){V.Xp(this.Z);this.Z.appendChild(this.PS.Z);
this.Z.appendChild(this.HD.Z)}this.HD.P(k.E.f,this.$_,this);this.PS.P(k.E.f,this.$_,this);this.nV=new hJ([12,23,1]);
this.nV.P(k.E.f,this.$_,this);if(v){V.Xp(this.Z);this.Z.appendChild(this.nV.Z)}V.Xp(this.Z)}ai.prototype=new fx;
ai.prototype.Kt=function(h,e){this.bQ.mW.style.width=this.F_.mW.style.width=(h-78-this.K5.OD())/2+"px"};
ai.prototype.vo=function(){this.bQ.vo();this.F_.vo();this.sR.vo();var h=this.Z;V.H5(h);this.sR.Z.style.marginRight="0";
h.appendChild(this.bQ.Z);h.appendChild(this.K5.Z);h.appendChild(this.F_.Z);h.appendChild(this.sR.Z)};
ai.prototype.bX=function(){this.bQ.bX()};ai.prototype.a3z=function(h,e){this.F0=h;if(e!=null)this.TQ=e;
if(!this.F0&&!this.TQ&&this.sR.j()==0){this.sR.e(4);this.v7()}};ai.prototype.atY=function(h){this.K5.e(h)};
ai.prototype.S=function(){this.bQ.S();this.F_.S();this.PS.S();this.HD.S();this.K5.S();this.nV.S();this.sR.S()};
ai.prototype.wL=function(h){var e=this.YH.x;this.YH.x=this.YH.y;this.YH.y=e;this.v7();this.a(new g3(k.E.f,!1))};
ai.prototype.$_=function(h){if(h.target==this.sR&&!this.F0&&!this.TQ&&this.sR.j()==0)this.sR.e(4);if(h.target==this.sR||h.target==this.nV){this.v7();
return}if(h.target==this.K5)h.target.e(!h.target.j());if(h.target==this.HD)window.locStor.setItem("dpiUnit",this.HD.j());
var e=this.qV,v=parseFloat(this.bQ.j());if(isNaN(v))v=1;var J=parseFloat(this.F_.j());if(isNaN(J))J=1;
var m=this.PS.j()*[1,2.54][this.HD.j()],d=this.sR.j();if(this.F0){var x=this.lA;if(d==1){v=this.qV.x*(v/100);
J=this.qV.y*(J/100)}var j=[1,1,2.54/x,25.4/x,1/x][d];v/=j;J/=j;if(this.nV.j()){v+=this.qV.x;J+=this.qV.y}if(h.target==this.PS){var E=m;
if(!this.TQ){var L=E/x;v*=L;J*=L}x=E}if(this.K5.j()){if(h.target==this.bQ)J=v*(e.y/e.x);else v=J*(e.x/e.y)}v=Math.max(Math.abs(v),1);
J=Math.max(Math.abs(J),1)}else{var x=this.qv;if(h.target==this.PS)x=m;else{if(this.K5.j()){if(h.target==this.bQ)J=v*(e.y/e.x);
else v=J*(e.x/e.y)}var j=[1,1,2.54/x,25.4/x,1/x][d],p=v/(d==1?100:e.x*j);x=x/p}v=e.x;J=e.y}this.YH=new fq(Math.round(v),Math.round(J));
this.lA=x;this.v7();this.a(new g3(k.E.f,!1))};ai.prototype.op=function(T){this.sR.e(T);this.v7()};ai.prototype.atF=function(){return this.sR.j()};
ai.prototype.e=function(h,e,v){var J=window.locStor.getItem("dpiUnit");if(J!=null)this.HD.e(J);if(v!=!0)this.qV=h.O();
this.YH=h.O();if(e!=null){this.qv=e;this.lA=e}this.v7()};ai.prototype.v7=function(){var h=this.YH.x,e=this.YH.y,v=this.lA,J=(h/e).toFixed(3);
while(J.charAt(J.length-1)=="0")J=J.substring(0,J.length-1);if(J.charAt(J.length-1)==".")J=J.substring(0,J.length-1);
var m="  "+J+" : 1",d=function(p,Z){while(Z!=0){var o=Z;Z=p%Z;p=o}return p},x=d(h,e);if(Math.min(h,e)/x<10)m="  "+Math.round(h/x)+" : "+Math.round(e/x);
this.rE.e(m);if(this.nV.j()){h-=this.qV.x;e-=this.qV.y}var j=this.sR.j();if(j==1){if(this.F0){h=100*h/this.qV.x;
e=100*e/this.qV.y}else{h=e=100*this.qv/this.lA}}else{h=Math.round(h);e=Math.round(e)}var E=[1,1,2.54/v,25.4/v,1/v][j];
h*=E;e*=E;var L=j==1||j==2||j==4?2:0;this.bQ.JO(L);this.F_.JO(L);this.bQ.e(h);this.F_.e(e);this.PS.e(v*[1,1/2.54][this.HD.j()])};
ai.prototype.j=function(){return this.YH.O()};ai.prototype.gk=function(){return this.lA};function bU(h,e,v){fx.call(this);
var J=h==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.HT=h;this.aHq=e;this.hT=1;this.lk=[1,1,0];
var m=this.Z=V.k("div","numlist"),d=this.Lf=[];for(var T=0;T<4;T++){var x=new cs(J[T],0,0,null,2,!1,!0,4,null,v&&(T==0||T==2));
x.P(k.E.f,this.$_,this);m.appendChild(x.Z);d[T]=x;if(T==1||T==3)V.Xp(m)}d[4]=new hJ(h==0?[12,51]:[12,91,2]);
d[4].e(!0);m.appendChild(d[4].Z)}bU.prototype=new fx;bU.prototype.S=function(){var h=this.Lf;for(var T=0;
T<5;T++)h[T].S();if(this.HT==0)V.jE(h[0],h[2])};bU.prototype.e=function(h,e,v){if(e)this.lk=e;e=this.lk;
var J=v?h:this.HT==0?[h[2],h[0],h[3],h[1]]:[h[0],h[1],h[3],h[2]];this.hT=J[0]/J[2];for(var T=0;T<4;T++){var m=this.Lf[T];
m.JO(e[2]==0&&this.aHq?0:2);m.e(B.yu.U9(J[T],e[0],e[1],e[2]))}};bU.prototype.j=function(h){var e=[],v=this.lk;
for(var T=0;T<4;T++){var J=B.yu.e$(this.Lf[T].j(),v[0],v[1],v[2]);e[T]=this.aHq?Math.round(J):J}return h?e:this.HT==0?[e[1],e[3],e[0],e[2]]:[e[0],e[1],e[3],e[2]]};
bU.prototype.$_=function(h){var e=this.HT,v=this.Lf.indexOf(h.currentTarget),J=this.j(!0),m=this.Lf[4].j();
if(e==0){J[0]=Math.max(1,J[0]);J[2]=Math.max(1,J[2]);if(m&&v==0)J[2]=J[0]/this.hT;if(m&&v==2)J[0]=J[2]*this.hT}if(e==1){J[v]=Math.max(0,J[v]);
if(m)for(var T=0;T<4;T++)J[T]=J[v]}this.e(J,null,!0);this.a(new g3(k.E.f,!1))};function kk(h){fx.call(this);
this.ip=0;this.qO=[0,0,1,1,100,100];this.nq=[10,5,1,1,4,3,3,2,16,9];this.Ch=0;this.Vg=72;this.aeC=h;
this.Z=V.k("span","fitem");this.u0=new jV(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.Z.appendChild(this.u0.Z);this.u0.P(k.E.f,this.$_,this);this.bQ=new cs("W",0,0,null,2,!1,!0);this.Z.appendChild(this.bQ.Z);
this.bQ.P(k.E.f,this.$_,this);var e=this.Gy=new eA("\u21C4",!1,null,!0);e.P("click",this.wL,this);this.Z.appendChild(e.Z);
this.F_=new cs("H",0,0,null,2,!1,!0);this.Z.appendChild(this.F_.Z);this.F_.P(k.E.f,this.$_,this);this.PS=new cs("New DPI",0,0,null,3,!1,!0,4);
this.PS.P(k.E.f,this.$_,this);this.e({xr:0,x:0,y:0})}kk.prototype=new fx;kk.prototype.PK=function(h){this.nq[0]=h[0];
this.nq[1]=h[1];var e=this.j();this.Vg=h[2];this.Ch=h[3];this.e(e)};kk.prototype.S=function(){V.jE(this.bQ,this.F_);
this.PS.S();this.u0.S()};kk.prototype.wL=function(h){var e=this.F_.j();this.F_.e(this.bQ.j());this.bQ.e(e);
this.$_(h)};kk.prototype.$_=function(h){if(h.target==this.u0){var T=this.u0.j(),e=this.qO,v=this.PS.Z;
if(T==2&&v.parentNode==null&&this.aeC)this.Z.appendChild(v);if(T!=2&&v.parentNode!=null)this.Z.removeChild(v);
if(T>2){T-=3;var J=this.nq[2*T],m=this.nq[2*T+1];e[2]=J;e[3]=m;this.bQ.e(J);this.F_.e(m);this.u0.e(1)}var d=this.j();
e[this.ip*2]=d.x;e[this.ip*2+1]=d.y;this.ip=d.xr;this.e({xr:d.xr,x:e[d.xr*2],y:e[d.xr*2+1]})}if(this.bQ.j()<1)this.bQ.e(1);
if(this.F_.j()<1)this.F_.e(1);this.a(new g3(k.E.f,!1))};kk.prototype.e=function(h){this.u0.e(h.xr);var e=h.x,v=h.y;
if(h.xr==2){var J=this.Ch,m=this.Vg,d=this.nq;e=B.yu.U9(h.x,m,d[0],J);v=B.yu.U9(h.y,m,d[1],J)}this.bQ.e(e);
this.F_.e(v);if(h.xr==0){this.bQ.VZ();this.F_.VZ();this.Gy.VZ()}else{this.bQ.kE();this.F_.kE();this.Gy.kE()}};
kk.prototype.j=function(){var h=this.bQ.j(),e=this.F_.j(),v=this.u0.j();if(v==2){var J=this.Ch,m=this.Vg,d=this.nq;
h=B.yu.e$(h,m,d[0],J);e=B.yu.e$(e,m,d[1],J);h=Math.round(h);e=Math.round(e)}var x={xr:v,x:h,y:e},j=this.PS.j();
if(this.aeC&&j!=0)x.gx=j;return x};function cw(h){fx.call(this);this.Z=V.k("span","");this.aeI=h;var e=h?100:300;
this.mc=new bQ("Off X",-e,e,h?"%":"px",0,!h);this.yX=new bQ("Off Y",-e,e,h?"%":"px",0,!h);this.mc.P(k.E.f,this.$_,this);
this.yX.P(k.E.f,this.$_,this);this.Z.appendChild(this.mc.Z);this.Z.appendChild(this.yX.Z)}cw.prototype=new fx;
cw.prototype.S=function(){this.mc.S();this.yX.S()};cw.prototype.$_=function(h){this.a(new g3(k.E.f,!1))};
cw.prototype.ahc=function(h){this.mc.e(h.x);this.yX.e(h.y)};cw.prototype.azS=function(){return new fq(this.mc.j(),this.yX.j())};
cw.prototype.e=function(h,e){var v=h.Hrzn.v,J=h.Vrtc.v;if(this.aeI){v=v.val;J=J.val}this.mc.e(v);this.yX.e(J);
if(e==!0)this.$_()};cw.prototype.j=function(){var h=this.mc.j(),e=this.yX.j();if(this.aeI)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:h}},Vrtc:{t:"UntF",v:{type:"#Prc",val:e}}};
else return{classID:"Pnt",Hrzn:{v:h,t:"doub"},Vrtc:{v:e,t:"doub"}}};function j0(h,e){fx.call(this);this.Z=V.k("button");
this.Qt=[{T8:3,fe:[]},{T8:3,fe:[12,6],qP:0},{T8:3,fe:[0,6],qP:1,Jv:1}];this.Za=fL.Rr.UX();this.a7I=h;
this.HX=e;this.Z.addEventListener("click",this.a1.bind(this),!1);var v=V.k("canvas","gsicon");this.h_=v.getContext("2d");
this.Z.appendChild(v);var J=V.k("span");J.textContent=" \u25BC";this.Z.appendChild(J);this.pD=new fx;
this.pD.parent=this;this.pD.Z=V.k("div","floatcont form label6");var m=this.pD.Z;V.v(m,"width: 15em;");
this.QN=[e?new hJ("Fill First"):new jV([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ha([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ha([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new cs("Limit",0,50,null,null,null,!0,2.5),new jE([19,9,2])];
for(var T=0;T<this.QN.length;T++){var d=this.QN[T];if(jD==0||T!=0||!e)m.appendChild(d.Z);d.P(k.E.f,this.$_,this)}V.Xp(m);
this.Og=[];var x=this.h3.bind(this);for(var T=0;T<this.Qt.length;T++){var j=V.k("button","fitem");this.Og.push(j);
m.appendChild(j);j.addEventListener("click",x,!1);var v=V.k("canvas","gsicon"),E=v.getContext("2d");
j.appendChild(v);this.ar9(E,40,20,this.Qt[T])}}j0.prototype=new fx;j0.prototype.a1=function(h){var e=this.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);
v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height+4,u3:!0};this.a(v)};j0.prototype.$_=function(h){var e=this.QN,v=e.indexOf(h.target),J=e[v].j(),m=this.Za;
if(v==0)m.Tt=this.HX?J?1:0:J;if(v==1)m.qP=J;if(v==2)m.Jv=J;if(v==3)m.Mm=J;if(v==4){var d=m.fe=J==""?[]:J.split(" ").map(parseFloat);
if(!this.a7I)for(var T=0;T<d.length;T++)d[T]*=m.T8}this.a(new g3(k.E.f,!1))};j0.prototype.h3=function(h){var e=this.Og.indexOf(h.currentTarget),v=this.Qt[e],J=this.Za;
if(v.qP!=null)J.qP=v.qP;if(v.Jv!=null)J.Jv=v.Jv;J.fe=v.fe.slice(0);if(J.T8==null)J.T8=3;for(var T=0;
T<J.fe.length;T++)J.fe[T]*=J.T8/v.T8;this.a(new g3(k.E.f,!1))};j0.prototype.S=function(){for(var T=0;
T<this.QN.length;T++)this.QN[T].S()};j0.prototype.e=function(h){this.Za=B.t(h);var e=this.QN;if(h.Tt!=null)e[0].e(this.HX?h.Tt==1:h.Tt);
if(h.qP!=null)e[1].e(h.qP);if(h.Jv!=null)e[2].e(h.Jv);if(h.Mm!=null)e[3].e(h.Mm);e[3].Es(h.Jv==0);if(h.fe!=null){var v=h.fe.slice(0);
if(!this.a7I)for(var T=0;T<v.length;T++)v[T]/=h.T8;e[4].e(v.join(" "))}this.ar9(this.h_,40,16,h)};j0.prototype.j=function(){return B.t(this.Za)};
j0.prototype.ar9=function(h,e,v,J){V.xX(h.canvas,e,v);var m=J.fe?J.fe:[],d=J.T8;if(d==null)d=3;else{d=Math.min(5,d);
m=m.slice(0);for(var T=0;T<m.length;T++)m[T]*=d/J.T8}h.clearRect(0,0,e,v);h.setLineDash(m);h.lineCap=["butt","round","square"][J.qP];
h.lineJoin=["miter","round","bevel"][J.Jv];h.lineWidth=d;h.beginPath();h.moveTo(0,v/2);h.lineTo(e*2,v/2);
h.stroke()};function hG(h){eQ.call(this,h,!1,"contourbutton",34*13,16*13,dq.pt,!0);this.Jg=new jE([12,86],null,16);
this.Jg.P("input",this.P4,this);this.pD.Z.appendChild(this.Jg.Z);this.Mt=null;this.nh="";this.QS=null;
this.e(dI.UX())}hG.prototype=new eQ;hG.prototype.S=function(){eQ.prototype.S.call(this);this.Jg.S()};
hG.prototype.k6=function(h){this.e(this.Mt[h.target.j()[0]]);this.a(new g3(k.E.f))};hG.prototype.P4=function(h){this.nh=this.Jg.j().toLowerCase();
this.a9B()};hG.a71=!1;hG.prototype.Ky=function(){if(!this.GZ)return;var h=this.B0;if(h==null||!hG.a71){var e=new g3(k.E.u,!0);
e.data={V:k.l.We,m0:{url:"rsrc/basic/fa.zip"}};this.a(e);hG.a71=!0}else{var v=Date.now(),J=Math.floor(38*V.A_()),m=Math.floor(38*V.A_());
this.QS=[];for(var T=0;T<h.length;T++){if(h[T].avH==null)h[T].avH=hG.a44(h[T],J,m);this.QS.push(h[T].avH)}this.a9B();
this.GZ=!1}};hG.prototype.a9B=function(){var h=Math.floor(38*V.A_()),e=Math.floor(38*V.A_());this.Mt=[];
var v=[],J=[],m=this.B0;for(var T=0;T<m.length;T++){if(m[T].zV.toLowerCase().indexOf(this.nh)==-1)continue;
this.Mt.push(m[T]);v.push(this.QS[T]);J.push(m[T].zV)}this.Io.eZ(v,J,h,e)};hG.prototype.e=function(h){this.i3=hG.O(h);
this.hA()};hG.prototype.hA=function(){var h=Math.floor(23*V.A_()),e=Math.floor(23*V.A_()),v=hG.a44(this.i3,h,e);
this.Bw.setAttribute("src",v);V.Aw(this.Bw,h,e)};hG.prototype.j=function(){return hG.O(this.i3)};hG.O=function(h){return{zV:h.zV,ks:h.ks,z:s.eo.p3(h.z),Fv:h.Fv.O()}};
hG._y=null;hG.h_=null;hG.a44=function(h,e,v){var J=h.Fv,m=Math.min(e/J.q,v/J._)*.9,d=new aJ;d.translate(-.5,-.5);
d.scale(.95,.95);d.translate(.5,.5);d.scale(m*J.q,m*J._);d.translate((e-m*J.q)/2,(v-m*J._)/2);var x=B.Ut(e,v);
x.save();x.fillStyle="black";x.clearRect(0,0,e,v);x.setTransform(d.DR,d.b,d.tg,d.l_,d.TO,d.bZ);B.s.vs(h.z,x,0,0);
x.restore();var j=UPNG.encode([x.getImageData(0,0,e,v).data.buffer],e,v,0);return"data:image/png;base64,"+gI.nQ(j)};
function dA(h){eQ.call(this,h,!1,"ICCButton",16*13,12*13,dq.fJ,!0);this.Io.Vb(1)}dA.prototype=new eQ;
dA.prototype.EJ=function(){var h="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var T=0;T<h.length;T++)h[T]="luts/"+h[T]+".CUBE";return h};dA.prototype.k6=function(h){this.e(this.B0[h.target.j()]);
this.a(new g3(k.E.f))};dA.prototype.Ky=function(){if(!this.GZ)return;var h=Math.floor(1*V.A_()),e=Math.floor(1*V.A_()),v=[],J=[],m=this.B0;
for(var T=0;T<m.length;T++){var d=m[T].Nm.v.split("\\").pop().split("/").pop();J.push(d);v.push(dA.lT(m[T],h,e))}this.Io.eZ(v,J,h,e);
this.GZ=!1};dA.lT=function(h,e,v){var J=V.k("canvas"),x="ICC / 3DL / look / cube";J.width=e;J.height=v;
var m=J.getContext("2d"),d=Math.floor(14*V.A_());m.font=d+"px sans-serif";if(h.Nm)x=h.Nm.v.split("\\").pop().split("/").pop();
m.fillText(x,10,d);return J.toDataURL()};dA.prototype.hA=function(){var h=Math.floor(120*V.A_()),e=Math.floor(20*V.A_());
this.Bw.setAttribute("src",dA.lT(this.i3,h,e));V.Aw(this.Bw,h,e)};function fB(){fx.call(this);this.oC=null;
this.Z=V.k("span","fitem");this.NL=new fj([14,9]);this.CX=new cs(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.gp=new j0;this.DM=[this.NL,this.CX,this.gp];for(var T=0;T<this.DM.length;T++){var h=this.DM[T];
this.Z.appendChild(h.Z);h.parent=this;h.P(k.E.f,this.$_,this)}}fB.prototype=new fx;fB.prototype.S=function(){for(var T=0;
T<this.DM.length;T++)this.DM[T].S()};fB.prototype.fa=function(h,e){this.NL.fa(h,e)};fB.prototype.$_=function(h){var e=this.oC,v=this.NL.j();
fL.ba(e,v);e.strokeStyleLineWidth.v.val=this.CX.j();if(h.target==this.gp)fL.gL.write(e,this.gp.j());
this.oC=e;this.a(new g3(k.E.f,!1))};fB.prototype.e=function(h,e,v){this.oC=B.t(e);var J=fL.RM(e);this.NL.e(h,J,v);
this.CX.e(e.strokeStyleLineWidth.v.val);this.gp.e(fL.gL.th(e))};fB.prototype.j=function(){return B.t(this.oC)};
function de(h){var e=[[18,0],[18,1],[18,2],[18,3]],v=ha.no(["set/front","set/union","set/difference","set/intersection"]);
ha.call(this,h?[12,36]:null,v,e)}de.prototype=new ha;function aG(){fx.call(this);this.Z=V.k("button","fitem bbtn");
V.La(this.Z,this.gK.bind(this));this.pD=new fx;this.pD.Z=V.k("div","floatcont form");V.v(this.pD.Z,"max-width: 200px;");
this.pD.parent=this;var h=ci;this.Cb=[new hJ("Start"),new hJ("End"),new h([12,41],0,100,"px",null,!0,null,!0),new h([12,80,0],0,100,"px",null,!0,null,!0),new h("Concavity",-50,50,"%",null,null,null,!0)];
for(var T=0;T<this.Cb.length;T++){var e=this.Cb[T];e.parent=this;e.P(k.E.f,this.ow,this);this.pD.Z.appendChild(e.Z)}this.aAe=V.k("div");
this.pD.Z.appendChild(this.aAe)}aG.prototype=new fx;aG.prototype.e=function(h){for(var T=0;T<5;T++)this.Cb[T].e(h[T]);
this.FN()};aG.prototype.j=function(h){var e=[];for(var T=0;T<5;T++)e[T]=this.Cb[T].j();return e};aG.prototype.S=function(){this.Z.textContent=bj.get([12,93,4]);
for(var T=0;T<this.Cb.length;T++)this.Cb[T].S()};aG.prototype.ow=function(h){this.a(new g3(k.E.f,!1));
this.FN()};aG.prototype.FN=function(h){var e=this.j(),v=200,J=60;e[2]/=V.A_();e[3]/=V.A_();var m=B.s.z0.nD(0,J/2,v,J/2,5,e),d=B.s.vg(m);
this.aAe.innerHTML="<svg width=\""+v+"\" height=\""+J+"\" class=\"gsicon\">\t\t\t<path d=\""+d.gA+"\" />\t\t\t</svg>"};
aG.prototype.gK=function(h){if(V.gl(this.pD.Z))return;h.stopPropagation();var e=this.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);
v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height,u3:!0};this.a(v)};function cF(){fx.call(this);
this.Z=V.k("div");this.Lf=[];this.aoh=[];var h=this.aF=V.k("div"),e=V.k("h2");e.textContent="Create Teams";
h.appendChild(e);e.style.margin="26px 0 16px 0";var v=new eA("More about Teams",!1,null,!0);e.appendChild(v.Z);
v.Z.style.float="right";v.P("click",this.a4v,this);this.xy=V.k("div");h.appendChild(this.xy);this.a24=new jE("Team Name",null,10);
h.appendChild(this.a24.Z);var J=this.aev=new eA("Create Team",null,null,!0);h.appendChild(J.Z);J.P("click",this.a3n,this);
var e=V.k("h2");e.textContent="Join Teams";h.appendChild(e);e.style.margin="26px 0 16px 0";this.qZ=V.k("div");
h.appendChild(this.qZ);this.aGO=new jE("Team ID",null,10);h.appendChild(this.aGO.Z);var J=new eA("Join Team",null,null,!0);
h.appendChild(J.Z);J.P("click",this.a3n,this);this.a9I;this.a56=this.eh.bind(this);this.a6k=this.aFs.bind(this);
this.K4=!1;this.$l();this._k=null;this.adk=""}cF.prototype=new fx;cF.prototype.a4v=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.US,link:"https://www.photopea.com/api/accounts#teams"};this.a(e)};cF.prototype.$l=function(){clearTimeout(this.adS);
this.adS=setTimeout(this.a6k,this._k?10:3e3)};cF.prototype.aFs=function(){var h=cU.Wf();if(document.hidden||!V.gl(this.Z)||h==null){this.$l();
return}var e=cU.rG();if(this._k==null&&e==null)return;cU.Fm(this._k?this._k:e,this.a56);this.K4=!0;this._k=null};
cF.prototype.aEs=function(h){h.acc.update=!0;this.Z.style.pointerEvents="none";this.Z.style.opacity="0.5";
if(this.K4)this._k=h;else{clearTimeout(this.adS);cU.Fm(h,this.a56)}};cF.prototype.Sg=function(h){var e=typeof h=="string"?this.a9I:this.Lf.indexOf(h.target),v=this.aoh[e],J=v[0],m=cU.rG();
if(m==null)m={};var d=m.acc,x=d.tjoin,j=d.tstart;if(J=="leave"){x.splice(x.indexOf(v[1]),1)}if(J=="add"||J=="remove"||J=="delTeam"||J=="showRename"||J=="rename"){var E=-1,L=0;
for(var T=0;T<j.length;T++){L+=j[T][1].length;if(j[T][2]==v[1])E=T}var p=j[E];if(J=="add"){var Z=cU.Ju();
if(Z&&Z[0]==0&&Z[1][2]<=L){alert("You can have at most "+Z[1][2]+" members in your Premium.");return}p[1].push(v[2])}if(J=="remove")p[1].splice(p[1].indexOf(v[2]),1);
if(J=="delTeam"){if(p[1].length!=0){alert("Remove members first.");return}j.splice(E,1)}if(J=="showRename"){var o=new g3(k.E.u,!0);
o.data={V:k.l.Xq,dF:"namewindow",xz:p[0],j5:this.Sg.bind(this)};this.a(o);this.a9I=e;v[0]="rename";return}if(J=="rename")p[0]=h}this.aEs(m)};
cF.prototype.a3n=function(h){var e=this.aev==h.target,v=(e?this.a24:this.aGO).j().trim();if(v==""){alert("The Team "+(e?"Name":"ID")+" is empty.");
return}if(!e){v=parseInt(v);if(isNaN(v)){alert("The ID must be a number");return}}var J=cU.rG();if(J==null)J={};
var m=J.acc;if(m==null)m=J.acc={};var d=m.tstart,x=m.tjoin;if(e){if(d==null)d=m.tstart=[];if(d.length>5){alert("You can have at most 5 teams");
return}d.push([v,[]])}else{if(d)for(var T=0;T<d.length;T++)if(d[T][2]==v){alert("You are the owner of this team");
return}if(x==null)x=m.tjoin=[];if(x.indexOf(v)!=-1){alert("You already asked to join this team.");return}m.tjoin.push(v)}m.update=!0;
this.aEs(J)};cF.prototype.eh=function(){this.K4=!1;var h=cU.Wf(),e=h!=null,v=this.aF.parentNode!=null;
if(e!=v){V.H5(this.Z);if(e)this.Z.appendChild(this.aF);else this.Z.textContent="Log In to access Team Settings."}if(!e)return;
var J=cU.rG();if(J==null)J={};var m=J.acc;if(m==null)m={};var d=JSON.stringify(m)+"===="+JSON.stringify(h);
if(d!=this.adk){this.adk=d;var x=this.xy,j=this.qZ;V.H5(x);V.H5(j);var E=this.Lf=[],L=this.aoh=[],p=this.Sg.bind(this);
function Z(g,a){g.addEventListener("click",p);E.push(g);L.push(a)}function o($,g){var G=V.k("div"),a="rgba(255,255,255,0.15)";
G.appendChild(N("ID: "+$[2],54,a));G.appendChild(N($[0],160,null,!0));if(g){G.appendChild(N($[1].length+" members",80,null,!0))}else{G.appendChild(N($[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<$[1]*1e3)G.appendChild(N("Premium",80,"rgba(0,140,0,1)"))}var w=N("",120);G.appendChild(w);
V.v(w,"float:right;text-align:right");if(g){var y=new eA("Rename",null,null,!0);Z(y,["showRename",$[2]]);
w.appendChild(y.Z)}var y=new eA(g?"Delete":"Leave",null,null,!0);Z(y,[g?"delTeam":"leave",$[2]]);w.appendChild(y.Z);
return G}function u(g,a,P){var G=V.k("div");G.style.paddingLeft="46px";G.appendChild(N(a?"\u2713":"...",8,a?"#229922":"#aa7700"));
G.appendChild(N(g[1],200));G.appendChild(N(g[2],240));var w=N("",120);G.appendChild(w);V.v(w,"float:right;text-align:right");
var y=new eA(a?"Remove":"Add",null,null,!0);Z(y,[a?"remove":"add",P,g[0]]);w.appendChild(y.Z);return G}function N(g,a,w,y){var S=V.k("span");
S.textContent=g;V.v(S,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+a+"px;  "+(w!=null?"background-color:"+w+";":"")+(y?"font-weight:bold;":""));
return S}var M=m.tstart,O=m.tjoin,F=h.wantToJoin,W=h.inTeams;if(M)for(var f=0;f<M.length;f++){var $=M[f],H=F["t"+$[2]];
if(H==null)H=[];var A={};for(var T=0;T<H.length;T++)A["u"+H[T][0]]=H[T];var G=o($,!0);x.appendChild(G);
G.style.marginTop="10px";for(var T=0;T<$[1].length;T++){var l=$[1][T],K=A["u"+l];if(K==null)K=[l,"========","... user has left your team"];
delete A["u"+l];var U=u(K,!0,$[2]);x.appendChild(U)}for(var z in A){var K=A[z],U=u(K,!1,$[2]);x.appendChild(U)}}if(O){var q={};
for(var T=0;T<W.length;T++)q["t"+W[T][2]]=W[T];for(var f=0;f<O.length;f++){var P=O[f],$=q["t"+P],G=o($?$:["==========",-1,P],!1);
j.appendChild(G)}}this.a(new g3(k.E.f))}if(this._k==null){this.Z.style.pointerEvents="auto";this.Z.style.opacity="1"}this.$l()};
function kc(){fx.call(this);this.Me=[16,!0,!0];this.Z=V.k("span","");this.f6=[new cs([12,24],0,255),new hJ([12,25,1]),new hJ([12,25,0])];
for(var T=0;T<3;T++){var h=this.f6[T];h.parent=this;h.e(this.Me[T]);this.Z.appendChild(h.Z);h.P(k.E.f,this.$_,this)}}kc.prototype=new fx;
kc.prototype.$_=function(){for(var T=0;T<3;T++)this.Me[T]=this.f6[T].j();this.a(new g3(k.E.f,!1))};kc.prototype.e=function(h){this.Me=h.slice(0);
for(var T=0;T<3;T++)this.f6[T].e(h[T])};kc.prototype.j=function(){return this.Me.slice(0)};kc.prototype.S=function(){for(var T=0;
T<3;T++)this.f6[T].S()};function fb(h,e){fx.call(this);if(e==null)e=!1;this.QS=[];this.nA=Math.floor(120*V.A_());
this.a68=Math.floor(23*V.A_());this.RV=0;this.Xm=[];this.j$=[];for(var v in B.aI.c){if((v=="warpCustom"||v=="warpCylinder")&&!e)continue;
this.Xm.push(v);this.j$.push(B.aI.c[v])}this.Z=V.k("span","fitem warpbutton");this.pD=new fx;this.pD.Z=V.k("div","floatcont");
if(h){this.Ul=h;this.tF=V.k("label","flabel");this.Z.appendChild(this.tF)}this.V=V.k("button");this.Z.appendChild(this.V);
V.La(this.V,this.gK.bind(this));this.sP=new dN(!0);this.pD.Z.appendChild(this.sP.Z);this.sP.P(k.E.f,this.ade,this);
V.v(this.pD.Z,"width:"+Math.floor(8+this.nA/V.A_())+"px;");this.S()}fb.prototype=new fx;fb.prototype.Ao=function(h){this.tF.textContent=h};
fb.prototype.S=function(){if(this.Ul)this.tF.innerHTML=bj.get(this.Ul)+":";this.hA()};fb.adv={};fb.aCp=function(h,e,v){var J=bj.get(B.aI.c[h]),m=J+"-"+h+"-"+e+"-"+v,d=fb.adv[m];
if(d)return d;var x=fb.h_;if(j==null){var j=V.k("canvas");x=fb.h_=j.getContext("2d")}var j=x.canvas;
if(j.width!=e||j.height!=v){j.width=e;j.height=v}x.font=Math.floor(13*V.A_())+"px sans-serif";x.lineWidth=1;
x.strokeStyle="#000000";var E=Math.floor(16*V.A_()),L=new fP(0,0,E,E);x.clearRect(0,0,j.width,j.height);
var p=B.aI.aI(h,h=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);B.aI.a9P(p[3],L);var Z=B.w.Tp(L);
Z.WQ.push("M","L","M","L");Z.g.push(0,E/2,E,E/2);Z.g.push(E/2,0,E/2,E);Z=B.w.$P(Z);Z=B.w.JH(Z,E/5);B.ih.C(p,Z.g,L);
B.w.C(Z.g,new aJ(1,0,0,1,Math.floor(8*V.A_())+.5,Math.floor(3*V.A_())+.5),Z.g);x.beginPath();Typr.U.pathToContext({cmds:Z.WQ,crds:Z.g},x);
x.stroke();x.fillText(J,Math.floor(40*V.A_()),Math.floor(16*V.A_()));d=fb.adv[m]=j.toDataURL();return d};
fb.prototype.gK=function(h){if(V.gl(this.pD.Z))return;h.stopPropagation();var e=this.nA,v=this.a68;for(var T=0;
T<this.Xm.length;T++)this.QS[T]=fb.aCp(this.Xm[T],e,v);this.sP.eZ(this.QS,null,e,v);var J=this.V.getBoundingClientRect(),m=new g3(k.E.u,!0);
m.data={V:k.l.Eu,nB:this.pD,x:J.left,y:J.top+J.height+4};this.a(m)};fb.prototype.ade=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.Ni,nB:this.pD};this.a(e);this.RV=h.target.j()[0];this.hA();this.a(new g3(k.E.f))};fb.prototype.hA=function(){var h=this.nA,e=this.a68;
this.sP.e([this.RV]);this.V.innerHTML="<img src=\""+fb.aCp(this.Xm[this.RV],h,e)+"\" class=\"gsicon\" />";
V.Aw(this.V.firstChild,h,e)};fb.prototype.j=function(){return this.Xm[this.RV]};fb.prototype.e=function(h){this.RV=this.Xm.indexOf(h);
this.hA()};function ip(h,e,v){fx.call(this);if(h==null)h=!1;if(e==null)e=!1;if(v==null)v=!1;this.a3u=e;
this.aI=null;this.T2=new fb([12,22],v);this.T2.parent=this;this.T2.P(k.E.f,this.ob,this);this.LU=new jV([22,0],[[22,4,0],[22,4,1]]);
this.LU.P(k.E.f,this.ob,this);var J=h?cs:ci;this.M_=new J([22,1],-100,100,"%");this.OX=new J("Horizontal Distortion:",-100,100,"%");
this.xL=new J("Vertical Distortion:",-100,100,"%");this.M_.parent=this.OX.parent=this.xL.parent=this;
this.M_.P(k.E.f,this.ob,this);this.OX.P(k.E.f,this.ob,this);this.xL.P(k.E.f,this.ob,this)}ip.prototype=new fx;
ip.prototype.S=function(){this.T2.S();this.LU.S();this.M_.S();var h=this.a3u?1:100;this.OX.Ao(bj.get([22,2]).substring(0,h)+":");
this.xL.Ao(bj.get([22,3]).substring(0,h)+":")};ip.prototype.ob=function(){var h=this.aI,e=this.T2.j(),v=h.warpStyle.v.warpStyle;
if(e=="warpCustom")B.aI.BV(h,B.aI.hW(h));else delete h.customEnvelopeWarp;h.warpStyle.v.warpStyle=this.T2.j();
h.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.LU.j()];var J=this.M_.j();h.warpPerspective.v=this.OX.j();h.warpPerspectiveOther.v=this.xL.j();
if(e=="warpNone"||e=="warpCustom"){J=0;h.warpPerspective.v=0;h.warpPerspectiveOther.v=0}else if(v=="warpNone"||v=="warpCustom"||v=="warpCylinder")J=50;
if(e!="warpCylinder"){h.warpValue={t:"doub",v:J};delete h.warpValues}else{h.warpValues=c.L2.ni([0,100,100,0,.15,.2,1]);
delete h.warpValue}this.a(new g3(k.E.f,!1));this.e(h)};ip.prototype.j=function(h){return B.t(this.aI)};
ip.prototype.e=function(h){this.aI=B.t(h);var e=h.warpStyle.v.warpStyle,v=e=="warpNone"||e=="warpCustom"||e=="warpCylinder";
this.T2.e(e);if(!v){this.LU.e(h.warpRotate.v.Ornt=="Hrzn"?0:1);this.M_.e(h.warpValue.v);this.OX.e(h.warpPerspective.v);
this.xL.e(h.warpPerspectiveOther.v)}var J=[this.LU,this.M_,this.OX,this.xL];for(var T=0;T<J.length;T++)if(v)J[T].VZ();
else J[T].kE()};function fJ(h){fx.call(this);this.vF={};this.Z=V.k("div");this.zs=h;this.t0=null;this.cT=new fq(0,0);
this.xg="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.dA=null;this.G6=new V.dB(this.Z);
this.Zr("grab");this._y=V.k("canvas","canv");this.Z.appendChild(this._y);this.h_=this._y.getContext("2d",{willReadFrequently:!0});
this.a89=null;this.xI=null;this.c0=null;this.zE=0;this.ajq=0;this.q1=0;this.r1=0;this.ak5=this.aF_.bind(this);
this.a88=null;this.p=new fi({q:1,_:1});this.Nr=null;this.UG=null;this.fo=[];this.aGU=0;this.vz=0;this.aeD=this.wa.bind(this);
this.ahB=this.$X.bind(this);this.a1S=this.sd.bind(this);this.axT=this.Jo.bind(this);this.a2V=0;this.b6=null;
this.aex(this._y);this.h0(this)}fJ.prototype=new fx;fJ.prototype.a80=function(h){this.vF=h;this.zz()};
fJ.$I=function(h){var e=new dW(!0);if(h>=0)e.zO("Space");if(h>=1){e.zO("ControlLeft");if(h==2)e.zO("AltLeft")}return e};
fJ.prototype.lK=function(h){var e=this.dA,v=null;if(h.r(dW.qW)){v="grab";if(h.r(dW.Dd)){v="zoom-in";
if(h.r(dW.B2))v="zoom-out"}}this.t0=v;if(v)e=v;this.G6.eh(e,this.xg);if(h.r(dW.Dd)){var J=0;if(h.r(dW.ci))J=1;
if(h.r(dW.As))J=-1;if(J!=0){this.PP(new fq(this._y.width/2,this._y.height/2),J==1)}}};fJ.prototype.Zr=function(h){this.dA=h;
if(this.t0)return;this.G6.eh(h,this.xg)};fJ.prototype.aex=function(h){V.La(h,this.aeD);V.zY(h);h.addEventListener("wheel",this.axT,!1)};
fJ.prototype.h0=function(h){h.P("viewchange",this.aog,this)};fJ.prototype.aog=function(h){var e=this.p.e4,v=h.currentTarget.NN();
this.p.e4=v.e4;this.p.d=v.d.O();if(e!=v.e4)this.Ja();this.zz()};fJ.prototype.NN=function(){return{e4:this.p.e4,d:this.p.d}};
fJ.prototype.e=function(h,e,v,J){var m=h[0].Ei;if(this.xI!=null&&this.xI[0].Ei.lS(m)){}else{this.p.Zw={q:m.q,_:m._};
this.p.e4=1;this.p.d=new fq(0,0)}this.xI=h;this.Ja(J);this.Fx();this.zE=0;this.ajq=Date.now();this.q1=0;
this.r1=e==null?0:e;if(v)this.vF=v;this.aF_()};fJ.prototype.Jo=function(h){h.preventDefault();if(h.deltaY==0||Date.now()-this.a2V<100)return;
var e=V.IE(h);e.x=V.A_()*e.x;e.y=V.A_()*e.y;this.a2V=Date.now();this.PP(e,h.deltaY<0)};fJ.prototype.PP=function(h,e){c.lM.ZC(this.p,h,e);
this.aaK()};fJ.prototype.BG=function(h){var e=this.p,v=e.Zw;this.p.e4=c.lM.FT(v.q,v._,e.L1.q,e.L1._);
if(h)this.p.d=new fq(0,0);this.aaK()};fJ.prototype.aaK=function(){this.Ja();this.a(new g3("viewchange"));
this.a(new g3("zoom"))};fJ.prototype.Ja=function(h){var e=this.c0;this.c0=[];var v=this.p.e4;if(this.xI==null)return;
if(h){var J=B.vP(v),m=1;for(var d=0;d<J.length;d++)m*=J[d];var x=h.x,j=h.y,E=x+h.q,L=j+h._;x=Math.floor(x/m)*m;
E=Math.ceil(E/m)*m;j=Math.floor(j/m)*m;L=Math.ceil(L/m)*m;h=new fP(x,j,E-x,L-j)}for(var T=0;T<this.xI.length;
T++){var p=this.xI[T],Z=new Uint8Array(p.data),o;if(v>=1)o={su:Z,R:p.Ei};else{if(e&&e[T]&&h){var u=B.U(h.$()*4);
B.YZ(Z,p.Ei,u,h);var N=B.P2(u,h,v),M=N.R;M.x=Math.floor(M.x*v);M.y=Math.floor(M.y*v);o=e[T];B.YZ(N.su,N.R,o.su,o.R)}else o=B.P2(Z,p.Ei,v)}this.c0[T]=o}};
fJ.prototype.Fx=function(){clearTimeout(this.a88)};fJ.prototype.zz=function(){if(this.xI==null||!V.gl(this._y))return;
var h=this.a89,e=this._y.width,v=this._y.height,N,M;if(h==null||h.width!=e||h.height!=v){h=this.a89=new ImageData(e,v);
console.log("creating image data")}var J=this.xI[this.zE],m=this.c0[this.zE],d=this.p,x=d.Zw,j=d.L1,E=j.q,L=j._,p=x.q*d.e4,Z=x._*d.e4,o=Math.round((E-p)/2+d.d.x),u=Math.round((L-Z)/2+d.d.y);
if(d.e4<=1){M=m.R.O();M.x=o;M.y=u;p=M.q;Z=M._;N=m.su}else{var O=1/d.e4,F=new fP(Math.floor((j.x-o)*O),Math.floor((j.y-u)*O),Math.ceil(j.q*O)+1,Math.ceil(j._*O)+1),W=new fP(0,0,F.q*d.e4,F._*d.e4);
W.x=F.x*d.e4+o;W.y=F.y*d.e4+u;if(d.qF==null||d.qF.length!=F.$()*4){d.qF=B.U(F.$()*4)}if(d.Nj==null||d.Nj.length!=W.$()*4){d.Nj=B.U(W.$()*4)}B.yV(d.qF,0);
B.YZ(m.su,m.R,d.qF,F);B.scale.hE(d.qF,F.q,F._,d.Nj,W.q,W._,d.e4);N=d.Nj;M=W}var f=new Uint8Array(h.data.buffer);
B.ts(f,E,L,8,-o,-u);B.B.lU("norm",N,M,f,j,j,1);var $=this.h_;$.setTransform(1,0,0,1,0,0);$.putImageData(h,0,0);
$.clearRect(o-4e3,u,4e3,Z);$.clearRect(o+p,u,4e3,Z);$.clearRect(o-4e3,u-4e3,p+8e3,4e3);$.clearRect(o-4e3,u+Z,p+8e3,4e3);
var H=fJ.aFj(d.e4,"#ffffff");$.putImageData(H,0,d.L1._-H.height);var A=this.vF,d=this.p;if(A){var G=cn.FW([.1,.5,1,1]),l=cn.FW([1,0,0,1]),K=cn.FW([1,1,1,1]),U=cn.FW([0,0,0,1]),z=d.MJ(!1);
z.ia();$.save();$.setTransform(z.DR,z.b,z.tg,z.l_,z.TO,z.bZ);$.strokeStyle=l;if(A.a9g){cn.ro(A.a9g,null,$);
$.lineWidth=1/d.e4;$.stroke()}$.strokeStyle=K;if(A.a81){cn.ro(A.a81,null,$);$.lineWidth=1/d.e4;$.stroke();
$.strokeStyle=U;$.setLineDash([4/d.e4,4/d.e4]);$.stroke();$.setLineDash([])}$.strokeStyle=G;$.fillStyle=cn.FW([1,1,1,1]);
if(A.Qd){cn.ro(A.Qd,null,$);$.lineWidth=1/d.e4;$.stroke()}if(A.S0){cn.DW(A.S0,$,d,.5);$.lineWidth=2/d.e4;
$.stroke();$.fill()}if(A.WL){$.font=16/d.e4+"px sans-serif";var q=1/d.e4;for(var T=0;T<A.WL.length;T++){var P=A.WL[T],g=P[0],a=P[1]+6/d.e4,w=P[2];
$.fillStyle="black";$.fillText(w,g-q,a);$.fillText(w,g+q,a);$.fillStyle="white";$.fillText(w,g,a)}}$.restore()}$.getImageData(0,0,1,1)};
fJ.al4="";fJ.aEF=null;fJ.aFj=function(h,e,v,J){if(v==null){v=0;J=0}var m=v+" \xD7 "+J,d="z"+h+","+e+","+v+","+J;
if(d==fJ.al4)return fJ.aEF;var x=Math.round(50*V.A_()),j=Math.round(18*V.A_()),E=v==0?0:Math.round((m.length+2)*j*.35),L=V.k("canvas"),p=L.getContext("2d");
L.width=x+E;L.height=j;p.fillStyle="rgba(1,1,1,1)";p.fillRect(0,0,x,j);if(v!=0)p.fillRect(x+2,0,E,j);
p.font=Math.round(11*V.A_())+"px monospace";p.fillStyle=e;var Z=h*100;if(Z<100)Z=Z.toFixed(2);else Z=Math.round(Z);
Z=Z+"%";var o=p.measureText(Z).width;p.fillText(Z,(x-o)/2,Math.round(j*.7));if(v!=0){var u=p.measureText(m).width;
p.fillText(m,x+(E-u)/2+1,Math.round(j*.7))}var N=p.getImageData(0,0,x+E,j);fJ.al4=d;fJ.aEF=N;return N};
fJ.prototype.aF_=function(){var h=this.xI,e=h.length,v=this.zE,J=this.xI[v],m=(v+1)%e;this.zz();var d=Date.now();
if(e!=1&&h[m].Ei.lS(J.Ei)){var x=J.dq?parseInt(J.dq.split(",").pop()):30;if(x==0)x=16;if(m==0)this.q1++;
if(this.r1==0||this.q1<this.r1)this.a88=setTimeout(this.ak5,x)}this.zE=m;this.ajq=d};fJ.prototype.Kt=function(h,e){if(h<=0||e<=0)return;
var v=Math.floor(h*V.A_()),J=Math.floor(e*V.A_());this.p.L1=new fP(0,0,v,J);this._y.width=v;this._y.height=J;
V.v(this._y,"width:"+v/V.A_()+"px; height:"+J/V.A_()+"px; display:block;");this.zz()};fJ.prototype.H3=function(h){var e=-1,v=this.fo;
for(var T=0;T<v.length;T++)if(v[T].pointerId==h.pointerId)e=T;return e};fJ.prototype.wa=function(h){var e=this.H3(h),v=this.fo;
if(e!=-1)v[e]=h;else v.push(h);if(v.length==1){this.b6=h.target;V.Xa(window,this.ahB);V.wZ(window,this.a1S);
this.Nr=V.IE(h,this._y);this.Nr.x*=V.A_();this.Nr.y*=V.A_();this.cT=this.Nr;this.UG=this.p.d.O();if(this.zs&&this.b6==this._y&&!this.t0)this.a(new g3("mousedown"))}else this.aGU=this.vz=fq.mr(V.IE(v[0],this._y),V.IE(v[1],this._y))};
fJ.prototype.$X=function(h){var e=this.H3(h),v=this.fo;if(e!=-1)v[e]=h;var J=this.p,m=this.t0,d=this.xI[this.zE].Ei.O();
d.q*=J.e4;d._*=J.e4;var x=V.IE(h,this._y);x.x*=V.A_();x.y*=V.A_();this.cT=x;if(this.zs&&this.b6==this._y&&!m)this.a(new g3("mousemove"));
else if(m=="grab"||m==null){if(v.length>1){var j=V.IE(v[0],this._y),E=V.IE(v[1],this._y),L=new fq(V.A_()*(j.x+E.x)/2,V.A_()*(j.y+E.y)/2),p=fq.mr(j,E),Z=null;
if(p>this.vz+50){this.vz+=50;Z=!0}if(p<this.vz-50){this.vz-=50;Z=!1}if(Z!=null)this.PP(L,Z);return}else{var o=x.x-this.Nr.x,u=x.y-this.Nr.y;
J.d.x=this.UG.x+Math.round(o);J.d.y=this.UG.y+Math.round(u)}this.a(new g3("viewchange"))}};fJ.prototype.sd=function(h){var e=this.H3(h),v=this.fo;
v.splice(e,1);if(v.length==0){V.L0(window,this.ahB);V.SV(window,this.a1S);var J=this.t0;if(h.detail>1){this.p.e4=1;
this.p.d.Cg(0,0);this.zz()}if(this.zs&&this.b6==this._y&&!this.t0)this.a(new g3("mouseup"));else{if(J=="zoom-in"||J=="zoom-out")this.PP(this.cT,J=="zoom-in")}}else{var m=this.Nr=V.IE(v[0],this._y);
m.x*=V.A_();m.y*=V.A_()}};fJ.prototype.EI=function(h){var e=this.cT;if(h){e=V.IE(h,this._y);e.x*=V.A_();
e.y*=V.A_()}return this.p.$$(e.x,e.y)};function gy(){fx.call(this);this.Jt=null;this.on=null;this.X6=null;
this.Od=null;this.a4d="";this.Xv=[];this.U6=0;this.Wn=[];this.H=null;this.my=0;var h=this.Z=V.k("div",""),e=this.agX=V.k("div","form");
V.v(e,"line-height:0; margin-bottom:0.5em;");h.appendChild(e);var v=this.Ul=V.k("span");e.appendChild(v);
V.v(v,"font-size:1.2em; font-weight:bold; margin-right:3em;");var J=this.aEK=new hJ([25,2,0]);J.e(!0);
e.appendChild(J.Z);J.P(k.E.f,this.aD,this);var m=this.Gr=new hJ([25,2,1]);m.e(!0);e.appendChild(m.Z);
m.P(k.E.f,this.aD,this);var d=new cE(" ");e.appendChild(d.Z);var x=this.wo=new jE([25,1,1]);e.appendChild(x.Z);
x.P(k.E.f,this.aD,this);this.HX=new c9(14);this.HX.abA(3);e.appendChild(this.HX.Z);this.HX.parent=this;
this.HX.P(k.E.f,this.a9b,this);var j=this.abY=new eA([25,1,2],null,null,!0);e.appendChild(j.Z);j.P("click",this.xp,this);
var E=new eA("?",null,null,!0);e.appendChild(E.Z);E.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a1u=this.a1z.bind(this);this.yI=V.k("div","svggallery scrollable");h.appendChild(this.yI);this.yI.addEventListener("scroll",this.ayw.bind(this))}gy.prototype=new fx;
gy.prototype.fa=function(h){this.H=h};gy.prototype.S=function(){this.Ul.textContent=bj.get([25,0]);this.HX.S();
this.aEK.S();this.Gr.S();this.wo.S();this.abY.S()};gy.prototype.Kt=function(h,e){this.Jt=new fq(h,e);
V.v(this.agX,"width:"+h+"px");var v=this.agX.getBoundingClientRect();e-=v.height;V.v(this.yI,"width:"+h+"px; height:"+e+"px");
if(V.gl(this.Z))this.aD()};gy.prototype.e=function(h){this.on=h;this.aD()};gy.prototype.ayw=function(h){var e=this.yI;
if(e.scrollTop+e.clientHeight+10>=e.scrollHeight){this.aD(!0)}};gy.prototype.a9b=function(h){this.X6=null;
this.aD()};gy.prototype.a1z=function(h){if(Date.now()-this.my<2e3)return;this.my=Date.now();this.U6=this.Wn.indexOf(h.currentTarget);
var e=this.sW(this.on.x,this.on.y);if(e[1]){var v=e[1].largeImageURL,J=new XMLHttpRequest;J.responseType="arraybuffer";
J.open("GET",v,!0);J.onload=this.a3D.bind(this);J.send();return}this.aly(e)};gy.prototype.a3D=function(h){var e=h.target.response,v=gI.pI(e),J=gI.g6(v),m=J.E2(e),d=this.sW(this.on.x,this.on.y,[e,m[0].Ei.q,m[0].Ei._]);
this.aly(d)};gy.prototype.aly=function(h){var e=h[0],v=gI.pI(e),J=gI.g6(v),m=new e7("template.psd");
J.E2(e,m);var d=new g3("tempready",!0);d.data={Zw:m};this.a(d)};gy.prototype.xp=function(h){var e=h.target;
this.Xv=[];this.X6=null;this.aD()};gy.prototype.awK=function(h){var e=JSON.parse(h.target.response),v=this.Od=e.hits;
for(var T=0;T<v.length;T++)if(v[T].user_id==6314823)v.splice(T,1);this.aD()};gy.prototype.aD=function(h){if(this.on==null||this.Jt==null||this.H==null)return;
if(this.Jt.x<=0)return;var e=this.on.x,v=this.on.y;if(Math.min(e,v)<50)return;if(h!=!0){this.Wn=[];V.H5(this.yI);
this.yI.scrollTop=0}if(this.Wn.length>300)return;var J=Math.min(1,300/Math.max(e,v)),m=this.Jt.O();m.x-=20;
var d=Math.max(1,Math.floor(m.x/(e*J))),x=Math.max(1,Math.ceil(m.y/(v*J)));J=m.x/d/e;var j=d*x;if(this.X6==null){var E=this.H.eN.H1(),L=[];
for(var p in E){var Z=E[p],o=Z[3];if(!this.HX.kU(Z))continue;if(Z[5]==null||Z[5].slice(0,2)=="gf")continue;
L.push(Z)}if(L.length==0)L.push(E.DejaVuSans);var u=L.length;for(var T=0;T<u*10;T++){var N=Math.floor(Math.random()*u),M=Math.floor(Math.random()*u),O=L[N];
L[N]=L[M];L[M]=O}L=L.slice(0,10);this.X6=L}var F=this.Gr.j(),W=this.wo.j().trim();this.wo.Es(F);if(F&&(this.Od==null||W!=this.a4d)){var f=new XMLHttpRequest,$="https://pixabay.com/api/?image_type=photo"+(W==""?"":"&q="+encodeURIComponent(W))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(W=="")$="//www.photopea.com/plugins/gallery.json";f.open("GET",$,!0);f.onload=this.awK.bind(this);
f.onerror=function(U){console.log(U.target.response)};f.send();this.a4d=W;return}J*=(e*J-5)/(e*J);var H=this.Wn.length;
for(var T=0;T<j;T++){var A=this.U6=H+T;if(this.Xv[A]==null)this.Xv[A]=Math.floor(Math.random()*4294967295);
var G=this.sW(Math.round(e*J),Math.round(v*J)),l=G[0];l=b.Is(new Uint8Array(l));var K=V.k("span");K.innerHTML=l;
this.Wn.push(K);this.yI.appendChild(K);K.addEventListener("click",this.a1u,!1)}};gy.prototype.sW=function(h,e,v){var J=this.Gr.j(),m=this.aEK.j(),d=J&&this.Od.length!=0?this.Od:null;
if(m&&!J)d=null;if(m&&J&&(this.U6&1)==0)d=null;return h_.z0(h,e,this.Xv[this.U6],this.X6,v?v:d)};function ff(){fx.call(this);
this.Z=V.k("div");this.aF=null;this.avK=null;this.j3=-1;this.$h={JPG:[{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:70},{ec:new hJ("attach metadata"),Hq:!1}],TIFF:[{ec:new hJ("attach metadata"),Hq:!1}],WEBP:[{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:70},{ec:new hJ("attach metadata"),Hq:!1}],GIF:[{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:100},{ec:new hJ([12,23,3]),Hq:!1}],PNG:[{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:100},{ec:new hJ("don't use palettes"),Hq:!1},{ec:new hJ("attach metadata"),Hq:!1}],BMP:[{ec:new hJ("don't use palettes"),Hq:!1}],PDF:[{ec:new jE([12,52,1]),Hq:""},{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:100},{ec:new hJ("reverse pages"),Hq:!1},{ec:new hJ("rasterize all"),Hq:!1},{ec:new hJ("vectorize text"),Hq:!1},{ec:new ci("Add Margin",0,5,"in",2),Hq:0},{ec:new hJ("add crop marks"),Hq:!1}],EMF:[{ec:new jE([12,52,1]),Hq:""},{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:100},{ec:new hJ("reverse pages"),Hq:!1},{ec:new hJ("rasterize all"),Hq:!1},{ec:new hJ("vectorize text"),Hq:!1},{ec:new ci("Add Margin",0,5,"in",2),Hq:0}],SVG:[{ec:new hJ("add raster graphics"),Hq:!0},{ec:new hJ("add hidden layers"),Hq:!1},{ec:new hJ("vectorize text"),Hq:!1},{ec:new hJ("rasterize text"),Hq:!1},{ec:new hJ("minify"),Hq:!1}],RAW:[{ec:new ha([12,72],["1","3","4"]),Hq:2},{ec:new ha([12,34],["8 Bits","16 Bits"]),Hq:0},{ec:new ha("Byte Order",["12-34","34-12"]),Hq:0}],DDS:[{ec:new jV("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),Hq:0},{ec:new hJ("Add Mipmaps"),Hq:!0}],MP4:[{ec:new ci([12,52,0],0,100,"%",null,null,!0),Hq:50}],anim:[{ec:new ci("Speed",10,1e3,"%",null,!0,!0),Hq:100},{ec:new cs("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Hq:0},{ec:new hJ("reverse frames"),Hq:!1},{ec:new hJ("boomerang"),Hq:!1}],slcs:[{ec:new jV([8,11,0],["No Slices","All Slices","User Slices"]),Hq:1}],artb:[{ec:new hJ([1,16,1]),Hq:!0}],hicc:[{ec:new hJ("convert to sRGB"),Hq:!0}]};
for(var h in this.$h){var e=this.$h[h];for(var T=0;T<e.length;T++){e[T].ec.e(e[T].Hq);e[T].ec.P(k.E.f,this.k4,this)}}}ff.prototype=new fx;
ff.prototype.avf=function(){this.j3=-1};ff.prototype.S=function(){for(var h in this.$h)for(var T=0;T<this.$h[h].length;
T++)this.$h[h][T].ec.S()};ff.prototype.k4=function(){this.aD();this.a(new g3(k.E.f,!1))};ff.prototype.aD=function(){var h=this.aF,e=h[0],v=h[1],J=h[2],m=h[3],d=h[4],x=this.$h[e];
if(x==null)x=[];else x=x.slice(0);if(v)x=x.concat(this.$h.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(e)!=-1&&J)x=x.concat(this.$h.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(e)!=-1&&m)x=x.concat(this.$h.artb);if(d)x=x.concat(this.$h.hicc);
var j=h.join(",");if(j!=this.j3){this.j3=j;V.H5(this.Z);for(var T=0;T<x.length;T++){if(e=="PDF"&&!m&&(T==0||T==2))continue;
this.Z.appendChild(x[T].ec.Z);V.Xp(this.Z)}}var E=this.avK=[];for(var T=0;T<x.length;T++)E.push(x[T].ec.j())};
ff.prototype.du=function(h,e,v,J,m){this.aF=[h,e,v,J,m];this.aD()};ff.prototype.j=function(){return this.avK.slice(0)};
ff.prototype.e=function(h,e){var v=this.aF,J=v[0],m=this.$h[J],d=Math.min(m.length,h.length);for(var T=0;
T<d;T++)m[T].ec.e(h[T]);this.aD();if(e!=!0)this.k4()};function dc(){fx.call(this);this.Z=V.k("span","fitem");
this.Gv=!1;this.y7=new eA("No",!1,"Cancel");this.s5=new eA("Yes",!1,"Confirm");this.Z.appendChild(this.y7.Z);
this.Z.appendChild(this.s5.Z);this.y7.P("click",this.Vp,this);this.s5.P("click",this.Vp,this);this.S()}dc.prototype=new fx;
dc.prototype.S=function(){this.y7.Ao(V.pY("cross",null,"autoscale"));this.s5.Ao(V.pY("checkmark",null,"autoscale"))};
dc.prototype.Vp=function(h){this.Gv=h.target==this.s5;this.a(new g3("click",!1))};dc.prototype.j=function(){return this.Gv};
function b1(h){fx.call(this);this.Z=V.k("span","fitem");this.XY=new eA("\u25BC",null,"Auto Options",!0);
V.La(this.XY.Z,this.ajX.bind(this));this.Z.appendChild(this.XY.Z);this.og=new eA("Auto",null,null,!0);
this.og.P("click",this.ow,this);this.Z.appendChild(this.og.Z);this.ea=new hR("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.ea.P(k.E.f,this.ow,this);this.ea.e([!1,!1,!1,!0]);this.pD=new fx;var e=this.pD.Z=V.k("div","floatcont form");
V.v(e,"width: 250px;");this.pD.parent=this;e.appendChild(this.ea.Z);this.In=[];for(var T=0;T<2;T++){var v=new cs((T==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
v.e(.1);v.P(k.E.f,this.ow,this);this.In.push(v);e.appendChild(v.Z)}}b1.prototype=new fx;b1.prototype.ow=function(h){this.a(new g3(k.E.f,!1))};
b1.prototype.S=function(){};b1.prototype.j=function(){return[this.ea.j().indexOf(!0),this.In[0].j(),this.In[1].j()]};
b1.prototype.ajX=function(h){if(V.gl(this.pD.Z))return;h.stopPropagation();var e=this.XY.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);
v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height+4};this.a(v)};function a6(){fx.call(this);var h=this.Z=V.k("div","fitem");
this.qo=new jV([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.qo.P(k.E.f,this.$_,this);h.appendChild(this.qo.Z);
this.c2=new iE(!1);this.c2.parent=this;this.c2.Y_(16777215);this.c2.P(k.E.f,this.$_,this);h.appendChild(this.c2.Z)}a6.prototype=new fx;
a6.prototype.S=function(){this.qo.S();this.c2.S()};a6.prototype.abJ=function(h){var e=[h.artboardBackgroundType.v-1];
if(h.Clr)e.push(h.Clr.v);this.e(e)};a6.prototype.a8i=function(){var h=this.j();return{classID:"artboard",Clr:{t:"Objc",v:h[1]},artboardBackgroundType:{t:"long",v:h[0]+1}}};
a6.prototype.e=function(h){this.qo.e(h[0]);if(h[1])this.c2.e(h[1])};a6.prototype.j=function(){return[this.qo.j(),this.c2.j()]};
a6.prototype.$_=function(h){if(h.target==this.c2)this.qo.e(3);this.a(new g3(k.E.f,!1))};function kM(h){fx.call(this);
this.tt=h;this.aEP=0;this.aqK=!1;this.I2=h?new kM.pc:null;this.Z=V.k("div","flexrow storageset");this.Z.style.background="var(--bg-panel)";
this.vV=V.k("div");this.Z.appendChild(this.vV);this.iK=V.k("div");this.Z.appendChild(this.iK);this.Og=[];
var e=Storage.list.length;if(h)e=e+1+kM.W_.length;var v=this.Uz.bind(this);for(var T=0;T<e;T++){var J=V.k("div");
this.Og.push(J);this.vV.appendChild(J);J.addEventListener("click",v,!1)}this.Uz(null,0)}kM.prototype=new fx;
kM.X7=[];kM.mf=function(h){kM.X7.push(h);h.FN()};kM.kb=function(){var h=kM.X7;h.pop();h[h.length-1].FN()};
kM.prototype.FN=function(){this.Uz(null,this.aEP)};kM.prototype.fa=function(h,e){if(!h.nX&&!this.aqK){var v=this.tt?2:1;
for(var T=v;T<this.Og.length;T++)this.vV.removeChild(this.Og[T]);this.aqK=!0;if(this.tt)this.I2.fa(h,e)}if(this.vQ)this.vQ.fa(h,e)};
kM.prototype.S=function(){if(this.tt)this.I2.S();if(this.vQ)this.vQ.S()};kM.prototype.Uz=function(h,e){var v=this.Og,J;
if(e==null)e=v.indexOf(h.currentTarget);this.aEP=e;for(var T=0;T<v.length;T++)V.t7(v[T],"active");V.zZ(v[e],"active");
if(this.tt)e--;V.H5(this.iK);var m=Storage.list.length;if(e==-1)J=this.I2;else if(e<m)J=Storage.fF(e);
else{var d=kM.W_[e-m];J=new kM._1(d[1]);cU.event("strg_"+d[0])}this.vQ=J;J.parent=this;this.iK.appendChild(J.Z);
this.Kt(this.VA,this.qw);this.S()};kM.prototype.Kt=function(h,e){this.VA=h;this.qw=e;var v=h<850,J=v?50:210,m=Storage.list;
if(this.tt)m=[["Home",null,"strg/home"]].concat(m.concat(kM.W_));for(var T=0;T<m.length;T++){var d=this.Og[T],x="padding: 8px "+(v?13:36)+"px; cursor:pointer;";
V.v(d,x);var j=m[T][2],E=m[T].length==6;j=E?j:PIMG[j];d.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+j+"\" /> "+(v?"":m[T][0])}this.Z.style.width=h+"px";
this.Z.style.height=e+"px";this.vV.style.width=J+"px";this.vV.style.paddingTop="32px";if(this.vQ)this.vQ.Kt(h-J,e)};
kM.W_=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var T=0;T<kM.W_.length;T++)if(kM.W_[T][5]*1e3<Date.now()){kM.W_.splice(T,1);T--}kM.pc=function(){this.bM=null;
var h=this.Z=V.k("div");h.style.background="var(--bg-canvas)";var e=this.tI=V.k("div");h.appendChild(e);
var v=V.k("style");h.appendChild(v);v.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var T=0;T<2;T++){var J=V.k("div"),v="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";e.appendChild(J);
if(T==0)v+="padding: 12px 0px";if(T==1)v+="position:absolute;  bottom:0;";V.v(J,v);var m=V.k("img");
J.appendChild(m);m.setAttribute("src",PIMG[T==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(T==0)this.TW=m;
else this.ayi=m;if(T==0)this.adb=J;else this.agN=J}this.Og=[];v="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var d=this.YL.bind(this),x=V.k("div");e.appendChild(x);V.v(x,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var T=0;T<4;T++){var j=V.k("span","bhover");this.Og.push(j);V.v(j,v+"cursor:pointer; padding:12px;");
j.addEventListener("click",d,!1);x.appendChild(j)}V.Xp(e);var J=V.k("div");V.v(J,v+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
J.textContent="Drop any files here";e.appendChild(J);var E=new Date().getDate(),L=new Date().getMonth();
if(L==11&&E>20||L==0&&E<10){this._y=V.k("canvas");V.v(this._y,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.h_=this._y.getContext("2d");this.axy=B.U(4);h.appendChild(this._y);var p=Math.random()<.5,Z={n:255,i:255,b:255};
if(!p){Z=B.Qh(Math.random(),Math.random()*.7,1);Z.n*=255;Z.i*=255;Z.b*=255}this.Gm=[Math.round(1048575*Math.random()),p?.05:.02,Math.round(4+Math.random()*8),1,p?3:15,Z,0,!0,p,p?1:.2,3];
this.ahg=p?.1:.2;this.Q3=this.rc.bind(this);window.requestAnimationFrame(this.Q3)}};kM.pc.prototype=new fx;
kM.pc.prototype.rc=function(){window.requestAnimationFrame(this.Q3);if(!V.gl(this.Z))return;var h=this.axy,e=this._y,v=this.h_,J=e.width,m=e.height;
this.Gm[6]=Date.now()*.001*this.ahg;B.EF.pN(h,J,m,this.Gm,!0);v.putImageData(new ImageData(new Uint8ClampedArray(h.buffer),J,m),0,0)};
kM.pc.prototype.YL=function(h){var T=this.Og.indexOf(h.currentTarget),e=new g3(k.E.u,!0);if(T==0)e.data={V:k.l.Xq,dF:"newproject"};
if(T==1)e.data={V:k.l.iv};if(T==2)e.data={V:k.l.Xq,dF:"res0"};if(T==3)e.data={V:k.l.bC};this.a(e)};kM.pc.prototype.S=function(){var h=this.Og,e=[[11,7],[1,6],[25,0],[0,17,6]],v=["\u2605","\uD83E\uDC7F","\u25A3"],v=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var T=0;T<h.length;T++)h[T].innerHTML="<span style=\"vertical-align:middle\">"+V.pY(v[T],null,"autoscale")+"</span>\u2000"+bj.get(e[T]);
var J="l"+"o"+"g"+"o",m=J+"_"+["pp","vp"][jD],d=new Date;if(d.getMonth()==3&&d.getDate()==1)m="lo"+"go_cuc"+"umber";
if(PIMG[J])m=J;this.TW.setAttribute("src",PIMG[m]);this.ayi.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
kM.pc.prototype.Kt=function(h,e){var v=Math.min(e*1.5,Math.min(h,600)),J=this._y;if(J){V.xX(J,h,v*.26);
this.axy=B.U(J.width*J.height*4)}this.Z.style.width=h+"px";this.Z.style.height=e+"px";this.agN.style.width=h+"px";
this.tI.style.marginLeft=Math.max(0,Math.round((h+200-600)/2)-200)+"px";this.TW.style.width=v+"px";this.ayi.style.width=v+"px"};
kM.pc.prototype.fa=function(h,e){var v=h;if(h==null)h=this.H;this.H=h;if(!h.nX&&this.Og[2].parent){this.tI.removeChild(this.Og[2]);
this.tI.removeChild(this.Og[3])}this.Og[3].style.display=h.Rc?"inline-block":"none";if(v)this.bM=setTimeout(this.fa.bind(this),100)};
kM._1=function(h){var e=this.Z=V.k("iframe");e.style.background="var(--bg-canvas)";e.setAttribute("src",h)};
kM._1.prototype=new fx;kM._1.prototype.Kt=function(h,e){var v=this.Z;v.style.width=h+"px";v.style.height=e+"px"};
kM._1.prototype.fa=function(){};function Storage(h){fx.call(this);var e=this.Z=V.k("div","storage");
V.JM(e);e.addEventListener("drop",this.apo.bind(this),!1);var v=this.apB=V.k("style");e.appendChild(v);
e.setAttribute("tabindex","0");e.style.outline="none";e.addEventListener("keydown",this.a78.bind(this),!1);
this.ii=this.atJ.bind(this);this.WF=0;this.c4=0;var J=V.k("div");e.appendChild(J);var m=this.abe.bind(this);
this.MN=V.k("div","bar");J.appendChild(this.MN);this.Qo=V.k("div","fls scrollable");J.appendChild(this.Qo);
this.DB=V.k("div");J.appendChild(this.DB);V.v(this.DB,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.PU=V.k("div","bar");this.PU.textContent="Name: ";var d=this.Dn=V.k("input");d.setAttribute("type","text");
this.PU.appendChild(d);var x=this.R2=V.k("div","btn");x.textContent="Save";this.PU.appendChild(x);V.wZ(x,m);
V.La(this.Qo,this.ii);this.QW=0;this.nU=h;var j=this.aw9.bind(this),E=this.abZ=V.k("div");V.v(E,"text-align:center; font-size:1.6em");
var L=V.k("img");E.appendChild(L);V.Xp(E);L.setAttribute("src",PIMG[Storage.list[this.nU][2]]);V.v(L,"opacity:0.5;  width:25%; cursor:pointer;");
V.wZ(L,j);this.k8=V.k("div","btn");E.appendChild(this.k8);V.wZ(this.k8,j);this.I9=new ar([{name:[6,20]},{name:[5,2],vD:[dW.Dd,dW.q3],m:function(){return{m:Storage.$K!=null}}}]);
this.I9.parent=this;this.I9.P("select",this.l4,this);this.Qo.addEventListener("contextmenu",this.ii);
this.acX=V.k("span");this.Qg=V.k("span");V.v(this.Qg,"position:absolute; right:0; top:5px;");this.Cz=[];
this.z8=[];for(var T=0;T<3;T++){var p=V.k("div","btn");this.Cz.push(p);this.acX.appendChild(p);V.wZ(p,m);
p.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][T]}for(var T=0;T<5;T++){var p=V.k("div","btn");this.z8.push(p);
this.Qg.appendChild(p);V.wZ(p,m)}window.addEventListener("message",this.a6w.bind(this),!1);this.afu=!1;
this.QF=0;setInterval(this.a2J.bind(this),300);this.vw();var Z=this.ayx=document.createElement("input");
Z.setAttribute("type","file");Z.addEventListener("change",this.apo.bind(this),!1);document.body.appendChild(Z);
V.v(Z,"display:none");Z.setAttribute("multiple","")}Storage.prototype=new fx;Storage.bw=!1;Storage.prototype.apo=function(h){h.stopPropagation();
h.preventDefault();var e=h.dataTransfer?h.dataTransfer.files:h.target.files;this.a6b=e.length;Storage.$K={};
for(var T=0;T<e.length;T++){var v=e[T],J=new FileReader;J.w2=v;J.onload=this.a8X.bind(this);J.readAsArrayBuffer(v)}};
Storage.prototype.a8X=function(h){var e=Storage.$K;e[h.target.w2.name]=h.target.result;this.a6b--;if(this.a6b==0)this.Lx()};
Storage.prototype.fa=function(h,e){var v=Storage.list[this.nU][3],J=cU.Wf();if(v){if(this.QF==1&&V.gl(this.Z)&&J!=null){this.vw()}if(this.QF==2&&J==null){this.zT("forget","")}}};
Storage.prototype.a2J=function(){var h=V.gl(this.Z),e=this.afu;if(h&&!e){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!h&&e){window.onpopstate=function(){};history.go(-1)}this.afu=h};
Storage.prototype.vw=function(){if(this.x5)document.body.removeChild(this.x5);this.fG=[[]];this.l7=0;
this.aBP={"/":[]};this.aAJ="";this.IJ=null;this.f6=[];this._j=[];this.as6=[];this.avD=null;var h=Storage.list[this.nU][1],e=cU.Hk("code/storages/"+Storage.list[this.nU][1]);
if(jD==1&&this.nU==0)e=h;var v=this.x5=V.k("iframe");v.setAttribute("src",e);V.v(v,"display:none");document.body.appendChild(v)};
Storage.prototype._F=function(){return this.aBP[this.Ag()]};Storage.prototype.Gs=function(h){this.aBP[this.Ag()]=h};
Storage.fF=function(T){var h=Storage.fN[T];if(h==null)h=Storage.fN[T]=new Storage(T);return h};Storage.fN=[];
Storage.HT=0;Storage.aBv="";Storage.Vb=function(h,e){Storage.HT=h;Storage.aBv=e;var v=Storage.fN;for(var T=0;
T<v.length;T++)if(v[T])v[T].FN()};Storage.aBt=[500*(1<<20),5e3*(1<<20)];Storage.fq=0;Storage.Ov=2;Storage.Ia=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.aGy=function(h){for(var T=0;T<Storage.fN.length;T++){if(Storage.fN[T]&&Storage.fN[T].x5.contentWindow==h)return!0}return!1};
Storage.prototype.a78=function(h){if(h.target.tagName=="INPUT")return;var e=dW;if(e.ll(h.code,e.PV)&&this.Ag().length!=0)this.a6H();
else if(h.ctrlKey){if(e.ll(h.code,e.l)){var v=[];this.Gs(v);for(var T=0;T<this.IJ.length;T++)v.push(T);
this.kT()}if(e.ll(h.code,e.jo))this.HU(2);if(e.ll(h.code,e.q3))this.Lx()}else if(e.ll(h.code,e.zD)){var J=this._F();
if(J.length!=0)this.a0i(J[0])}else if(e.ll(h.code,e.iS)){this.l7=Math.max(this.l7-1,0);this.ur()}else{var m=0;
for(var T=65;T<=90;T++)if(h.code=="Key"+String.fromCharCode(T))m=T;if(m!=0){var d=String.fromCharCode(m).toLowerCase(),x=[],j=this.IJ,E;
for(var T=0;T<j.length;T++)if(j[T][0][0].toLowerCase()==d)x.push(T);if(x.length==0)return;var J=this._F();
if(J.length==0)E=x[0];else{var L=x.indexOf(J[0]);if(L==-1){E=x[0];for(var T=0;T<x.length;T++)if(x[T]>J[0]){E=x[T];
break}}else E=x[(L+1)%x.length]}this.Gs([E]);this.kT(!0)}}};Storage.prototype.Kt=function(h,e){this.VA=h;
this.qw=e;this.Z.style.width=h+"px";this.Z.style.height=e+"px";var v=h-30,J=Math.floor(v/230),v=Math.floor(v/J)-70;
this.apB.textContent=".storage .tile .name {  width:"+v+"px;  }";this.Dn.style.width=h-140+"px";this.Qo.style.width=this.MN.style.width=h-20+"px";
this.Qo.style.height=e-70-(Storage.HT==0?0:45)+"px"};Storage.prototype.aw9=function(){this.ur()};Storage.prototype.ur=function(){var h=this.nU,e="____strg"+h;
if(window[e]==null){cU.event("strg_"+Storage.list[h][0]);window[e]=!0}this.c4=1;this.zT("show",this.Ag())};
Storage.prototype.Ag=function(h){var e=this.fG[this.l7],v="/"+e.join("/");if(h&&e.length!=0)v+="/";return v};
Storage.prototype.abe=function(h){var e=h.currentTarget,v=this.l7,J=this.Cz.indexOf(e),m=this.z8.indexOf(e);
if(J>=0&&!this.aH6(J))return;if(J==0){this.l7=Math.max(v-1,0);this.ur()}if(J==1){this.l7=Math.min(v+1,this.fG.length-1);
this.ur()}if(J==2){var d=this.fG[v+1]=this.fG[v].slice(0);d.pop();this.l7++;this.fG=this.fG.slice(0,this.l7+1);
this.ur()}if(m==0){var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.ayx.dispatchEvent(x)}if(m==1){Storage.fq=(Storage.fq+1)%2;this.FN()}if(m==2){Storage.Ov=(Storage.Ov+1)%3;
this.FN()}if(m==3){Storage.Ia=(Storage.Ia+1)%3;this.FN()}if(m==4){this.zT("forget","")}if(e==this.R2){var j=this.Dn.value.trim(),E=this.IJ,L=-1,p=["psd","ai"][jD];
if(!j.toLowerCase().endsWith(p)){alert("File Name has to end with \"."+p+"\".");return}for(var T=0;T<E.length;
T++)if(E[T][0]==j)L=T;if(L!=-1){this.Ct("Do you really want to replace \""+j+"\"?",this.alK.bind(this))}else this.alK()}};
Storage.prototype.alK=function(){var h=this.Dn.value.trim(),e=[this.nU,this.Ag(!0)+h];this.j8({V:k.l.a3T,rA:e});
this.a(new g3("canclose",!0))};Storage.prototype.Lx=function(){if(Storage.$K==null)return;this.j8({V:k.l.zw,qt:bj.get("Uploading ...")});
this.WF=4;dP.fF(2,this.x5,[this.Ag(),Storage.$K,this.IJ],null,this.aaH.bind(this))};Storage.prototype.aaH=function(h){this.WF=0;
this.j8({V:k.l.gv,qt:bj.get("Uploading ...")});this.ur()};Storage.prototype.l4=function(h){var e=h.target.S9();
if(h.target==this.I9){if(e[0]==0){var v=[bj.get([6,20]),-1,0];this.IJ.push(v);this.FN();var T=this.IJ.indexOf(v),J=this.f6[T].querySelector(".name");
console.log(J);var m=new b4.rR(J,function(Z){this.j8({V:k.l.zw,qt:bj.get([1,2])+" ..."});var o=this.Ag(!0)+Z+"/";
console.log(o);this.zT("save",o)}.bind(this),!0)}else this.Lx()}else{if(e[0]==0){this.HU(2)}else if(e[0]==1){var T=this._F()[0],d=this.IJ[T],J=this.f6[T].querySelector(".name");
console.log(J);J.innerHTML=d[0];var m=new b4.rR(J,function(Z){Z=Z.trim();if(Z.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.FN();return}var o=this.IJ;for(var T=0;T<o.length;T++)if(o[T][0]==Z){alert("Item with such name already exists.");
this.FN();return}var u=this.Ag(!0)+d[0]+":"+Z;console.log(u);this.zT("rename",u)}.bind(this))}else if(e[0]==2){this.HU(3)}else if(e[0]==3)this.a6H();
else if(e[0]==4){this.HU(1)}else{var x=this.IJ[this._F()[0]],j=Storage.fI(x),E=j[e[1]],L=E[0],p=this.eE().pop()[1];
if(Storage.ay6(x,L)!=-1){this.zT("share",p+":"+L+":-1");alert("Unshared.")}else{this.zT("share",p+":"+L+":"+e[2]);
alert("Shared.")}}}};Storage.ay6=function(h,e){var v=h[4];if(v==null)return-1;if(v.indexOf(e+":0")!=-1)return 0;
if(v.indexOf(e+":1")!=-1)return 1;return-1};Storage.prototype.a6H=function(){var h=this._F();this.Ct("Do you really want to delete "+(h.length==1?"\""+this.IJ[h[0]][0]+"\"":"these files")+"?",this.C4.bind(this))};
Storage.prototype.Ct=function(h,e){var v={V:k.l.Xq,dF:"confirm",J:h,j5:e};this.j8(v)};Storage.prototype.HU=function(h){this.WF=h;
if(1<h)this.j8({V:k.l.zw,qt:bj.get("Downloading ...")});else this.j8({V:k.l.zw,qt:bj.get("Getting info ...")});
dP.fF(0,this.x5,this.Ag(),this.eE(!0),this.azu.bind(this))};Storage.prototype.azu=function(h){if(this.WF==1){var e=0,v=0;
for(var J in h){var m=h[J];e+=m[1];v++}this.Ct(v+" files, "+iD.kA(e)+" in total.",function(){});this.j8({V:k.l.gv,qt:bj.get("Getting info ...")});
this.WF=0}if(1<this.WF)dP.fF(1,this.x5,h,null,this.afb.bind(this))};Storage.prototype.afb=function(h){if(1<this.WF){if(1<this.WF)this.j8({V:k.l.gv,qt:bj.get("Downloading ...")});
var e={},v=this.Ag(!0);for(var J in h)e[J.slice(v.length)]=h[J];if(this.WF==2){Storage.$K=e;alert("Copied to a clipboard")}if(this.WF==3){var m=Object.keys(h);
if(m.length==1)ke.save(h[m[0]].buffer,m[0].split("/").pop());else ke.save(UZIP.encode(e),v=="/"?"files.zip":this.Ag().split("/").pop()+".zip")}}this.WF=0};
Storage.$K=null;Storage.prototype.C4=function(){this.j8({V:k.l.zw,qt:bj.get([5,4])+" ..."});this._j=this.eE();
this.Zd()};Storage.prototype.Zd=function(){if(this._j.length==0){this.j8({V:k.l.gv,qt:bj.get([5,4])+" ..."});
this.Gs([]);this.ur()}else this.zT("delete",this._j.pop()[1])};Storage.prototype.eE=function(h){var e=[],v=this.Ag(!0),J=this._F();
for(var T=0;T<J.length;T++){var m=this.IJ[J[T]];if(h)e.push(m[0]);else e.push([this.nU,v+m[0]])}return e};
Storage.prototype.zT=function(h,e){V.zZ(this.Z,"disabled");this.aAJ=h;if(Storage.bw)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+h+"\", \"prm\": "+JSON.stringify(e)+"  }");
this.x5.contentWindow.postMessage("{\"code\": \""+h+"\", \"prm\": "+JSON.stringify(e)+"  }","*")};Storage.prototype.a6w=function(h){if(h.source!=this.x5.contentWindow||this.WF!=0)return;
V.t7(this.Z,"disabled");if(typeof h.data=="string"){if(Storage.bw)console.log("==",Math.floor(Date.now()/1e3),h.data);
var e=JSON.parse(h.data),v=e.code,J=e.prm,m=this.aAJ,d=Storage.list[this.nU][3];if(v=="ready"){if(d&&!J){var x=cU.Wf();
console.log(x);var j=cU.rG(),E=j.acc;if(x==null){this.QF=1;alert("Log in to use this storage (press Account at the top).");
this.fx();return}var L=[],p=x.wantToJoin;for(var Z in p)L.push(parseInt(Z.slice(1)));var o=[],u=x.inTeams;
for(var T=0;T<u.length;T++)o.push(u[T][2]);var N={uid:x.id,limit:Storage.aBt[cU.Ju()?1:0],inTeams:o,myTeams:L};
N.secret=E&&E.pds?E.pds:"";this.zT("login",N);return}if(d)this.QF=2;if(d&&e.secret){var j=cU.rG(),E=j.acc;
if(E==null)E=j.acc={};E.pds=e.secret;cU.Fm(j)}if(J)this.ur();else this.fx()}else if(v!="0"){if(m=="save")this.j8({V:k.l.gv,qt:bj.get([1,2])+" ..."});
if(m=="delete")this.Zd();alert(J);this.FN()}else if(m=="show"){this.c4=0;this.IJ=J;this.FN()}else if(m=="save"){this.c4=0;
this.j8({V:k.l.gv,qt:bj.get([1,2])+" ..."});this.ur()}else if(m=="delete"){this.Zd()}else if(m=="forget"){if(d)this.fx();
else this.vw()}else if(m=="rename"||m=="share"){this.ur()}else throw v}else{if(Storage.bw)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.j8({V:k.l.a6f,rA:this.eE()[0],ND:h.data});this.j8({V:k.l.gv,qt:"Opening ..."})}};Storage.prototype.fx=function(){V.H5(this.MN);
V.H5(this.Qo);V.H5(this.DB);this.Qo.appendChild(this.abZ)};Storage.prototype.aH6=function(T){if(T==0)return this.l7>0;
if(T==1)return this.l7<this.fG.length-1;if(T==2)return this.Ag()!="/"};Storage.prototype.FN=function(){var h=Storage.list[this.nU][3],e=this.IJ,v=Storage.Ov,J=Storage.fq,m=Storage.Ia;
if(e==null)return;e.sort(function(P,g){var a=P[1]==-1?1:5,w=g[1]==-1?1:5,y=0;if(Math.min(a,w)==1&&a!=w)return a-w;
else if(a==1||v==0)y=P[0].toLowerCase()<g[0].toLowerCase()?-1:1;else if(v==1)y=P[1]-g[1];else if(v==2)y=P[2]-g[2];
if(J==1)y=-y;if(P[0]=="Shared")y=-1;if(g[0]=="Shared")y=1;return y});var d=this.Qo,x=this.MN,j=this.fG[this.l7];
V.H5(d);V.H5(x);this.f6=[];for(var T=0;T<3;T++)if(this.aH6(T))V.t7(this.Cz[T],"disabled");else V.zZ(this.Cz[T],"disabled");
x.appendChild(this.acX);x.appendChild(this.Qg);var E=V.k("span");E.textContent="/";x.appendChild(E);
for(var T=0;T<j.length;T++){var E=V.k("span");E.textContent=j[T];x.appendChild(E);var E=V.k("span");
E.textContent="/";x.appendChild(E)}var L=["tile","icon","litm"][m];for(var T=0;T<e.length;T++){var p=e[T],Z=p[1]==-1,o=Z?"":iD.kA(p[1]),u=V.k("div","cont "+L),G=!1;
d.appendChild(u);this.f6.push(u);u.setAttribute("title",p[0]+(Z?"":"\nSize: "+o+"\nDate Modified: "+new Date(p[2]*1e3).toLocaleString().replaceAll(". ",".")));
var N=V.k("img");N.setAttribute("src",Z?Storage.ayP:p[3]?p[3]:Storage.w2);if(!Z&&p[3])V.v(N,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var M=V.k("span","name"),O=p[0];if(L=="icon"&&O.length>30)O=O.slice(0,24)+".."+O.slice(O.length-5);if(h&&j.length==1&&j[0]=="Shared"){var F=Storage.fI(),W=parseInt(O.slice(5));
for(var f=0;f<F.length;f++)if(F[f][0]==W)O=F[f][1]}M.textContent=O;u.appendChild(N);u.appendChild(M);
if(L!="icon"&&!Z){if(L=="tile")V.Xp(M);var $=V.k("span");$.textContent=o;$.style.opacity="0.8";(L=="tile"?M:u).appendChild($)}var H=p[0].split("."),A=(H.length==1?"":H.pop()).toUpperCase();
if(h&&p[0]=="Shared"&&j.length==0){G=!0;A="\u21E7"}if(L!="litm"&&(!Z&&p[3]==null||G)){var l=V.k("span","ext");
l.textContent=A;var K=Storage.hR[A];l.style.backgroundColor=K?K:Storage.a6M(A);u.appendChild(l)}V.La(u,this.ii);
u.addEventListener("contextmenu",this.ii)}this.kT();var U=this.PU.parentNode!=null,z=Storage.HT,q=this.Z;
if(U&&z==0)q.removeChild(this.PU);if(!U&&z==1)q.appendChild(this.PU);this.Kt(this.VA,this.qw);this.S()};
Storage.prototype.kT=function(h){var e=this.f6,v=this.IJ,J=this._F(),m=!1,d=0;for(var T=0;T<e.length;
T++){var x=v[T],j=x[1]==-1,E=e[T];if(Storage.HT==1&&!j&&!x[0].toLowerCase().endsWith(".psd"))E.style.display="none";
else E.style.display="auto";if(J.indexOf(T)==-1)V.t7(E,"active");else{if(j)m=!0;else d+=x[1];V.zZ(E,"active");
if(h)E.scrollIntoView({block:"center",behavior:"smooth"})}}var L=m?"":iD.kA(d);this.DB.textContent=J.length==0?"":J.length+" item"+(J.length==1?"":"s")+" selected\u2001"+L;
this.Dn.value=J.length==1&&!m?v[J[0]][0]:Storage.aBv};Storage.prototype.a0i=function(T){var h=this.IJ[T];
if(h[1]==-1){var e=this.fG[this.l7].slice(0);e.push(h[0]);this.l7++;this.fG[this.l7]=e;this.fG=this.fG.slice(0,this.l7+1);
this.Gs([]);this.ur()}else if(Storage.HT==0){this.j8({V:k.l.zw,qt:"Opening ..."});this.a(new g3("canclose",!0));
var v=this.Ag(!0)+h[0];this.zT("load",v)}};Storage.prototype.S=function(){var h=Storage.Ov,e=Storage.fq,v=Storage.Ia;
this.z8[0].textContent="Upload";this.z8[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][e];this.z8[2].textContent=bj.get([[12,48],[12,14,0],"Date"][h]);
this.z8[3].textContent=bj.get(["Tiles","Icons",[25,3,1]][v]);this.z8[4].textContent="\u2716";this.k8.innerHTML=bj.get([[23,6],Storage.list[this.nU][0]])+"<br/><small><small>"+Storage.list[this.nU][4]+"</small></small>";
this.fa()};Storage.prototype.atJ=function(h){this.j8({V:k.l.pz});if(V.gl(this.abZ))return;if(h.button==3||h.button==4){if(Date.now()-this.ag9>50){var e=this.l7;
if(h.button==3)this.l7=Math.max(e-1,0);else this.l7=Math.min(e+1,this.fG.length-1);this.ur()}this.ag9=Date.now();
return}h.stopPropagation();var T=this.f6.indexOf(h.currentTarget);if(h.type=="contextmenu"){if(this.IJ==null)return;
h.preventDefault();var v=this.I9;if(T!=-1){var J=[{name:[5,1],vD:[dW.Dd,dW.jo]},{name:[6,37]},{name:"Download",jV:!0},{name:[5,4],vD:[dW.PV]},{name:[9,2]}];
if(Storage.list[this.nU][3]){var m=this.IJ[T],d=Storage.fI(m);if(d.length!=0){var x=[];for(var j=0;j<d.length;
j++){var E=[],L=d[j],p=Storage.ay6(m,L[0]);if(p!=-1)E.push({name:"Unshare"});else E.push({name:"Allow Read"},{name:"Allow Read & Write"});
x.push({name:L[1]+[""," (R)"," (R,W)"][p+1],sub:E})}J.push({name:"Share With",sub:x})}}v=new ar(J);v.parent=this;
v.P("select",this.l4,this)}v.parent=this;v.S();v.update();this.j8({V:k.l.Eu,nB:v,x:h.clientX+4,y:h.clientY});
return}var Z=this._F(),o=Z.indexOf(T);if(h.button!=0&&o!=-1)return;if(h.target==this.Qo)this.Gs([]);
else{if(h.ctrlKey){if(o==-1)Z.push(T);else Z.splice(o,1)}else if(h.shiftKey&&Z.length!=0){var j=Z[0];
if(j<T){var u=T;T=j;j=u}Z=[];this.Gs(Z);for(var N=T;N<=j;N++)Z.push(N)}else{this.Gs([T]);if(Date.now()-this.QW<300&&Z.length!=0&&Z[0]==T){this.a0i(T);
this.QW=0}}}this.QW=Date.now();this.kT()};Storage.prototype.j8=function(h){var e=new g3(k.E.u,!0);e.data=h;
this.a(e)};Storage.fI=function(h){var e=[],v=[],J=cU.rG(),m=J.acc.tstart;if(m)for(var T=0;T<m.length;
T++){e.push([m[T][2],m[T][0]]);v.push(m[T][2])}var d=cU.Wf();m=d.inTeams;if(m)for(var T=0;T<m.length;
T++){e.push([m[T][2],m[T][0]]);v.push(m[T][2])}if(h&&h[4]){for(var T=0;T<h[4].length;T++){var x=parseInt(h[4][T].split(":")[0]);
if(v.indexOf(x)==-1)e.push([x,"Team "+x])}}return e};Storage.prototype.apX=function(h,e){if(this.c4!=0)return 1;
this.c4=2;this.j8({V:k.l.zw,qt:bj.get([1,2])+" ..."});this.zT("save",h);if(Storage.bw)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.x5.contentWindow.postMessage(e,"*")};Storage.hR={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a6M=function(h){h=h.toLowerCase();
var e=0;for(var T=0;T<h.length;T++)e+=h.charCodeAt(T)*613<<8*T;return"#"+B.zF(e&16777215)};Storage.ayP="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.w2="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var dP=function(){var h,e,v,J,m,d,x,j;function E(u,N,M,O,F){e=N;J=O;x=F;h=u;d={};if(h==0){v=[M]}if(h==1){v=[];
for(var W in M)v.push(W)}if(h==2){var f=M[0],$=M[1],H=M[2],A={};for(var T=0;T<H.length;T++)A[H[T][0]]=!0;
var G={};for(var W in $){var l=W.split("/"),K=l[0],U=K.split("."),z="";if(U.length!=1){z="."+U.pop();
K=U.join(".")}while(A[K+z])K+=" - Copy";l[0]=K+z;G[l.join("/")]=$[W]}var q={};v=[];for(var W in G){var l=W.split("/");
for(var T=0;T<l.length-1;T++){var P=f+l.slice(0,T+1).join("/")+"/";if(q[P]==null){q[P]=!0;v.push([P])}}var g=f.endsWith("/")||W.startsWith("/")?"":"/";
v.push([f+g+W,G[W]])}}window.addEventListener("message",p,!1);j=Date.now();L()}function L(){if(v.length==0){o();
return}m=v.shift();if(h==0)Z("show",m);if(h==1)Z("load",m);if(h==2){Z("save",m[0]);if(m.length==2)e.contentWindow.postMessage(m[1],"*")}}function p(u){if(u.source!=e.contentWindow)return;
if(h==0){var N=JSON.parse(u.data),M=N.code,O=N.prm;for(var T=0;T<O.length;T++){var F=O[T];if(J&&J.indexOf(F[0])==-1)continue;
var W=m+(m=="/"?"":"/"),f=W+F[0];if(F[1]==-1)v.push(f);else d[f]=F}J=null}else if(h==1){d[m]=new Uint8Array(u.data)}L()}function Z(u,N){var M=u=="show"?", \"nothumbs\": true":"",O="{\"code\": \""+u+"\", \"prm\": "+JSON.stringify(N)+M+"  }";
e.contentWindow.postMessage(O,"*")}function o(){console.log(Date.now()-j);window.removeEventListener("message",p,!1);
x(d)}return{fF:E}}();function iS(h){fx.call(this);var e=this.Z=V.k("div","form scrollable padded label12");
this.wv=h;this.YH=null;var v=[],J=iS.tx[h];this.HQ=[];for(var m in J){var d=parseInt(m.slice(1)),x=d%10==0?"":"\u2800\u2800- ";
v.push(x+J[m]);this.HQ.push(d)}this.Js=[new jE("Name",null,30),new jE("Description",null,30,4),h==0?new jE("File"," www.Photopea.com#i...",17):new gR("File",!1,!1),new jE("Thumbnail URL","* Use Imgur.com etc.",17),new jV("Category",v),new hJ("Make Public"),new eA("<< Back",null,null,!0),new eA("Save",null,null,!0)];
if(h==0)this.Js.push(new cE("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new cE("Get a Thumbnail URL: File - Publish Online - JPG."),new cE("Write a proper description, so that your work can be found using text search."));
if(h==1)this.Js.push(new cE("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(h!=0)this.Js.push(new cE("Do not load any file to preserve the old version."));for(var T=0;T<this.Js.length;
T++){var j=this.Js[T];e.appendChild(j.Z);j.parent=this;if(T!=4&&T!=6)V.Xp(e);if(j instanceof eA)j.P("click",this.amd,this);
if(h!=0&&T==2)j.P(k.E.f,this.apt,this)}}iS.prototype=new fx;iS.prototype.apt=function(h){var e=this.Js[2],v=e.j(),J=Object.keys(v),m=v[J[0]].buffer,d=gI.pI(m),x=" json atn abr grd asl pat csh icc".split(" ")[this.wv];
if(d!=x){alert("This is a wrong file"+(d?" ("+d.toUpperCase()+")":"")+". You need to upload the "+x.toUpperCase()+" file.");
e.e({})}};iS.prototype.amd=function(h){if(h.target==this.Js[6]){this.a(new g3("back"));return}var e=this.Js[3].j().trim(),v=e.startsWith("http")&&(e.endsWith(".jpeg")||e.endsWith(".jpg")||e.endsWith(".png")||e.endsWith(".gif"));
if(!v){alert("Thumbnail URL is incorrect.");return}var J=new XMLHttpRequest,m="mirror.php?url="+encodeURIComponent(e);
J.open("GET",m);J.responseType="arraybuffer";J.onload=this.aos.bind(this);J.send()};iS.prototype.aos=function(h){var e=h.target.response,v=e.byteLength;
if(v>2e5&&gI.pI(e)!="gif"){alert("Thumbnail is too large ("+iD.kA(v)+"). Make it under 200 kB.");return}var J=this.Js[2].j(),m=Object.keys(J);
if(this.wv!=0&&m.length==0&&(this.YH==null||this.YH.file==null||this.YH.file=="")){alert("You need to select a file.");
return}if(this.wv!=0&&m.length!=0){console.log(J);ke.aF.arn(J[m[0]].buffer,m[0],this.adC.bind(this),"pp-resources");
return}this.adC()};iS.prototype.adC=function(h){var e=this.wv,v="name desc file thmb catg publ".split(" "),J=this.YH;
for(var T=0;T<6;T++){if(e!=0&&T==2)continue;var m=this.Js[T].j();if(T<=3){m=m.trim();if(m.length==0){alert("One of values is empty.");
return}}if(T==2){if(m.endsWith(".psd"))m=m.slice(0,m.length-4);var d=m.split("#i");if(d.length!=2||d[1].length!=8){alert("File ID is incorrect.");
return}m=d.pop()}if(T==4)m=this.HQ[m];J[v[T]]=m}if(e!=0){if(h)J.file=h;else if(J.file==null){alert("Select a file from your computer.");
return}}if(J.utme.length==0)J.utme=""+Math.round(Date.now()/1e3);J.type=e;this.a(new g3("save"))};iS.prototype.S=function(){};
iS.prototype.e=function(h){var e=this.YH=B.t(h),v=this.wv,J="name desc file thmb catg publ".split(" ");
for(var T=0;T<6;T++){if(v!=0&&T==2)continue;var m=e[J[T]];if(m!=""&&T==2)m="https://photopea.com#i"+m;
if(T==4)m=this.HQ.indexOf(m);if(T==5&&m==null)m=!0;this.Js[T].e(m)}};iS.prototype.j=function(){return B.t(this.YH)};
iS.tx=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function fa(){fx.call(this);var h=this.Z=V.k("div","form");this.YH=null;this.xU=null;this.Ab=null;this.x4=null;
var e=V.k("canvas");this.h_=e.getContext("2d");V.zY(e);V.La(e,this.bq.bind(this));this.Lf=[new ha([12,44],[[19,0,0],[19,0,1]]),{Z:e},new cs([12,0],0,100,"%",null,null,null,4),new iE,new cs([12,40],0,100,"%",2,null,null,4),new eA([5,4],null,null,!0)];
for(var T=0;T<this.Lf.length;T++){var v=this.Lf[T];v.parent=this;h.appendChild(v.Z);if(T!=2&&T!=4)V.Xp(h);
if(T!=1)v.P(T==5?"click":k.E.f,this.ow,this)}this.cA=this.Cd.bind(this);this.jO=this.KY.bind(this)}fa.prototype=new fx;
fa.prototype.j=function(){return B.t(this.YH)};fa.prototype.e=function(h){this.YH=B.t(h);this.aD()};
fa.prototype.S=function(){var h=this.Lf;for(var T=0;T<h.length;T++)if(h[T].S)h[T].S()};fa.prototype.bq=function(h){var e=V.A_(),v=V.IE(h,this.h_.canvas);
v.x*=e;v.y*=e;var J=this.Ab,m=this.x4,d=this.YH,x=d[1],j=7*V.A_(),E=-1;for(var T=0;T<J.length;T++){if(fq.mr(v,J[T][0])<j)E=T}if(E==-1){if(Math.abs(v.y-(m.y+m._))>10*e)return;
var L=[.5,[0,0,0],1,.5];x.push(L);x.sort(function(p,Z){return p[0]-Z[0]});this.jf=[new fq,x.indexOf(L),0]}else this.jf=J[E];
this.xU=JSON.stringify(this.YH);V.Xa(window,this.cA);V.wZ(window,this.jO);if(E==-1)this.Cd(h);this.aD()};
fa.prototype.Cd=function(h){this.YH=JSON.parse(this.xU);var e=V.A_(),v=V.IE(h,this.h_.canvas);v.x*=e;
v.y*=e;var J=this.jf,m=J[1],d=this.x4,x=this.YH[1],j=x[m],E=(v.x-d.x)/d.q;if(J[2]==0){j[0]=Math.max(0,Math.min(1,E));
if(Math.abs(v.y-(d.y+d._))>30*e)x.splice(m,1)}else{var L=j[0],p=x[m+1][0],Z=j[3];j[3]=Math.max(.13,Math.min(.87,(E-L)/(p-L)))}x.sort(function(o,u){return o[0]-u[0]});
this.aD()};fa.prototype.KY=function(h){V.L0(window,this.cA);V.SV(window,this.jO)};fa.prototype.ow=function(h){var e=this.Lf,T=e.indexOf(h.target),v=this.YH,J=h.target.j(),m=this.jf;
if(T==0)v[0]=J;if(m){var d=v[1][m[1]];if(T==2)d[2]=J/100;if(T==3){J=B.UY(h.target.by());d[1]=[J.n/255,J.i/255,J.b/255]}if(T==4)if(m[2]==0)d[0]=J/100;
else d[3]=Math.max(.13,Math.min(.87,J/100));if(T==5){v[1].splice(m[1],1);this.jf=null}}this.aD()};fa.prototype.aD=function(){var h=this.Lf,e=this.YH,v=e[1],J=this.h_,m=J.canvas;
h[0].e(e[0]);var d=m.width=Math.floor(300*V.A_()),x=m.height=Math.floor(60*V.A_()),j=Math.floor(20*V.A_()),E=d-j-j;
this.x4=new fP(j,j,E,x-j-j);V.U3(m);var L=J.fillStyle=J.createLinearGradient(j,j,d-j,j);B.Vh.jQ(L,v);
J.fillRect(j,j,E,x-j-j);J.lineWidth=1;J.strokeRect(j-.5,j-.5,E+1,x-j-j+1);var p=this.Ab=[],Z=this.jf;
J.fillStyle="white";for(var T=0;T<v.length;T++){var o=v[T],u=o[0],N=x-j*.6;if(Z&&Z[1]==T&&Z[2]==0){J.fillStyle="#00aaff";
J.beginPath();J.arc(j+u*E,N,x*.125,0,2*Math.PI);J.fill()}J.fillStyle="white";J.beginPath();J.arc(j+u*E,N,x*.1,0,2*Math.PI);
J.fill();J.beginPath();J.arc(j+u*E,N,x*.07,0,2*Math.PI);J.stroke();p.push([new fq(j+u*E,N),T,0]);if(T!=v.length-1){var M=o[3],O=v[T+1][0];
u=u+M*(O-u);N=j*.7;if(Z&&Z[1]==T&&Z[2]==1){J.fillStyle="#00aaff";J.beginPath();J.arc(j+u*E,N,x*.075,0,2*Math.PI);
J.fill()}J.fillStyle="white";J.beginPath();J.arc(j+u*E,N,x*.05,0,2*Math.PI);J.fill();p.push([new fq(j+u*E,N),T,1])}}h[2].Es(Z&&Z[2]==0);
h[3].Es(Z&&Z[2]==0);h[4].Es(Z!=null);h[5].Es(Z&&Z[2]==0&&v.length>2);if(Z){var o=v[Z[1]],F=o[1];if(Z[2]==0)h[2].e(o[2]*100);
h[3].Y_(B.RP({n:F[0]*255,i:F[1]*255,b:F[2]*255}));h[4].e(o[Z[2]==0?0:3]*100)}};function aE(h){fx.call(this);
this.qN=h;this.Z=V.k("div","");this.hu=[];this.bi=null;this.aEj=[]}aE.prototype=new fx;aE.prototype.hw=function(h){};
aE.prototype.mk=function(){return!1};aE.prototype.Kt=function(h,e){};aE.prototype.fa=function(h,e){};
aE.prototype.Y9=function(h){};aE.prototype.e=function(h,e,v,J,m,d){var x=[],j=this.hu,E=0,L=f8.E0["s"+this.qN];
if(this.qN=="Dspl")this.Ra(h,x,d);else L?L(h,x,d):this.Ra(h,x,d);for(var T=0;T<j.length;T++)if(!(j[T]instanceof cE))j[T].e(x[E++]);
if(h.RndS)this.bi=h.RndS.v};aE.prototype.j=function(){var h=f8.UX(this.qN),e=[],v=this.hu,J=0;for(var T=0;
T<v.length;T++)if(!(v[T]instanceof cE))e[J++]=v[T].j();var m=f8.E0["g"+this.qN];if(this.qN=="Dspl")this._P(h,e);
else m?m(h,e):this._P(h,e);if(h.RndS)h.RndS.v=this.bi;return h};aE.prototype.lK=function(h){};aE.prototype.ob=function(h){if(h&&h.target instanceof eA){this.bi=Math.floor(Math.random()*4294967295)}var e=this.aEj;
for(var T=0;T<e.length;T+=2){var v=this.hu[e[T]],J=this.hu[e[T+1]],m=v.j(),d=J.j();if(h.target==v)J.e(Math.max(m,d));
else v.e(Math.min(m,d))}this.a(new g3(k.E.f))};aE.prototype.S=function(){for(var T=0;T<this.hu.length;
T++)this.hu[T].S();var h=this.aEC;if(h)h.S()};aE.prototype.j1=function(h){V.zZ(this.Z,"form");var e=this.hu;
for(var T=0;T<e.length;T++){var v=e[T];v.parent=this;v.P(k.E.f,this.ob,this);this.Z.appendChild(v.Z);
if(v instanceof hJ&&e[T+1]instanceof iE)continue;if(h&&h.indexOf(T)!=-1)V.ja(this.Z);else V.Xp(this.Z)}var J=f8.UX(this.qN);
if(J.RndS){var m=this.aEC=new eA([25,1,2],null,null,!0);this.Z.appendChild(m.Z);m.P("click",this.ob,this)}};
aE.prototype.yz=function(h){return!1};aE.prototype.po=function(){return!1};aE.prototype.HL=function(h,e,v,J,m){};
aE.prototype._8=function(h,e,v,J,m){};aE.prototype.ej=function(h,e,v,J,m){};aE.prototype._P=function(h,e){};
aE.prototype.Ra=function(h,e){};aE.prototype.SA=function(h){var e=h.target.j().indexOf(!0)!=-1,v=new g3(k.E.u,!0);
v.u$=!0;v.data={V:e?k.l.px:k.l.NY,I:c.TT};this.a(v);v=new g3(k.E.A,!0);v.I=c.TT;v.u$=!0;v.data={V:"supertool",I:e?this:null};
this.a(v)};aE.am1=function(h){h.po=function(){return!0};h.HL=function(e,v,J,m,d){this.uh=!0;this.aGw(e,d)};
h._8=function(e,v,J,m,d){if(!this.uh)return;this.aGw(e,d)};h.ej=function(e,v,J,m,d){this.uh=!1};h.aGw=function(e,v){var J=new fP(0,0,e.q,e._);
if(e.K)J=e.K.R;var m=e.p.$$(v.x,v.y);m.x-=J.x;m.y-=J.y;function d(x,j){return Math.round(Math.max(0,Math.min(100,100*x/j)))}this.hu[2].e(d(m.x,J.q));
this.hu[3].e(d(m.y,J._));this.ob()}};aE.Bokh=function(){aE.call(this,"Bokh");this.hu=[new jV("Depth Map",["A","b"]),new ci("Focal Distance",0,255),new hJ([4,11]),new jV([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new ci([12,56],0,100),new ci([12,15],0,360),new ci([12,2],0,100),new ci([4,13],0,255),new ci([24,6],0,100),new ha([12,58],[[12,59,0],[12,59,1]]),new hJ([12,60])];
this.j1([5,7])};aE.Bokh.prototype=new aE;aE.Bokh.prototype.Ra=function(h,e,v){var J=[[22,5,0],[6,5,3],[6,2]],m=h.BkDi.v.BtDi,d=h.BkDc,x=0;
if(m=="BeIn")x=0;else if(m=="BeIt"&&d.v.BtDc=="BeCt")x=1;else if(m=="BeIt"&&d.v.BtDc=="BeCm")x=2;else x=3+d.v;
for(var T=0;T<v[1].length;T++)J.push(v[1][T].name);this.hu[0].VU(J,[3]);e[0]=x;e[1]=h.BkDp.v;e[2]=h.BkDs.v;
e[3]=parseInt(h.BkIs.v.BtIs.slice(3))-3;e[4]=h.BkIb.v;e[5]=h.BkIr.v;e[6]=h.BkSb.v;e[7]=h.BkSt.v;e[8]=h.BkNa.v;
e[9]=h.BkNt.v.BtNt=="BeNu"?0:1;e[10]=h.BkNm.v};aE.Bokh.prototype._P=function(h,e){var v;if(e[0]==0){v="BeIn";
delete h.BkDc}else if(e[0]<3){v="BeIt";h.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][e[0]-1]}}}else{v="BeIa";
h.BkDc={t:"long",v:e[0]-3}}h.BkDi.v.BtDi=v;h.BkDp.v=e[1];h.BkDs.v=e[2];h.BkIs.v.BtIs="BeS"+(3+e[3]);
h.BkIb.v=e[4];h.BkIr.v=e[5];h.BkSb.v=e[6];h.BkSt.v=e[7];h.BkNa.v=e[8];h.BkNt.v.BtNt=["BeNu","BeNg"][e[9]];
h.BkNm.v=e[10]};aE.oilPaint=function(){aE.call(this,"oilPaint");this.hu=[new ci([12,56],.1,10,"px",!0),new ci("Cleanliness",0,10,"px",!0),new ci([12,38],.1,10,null,!0),new ci("Bristle Detail",0,10,null,!0),new hJ("Lighting"),new ci("Shine",0,10,null,!0),new en([12,15])];
this.j1()};aE.oilPaint.prototype=new aE;aE.oilPaint.prototype.Ra=function(h,e){var v="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var T=0;T<v.length;T++)e[T]=h[v[T]].v;e[6]=[h.LghD.v]};aE.oilPaint.prototype._P=function(h,e){var v="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var T=0;T<v.length;T++)h[v[T]].v=e[T];h.LghD.v=e[6][0]};aE.TrcC=function(){aE.call(this,"TrcC");
this.hu=[new ci("Level",0,255),new ha([12,69],[[19,4,1],[19,4,0]])];this.j1()};aE.TrcC.prototype=new aE;
aE.TrcC.prototype.Ra=function(h,e){e[0]=h.Lvl.v;e[1]=["Lwr","Upr"].indexOf(h.Edg.v.CntE)};aE.TrcC.prototype._P=function(h,e){h.Lvl.v=e[0];
h.Edg.v.CntE=["Lwr","Upr"][e[1]]};aE["Dfs "]=function(){aE.call(this,"Dfs ");this.hu=[new ha([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.j1()};aE["Dfs "].prototype=new aE;aE["Dfs "].prototype.Ra=function(h,e){e[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(h.Md.v.DfsM)};
aE["Dfs "].prototype._P=function(h,e){h.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][e[0]]};aE.Embs=function(){aE.call(this,"Embs");
this.hu=[new en([12,15]),new ci([12,42],1,100,"px"),new ci([12,57],1,500,"%")];this.j1()};aE.Embs.prototype=new aE;
aE.Embs.prototype.Ra=function(h,e){e[0]=[h.Angl.v];e[1]=h.Hght.v;e[2]=h.Amnt.v};aE.Embs.prototype._P=function(h,e){h.Angl.v=e[0][0];
h.Hght.v=e[1];h.Amnt.v=e[2]};aE["Wnd "]=function(){aE.call(this,"Wnd ");this.hu=[new ha([12,32],["Wind","Blast","Stagger"]),new ha([12,33],["From the Right","From the Left"])];
this.j1()};aE["Wnd "].prototype=new aE;aE["Wnd "].prototype.Ra=function(h,e){e[0]=["Wnd","Blst","Stgr"].indexOf(h.WndM.v.WndM);
e[1]=["Left","Rght"].indexOf(h.Drct.v.Drct)};aE["Wnd "].prototype._P=function(h,e){h.WndM.v.WndM=["Wnd","Blst","Stgr"][e[0]];
h.Drct.v.Drct=["Left","Rght"][e[1]]};aE.denoise=function(){aE.call(this,"denoise");this.hu=[new ci([12,64],0,10),new ci([12,65],0,100,"%")];
this.j1()};aE.denoise.prototype=new aE;aE.denoise.prototype.Ra=function(h,e){var v=h.channelDenoise.v[0].v;
e[0]=v.Amnt.v;e[1]=v.EdgF.v};aE.denoise.prototype._P=function(h,e){var v=h.channelDenoise.v[0].v;v.Amnt.v=e[0];
v.EdgF.v=e[1]};aE.lightFilterGradient=function(){aE.call(this,"lightFilterGradient");this.hu=[new ci([24,3,1],0,100,"px",1,!0),new ci([12,38],0,200,"%"),new hJ([4,11]),new ci("High",0,100,"%"),new ci("Medium",0,100,"%"),new ci("Low",0,100,"%")];
this.j1()};aE.lightFilterGradient.prototype=new aE;aE.lightFilterGradient.prototype.Ra=function(h,e){e[0]=h.blur.v;
e[1]=h.textureScale.v*100;e[2]=h.Scl.v==-1;var v=h.Dtl.v;e[3]=v[0].v*100;e[4]=v[1].v*100;e[5]=v[2].v*100};
aE.lightFilterGradient.prototype._P=function(h,e){h.blur.v=e[0];h.textureScale.v=e[1]/100;h.Scl.v=e[2]?-1:1;
var v=h.Dtl.v;v[0].v=e[3]/100;v[1].v=e[4]/100;v[2].v=e[5]/100};aE.Fbrs=function(){aE.call(this,"Fbrs");
this.hu=[new ci("Variance",1,64),new ci([12,64],1,64)];this.j1()};aE.Fbrs.prototype=new aE;aE.Fbrs.prototype.Ra=function(h,e){e[0]=h.Vrnc.v;
e[1]=h.Strg.v};aE.Fbrs.prototype._P=function(h,e){h.Vrnc.v=e[0];h.Strg.v=e[1]};aE.LnsF=function(){aE.call(this,"LnsF");
this.hu=[new ci([12,2],10,300,"%"),new ha([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new ci("Position X",0,100,"%"),new ci("Position Y",0,100,"%")];
this.j1()};aE.LnsF.prototype=new aE;aE.LnsF.prototype.Ra=function(h,e){e[0]=h.Brgh.v;e[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(h.Lns.v.Lns);
var v=h.FlrC.v;e[2]=Math.round(v.Hrzn.v*100);e[3]=Math.round(v.Vrtc.v*100)};aE.LnsF.prototype._P=function(h,e){h.Brgh.v=e[0];
h.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][e[1]];var v=h.FlrC.v;v.Hrzn.v=e[2]/100;v.Vrtc.v=e[3]/100};aE.am1(aE.LnsF.prototype);
aE.blendOptions=function(){aE.call(this,"blendOptions");this.hu.push(new jV([12,19,0],cc.j$,cc.qE));
this.hu.push(new ci([12,0],0,100,"%"));this.j1()};aE.blendOptions.prototype=new aE;aE.blendOptions.prototype.Ra=function(h,e){e[0]=cc.s7.indexOf(h.Md.v.BlnM);
e[1]=h.Opct.v.val};aE.blendOptions.prototype._P=function(h,e){h.Md.v.BlnM=cc.s7[e[0]];h.Opct.v.val=e[1]};
aE.LnCr=function(){aE.call(this,"LnCr");this.hu=[new ci([12,57],-100,100),new ci([12,38],10,150,"%")];
this.j1()};aE.LnCr.prototype=new aE;aE.LnCr.prototype.Ra=function(h,e){e[0]=h.LnIa.v;e[1]=h.LnSi.v};
aE.LnCr.prototype._P=function(h,e){h.LnIa.v=e[0];h.LnSi.v=e[1]};aE.adaptCorrect=function(){aE.call(this,"adaptCorrect");
var h=bQ;this.hu=[new cE([19,6,0]),new h([12,57],0,100,"%"),new h("Tone",0,100,"%"),new h([12,56],0,200,"px"),new cE([19,6,2]),new h([12,57],0,100,"%"),new h("Tone",0,100,"%"),new h([12,56],0,200,"px"),new cE([3]),new h([13,0],-100,100)];
this.j1([3,7])};aE.adaptCorrect.prototype=new aE;aE.adaptCorrect.prototype.Ra=function(h,e){var v=h.sdwM.v;
e[0]=v.Amnt.v.val;e[1]=v.Wdth.v.val;e[2]=v.Rds.v;var v=h.hglM.v;e[3]=v.Amnt.v.val;e[4]=v.Wdth.v.val;
e[5]=v.Rds.v;e[6]=h.ClrC.v};aE.adaptCorrect.prototype._P=function(h,e){var v=h.sdwM.v;v.Amnt.v.val=e[0];
v.Wdth.v.val=e[1];v.Rds.v=e[2];var v=h.hglM.v;v.Amnt.v.val=e[3];v.Wdth.v.val=e[4];v.Rds.v=e[5];h.ClrC.v=e[6]};
aE.Flam=function(){aE.call(this,"Flam");var h=this.hu=[new jV([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new ci([12,80,0],20,1e3,"px"),new hJ("Randomize Length"),new ci([12,41],5,600,"px"),new ci([12,15],0,360,"\xB0"),new ci("Interval",10,200,"px"),new hJ("Adapt Interval for Loops"),new iE(!1),new jV([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new ci("Turbulent",0,100),new ci("Jag",0,100),new ci([12,0],0,100),new ci("Lines",2,30),new ci("Bottom",0,100),new jV([12,22],["Normal","Violent","Flat"]),new jV([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new hJ("Randomize Shape"),new ci("Random Seed",0,100)];
this.j1();var e=this.Z;V.H5(e);var v=new ha(null,["Basic","Advanced"]);v.P(k.E.f,this.aCB,this);e.appendChild(v.Z);
V.ja(e);var J=V.k("div"),m=V.k("div");this.az9=[J,m];e.appendChild(J);for(var T=0;T<h.length;T++){(T<9?J:m).appendChild(h[T].Z);
if(T==6)V.Xp(J)}h[0].P(k.E.f,this.avr,this);this.avr()};aE.Flam.prototype=new aE;aE.Flam.prototype.avr=function(h){var e=this.hu,T=e[0].j();
e[1].Es(T!=0&&T!=5);e[2].Es(T!=0&&T!=5);e[4].Es(T!=0&&T!=5&&T!=1);e[5].Es(T!=0&&T!=5);e[6].Es(T!=0&&T!=5)};
aE.Flam.prototype.aCB=function(h){var T=h.target.j(),e=this.az9,v=this.Z;v.removeChild(e[1-T]);v.appendChild(e[T])};
aE.boxblur=function(){aE.call(this,"boxblur");this.hu=[new ci([12,56],1,200," px")];this.j1()};aE.boxblur.prototype=new aE;
aE.boxblur.prototype.Ra=function(h,e){e[0]=h.Rds.v.val};aE.boxblur.prototype._P=function(h,e){h.Rds.v.val=e[0]};
aE.GsnB=function(){aE.call(this,"GsnB");this.hu=[new ci([12,56],.1,400,"px",1,!0)];this.j1()};aE.GsnB.prototype=new aE;
aE.Dila=function(){aE.call(this,"Dila");this.hu=[new ci([11,12,1],0,20,"px",0),new ci([12,56],0,400,"px",0,!0)];
this.j1()};aE.Dila.prototype=new aE;aE.MtnB=function(){aE.call(this,"MtnB");this.hu=[new en([12,15]),new ci([12,28],1,100," px")];
this.j1()};aE.MtnB.prototype=new aE;aE.RdlB=function(){aE.call(this,"RdlB");this.hu=[new ci([12,57],1,100),new ha([12,36],["Spin","Zoom"]),new ci("Position X",0,100,"%"),new ci("Position Y",0,100,"%")];
this.j1()};aE.RdlB.prototype=new aE;aE.RdlB.prototype.Ra=function(h,e){e[0]=h.Amnt.v;e[1]=["Spn","Zm"].indexOf(h.BlrM.v.BlrM);
e[2]=h.Cntr.v.Hrzn.v*100;e[3]=h.Cntr.v.Vrtc.v*100};aE.RdlB.prototype._P=function(h,e){h.Amnt.v=e[0];
h.BlrM.v.BlrM=["Spn","Zm"][e[1]];h.Cntr.v.Hrzn.v=e[2]/100;h.Cntr.v.Vrtc.v=e[3]/100};aE.am1(aE.RdlB.prototype);
aE.Dspl=function(){aE.call(this,"Dspl");this.hu=[new jV([6,36,3],["a","b"]),new ci([22,4,0],-100,100,"px"),new ci([22,4,1],-100,100,"px"),new jV([24,18,0],[[24,18,3],[24,18,2]])];
this.j1()};aE.Dspl.prototype=new aE;aE.Dspl.prototype.Ra=function(h,e,v){this.amb=[];this.iQ=[];var J=-1,m=v?v[0]:null;
if(m==null)m=this.ajo;else this.ajo=m;if(m)for(var T=0;T<m.length;T++){var d=m[T];this.amb.push(d.PY.trim());
this.iQ.push(d.mX);if(d.mX==h.DspF.v.pth)J=T}this.hu[0].VU(this.amb);e[0]=J==-1?0:J;e[1]=h.HrzS.v;e[2]=h.VrtS.v;
e[3]=["WrpA","RptE"].indexOf(h.UndA.v.UndA)};aE.Dspl.prototype._P=function(h,e){var v=this.ajo;if(this.iQ.length==0)return;
h.DspF.v.pth=this.iQ[e[0]];h.HrzS.v=e[1];h.VrtS.v=e[2];h.UndA.v.UndA=["WrpA","RptE"][e[3]];var J=v[e[0]];
J.pb();var m=J.pd[1],d=m.q,x=m._,j=B.U(m.$());B.hS(J.pd[0],j);var E=[x&255,x>>>8,0,0,d&255,d>>>8,0,0,3,0];
for(var L=0;L<2;L++)for(var T=0;T<j.length;T++)E.push(j[T]);for(var T=0;T<1e3;T++)E.push(0);h.DspD={t:"tdta",v:E};
h.EmbF={t:"bool",v:!0}};aE.Pnch=function(){aE.call(this,"Pnch");this.hu=[new ci([12,57],-100,100,"%")];
this.j1()};aE.Pnch.prototype=new aE;aE["Plr "]=function(){aE.call(this,"Plr ");this.hu=[new ha(null,["Rect to Polar","Polar to Rect"])];
this.j1()};aE["Plr "].prototype=new aE;aE.Rple=function(){aE.call(this,"Rple");this.hu=[new ci([12,57],-999,999),new jV([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.j1()};aE.Rple.prototype=new aE;aE["Shr "]=function(){aE.call(this,"Shr ");this.hu=[new eW(!0,!0),new jV([24,18,0],[[24,18,3],[24,18,2]])];
this.j1()};aE["Shr "].prototype=new aE;aE["Shr "].prototype.Ra=function(h,e){var v=new aJ(0,255/127,255/127,0,-2,128),J=B.t(h.ShrP.v);
B.CL.C(J,v);e[0]=J;e[1]=["WrpA","RptE"].indexOf(h.UndA.v.UndA)};aE["Shr "].prototype._P=function(h,e){var v=new aJ(0,255/127,255/127,0,-2,128);
v.ia();B.CL.C(e[0],v);h.ShrP.v=e[0];h.ShrE.v=e[0].length-1;h.UndA.v.UndA=["WrpA","RptE"][e[1]]};aE.Sphr=function(){aE.call(this,"Sphr");
this.hu=[new ci([12,57],-100,100),new jV([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.j1()};aE.Sphr.prototype=new aE;
aE.Sphr.prototype.Ra=function(h,e){e[0]=h.Amnt.v;e[1]=["Nrml","HrzO","VrtO"].indexOf(h.SphM.v.SphM)};
aE.Sphr.prototype._P=function(h,e){h.Amnt.v=e[0];h.SphM.v.SphM=["Nrml","HrzO","VrtO"][e[1]]};aE.Dthr=function(){aE.call(this,"Dthr");
this.hu=[new jV("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new ha("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.j1()};aE.Dthr.prototype=new aE;aE.Dthr.prototype.Ra=function(h,e){e[0]=h.Plte.v;e[1]=h.Mthd?h.Mthd.v:1};
aE.Dthr.prototype._P=function(h,e){h.Plte.v=e[0];h.Mthd.v=e[1]};aE.Part=function(){aE.call(this,"Part");
this.hu=[new ci([15,5,1],0,100,"%"),new ci([12,14,0],1,50,"px"),new ci([12,34],0,100,"%"),new ci([12,2],10,1e3,"%"),new iE(!0),new ci("Time",0,1,null,3),new ci("Turbulence",0,100,"%"),new hJ("Blink"),new hJ("Fall")];
this.j1([4])};aE.Part.prototype=new aE;aE.Part.prototype.Ra=function(h,e){e[0]=h.Cont.v;e[1]=h.Size.v;
e[2]=h.Dpth.v;e[3]=h.Brgh.v;e[4]=h.Clr.v;e[5]=h.Time.v;e[6]=h.Turb.v;e[7]=h.Blnk.v;e[8]=h.Fall.v};aE.Part.prototype._P=function(h,e){h.Cont.v=e[0];
h.Size.v=e[1];h.Dpth.v=e[2];h.Brgh.v=e[3];h.Clr.v=e[4];h.Time.v=e[5];h.Turb.v=e[6];h.Blnk.v=e[7];h.Fall.v=e[8]};
aE.Twrl=function(){aE.call(this,"Twrl");this.hu=[new ci([12,15],-999,999)];this.j1()};aE.Twrl.prototype=new aE;
aE.Wave=function(){aE.call(this,"Wave");this.aEj=[1,2,3,4];this.hu=[new ci("Number of Generators",1,100),new bQ("Min Length",1,999),new bQ("Max Length",1,999),new bQ("Min Ampl.",1,999),new bQ("Max Ampl.",1,999),new bQ("Scale X",1,100,"%"),new bQ("Scale Y",1,100,"%"),new ha([12,44],["Sine","Triangle",[12,93,3]]),new jV([24,18,0],[[24,18,3],[24,18,2]])];
this.j1()};aE.Wave.prototype=new aE;aE.ZgZg=function(){aE.call(this,"ZgZg");this.hu=[new ci([12,57],-100,100),new ci("Ridges",0,20),new jV([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.j1()};aE.ZgZg.prototype=new aE;aE.surfaceBlur=function(){aE.call(this,"surfaceBlur");this.hu=[new ci([12,56],1,200," px"),new ci([4,13],1,255," px")];
this.j1()};aE.surfaceBlur.prototype=new aE;aE.surfaceBlur.prototype.Ra=function(h,e){e[0]=h.Rds.v.val;
e[1]=h.Thsh.v};aE.surfaceBlur.prototype._P=function(h,e){h.Rds.v.val=e[0];h.Thsh.v=e[1]};aE.AdNs=function(){aE.call(this,"AdNs");
this.hu=[new ci([12,57],0,200," %"),new jV([12,58],[[12,59,1],[12,59,0]]),new hJ([12,60])];this.j1()};
aE.AdNs.prototype=new aE;aE.DstS=function(){aE.call(this,"DstS");this.hu=[new ci([12,56],1,200," px"),new ci([4,13],1,255," px")];
this.j1()};aE.DstS.prototype=new aE;aE["Mdn "]=function(){aE.call(this,"Mdn ");this.hu=[new ci([12,56],1,200," px")];
this.j1()};aE["Mdn "].prototype=new aE;aE["Mdn "].prototype.Ra=function(h,e){e[0]=h.Rds.v.val};aE["Mdn "].prototype._P=function(h,e){h.Rds.v.val=e[0]};
aE.ClrH=function(){aE.call(this,"ClrH");this.hu=[new ci([12,56],4,100," px")];for(var T=1;T<4;T++)this.hu.push(new ci("Angle "+T,0,90," \xB0"));
this.j1()};aE.ClrH.prototype=new aE;aE.ClrH.prototype.Ra=function(h,e){e[0]=h.Rds.v;for(var T=1;T<4;
T++)e[T]=h["Ang"+T].v};aE.ClrH.prototype._P=function(h,e){h.Rds.v=e[0];for(var T=1;T<4;T++)h["Ang"+T].v=e[T]};
aE.ClrH.prototype.S=function(){var h=this.hu;h[0].S();for(var T=1;T<4;T++)h[T].Ao(bj.get([12,15])+" "+T)};
aE.Crst=function(){aE.call(this,"Crst");this.hu=[new ci([12,61],3,100," px")];this.j1()};aE.Crst.prototype=new aE;
aE.Crst.prototype.Ra=function(h,e){e[0]=h.ClSz.v};aE.Crst.prototype._P=function(h,e){h.ClSz.v=e[0]};
aE.Mztn=function(){aE.call(this,"Mztn");this.hu.push(new jV([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.iQ="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.j1()};aE.Mztn.prototype=new aE;
aE.Mztn.prototype.Ra=function(h,e){e[0]=this.iQ.indexOf(h.MztT.v.MztT)};aE.Mztn.prototype._P=function(h,e){h.MztT.v.MztT=this.iQ[e[0]]};
aE["Msc "]=function(){aE.call(this,"Msc ");this.hu=[new ci([12,61],2,200," px")];this.j1()};aE["Msc "].prototype=new aE;
aE["Msc "].prototype.Ra=function(h,e){e[0]=h.ClSz.v.val};aE["Msc "].prototype._P=function(h,e){h.ClSz.v.val=e[0]};
aE.Pntl=function(){aE.call(this,"Pntl");this.hu=[new ci([12,61],3,100," px")];this.j1()};aE.Pntl.prototype=new aE;
aE.Pntl.prototype.Ra=function(h,e){e[0]=h.ClSz.v};aE.Pntl.prototype._P=function(h,e){h.ClSz.v=e[0]};
aE.smartSharpen=function(){aE.call(this,"smartSharpen");this.hu=[new ci([12,57],1,200,"%"),new ci([12,56],0,200,"px",1,!0)];
this.j1()};aE.smartSharpen.prototype=new aE;aE.smartSharpen.prototype.Ra=function(h,e){e[0]=h.Amnt?h.Amnt.v.val:200;
e[1]=h.Rds?h.Rds.v.val:1};aE.smartSharpen.prototype._P=function(h,e){h.Amnt.v.val=e[0];h.Rds.v.val=e[1]};
aE.UnsM=function(){aE.call(this,"UnsM");this.hu=[new ci([12,57],1,200," %"),new ci([12,56],.1,400,"px",1,!0),new ci([4,13],0,255," ")];
this.j1()};aE.UnsM.prototype=new aE;aE.HghP=function(){aE.call(this,"HghP");this.hu=[new ci([12,56],.1,400,"px",1,!0)];
this.j1()};aE.HghP.prototype=new aE;aE.HsbP=function(){aE.call(this,"HsbP");this.hu=[new ha("Input",["RGB","HSB","HSL"]),new ha("Output",["RGB","HSB","HSL"])];
this.j1()};aE.HsbP.prototype=new aE;aE["Mxm "]=function(){aE.call(this,"Mxm ");this.hu=[new ci([12,56],.1,200," px",1,!0),new jV([12,76,1],[[12,93,3],"Circle"])];
this.j1()};aE["Mxm "].prototype=new aE;aE["Mnm "]=function(){aE.call(this,"Mnm ");this.hu=[new ci([12,56],.1,200," px",1,!0),new jV([12,76,1],[[12,93,3],"Circle"])];
this.j1()};aE["Mnm "].prototype=new aE;aE.Ofst=function(){aE.call(this,"Ofst");this.hu=[new ci([22,4,0],-1024,1024," px"),new ci([22,4,1],-1024,1024," px"),new jV([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.j1()};aE.Ofst.prototype=new aE;aE.Kale=function(){aE.call(this,"Kale");this.hu=[new bQ("Mirrors",2,20),new bQ([12,15],0,360,"\xB0")];
this.j1()};aE.Kale.prototype=new aE;aE.Kale.prototype.Ra=function(h,e){e[0]=h.Mirr.v;e[1]=h.MRot.v};
aE.Kale.prototype._P=function(h,e){h.Mirr.v=e[0];h.MRot.v=e[1]};aE.Rept=function(){aE.call(this,"Rept");
this.hu=[new bQ([12,38],1,300," %"),new bQ("Row Shift",-50,50," %"),new bQ("Space X",-99,200," %"),new bQ("Space Y",-99,200," %"),new hJ([4,16,2]),new en([12,15])];
this.j1()};aE.Rept.prototype=new aE;aE.Rept.prototype.Ra=function(h,e){e[0]=h.Scl.v.val;e[1]=h.Rsft.v.val;
e[2]=h.SpcX.v.val;e[3]=h.SpcY.v.val;e[4]=h.SpcC.v;e[5]=[h.Angl.v]};aE.Rept.prototype._P=function(h,e){h.Scl.v.val=e[0];
h.Rsft.v.val=e[1];h.SpcX.v.val=e[2];h.SpcY.v.val=e[3];h.SpcC.v=e[4];h.Angl.v=e[5][0];return h};aE.Ctoa=function(){aE.call(this,"Ctoa");
this.hu=[new cE([13,0]),new iE(!0),new ci(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new ci(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.j1()};aE.Ctoa.prototype=new aE;aE.Ctoa.prototype.Ra=function(h,e){e[0]=h.Clr.v;e[1]=h.Trsp.v.val;
e[2]=h.Opct.v.val};aE.Ctoa.prototype._P=function(h,e){h.Clr.v=e[0];h.Trsp.v.val=e[1];h.Opct.v.val=e[2]};
aE.LqFy=function(){aE.call(this,"LqFy");this.o9=!1;this.pZ=!1;this.FQ=null;this.a4e=null;this.I=0;this.ZJ=-1;
this.F={rX:[[{I:{id:0,name:[24,1,0,1,0],FL:"liq/smudge"}}],[{I:{id:1,name:[24,1,0,1,1],FL:"liq/reconstruct"}}],[{I:{id:2,name:[24,1,0,1,2],FL:"liq/smooth"}}],[{I:{id:3,name:[24,1,0,1,3],FL:"liq/twirl"}}],[{I:{id:4,name:[24,1,0,1,4],FL:"liq/shrink"}}],[{I:{id:5,name:[24,1,0,1,5],FL:"liq/blow"}}],[{I:{id:6,name:[24,1,0,1,6],FL:"liq/pleft"}}],[{I:{id:7,name:"Hand",FL:"tools/hand"}}],[{I:{id:8,name:"Zoom In",FL:"zoomIn"}}],[{I:{id:9,name:"Zoom Out",FL:"zoomOut"}}]],keys:[]};
this.BU=new ic(this.F,!1);this.BU.nr(0);this.BU.P(k.E.u,this.Ot,this);this.c_=a2.EB();this.xD=null;this.Uh=[];
this.Zi=-1;this.x4=null;this.a8j=null;this.Hw=null;this.DX=null;this.j9=null;var h=V.k("div","flexrow");
this.I1=h;this.Z.appendChild(h);h.appendChild(this.BU.Z);this.view=new fJ(!0);this.view.Kt(100,100);
this.view.P("mousedown",this.wa,this);this.view.P("mousemove",this.$X,this);this.view.P("mouseup",this.sd,this);
this.view.P("zoom",this.ZT,this);h.appendChild(this.view.Z);var e=V.k("div","form");h.appendChild(e);
this.VN=e;e.style.width="230px";this.fA=[new ci([12,14,0],0,1e3,null,!1,!0),new ci([12,74],0,100,null,!1,!1),new ci([12,84],0,100,null,!1,!1),new hJ([12,46]),new ci([12,0],0,100,null,!1,!1),new hJ([24,18,5])];
var v=this.c_.Brsh.v;v.Dmtr.v.val=100;var J=[100,50,100,!1,100,!0];for(var T=0;T<this.fA.length;T++){var m=this.fA[T];
m.e(J[T]);if(T==4)m.VZ();m.P(k.E.f,this.ao8,this);e.appendChild(m.Z)}var d=this.a4I=new eA([1,12,2],!0,null,!0);
d.P("click",this.xp,this);e.appendChild(d.Z);this.ao7=this.v6.bind(this);this.Ba=new fx;this.Ba.Z=V.k("div","floatcont");
this.uc=new eA("Menu",!1,null,!0);var x=this.uc.Z;V.v(x,"position:absolute; right:13px; top:47px");V.La(x,this.akl.bind(this))};
aE.LqFy.prototype=new aE;aE.LqFy.prototype.mk=function(){return!0};aE.LqFy.prototype.hw=function(h){this.VN.appendChild(h)};
aE.LqFy.prototype.akl=function(h){if(V.gl(this.Ba.Z))return;h.stopPropagation();var e=this.uc.Z.getBoundingClientRect();
this.Ba.Z.appendChild(this.VN);var v=new g3(k.E.u,!0);v.data={V:k.l.Eu,nB:this.Ba,x:e.right+e.width-290,y:e.top+e.height};
this.a(v)};aE.LqFy.prototype.lK=function(h){this.o9=h.r(dW.B2);var e=c.Bt.v1(this.c_,h);if(e!=null){this.c_=e;
this.ZT();this.fA[0].e(e.Brsh.v.Dmtr.v.val)}else if(h.r(dW.Dd)&&h.r(dW.ZB)){var v=this.Uh;if(h.r(dW.l$)){if(this.Zi+1<v.length)this.Zi++}else if(this.Zi>0)this.Zi--;
this.xD.map=v[this.Zi].slice(0);this.FN(null)}else if(this.I<=6)this.view.lK(h);var J=this.I,m=-1,d=h.r(dW.B2);
if(d&&this.ZJ==-1){if(J==0)m=1;if(J==4)m=5;if(J==5)m=4;if(m!=-1)this.ZJ=J}if(!d&&this.ZJ!=-1){m=this.ZJ;
this.ZJ=-1}if(m!=-1){this.I=m;this.BU.nr(this.I)}};aE.LqFy.prototype.Ot=function(h){if(h.data.V==k.l.px){var e=this.I=h.data.I;
this.BU.nr(this.I);this.view.lK(e>6?fJ.$I(e-7):new dW)}};aE.LqFy.prototype.ao8=function(h){var e=h.currentTarget,T=this.fA.indexOf(e),v=this.c_.Brsh.v;
if(T==0){v.Dmtr.v.val=e.j();this.ZT()}this.fA[4].Es(this.fA[3].j());if(T>2)this.FN(null)};aE.LqFy.prototype.wX=function(){var h=this.Uh;
this.Zi++;h[this.Zi]=this.xD.map.slice(0);while(h.length>this.Zi+1)h.pop();while(h.length>50){h=h.slice(1);
this.Zi--}};aE.LqFy.prototype.wa=function(h){this.FQ=this.view.EI();this.a4e=new fq(0,0);this.pZ=!0;
window.requestAnimationFrame(this.ao7)};aE.LqFy.prototype.$X=function(h){var e=this.view.EI(),v=new fq(e.x-this.FQ.x,e.y-this.FQ.y);
if(this.I==0||this.I==6)this.axe(v);this.FQ=e};aE.LqFy.prototype.sd=function(h){this.wX();this.pZ=!1};
aE.LqFy.prototype.v6=function(h){if(this.I!=0&&this.I!=6)this.axe(new fq(0,0));if(this.pZ)window.requestAnimationFrame(this.ao7)};
aE.LqFy.prototype.axe=function(h){var e=this.xD,v=e.VA/this.x4.q,J=this.FQ,m=this.c_.Brsh.v,d=m.Dmtr.v.val,x=Date.now(),j=e.VA,E=e.qw,L=Math.sqrt(h.x*h.x+h.y*h.y),p=Math.max(1,Math.ceil(L/2)),Z=h.x/p,o=h.y/p,u=J.O(),N=this.I,M=this.fA[1].j()/100,O=this.fA[2].j()/100,F=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],W=F[N*2],f=F[N*2+1],$=(1-M)*W+M*f,H=d*v/2;
for(var T=0;T<p;T++){var A=[];u.x+=Z;u.y+=o;B.MF.aa6(e.map,j,E,N,u.x*v,u.y*v,H,M,O,Z*v,o*v,A,this.o9);
B.MF.aoG(j,E,e.map,A,2*$*O)}var G=new fP(0,0,j,E),l=new fP(J.x*v,J.y*v,0,0);l.vY(d*v*.5,d*v*.5);var K=l.O();
K.offset(h.x*v,h.y*v);l=l.R$(K);var U=new fP(l.x/v,l.y/v,l.q/v,l._/v);U=B.w.jg(U).UP(this.x4);this.fA[5].e(!0);
this.FN(U)};aE.LqFy.prototype.ZT=function(){var h=d2.Mh(this.c_,null,this.view.NN().e4);this.view.Zr(h)};
aE.LqFy.prototype.e=function(h,e,v,J,m){v=v.O();if(e==null)return;if(!J.lS(v)){var d=v.R$(J),x=B.U(d.$()*4);
B.YZ(e,v,x,d);e=x;v=d;var j=B.U(d.$()*4);B.YZ(m,J,j,d);m=j}v.x=v.y=0;this.Hw=e;this.a8j=m;this.j9=e.slice(0);
this.DX=e.slice(0);this.x4=v;this.xD=eV.kq(new Uint8Array(h.LqMe.v).buffer);var E=v.q,L=v._;if(this.xD.VA/E<.22){this.xD={VA:Math.floor(E/4),qw:Math.floor(L/4)};
this.xD.map=new Float32Array(this.xD.VA*this.xD.qw*2)}this.Uh=[];this.Zi=-1;this.wX();this.FN(null);
this.view.BG(!0);this.ZT()};aE.LqFy.prototype.j=function(){var h=f8.UX("LqFy"),e=new Uint8Array(eV.el(this.xD)),v=[];
for(var T=0;T<e.length;T++)v.push(e[T]);h.LqMe.v=v;return h};aE.LqFy.prototype.Kt=function(h,e){this.BU.Kt(h,e);
var v=this.uc.Z,J=this.VN;this.I1.appendChild(J);this.I1.appendChild(v);if(h>450&&h-e>200){J.style.marginLeft="1em";
this.I1.removeChild(v);this.view.Kt(h-238-45,e)}else{J.style.marginLeft="";this.I1.removeChild(J);this.view.Kt(h-40,e)}};
aE.LqFy.prototype.S=function(){this.BU.S();this.a4I.S();for(var T=0;T<this.fA.length;T++)this.fA[T].S()};
aE.LqFy.prototype.xp=function(){this.xD.map.fill(0);this.wX();this.FN(null)};aE.LqFy.prototype.FN=function(h){var e=this.x4,v=this.Hw,J=this.j9,m=this.xD;
if(this.fA[5].j())B.MF.Fs(v,this.DX,e.q,e._,h,m.map,m.VA,m.qw,0);else this.DX.set(v);if(this.fA[3].rN()){B.YZ(this.a8j,e,J,e,h?h:e);
B.B.lU("norm",this.DX,e,J,e,h?h:e,this.fA[4].j()/100)}else B.N7(this.DX,J);this.view.e([{Ei:e,data:J.buffer}])};
aE.GEfc=function(){aE.call(this,"GEfc");this.zy=0;this.lO=0;this.Hw=null;this.j9=null;this.x4=null;this.H=null;
this.YH=null;this.C_=0;this.PT=null;this.aZ=null;var h=V.k("div","flexrow");this.I1=h;this.Z.appendChild(h);
this.view=new fJ(null);this.view.Kt(100,100);h.appendChild(this.view.Z);this.np="";this.dU=270;var e=this.IC=V.k("div","form scrollable");
h.appendChild(e);V.v(e,"width:"+this.dU+"px;");var v=this.Qg=V.k("div","form");h.appendChild(v);V.v(v,"width:230px;  margin:0 10px");
this.IM={};for(var J in aS.names){var m=new aE.GEfc.$A(J);m.parent=this;this.IM[J]=m;m.P(k.E.f,this.av9,this)}this.q4=!0;
this.uc=new eA("Menu",null,null,!0);this.uc.P("click",this.a2$,this);h.appendChild(this.uc.Z);this.zX=new eA(">>",null,null,!0);
this.zX.P("click",this.an_,this);v.appendChild(this.zX.Z);this.$n=V.k("div");V.v(this.$n,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
v.appendChild(this.$n);this.Um=V.k("div");this.Um.style.minHeight="14em";this.Um.style.marginBottom="1em";
v.appendChild(this.Um);this.uT=V.k("div","lpbody scrollable");this.A1=V.k("div","lpfoot");v.appendChild(this.uT);
v.appendChild(this.A1);this.P("click",this.aF3,this);this.Ol=[];gM.hM([[5,3],[5,4]],this.Ol,this.A1,this.xR.bind(this))};
aE.GEfc.prototype=new aE;aE.GEfc.prototype.mk=function(){return!0};aE.GEfc.prototype.hw=function(h){this.$n.appendChild(h)};
aE.GEfc.prototype.fa=function(h,e){this.H=h;if(h.kc==h.kF)alert("Your foreground and a background color are identical.",4e3)};
aE.GEfc.prototype.an_=function(h){var e=this.IC.style.display!="none";this.IC.style.display=e?"none":"";
this.zX.Ao(e?"<<":">>");this.Kt()};aE.GEfc.prototype.a2$=function(h){this.q4=!this.q4;this.Kt()};aE.GEfc.prototype.Kt=function(h,e){var v=this.IC.style.display!="none";
if(h!=null){this.zy=h;this.lO=e;if(h<1e3&&v||h>=1e3&&!v){this.an_();v=!v}this.q4=h>600}else{h=this.zy;
e=this.lO}var J=this.q4?250+(v?this.dU:0):0;if(V.gl(this.Qg)&&!this.q4){this.I1.removeChild(this.IC);
this.I1.removeChild(this.Qg)}if(!V.gl(this.Qg)&&this.q4){this.I1.appendChild(this.IC);this.I1.appendChild(this.Qg)}this.IC.style.height=e+"px";
this.view.Kt(h-J,e);this.uT.style.height=e-Math.max(this.Um.getBoundingClientRect().height,186)-96+"px";
V.v(this.uc.Z,"position:absolute; top:46px;  right:"+(J+16)+"px")};aE.GEfc.prototype.a2Z=function(){var h=gI.KF.get("img/beach",!0)[0],e=h.Ei,v=this.IC,J=Math.floor(V.A_()*(this.dU-40)/3),m=~~(J*.7),d=new fP(0,0,J,m),x=B.U(J*m*4),j=x.slice(0),E=Math.round(10*V.A_()),L=new ImageData(new Uint8ClampedArray(j.buffer),J,m);
B.YZ(new Uint8Array(h.data),e,x,new fP(Math.round((e.q-J)/2),Math.round((e._-m)/2),J,m));var p=V.k("canvas"),Z=p.getContext("2d");
p.width=J;p.height=m+Math.round(E*1.5);Z.font=E+"px sans-serif";this.PT={};V.H5(v);var o=this.aBA.bind(this);
for(var T=0;T<aS.tx.length;T++){var u=aS.tx[T],N=V.k("div");v.appendChild(N);V.v(N,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
N.textContent=bj.get(u);for(var M in aS.names){var O=aS.names[M];if(O[0]!=T)continue;aS.$a(M,{R:d,buffer:x},aS.UX(M),{n:0,i:0,b:0},{n:255,i:255,b:255},{R:d,buffer:j},{});
Z.fillStyle="black";Z.fillRect(0,0,500,500);Z.putImageData(L,0,0);var F=bj.get(O[1]);Z.fillStyle="white";
Z.fillText(F,(J-Z.measureText(F).width)/2,m+Math.round(E*1.1));var W=V.k("div");v.appendChild(W);V.v(W,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
W.addEventListener("click",o,!1);var N=V.k("img");W.appendChild(N);N.setAttribute("src",p.toDataURL());
V.v(N,"width:"+J/V.A_()+"px; margin-bottom:0px;");this.PT[M]=W}}};aE.GEfc.prototype.aBA=function(h){var e;
for(var v in this.PT)if(this.PT[v]==h.currentTarget)this.np=v;this.av9()};aE.GEfc.prototype.xR=function(h){var e=gM.S1(this.Ol,h),v=this.YH.GEfs.v,J=v[this.C_].v;
if(e==0){v.push(B.t(v[this.C_]));this.C_=v.length-1}else if(v.length>1){v.splice(this.C_,1);if(this.C_==v.length)this.C_--}this.eC();
this.FN()};aE.GEfc.prototype.av9=function(h){var e=this.np,v;if(h==null)v=aS.UX(e);else v=this.IM[e].j();
this.YH.GEfs.v[this.C_].v=v;this.eC();this.FN()};aE.GEfc.prototype.e=function(h,e,v,J,m){var d=bj.get([24,0]);
if(this.PT==null||d!=this.aZ)this.a2Z();this.aZ=d;h=this.YH=B.t(h);if(h.GEfs==null)h=this.YH={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:h}]}};
var x=h.GEfs.v;for(var T=0;T<x.length;T++)if(x[T].v.GELv==null)x[T].v.GELv={t:"bool",v:!0};this.C_=x.length-1;
this.eC();v=v.O();if(e==null)return;if(!J.lS(v)&&aS.L4(h).x!=0){var j=v.R$(J),E=B.U(j.$()*4);B.YZ(e,v,E,j);
e=E;v=j}v.x=v.y=0;this.Hw=e;this.j9=e.slice(0);this.x4=v;this.FN();this.view.BG()};aE.GEfc.prototype.aF3=function(h){var e=h.data,T=e.yl,v=this.YH.GEfs.v;
if(e.Lc){v[T].v.GELv.v=!v[T].v.GELv.v;this.FN()}else this.C_=T;this.eC()};aE.GEfc.prototype.eC=function(){var h=this.YH.GEfs.v,e=h[this.C_].v,v=e.GEfk.v.GEft,J=this.Um;
if(aS.names[v]==null){alert("Unsupported gallery filter");V.H5(J)}else{this.np=v;for(var m in this.PT)V.t7(this.PT[m],"selected");
V.zZ(this.PT[v],"selected");var d=this.IM[v];d.e(e);if(J.firstChild!=d.Z){V.H5(J);J.appendChild(d.Z)}}var x=[];
for(var T=0;T<h.length;T++){var j=h[T].v,E=aS.names[j.GEfk.v.GEft],L=new fz(T,!0,!0,null,E?E[1]:"Filter",T==this.C_,j.GELv.v);
L.parent=this;x.push(L.Z)}V.H5(this.uT);x.reverse();for(var T=0;T<x.length;T++)this.uT.appendChild(x[T]);
this.Kt()};aE.GEfc.prototype.j=function(){return B.t(this.YH)};aE.GEfc.prototype.FN=function(h){var e=this.x4,v=this.Hw,J=this.j9,m=this.np,d=this.YH,x=this.H;
function j(E){return{n:E>>>16,i:E>>>8&255,b:E&255}}f8.$a("GEfc",{R:this.x4,buffer:this.Hw},d,j(x.kc),j(x.kF),{R:this.x4,buffer:this.j9},null);
this.view.e([{Ei:e,data:J.buffer}])};aE.GEfc.prototype.S=function(){for(var h in this.IM)this.IM[h].S();
gM.ME(this.Ol,["lrs/newlayer","lrs/bin"])};aE.GEfc.$A=function(h){fx.call(this);this.Wj=h;this.Z=V.k("div");
this.Mb={};var e=aS.UX(h);for(var v in e){var J=null;if(v=="__name"||v=="classID"||v=="GEfk"||v=="GELv"||["FlRs"].indexOf(v)!=-1)continue;
else if(v=="EdgW")J=new ci("Edge Width",1,14);else if(v=="EdgB")J=new ci("Edge Brightness",0,h=="AccE"?50:20);
else if(v=="Smth")J=new ci([19,3,3],1,h=="Stmp"?50:15);else if(v=="ClSz")J=new ci([12,61],3,100);else if(v=="BrdT")J=new ci([7,9],1,20);
else if(v=="HghS")J=new ci([12,64],0,20);else if(v=="HlSz")J=new ci([12,14,0],1,15);else if(v=="Cntr")J=new ci([12,3,0],0,h=="WtrP"?100:50);
else if(v=="Shrp")J=new ci("Sharpness",0,40);else if(v=="SprR")J=new ci("Spray Radius",0,25);else if(v=="LgDr")J=new ci("Light/Dark Balance",0,h=="Stmp"?50:100);
else if(v=="Drkn")J=new ci("Darkness",1,50);else if(v=="Dstr")J=new ci("Distortion",0,20);else if(v=="Scln")J=new ci([12,38],50,200);
else if(v=="Rlf")J=new ci("Relief",0,h=="Ptch"||h=="NtPr"?25:50);else if(v=="ChAm")J=new ci("Thickness",1,7);
else if(v=="Pncl")J=new ci([19,2,5],1,30);else if(v=="StrP")J=new ci("Stroke Pressure",0,15);else if(v=="PprB")J=new ci("Paper Brightness",0,50);
else if(v=="BrsS")J=new ci("Brush Size",0,10);else if(v=="BrsD")J=new ci("Brush Detail",0,10);else if(v=="Txtr")J=new ci([12,67],1,3);
else if(v=="Grn")J=new ci("Grain",0,20);else if(v=="HghA")J=new ci("Highlight Area",0,20);else if(v=="Intn")J=new ci("Intensity",0,10);
else if(v=="Brgh")J=new ci("Glow Brightness",0,h=="WtrP"?100:50);else if(v=="StrS")J=new ci("Stroke Size",1,50);
else if(v=="StDt")J=new ci("Stroke Detail",1,3);else if(v=="Sftn")J=new ci("Softness",0,10);else if(v=="EdgT")J=new ci("Edge Thickness",0,10);
else if(v=="EdgI")J=new ci("Edge Intensity",0,10);else if(v=="Pstr")J=new ci("Posterization",0,6);else if(v=="Dfnt")J=new ci("Definition",0,25);
else if(v=="TxtC")J=new ci("Texture Coverage",0,50);else if(v=="ShdI")J=new ci("Shadow Intensity",0,10);
else if(v=="DrcB")J=new ci("Direction Balance",0,100);else if(v=="Strg")J=new ci([12,64],1,3);else if(v=="Blnc")J=new ci("Balance",0,10);
else if(v=="BlcI")J=new ci("Black Intensity",0,10);else if(v=="WhtI")J=new ci("White Intensity",0,10);
else if(v=="DrkI")J=new ci("Dark Intensity",0,50);else if(v=="LghI")J=new ci("Light Intensity",0,50);
else if(v=="StrW")J=new ci("Stroke Width",3,15);else if(v=="Grns")J=new ci("Graininess",0,h=="NtPr"?20:10);
else if(v=="GlwA")J=new ci("Glow Amount",0,20);else if(v=="ClrA")J=new ci("Clear Amount",0,20);else if(v=="ChrA")J=new ci("Charcoal Area",0,20);
else if(v=="ChlA")J=new ci("Chalk Area",0,20);else if(v=="FrgL")J=new ci("Foreground Level",1,15);else if(v=="BckL")J=new ci("Background Level",1,15);
else if(v=="WhtL")J=new ci("Background Level",0,50);else if(v=="BlcL")J=new ci("Foreground Level",0,50);
else if(v=="ImgB")J=new ci("Image Balance",0,50);else if(v=="Dnst")J=new ci([12,74],0,50);else if(v=="FbrL")J=new ci("Fiber Length",3,50);
else if(v=="CrcS")J=new ci("Crack Spacing",2,100);else if(v=="CrcD")J=new ci("Crack Depth",0,10);else if(v=="CrcB")J=new ci("Crack Brightness",0,10);
else if(v=="TlSz")J=new ci("Tile Size",2,100);else if(v=="GrtW")J=new ci("Grout Width",1,15);else if(v=="LghG")J=new ci("Lighten Grout",0,10);
else if(v=="SqrS")J=new ci("Square Size",0,10);else if(v=="RplS")J=new ci("Ripple Size",1,15);else if(v=="RplM")J=new ci("Ripple Magnitude",0,20);
else if(v=="NmbL")J=new ci("Number of Levels",2,8);else if(v=="EdgS")J=new ci("Edge Simplicity",0,10);
else if(v=="EdgF")J=new ci("Edge Fidelity",1,3);else if(v=="Sz")J=h=="NGlw"?new ci("Glow Size",-24,24):new ci("Brush Size",1,50);
else if(v=="Dtl")J=h=="Chrc"?new ci("Detail",0,5):new ci("Detail",1,15);else if(v=="StrL")J=h=="InkO"?new ci("Stroke Length",1,50):new ci("Stroke Length",0,20);
else if(v=="TxtT")J=new jV([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(v=="BrsT")J=new jV("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(v=="Grnt")J=new jV("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(v=="SDir")J=new jV([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(v=="ScrT")J=new jV([12,62],["Circle","Dot",[10,35]]);
else if(v=="LghD"||v=="LghP")J=new jV("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(v=="Clr")J=new iE("Glow Color");else if(v=="InvT")J=new hJ([4,11]);else console.log(v);J.P(k.E.f,this.ow,this);
J.parent=this;this.Mb[v]=J;this.Z.appendChild(J.Z)}};aE.GEfc.$A.prototype=new fx;aE.GEfc.$A.prototype.ow=function(h){this.a(new g3(k.E.f,!1))};
aE.GEfc.azK="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
aE.GEfc.$A.prototype.e=function(h){for(var e in this.Mb){var v;if(aE.GEfc.azK.indexOf(e)!=-1)v=h[e].v;
else if(e=="TxtT")v=aS.ZY.indexOf(h[e].v[e]);else if(e=="BrsT")v=aS.aw8.indexOf(h[e].v[e]);else if(e=="LghD")v=aS.lH.indexOf(h[e].v[e]);
else if(e=="LghP")v=aS.ds.indexOf(h[e].v[e]);else if(e=="Grnt")v=aS.dK.indexOf(h[e].v[e]);else if(e=="ScrT")v=aS.uI.indexOf(h[e].v[e]);
else if(e=="SDir")v=aS.L8.indexOf(h[e].v.StrD);this.Mb[e].e(v)}};aE.GEfc.$A.prototype.j=function(){var h=aS.UX(this.Wj);
for(var e in this.Mb){var v=this.Mb[e].j();if(aE.GEfc.azK.indexOf(e)!=-1)h[e].v=v;else if(e=="TxtT")h[e].v[e]=aS.ZY[v];
else if(e=="BrsT")h[e].v[e]=aS.aw8[v];else if(e=="LghD")h[e].v[e]=aS.lH[v];else if(e=="LghP")h[e].v[e]=aS.ds[v];
else if(e=="Grnt")h[e].v[e]=aS.dK[v];else if(e=="ScrT")h[e].v[e]=aS.uI[v];else if(e=="SDir")h[e].v.StrD=aS.L8[v]}return h};
aE.GEfc.$A.prototype.S=function(){for(var h in this.Mb)this.Mb[h].S()};aE["Adobe Camera Raw Filter"]=function(h){aE.call(this,"Adobe Camera Raw Filter");
var e=this.Z;this.afj=h;this.na=null;this.z_=null;this.N$=1e3;this.R9=null;this.TW=null;V.zZ(e,"flexrow");
var v=V.k("div"),J=V.k("div","padded");e.appendChild(v);e.appendChild(J);this.g5=new fJ;this.g5.P("zoom",this.FN,this);
v.appendChild(this.g5.Z);this.nN=new kU(225);this.nN.Vb(4);J.appendChild(this.nN.Z);this.ol=V.k("div");
V.v(this.ol,"width:18em;");J.appendChild(this.ol);this.xt=new cE("Hi",!0);this.ol.appendChild(this.xt.Z);
this.w6=V.k("div","scrollable");this.ol.appendChild(this.w6);this.Mb=[new ci("Temperature",-100,100),new ci("Tint",-100,100),new ci([4,3],-4,4,null,!0),new ci([12,3,0],-100,100),new ci([4,4],-100,100),new ci([12,9],-100,100)];
this.km="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var T=0;T<this.Mb.length;T++){var m=this.Mb[T];
m.e(0);m.P(k.E.f,this.FN,this);this.w6.appendChild(m.Z);if(T==1||T==3)this.w6.appendChild(V.k("hr"))}};
aE["Adobe Camera Raw Filter"].prototype=new aE;aE["Adobe Camera Raw Filter"].prototype.mk=function(){return!0};
aE["Adobe Camera Raw Filter"].prototype.hw=function(h){this.ol.appendChild(h)};aE["Adobe Camera Raw Filter"].prototype.fa=function(h,e){this.nN.Y_(i4.je[h.YC]["--text-color"])};
aE["Adobe Camera Raw Filter"].prototype.e=function(h,e,v,J,m){this.YH=h;var d=v.q,x=v._,j=d*x;this.xt.e(d+" x "+x+", "+(d*x/1e6).toFixed(1)+" MPx");
this.x4=v;this.R9=new Float32Array(d*x*3);this.TW=new Uint8Array(d*x*4);this.TW.fill(255);if(e instanceof Float32Array)this.na=e;
else{var E=this.na=new Float32Array(d*x*3);for(var T=0;T<j;T++){var L=T*3,p=T*4;E[L+0]=e[p+0]*(1/255);
E[L+1]=e[p+1]*(1/255);E[L+2]=e[p+2]*(1/255)}}this.z_=[{su:this.na,R:v.O()}];this.N$=1e3;var Z=this.na;
while(d>1&&x>1){var o=d,u=o*3;d=d>>>1;x=x>>>1;var N=Z,Z=new Float32Array(d*x*3);this.z_.push({su:Z,R:new fP(0,0,d,x)});
for(var M=0;M<x;M++)for(var O=0;O<d;O++){var L=(M*d+O)*3,F=(M*2*o+O*2)*3,W=F+u;Z[L]=.25*(N[F]+N[F+3]+N[F+u]+N[F+u+3]);
Z[L+1]=.25*(N[F+1]+N[F+4]+N[F+u+1]+N[F+u+4]);Z[L+2]=.25*(N[F+2]+N[F+5]+N[F+u+2]+N[F+u+5])}}var f=this.km;
for(var T=0;T<f.length;T++){var $=f[T];this.Mb[T].e(h[$]?h[$].v:0)}this.g5.e([{Ei:v,data:this.TW.buffer}]);
this.g5.BG();this.FN(null)};aE["Adobe Camera Raw Filter"].prototype.j=function(h){if(h){this.FN(null,!0);
return this.TW}return B.t(this.YH)};aE["Adobe Camera Raw Filter"].prototype.aCO=function(){this.na=null;
this.R9=null;this.z_=null;this.TW=null};aE["Adobe Camera Raw Filter"].prototype.FN=function(h,e){if(h&&this.Mb.indexOf(h.target)!=-1){this.N$=1e3;
var v=this.km;for(var T=0;T<v.length;T++){var J=v[T];this.YH[J]={t:J=="Ex12"?"doub":"long",v:this.Mb[T].j()}}}var m=this.g5.NN().e4,d=0;
while(m*2<=1&&!e){m*=2;d++}if(this.N$<=d)return;this.N$=d;var x=this.x4,j=this.a8Y(this.na,x,this.R9,this.YH,this.afj,this.TW,d);
this.nN.e(j);this.g5.e([{Ei:x,data:this.TW.buffer}])};aE["Adobe Camera Raw Filter"].prototype.a8Y=function(h,e,v,J,m,d,x){var j=h,E=v,L=d,p=e.q,Z=e._,o=x!=0;
if(o){var u=this.z_[x];j=u.su;p=u.R.q;Z=u.R._;E=new Float32Array(p*Z*3);L=B.U(p*Z*4)}gd(j,p,Z,E,J,m);
var N=Date.now(),M=p*Z;for(var T=0;T<M;T++){var O=T*3,F=T*4;L[F+0]=~~(.5+E[O+0]*255);L[F+1]=~~(.5+E[O+1]*255);
L[F+2]=~~(.5+E[O+2]*255);L[F+3]=255}console.log(Date.now()-N,"integer conversion");N=Date.now();var W=B.AH(L,Math.max(1,Math.floor(M/2e5)));
console.log(Date.now()-N,"histogram done");N=Date.now();if(o){var f=new Uint32Array(L.buffer),$=new Uint32Array(d.buffer),H=e.q,A=e._;
for(var G=0;G<A;G+=2)for(var l=0;l<H;l+=2){var O=G*H+l,K=f[(G>>>x)*p+(l>>>x)];$[O]=K;$[O+1]=K;$[O+H]=K;
$[O+H+1]=K}console.log(Date.now()-N,"upscale");N=Date.now()}return W};aE["Adobe Camera Raw Filter"].prototype.Kt=function(h,e){this.ax4=h-248;
this.alJ=e;this.g5.Kt(this.ax4,this.alJ);this.w6.style.height=e-236+"px"};aE["Adobe Camera Raw Filter"].prototype.S=function(){for(var T=0;
T<this.Mb.length;T++)this.Mb[T].S()};aE.VaPo=function(){aE.call(this,"VaPo");this.I=-1;this.jf=null;
this.uh=!1;this.An=null;this.kQ=null;this.GE=null;this.l3=null;this.dJ=null;this.so=null;this.aO=null;
this.YX=null;this.Sd=null;this.J_=null;this.pv=null;this.Uh=[];this.Zi=-1;this.X=null;this.F={rX:[[{I:{id:0,name:"Move",FL:"tools/move"}}],[{I:{id:1,name:"Create Plane",FL:"tools/pcrop"}}],[{I:{id:2,name:"Marquee",FL:"tools/rselect"}}],[{I:{id:3,name:"Stamp",FL:"tools/clone"}}],[{I:{id:4,name:"Brush",FL:"tools/brush"}}],[{I:{id:5,name:"Transform",FL:"tools/transform"}}],[{I:{id:6,name:"Hand",FL:"tools/hand"}}],[{I:{id:7,name:"Zoom In",FL:"zoomIn"}}],[{I:{id:8,name:"Zoom Out",FL:"zoomOut"}}]],keys:[dW.q3,dW.jo,dW.f_,dW.J8,dW.BS,dW.em,dW.EQ,dW.ZB]};
this.BU=new ic(this.F,!1);this.BU.P(k.E.u,this.Ot,this);this.Q5=null;this.x4=null;this.Hw=null;this.acG=null;
this.j9=null;this.QY=null;var h=V.k("div","flexrow"),J=0;this.I1=h;this.Z.appendChild(h);h.appendChild(this.BU.Z);
var e=V.k("div");h.appendChild(e);var top=V.k("div","form");e.appendChild(top);V.v(top,"padding-left:8px; height:30px;");
this.cV=V.k("span");top.appendChild(this.cV);this.dc=[[new cs([12,80,5],1,1e3)],[new cs([7,6],0,30)],[new cs([12,14],1,200),new cs([12,17],0,100),new cs([12,0],0,100),new hJ([12,75])],[new cs([12,14],1,200),new cs([12,17],0,100),new cs([12,0],0,100),new iE],[new hJ("Flip"),new hJ("Flop")],[]];
var v=[100,0,100,100,100,!1,100,100,100,JSON.parse(fL.GB.bm.slice(6)).v];this.bs=[];for(var T=0;T<6;
T++){var m=V.k("span"),d=this.dc[T];this.bs.push(m);for(var x=0;x<d.length;x++){var j=d[x];j.parent=this;
j.e(v[J++]);j.P(k.E.f,this.aoe,this);m.appendChild(j.Z)}}this.a5t=V.k("div");V.v(this.a5t,"display:inline-block;float:right; width:100px;");
top.appendChild(this.a5t);this.view=new fJ(!0);this.view.Kt(100,100);this.view.Zr("auto");this.view.P("mousedown",this.wa,this);
this.view.P("mousemove",this.$X,this);this.view.P("mouseup",this.sd,this);V.Xa(this.view._y,this.Cc.bind(this));
e.appendChild(this.view.Z)};aE.VaPo.prototype=new aE;aE.VaPo.prototype.mk=function(){return!0};aE.VaPo.prototype.hw=function(h){this.a5t.appendChild(h)};
aE.VaPo.prototype.aoe=function(h){if(h.target==this.dc[0][0]){var e=this.cN(),v=h.target.j();for(var T=0;
T<this.X.length;T++)if(this.X[T].length!=0&&e[T])e[T][0]=v;this.PB(e)}if(this.I==5){this.Q5=this.vc();
this.FN(!0)}this.FN()};aE.VaPo.prototype.lK=function(h){var e=this.I,v=this.kQ;if(e==3||e==4){var J=this.dc[e-1],m=a2.EB(),d=m.Brsh.v;
d.Dmtr.v.val=J[0].j();d.Hrdn.v.val=J[1].j();m=c.Bt.v1(m,h);if(m){d=m.Brsh.v;J[0].e(d.Dmtr.v.val);J[1].e(d.Hrdn.v.val)}this.ZT()}if(e==1&&v&&(h.r(dW.PV)||h.r(dW.iS))){v.pop();
v.pop();if(v.length==0)v=this.kQ=null;this.FN()}function x(p,T,N){B.YZ(p[T],p[0],N.Hw,N.x4);N.vX(p[0])}this.An=h;
if(e<6)this.view.lK(h);var j=h.r(dW.Dd);if(j){var E=this.Zi,L=0;if(h.r(dW.ZB)){if(h.r(dW.l$))L=1;else L=-1}else if(h.r(dW.fD))L=1;
if(L!=0&&e!=5){console.log(this.Zi,L,this.Uh);var p=this.Uh[this.Zi],Z=!1;if(p.length==3&&L==-1){x(p,1,this);
Z=!0}E+=L;this.Zi=Math.max(0,Math.min(this.Uh.length-1,E));p=this.Uh[this.Zi];if(p.length==3&&L==1){x(p,2,this);
Z=!0}this.FN(Z)}if(h.r(dW.q3)){if(V.rJ())ke.aDD(this.sY.bind(this))}if(h.r(dW.Gu)){this.dJ=null;this.FN()}}else{var o=this.F.keys;
for(var T=0;T<o.length;T++)if(h.r(o[T]))this.nr(T)}if(h.r(dW.iS)||h.r(dW.PV)){var u=this.cN();u=B.uF.aAc(u,this.X);
this.X=[];for(var T=0;T<u.length;T++)this.X[T]=[];this.PB(u);this.FN()}};aE.VaPo.prototype.sY=function(h){if(h=="granted")ke.Ui(this,this.bN.bind(this))};
aE.VaPo.prototype.bN=function(h,e){var v=this.cN();if(v.length==0){alert("Make a plane before pasting an image");
return}if(this.l3==null)this.l3=[0,0];if(this.I==5)this.nr(0);this.nr(5,{ND:h,e3:e})};aE.VaPo.prototype.Ot=function(h){if(h.data.V==k.l.px){this.nr(h.data.I)}};
aE.VaPo.prototype.aFc=function(h){var e=this.view.EI(h),v=B.uF.Un(this.cN(),this.X),J=1e9,m=0;for(var T=0;
T<v.length;T++){var d=v[T][0],x=e.x-d[0],j=e.y-d[1],E=Math.sqrt(x*x+j*j);if(E<J){J=E;m=T}}if(J>4*V.A_()/this.view.NN().e4)return null;
return v[m]};aE.VaPo.prototype.Cc=function(h){var e=this.I,v=this.kQ;if(e<2&&!this.uh){var J=this.jf=this.aFc(h),m=this.cN(),d="auto";
if(e==0&&B.uF.Pm(m,J)){var x=m[J[1]][1][J[2]],j=x[5+{1:0,5:1,7:2,3:3}[J[3]]],E=j[0],L=j[1];d=hu.and(E[1]-L[1],-E[0]+L[0])}if(B.uF.adj(m,J))d="crosshair";
this.view.Zr(d)}if(v){var p=this.view.EI(h),Z=v.slice(0);v[v.length-2]=p.x;v[v.length-1]=p.y;this.FN()}this.ZT(h);
if(e==5&&!this.uh&&this.al){var p=this.view.EI(h),m=this.cN(),o=B.uF.D_(m,p.x,p.y,this.U2());if(o){var u=new fq(o[2][0],o[2][1]),N=B.uF.oG(m,m[o[0]][1][o[1]],this.U2()),M=N[1],O=B.D.s6(N[0],M),F=[M.x+M.q/2,M.y+M._/2];
B.D.C(O,F);var W=p.x-F[0],f=p.y-F[1],$=this.al.hb(u,this.view.NN().e4,null,null,Math.atan2(-f,-W));this.view.Zr($?$:"default")}}};
aE.VaPo.prototype.ZT=function(h){var e=this.I,v=this.An;if((e==3||e==4)&&!this.uh){var J=h?this.view.EI(h):this.Vj,m=this.cN();
this.Vj=J;if(J==null)return;var d=B.uF.D_(m,J.x,J.y,this.U2());if(d){if(e==3&&this.pv&&this.dc[2][3].j()){var x=new fq(d[2][0],d[2][1]);
this.J_=x.am(this.pv);this.FN()}if(e==3&&(this.J_==null||v&&(v.r(dW.B2)||v.r(dW.uX)))){if(this.Q5){this.QY=null;
this.vX(this.Q5);this.FN(!0,this.Q5)}return}this.acy(d,this.Q5)}}};aE.VaPo.prototype.U2=function(){return[this.x4.q/2,this.x4._/2]};
aE.VaPo.prototype.wa=function(h){this.uh=!0;var e=this.I,v=this.kQ,J=this.cN(),m=this.An,d=this.jf=this.aFc(null),x=this.view.EI(),j=B.uF.D_(J,x.x,x.y,this.U2()),E=j?new fq(j[2][0],j[2][1]):null;
if(B.uF.adj(J,d)){var L=J[d[1]][1][d[2]];J.splice(d[1],1);this.X.splice(d[1],1);v=B.uF.amA(L);var p=-1,x=d[0];
for(var T=0;T<8;T+=2){var Z=v[T]-x[0],o=v[T+1]-x[1];if(Z*Z+o*o<1e-5)p=T}p=p+2&7;v=this.kQ=v.slice(p).concat(v.slice(0,p));
this.PB(J)}else if(B.uF.Pm(J,d)){if(e==1||m&&m.r(dW.Dd)){J=B.uF.a7Y(J,d,this.U2());this.PB(J);d[2]=J[d[1]][1].length-1;
d[3]=8+(d[3]+4&7);this.X[d[1]].push(d[2]);this.PB(J,!0);this.nr(0)}else this.PB(this.cN(J))}else if(e==0){var u=[];
for(var T=0;T<J.length;T++)u.push([]);if(j){if(m&&m.r(dW.l$))u=this.X;var N=u[j[0]].indexOf(j[1]);if(N==-1)u[j[0]].push(j[1]);
else u[j[0]].splice(N,1)}this.X=u;this.PB(J,!0);this.FN()}else if(e==2){if(j){var M=this.dJ;if(M&&M.GX(E)){if(m)if(m.r(dW.B2)||m.r(dW.Dd)){this.nr(5);
this.wa(h);return}this.so=new fq(E.x-M.x,E.y-M.y)}else{this.GE=j[2].concat(j[2]);this.l3=j}}}else if(e==3||e==4){if(e==3){if(m&&(m.r(dW.B2)||m.r(dW.uX))){if(j){this.J_=E;
this.YX=E.O();this.pv=null;this.Sd=j;this.FN()}else alert("You must click into a plane");this.uh=!1;
return}else if(this.J_==null){alert(bj.get([15,7,0]));this.uh=!1;return}else if(j){var O=this.pv=E.am(this.J_)}}if(j){this.acy(j)}}else if(e==5){if(j){var F=new fq(j[2][0],j[2][1]),W=this.al.HL({p:this.view.NN()},{},m,F)}}};
aE.VaPo.prototype.acy=function(h,e){var v=this.QY;if(v==null)this.QY=v=B.U(this.x4.$()*4);else v.fill(0);
var J=this.I;this.l3=h;var m=this.dc[J-1],d=B.atb.a5R(m[0].j(),m[1].j()/100,1),x=B.U(d[1].$()*4);B.ar(d[0],x,3);
if(J==4){var j=B.Vh.SL(m[3].j());B.yV(x,Math.round(j.b)<<16|Math.round(j.i)<<8|Math.round(j.n)<<0,4278190080)}this.aO={ae2:d[0],ND:x,e3:d[1]};
var E=this.Q5=this.lu(h[2],h[2]),L=e?e.R$(E):E;this.vX(L);this.FN(!0,L)};aE.VaPo.prototype.$X=function(h){var e=this.jf,v=this.I,J=this.cN();
if(v==0&&B.uF.Pm(J,e)){J=B.uF.acJ(J,e,this.view.EI());this.PB(J,!0);this.FN()}var m=this.so;if(v==2&&this.uh&&(this.GE||m)){var d=this.view.EI(),x=B.uF.D_(J,d.x,d.y,this.U2());
if(x){this.l3=x;if(m){this.dJ.x=x[2][0]-m.x;this.dJ.y=x[2][1]-m.y}else{this.GE=this.GE.slice(0,2).concat(x[2]);
this.dJ=B.w.Ob(this.GE)}this.FN()}}if((v==3||v==4)&&this.uh){var d=this.view.EI(),x=B.uF.D_(J,d.x,d.y,this.U2());
if(x){if(v==3){var j=this.pv;this.J_=new fq(x[2][0]-j.x,x[2][1]-j.y)}var E=this.lu(this.l3[2],x[2]);
this.Q5=this.Q5.R$(E);this.l3=x;this.vX(E);this.FN(!0,E)}}if(v==5&&this.uh){var d=this.view.EI(),x=B.uF.D_(J,d.x,d.y,this.U2(),this.l3);
if(x){var L=new fq(x[2][0],x[2][1]);this.al._8({p:this.view.NN()},{},this.An,L);this.l3=x;var E=this.Q5;
if(E)this.vX(E);else E=new fP;this.Q5=this.vc(null,null,!0);this.FN(!0,E.R$(this.Q5))}}};aE.VaPo.prototype.lu=function(h,e){h=new fq(h[0],h[1]);
e=new fq(e[0],e[1]);var v=Math.max(1e-5,fq.mr(h,e)),J=this.aO.e3.q*.2,m=new fP;for(var d=0;d<v;d+=J){var x=1-d/v,j=x*h.x+(1-x)*e.x,E=x*h.y+(1-x)*e.y,L=this.aO.e3.O();
L.x=Math.round(j-L.q/2);L.y=Math.round(E-L._/2);if(this.I==3){var p=this.pv;if(p==null)p=new fq(j,E).am(this.J_);
var Z=this.dJ=L.O();Z.x=Math.round(Z.x-p.x);Z.y=Math.round(Z.y-p.y);var o=this.aO.ae2;this.aO=this.a0r(this.Sd);
this.dJ=null;B.yr(o,this.aO.ND);this.aO.ae2=o}var u=this.vc(this.QY,L);m=m.R$(u)}return m};aE.VaPo.prototype.sd=function(h){var e=this.jf;
if(e&&e[3]>=8){var v=B.uF.ayJ(this.cN(),e,this.U2());this.PB(v,!0);this.FN();alert("new plane added")}var J=this.I,m=this.kQ;
if(m||J==1){var d=this.view.EI();if(m==null)m=this.kQ=[d.x,d.y];if(m.length==8&&hu.pi(m)){var v=this.cN();
v.push([100,[B.uF.a8R(m,this.U2())]]);this.X.push([0]);this.PB(v,!0);m=this.kQ=null;this.nr(0);this.FN()}else if(m.length<8){m.push(d.x,d.y);
if(m.length==8&&!hu.pi(m)){var x=m[0],j=m[1];m[0]=m[4];m[1]=m[5];m[4]=x;m[5]=j}}}var E=this.GE;if(J==2&&E&&E[0]==E[2]&&E[1]==E[3]){this.dJ=null;
this.FN()}if((J==3||J==4)&&this.uh){if(J==3&&!this.dc[2][3].j()&&this.YX){this.J_=this.YX.O();this.FN()}this.PB();
this.QY=null}if(!this.dc[2][3].j())this.pv=null;this.uh=!1;this.so=null;this.GE=null};aE.VaPo.prototype.nr=function(h,e){if(h==this.I)return;
var v=this.Q5,m=6;if(this.I==5){this.PB();this.vX(v);this.al=null;this.FN()}if(this.I==3||this.I==4){this.QY=null;
if(v)this.vX(v);this.FN(!0,v)}if(h==5){if(e==null&&this.dJ==null){alert("Select the area to be transformed");
return}this.a0q(e)}if(h>1){var J=this.cN();this.l4();this.PB(J,!0);this.FN()}this.view.lK(h>=m?fJ.$I(h-m):new dW(!0));
if(h<m)this.view.Zr("auto");this.I=h;this.BU.nr(h);V.H5(this.cV);var d={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[h];
this.cV.appendChild(this.bs[d])};aE.VaPo.prototype.cN=function(){var T=this.Zi,h=this.Uh;while(h[T].length==3)T--;
var e=h[T];this.X=JSON.parse(e[1]);return JSON.parse(e[0])};aE.VaPo.prototype.PB=function(h,e){if(h==null&&this.Q5==null)return;
var v=this.Uh,J=this.Zi,T=J;while(T>=0&&v[T].length==3)T--;if(e==null)this.Zi=J=J+1;if(h!=null)v[e?T:J]=[JSON.stringify(h),JSON.stringify(this.X)];
else{var m=this.x4,d=this.Q5,x=B.U(d.$()*4),j=B.U(d.$()*4);v[J]=[d,x,j];B.YZ(this.Hw,m,x,d);if(this.QY)B.B.lU("norm",this.QY,m,this.Hw,m,m,this.acn());
else this.vc(this.Hw);B.YZ(this.Hw,m,j,d);this.Q5=null}while(v.length!=J+1)v.pop()};aE.VaPo.prototype.acn=function(){return this.dc[this.I-1][2].j()/100};
aE.VaPo.prototype.l4=function(h,e){if(h==null)h=this.cN();this.X=[];for(var T=0;T<h.length;T++){var v=[];
this.X.push(v);if(e)for(var J=0;J<h[T][1].length;J++)v.push(J)}};aE.VaPo.prototype.e=function(h,e,v,J,m,d){var x=B.t(d[2].uF);
this.Zi=-1;this.l4(x);this.PB(x);var j=B.U(J.$()*4);B.YZ(e,v,j,J);this.aiH=new fP;this.x4=J;this.acG=m;
this.Hw=j;this.j9=m.slice(0);this.vX(J);this.FN(!0);this.view.BG();this.nr(0)};aE.VaPo.prototype.a0q=function(h){this.aO=h?h:this.a0r();
var e=B.w.Tp(this.aO.e3).g;if(h){var v=this.cN(),J=B.uF.oG(v,v[0][1][0],this.U2()),m=J[1],d=Math.min(m.q/h.e3.q,m._/h.e3._)*.9;
if(d<1)B.w.C(e,new aJ(d,0,0,d,0,0),e)}this.al=new hu(e,!0,!0);this.dJ=null;this.Q5=this.vc();this.FN(!0)};
aE.VaPo.prototype.a0r=function(h){var e=this.x4,v=B.w.jg(this.dJ),J=this.cN(),m=B.U(v.$()*4);if(h==null)h=this.l3;
var d=J[h[0]][1],x=B.uF.$p(J[h[0]][1],h[1],v,this.U2());for(var j=0;j<x.length;j++){var E=d[x[j]],L=B.uF.oG(J,E,this.U2()),p=L[0],Z=L[1],o=Z.UP(v);
if(o.EG())continue;o=B.w.jg(o);var u=B.U(o.$()*4),N=B.D.s6(p,Z);N=B.D.Eh([1/e.q,0,0,0,1/e._,0,0,0],N);
N=B.D.ia(N);B.D.drawImage(N,this.j9,e.q,e._,u,o);B.YZ(u,o,m,v)}var M=this.dc[1][0].j(),O=Math.round(M*1.4),F=v.O();
F.vY(-O,-O);var W=B.U(F.$());W.fill(255);var f=B.U(v.$());B.Ww(W,F,f,v);var $=B.U(v.$());B.kK.he(f,$,v,M);
B.Bq(m,f,3);B.HE.UP(f,$,$);B.ar($,m,3);return{ND:m,e3:v}};aE.VaPo.prototype.vX=function(h,e){var v=this.x4;
B.YZ(this.acG,v,this.j9,v,h);B.B.lU("norm",this.Hw,v,this.j9,v,h,1);if(this.QY)B.B.lU("norm",this.QY,v,this.j9,v,h,this.acn())};
aE.VaPo.prototype.vc=function(h,e,v){var J=this.aO,m=J.e3,d=this.x4,x,j=e?B.w.Tp(e).g:this.al.Un(),E=B.w.oS(j),x=B.D.s6(j,m),L=this.dc[4],p=new aJ;
if(L[0].j()){p.DR=-1;p.TO=2*m.x+m.q}if(L[1].j()){p.l_=-1;p.bZ=2*m.y+m._}x=B.D.Eh(x,B.D.fi(p));function Z(a,w){a.beginPath();
a.moveTo(w[0],w[1]);for(var T=1;T<4;T++)a.lineTo(w[T*2],w[T*2+1]);a.closePath()}var o=this.cN(),u=B.uF.$p(o[this.l3[0]][1],this.l3[1],E,this.U2()),N=o[this.l3[0]][1],M=new fP;
for(var O=0;O<u.length;O++){var F=N[u[O]],W=B.uF.oG(o,F,this.U2()),f=W[0],$=W[1],H=$.UP(E);if(this.dJ)H=H.UP(this.dJ);
if(H.EG())continue;var A=B.D.s6(f,$),G=B.w.Tp(H).g;B.D.C(A,G);var l=j.slice(0);B.D.C(A,l);var K=B.w.Ob(l).UP(B.w.Ob(G)),U=K.q,z=K._;
if(K.EG())continue;A=B.D.Eh(B.D.Eh(A,x),[m.q,0,m.x,0,m._,m.y,0,0]);var q=B.U(K.$()*4);B.D.drawImage(A,J.ND,m.q,m._,q,K,v);
if(H.$()!=E.$()){var P=B.Ut(U,z);P.save();P.clearRect(0,0,U,z);P.translate(-K.x,-K.y);Z(P,G);P.clip();
Z(P,l);P.fill();P.restore();var g=new Uint8Array(P.getImageData(0,0,U,z).data.buffer);for(var T=3;T<q.length;
T+=4)if(g[T]<q[T])q[T]=g[T]}B.B.lU("norm",q,K,h?h:this.j9,d,K,1);M=M.R$(K)}return M};aE.VaPo.prototype.j=function(){return B.t(this.cN())};
aE.VaPo.prototype.ak4=function(){if(this.I==5)this.nr(0);var h=new fP,e=this.Uh;for(var T=0;T<=this.Zi;
T++)if(e[T].length==3)h=h.R$(e[T][0]);var v=B.U(h.$()*4);B.YZ(this.Hw,this.x4,v,h);return[v,h]};aE.VaPo.prototype.Kt=function(h,e){this.BU.Kt(h,e);
this.view.Kt(h-40,e-30)};aE.VaPo.prototype.S=function(){this.BU.S();for(var T=0;T<this.dc.length;T++)for(var h=0;
h<this.dc[T].length;h++)this.dc[T][h].S()};aE.VaPo.prototype.FN=function(h,e){var v=this.x4,J=[],m=[],d=[],x=this.cN(),j=B.uF.Un(x,this.X),E=0,L=null,O=null,F=null,W=null;
for(var T=0;T<j.length;T++)d.push(j[T][0][0],j[T][0][1]);for(var T=0;T<x.length;T++){var p=this.X[T].length;
E+=p;if(p!=0)L=[T,this.X[T][0]]}var Z=this.dc[0][0];Z.Es(E!=0);if(E!=0)Z.e(Math.round(x[L[0]][0]));if(E==1){var o=x[L[0]][1]}var u=[];
if(this.dJ&&x[this.l3[0]])u=B.uF.$p(x[this.l3[0]][1],this.l3[1],this.dJ,this.U2());var N=[];if(this.al){N=this.al.adt();
N[4]=this.al.Xj()}var M=[];if(this.al&&x[this.l3[0]])M=B.uF.$p(x[this.l3[0]][1],this.l3[1],B.w.Ob(this.al.Un()),this.U2());
for(var f=0;f<x.length;f++){var $=x[f][0],o=x[f][1],H=this.X[f];for(var A=0;A<o.length;A++){var L=o[A],G=B.uF.oG(x,L,this.U2()),l=G[0],v=G[1],K=B.D.s6(l,v);
if(v.EG()){if(F==null)F={WQ:[],g:[]};B.w.concat(F,{WQ:["M","L","L","L","Z"],g:l});continue}var U=B.w.Tp(v),z=U.g,q=U.WQ,P=this.J_;
if(P&&v.GX(P)&&this.Sd&&this.Sd[0]==f){O=[P.x,P.y];B.D.C(K,O)}if(u.indexOf(A)!=-1){var g=this.dJ.UP(v);
if(f==this.l3[0]&&!g.EG()){if(W==null)W={g:[],WQ:[]};var a=B.w.Tp(g);B.D.C(K,a.g);B.w.concat(W,a)}}if(M.indexOf(A)!=-1&&f==this.l3[0]){var w=[];
for(var T=0;T<N.length;T++)if(v.GX(N[T]))w.push(N[T].x,N[T].y);if(w.length!=0){B.D.C(K,w);d=d.concat(w)}}if(H&&H.indexOf(A)!=-1){var y=Math.ceil(v.x/$)*$,S=v.x+v.q,i=Math.ceil(v.y/$)*$,C=v.y+v._;
for(var Y=y;Y<S;Y+=$){z.push(Y,v.y,Y,C);q.push("M","L")}for(var _=i;_<C;_+=$){z.push(v.x,_,S,_);q.push("M","L")}}B.D.C(K,z);
J=J.concat(q);m=m.concat(z)}if(O&&this.I==3){var Y=O[0],_=O[1],t=10/this.view.NN().e4;m.push(Y-t,_,Y+t,_);
m.push(Y,_-t,Y,_+t);J.push("M","L","M","L")}}var l=this.kQ,v=this.x4;if(l){var I=["M"];for(var T=0;T<l.length-2;
T+=2)I.push("L");I.push("Z");var r=c.Zk.K6(l,v.q/2,v._/2);if(isNaN(r)||r==Infinity||r==-Infinity||!hu.pi(l)){if(F==null)F={WQ:[],g:[]};
B.w.concat(F,{WQ:I,g:l})}else{m=m.concat(l);J=J.concat(I)}}var n={Qd:{WQ:J,g:m},a9g:F,a81:W,S0:d,WL:null};
if(h){this.view.e([{Ei:v,data:this.j9.buffer}],null,n,e)}else this.view.a80(n)};aE.blnc=function(){aE.call(this);
var h=this.Z;this.Gv=null;this.m2=new jV([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.m2.P(k.E.f,this.FN,this);
h.appendChild(this.m2.Z);this.dD=[];for(var T=0;T<3;T++){var e=new ci(["VAR0 - VAR1",hy.aa$[T],hy.wh[T]],-100,100);
e.P(k.E.f,this.ob,this);this.dD.push(e);h.appendChild(e.Z)}this.gC=new hJ([13,4]);this.gC.P(k.E.f,this.ob,this);
h.appendChild(this.gC.Z)};aE.blnc.prototype=new aE;aE.blnc.prototype.S=function(){this.m2.S();for(var T=0;
T<3;T++)this.dD[T].S();this.gC.S()};aE.blnc.prototype.e=function(h){this.Gv=B.t(h);this.FN()};aE.blnc.prototype.j=function(h){var e=["ShdL","MdtL","HghL"],v=this.Gv[e[this.m2.j()]].v;
for(var T=0;T<3;T++)v[T].v=this.dD[T].j();this.Gv.PrsL.v=this.gC.j();return B.t(this.Gv)};aE.blnc.prototype.FN=function(h){var e=["ShdL","MdtL","HghL"],v=this.Gv[e[this.m2.j()]].v;
for(var T=0;T<3;T++)this.dD[T].e(v[T].v);this.gC.e(this.Gv.PrsL.v)};aE.brit=function(){aE.call(this,"brit");
this.hu.push(new ci([12,2],-150,150,""));this.hu.push(new ci([12,3,0],-100,100,""));this.hu.push(new hJ([12,3,1]));
this.j1()};aE.brit.prototype=new aE;aE.curv=function(){aE.call(this);this.value=null;this.nK=null;this.H=null;
var h=this.Z;this.WX=new jV("Preset",["basic","advanced"]);this.WX.P(k.E.f,this.aj7,this);h.appendChild(this.WX.Z);
V.Xp(h);this.Hp=new jV([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.Hp.P(k.E.f,this.zz,this);h.appendChild(this.Hp.Z);
this.u0=new jV(null,["Spline","Sketch"]);this.u0.P(k.E.f,this.aj7,this);h.appendChild(this.u0.Z);this.og=new b1;
this.og.parent=this;this.og.P(k.E.f,this.KM,this);h.appendChild(this.og.Z);V.Xp(h);this.Gd=new eW;this.Gd.P(k.E.f,this.GH,this);
h.appendChild(this.Gd.Z);this.yf=null;this.a8U=0;this.aw6=0;V.Xp(h);this._b=new hR("Sample from image",ha.no(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this._b.P(k.E.f,this.SA,this);this._b.Z.style.marginRight="0";h.appendChild(this._b.Z)};aE.curv.prototype=new aE;
aE.curv.prototype.fa=function(h,e){if(e==dq.AY||e==dq.Hn){var v=h.dH,J=["Default"];for(var T=0;T<v.length;
T++)J.push(v[T].presetFileName.v);J.push("Custom");this.WX.VU(J,[1,v.length,1]);this.H=h}};aE.curv.prototype.Kt=function(h,e){this.Gd.Kt(h,e)};
aE.curv.prototype.S=function(){this.Hp.S();this.Gd.S()};aE.curv.prototype.Cv=function(){this.WX.e(this.H.dH.length+1)};
aE.curv.prototype.aj7=function(h){if(h.target==this.WX){var e=this.WX.j(),v=this.H.dH,J;if(e==0)J=f8.UX("curv");
else if(e-1<v.length)J=B.t(v[e-1]);else return;this.e(J);this.ob();return}this.Cv();var m=fZ.GT(this.value,0),d=m.length==256?1:0,x=this.u0.j();
if(d==x)return;var J=f8.UX("curv");if(x==1){var j=[];for(var T=0;T<256;T++)j.push(T);fZ.mm(J,0,j)}this.e(J);
this.ob()};aE.curv.prototype.GH=function(){this.Cv();fZ.mm(this.value,this.Hp.j(),this.Gd.j());this.ob()};
aE.curv.prototype.zz=function(){var h=this.Hp.j(),e=fZ.GT(this.value,h),v=e.length==256?1:0;this.u0.e(v);
if(this.nK)this.Gd.Y9(this.nK[h],this.nK[4]*[1,.33,.33,.33][h],["#ccc","#fcc","#cfc","#ccf"][h]);this.Gd.e(e)};
aE.curv.prototype.po=function(){return!0};aE.curv.prototype.HL=function(h,e,v,J,m){var d=this.value;
this.value=f8.UX("curv");this.ob();var x=c.ct.hY(h,m,1,null,!0),j=this.yf=[x>>>16&255,x>>>8&255,x&255];
this.a8U=m.y;var E=this._b.j().indexOf(!0);if(E==0){var L=(j[0]+j[1]+j[2])/3,p=this.Hp.j(),Z=fZ.GT(d,p),o=p==0?L:j[p-1],u=-1;
for(var T=0;T<Z.length;T++)if(Z[T].v.Hrzn.v==o)u=T;if(u==-1){var N=B.t(Z[0]);N.v.Hrzn.v=o;N.v.Vrtc.v=o;
Z.push(N);Z.sort(function(M,O){return M.v.Hrzn.v-O.v.Hrzn.v});fZ.mm(d,p,Z);this.aw6=Z.indexOf(N)}else this.aw6=u}this.e(d);
this.ob()};aE.curv.prototype._8=function(h,e,v,J,m){if(this.yf==null)return;if(this._b.j().indexOf(!0)==0){var d=this.value,x=this.Hp.j(),j=fZ.GT(d,x),E=j[this.aw6];
E.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(E.v.Hrzn.v+(this.a8U-m.y))));fZ.mm(d,x,j);this.e(d);this.ob()}};
aE.curv.prototype.ej=function(h,e,v,J,m){var d=this.value,x=this.yf,j=(x[0]+x[1]+x[2])/3,E=this._b.j().indexOf(!0)-1;
if(E<=-1){}else for(var T=0;T<3;T++){var L=fZ.GT(d,1+T);if(E==0)L[0].v.Hrzn.v=x[T];if(E==1){var p=Math.log(x[T]/255)/Math.log(j/255),Z=Math.min(999,Math.max(10,Math.round(100*p)));
if(L.length==2)L.splice(1,0,B.t(L[0]));L[1].v.Hrzn.v=127-Math.log(Z/100)*127;L[1].v.Vrtc.v=127}if(E==2)L[L.length-1].v.Hrzn.v=x[T];
fZ.mm(d,1+T,L)}this.e(d);this.ob();this.Cv();this.yf=null};aE.curv.prototype.e=function(h){this.value=h;
this.zz()};aE.curv.prototype.Y9=function(h){this.nK=h;this.zz()};aE.curv.prototype.j=function(h){return B.t(this.value)};
aE.curv.prototype.KM=function(){var h=this.og.j(),e=this.nK,v=this.value,J=B.a2T(h,e);for(var T=0;T<4;
T++){var m=J[T][0],d=J[T][1],x=J[T][2],j=[B.CL.M$(m,0,!0),B.CL.M$(d,255,!0)];if(x!=null)j.splice(1,0,B.CL.M$(128,x,!0));
fZ.mm(v,T,j)}this.zz();this.ob()};aE.expA=function(){aE.call(this,"expA");this.hu.push(new ci([12,5],-20,20,null,2,!0));
this.hu.push(new ci([12,6],-.5,.5,null,2));this.hu.push(new ci([12,7],.01,9.99,null,2,!0));this.j1()};
aE.expA.prototype=new aE;aE.expA.prototype.Ra=function(h,e){e[0]=h.Exps.v;e[1]=h.Ofst?h.Ofst.v:0;e[2]=h.gammaCorrection?h.gammaCorrection.v:1};
aE.expA.prototype._P=function(h,e){h.Exps={t:"doub",v:e[0]};h.Ofst={t:"doub",v:e[1]};h.gammaCorrection={t:"doub",v:e[2]}};
aE.grdm=function(){aE.call(this,"grdm");this.hu.push(new gV(!0,null,!0));this.hu.push(new hJ([12,23,0]));
this.j1()};aE.grdm.prototype=new aE;aE.grdm.prototype.Ra=function(h,e){e[0]=h.Grad.v;e[1]=h.Rvrs?h.Rvrs.v:!1};
aE.grdm.prototype._P=function(h,e){h.Grad.v=e[0];h.Rvrs={t:"bool",v:e[1]}};aE.grdm.prototype.fa=function(h,e){this.hu[0].QG(h.kc,h.kF);
if(e==dq.AY||e==dq.Ih||e==dq.vk)this.hu[0].lN(h.$r)};aE.selc=function(){aE.call(this);var h=this.Z;this.__=[];
this.B6=null;this.m2=new jV([12,82],hy.uZ.concat([[13,1,8],[13,1,13],[13,1,10]]));this.m2.P(k.E.f,this.ow,this);
h.appendChild(this.m2.Z);V.Xp(h);for(var T=0;T<4;T++){var e=new ci(hy.aa$[T],-100,100,"%");e.P(k.E.f,this.ow,this);
this.__.push(e);h.appendChild(e.Z)}this.p7=new hJ([13,3]);h.appendChild(this.p7.Z);this.p7.P(k.E.f,this.ow,this)};
aE.selc.prototype=new aE;aE.selc.prototype.S=function(){this.m2.S();this.p7.S();for(var T=0;T<4;T++)this.__[T].S()};
aE.selc.prototype.e=function(h){this.B6=B.t(h);this.FN()};aE.selc.prototype.j=function(h){return B.t(this.B6)};
aE.selc.prototype.ow=function(h){if(h.target!=this.m2){var e=this.B6,v=[];for(var T=0;T<4;T++)v[T]=this.__[T].j();
dX.mm(e,this.m2.j(),v);e.Mthd={t:"enum",v:{CrcM:this.p7.j()?"Absl":"Rltv"}}}this.FN();this.ob()};aE.selc.prototype.FN=function(){var h=this.B6,e=dX.GT(h,this.m2.j());
for(var T=0;T<4;T++)this.__[T].e(e[T]);this.p7.e(h.Mthd?h.Mthd.v.CrcM=="Absl":!1)};aE.blwh=function(){aE.call(this,"blwh");
this.hu.push(new hJ([12,11]));this.hu.push(new iE(!0));for(var T=0;T<6;T++)this.hu.push(new ci(hy.uZ[T],-200,300));
this.j1()};aE.blwh.prototype=new aE;aE.blwh.prototype.Ra=function(h,e){e[0]=h.useTint.v;e[1]=h.tintColor.v;
var v="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var T=0;T<6;T++)e[2+T]=h[v[T]].v};aE.blwh.prototype._P=function(h,e){h.useTint.v=e[0];
h.tintColor.v=e[1];var v="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var T=0;T<6;T++)h[v[T]].v=e[2+T]};
aE.hue2=function(){aE.call(this);this.value=null;this.mc=null;this.mO=null;this.aam=[[0,0,0],[0,50,0]];
var h=this.Z;this._b=new hR(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this._b.P(k.E.f,this.aoM,this);this._b.P(k.E.f,this.SA,this);h.appendChild(this._b.Z);var e=this.hu=[new jV([12,12],["Master"].concat(hy.uZ)),new ci([12,8],-180,180),new ci([12,9],-100,100),new ci([12,10],-100,100),new hJ([12,11])];
for(var T=0;T<e.length;T++){var v=e[T];v.P(k.E.f,T==0?this.zz:this.akG,this);h.appendChild(v.Z)}this.m2=e[0];
this.avw=e[1];this.Y0=e[2];this.av_=e[3];this.U0=e[4];this.si=new hR("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.si.P(k.E.f,this.aoM,this);this.si.P(k.E.f,this.SA,this);this.si.Z.style.marginLeft="20px";h.appendChild(this.si.Z);
this.ahv=V.k("div");h.appendChild(this.ahv);this.t4=this.EL.bind(this);this.ai=this.lW.bind(this);this._y=V.k("canvas");
this.h_=this._y.getContext("2d");this.Ne=null;V.zY(this._y);V.xX(this._y,282,18);h.appendChild(this._y);
V.La(this._y,this.s0.bind(this))};aE.hue2.prototype=new aE;aE.hue2.prototype.Kt=function(h,e){V.xX(this._y,Math.round(h),18);
if(this.value)this.zz()};aE.hue2.prototype.aoM=function(h){var e=h.target.j().indexOf(!0);if(e==-1)return;
if(h.target==this._b)this.si.e([!1,!1,!1]);else this._b.e([!1,!1,!1])};aE.hue2.prototype.s0=function(h){if(this.m2.j()==0||this.U0.j())return;
var e=V.IE(h,this._y).x/(this._y.width/V.A_()),d=1e6;function v(Z,o,u){return Z<o&&o<u||u<Z&&(Z<o||o<u)}var J=this.qb(),m=-1;
for(var T=0;T<4;T++){var x=Math.abs(e-(J[T]+T*1e-5));if(x<d){d=x;m=T}}if(d>.025){m=-1;var j=J[0],E=J[1],L=J[2],p=J[3];
if(v(j,e,E))m=4;if(v(E,e,L))m=5;if(v(L,e,p))m=6}if(m==-1)return;this.Ne=m;V.Xa(document.body,this.t4);
V.wZ(document.body,this.ai)};aE.hue2.prototype.EL=function(h){var e=V.IE(h,this._y).x/(this._y.width/V.A_()),v=this.qb(),J=this.Ne;
for(var T=1;T<4;T++)if(v[T]<v[T-1]){v[T]+=1}if(J<4){var m=1e6,d=0;for(var T=-20;T<20;T++){var x=Math.abs(v[J]-(e+T));
if(x<m){m=x;d=T}}e+=d;v[J]=e;for(var T=J+1;T<4;T++)if(v[T]<v[T-1]){v[T]=v[T-1]}for(var T=J-1;T>=0;T--)if(v[T]>v[T+1]){v[T]=v[T+1]}}else{var j=e-(v[J-4]+v[J-3])/2;
if(j<-.5)j+=1;if(J==4){v[0]+=j;v[1]+=j;v[2]=Math.max(v[1],v[2]);v[3]=Math.max(v[1],v[3])}if(J==5)for(var T=0;
T<4;T++)v[T]+=j;if(J==6){v[2]+=j;v[3]+=j;v[0]=Math.min(v[0],v[2]);v[1]=Math.min(v[1],v[2])}}for(var T=1;
T<4;T++)if(v[T]<v[T-1])throw"e";this.am2(v);this.zz();this.ob()};aE.hue2.prototype.lW=function(h){V.L0(document.body,this.t4);
V.SV(document.body,this.ai)};aE.hue2.prototype.S=function(){for(var T=0;T<this.hu.length;T++)this.hu[T].S()};
aE.hue2.prototype.akG=function(h){var e=this.value.Clrz.v=this.U0.j();if(e)this.m2.e(0);if(h&&h.target==this.U0){var v=e?1:0;
this.aam[1-v]=bb.GT(this.value,0);var J=this.aam[v];bb.mm(this.value,0,J);if(this.m2.j()==0){this.avw.e(J[0]);
this.Y0.e(J[1]);this.av_.e(J[2])}}var m=this.m2.j(),d=bb.GT(this.value,m),J=m==0?d:d.dD;J[0]=this.avw.j();
var x=this.Y0.j();J[1]=e?Math.max(0,x):x;J[2]=this.av_.j();bb.mm(this.value,m,d);this.zz();this.ob()};
aE.hue2.prototype.zz=function(){var h=this.m2.j(),e=this.value.Clrz?this.value.Clrz.v:!1;this.U0.e(e);
this.m2.Es(!e);this.si.Es(!e&&h!=0);var v=bb.GT(this.value,h),J=h==0?v:v.dD;this.avw.e(J[0]);this.Y0.e(J[1]);
this.av_.e(J[2]);var m=this._y.width,d=this._y.height,x=this.h_;x.clearRect(0,0,m,d);if(e||h==0){this.ahv.innerHTML="";
return}var j=v.fW;this.ahv.innerHTML=j[0]+"\xB0 / "+j[1]+"\xB0<span style=\"float:right\">"+j[2]+"\xB0 \\ "+j[3]+"\xB0</span>";
var E=B.U(m*4);cb.aeR(E,1,m,-1,.5);var L=new ImageData(new Uint8ClampedArray(E.buffer),m,1),p=Math.round(d/4);
for(var T=0;T<p;T++)x.putImageData(L,0,T);function Z(F,W,f){x.fillStyle=f;var $=p*2;if(F<=W)x.fillRect(F*m,$,(W-F)*m,p);
else{x.fillRect(0,$,W*m,p);x.fillRect(F*m,$,(1-F)*m,p)}}var o=this.qb();Z(o[0],o[1],"#888888");Z(o[1],o[2],"#cccccc");
Z(o[2],o[3],"#888888");x.fillStyle="#ffffff";x.lineWidth=1;x.beginPath();var u=p+.5,N=4*p+.5;for(var T=0;
T<4;T++){var M=Math.floor(m*o[T])+.5,O=(T<2?-1:1)*p*(T==1||T==2?1:2);x.moveTo(M,u);x.lineTo(M,N);x.lineTo(M+O,N);
x.lineTo(M+O,p+p+.5);x.closePath()}x.fill();x.stroke()};aE.hue2.prototype.qb=function(){var h=this.m2.j(),e=bb.GT(this.value,h).fW;
for(var T=0;T<4;T++)e[T]=(1000.5+e[T]/360)%1;return e};aE.hue2.prototype.am2=function(h){var e=this.m2.j(),v=bb.GT(this.value,e);
for(var T=0;T<4;T++)v.fW[T]=Math.round(36e3+(h[T]-.5)*360)%360;bb.mm(this.value,e,v)};aE.hue2.prototype.po=function(){return!0};
aE.hue2.prototype.a9J=function(){var h=this._b.j().indexOf(!0),e=this.si.j().indexOf(!0);return h!=-1?h:e!=-1?e+1:-1};
aE.hue2.prototype.HL=function(h,e,v,J,m){var d=this.a9J();if(d==-1)return;var x=this.value;this.value=f8.UX("hue2");
this.ob();var j=c.ct.hY(h,m,1,null,!0);this.e(x);var E=[j>>>16&255,j>>>8&255,j&255],L=B.vB(E[0]/255,E[1]/255,E[2]/255);
if(d==0){this.m2.e(1+Math.round(L.qw*6)%6)}else{var p=this.qb(),Z=.5+L.qw,o=1/12,u=p[1],N=p[2];if(N<u){N++;
if(Z<u&&Z+1-N<u-Z)Z++}var M=u<=Z&&Z<=N;if(d==1){u=Z-o/2;N=Z+o/2}else if(d==2&&!M){u=Math.min(Z,u);N=Math.max(Z,N)}else if(d==3&&M){if(Z-u<N-Z)u=Z;
else N=Z}p=[u-o,u,N,N+o];this.am2(p)}this.ob();this.mc=m.x;this.mO=this.Y0.j()};aE.hue2.prototype._8=function(h,e,v,J,m){var d=this.a9J();
if(d==-1)return;if(d==0){if(this.mc!=null){var x=m.x-this.mc;x=Math.max(-100,Math.min(100,this.mO+.5*x));
this.Y0.e(x);this.akG()}}};aE.hue2.prototype.ej=function(h,e,v,J,m){this.mc=null};aE.hue2.prototype.e=function(h){this.value=B.t(h);
var e=this.value.Clrz?this.value.Clrz.v:!1;this.aam[e?1:0]=bb.GT(this.value,0);this.zz()};aE.hue2.prototype.j=function(h){return B.t(this.value)};
aE.levl=function(){function h(){aE.call(this);this.value=null;this.nK=null;this.oj=[new fq(0,0),new fq(0,0),new fq(0,0),new fq(0,0),new fq(0,0)];
this.CF=-1;this.t4=this.EL.bind(this);this.ai=this.lW.bind(this);var e=this.Z;this.Hp=new jV([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Hp.P(k.E.f,this.zz,this);e.appendChild(this.Hp.Z);this.og=new b1;this.og.parent=this;this.og.P(k.E.f,this.KM,this);
e.appendChild(this.og.Z);var v=V.k("div","");e.appendChild(v);var J=V.k("div","");e.appendChild(J);this._y=V.k("canvas");
v.appendChild(this._y);this.h_=this._y.getContext("2d");this.ij=new fq(256,120);V.v(this._y,"display:block");
V.zY(this._y);V.La(this._y,this.s0.bind(this));this.k2=V.k("canvas","");J.appendChild(this.k2);this.VH=this.k2.getContext("2d");
this.Qz=new fq(this.ij.x,40);V.v(this.k2,"display:block");V.zY(this.k2);V.La(this.k2,this.azx.bind(this));
var m=this.ael=[];for(var T=0;T<5;T++){var d=new jE(null,null,3);m.push(d);d.P(k.E.f,this.a4M,this);
(T<2||T==4?v:J).appendChild(d.Z)}v.appendChild(m[1].Z);this._b=new hR("Sample from image",ha.no(["#000000","#888888","#ffffff"]),!0,null,!0);
this._b.P(k.E.f,this.SA,this);e.appendChild(this._b.Z);this.Kt(250,100)}h.prototype=new aE;h.prototype.KM=function(){var e=this.og.j(),v=this.nK,J=this.value,m=B.a2T(e,v);
for(var T=0;T<4;T++){var d=m[T][0],x=m[T][1],j=m[T][2],E=[B.CL.M$(d,0,!0),B.CL.M$(x,255,!0)];if(j!=null)E.splice(1,0,B.CL.M$(128,j,!0));
var L=[~~d,~~x,0,255,j==null?100:~~(100+.75*100*(j-128)/128)];a4.mm(J,T,L)}this.zz();this.ob()};h.prototype.Kt=function(e,v){e+=6;
this.ij.x=this.Qz.x=e;V.xX(this._y,e,this.ij.y,this.h_);V.xX(this.k2,e,this.Qz.y,this.VH);var J=this.ael;
V.v(J[3].Z,"margin-left: "+(e-104)+"px");V.v(J[4].Z,"margin: 0 "+(e/2-74)+"px");if(this.value)this.zz()};
h.prototype.S=function(){this.Hp.S()};h.prototype.a4M=function(e){var v=[];for(var T=0;T<5;T++){var J=255,m=1;
if(T==4){J=999;m=100}var d=parseFloat(this.ael[T].j());v[T]=Math.max(0,Math.min(J,d*m))}a4.mm(this.value,this.Hp.j(),v);
this.zz();this.ob()};h.prototype.zz=function(e){var v=this.ij.x,J=this.ij.y,m=this.Hp.j(),d=this.h_;
d.clearRect(0,0,v,J);d.fillStyle="#cccccc";d.fillRect(8,8,v-16,J-16-8);if(this.nK){var x=this.nK[0].slice(0),N=0;
if(m==0){x.fill(0);var j=B.t(this.value);a4.mm(j,0,[0,255,0,255,100]);var E=hy.hc("levl",j),L=[E.Sq,E.eK,E.Cs];
for(var p=0;p<3;p++){var Z=this.nK[1+p],o=L[p];for(var T=0;T<256;T++)x[o[T]]+=Z[T]}}var u=m==0?x:this.nK[m];
for(var T=0;T<u.length;T++)N+=u[T];d.fillStyle="#333333";d.beginPath();d.moveTo(8,J-16);for(var T=0;
T<256;T++){var M=55*u[T]/N;d.lineTo(8+T/256*(v-16),Math.max(8,J-16-J*M))}d.lineTo(v-8,J-16);d.closePath();
d.fill()}var O=a4.GT(this.value,m);for(var T=0;T<5;T++)this.ael[T].e(O[T]/(T==4?100:1));this.oj[0].Cg(8+O[0]/255*(v-16),J-14);
this.oj[1].Cg(8+O[1]/255*(v-16),J-14);var F=Math.log(O[4]/100)/Math.log(9.99);F=.5-F/2;this.oj[4].Cg(this.oj[0].x+F*(this.oj[1].x-this.oj[0].x),J-14);
this.Eg(d,this.oj[0],"#000000");this.Eg(d,this.oj[1],"#ffffff");this.Eg(d,this.oj[4],"#777777");var v=this.Qz.x,J=this.Qz.y;
d=this.VH;d.clearRect(0,0,v,J);var W=d.createLinearGradient(0,0,v-16,0);W.addColorStop(0,"black");W.addColorStop(1,"white");
d.fillStyle=W;d.fillRect(8,8,v-16,16);this.oj[2].Cg(8+O[2]/255*(v-16),J-14);this.oj[3].Cg(8+O[3]/255*(v-16),J-14);
this.Eg(d,this.oj[2],"#000000");this.Eg(d,this.oj[3],"#ffffff")};h.prototype.Eg=function(e,v,J){e.fillStyle=J;
e.fillRect(v.x-5,v.y,10,10)};h.prototype.s0=function(e){var v=V.IE(e,this._y),J=this.as4([0,1,4],v);
if(J!=-1)this.CF=J;this.alz()};h.prototype.azx=function(e){var v=V.IE(e,this.k2),J=this.as4([2,3],v);
if(J!=-1)this.CF=J;this.alz()};h.prototype.as4=function(e,v){var J=-1,m=1e9;for(var T=0;T<e.length;T++){var d=Math.abs(this.oj[e[T]].x-v.x);
if(d<m){m=d;J=e[T]}}return m<16?J:-1};h.prototype.alz=function(e){if(this.CF==-1)return;V.Xa(document.body,this.t4);
V.wZ(document.body,this.ai)};h.prototype.EL=function(e){var v=a4.GT(this.value,this.Hp.j()),J=V.IE(e,this.CF==2&&this.CF==3?this.k2:this._y),m=255*(J.x-8)/(this.ij.x-16);
m=Math.max(0,Math.min(255,m));if(this.CF==0)m=Math.min(m,v[1]-2);if(this.CF==1)m=Math.max(m,v[0]+2);
if(this.CF!=4)v[this.CF]=Math.round(m);else{var d=(m-v[0])/(v[1]-v[0]);d=1-2*d;d=Math.pow(9.99,d);v[4]=Math.min(999,Math.max(10,Math.round(d*100)))}a4.mm(this.value,this.Hp.j(),v);
this.zz();this.ob()};h.prototype.lW=function(e){V.L0(document.body,this.t4);V.SV(document.body,this.ai);
this.CF=-1};h.prototype.po=function(){return!0};h.prototype.ej=function(e,v,J,m,d){var x=this.value,j=this._b.j().indexOf(!0);
if(j==-1)return;this.value=f8.UX("levl");this.ob();var E=c.ct.hY(e,d,1,null,!0),L=[E>>>16&255,E>>>8&255,E&255];
for(var T=0;T<3;T++){var p=a4.GT(x,1+T);if(j==0)p[0]=L[T];if(j==1){var Z=Math.log(L[T]/255)/Math.log((L[0]+L[1]+L[2])*.333/255);
p[4]=Math.min(999,Math.max(10,Math.round(100*Z)))}if(j==2)p[1]=L[T];a4.mm(x,1+T,p)}this.e(x);this.ob()};
h.prototype.e=function(e){this.value=e;this.zz()};h.prototype.Y9=function(e){this.nK=e;this.zz()};h.prototype.j=function(e){return B.t(this.value)};
return h}();aE.phfl=function(){aE.call(this,"phfl");this.hu.push(new iE);this.hu.push(new ci([12,74],0,100,"%"));
this.hu.push(new hJ([13,4]));this.j1()};aE.phfl.prototype=new aE;aE.phfl.prototype.Ra=function(h,e){e[0]=h.Clr.v;
e[1]=h.Dnst.v;e[2]=h.PrsL.v};aE.phfl.prototype._P=function(h,e){var v=B.Vh.SL(e[0]),J=h.Clr.v,m=B.Aj(v.n,v.i,v.b);
J.Lmnc.v=m.hO;J.A.v=m.DR;J.B.v=m.b;h.Dnst.v=e[1];h.PrsL.v=e[2]};aE.vibA=function(){aE.call(this,"vibA");
this.hu.push(new ci([12,13],-100,100,null));this.hu.push(new ci([12,9],-100,100,null));this.j1()};aE.vibA.prototype=new aE;
aE.vibA.prototype.Ra=function(h,e){e[0]=h.vibrance?h.vibrance.v:0;e[1]=h.Strt?h.Strt.v:0};aE.vibA.prototype._P=function(h,e){h.vibrance.v=e[0];
h.Strt.v=e[1]};aE.thrs=function(){aE.call(this,"thrs");this.hu.push(new ci([4,13],1,255,null));this.j1()};
aE.thrs.prototype=new aE;aE.thrs.prototype.Ra=function(h,e){e[0]=h.Lvl.v};aE.thrs.prototype._P=function(h,e){h.Lvl.v=e[0]};
aE.mixr=function(){aE.call(this);var h=this.Z;this.__=[];this.B6=null;this.m2=new jV([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.ady=!1;this.m2.P(k.E.f,this.ow,this);h.appendChild(this.m2.Z);V.Xp(h);this.H4=new hJ([12,60]);h.appendChild(this.H4.Z);
this.H4.P(k.E.f,this.ow,this);for(var T=0;T<4;T++){var e=new ci([[13,1,1],[13,1,4],[13,1,5],[13,2]][T],-200,200,"%");
e.P(k.E.f,this.ow,this);this.__.push(e);h.appendChild(e.Z)}};aE.mixr.prototype=new aE;aE.mixr.prototype.S=function(){this.m2.S();
this.H4.S();for(var T=0;T<4;T++)this.__[T].S()};aE.mixr.prototype.e=function(h){this.B6=B.t(h);this.FN()};
aE.mixr.prototype.j=function(h){return B.t(this.B6)};aE.mixr.prototype.ow=function(h){if(h.target!=this.m2){var e=hy.i5(this.B6);
if(h.target==this.H4){e.H4=this.H4.j();if(e.H4)e.J=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else e.J=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var v=(e.H4?0:this.m2.j())*5,T=this.__.indexOf(h.target);
e.J[v+(T<3?T:4)]=h.target.j()}this.B6=hy.RF(e)}this.FN();this.ob()};aE.mixr.prototype.FN=function(){var h=hy.i5(this.B6);
if(h.H4!=this.ady)this.m2.VU(h.H4?[[13,1,7]]:hy.wh);this.ady=h.H4;this.H4.e(h.H4);var e=(h.H4?0:this.m2.j())*5;
for(var T=0;T<4;T++)this.__[T].e(h.J[e+(T<3?T:4)])};aE.post=function(){aE.call(this,"post");this.hu.push(new ci([4,1],2,255,null));
this.j1()};aE.post.prototype=new aE;aE.post.prototype.Ra=function(h,e){e[0]=h.Lvls.v};aE.post.prototype._P=function(h,e){h.Lvls.v=e[0]};
aE.clrL=function(){aE.call(this,"clrL");this.hu.push(new dA("LUTs"));this.j1()};aE.clrL.prototype=new aE;
aE.clrL.prototype.Ra=function(h,e){e[0]=h};aE.clrL.prototype._P=function(h,e){var v=e[0];for(var J in v)h[J]=v[J]};
aE.clrL.prototype.fa=function(h,e){if(e==dq.AY||e==dq.fJ)this.hu[0].lN(h.ahq)};aE.rplc=function(){aE.call(this,"rplc");
this.hu.push(new ci([12,92],0,200));this.hu.push(new iE);this.hu.push(new ci([12,8],-180,180));this.hu.push(new ci([12,9],-100,100));
this.hu.push(new ci([12,10],-100,100));this.j1()};aE.rplc.prototype=new aE;aE.rplc.prototype.Ra=function(h,e){e[0]=h.Fzns.v;
e[1]=h.Mxm.v;e[2]=h.H.v;e[3]=h.Strt.v;e[4]=h.Lght.v};aE.rplc.prototype._P=function(h,e){function v(m,d){d.Lmnc.v=m.hO;
d.A.v=m.DR;d.B.v=m.b}h.Fzns.v=e[0];h.H.v=e[2];h.Strt.v=e[3];h.Lght.v=e[4];var J=B.Vh.SL(e[1]),m=B.Aj(J.n,J.i,J.b);
v(m,h.Mnm.v);v(m,h.Mxm.v)};aE.fade=function(){aE.call(this,"fade");this.hu.push(new ci([12,0],0,100,"%"));
this.hu.push(new jV([12,19,0],cc.j$,cc.qE));this.j1()};aE.fade.prototype=new aE;aE.fade.prototype.Ra=function(h,e){e[0]=h.Opct.v.val;
e[1]=cc.s7.indexOf(h.Md.v.BlnM)};aE.fade.prototype._P=function(h,e){h.Opct.v.val=e[0];h.Md.v.BlnM=cc.s7[e[1]]};
aE.aply=function(){var h=cc.s7.concat(["Add","Sbtr"]);h.splice(21,1);var e=cc.j$.concat([[15,10,28],[15,10,21]]);
e.splice(21,1);var v=cc.qE.slice(0);v[4]--;function J(){aE.call(this,"aply");this.hu.push(new jV([0,3],[]));
this.hu.push(new jV([12,4],["RGB"].concat(hy.wh).concat(["Transparency"])));this.hu.push(new hJ([4,11]));
this.hu.push(new jV([12,19,0],e,v));this.hu.push(new ci([12,0],0,100,"%"));this.hu.push(new cs([12,38],1,2,null,2));
this.hu.push(new cs([12,6],-255,255));this.hu.push(new hJ([13,5]));this.j1([2]);this.aCt=null}J.prototype=new aE;
J.prototype.Ra=function(m,d,x){if(x){var j=x[2].T,E=this.aCt=[];for(var T=0;T<j.length;T++){var L=j[T].getName();
E.push(L.length<30?L:L.slice(0,27)+"...")}E.reverse();this.hu[0].VU([[5,7]].concat(E),[1,E.length])}else var E=this.aCt;
m=m.With.v;var p=m.T.v;d[0]=p[1].t=="name"?1+E.indexOf(p[1].v.val):0;d[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(p[0].v.enum);
d[2]=m.Invr.v;var Z=m.Clcl.v.Clcn;d[3]=h.indexOf(Z);d[4]=m.Opct.v.val;d[5]=m.Scl.v;d[6]=m.Ofst.v;d[7]=m.PrsT.v};
J.prototype._P=function(m,d){m=m.With.v;var x=m.T.v;if(d[0]==0)x[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else x[1]={t:"name",v:{classID:"Lyr",val:this.aCt[d[0]-1]}};x[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][d[1]];
m.Invr.v=d[2];var j=m.Clcl.v.Clcn=h[d[3]];m.Opct.v.val=d[4];m.Scl.v=d[5];m.Ofst.v=d[6];m.PrsT.v=d[7];
var E=j=="Add"||j=="Sbtr";this.hu[5].Es(E);this.hu[6].Es(E)};return J}();aE.matc=function(){var h,e,v=0;
function J(){aE.call(this,"matc");this.hu.push(new ci("Luminance",1,200));this.hu.push(new ci("Color Intensity",1,200));
this.hu.push(new ci([2,11],0,100,"%"));this.hu.push(new hJ("Neutralize"));this.hu.push(new jV([12,70],[]));
this.hu.push(new jV([0,3],[]));this.j1([2])}function m(d,x){d.hu[5].VU([[5,7]].concat(x),[1,x.length])}J.prototype=new aE;
J.prototype.Ra=function(d,x,j){v=0;x[0]=d.Lght.v;x[1]=d.ClrR.v;x[2]=d.Fade.v;x[3]=d.neutralizeColor?d.neutralizeColor.v:!1;
x[4]=x[5]=0;var E=d.Srce;if(E)E=E.v;if(j){h=[];e=[];var L=j[2],p=j[3];for(var T=0;T<p.length;T++){var Z=p[T];
h.push(Z.name);var o=Z.T,u=[];e.push(u);for(var N=0;N<o.length;N++)u.push(o[N].getName());u.reverse()}this.hu[4].VU([[13,1,0]].concat(h),[1,h.length]);
var M=p.indexOf(L);if(E)M=h.indexOf(E[1].v.val);m(this,e[M])}if(E){var O=h.indexOf(E[1].v.val);x[3]=v=1+O;
if(E[0].t=="name")x[4]=1+e[O].indexOf(E[0].v.val)}};J.prototype._P=function(d,x){d.Lght.v=x[0];d.ClrR.v=x[1];
d.Fade.v=x[2];d.neutralizeColor.v=x[3];if(x[4]==0){d.noReference={t:"bool",v:!0};delete d.Srce}else{if(x[4]!=v){v=x[4];
m(this,e[x[4]-1])}delete d.noReference;var j={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},E=e[x[4]-1];
if(x[5]!=0)j={t:"name",v:{classID:"Lyr",val:E[x[5]-1]}};d.Srce={t:"obj ",v:[j,{t:"name",v:{classID:"Dcmn",val:h[x[4]-1]}}]}}};
return J}();function e2(h,e){fx.call(this);if(h==null)return;this.id=e;this.o0=h;this.aac=null;this.Z=V.k("div","window "+e);
this.aFE=null;this.JW=V.k("div","whead");this.ac3=V.k("span","wname");this.JW.appendChild(this.ac3);
this.axG=!1;this.Z.appendChild(this.JW);this.bq=this.a26.bind(this);this.Cd=this.aEo.bind(this);this.KY=this.auL.bind(this);
V.zY(this.JW);V.La(this.JW,this.bq);this.abR=V.k("span","cross gsicon");this.JW.appendChild(this.abR);
e2.prototype.S.call(this);V.wZ(this.abR,this.aEy.bind(this));this.body=V.k("div","body");this.Z.appendChild(this.body)}e2.prototype=new fx;
e2.prototype.G0=function(){return!1};e2.prototype.po=function(){return!1};e2.prototype.S=function(){if(this.o0==null)return;
this.ac3.textContent=bj.get(this.o0)};e2.prototype.HL=function(h,e,v,J,m){};e2.prototype.NB=function(h,e,v,J,m){};
e2.prototype._8=function(h,e,v,J,m){};e2.prototype.ej=function(h,e,v,J,m){};e2.prototype.ZF=function(h,e,v,J,m){};
e2.prototype.lK=function(h,e,v,J){if(J.r(dW.zD)&&this.nb)this.nb();if(J.r(dW.Dd)){var m=new g3(k.E.A);
m.u$=!0;c.lM.aI5(J,m);if(m.data)e.a(m)}};e2.prototype.yz=function(h){return!1};e2.prototype.yG=function(h,e){return!0};
e2.prototype.eh=function(h,e,v,J){};e2.prototype.fa=function(h,e){};e2.prototype.W8=function(h,e){return null};
e2.prototype.ac$=function(h){return this.aFE};e2.prototype.Kt=function(){};e2.prototype.close=function(){this.a(new g3(k.E.Y$))};
e2.prototype.a26=function(h){this.aac=V.IE(h,this.Z);V.Xa(window,this.Cd);V.wZ(window,this.KY)};e2.prototype.aEo=function(h){var e=this.Z.parentNode,v=V.IE(h,e),J=Math.round(v.x-this.aac.x),m=e.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(v.y-this.aac.y)));
this.aFE=new fq(J,m);this.Z.style.left=J+"px";this.Z.style.top=m+"px"};e2.prototype.auL=function(h){V.L0(window,this.Cd);
V.SV(window,this.KY)};e2.prototype.aEy=function(h){if(this.axG){this.nb();return}this.a(new g3("closebtn"));
this.close()};function df(){e2.call(this,"About Photopea","aboutpp");var h=this.body,e=this.aHy=V.k("img");
h.appendChild(e);V.v(this.body,"margin:0; padding:0");var v=this.bs=V.k("div");v.innerHTML=df.tI;h.appendChild(v);
var J=this.$Q=V.k("span");J.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(J)}df.prototype=new e2;df.prototype.W8=function(h,e){return new fq(0,0)};df.prototype.Kt=function(h,e){var v=(h+e-42-42)/110,J,m,d;
v=Math.sqrt((h-42)*(e-42))/50;if(h>e){V.zZ(this.body,"flexrow");J="width:"+h/2+"px; height:"+e+"px; display:block; object-fit:cover;";
m="width:"+(h/2-42)+"px; height:"+(e-42)+"px; padding:20px; font-size:"+v+"px;";d="position:absolute;  bottom:10px; right:"+(h/2+10)+"px"}else{if(h*1.5>e)v*=.9;
V.t7(this.body,"flexrow");J="width:"+h+"px; height:"+e/2+"px; display:block; object-fit:cover;";m="width:"+(h-42)+"px; height:"+(e/2-42)+"px; padding:20px; font-size:"+v+"px;";
d="position:absolute;  bottom:"+(e/2+10)+"px; right:10px"}V.v(this.aHy,J);V.v(this.bs,m);V.v(this.$Q,d)};
df.prototype.S=function(){};df.prototype.eh=function(h,e,v,J){this.aHy.setAttribute("src","promo/ivan_pp.webp")};
df.tI="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function dT(){e2.call(this,"Are you blocking ads?","bnotify");var h=this.body,e="style=\"color:inherit\" target=\"_blank\"",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
h.style.width="540px";var J="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+e+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+e+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+v+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+e+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
h.innerHTML=J}dT.prototype=new e2;function hO(){e2.call(this,[0,13,0],"account");this.ol=V.k("div","form scrollable");
this.body.appendChild(this.ol);this.body.style.padding="0";this.zN=[new hO.yE,new hO.DN("::"+cU.Hk("privacy.html")),new hO.DN(hO.aAz)];
for(var T=0;T<this.zN.length;T++)this.zN[T].parent=this;this.P("showpage",this.aoq,this)}hO.prototype=new e2;
hO.prototype.yG=function(h,e){var v=navigator.onLine;if(!v)alert("Go online first");return v};hO.prototype.Kt=function(h,e){V.v(this.ol,"width:"+Math.min(h-40,740)+"px;  height:"+(e-38)+"px;  padding:1.5em;");
this.zN[0].Kt(h,e)};hO.prototype.W8=function(h,e){return new fq(Math.max(0,Math.min(150,(h-740)/2)),Math.max(0,Math.min(100,(e-500)/2)))};
hO.prototype.aoq=function(h){V.H5(this.ol);this.ol.scrollTop=0;this.ol.appendChild(this.zN[h.data.yl].Z)};
hO.prototype.S=function(){e2.prototype.S.call(this);for(var T=0;T<this.zN.length;T++)this.zN[T].S()};
hO.prototype.eh=function(h,e,v){if(!navigator.onLine)return;V.H5(this.ol);var J=this.zN[0];this.ol.appendChild(J.Z);
J.eh();this.S()};hO.prototype.fa=function(h,e){this.eh(null,null,null)};hO.yE=function(){fx.call(this);
this.Z=V.k("div");var h=this.Z,j,E,p="font-size:1.25em;",Z="text-align:center;",u="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",N="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",M="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",W=12;
this.zv=V.k("div");h.appendChild(this.zv);this.N_=new eA([0,11],!1,null,!0);V.v(this.N_.Z,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.N_.P("click",this.fK,this);h.appendChild(this.N_.Z);this.akJ=new eA([0,13,1],!1,null,!0);this.akJ.P("click",this.atx,this);
h.appendChild(this.akJ.Z);this.aA7=new eA("Business Terms",!1,null,!0);this.aA7.P("click",this.alw,this);
h.appendChild(this.aA7.Z);var e=V.k("div");e.style.margin="20px 0";h.appendChild(e);var v=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],J=this.J9=[],m=this.asY=[],d=this.L1=V.k("div");
h.appendChild(d);for(var T=0;T<v.length;T++){var x=V.k("span");x.textContent=v[T];e.appendChild(x);J.push(x);
V.v(x,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
x.addEventListener("click",this.gJ.bind(this));m.push(V.k("div"))}this.gJ(0);var L=this.atI="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
h=m[0];var E=V.k("table"),o="style=\" "+Z+p+" padding-bottom:20px;\"";E.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+M+">\t\t\t\t\t<div "+o+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+M+">\t\t\t\t\t<div "+o+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+N+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+N+">\u2713</span> 3000 AI credits per month</li> \t\t\t\t\t\t\t<li><span "+N+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
h.appendChild(E);var x=new eA("Go Premium");V.v(x.Z,L+"padding:10px 0;");x.P("click",function(H){this.gJ(1)},this);
E.children[0].children[1].children[1].appendChild(x.Z);this.cJ=V.k("div");h.appendChild(this.cJ);h=m[1];
var O=this.aEG=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.Nv=[];for(var T=0;T<O.length;T++)this.Nv.push(new eA("Buy: $"+O[T][0],!1,null,!0));for(var T=0;
T<this.Nv.length;T++){this.Nv[T].P("click",this.aDT,this)}this.Bj=new eA("...",!0);V.v(this.Bj.Z,L);
h.appendChild(this.Bj.Z);E=this.amx(4,["Single user",this.Nv[0],this.Nv[1],this.Nv[2],"Team of 5",this.Nv[3],this.Nv[4],this.Nv[5],"Team of 20",this.Nv[6],this.Nv[7],this.Nv[8],"Team of 50",this.Nv[9],this.Nv[10],this.Nv[11]]);
h.appendChild(E);var F=V.k("div");h.appendChild(F);F.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.azq=new hJ("I accept",!0,"");h.appendChild(this.azq.Z);this.aiY=new eA([0,13,1],!1,null,!0);this.aiY.P("click",this.atx,this);
h.appendChild(this.aiY.Z);this.akZ=new eA("I have a key",!1,null,!0);V.v(this.akZ.Z,L+" float:right; width:inherit;");
this.akZ.P("click",this.aDT,this);h.appendChild(this.akZ.Z);h=m[2];this.bM=new cF;this.bM.parent=this;
this.bM.P(k.E.f,this.Cm,this);h.appendChild(this.bM.Z);h=m[3];this.O3=new eA("...",!0);V.v(this.O3.Z,L);
h.appendChild(this.O3.Z);E=this.amx(3,["1000 views/mo",this.Nv[W++],this.Nv[W++],this.Nv[W++],"5000 views/mo",this.Nv[W++],this.Nv[W++],this.Nv[W++],"20000 views/mo",this.Nv[W++],this.Nv[W++],this.Nv[W++]]);
h.appendChild(E);var f=V.k("p");f.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
h.appendChild(f);this.BD=new jE("Domain name (e.g. domain.com)",null,14);h.appendChild(this.BD.Z);var $=new eA("Save Domain Settings",!1,null,!0);
$.vU();h.appendChild($.Z);$.P("click",this.acA,this)};hO.yE.prototype=new fx;hO.yE.prototype.gJ=function(h){var e=typeof h=="number"?h:this.J9.indexOf(h.target);
for(var T=0;T<this.J9.length;T++)this.J9[T].style.opacity=.6;this.J9[e].style.opacity=1;V.H5(this.L1);
this.L1.appendChild(this.asY[e])};hO.yE.prototype.Kt=function(h,e){var v=h<600?"d":" days",J=["30 days","90 days","365 days"];
if(h<600)J=["30d","90d","365d"];var m=this.aEG;for(var T=0;T<m.length;T++){this.Nv[T].Ao("<span>"+J[T%3]+": <sup>$</sup><big><b>"+m[T][0]+"</b></big>"+"</span>");
V.v(this.Nv[T].Z,this.atI)}};hO.yE.prototype.atx=function(h){var e=new g3("showpage",!0);e.data={yl:1};
this.a(e)};hO.yE.prototype.alw=function(h){var e=new g3("showpage",!0);e.data={yl:2};this.a(e)};hO.yE.prototype.S=function(){this.N_.Ao(cU.Om()?bj.get([0,11]):bj.get([0,10]));
this.aiY.S();this.akJ.S();this.aA7.S()};hO.yE.prototype.a4v=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.US,link:"https://www.photopea.com/api/accounts#"+(h.target==this.aBx?"teams":"distributors")};
this.a(e)};hO.yE.prototype.axN=function(h){var e=h.currentTarget==this.aFR;this.aFR.e(e);this.axL.e(!e)};
hO.yE.prototype.ayM=function(h){var e=this.aFR.j(),v=this.acB.j().trim().toLowerCase(),J=this.af4.value.trim().toLowerCase();
if(v.length>60){alert("Too long email address");return}if(J.length>600){alert("Too many team members");
return}J=J.split(",").join(" ").trim();J=J.replace(/\s+/g," ");if(J=="")J=[];else J=J.split(" ");var m=cU.rG();
if(m==null)m={};if(m.acc==null)m.acc={};m.acc.team={jin:e,ldr:v,mmb:J};cU.Fm(m,this.Cm.bind(this));alert("Saved!");
this.eh()};hO.yE.prototype.acA=function(h){var e=this.BD.j().trim();if(!cU.Om()){alert("You have to log in first.");
return}if(cU.J4()==0){alert("Order a distributor account first.");return}var v=cU.rG();if(v==null)v={};
if(v.acc==null)v.acc={};if(e=="")delete v.acc.dname;else v.acc.dname=e;cU.Fm(v,this.Cm.bind(this));alert("Saved!");
this.eh()};hO.yE.prototype.amW=function(h){var e=cU.Wf(),T=this.az,v=cU.rG();if(v==null)v={};if(v.acc==null)v.acc={};
v.acc.bto=h;cU.Fm(v,function(){});var J=hO.avW(h.split("\n"),e.pmnts[T]);ke.save(J,"photopea_invoice.pdf")};
hO.yE.prototype.aem=function(h){var e=cU.Wf(),v=cU.rG(),J=v&&v.acc?v.acc.bto:null;if(J==null)J=e.name+"\n"+e.email;
var T=-1,m=h.target.Z.parentNode;while((m=m.previousSibling)!=null)T++;this.az=T;var d=new g3(k.E.u,!0);
d.data={V:k.l.Xq,dF:"billto",xz:J,j5:this.amW.bind(this)};this.a(d)};hO.yE.prototype.eh=function(){this.zv.innerHTML="";
V.H5(this.cJ);if(cU.Om()){var h=cU.Wf(),e=h.pmnts;if(h==null)return;this.zv.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+h.name+"</span> "+h.email+" <br/>";
if(e){var v="<h2>Payments</h2>";for(var T=0;T<e.length;T++){var J=e[T],m=new Date(J[0]*1e3);v+="<div style=\"font-size:1.2em\">"+m.getDate()+". "+(m.getMonth()+1)+". "+m.getFullYear()+" - "+hO.akQ(J)+"</div>"}this.cJ.innerHTML=v;
for(var T=0;T<e.length;T++){var d=new eA("Get Invoice",!1,null,!0);V.v(d.Z,"float:right");d.P("click",this.aem,this);
this.cJ.children[T+1].appendChild(d.Z)}}}else{}var x=cU.Om()&&cU.Ju();this.Bj.Z.style.display=x?"block":"none";
if(x){var j,E,L=x,v="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(L[0]==0){j=cU.V$(L[1])-Date.now()*(1/1e3);
E=L[1][2]==1?"Single User":"Team Of "+L[1][2]}else{j=L[1][1]-Date.now()*(1/1e3);E="Member of \""+L[1][0]+"\""}this.Bj.Ao("Premium active for "+Math.round(j/(60*60*24))+" more days! ("+E+")");
var p=this.asY[4];V.H5(p);for(var Z=fu.OZ();Z>=648;Z--){var o=1970+Math.floor(Z/12),u=Z%12,m=new Date(o,u,2);
v+="<tr><td>"+o+" "+m.toDateString().split(" ")[1]+"</td><td>"+fu.azr(Z)+"</td></tr>"}p.innerHTML=v+"</table>"}var N=cU.Om()&&cU.J4()*1e3>Date.now();
this.O3.Z.style.display=N?"block":"none";if(N){var j=cU.J4()-Date.now()/1e3;this.O3.Ao("Distributor active for "+Math.round(j/(60*60*24))+" more days!")}var M=cU.rG();
this.bM.eh();if(M&&M.acc&&M.acc.dname)this.BD.e(M.acc.dname);else this.BD.e("")};hO.yE.prototype.amx=function(h,e){var v=V.k("table");
if(!0){var J="<table><tr>";for(var T=0;T<h;T++)J+="<th>"+e[T*4]+"</th>";J+="</tr></table>";v.innerHTML=J;
for(var T=0;T<3;T++){var m=V.k("tr"),d;v.appendChild(m);for(var x=0;x<h;x++){d=V.k("td");d.style.width=Math.round(100/h)+"%";
m.appendChild(d);d.appendChild(e[x*4+1+T].Z)}}}return v};hO.yE.prototype.aDT=function(h){var e=this.Nv.indexOf(h.currentTarget),J=30,m=1;
if(!cU.Om()){this.fK();return}if(this.azq.j()==!1&&e<12){alert("You must accept Terms of Service");return}var v=cU.Om()&&cU.Ju();
if(e!=-1){var d=this.aEG[e];J=d[1];m=d[2]}if(v&&m<1e3){alert("You already have premium.");return}console.log(d,J,m);
if(e==-1){var x=prompt("Please enter your key");if(x!=null){cU.ajH(x,this.Cm.bind(this));this.O6()}return}if(J==30&&m==1){var j=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!j)return}cU.order(J,m,this.Cm.bind(this));this.O6()};hO.yE.prototype.Cm=function(h){this.eh();this.O6()};
hO.yE.prototype.fK=function(h){if(cU.Om()){cU.ahU();this.O6();this.eh(null,null,null)}else cU.fK(this.aCY.bind(this))};
hO.yE.prototype.aCY=function(){var h=new g3(k.E.u,!0);h.data={V:k.l.ab2};this.a(h)};hO.yE.prototype.O6=function(){var h=new g3(k.E.u,!0);
h.data={V:k.l.aAM};this.a(h)};hO.DN=function(h){fx.call(this);this.Z=V.k("div");var e=this.Z,v=this.aja=new eA([0,13,2],!1,null,!0),J;
v.P("click",this.aD1,this);e.appendChild(v.Z);if(h.startsWith("::")){J=V.k("iframe");V.v(J,"width:100%;height:1700px; background-color:white;");
J.setAttribute("src",h.slice(2))}else{J=V.k("div");J.innerHTML=h}e.appendChild(J)};hO.DN.prototype=new fx;
hO.DN.prototype.aD1=function(h){var e=new g3("showpage",!0);e.data={yl:0};this.a(e)};hO.DN.prototype.S=function(){this.aja.S()};
hO.aAz="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
hO.akQ=function(h){var e=h[1]+" days, ";if(h[2]<1e3)return"Photopea Premium ("+e+h[2]+" user"+(h[2]==1?"":"s")+")";
else return"Photopea Distributor ("+e+h[2]+" views/month)"};hO.avW=function(h,e){h=["Bill To:"].concat(h);
var v=new ToPDF,J=595,m=842,d=40,x=18,j=12,E=500,L=100,p=400,M=0;function Z(U,z,q,P,g){u.font.Tf=g?"Helvetica-Bold":"Helvetica";
u.ctm=[1,0,0,1,z,q];u.font.Tfs=P?P:j;v.PutText(u,U,0)}function o(U,z,q,P){for(var T=0;T<U.length;T++){Z(U[T],z,q-T*P,null,T==0)}}var u=UDOC.getState();
v.StartPage(0,0,J,m);Z("INVOICE",J-d-140,m-d-30,30,!0);o(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],d,m-d-40,x);
var N=new Date(e[0]*1e3);o(["Date: "+N.getDate()+". "+(N.getMonth()+1)+". "+N.getFullYear(),"Transaction ID: "+e[4]],J-d-140,m-d-40-x*2,x);
var O=h.join("");for(var T=0;T<O.length;T++)M=Math.max(M,O.charCodeAt(T));if(M>256){var F=4,W=V.k("canvas"),f=W.getContext("2d"),$=0;
f.font=j*F+"px sans-serif";for(var T=0;T<h.length;T++)$=Math.max($,f.measureText(h[T]).width);var H=Math.round($)+20,A=h.length*F*x+20;
W.width=H;W.height=A;f.font=j*F+"px sans-serif";for(var T=0;T<h.length;T++){f.font=(T==0?"bold ":"")+j*F+"px sans-serif";
f.fillText(h[T],10,(T+1)*F*x)}document.body.appendChild(W);var G=new Uint8Array(f.getImageData(0,0,H,A).data.buffer);
u.ctm=[H/F,0,0,A/F,d-10/F,m-d-40-100-A/F];v.PutImage(u,G,H,A);u.ctm=[1,0,0,1,0,0]}else o(h,d,m-d-40-100,x);
u.colr=[.8,.8,.8];u.pth={cmds:["M","L","L","L","Z"],crds:[d,E,J-d,E,J-d,E-x,d,E-x]};v.Fill(u);u.colr=[0,0,0];
var l=[d,E,J-d,E,d,E-x,J-d,E-x,d,E-L,J-d,E-L,d,E,d,E-L,J-d,E,J-d,E-L,p,E,p,E-L],K=[];for(var T=0;T<l.length;
T+=4)K.push("M","L");u.pth={cmds:K,crds:l};v.Stroke(u);Z("Order details",d+4,E-14);Z(hO.akQ(e),d+4,E-x-14);
Z("TOTAL:",d+4,E-L-14,null,!0);Z("Price",J-d-50,E-14);Z(e[3]+" USD",J-d-60,E-x-14);Z(e[3]+" USD",J-d-60,E-L-14,null,!0);
Z("www.Photopea.com",d,d);Z("support@photopea.com",J-d-130,d);v.ShowPage();v.Done();return v.buffer};
function ab(){e2.call(this,[11,14],"addguides");this.IU;this.H={Kd:{XB:0}};this.aaT=null;var h=V.k("div","form");
this.body.appendChild(h);this.Br=[];this._U=new ha(null,["Hi"]);h.appendChild(this._U.Z);V.Xp(h);this._U.P(k.E.f,this.aD,this);
this.F_=new jE([22,4,0],null,16);this.F_.P(k.E.f,this.NS,this);this.XU=new jE([22,4,1],null,16);this.XU.P(k.E.f,this.NS,this);
this.Xu=new jV(null,B.yu.Gw);this.Xu.P(k.E.f,this.NS,this);h.appendChild(this.F_.Z);h.appendChild(this.Xu.Z);
V.Xp(h);h.appendChild(this.XU.Z);this.s5=V.ab(this,h);this.P("closebtn",this.IS,this)}ab.prototype=new e2;
ab.prototype.yG=function(h,e){return h!=null};ab.prototype.G0=function(){return!0};ab.prototype.S=function(){e2.prototype.S.call(this);
this.F_.S();this.XU.S();this.Xu.S();this.s5.S()};ab.prototype.fa=function(h,e){var v=h.Kd.XB;this.H.Kd.XB=v;
this.Xu.e(v)};ab.prototype.eh=function(h,e){this.IU=h;this.aaT=JSON.stringify(h.XX());this.Br=[-1];var v=["Global"],J=h.root.children,m=h.uG();
for(var T=0;T<J.length;T++){var d=J[T].L;if(d.add.artb){v.push(d.getName());this.Br.push(J[T].index)}}this._U.VU(v);
this._U.e(this.Br.indexOf(m));this.aD()};ab.prototype.aD=function(){var h=this.IU,e=h.XX(),v=this.Br[this._U.j()],J=[0,0];
if(v!=-1){var m=h.T[v].AC();J=[m.x,m.y]}var d=function(x,j,h,E,L){var p=x[0],Z=[];for(var T=0;T<p.length;
T++)if(x[1][T]==v&&p[T][0]==j)Z.push(B.yu.U_(p[T][1]-J[j],h.gx,E,L));Z.sort(function(o,u){return o-u});
return Z.join(", ")};this.F_.e(d(e,1,h,this.H,h._));this.XU.e(d(e,0,h,this.H,h.q))};ab.prototype.NS=function(h){if(h&&h.currentTarget==this.Xu)this.H.Kd.XB=this.Xu.j();
else{var e=this.atP(),v=this.IU;v.IY(e);v.GI=!0}this.aD()};ab.prototype.atP=function(){var h=this.IU,e=h.XX(),v=this.Br[this._U.j()],J=[0,0];
if(v!=-1){var m=h.T[v].AC();J=[m.x,m.y]}var d=[];for(var x=0;x<2;x++){var j=x==0?this.XU:this.F_,E=x==0?h.q:h._,L=j.j().replace(/,/g," ").replace(/  +/g," ").trim(),p=L==""?[]:L.split(" ");
for(var T=0;T<p.length;T++)d.push([x,B.yu.ak8(p[T],h.gx,this.H,E)+J[x]])}for(var T=0;T<e[0].length;T++)if(e[1][T]==v){e[0].splice(T,1);
e[1].splice(T,1);T--}for(var T=0;T<d.length;T++){e[0].push(d[T]);e[1].push(v)}return e};ab.prototype.IS=function(h){var e=this.IU;
e.IY(JSON.parse(this.aaT));e.GI=!0;this.IU=null};ab.prototype.nb=function(h){this.NS(h);var e=new g3(k.E.A,!0);
e.I=c.GA;e.data={V:"gids",mx:JSON.parse(this.aaT),qR:this.IU.XX()};this.IU=null;this.close();this.a(e)};
function cq(h){e2.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[h],h);
this.H=null;this.IU=null;this.qk=null;var e=V.k("div","form");this.body.appendChild(e);V.v(e,"width:300px");
this.cx=new gR("Source Images",!0,!0);e.appendChild(this.cx.Z);this.asy=new jV([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.HC=new hJ("Order images by name");this.HC.e(!0);var v=this.aiq=gI.oT();for(var T=0;T<v.length;T++)if(gI.g6(v[T]).ug){v.splice(T,1);
T--}v.push("SVG","PDF");this.Xn=new jV([12,50],v);this.Xn.e(1);this.wQ=new ff;this.Xn.P(k.E.f,this.z4,this);
this.D6=new jV("Action Set",[]);this.D6.P(k.E.f,this.fa,this);this.aHz=new jV("Action",[]);this.adW=new hJ("Apply to all opened documents");
this.aq4=new hJ("Stretch inserted images");this.aq4.e(!0);this.gQ=new hJ("Resize");this.gQ.P(k.E.f,this.aFH,this);
var J=this.ab3=V.k("div","label6");this.E4=new cs([12,41],1,5e3,"px",0,null,null,5);this.E4.parent=this;
this.E4.e(1e3);this.Xo=new cs([12,42],1,5e3,"px",0,null,null,5);this.Xo.parent=this;this.Xo.e(1e3);J.appendChild(this.E4.Z);
V.Xp(J);J.appendChild(this.Xo.Z);if(h=="pdfpres"){e.appendChild(this.asy.Z);e.appendChild(this.HC.Z)}else{if(h=="batch"){e.appendChild(this.D6.Z);
V.Xp(e);e.appendChild(this.aHz.Z);V.ja(e)}if(h=="mockups"){e.appendChild(this.adW.Z);e.appendChild(this.aq4.Z);
V.Xp(e)}if(h=="resize"){this.gQ.e(!0)}else{e.appendChild(this.gQ.Z);V.Xp(e)}e.appendChild(J);this.aFH();
V.ja(e);e.appendChild(this.Xn.Z);e.appendChild(this.wQ.Z)}var m=["VAR0 PDF",[1,8]];if(h=="cformat")m="Convert Images";
if(h=="batch")m="Process Images";if(h=="mockups")m="Generate";if(h=="resize")m="Resize Images";var d=new eA(m,!0,null,!0);
d.P("click",this.$G,this);e.appendChild(d.Z);this.z4();this.qq=-1;this.DF=null}cq.prototype=new e2;cq.prototype.aFH=function(h){this.ab3.style.display=this.gQ.j()?"":"none"};
cq.prototype.z4=function(h){var e=this.aiq[this.Xn.j()];this.wQ.du(e)};cq.prototype.$G=function(h){this.DF=null;
if(this.id=="mockups"&&this.qk.length>1&&this.adW.j()){this.DF={};this.qq=0}this._D()};cq.prototype._D=async function(){var h=Date.now(),e=this.cx.j(),v=[],d=595,x=842,N,M,O,F;
for(var J in e)v.push(J);if(v.length==0){alert("No images selected");return}if(this.HC.j())v.sort();
var m=this.asy.j(),j=new ToPDF,E=UDOC.getState(),L=this.aiq[this.Xn.j()],p=gI.g6(L),Z=this.wQ.j(),o={},u=this.IU;
if(this.DF)u=this.qk[this.qq];if(this.id=="mockups"){if(u==null){alert("Open a document with smart objects");
return}var W=u.T[u.X[0]];if(W.add.SoLd==null){W=null;for(var T=0;T<u.T.length;T++)if(u.T[T].add.SoLd)W=u.T[T];
if(W==null){alert("There are no smart objects in a current document.");return}}u.X=[u.T.indexOf(W)];
var f=W.add.SoLd;M=u.mJ(f.Idnt.v);O=M.pd;F=M.Qp;N=f.Sz.v}for(var $=0;$<v.length;$++){var J=v[$],H=e[J],A=H[0]==255,G=gI.pI(H.buffer),l=gI.g6(G),K=[{Ei:new fP,data:new ArrayBuffer(0)}],U=null;
if(G=="psd"&&!p.ug)K=jI.ayb(H.buffer);else if(l.ug){U=new e7("file.psd");l.E2(H.buffer,U);U.Bb();if(!p.ug){if(U.cj)hP.GV(U,this.H.eN,this);
U.dn();U.vp();K=[{Ei:new fP(0,0,U.q,U._),data:U.pb().buffer}]}}else if(l.QQ){K=await gI.amk(l,H.buffer);
console.log(K)}else K=l.E2(H.buffer);if(this.id=="batch"){var z=new g3(k.E.u,!0),q=this.H,P=q.cW,g=P[this.D6.j()];
for(var T=0;T<K.length;T++){U=gI.d2(J,[K[T]]);z.data={V:k.l.zM,Zw:U};this.a(z);if(U.T.length==3)U.X=[1];
h8.aHb(U,P,g.L1[this.aHz.j()].SQ,g.SQ,this);U.dn();U.vp();K[T].Ei=new fP(0,0,U.q,U._);K[T].data=U.pb().buffer;
K[T].gx=U.gx;K[T].oR=U.oR;z.data={V:k.l.Q$,tL:U};this.a(z)}}if(this.id=="mockups"){var a=new Uint8Array(K[0].data),w=K[0].Ei,y=N.Wdth.v,S=N.Hght.v;
if(!this.aq4.j()){var i=w.q,C=w._,Y=i/C,_=y/S;if(_>Y)i=Math.ceil(C*_);else C=Math.ceil(i/_);w.x=i-w.q>>>1;
w.y=C-w._>>>1;var t=new fP(0,0,i,C),I=B.U(i*C*4);B.YZ(a,w,I,t);a=I;w=t}var r=c.L2.X_([a,w],new aJ(y/w.q,0,0,S/w._,0,0));
M.pd=[r.buffer,r.R];B.Nb(M.pd);M.Qp=r.R;u.aqA(M.mX);K=[{data:u.pb().buffer,Ei:new fP(0,0,u.q,u._),gx:u.gx,oR:u.oR,dQ:u.dQ}]}if(this.gQ.j()){var n=K[0].Ei,Q=Math.min(this.E4.j()/n.q,this.Xo.j()/n._);
if(Q<1)for(var T=0;T<K.length;T++){var a=new Uint8Array(K[T].data),w=K[T].Ei,r=c.L2.X_([a,w],new aJ(Q*.999999,0,0,Q*.999999,0,0));
K[T].data=r.buffer.buffer;K[T].Ei=r.R}}var n=K[0].Ei,D=new Uint8Array(K[0].data),dG=n.q,R=n._;if(this.id=="pdfpres"){var X=[[595,842],[842,595],[595,595],[595,0]][m];
if(m==3)X[1]=Math.round(X[0]*R/dG);var d=X[0],x=X[1],dx=Math.min(d/dG,x/R);j.StartPage(0,0,d,x);E.ctm=[dG*dx,0,0,R*dx,(d-dG*dx)/2,(x-R*dx)/2];
j.PutImage(E,A?H:D,dG,R);j.ShowPage()}else{var jv=J.split("."),hQ;jv.pop();jv.push(L.toLowerCase());
if(p.ug){if(U==null){U=gI.d2(J,K);U.Bb()}hQ=p.oZ(U,U.q,U._,Z,this.H)}else{var ah=[];for(var T=0;T<K.length;
T++){var kG=K[T],iZ=kG.dq,bs=0;if(iZ){iZ=iZ.split(",");if(iZ[1])bs=parseInt(iZ[1])}ah.push([kG.data,bs,kG.gx,kG.dQ,null,kG.oR])}hQ=p.oZ(ah,dG,R,Z)}o[jv.join(".")]=new Uint8Array(hQ)}}if(this.id=="mockups"){M.pd=O;
M.Qp=F;u.aqA(M.mX)}console.log(Date.now()-h);if(this.id=="pdfpres"){j.Done();this._s(j.buffer,"file.pdf")}else{var ey="images";
if(this.id=="mockups")ey=u.name.slice(0,u.name.length-4);if(this.DF){for(var J in o)this.DF[ey+"/"+J]=o[J];
this.qq++;if(this.qq==this.qk.length){this._s(UZIP.encode(this.DF),"images.zip");this.DF=null}else this._D()}else this._s(UZIP.encode(o),ey+".zip")}};
cq.prototype._s=function(h,e){cU.event("auto_"+this.id);ke.save(h,e)};cq.prototype.eh=function(h,e,v,J){this.IU=h;
this.qk=v};cq.prototype.fa=function(h,e){if(e!=null){this.H=h;var v=h.cW,J=[];for(var T=0;T<v.length;
T++)J.push(v[T].SQ);this.D6.VU(J)}else h=this.H;var v=h.cW.length==0?[]:h.cW[this.D6.j()].L1,J=[];for(var T=0;
T<v.length;T++)J.push(v[T].SQ);this.aHz.VU(J)};cq.prototype.S=function(){e2.prototype.S.call(this);this.wQ.S();
this.E4.Ao("Max. "+bj.get([12,41])+":");this.Xo.Ao("Max. "+bj.get([12,42])+":");this.cx.S();this.asy.S();
this.HC.S()};function ac(h){var e=f8.names[h];if(e==null)e=hy.names[h];if(h=="aply")e=[2,12];if(h=="fade")e=[2,11];
if(h=="matc")e=[4,18];if(h=="blendOptions")e=[14,10];e2.call(this,e,"afw_"+h);this.Ps=h;this.AU=null;
this.aHh=null;this.Gd=new aE[h];this.Gd.P(k.E.f,this.ob,this);this.Gd.parent=this;this.body.appendChild(this.Gd.Z);
this.TX=new hJ([24,18,5]);this.TX.e(!0);this.TX.P(k.E.f,this.ob,this);this.ff=new eA([1,12,2],!0,null,!0);
this.ff.P("click",this.xp,this);this.s5=V.ab(this);if(this.Uj())this.Gd.hw(this.s5.Z);else{V.zZ(this.Gd.Z,"form");
V.zZ(this.body,"flexrow");V.v(this.Gd.Z,"width:312px");var v=V.k("div");this.body.appendChild(v);V.v(v,"width:8em; margin-left:1em; line-height:2.3em");
v.appendChild(this.s5.Z);v.appendChild(this.ff.Z);v.appendChild(this.TX.Z)}this.P("closebtn",this.xS,this)}ac.prototype=new e2;
ac.prototype.G0=function(){return!0};ac.prototype.Uj=function(){return this.Gd!=null&&this.Gd.mk()};
ac.prototype.W8=function(){return this.Uj()?new fq(0,0):e2.prototype.W8()};ac.prototype.yz=function(h){return this.Gd.yz(h)};
ac.prototype.po=function(){return this.Gd.po()};ac.prototype.HL=function(h,e,v,J,m){this.Gd.HL(h,e,v,J,m)};
ac.prototype._8=function(h,e,v,J,m){this.Gd._8(h,e,v,J,m)};ac.prototype.ej=function(h,e,v,J,m){this.Gd.ej(h,e,v,J,m)};
ac.prototype.yG=function(h,e){if(this.Ps=="fade")return ac.aa_(h);return!0};ac.prototype.xp=function(h){this.Gd.e(f8.UX(this.Ps));
this.ob()};ac.prototype.ob=function(h){this.r6({V:"edit",GL:this.Gd.j(),tB:!this.TX.j()})};ac.prototype.xS=function(h){this.r6({V:"cancel"})};
ac.prototype.nb=function(h){if(!this.TX.j()){this.TX.e(!0);this.ob()}this.aHh=this.Gd.j();if(this.Uj())this.ob();
this.r6({V:"confirm"});this.close()};ac.prototype.S=function(){e2.prototype.S.call(this);this.TX.S();
if(this.Gd)this.Gd.S();this.s5.S()};ac.prototype.fa=function(h,e){if(this.Gd)this.Gd.fa(h,e)};ac.prototype.lK=function(h,e,v,J){if(this.Uj())this.Gd.lK(J);
else e2.prototype.lK.call(this,h,e,v,J)};ac.prototype.eh=function(h,e,v,J){this.AU=e.AU;var m=h.add.lnk2?h.add.lnk2:[],d,x,j=new fP(0,0,h.q,h._),E=h.T[h.X[0]],p=null;
d=E.buffer;x=E.R;var L=h.K&&this.Ps=="LqFy"&&e.AU==null;if(L){x=h.K.R.O();d=B.U(x.$()*4);B.YZ(E.buffer,E.R,d,x)}if(this.Uj()){p=h.pb(h.X[0]-1);
if(L){var Z=B.U(x.$()*4);B.YZ(p,j,Z,x);j=x.O();p=Z}}var o=f8.UX(this.Ps),u=[m,h.Ar,h,v];if(e.AU==null){this.Gd.e(o,d,x,j,p,u);
if(hy.names[this.Ps]){if(J.r(dW.B2)&&this.aHh)this.Gd.e(this.aHh);var N=c.tC.getData(h),M=B.AH(N[0].ND);
this.Gd.Y9(M)}}else{var O=!1,E=h.T[this.AU.L];if(E.vO()){var F=E.o7(h);d=F.buffer;x=F.R;var W=E.add.SoLd.filterFX.v.filterFXList.v;
if(W[this.AU.index]){var f=W[this.AU.index].v;this.Gd.e(this.Ps=="blendOptions"?f.blendOptions.v:f.Fltr.v,d,x,j,p,u);
this.Gd.Y9(B.AH(d));O=!0}}if(!O){this.Gd.e(o,d,x,j,p,u);this.Gd.Y9(B.AH(d))}}if(!this.Uj()){this.ob();
var $=this.Gd;if($&&$.hu&&$.hu[0]&&$.hu[0].bX&&Math.min(window.innerWidth,window.innerHeight)>500)$.hu[0].bX()}};
ac.prototype.r6=function(h){var e=new g3(k.E.A,!0);h.Ps=this.Ps;h.AU=this.AU;if(this.Ps=="VaPo"){h.J=this.Gd.j();
h.wp=this.Gd.ak4()}e.data=h;e.I=f8.names[this.Ps]||this.AU?c.hk:c.EM;e.u$=!0;this.a(e)};ac.prototype.Kt=function(h,e){if(!this.Gd.mk()){}else{this.body.style.padding="0";
this.Gd.Kt(h,e)}};ac.aa_=function(h){if(h==null)return!1;var e=h.Ax();if(e==null||!(e.data instanceof Array)||e.data.length!=h.X.length)return!1;
for(var T=0;T<e.data.length;T++){var v=e.data[T];if(v.L<0&&h.Ar[-1-v.L])return!0;if(v.L==null||h.T[v.L]==null||h.T[v.L].TM!=v.tf)return!1;
if(h.X.indexOf(v.L)==-1)return!1}return!0};function jx(){e2.call(this,[11,0],"camera");this.data=null;
this.ahj=new fq(1,1);this.acj=[];var h=V.k("div","form hbar");this.body.appendChild(h);this.aq5=new jV(null,[]);
this.aE1=new jV([21,0],[[21,2],[21,1]]);h.appendChild(this.aE1.Z);this.lv=new jV(null,[]);this.lv.P(k.E.f,this.asd,this);
h.appendChild(this.lv.Z);this.abG=new eA([11,0],!1,null,!0);this.abG.P("click",this.atq,this);h.appendChild(this.abG.Z);
this.a1X=new cE("");h.appendChild(this.a1X.Z);this.stream=null;this.xj=V.k("video");this.xj.setAttribute("autoplay","true");
this.body.appendChild(this.xj);this.aBc=this.aDx.bind(this);this.aoL=this.aBH.bind(this);this.aDa=this.alZ.bind(this);
this.P("closebtn",this.aBz,this)}jx.prototype=new e2;jx.prototype.S=function(){e2.prototype.S.call(this);
this.aE1.S();this.abG.S();this.Kt(this.VA,this.qw)};jx.prototype.pb=function(){var h=this.xj.videoWidth,e=this.xj.videoHeight,v=V.k("canvas","");
v.width=h;v.height=e;var J=v.getContext("2d");J.drawImage(this.xj,0,0,h,e);var m=J.getImageData(0,0,h,e);
return{Ei:new fP(0,0,h,e),data:m.data.buffer}};jx.prototype.atq=function(h){if(this.aE1.j()==0)this.an9();
else this.a1P()};jx.prototype.a1P=function(){var h=this.pb(),e={buffer:new Uint8Array(h.data),R:h.Ei},v=new g3(k.E.A,!0);
v.u$=!0;v.I=c.Yn;v.data={V:s.Lo,qs:e};this.a(v);alert(bj.get([21,4]))};jx.prototype.an9=function(){var h=this.pb(),e=gI.d2("camera",[h]),v=new g3(k.E.u,!0);
v.data={V:k.l.zM,Zw:e};this.a(v);alert(bj.get([21,5]))};jx.prototype.eh=function(h,e,v){navigator.mediaDevices.enumerateDevices().then(this.abC.bind(this))};
jx.prototype.abC=function(h){var e=this.acj=[],v=[];for(var T=0;T<h.length;T++)if(h[T].kind=="videoinput"){e.push(h[T]);
v.push("Camera "+e.length)}this.lv.VU(v);this.lv.e(0);this.asd()};jx.prototype.asd=function(h){this.aBz();
var e={video:{deviceId:this.acj[this.lv.j()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(e).then(this.aBc).catch(this.aoL);
else navigator.webkitGetUserMedia(e,this.aBc,this.aoL)};jx.prototype.aDx=function(h){this.stream=h;this.xj.srcObject=h;
this.xj.addEventListener("loadedmetadata",this.aDa,!1)};jx.prototype.alZ=function(h){this.xj.play();
this.Kt(this.VA,this.qw)};jx.prototype.W8=function(h,e){return new fq(0,0)};jx.prototype.Kt=function(h,e){var v=this.xj.videoWidth,J=this.xj.videoHeight;
this.a1X.e(v+" x "+J+" px");V.v(this.a1X.Z,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.ahj.Cg(v,J);this.VA=h;this.qw=e;var m=h-28,d=e-28-30,x=this.ahj.x/this.ahj.y;if(m/d>x)m=d*x;else d=m/x;
V.v(this.xj,"display: block; width: "+Math.round(m)+"px; height:"+Math.round(d)+"px;")};jx.prototype.aBH=function(h){console.log("error",h);
alert(bj.get([21,6]));this.close()};jx.prototype.aBz=function(h){if(this.stream!=null){var e=this.stream.getTracks();
for(var T=0;T<e.length;T++)e[T].stop();this.stream=null}};function fw(){e2.call(this,[7,8],"crange");
this.IU=null;this.g1={hO:73,DR:4.45,b:4};this.Lw={hO:73,DR:4.45,b:4};this.body.style.width="20em";this.HT=new jV([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.HT.P(k.E.f,this.aaU,this);this.body.appendChild(this.HT.Z);this.tI=V.k("div","form");this.body.appendChild(this.tI);
var h=this.alf=2,e=this.f6=[new ci([12,92],0,200),new ha([12,36],[[18,0],"\uFF0B","-"]),new ci([12,92],0,100,"%"),new cs("Min",0,255),new cs("Max",0,255)];
e[0].e(40);e[h].e(40);for(var T=0;T<e.length;T++){e[T].P(k.E.f,this.FN,this);e[T].parent=this}this._y=V.k("canvas");
this.body.appendChild(this._y);this.s5=V.ab(this,this.body)}fw.prototype=new e2;fw.prototype.yG=function(h,e){return h!=null};
fw.prototype.po=function(){return!0};fw.prototype.G0=function(){return!0};fw.prototype.aaU=function(h){var e=this.HT.j(),v=this.f6,J=this.tI,m=0,d=v.length,x=this.alf;
if(e==0)d=x;else{m=x;v[m+1].e([0,100,190][e-1]);v[m+1].Es(e!=1);v[m+2].e([60,150,255][e-1]);v[m+2].Es(e!=3)}V.H5(J);
for(var T=m;T<d;T++){J.appendChild(v[T].Z)}this.FN()};fw.prototype.S=function(){e2.prototype.S.call(this);
this.s5.S();this.HT.S();for(var T=0;T<this.f6.length;T++)this.f6[T].S()};fw.prototype.HL=function(h,e,v,J,m){var d=h.p.$$(m.x,m.y);
this.agW(d.x,d.y)};fw.prototype.agW=function(h,e){var v=Math.min,J=Math.max,m=this.IU,d=J(0,v(m.q-1,Math.floor(h))),x=J(0,v(m._-1,Math.floor(e))),j=m.pb(),E=(x*m.q+d)*4,L=j[E],p=j[E+1],Z=j[E+2],o=B.Aj(L,p,Z),u=this.f6[1].j(),N=this.g1,M=this.Lw;
if(u==0){this.g1=B.t(o);this.Lw=o}else if(u==1){N.hO=v(N.hO,o.hO);N.DR=v(N.DR,o.DR);N.b=v(N.b,o.b);M.hO=J(M.hO,o.hO);
M.DR=J(M.DR,o.DR);M.b=J(M.b,o.b)}else if(u==2){var O=(N.hO+M.hO)/2,F=(N.DR+M.DR)/2,W=(N.b+M.b)/2;if(o.hO<O)N.hO=J(N.hO,o.hO+10);
else M.hO=v(M.hO,o.hO-10);if(o.DR<F)N.DR=J(N.DR,o.DR+1);else M.DR=v(M.DR,o.DR-1);if(o.b<W)N.b=J(N.b,o.b+1);
else M.b=v(M.b,o.b-1)}this.FN()};fw.prototype.nb=function(h){var e=this.HT.j(),v=this.f6,J={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(e==0){var m=this.g1,d=this.Lw;J.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:m.hO},A:{t:"doub",v:m.DR},B:{t:"doub",v:m.b}}};
J.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:d.hO},A:{t:"doub",v:d.DR},B:{t:"doub",v:d.b}}};J.Fzns={t:"long",v:v[0].j()}}else{e--;
var x=["shadows","midtones","highlights"][e];J.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][e]}};if(0<e)J[x+"LowerLimit"]={t:"long",v:v[3].j()};
if(e<2)J[x+"UpperLimit"]={t:"long",v:v[4].j()};J[x+"Fuzziness"]={t:"long",v:v[2].j()}}this.close();var j=new g3(k.E.Fq,!0);
j.data={UH:"colorRange",TH:J};this.a(j)};fw.prototype.eh=function(h,e){this.IU=h;this.agW(0,0);this.aaU()};
fw.prototype.FN=function(){var h=this.IU,e=this.HT.j(),v=this.g1,J=this.Lw,m=this.f6,d=m[0].j()/200,x=!1;
if(e>0){v=m[3].j();J=m[4].j();if(v>=J)v=J-1;x=!0;d=m[2].j()/100}var j=c.tM.PE(h,v,J,d,x),E=j.R,L=j.G,p=this._y,Z=p.getContext("2d"),o=Math.floor(230*V.A_()),u=Math.floor(o*(E._/E.q));
p.width=o;p.height=u;V.Aw(p,o,u);var N=B.U(L.length*4);B.yV(N,4294967295);for(var T=0;T<3;T++)B.ar(L,N,T);
var M=c.L2.X_([N,E],new aJ(o/E.q,0,0,u/E._,0,0)),O=M.R,F=new ImageData(new Uint8ClampedArray(M.buffer.buffer),O.q,O._);
Z.putImageData(F,0,0)};function jU(){e2.call(this,[12,76,1],"createshape");this.Me=null;var h=V.k("div","form");
V.v(h,"width:20em");this.body.appendChild(h);this.Nm=new ai(!0,!0,null,!0,!0);this.Nm.e(new fq(100,100));
h.appendChild(this.Nm.Z);this.agE=new hJ([19,5,3]);h.appendChild(this.agE.Z);this.s5=V.ab(this,h)}jU.prototype=new e2;
jU.prototype.nb=function(h){var e=this.Nm.j();this.Me.avY(this.Me.ap5,e.x,e.y,this.agE.j());this.close()};
jU.prototype.S=function(){if(this.Me)this.o0=bj.get([5,3])+": "+bj.get(this.Me.agq);e2.prototype.S.call(this);
this.s5.S();this.Nm.S();this.agE.S()};jU.prototype.eh=function(h,e){this.Me=e;this.S();this.Nm.e(this.Nm.j(),h.gx)};
function g4(){e2.call(this,[11,1],"colorpicker");this.RB=null;this.oC=null;this.Sb=null;this.b_=!1;this.AX=!1;
this.aGB=[.9642,1,.8249];var h=V.k("div","flexrow"),x,j;this.body.appendChild(h);this.gs=new cb(256,!0);
this.gs.P(k.E.f,this.OT,this);h.appendChild(this.gs.Z);var e=V.k("div","form");V.v(e,"width:14.5em; margin-left:1em;");
h.appendChild(e);var v=V.k("div","flexrow");e.appendChild(v);var J=V.k("div");v.appendChild(J);J.style="width:95px; margin-right:14px";
this.am$=V.k("div","full");J.appendChild(this.am$);this.anK=V.k("div","full");J.appendChild(this.anK);
var J=V.k("col");v.appendChild(J);J.style.width="80px";this.s5=V.ab(this,J);var v=V.k("div","flexrow");
e.appendChild(v);var m=V.k("div"),d=V.k("div");v.appendChild(m);v.appendChild(d);m.style=d.style="margin-left:14px; max-width:80px;";
x=["H","S","B"];j=m;this.Rz=[];for(var T=0;T<3;T++){var E=0,L=360,p="\xB0";if(T!=0){L=100;p="%"}var Z=new cs(x[T],E,L,p,0,!1,!0);
this.Rz.push(Z);Z.P(k.E.f,this.ahR,this);j.appendChild(Z.Z);if(T==2)Z.Z.style.marginBottom="8px"}x=["R","G","B"];
j=m;this.MX=[];for(var T=0;T<3;T++){var Z=new cs(x[T],0,255,null,0,!1,!0);this.MX.push(Z);Z.P(k.E.f,this.akj,this);
j.appendChild(Z.Z)}x=["L","a","b"];j=d;this.Lg=[];for(var T=0;T<3;T++){var E=[0,-128,-128][T],L=[100,127,127][T],Z=new cs(x[T],E,L,null,0,!1,!0);
Z.e(0);this.Lg.push(Z);Z.P(k.E.f,this.ark,this);j.appendChild(Z.Z);if(T==2)Z.Z.style.marginBottom="8px"}x=["C","M","Y","K"];
j=d;this.QI=[];for(var T=0;T<4;T++){var Z=new cs(x[T],0,100,"%",0,!1,!0);Z.e(0);this.QI.push(Z);Z.P(k.E.f,this.agV,this);
j.appendChild(Z.Z);if(T==3)Z.Z.style.marginBottom="8px"}this.F_=new jE("#",null,4.5);this.F_.P(k.E.f,this.U1,this);
m.appendChild(this.F_.Z);this.F_.Z.style.marginRight="0";this.Ns=V.k("input","fitem");this.Ns.setAttribute("type","color");
V.v(this.Ns,"width:59px;  margin-left:19px;");this.Ns.addEventListener("change",this.U1.bind(this),!1);
this.Nz=new e$(9);this.Nz.P(k.E.f,this.U1,this);e.appendChild(this.Nz.Z);this.P("closebtn",this.xS,this);
this.GQ=!1}g4.prototype=new e2;g4.prototype.po=function(){return!0};g4.prototype.W8=function(h,e){if(Math.min(h,e)>500)return null;
return new fq(Math.max(0,Math.min(150,(h-484)/2)),Math.max(0,Math.min(150,(e-316)/2)))};g4.prototype.Kt=function(h,e){this.gs.Kt(Math.min(256,h-226),e)};
g4.prototype.S=function(h,e){e2.prototype.S.call(this);for(var T=0;T<3;T++){this.MX[T].S();this.Rz[T].S();
this.Lg[T].S()}for(var T=0;T<4;T++)this.QI[T].S();this.s5.S()};g4.prototype.OT=function(h){this.oC=this.gs.j();
this.update()};g4.prototype.HL=function(h,e,v,J,m){this.GQ=!0;this.akK(h,m)};g4.prototype._8=function(h,e,v,J,m){if(!this.GQ)return;
this.akK(h,m)};g4.prototype.ej=function(h,e,v,J,m){this.GQ=!1};g4.prototype.akK=function(h,e){this.oC=B.UY(c.ct.hY(h,e,1),1);
this.update()};g4.prototype.akj=function(h){var e=this.MX,v=this.pO(parseInt(e[0].j())),J=this.pO(parseInt(e[1].j())),m=this.pO(parseInt(e[2].j()));
this.oC={n:v/255,i:J/255,b:m/255};this.update()};g4.prototype.ahR=function(h){var e=this.Rz,v=this.oM(parseInt(e[0].j())/360),J=this.oM(parseInt(e[1].j())/100),m=this.oM(parseInt(e[2].j())/100);
this.oC=B.Qh(v,J,m);this.update()};g4.prototype.agV=function(h){var e=this.QI,v=[];for(var T=0;T<4;T++){var J=this.aDc(parseInt(e[T].j()));
e[T].e(J);v.push(J/100)}var m=B.VG(v);this.oC={n:m[0],i:m[1],b:m[2]};this.update(!0)};g4.prototype.ark=function(h){var e=this.Lg,v=parseInt(e[0].j()),J=parseInt(e[1].j()),m=parseInt(e[2].j()),d=B.n3(v,J,m);
this.oC={n:d.n/255,i:d.i/255,b:d.b/255};this.update()};g4.prototype.U1=function(h){var e;if(h.currentTarget==this.Nz)e=this.Nz.j();
else{e=h.currentTarget==this.F_?this.F_.j():this.Ns.value;if(e.charAt(0)=="#")e=e.slice(1);if(e.length==3)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2];
e=B.aj9(e)}this.oC=B.UY(e,1);this.update()};g4.prototype.nb=function(h){this.an8();var e=B.RP(this.oC,1);
this.Sb(e);this.close();this.AX=!1;this.oC=null};g4.prototype.xS=function(h){this.an8();if(this.b_)this.Sb(B.RP(this.RB,1));
this.AX=!1;this.oC=null};g4.prototype.an8=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.atw};this.a(e)};
g4.prototype.fa=function(h,e){var v=ev.i_(h,e);if(v!=null)this.Nz.e(v);if(e!=dq.Ih)return;if(this.oC!=null){this.oC=B.UY(v,1);
this.update()}};g4.prototype.eh=function(h,e){var v=B.UY(e.Rm,1);if(this.oC)this.xS(null);if(this.oC==null){var J=new g3(k.E.u,!0);
J.data={V:k.l.zq,Tv:"crosshair",push:!0};this.a(J);this.GQ=!1;this.Sb=e.sI;this.b_=!1;this.AX=e.kB;this.RB=B.t(v);
V.v(this.anK,"height:2.3em;background-color:#"+B.zF(e.Rm)+";")}this.oC=v;this.update()};g4.prototype.update=function(h){var e=this.oC,v=B.RP(e,1);
this.F_.e(B.zF(v));this.Ns.value="#"+B.zF(v);V.v(this.am$,"height:2.3em;background-color:#"+B.zF(v)+";");
var J=this.MX;J[0].e(Math.round(e.n*255));J[1].e(Math.round(e.i*255));J[2].e(Math.round(e.b*255));var m=B.vB(e.n,e.i,e.b);
J=this.Rz;J[0].e(Math.round(m.qw*360));J[1].e(Math.round(m.eL*100));J[2].e(Math.round(m.GL*100));var d=B.Aj(e.n*255,e.i*255,e.b*255,this.aGB);
J=this.Lg;J[0].e(Math.round(d.hO));J[1].e(Math.round(d.DR));J[2].e(Math.round(d.b));if(h==null){var x=B.Wu([e.n,e.i,e.b]);
J=this.QI;J[0].e(Math.round(x[0]*100));J[1].e(Math.round(x[1]*100));J[2].e(Math.round(x[2]*100));J[3].e(Math.round(x[3]*100))}this.gs.e(e);
if(this.AX){this.Sb(B.RP(this.oC,1));this.b_=!0}};g4.prototype.aDc=function(h){return Math.max(0,Math.min(100,h))};
g4.prototype.pO=function(h){return Math.max(0,Math.min(255,h))};g4.prototype.oM=function(h){return Math.max(0,Math.min(1,h))};
function b2(){e2.call(this,[11,2],"contoureditor");this.ao_=null;this.ZZ=null;this.response=null;this.Ln=V.k("div","cell");
this.body.appendChild(this.Ln);this.QC=V.k("div","cell padded");this.body.appendChild(this.QC);var h=V.k("div","bordered padded vmargin");
this.Ln.appendChild(h);this.Gd=new eW(null,null,!0);this.Gd.P(k.E.f,this.GH,this);h.appendChild(this.Gd.Z);
this.s5=V.ab(this,this.QC);this.P("closebtn",this.wY,this)}b2.prototype=new e2;b2.prototype.nb=function(){this.close()};
b2.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();this.Gd.S()};b2.prototype.GH=function(h){this.ZZ.Crv.v=this.Gd.j();
this.response(this.ZZ)};b2.prototype.wY=function(h){this.response(this.ao_)};b2.prototype.eh=function(h,e){this.ao_=B.t(e.L1);
this.ZZ=e.L1;this.response=e.response;this.Gd.e(this.ZZ.Crv.v)};function kv(){e2.call(this,[11,4],"duplinto");
this.Zw=null;this.qk=null;this.a6=null;var h=V.k("div","form");V.v(h,"max-width:26em");this.body.appendChild(h);
this.D8=new jV([12,43],["abc","def"]);this.D8.P(k.E.f,this.ow,this);h.appendChild(this.D8.Z);V.Xp(h);
this.m$=new jV([1,16,0],["abc","def"]);this.m$.P(k.E.f,this.ow,this);h.appendChild(this.m$.Z);V.Xp(h);
this.wS=new jE([12,48],null,14);h.appendChild(this.wS.Z);this.s5=V.ab(this,h)}kv.prototype=new e2;kv.prototype.G0=function(){return!0};
kv.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();this.D8.S();this.wS.S()};kv.prototype.ow=function(h){if(h&&h.target==this.m$)return;
var e=this.D8.j(),v=this.qk[e],J=this.Zw,m=v!=null&&v.add.artd!=null;for(var T=0;T<J.X.length;T++)if(J.T[J.X[T]].add.artb)m=!1;
this.wS.Es(e==this.qk.length);this.m$.Es(m);if(m){var d=v.root.children,x=[],j=this.a6=[];for(var T=0;
T<d.length;T++){var E=d[T].L;if(E.add.artb)x.push(E.getName());j.push(d[T].index)}this.m$.VU(x);this.m$.e(0)}else this.a6=null};
kv.prototype.eh=function(h,e,v){this.Zw=h;this.qk=v;this.wS.e(h.X.length==0?"Layer":h.T[h.X[0]].getName());
var J=[];for(var T=0;T<v.length;T++){var m=v[T].name;J.push(m.length<30?m:m.slice(0,27)+"...")}J.push([11,7]);
this.D8.VU(J);this.D8.e(v.indexOf(h));this.ow(null)};kv.prototype.nb=function(h){var e=this.D8.j();if(e==this.qk.length){var v=new e7(this.wS.j()+".psd"),J=this.Zw.q,m=this.Zw._,d=this.Zw.uG();
if(d!=-1){var x=this.Zw.T[d].AC();J=x.q;m=x._}v.q=J;v._=m;v.buffer=B.U(v.q*v._*4);var j=v.ws();j.Ip("Background");
v._g([j]);var E=new g3(k.E.u,!0);E.u$=!0;E.data={V:k.l.zM,Zw:v};this.a(E)}var L=this.Zw.Ae(null,this.Zw!=this.qk[e]),E=new g3(k.E.A,!0);
E.data={V:s.m1,T:L,iY:this.Zw,WK:this.qk[e]};if(this.a6)E.data.KR=this.a6[this.m$.j()];E.I=c.Yn;E.u$=!0;
this.a(E);this.close()};function fT(){e2.call(this,[1,9],"eassets");this.H=null;this.Zw=null;var h=this.body;
V.zZ(h,"form");h.style.width="32em";this.HT=new ha(null,["Layers","Combinations"]);this.HT.P(k.E.f,this.aD,this);
h.appendChild(this.HT.Z);V.ja(h);this.qt=V.k("span");h.appendChild(this.qt);this.UW=V.k("div");h.appendChild(this.UW);
var e=V.k("div"),v=V.k("div","flexrow");this.a9k=[e,v];this.Ka=[new hJ("Only layers / folders, whose name starts with \"-e-\""),new hJ("Remove parts outside the canvas"),new hJ("Trim transparent parts")];
for(var T=0;T<3;T++){var J=this.Ka[T];J.e(!0);J.P(k.E.f,this.aD,this);e.appendChild(J.Z);V.Xp(e)}this.Vk=new hR([12,14,0],["1x","2x","3x","4x"]);
this.Vk.e([!0,!1,!1,!1]);e.appendChild(this.Vk.Z);var m=V.k("div");v.appendChild(m);var d=V.k("img");
d.setAttribute("src",cU.Hk("img/nft.png"));d.style.width="150px";v.appendChild(d);var x=V.k("span");
x.textContent="File Names:";m.appendChild(x);this.eM=new hR(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
m.appendChild(this.eM.Z);this.eM.e([!0,!1,!1]);V.ja(h);this.aGQ=["PNG","JPG","SVG","TIFF","TGA"];this.ON=new jV([12,50],this.aGQ);
this.ON.P(k.E.f,this.z4,this);h.appendChild(this.ON.Z);this.wQ=new ff;h.appendChild(this.wQ.Z);this.s5=new eA([1,9],!0,null,!0);
this.s5.P("click",this.nb,this);h.appendChild(this.s5.Z);this.P("closebtn",this.sB,this)}fT.prototype=new e2;
fT.prototype.z4=function(h){this.wQ.du(this.aGQ[this.ON.j()],!1,!1,!1,this.Zw.AG()!=null)};fT.prototype.sB=function(h){this.Zw=null};
fT.prototype.S=function(){e2.prototype.S.call(this);this.ON.S();this.Vk.S();this.s5.S();this.wQ.S()};
fT.prototype.eh=function(h,e,v){this.Zw=h;this.aD()};fT.prototype.aD=function(h){var e=this.HT.j(),v;
V.H5(this.UW);this.UW.appendChild(this.a9k[e]);if(e==0){var J=this.a8V();v=J.length+" exportable layers"}else{var J=this.ay5();
v=J[1]+" combinations ("+J[0].join(" \xD7 ")+")"}this.qt.textContent="- - - "+v;this.z4(null)};fT.prototype.a8V=function(){var h=this.Ka[0].j(),e=[],v=this.Zw;
for(var T=0;T<v.T.length;T++){var J=v.T[T],m=J.getName();if(!h&&!J.XN()&&!J.R.EG()||m.startsWith("-e"))e.push(T)}return e};
fT.prototype.ay5=function(){var h=this.Zw,e=h.root.children,v=[],J=1,m=[];for(var T=0;T<e.length;T++){var d=e[T],x=d.L;
if(x.XN()){var j=d.children.length;v.push(j);J*=j;m.push(d.index)}x}return[v,J,m]};fT.prototype.fa=function(h,e){this.H=h};
fT.prototype.nb=function(h){var e=this.Zw,v=this.HT.j(),J=[this.aGQ[this.ON.j()]],m=[this.wQ.j()],d={};
if(v==0){var x=this.Vk.j(),j={},E=this.a8V();if(E.length==0){alert("No layers to export.");return}var L=[this.Ka[1].j(),this.Ka[2].j()];
for(var T=0;T<E.length;T++){var p=E[T],Z=e.T[p],o=Z.getName();if(j[o]!=null){j[o]++;o+=" "+j[o]}else j[o]=1;
var u=Z.oA();Z.nP(!0);for(var N=0;N<x.length;N++){if(!x[N])continue;var M=N+1,O=c.Pj.aDV(e,J,M,this.H,p,m,L);
for(var F=0;F<J.length;F++){var W=J[F],f=o.slice(o.startsWith("-e-")?3:0)+(M==1?"":"@"+M+"x")+"."+W.toLowerCase();
if(O[F])d[f]=new Uint8Array(O[F])}}Z.nP(u)}}else{var u=[];for(var T=0;T<e.T.length;T++)u.push(e.T[T].oA());
var $=this.ay5(),H=$[0],E=$[2],A=[];function G(z,p,q,P){if(p==z.length){P.push(q.slice(0));return}var g=z[p];
for(var T=0;T<g;T++){q.push(T);G(z,p+1,q,P);q.pop(T)}}G(H,0,[],A);var l=this.eM.j().indexOf(!0);this.Cb=[A,d,E,J,m,u,l,this.ahD.bind(this),0,0];
this.ahD();return}var K=UZIP.encode(d),U=new g3(k.E.u,!0);U.data={V:k.l.vI,data:K,name:"assets.zip"};
this.a(U)};fT.prototype.ahD=function(){var h=this.Cb,e=h[0],v=h[1],J=this.Zw,m=h[2],d=h[3],x=h[4],j=h[5],E=h[6],L=h[7],p=0;
while(e.length!=0&&p<1e3){var Z=Date.now(),o=e.shift(),u=[];for(var T=0;T<o.length;T++){var N=J.root.Ix(m[T]);
for(var M=0;M<N.children.length;M++)N.children[M].L.nP(!1);var O=N.children[o[T]].L;u.push(E==2?O.getName():N.L.getName()+o[T]);
O.nP(!0)}J.dn();J.vp();var F=(E==0?o:u).join("-")+"."+d[0].toLowerCase();v[F]=new Uint8Array(gI.Pc(J,d[0],J.q,J._,x[0],this.H));
h[8]++;h[9]+=v[F].length;p+=Date.now()-Z}if(e.length!=0){alert(h[8]+" done, "+iD.kA(h[9])+".",800);setTimeout(L,35);
return}for(var T=0;T<J.T.length;T++)J.T[T].nP(j[T]);J.dn();var W=UZIP.encode(v),f=new g3(k.E.u,!0);f.data={V:k.l.vI,data:W,name:"assets.zip"};
this.a(f)};function fc(){e2.call(this,"Export Color Lookup Tables","exlut");this.H=null;this.Zw=null;
var h=V.k("div","form");V.v(h,"width:20em");this.body.appendChild(h);this.Ka=[new cs("Grid Points",1,256),new ha([12,50],[".CUBE"])];
var e=[16,0];for(var T=0;T<this.Ka.length;T++){var v=this.Ka[T];v.e(e[T]);v.parent=this;v.P(k.E.f,this.aD,this);
h.appendChild(v.Z);V.Xp(h)}this.s5=V.ab(this,h);this.P("closebtn",this.sB,this)}fc.prototype=new e2;
fc.prototype.yG=function(h,e){if(Math.min(h.q,h._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(h.T.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};fc.prototype.sB=function(h){this.Zw=null};fc.prototype.fa=function(h,e){this.H=h};
fc.prototype.eh=function(h,e,v){this.Zw=h};fc.prototype.nb=function(){var h=this.Zw,e=this.Ka[0].j(),v=[],J=new fP(0,0,h.q,h._),m=B.U(e*e*4),d=m.slice(0),x=new fP(h.q-e>>>1,h._-e>>>1,e,e),j=h.T[0],E=j.buffer,L=j.R;
j.R=x;j.buffer=m;for(var p=0;p<e;p++){this.a4t(e,p,m);j.dn(x);h.dn(x);var Z=h.pb();B.YZ(Z,J,d,x);for(var o=0;
o<e;o++)for(var u=0;u<e;u++){var N=o*e+u<<2;v.push(d[N]/255,d[N+1]/255,d[N+2]/255)}}var M=gX.adF(v,e,h.name);
ke.save(M,h.name.split(".")[0]+".CUBE");j.buffer=E;j.R=L;j.dn();h.dn()};fc.prototype.a4t=function(h,e,v){var J=255/(h-1),m=Math.round(e*J);
for(var d=0;d<h;d++)for(var x=0;x<h;x++){var j=d*h+x<<2;v[j]=Math.round(x*J);v[j+1]=Math.round(d*J);
v[j+2]=m;v[j+3]=255}};fc.prototype.S=function(){e2.prototype.S.call(this);for(var T=0;T<this.Ka.length;
T++)this.Ka[T].S();this.s5.S()};function gw(){e2.call(this,[1,14],"finfo");this.aET=null;this.xD=null;
this.ak9=null;this.ol=V.k("div","form scrollable label12");V.v(this.ol,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ol);var h=V.k("div","form");this.body.appendChild(h);this.uJ=new jV(null,["Hello"]);
h.appendChild(this.uJ.Z);this.azk=new eA("Add Parameter",!1,null,!0);h.appendChild(this.azk.Z);this.azk.P("click",this.qo,this);
this.R2=new eA("=== S A V E ===",!1,null,!0);h.appendChild(this.R2.Z);this.R2.P("click",this._s,this);
this.ao1=""}gw.prototype=new e2;gw.prototype.W8=function(h,e){return h<450||e<450?new fq(0,0):new fq(150,100)};
gw.prototype.qo=function(h){if(this.ak9.length==0)return;var e=this.ak9[this.uJ.j()],v=this.SD();v[e]=cP.Q7[e][0];
this.fu(v);this.xD[e].Z.scrollIntoView();this.xD[e].bX()};gw.prototype.mF=function(h){var e=this.SD();
delete e[h.currentTarget.a64];this.fu(e)};gw.prototype._s=function(h){var e=this.SD(),v=this.aET,J=!0;
for(var m in v)if(JSON.stringify(v[m])!=JSON.stringify(e[m]))J=!1;for(var m in e)if(JSON.stringify(v[m])!=JSON.stringify(e[m]))J=!1;
if(J)return;var d=new g3(k.E.A,!0);d.I=c.Yn;d.data={V:s.jF,dI:e};this.a(d);this.aET=e;this.fu(e)};gw.afI=function(h){function e(m){var d=m.toLowerCase();
return m==d}var v=h.split(":").pop();for(var J=1;J<v.length-1;J++){if(v[J]==v[J].toUpperCase()&&(e(v[J+1])||e(v[J-1]))){v=v.slice(0,J)+" "+v.slice(J);
J++}}return v};gw.prototype.eh=function(h,e){this.aET=h.dQ;this.fu(h.dQ)};gw.prototype.fu=function(h){var e=this.ol,m=0;
V.H5(e);var v=this.xD={},J=["tiff","exif","exif:GPS"],d=this.ak9=[],x=[];for(var j in cP.Q7){var E=gw.afI(j),L=0,p=15,Z=null;
if(h[j]==null){if(cP.Q7[j].length!=1||j=="photoshop:Credit"||j=="photoshop:Source"){d.push(j);x.push(E)}continue}for(var T=0;
T<J.length;T++)if(j.startsWith(J[T]))L=T;if(L!=m){V.ja(e);m=L}if(j=="tiff:ImageDescription"||j=="dc:Keywords"){p=18.5;
Z=3}var o=new jE(E,null,p,Z);v[j]=o;var u=h[j];if(u instanceof Array)u=u[1]==0?"---":u[0]+"/"+u[1];var N=new eA("\u2716",null,bj.get([5,4]));
e.appendChild(N.Z);N.P("click",this.mF,this);N.a64=j;o.e(u);e.appendChild(o.Z);V.Xp(e);if(j=="exif:GPSLongitude"&&h["exif:GPSLatitude"]){this.ao1=gw.a4k(h["exif:GPSLatitude"])+","+gw.a4k(h["exif:GPSLongitude"]);
var M=new eA("Show on map",!1,null,!0);e.appendChild(M.Z);V.Xp(e);M.P("click",this.ayZ,this)}}this.uJ.VU(x);
this.uJ.e(0)};gw.prototype.SD=function(){var h=this.xD,e=cP.Q7,v={};for(var J in e){var m=e[J][0],d=typeof m;
if(m==null||h[J]==null)continue;var x=h[J].j(),j="The value of \""+gw.afI(J)+"\" must ";if(d=="number"){x=parseFloat(x);
if(isNaN(x)){alert(j+"be a number.");x=m}}else if(m instanceof Array&&m.length==2){if(x.indexOf("/")==-1){alert(j+"be a fraction.");
x=m.slice(0)}else{x=x.split("/").map(parseFloat);if(isNaN(x[0])||isNaN(x[1])){x=m.slice(0)}}}v[J]=x}return v};
gw.a4k=function(h){var e=h.length,v=h.slice(0,e-1).split(",").map(parseFloat),J=h.slice(e-1),m=v[0]+v[1]/60+v[2]/3600;
if(J!="N"&&J!="E")m=-m;return m};gw.prototype.ayZ=function(h){window.open("https://maps.google.com?q="+this.ao1,"Map")};
function ht(){e2.call(this,[11,5],"gradienteditor");this.RB=null;this.oC=null;this.H=null;this.Sb=null;
this.b_=!1;this.AX=!1;this.rV=null;this.Kq=null;this.eP=-1;this.DG=-1;this.hs=0;this.t4=this.EL.bind(this);
this.ai=this.lW.bind(this);this._y=V.k("canvas");this.h_=this._y.getContext("2d");V.v(this._y,"display:block");
this.yA=null;V.zY(this._y);V.La(this._y,this.s0.bind(this));this.ig=V.k("div","form");this.xy=V.k("div");
this.wA=V.k("div","form");this.qZ=V.k("div");this.wv=new jV([12,44],[[15,10,0],[24,6]]);this.wv.P(k.E.f,this.WR,this);
this.body.appendChild(this.wv.Z);V.ja(this.body);var h=this.ig;this.iM=new cs([19,3,3],0,100,"%");this.iM.P(k.E.f,this.WR,this);
this.iM.parent=this;h.appendChild(this.iM.Z);V.Xp(h);this.afs=new cE([12,0]);h.appendChild(this.afs.Z);
this.Ow=V.k("div","bordered padded noalign");h.appendChild(this.Ow);this.tm=new cs([12,0],0,100,"%");
this.tm.parent=this;this.tm.P(k.E.f,this.WR,this);this.Ow.appendChild(this.tm.Z);this.f7=new cs([12,40],0,100,"%");
this.f7.parent=this;this.f7.P(k.E.f,this.WR,this);this.Ow.appendChild(this.f7.Z);this.fP=new eA([5,4],!1,null,!0);
this.fP.P("click",this.ano,this);this.Ow.appendChild(this.fP.Z);h.appendChild(this.xy);this.apy=new cE([13,0]);
h.appendChild(this.apy.Z);this.eS=V.k("div","bordered padded noalign");h.appendChild(this.eS);this.r7=new jV([12,44],[[12,45],[12,46],[12,47]]);
this.r7.P(k.E.f,this.WR,this);this.eS.appendChild(this.r7.Z);this.mo=new iE(!0);this.mo.parent=this;
this.mo.P(k.E.f,this.WR,this);this.eS.appendChild(this.mo.Z);this.Ff=new cs([12,40],0,100,"%");this.Ff.parent=this;
this.Ff.P(k.E.f,this.WR,this);this.eS.appendChild(this.Ff.Z);this.Er=new eA([5,4],!1,null,!0);this.Er.P("click",this.alo,this);
this.eS.appendChild(this.Er.Z);var h=this.wA;this.q_=new cs("Roughness",0,100,"%");this.q_.P(k.E.f,this.WR,this);
this.q_.parent=this;h.appendChild(this.q_.Z);h.appendChild(this.qZ);this.FF=new eA([25,1,2],!1,null,!0);
this.FF.P("click",this.WR,this);h.appendChild(this.FF.Z);this.s5=V.ab(this);this.P("closebtn",this.xS,this)}ht.prototype=new e2;
ht.prototype.xS=function(h){if(this.b_)this.Sb(this.RB);this.Sb=null;this.AX=!1};ht.prototype.S=function(){e2.prototype.S.call(this);
this.s5.S();this.iM.S();this.afs.S();this.apy.S();this.fP.S();this.Er.S();this.tm.S();this.f7.S();this.r7.S();
this.Ff.S();this.FF.S()};ht.prototype.fa=function(h,e){this.H=h;if(e==dq.Ih)this.zz()};ht.prototype.eh=function(h,e){this.oC=B.t(e.Vh);
this.RB=B.t(e.Vh);this.rV=this.Kq=null;this.Sb=e.sI;this.b_=!1;this.AX=e.kB;this.zz();this.jX()};ht.prototype.nb=function(h){var e=this.oC;
this.Sb(e);this.close();this.Sb=null;this.AX=!1};ht.prototype.yz=function(h){return h==dW.PV||h==dW.iS};
ht.prototype.lK=function(h,e,v,J){if(J.r(dW.PV)||J.r(dW.iS)){if(this.Kq)this.ano();if(this.rV)this.alo()}};
ht.prototype.ano=function(h){var e=this.oC.Trns.v;if(this.Kq==null||e.length==1)return;e.splice(e.indexOf(this.Kq),1);
this.Kq=null;this.zz();this.jX()};ht.prototype.alo=function(h){var e=this.oC.Clrs.v;if(this.rV==null||e.length==1)return;
e.splice(e.indexOf(this.rV),1);this.rV=null;this.zz();this.jX()};ht.prototype.zz=function(){var h=this._y,e=this.h_;
if(this.oC==null)return;var v=V.A_();h.width=Math.floor(410*v);h.height=Math.floor(70*v);V.Aw(h,h.width,h.height);
h.style.marginTop="8px";this.yA=new fP(0,0,Math.floor(380*v),Math.floor(32*v));this.yA.x=Math.floor((h.width-this.yA.q)/2);
this.yA.y=Math.floor((h.height-this.yA._)/2);var J=this.yA,m=J.q,d=J._,x=J.x,j=J.y,E=new fP(0,0,m,d),L=e.getImageData(0,0,m,d),p=new Uint8Array(L.data.buffer);
B.ts(p,m,d,8);var Z=B.U(m*d*4);B.Vh.YE(this.oC,Z,E,[1/m,0,0,1/d],m/2,d/2,!1,0,this.H.kc,this.H.kF);B.B.lU("norm",Z,J,p,J,J,1);
e.clearRect(0,0,h.width,h.height);e.putImageData(L,x,j);var o=this.oC;if(o.Clrs){var u=o.Trns.v,N=o.Clrs.v,M=B.Vh.M6(o,this.H.kc,this.H.kF),O=Math.round(6*V.A_()),F=Math.round(14*V.A_()),W=this.Kq?this.Kq.v:null,f=this.rV?this.rV.v:null;
for(var T=0;T<u.length;T++){var $=u[T].v,H=Math.round(255-255*$.Opct.v.val/100);if(($==W||u[T-1]&&u[T-1].v==W||T==this.DG)&&T!=0){e.fillStyle="#000000";
e.fillRect(x-3+m*(u[T-1].v.Lctn.v+($.Lctn.v-u[T-1].v.Lctn.v)*$.Mdpn.v/100)/4096,j-6-2,6,6)}if($==W){e.fillStyle="#ffffff";
e.fillRect(x-O+m*($.Lctn.v/4096)-2,j-2-F-2,2*O+4,F+4)}e.fillStyle="rgb("+H+","+H+","+H+")";e.fillRect(x-O+m*($.Lctn.v/4096),j-2-F,2*O,F)}for(var T=0;
T<N.length;T++){var A=N[T].v,G=M[0][T][0];if((A==f||N[T-1]&&N[T-1].v==f||T==this.eP)&&T!=0){e.fillStyle="#000000";
e.fillRect(x-3+m*(N[T-1].v.Lctn.v+(A.Lctn.v-N[T-1].v.Lctn.v)*A.Mdpn.v/100)/4096,j+d+2,6,6)}if(A==f){e.fillStyle="#ffffff";
e.fillRect(x-O+m*(A.Lctn.v/4096)-2,j+d+2-2,2*O+4,F+4)}e.fillStyle="rgb("+Math.round(G.n)+", "+Math.round(G.i)+","+Math.round(G.b)+")";
e.fillRect(x-O+m*(A.Lctn.v/4096),j+d+2,2*O,F)}}if(this.AX){this.Sb(this.oC);this.b_=!0}};ht.prototype.jX=function(){var h=this.oC,e=h.Clrs?0:1;
this.wv.e(e);if(V.gl(this.ig))this.body.removeChild(this.ig);if(V.gl(this.wA))this.body.removeChild(this.wA);
(e==0?this.xy:this.qZ).appendChild(this._y);if(e==0){this.body.appendChild(this.ig);this.iM.e(Math.round(100*h.Intr.v/4096));
var v=h.Trns.v,J=h.Clrs.v,m=this.Kq!=null,d=this.DG!=-1;this.tm.Es(m);this.f7.Es(m||d);this.fP.Es(m);
if(m){V.v(this.Ow,"");var x=this.Kq.v;this.f7.e(Math.round(100*x.Lctn.v/4096));this.tm.e(x.Opct.v.val)}if(d)this.f7.e(v[this.DG].v.Mdpn.v);
var m=this.rV!=null,d=this.eP!=-1;this.r7.Es(m);this.mo.Es(m);this.Ff.Es(m||d);this.Er.Es(m);if(m){V.v(this.eS,"");
var j=this.rV.v;this.Ff.e(Math.round(100*j.Lctn.v/4096));var E=j.Type.v.Clry;this.r7.e(["FrgC","BckC","UsrS"].indexOf(E));
if(E=="FrgC")this.mo.Y_(this.H.kc);if(E=="BckC")this.mo.Y_(this.H.kF);if(E=="UsrS")this.mo.e(j.Clr.v)}if(d)this.Ff.e(J[this.eP].v.Mdpn.v)}else{this.body.appendChild(this.wA);
this.q_.e(Math.round(100*h.Smth.v/4096))}this.body.appendChild(this.s5.Z)};ht.prototype.WR=function(h){var e=this.oC,v=e.Clrs?0:1;
if(h.target==this.wv){var J=v==0?JSON.parse(fL.GB.a1y).v:f8.UX("grdm").Grad.v;this.oC=J;this.jX();this.zz();
return}if(v==0){e.Intr.v=Math.round(4096*this.iM.j()/100);var m=e.Trns.v,d=e.Clrs.v;if(this.Kq!=null){var x=this.Kq.v;
x.Lctn.v=Math.round(4096*(this.f7.j()/100));x.Opct.v.val=this.tm.j()}if(this.rV!=null){var j=this.rV.v;
j.Lctn.v=Math.round(4096*(this.Ff.j()/100));if(h.target==this.mo)this.r7.e(2);var E=this.r7.j();j.Type.v.Clry=["FrgC","BckC","UsrS"][E];
if(E==2)j.Clr={t:"Objc",v:this.mo.j()};else if(j.Clr)delete j.Clr}if(this.DG!=-1)m[this.DG].v.Mdpn.v=this.f7.j();
if(this.eP!=-1)d[this.eP].v.Mdpn.v=this.Ff.j()}else{e.Smth.v=Math.round(4096*this.q_.j()/100);if(h.target==this.FF)e.RndS.v=Math.floor(Math.random()*4294967295)}this.zz()};
ht.prototype.s0=function(h){var e=V.IE(h,this._y),v=this.yA,J=(e.x*V.A_()-v.x)/v.q,m=(e.y*V.A_()-v.y)/v._,d=this.oC.Trns.v,x=this.oC.Clrs.v,j=null,E=null,L=-1,p=-1;
if(m<1)for(var T=0;T<d.length;T++){var Z=d[T].v;if(Math.abs(Z.Lctn.v/4096-J)<.02)j=d[T];if(T>0)if(Math.abs((d[T-1].v.Lctn.v+(Z.Lctn.v-d[T-1].v.Lctn.v)*Z.Mdpn.v/100)/4096-J)<.01)L=T}if(m>0)for(var T=0;
T<x.length;T++){var o=x[T].v;if(Math.abs(o.Lctn.v/4096-J)<.02)E=x[T];if(T>0)if(Math.abs((x[T-1].v.Lctn.v+(o.Lctn.v-x[T-1].v.Lctn.v)*o.Mdpn.v/100)/4096-J)<.01)p=T}if(E==null&&j==null&&L==-1&&p==-1){if(m<0){var Z={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
Z.v.Lctn.v=Math.round(J*4096);d.push(Z);d.sort(this.Bg);j=Z}if(m>1){var x=this.oC.Clrs.v,u=B.Vh.M6(this.oC,this.H.kc,this.H.kF),N=B.Vh.Sf(this.oC,u,J),o={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:B.Vh.WZ({n:N&255,i:N>>8&255,b:N>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
o.v.Lctn.v=Math.round(J*4096);x.push(o);x.sort(this.Bg);E=o}}if(E!=null)p=-1;if(j!=null)L=-1;if(E!=null||j!=null||L>-1||p>-1){this.Kq=j;
this.rV=E;this.DG=L;this.eP=p;this.jX();this.zz();V.Xa(window,this.t4);V.wZ(window,this.ai)}};ht.prototype.EL=function(h){var e=V.IE(h,this._y),v=this.yA,J=(e.x*V.A_()-v.x)/v.q,m=(e.y*V.A_()-v.y)/v._;
J=Math.max(0,Math.min(1,J));var d=this.oC.Trns.v,x=this.oC.Clrs.v;if(this.Kq!=null){var j=this.Kq.v;
j.Lctn.v=Math.round(4096*J);var E=d.indexOf(this.Kq);if(E!=-1&&m<-1&&d.length>1)d.splice(E,1);if(E==-1&&m>-1)d.push(this.Kq);
d.sort(this.Bg)}if(this.rV!=null){var L=this.rV.v;L.Lctn.v=Math.round(4096*J);var p=x.indexOf(this.rV);
if(p!=-1&&m>2&&x.length>1)x.splice(p,1);if(p==-1&&m<2)x.push(this.rV);x.sort(this.Bg)}if(this.DG>-1){var j=d[this.DG].v;
j.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(J*4096-d[this.DG-1].v.Lctn.v)/(j.Lctn.v-d[this.DG-1].v.Lctn.v))))}if(this.eP>-1){var L=x[this.eP].v;
L.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(J*4096-x[this.eP-1].v.Lctn.v)/(L.Lctn.v-x[this.eP-1].v.Lctn.v))))}if(this.Kq!=null||this.rV!=null||this.DG>-1||this.eP>-1){this.jX();
this.zz()}};ht.prototype.lW=function(h){V.L0(window,this.t4);V.SV(window,this.ai);if(Date.now()-this.hs<300){if(this.eP!=-1||this.DG!=-1){var e=(this.eP!=-1?this.oC.Clrs.v[this.eP]:this.oC.Trns.v[this.DG]).v;
e.Mdpn.v=50;this.jX();this.zz()}else if(this.rV!=null)this.mo.h6()}this.hs=Date.now()};ht.prototype.Bg=function(h,e){return h.v.Lctn.v-e.v.Lctn.v};
function g_(){e2.call(this,[11,5],"vgradienteditor");this.Sb=null;this.Vi=new fa;this.Vi.parent=this;
this.body.appendChild(this.Vi.Z);this.s5=V.ab(this,this.body)}g_.prototype=new e2;g_.prototype.eh=function(h,e){this.Sb=e.sI;
this.Vi.e(e.J)};g_.prototype.S=function(){e2.prototype.S.call(this);this.Vi.S()};g_.prototype.nb=function(h){this.Sb(this.Vi.j());
this.close()};function cH(h){e2.call(this,h=="isize"?[11,10]:[11,3],h);this.aye=h;this.mO=null;var e=V.k("div","form");
V.v(e,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(e);var v=h=="csize";this.ayj=new cE("Hi");
e.appendChild(this.ayj.Z);V.Xp(e);this.Nm=new ai(!0,!0,v,v,!0);if(v)this.Nm.atY(!1);e.appendChild(this.Nm.Z);
this.R0=new hJ([12,25,3]);this.R0.e(!0);this.R0.P(k.E.f,this.acu,this);this.u0=new jV(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.u0.e(1);this.GC=new ak([12,23,2],41);this.GC.e(4);if(h=="isize"){e.appendChild(this.R0.Z);e.appendChild(this.u0.Z)}else e.appendChild(this.GC.Z);
this.s5=V.ab(this,this.body)}cH.prototype=new e2;cH.prototype.yG=function(h,e){return h!=null};cH.prototype.G0=function(){return!0};
cH.prototype.yz=function(h){return this.aye=="isize"?!1:[dW.K_,dW.Am,dW.nk,dW.nG].indexOf(h)!=-1};cH.prototype.lK=function(h,e,v,J){if(J.r(dW.zD))this.nb();
this.GC.aw1(J.Sl())};cH.prototype.S=function(){e2.prototype.S.call(this);this.Nm.S();this.R0.S();this.u0.S();
this.GC.S();this.s5.S()};cH.prototype.nb=function(h){var e=this.Nm.j(),v=e.x,J=e.y,m=new g3(k.E.Fq,!0),d=this.Nm.nV.j();
if(this.aye=="csize"){if(d){var x=this.Nm.qV,j=this.Nm.YH;v=j.x-x.x;J=j.y-x.y}m.data=c.Zk.avi(v,J,this.GC.j(),d)}else{var E=this.u0.j();
if(!this.R0.j())E=null;var L=this.Nm.atF(),p=this.mO;console.log(L);if(L==1)m.data=c.Zk.u_(v/p.x,J/p.y,this.Nm.gk(),E,!0);
else m.data=c.Zk.u_(v,J,this.Nm.gk(),E)}this.close();this.a(m)};cH.prototype.eh=function(h,e){this.mO=new fq(h.q,h._);
this.Nm.e(this.mO,h.gx);this.Nm.bX();this.ayj.e(bj.get(this.o0)+": "+(h.q*h._/1e6).toFixed(2)+" MPx")};
cH.prototype.acu=function(h){var e=this.R0.j(),v=this.Nm,J=this.u0;if(e)J.kE();else J.VZ();v.a3z(e)};
function hS(){e2.call(this,"Import RAW","importraw");var h=V.k("div","flexrow"),e=V.k("div");V.v(e,"margin-bottom: 1em");
this.body.appendChild(h);this.body.appendChild(e);var v=V.k("div","form");V.v(v,"width:18em");h.appendChild(v);
var J=V.k("div","form");V.v(J,"width:15em");h.appendChild(J);this.Me=null;this.Dn=null;this.Bw=null;
this.a$=null;this.asq=[];var m=[];for(var T=0;T<hS.ER.length;T++)m.push(hS.ER[T]+" Bits");var d=this.Cb=[new ai(!0,null,null,!0),new cs([12,72],1,8),new hJ("Last one is Transparency"),new ha([12,34],m),new ha("Byte Order",["12-34","34-12"]),new jV("Guesses",[])];
for(var T=0;T<d.length;T++){var x=d[T];x.parent=this;x.P(k.E.f,T==5?this.a9a:this.ow,this);var j=T==0?v:T==5?e:J;
j.appendChild(x.Z)}this._y=V.k("canvas");this.h_=this._y.getContext("2d");this.body.appendChild(this._y);
this.s5=V.ab(this,this.body)}hS.prototype=new e2;hS.prototype.S=function(){e2.prototype.S.call(this);
var h=this.Cb;this.s5.S();for(var T=0;T<h.length;T++)h[T].S()};hS.prototype.nb=function(h){this.close();
var e=this.Cb[0].j(),v=gI.d2(this.Dn,[{data:this.Bw,Ei:new fP(0,0,e.x,e.y)}]);if(this.a$)v.Ar=this.a$;
var J=new g3(k.E.u,!0);J.data={V:!0?k.l.zM:k.l.f9,Zw:v};this.a(J)};hS.ER=[8,16];hS.prototype.eh=function(h,e){this.Me=new Uint8Array(e.rP);
this.Dn=e.PY;var v=this.Me.length,J=[1,3,4],m=0,d=0,x=1,j=1,E=this.asq=[],L=Math.round(Math.sqrt(v)*2);
L=Math.max(L,4e3);for(var p=0;p<3;p++){for(var Z=0;Z<2;Z++){var o=hS.ER[Z],u=J[p],N=u*o,M=Math.round(v*8/N);
if(M!=v*8/N)continue;for(var O=0;O<=L;O++)for(var F=0;F<=L;F++)if(O*F==M){var W=0;if(O==F)W+=64;if(Math.round(O/100)==O/100&&Math.round(F/100)==F/100)W+=32;
if(Math.round(O/10)==O/10&&Math.round(F/10)==F/10)W+=16;if(Math.round(O/2)==O/2&&Math.round(F/2)==F/2)W+=8;
E.push([O,F,u,o,W])}}}var f=function(G,l){if(l[4]!=G[4])return l[4]-G[4];var K=Math.max(G[0],G[1])/Math.min(G[0],G[1]),U=Math.max(l[0],l[1])/Math.min(l[0],l[1]);
if(K!=U)return K-U;return l[0]-G[0]};E.sort(f);var $=this.Cb,H=[];for(var T=0;T<E.length;T++){var A=E[T];
H.push(A[0]+" x "+A[1]+", "+A[2]+"ch, "+A[3]+"-bit")}$[5].VU(H);$[5].e(0);this.a9a(null)};hS.prototype.a9a=function(h){var e=this.Cb,v=this.asq[this.Cb[5].j()];
e[0].e(new fq(v[0],v[1]),72);e[1].e(v[2]);e[3].e(hS.ER.indexOf(v[3]));this.ow()};hS.prototype.ow=function(h){var e=this.Cb,v=e[0].j(),J=v.x,m=v.y,d=hS.ER[e[3].j()],x=this.Me;
if(d==16&&e[4].j()==1){x=x.slice(0);for(var T=0;T<x.length;T+=2){var j=x[T];x[T]=x[T+1];x[T+1]=j}}var E=this.Bw=this.E2(x,J,m,e[1].j(),d,e[2].j()),L=this._y,p=this.h_,Z=[E,new fP(0,0,J,m)];
B.Nb(Z);for(var T=0;T<Z.length;T+=2)if(Z[T+1]._<300){E=Z[T];J=Z[T+1].q;m=Z[T+1]._;break}L.width=J;L.height=m;
V.Aw(L,J,m);var o=new ImageData(new Uint8ClampedArray(E.buffer),J,m);p.putImageData(o,0,0)};hS.prototype.E2=function(h,e,v,J,m,d){this.a$=null;
var x=[],j=e*v;for(var E=0;E<J;E++){var L=B.U(j);x.push(L);if(m==8)for(var T=0;T<j;T++)L[T]=h[T*J+E];
else if(m==16)for(var T=0;T<j;T++)L[T]=Math.round((h[(T*J+E)*2]<<8|h[(T*J+E)*2+1])*(255/65535))}var p=B.U(j*4);
new Uint32Array(p.buffer).fill(4278190080);if(d){B.ar(x.pop(),p,3);J--}if(J==0){}else if(J==1)B.WS(x[0],p);
else{B.ar(x[0],p,0);B.ar(x[1],p,1);if(J>2){B.ar(x[2],p,2);if(J>3){this.a$=[];for(var T=3;T<J;T++){var Z=new s.xK;
Z.name="Alpha "+(T-2);Z.R=new fP(0,0,e,v);Z.G=x[T];this.a$.push(Z)}}}}return p};function jk(h,e,v){fx.call(this);
this.Z=V.k("div","");this.s7=h;this.GO=null;this.Vi=e==null?!1:e;this.cG=null;this.xE=v;this.a7L=[];
this.Jx=[];this.dZ=[];this.QN=[];this.Kh=0;this.GO=this.aaQ(jk.QN[h]);this.j1();this.Nr=null;this.ayW;
this.a83}jk.prototype=new fx;jk.prototype.HL=function(h,e,v,J,m){this.Nr=m;this.ayW=B.t(this.cG);if(this.GO.lagl)this.a83=this.GO.lagl.j()[0]};
jk.prototype._8=function(h,e,v,J,m){var d=this.Nr,x=this.s7,j=this.ayW;if(d==null)return;var E=(m.x-d.x)/h.p.e4,L=(m.y-d.y)/h.p.e4;
if(x=="GrFl"){var p=B.t(j.Ofst.v);p.Hrzn.v.val+=E*.5;p.Vrtc.v.val+=L*.5;this.GO.Ofst.e(p,!0)}if(x=="patternFill"){var p=B.t(j.phase.v);
p.Hrzn.v+=E;p.Vrtc.v+=L;this.GO.phase.e(p,!0)}if(x=="DrSh"||x=="IrSh"||x=="ChFX"){var Z=j.Dstn.v.val,o=this.a83*Math.PI/180,u=-Math.cos(o)*Z+E,N=Math.sin(o)*Z+L;
this.GO.Dstn.e(Math.sqrt(u*u+N*N),!0);this.GO.lagl.e([Math.atan2(N,-u)*180/Math.PI],!0)}};jk.prototype.ej=function(h,e,v,J,m){this.Nr=null};
jk.prototype.ams=function(){for(var T=0;T<this.QN.length;T++){V.t7(this.QN[T],"selected");if(this.dZ[T]instanceof hJ)this.dZ[T].e(!1)}};
jk.prototype.aeH=function(h){var e=this.a0E.bind(this);for(var T=0;T<this.dZ.length;T++){var v=V.k("div","listitem");
this.QN.push(v);if(T>0)v.textContent="\u2003";v.appendChild(this.dZ[T].Z);if(fL.avq.indexOf(this.s7)!=-1){var J=new eA("+");
J.vU();J.Z.style.float="right";v.appendChild(J.Z);var m=new eA("\u2B0D");m.vU();m.Z.style.float="right";
m.Z.style["margin-right"]="2px";v.appendChild(m.Z)}v.addEventListener("click",e,!1);h.appendChild(v)}};
jk.QJ=function(h,e){var v=e.getBoundingClientRect();return(h.clientY-v.top)/v.height};jk.prototype.a0E=function(h){var e=h.target.tagName.toLowerCase();
if(e=="input"){return}if(e=="button"){var v=new g3(k.E.A,!0),J=h.target.textContent=="+",m=J?0:jk.QJ(h,h.target)<.5?-1:1;
if(J)v.data={V:"st_dupsingle",L:this.parent.data.L,tK:this.xE};else v.data={V:"st_movsingle",L:this.parent.data.L,tK:this.xE,aqR:m};
v.I=c.MP;v.u$=!0;this.a(v);v=new g3("redrawall",!0);v.data={aqR:m};this.a(v);return}V.wY(h);this.Xe();
this.Kh=this.QN.indexOf(h.currentTarget);this.a(new g3("showme"))};jk.prototype.Xe=function(){if(this.GO.enab&&this.GO.enab.j()==!1)this.r6({$o:"enab",J:!0})};
jk.prototype.aHa=function(){var h=this.QN[this.Kh];if(h)V.zZ(h,"selected");return this.Jx[this.Kh]};
jk.prototype.aaQ=function(h){var e={};for(var T=0;T<h.length;T++){var v=h[T],J=null;if(v=="----")J={Z:V.k("hr")};
if(v=="\n")J={Z:V.k("br")};if(v=="blOptions")J=new cE([14,10]);if(v=="brst")J=new hR([12,72],["R","G","B"]);
if(v=="knko")J=new jV("Knockout",[[13,1,0],"Shallow","Deep"]);if(v=="enab")J=new hJ(fL.names[fL.order.indexOf(this.s7)]);
if(v=="lrMd"||v=="Md")J=new jV([12,19,0],cc.j$,cc.qE);if(v=="Opct")J=this.Vi?new cs([12,0],0,100,"%"):new bQ([12,0],0,100,"%");
if(v=="iOpa")J=new bQ([12,26],0,100,"%");if(v=="blIf")J=new et;if(v=="ShdN")J=new bQ([12,68],0,100,"%");
var m=this.s7=="St3D"&&v=="lagl";if(v=="lagl"||v=="Angl")J=new en(m?"Light":[12,15],this.s7=="ebbl"||m);
if(v=="uglg")J=new hJ([12,27]);if(v=="Dstn")J=new bQ([12,28],0,200,"px");if(v=="Ckmt")J=new bQ([12,29],0,100,"%");
if(v=="Srnk")J=new bQ("Shrink",0,100,"%");if(v=="Drkn")J=new bQ("Darken",0,100,"%");if(v=="blur")J=new bQ([12,14,0],0,200,"px");
if(v=="TrnS"||v=="MpgS")J=new h5([12,21]);if(v=="Nose")J=new bQ([12,30],0,100,"%");if(v=="layerConceals")J=new hJ([12,31]);
if(v=="Cntn")J=new hJ([12,25,4]);if(v=="AntA"||v=="antialiasGloss")J=new hJ([12,25,1]);if(v=="GlwT")J=new jV([12,32],fL.X5.names);
if(v=="glwS")J=new jV([12,70],fL.X5.avz);if(v=="Inpr")J=new bQ([12,12],1,100,"%");if(v=="bvlS")J=new jV([12,22],fL.zu.style);
if(v=="bvlT")J=new jV([12,32],fL.zu.aj6);if(v=="bvlD")J=new jV(null,fL.zu.dir);if(v=="srgR")J=new bQ([12,34],0,1e3,"%");
if(v=="Sftn")J=new bQ([12,35],0,20,"px");if(v=="Lald")J=e.lagl;if(v=="hglM"||v=="sdwM")J=new jV([12,36],cc.j$,cc.qE);
if(v=="hglC"||v=="sdwC")J=new iE;if(v=="hglO"||v=="sdwO")J=new bQ([12,0],0,100,"%");if(v=="Invr"||v=="InvT")J=new hJ([4,11]);
if(v=="overprint")J=new hJ("Overprint");if(v=="Sz")J=new bQ([12,14,0],1,200,"px");if(v=="Styl")J=new jV([12,40],fL.stroke.names);
if(v=="PntT")J=new jV([12,66],fL.stroke.aim);if(v=="Clr")J=new iE(!0);if(v=="Grad"){J=new gV(!0,this.Vi?null:[12,37],!0);
J.e(JSON.parse(fL.GB.aBn).v)}if(v=="Rvrs")J=new hJ([12,23,0]);if(v=="Dthr")J=new hJ([12,23,3]);if(v=="Type")J=new jV(this.Vi?null:[12,22],fL.Vh.names.slice(0,this.s7=="FrFX"?6:5));
if(v=="Ptrn")J=new b7([12,62]);if(v=="Scl")J=new bQ([12,38],5,500,"%",0,!0);if(v=="Algn")J=new hJ([12,39]);
if(v=="Ofst")J=new cw(!0);if(v=="phase")J=new cw(!1);if(v=="useShape")J=new hJ([12,21]);if(v=="useTexture")J=new hJ([12,67]);
if(v=="textureDepth")J=new bQ([12,34],-300,300,"%");var d=v=="----"||v=="\n"?v+T:v;if(J!=null)e[d]=J}return e};
jk.prototype.a2I=function(h){var e=this.Jx[this.Kh];for(var T=0;T<h.length;T++){var v=this.GO[h[T]];
if(v&&e.contains(v.Z))e.removeChild(v.Z)}};jk.prototype.asi=function(h){var e=this.Jx[this.Kh];for(var T=0;
T<h.length;T++){var v=this.GO[h[T]];if(v&&!e.contains(v.Z))e.appendChild(v.Z)}};jk.prototype.fa=function(h,e){if(this.GO==null)return;
var v=e==dq.AY;if(this.GO.Grad){this.GO.Grad.QG(h.kc,h.kF);if(v||e==dq.Ih||e==dq.vk)this.GO.Grad.lN(h.$r)}if(this.GO.Ptrn){if(v||e==dq.to)this.GO.Ptrn.lN(h.T9)}if(this.GO.TrnS){if(v||e==dq.oK)this.GO.TrnS.lN(h.CT)}if(this.GO.MpgS){if(v||e==dq.oK)this.GO.MpgS.lN(h.CT)}};
jk.prototype.S=function(){for(var T=0;T<this.a7L.length;T++)this.a7L[T].S();for(var h in this.GO)if(this.GO[h]instanceof fx)this.GO[h].S()};
jk.prototype.j1=function(){for(var h in this.GO){var e=this.GO[h];e.parent=this;if(e instanceof fx)e.P(k.E.f,this.azM,this);
if(this.Jx.length==0||h=="useShape"||h=="useTexture"){var v=new cE(e.ajJ()),J=V.k("div","bordered padded");
if(this.Vi==!1){J.appendChild(v.Z);J.appendChild(V.k("hr",""))}this.a7L.push(v);this.Jx.push(J);this.dZ.push(e)}else this.Jx[this.Jx.length-1].appendChild(e.Z)}};
jk.prototype.update=function(h,e){if(this.GO==null)return;this.cG=B.t(e);for(var v in e){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(v)!=-1)this.GO[v].e(e[v].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(v)!=-1){this.GO[v].e(e[v].v,h)}if(["Md","hglM","sdwM"].indexOf(v)!=-1)this.GO[v].e(cc.s7.indexOf(e[v].v.BlnM));
if(v=="lrMd"){var J=(e.XN?[[15,10,27]]:[]).concat(cc.j$),m=(e.XN?[1]:[]).concat(cc.qE);this.GO[v].VU(J,m);
this.GO[v].e(e[v].v)}if(v=="Angl")this.GO[v].e([e[v].v.val]);if(v=="lagl"){var d=e.uglg&&e.uglg.v?h.J0():e.lagl.v.val;
this.GO[v].e([d])}if(v=="Lald"){var d=e.uglg&&e.uglg.v?h.uz():e.Lald.v.val;this.GO[v].e([null,d])}if(v=="Type")this.GO[v].e(fL.Vh.types.indexOf(e.Type.v.GrdT));
if(v=="Styl")this.GO[v].e(fL.stroke.types.indexOf(e.Styl.v.FStl));if(v=="PntT"){var x=fL.stroke.Lq.indexOf(e.PntT.v.FrFl);
this.GO[v].e(x);if(!this.Vi){this.a2I(fL.hz.concat(fL.RN.concat(fL.CI)));this.asi([fL.hz,fL.RN,fL.CI][x])}}if(v=="GlwT")this.GO[v].e(fL.X5.types.indexOf(e.GlwT.v.BETE));
if(v=="glwS")this.GO[v].e(fL.X5.amq.indexOf(e.glwS.v.IGSr));if(v=="bvlS")this.GO[v].e(fL.zu.types.indexOf(e.bvlS.v.BESl));
if(v=="bvlT")this.GO[v].e(fL.zu.abf.indexOf(e.bvlT.v.bvlT));if(v=="bvlD")this.GO[v].e(["In","Out"].indexOf(e.bvlD.v.BESs))}};
jk.prototype.azM=function(h){for(var e in this.GO){if(this.GO[e]!=h.target)continue;var v=null,J=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(e)!=-1)v={type:"#Prc",val:h.target.j()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(e)!=-1)v={type:"#Pxl",val:h.target.j()};if(["Angl","lagl"].indexOf(e)!=-1)v={type:"#Ang",val:h.target.j()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(e)!=-1)v=h.target.j();
if(["Md","hglM","sdwM"].indexOf(e)!=-1)v={BlnM:cc.s7[h.target.j()]};if(e=="uglg"){v=h.target.j();J=!0}if(e=="PntT"){v={FrFl:fL.stroke.Lq[h.target.j()]};
J=!0}if(e=="Lald")v={type:"#Ang",val:h.target.j()[1]};if(e=="Type")v={GrdT:fL.Vh.types[h.target.j()]};
if(e=="Styl")v={FStl:fL.stroke.types[h.target.j()]};if(e=="GlwT")v={BETE:fL.X5.types[h.target.j()]};
if(e=="glwS")v={IGSr:fL.X5.amq[h.target.j()]};if(e=="bvlS")v={BESl:fL.zu.types[h.target.j()]};if(e=="bvlT")v={bvlT:fL.zu.abf[h.target.j()]};
if(e=="bvlD")v={BESs:["In","Out"][h.target.j()]};this.r6({$o:e,J:v});if(J){if(this.Vi)this.update(null,this.cG);
else{var m=this.parent,d=m.Zw,x=this.xE,j=d.T[m.data.L].add.lmfx[fL.oN[x[0]]].v[x[1]].v;this.update(d,j)}}}};
jk.prototype.r6=function(h){if(this.cG&&this.cG[h.$o])this.cG[h.$o].v=h.J;if(this.Vi){this.a(new g3(k.E.f))}else{h.V="changeprop";
h.L=this.parent.data.L;h.yl=this.xE;var e=new g3(k.E.A,!0);e.data=h;e.I=c.MP;e.u$=!0;this.a(e);this.a(new g3("afterchange",!0))}};
jk.prototype.j=function(){return B.t(this.cG)};jk.QN={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(fL.hz),GrFl:["enab","Md","Opct"].concat(fL.RN),patternFill:["enab","Md","Opct"].concat(fL.CI),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(fL.hz.concat(fL.RN.concat(fL.CI)))};
function ct(){e2.call(this,[11,6],"layerstyle");this.ajT=-1;this.data={};this.Zw=null;this.H=null;this.an=[];
this.rI=[];V.zZ(this.body,"flexrow");this.Ln=V.k("div","bordered");V.v(this.Ln,"min-width:13em;");this.body.appendChild(this.Ln);
this.Nw=V.k("div","");V.v(this.Nw,"width:25em; padding-left: 1em;");this.body.appendChild(this.Nw);this.QC=V.k("div","form");
V.v(this.QC,"padding-left: 1em; width:7em;");this.body.appendChild(this.QC);this.s5=V.ab(this,this.QC);
this.arH=new eA([12,87],!0,null,!0);this.arH.P("click",this.aDJ,this);this.QC.appendChild(this.arH.Z);
this.g$=new hx;this.g$.parent=this;this.g$.P(k.E.f,this.a7F,this);this.QC.appendChild(this.g$.Z);this.P("closebtn",this.xS,this);
this.P("redrawall",this.ayn,this)}ct.prototype=new e2;ct.prototype.G0=function(){return!0};ct.prototype.po=function(){return!0};
ct.prototype.HL=function(h,e,v,J,m){var d=this.uY();if(d)d.HL(h,e,v,J,m)};ct.prototype._8=function(h,e,v,J,m){var d=this.uY();
if(d)d._8(h,e,v,J,m)};ct.prototype.ej=function(h,e,v,J,m){var d=this.uY();if(d)d.ej(h,e,v,J,m)};ct.prototype.uY=function(h){if(h==null)h=this.data.index;
return h==null?null:h==0?this.an[0]:this.rI[h[0]][h[1]]};ct.prototype.a7F=function(h){var e=this.g$.j();
this.r6({V:"setstl",J:e.bP});this.ayn(null)};ct.prototype.aDJ=function(h){var e=this.Zw,v=this.data.L;
if(v==null)v=e.X[0];var J=this.Zw.T[v],m=d4.aAZ(J),d=new g3(k.E.u,!0);d.data={V:k.l.Gi,N2:"add",m0:dq.NC,mM:[B.t(m)]};
this.a(d)};ct.prototype.alI=function(h){this.data.index=h.currentTarget.xE;this.t$(h.currentTarget.xE)};
ct.prototype.ayn=function(h){this.eh(this.Zw,this.data)};ct.prototype.t$=function(h,e){V.H5(this.Nw);
for(var T=0;T<this.an.length;T++)this.an[T].ams();var v=this.uY(h);this.Nw.appendChild(v.aHa());if(e)v.Xe();
var J=this.Zw;if(J){var m=J.T[this.data.L];this.an[0].update(J,c.Bx.x9(J,m));var d=m.add.lmfx;if(d==null)return;
for(var T=0;T<fL.order.length;T++){var x=d[fL.oN[T]].v;for(var j=0;j<x.length;j++)this.rI[T][j].update(J,x[j].v)}}if(e)v.Xe()};
ct.prototype.S=function(){e2.prototype.S.call(this);this.arH.S();this.g$.S();this.s5.S();for(var T=0;
T<this.an.length;T++)this.an[T].S()};ct.prototype.eh=function(h,e){var v=e.L==null;this.data.L=e.L;this.data.index=e.index;
e=this.data;this.Zw=h;if(v)e.L=h.X.length==0?h.T.length-1:h.X[0];V.H5(this.Ln);var J=h.T[e.L].add.lmfx;
this.DS();this.an=[new jk("bops",!1,0)];this.rI=[];for(var T=0;T<fL.order.length;T++){this.rI.push([]);
var m=J==null?[]:J[fL.oN[T]].v;for(var d=0;d<m.length;d++){var x=new jk(fL.order[T],!1,[T,d]);this.an.push(x);
this.rI[T].push(x)}if(m.length==0){var x=new jk(fL.order[T],!1,[T,0]);this.an.push(x);this.rI[T].push(x)}}this.S();
this.avd(this.H,dq.AY);for(var T=0;T<this.an.length;T++){this.an[T].parent=this;this.an[T].aeH(this.Ln);
this.an[T].P("showme",this.alI,this)}if(e.index==null||e.index==0||!v&&J[fL.oN[e.index[0]]].v.length==0){this.t$(0)}else this.t$(e.index,v);
this.P("afterchange",this.DS,this)};ct.prototype.DS=function(h){var e=this.Zw,v=this.data.L;if(v==null)v=e.X[0];
var J=this.Zw.T[v],m=d4.aAZ(J);this.g$.e(m,e.add.Patt?e.add.Patt:[],e.J0(),e.uz())};ct.prototype.fa=function(h,e){this.H=h;
this.avd(h,e);if(e==dq.NC||e==dq.AY){this.g$.lN([h.L7,h.T9])}if(e==dq.pt){}};ct.prototype.avd=function(h,e){for(var T=0;
T<this.an.length;T++)this.an[T].fa(h,e)};ct.prototype.xS=function(h){this.r6({V:"cancel"})};ct.prototype.nb=function(h){this.r6({V:"confirm"});
this.close()};ct.prototype.r6=function(h){h.L=this.data.L;var e=new g3(k.E.A,!0);e.data=h;e.I=c.MP;e.u$=!0;
this.a(e);this.DS()};ct.ay_=function(){var h=function(e){if(e==null||e.X.length==0)return{m:!1};var v=e.T[e.X[0]];
return{m:v.add.lmfx!=null}};return{name:[11,6],jV:!0,sub:[{name:[5,1],m:h},{name:[5,2]},{name:[2,2],m:h}]}};
ct.a4a=function(){return{sub:[{o:k.E.A,I:c.MP,h:{V:"st_copy"}},{o:k.E.A,I:c.MP,h:{V:"st_paste"}},{o:k.E.A,I:c.MP,h:{V:"st_clear"}}]}};
ct.xi=function(h){var e=[{name:[14,10],jV:!0}];for(var T=0;T<fL.names.length;T++)e.push({name:fL.names[T]});
if(h){e[e.length-1].jV=!0;e.push(ct.ay_());e.push({name:[6,30,1],m:function(v){return{m:v!=null&&v.X.length!=0&&v.T[v.X[0]].mV()}}});
e.push({name:["VAR0 VAR1",[12,49],[9,1]],m:function(v){return{m:v!=null&&v.X.length!=0&&v.T[v.X[0]].add.lmfx!=null}}})}return e};
ct.L$=function(h){var e=[{o:k.E.u,h:{V:k.l.Xq,dF:"layerstyle"}}];for(var T=0;T<fL.names.length;T++)e.push({o:k.E.u,h:{V:k.l.Xq,dF:"layerstyle",index:[T,0]}});
if(h){e.push(ct.a4a());e.push({o:k.E.u,h:{V:k.l.Xq,dF:"scaleeffects",xz:100,P_:{o:k.E.A,I:c.MP,h:{V:"scaleeffects"}}}});
var v={classID:"Mk",null:h8.$j("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
e.push({o:k.E.Fq,h:{UH:"make",TH:v}})}return e};ct.auO=function(h){var e=[];if(h)e.push({name:[6,48,0,0],U$:!0},{name:[6,48,0,1],U$:!0},{name:[6,48,0,2],U$:!0,jV:!0});
for(var v in hy.names)e.push({name:hy.names[v],jV:hy.a4D.indexOf(v)!=-1,U$:aE[v]!=null});return e};ct.CG=function(h){var e=[];
if(h){e.push({o:k.E.A,I:c.ua,h:{V:"newfill",R4:0}});for(var T=1;T<3;T++)e.push({o:k.E.Fq,h:c.XH.pH(T)})}for(var v in hy.names){var J=f8.UX(v);
if(J==null)J={};for(var m in hy.D7)if(hy.D7[m]==v)J.classID=m;var d={UH:"make",TH:{classID:"Mk",null:h8.$j("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:J}}}}};
e.push({o:k.E.Fq,h:d})}return e};function ku(){e2.call(this,"Merge Channels","mergechannels");this.qk=null;
var h=V.k("div","form");this.body.appendChild(h);this.Cb=[];for(var T=0;T<3;T++){var e=new jV(hy.wh[T],[]);
this.Cb.push(e);h.appendChild(e.Z);V.Xp(h)}this.s5=V.ab(this,h)}ku.prototype=new e2;ku.prototype.S=function(){e2.prototype.S.call(this);
this.s5.S();for(var T=0;T<3;T++)this.Cb[T].S()};ku.prototype.eh=function(h,e,v,J){this.qk=v;var m=[];
for(var T=0;T<v.length;T++)m.push(v[T].name);for(var T=0;T<3;T++){var d=this.Cb[T];d.VU(m);d.e(Math.min(T,v.length-1))}};
ku.prototype.nb=function(h){var e=this.qk,v=e[0],J=new g3(k.E.Fq,!0);J.data=e7.nz(v.q,v._,v.gx,"Merged Document","Wht",!1);
this.a(J);var m=[];for(var T=0;T<3;T++)m.push(e[this.Cb[T].j()].pb());var v=e[e.length-1],d=v.T[0],x=d.buffer;
for(var T=0;T<x.length;T+=4){x[T]=m[0][T];x[T+1]=m[1][T];x[T+2]=m[2][T]}d.dn();v.dn();this.close()};
function j9(){e2.call(this,[1,10],"script");var h=V.k("div","form");V.v(h,"width:44em");this.body.appendChild(h);
this.H=null;this.Og=[];this.zQ=[];this.awz;var e=this.R2=new eA([1,2],!1,null,!0);e.P("click",this._s,this);
h.appendChild(e.Z);var v=new eA("JS Reference",!1,null,!0);v.P("click",this.agr,this);h.appendChild(v.Z);
h.appendChild(new cE("Demos:").Z);this.a8z=[];var J=j9.bE;for(var T=0;T<J.length;T++){var m=new eA(J[T].VD,!1,null,!0);
this.a8z.push(m);h.appendChild(m.Z);m.P("click",this.aDi,this)}this.AR=V.k("textarea");V.JM(this.AR);
this.AR.setAttribute("rows",16);V.v(this.AR,"display:block;tab-size:4; font-family:monospace;width:100%;");
h.appendChild(this.AR);var d=new eA("Run",!0,null,!0);d.P("click",this.nb,this);h.appendChild(d.Z);this.J1=V.k("div");
h.appendChild(this.J1)}j9.prototype=new e2;j9.prototype.S=function(){this.R2.S()};j9.prototype._s=function(){var h=this.awz;
if(h==null)h="script.jsx";var e=new g3(k.E.u,!0);e.data={V:k.l.Xq,dF:"namewindow",xz:h.slice(0,h.length-4),j5:this.a08.bind(this)};
this.a(e)};j9.prototype.a08=function(h){var e=this.AR.value,v=b.YQ(e),J=new g3(k.E.u,!0);J.data={V:k.l.x_,rP:v.buffer,pQ:h+".jsx",ave:!0};
this.a(J)};j9.prototype.a0Z=function(h){var T=this.Og.indexOf(h.target),e=this.awz=this.zQ[T],v=this.H.Jy.Ib[e],J=new Uint8Array(v),m=b.Is(J,0,J.length);
this.AR.value=m};j9.prototype.eh=function(h,e,v){this.AR.value=j9.bE[0].Tl;this.avv()};j9.prototype.avv=function(){var h=this.H.Jy,e=this.J1;
V.H5(e);this.Og=[];this.zQ=[];e.textContent="Saved scripts: ";for(var v in h.Ib){if(v.endsWith(".jsx")){var J=new eA(v,!1,null,!0);
this.Og.push(J);this.zQ.push(v);J.P("click",this.a0Z,this);e.appendChild(J.Z)}}};j9.prototype.fa=function(h,e){this.H=h;
if(e==dq.Dy)this.avv()};j9.prototype.agr=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.US,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(e)};j9.prototype.nb=function(h){var e=this.AR.value,v=this.H.Jy.Ib;e=j9.aqE(e,v);var J=new g3(k.E.u,!0);
J.data={V:k.l.M7,Ds:e};this.a(J)};j9.aqE=function(h,e){var v=h.split("\n");for(var T=0;T<v.length;T++){var J=v[T].trim();
if(J.startsWith("#include")){var m=J.slice(J.indexOf("\"")+1,J.lastIndexOf("\"")),d=e[m];if(d==null)alert("\""+m+"\" not found in the Local Storage");
v[T]=j9.aqE(b.Is(new Uint8Array(d)),e)}}return v.join("\n")};j9.prototype.aDi=function(h){var e=this.a8z.indexOf(h.currentTarget);
this.AR.value=j9.bE[e].Tl};j9.bE=[{VD:"Hello",Tl:"\nalert(\"Hello Photopea!\");\n"},{VD:"Process Layers",Tl:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{VD:"Clone Layers",Tl:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function dY(){e2.call(this,[11,7],"newproject");this.data=null;this.qk=null;this.qi=0;var h=V.k("div","flexrow");
this.tI=h;this.body.appendChild(h);var e=V.k("div","form");this.ol=e;h.appendChild(e);this.wS=new jE([12,48],null,10);
e.appendChild(this.wS.Z);V.Xp(e);this.Nm=new ai(!0,null,null,null,!0);this.Nm.e(new fq(1280,720),72);
if(jD==1){this.Nm.e(new fq(8.3*300,11.7*300),300);this.Nm.op(4)}this.Nm.a3z(!0,!0);this.Nm.P(k.E.f,this.b7,this);
e.appendChild(this.Nm.Z);this.q8=new a6;this.q8.parent=this;if(jD==0)e.appendChild(this.q8.Z);this.z5=new eA("\u02C5",null,[0,14],!0);
this.z5.P("click",this.ta,this);if(jD==0)e.appendChild(this.z5.Z);var v=this.xn=V.k("span");e.appendChild(v);
v.style.display="none";this.aBW=new jV([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);v.appendChild(this.aBW.Z);
this.a8l=new hJ([1,16,1]);v.appendChild(this.a8l.Z);this.s5=new eA([12,49],!0,null,!0);this.s5.P("click",this.nb,this);
e.appendChild(this.s5.Z);var J=dY.Me,m=[];for(var T=0;T<J.length;T++)m.push(J[T].name);this.A5=new ha(null,m);
this.A5.P(k.E.f,this.aGk,this);e.appendChild(this.A5.Z);this.A5.Z.style["margin-top"]="1em";this.Nl=new dN(!0);
this.Nl.P(k.E.f,this.avG,this);e.appendChild(this.Nl.Z);this.aGk();this.uk=new gy;this.uk.parent=this;
V.v(this.uk.Z,"margin-left:1em");this.uk.P("tempready",this.akC,this)}dY.prototype=new e2;dY.prototype.ta=function(h){var e=this.xn,v=e.style.display!="none";
e.style.display=v?"none":"";this.z5.Ao(v?"\u02C5":"\u02C4");this.Kt(this.VA,this.qw)};dY.prototype.fa=function(h,e){this.uk.fa(h)};
dY.prototype.W8=function(h,e){return new fq(Math.max(0,Math.min(70,(h-690)/2)),h>e?Math.max(0,Math.min(50,(e-400)/2)):0)};
dY.prototype.Kt=function(h,e){this.VA=h;this.qw=e;V.v(this.ol,"width:"+Math.min(h-24,338)+"px");this.Nl.Z.style.height=e-248-(this.xn.style.display=="none"?0:28)+(jD==0?0:28)+"px";
var v=this.uk.Z,J=v.parentNode;if(h<500){if(J!=null)this.tI.removeChild(v)}else{if(J==null)this.tI.appendChild(v);
this.uk.Kt(h-378,e-28)}};dY.prototype.b7=function(){this.uk.e(this.Nm.j())};dY.prototype.avG=function(h){var e=this.Nl.j()[0],v=dY.Me[this.A5.j()].dD[e],J=v[4];
if(J==0)J=72;var m=v[1],d=v[2],x=["px","%","mm","in"].indexOf(v[3]),j=[1,1,25.4/J,1/J][x];m/=j;d/=j;
this.Nm.e(new fq(Math.round(m),Math.round(d)),J);this.Nm.op(x);this.b7();if(Date.now()-this.qi<300)this.nb();
this.qi=Date.now()};dY.prototype.aGk=function(h){var e=dY.Me[this.A5.j()].dD,v=[],J=[],m=Math.round(106*V.A_()),d=Math.round(106*V.A_()),x=0;
for(var T=0;T<e.length;T++)x=Math.max(x,e[T][1],e[T][2]);for(var T=0;T<e.length;T++){var j=e[T],E=j[1]+" x "+j[2]+" "+j[3];
if(j[3]=="in")E=(j[1]*25.4).toFixed(0)+" x "+(j[2]*25.4).toFixed(0)+" mm";if(j[3]=="mm")E=(j[1]/25.4).toFixed(1)+" x "+(j[2]/25.4).toFixed(1)+" in";
if(j[4])E=E+" @ "+j[4]+" ppi";J.push(E);v.push(dY.lT(j,m,d,x))}this.Nl.eZ(v,J,m,d)};dY.lT=function(h,e,v,J){var m=V.k("canvas",""),d=m.getContext("2d");
m.width=e;m.height=v;var x=Math.round(e/8),j=Math.floor(11*V.A_()),E=h[1],L=h[2];d.fillStyle="#000000";
d.font=Math.round(j*.9)+"px \"Open Sans\", Sans-Serif";var p=E+" x "+L+" "+h[3],Z=d.measureText(p);d.fillText(p,Math.round((e-Z.width)/2),v-Math.round(x/2));
if(h[0]!=null){d.font="bold "+j+"px \"Open Sans\", Sans-Serif";var p=h[0],Z=d.measureText(p);d.fillText(p,Math.round((e-Z.width)/2),v-Math.round(x/2)-Math.round(j*1.3))}v-=Math.round(2.5*j);
var o=Math.min((e-x)/E,(v-x)/L);o*=.5+.5*(Math.max(E,L)/J);var u=(e-E*o)/2,N=(v-L*o)/2;d.strokeRect(Math.round(u)+.5,Math.round(N)+.5,Math.round(E*o),Math.round(L*o));
return m.toDataURL()};dY.prototype.S=function(){e2.prototype.S.call(this);this.Nm.S();this.wS.S();this.q8.S();
this.s5.S();this.wS.e(bj.get([11,7]));this.A5.S();this.a8l.S();this.z5.S();this.uk.S()};dY.prototype.nb=function(h){var e=this.Nm.j(),v=e.x,J=e.y;
this.close();var m=this.q8.j(),d=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.aBW.j()],x=new g3(k.E.Fq,!0);
x.data=e7.nz(v,J,this.Nm.gk(),this.wS.j(),["Wht","Blck","Trns","Clr"][m[0]],this.a8l.j(),m[1],d);this.a(x);
this.aH8()};dY.prototype.akC=function(h){var e=h.data.Zw;e.gx=this.Nm.gk();var v=new g3(k.E.u,!0);v.data={V:k.l.zM,Zw:e};
this.a(v);this.close();this.aH8()};dY.prototype.aH8=function(){var h=this.qk[this.qk.length-1],e=this.data.a2m;
if(e)fV.W2(function(){var v=new XMLHttpRequest,J="https://www.googleapis.com/drive/v3/files?"+fV.acb();
v.open("POST",J,!0);v.setRequestHeader("Content-Type","application/json");v.addEventListener("load",function(m){var d=JSON.parse(m.target.response);
h.Ey={file:d,$Y:"psd"};alert(h.name+" created in Google Drive")});v.send(JSON.stringify({name:h.name,a55:[e]}))})};
dY.prototype.eh=function(h,e,v,J){this.qk=v;if(h!=null&&h.K!=null){var m=new fP(0,0,h.q,h._).UP(h.K.R);
this.Nm.e(new fq(m.q,m._))}this.data=e;this.b7();if(V.rJ())ke.aDD(this.sY.bind(this))};dY.prototype.sY=function(h){if(h=="granted")ke.Ui(this,this.bN.bind(this))};
dY.prototype.bN=function(h,e){this.Nm.e(new fq(e.q,e._))};dY.Me=[{name:"Social",dD:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],dD:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],dD:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],dD:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],dD:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],dD:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",dD:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function c_(h,e,v){e2.call(this,e,"sel_"+h);this.V=h;var J=V.k("div","form");this.body.appendChild(J);
this.wS=new cs(e,0,255,null,0,!1,!0);J.appendChild(this.wS.Z);this.wS.e(1);var m=V.k("span");m.textContent=v;
J.appendChild(m);V.Xp(J);this.aGa=new hJ("Apply at canvas bounds");if(h!="border")J.appendChild(this.aGa.Z);
this.s5=V.ab(this,J)}c_.prototype=new e2;c_.prototype.yG=function(h,e){if(h==null)return;if(h.K==null)alert("No selection!");
return h.K!=null};c_.prototype.nb=function(h){var e=new g3(k.E.Fq,!0);e.data=c.tM.ka(this.V,this.wS.j(),this.aGa.j());
e.u$=!0;this.a(e);this.close()};c_.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();if(this.wS)this.wS.S()};
c_.prototype.eh=function(h,e){this.wS.bX()};function b$(h,e,v,J,m,d){e2.call(this,v,e);this.aAX=d;this.AX=m;
this.Me=null;this.ol=V.k("div","form");this.body.appendChild(this.ol);this.azf=V.k("div");this.ol.appendChild(this.azf);
var x=500;if(J){var j=J.split(",");J=j[0];if(j[1])x=parseFloat(j[1])}this.wS=h==0?new jE(v,null,10):h==1?new bQ(v,0,x,J,1):new jE(v,null,24,5);
this.wS.P(k.E.f,this.k4,this);this.ol.appendChild(this.wS.Z);this.s5=V.ab(this,this.ol);this.P("closebtn",this.xS,this)}b$.prototype=new e2;
b$.prototype.W8=function(h,e){return new fq(Math.max(0,Math.min(150,(h-250)/2)),Math.max(0,Math.min(150,(e-120)/2)))};
b$.prototype.G0=function(){return this.aAX};b$.prototype.k4=function(h){var e=this.wS.j();if(this.AX)this.cd(e)};
b$.prototype.xS=function(h){if(this.AX)this.cd("cancel")};b$.prototype.nb=function(h){if(this.AX)this.cd("confirm");
else this.cd(this.wS.j());this.close()};b$.prototype.cd=function(h){if(this.Me.j5)this.Me.j5(h);else if(this.Me.P_){var e=this.Me.P_,v=new g3(e.o,!0);
v.I=e.I;v.data=e.h;v.data.J=h;v.u$=!0;this.a(v)}};b$.prototype.S=function(){e2.prototype.S.call(this);
this.s5.S();if(this.wS)this.wS.S()};b$.prototype.eh=function(h,e){this.Me=e;this.wS.e(e.xz);this.wS.bX();
this.azf.innerHTML=e.a20?e.a20:"";this.k4(null)};function e0(){e2.call(this,[1,5],"open_from_url");this.az=null;
var h=V.k("div","form");this.body.appendChild(h);this.aFY=new jE("URL",null,22);h.appendChild(this.aFY.Z);
V.Xp(h);this.ajM=new ha([21,0],[[21,2],[21,1]]);h.appendChild(this.ajM.Z);this.s5=V.ab(this,h)}e0.prototype=new e2;
e0.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();this.ajM.S()};e0.prototype.eh=function(h,e,v){this.aFY.bX();
this.az=null;if(h&&v.indexOf(h)!=-1)this.az=v.indexOf(h)};e0.prototype.nb=function(h){var e=new g3(k.E.u,!0),v=this.aFY.j();
e.data={V:k.l.We,m0:{url:v,Q4:!0,az:this.ajM.j()==1?this.az:null}};this.a(e);this.close()};function ii(){e2.call(this,[12,79],"preferences");
this.H=null;var h=V.k("div","form");this.body.appendChild(h);this.QN=[new hJ([8,2]),new iE,new iE,new hJ([8,4]),new iE,new jV([12,80,3],[[12,93,3],[12,80,4]]),new bQ([12,80,5],.02,100,null,2),new jV(null,B.yu.Gw),new jV([12,80,6],B.yu.Gw),new hJ("Remind me to save"),new hJ("Glass Menus"),new bQ("Cursor Offset",0,200),new jE("Dezgo API Key")];
for(var T=0;T<this.QN.length;T++){var e=this.QN[T];e.parent=this;e.P(k.E.f,this.NS,this);if(T==9)continue;
if(T==2){var v=new cE("Local guides:");h.appendChild(v.Z)}h.appendChild(e.Z);if(T!=0&&T!=1&&T!=3&&T!=4&&T!=6)V.Xp(h)}}ii.prototype=new e2;
ii.prototype.S=function(){e2.prototype.S.call(this);for(var T=0;T<this.QN.length;T++)this.QN[T].S()};
ii.prototype.eh=function(h,e,v){};ii.prototype.fa=function(h,e){this.H=h;var v=h.Kd;this.QN[0].e(v.nT);
this.QN[1].Y_(v.Gl);this.QN[2].Y_(v.HM);this.QN[3].e(v.bT);this.QN[4].Y_(v.da);this.QN[5].e(v.aj);this.QN[6].e(v.KS);
this.QN[7].e(v.Iq);this.QN[8].e(v.XB);this.QN[9].e(h.Vo==1);var J=window.locStor.getItem("__glm");this.QN[10].e(J=="1");
this.QN[11].e(h.VW);var m=window.locStor.getItem("__dak");this.QN[12].e(m?m:"")};ii.prototype.NS=function(h){var e=this.QN;
if(h.target==e[9])this.H.Vo=1-this.H.Vo;var v=B.t(this.H.Kd);v.nT=e[0].j();v.Gl=e[1].by();v.HM=e[2].by();
v.bT=e[3].j();v.da=e[4].by();v.aj=e[5].j();v.KS=e[6].j();v.Iq=e[7].j();v.XB=e[8].j();var J=window.locStor;
J.setItem("__glm",e[10].j()?"1":"0");this.H.VW=e[11].j();var m=e[12].j();if(m=="")J.removeItem("__dak");
else J.setItem("__dak",m);var d=new g3(k.E.u,!0);d.data={V:k.l.Gi,m0:dq.xo,uO:v};this.a(d)};function iD(){e2.call(this,[11,8],"saveforweb");
this.a7j="";this.P("closebtn",function(){this.r$.Fx()},this);this.Zw=null;this.Ym=null;this.amt=null;
this.H=null;V.zZ(this.body,"flexrow");this.body.style.padding="0";var h=V.k("div");V.v(h,"position:relative;");
var e=V.k("div");this.body.appendChild(h);this.body.appendChild(e);this.eS=V.k("div","imgcont");h.appendChild(this.eS);
this.r$=new fJ;this.r$.Kt(512,512);var v=this.ZE=V.k("video");v.setAttribute("controls","");v.setAttribute("preload","auto");
v.setAttribute("loop","");this.en=V.k("div");V.v(this.en,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
h.appendChild(this.en);var J=this.ol=V.k("div","form cell");V.v(J,"width:195px; padding:9px 13px;");
e.appendChild(J);this.eM=new jE([12,48],null,7.6);this.eM.vo();J.appendChild(this.eM.Z);var m=gI.oT();
m[m.indexOf("WEBP")]="webP";this.R3=new jV([12,50],m);this.R3.Z.style.marginRight="0";this.R3.vo();J.appendChild(this.R3.Z);
this.R3.P(k.E.f,this.aD,this);V.Xp(J);this.Nm=new ai(!0,!0,!1,!0);this.Nm.vo();this.Nm.P(k.E.f,this.aD,this);
this.Nm.bQ.Z.style.paddingBottom="8px";J.appendChild(this.Nm.Z);this.wQ=new ff;this.wQ.P(k.E.f,this.aD,this);
J.appendChild(this.wQ.Z);this.ap=new eA([1,2],!0,null,!0);this.ap.P("click",this.nb,this);J.appendChild(this.ap.Z)}iD.prototype=new e2;
iD.prototype.yG=function(h,e){return h!=null};iD.prototype.S=function(){e2.prototype.S.call(this);this.Nm.S();
this.eM.S();this.R3.S();this.wQ.S();this.ap.S()};iD.prototype.nb=function(h){var e=this.eM.j().trim(),v=gI.oT()[this.R3.j()],J=v=="JPG"||v=="PNG"||v=="GIF"||v=="SVG"||v=="WEBP",m=gI.g6(v),d="."+v.toLowerCase(),x=this.Ym,j=e+d,E=this.Zw,L=E.Ys,p=this.wQ.j();
if(E.AG())p.pop();var Z=L.length!=0&&J?p.pop():0;if(Z!=0){var o=[],u={},N=new fP(0,0,E.q,E._),M=E.pb();
for(var T=0;T<L.length;T++)o.push(c.E5.P8(L,T));o.reverse();var O=B.R.agU([0,0,E.q,E._],o),F=[];for(var T=0;
T<O.length;T++){var W=O[T],f=new fP(W[0],W[1],W[2]-W[0],W[3]-W[1]),iW=""+(T+1);if(iW.length<2)iW="0"+iW;
iW=e+"_"+iW;if(W[4]!=null&&L[W[4]].v.Nm)iW=L[W[4]].v.Nm.v;var $="images/"+iW+d;F.push($);if(Z==2&&W[4]==null)continue;
var H=B.U(f.$()*4);B.YZ(M,N,H,f);u[$]=new Uint8Array(m.oZ([[H.buffer,0,E.gx,E.dQ]],f.q,f._,p))}F.push("images/spacer.gif");
var A="<html>\n<head>\n<title>"+e+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
A+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
A+="<!-- Save for Web Slices ("+E.name+") -->\n";A+=B.R.axh(O,F,L,Z)+"\n";A+="<!-- End Save for Web Slices -->\n";
A+="</body>\n</html>\n";var G=B.U(Math.round(A.length*1.5)),l=b.VC(A,G,0);u["index.html"]=G.slice(0,l);
x=UZIP.encode(u);j=e+".zip"}else if(E.abm()&&J&&p.pop()){var K=[],N,M;if(jD==0){N=new fP(0,0,E.q,E._);
M=E.pb();var U=E.root.children;for(var T=0;T<U.length;T++){var z=U[T].L;if(z.add.artb==null||!z.oA())continue;
K.push([z.getName(),z.AC()])}}else{N=E.Wo();M=new Uint8Array(E.alb(this.H));var q=E.add.arts;for(var T=0;
T<q.length;T++){var P=q[T];K.push([P.pQ,B.w.Ob(P.Fv)])}}var u={};for(var T=0;T<K.length;T++){var g,P=K[T][1];
if(v=="SVG")g=new Uint8Array(m.oZ(E,P.q,P._,p,this.H,T));else{var a=B.U(P.$()*4);console.log(N,P);B.YZ(M,N,a,P);
g=new Uint8Array(m.oZ([[a.buffer,0,E.gx,E.dQ]],P.q,P._,p))}u[K[T][0]+d]=g}x=UZIP.encode(u);j=e+".zip"}var w=function(){if(E.um)ke.j6("act=1&id="+E.um);
this.r$.Fx();this.close();var d=gI.oT()[this.R3.j()];cU.event("efmt_"+d.toLowerCase(),.1);var S=new g3(k.E.u,!0);
S.data={V:k.l.vI,data:x,name:j};this.a(S)}.bind(this);if(!this.H.nX||cU.Ju()){w();return}var y=fk.sr()!=0;
w();var S=new g3(k.E.u,!0),i=c3.h7("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),C=c3.h7(";QJXQ_*II9"),Y=function(){S.data={V:k.l.Xq,dF:"account"};
this.a(S)}.bind(this);if(y){i=c3.h7("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
Y=function(){};C=null}S.data={V:k.l.Xq,dF:c3.IW,J:i,j5:Y,atN:C};if(Math.random()<.1||y)this.a(S)};iD.prototype.eh=function(h,e){if(e.v9!=null)this.R3.e(e.v9);
this.Zw=h;var v=this.Zw.name,J=v.lastIndexOf("."),v=J==-1?v:v.slice(0,J);this.eM.e(v);var m=h.q,d=h._;
if(jD==1){var x=h.Wo();m=x.q;d=x._}var j=m+","+d;if(j!=this.a7j){this.a7j=j;this.Nm.e(new fq(m,d),h.gx)}this.wQ.avf();
if(e.arS){this.Nm.op(3);this.wQ.$h.PDF[2].ec.e(!0)}this.aD(null,!0)};iD.prototype.apC=function(h,e){return h<e&&h<660};
iD.prototype.W8=function(h,e){return this.apC(h,e)?new fq(0,0):new fq(Math.max(0,Math.min(150,(h-770)/2)),Math.max(0,Math.min(150,(e-590)/2)))};
iD.prototype.Kt=function(h,e,v){this.VA=h;this.qw=e;if(this.Zw==null)return;var J=this.ap.Z,m=this.apC(h,e),d,x,o="<span style=\"width:",u="display:inline-block; text-align:right;\">";
if(m){var j=this.ol.getBoundingClientRect().height;d=h;x=e-Math.max(j,252);V.t7(this.body,"flexrow")}else{d=Math.min(512,h-195-2*13);
x=Math.min(512,e-24);V.zZ(this.body,"flexrow")}var E=m?h-2*13:195;this.ol.style.width=E+"px";this.eM.mW.style.width=E-77+"px";
this.Nm.Kt(E);var L=gI.oT()[this.R3.j()],p=gI.g6(L);if(p.ug||p.tB)V.v(this.eS.firstChild,"display:block; width:"+d+"px; height:"+x+"px;");
else{this.r$.Kt(d,x);this.ZE.width=d;this.ZE.height=x}if(this.Ym==null)return;var Z=this.Ym.byteLength,N=o+64+"px;"+u+iD.kA(Z)+"</span>";
if(d>400)N+=o+90+"px; opacity:"+.5+";"+u+Z.toLocaleString()+" B</span>";this.en.innerHTML=N;if(v)setTimeout(function(){this.Kt(this.VA,this.qw)}.bind(this),20)};
iD.kA=function(h){var e=h.toString(2),v=0;while(v+10<e.length)v+=10;var J=(h/Math.pow(2,v)).toFixed(1);
if(J.endsWith(".0"))J=J.slice(0,-2);var m="B KB MB GB TB PB".split(" ")[Math.floor(v/10)];return J+" "+m};
iD.prototype.fa=function(h,e){this.H=h};iD.prototype.aD=async function(h,e){var v=this.Zw,J=this.Nm.j(),m=J.x,d=J.y,x=this.R3.j(),j=gI.oT()[x],E=gI.a8e(v)[0].length,L=["GIF","PNG","WEBP","MP4"].indexOf(j)!=-1&&E>1,M="";
if(L&&j!="MP4"&&e&&(E>4&&m*d>1024*1024||m*d*E>800*800*50)){var p=1;while(Math.max(m>>>p,d>>>p)>800)p++;
var Z=window.confirm("Your animation is large ("+m+" x "+d+" px). Press \"OK\" to scale it to "+(100>>>p)+"%. Press \"Cancel\" to keep the size.");
if(Z){this.Nm.e(new fq(m>>>p,d>>>p),null,!0);m=m>>>p;d=d>>>p}}var o=v.AG();this.wQ.du(j,L,v.Ys.length!=0,v.abm(),o!=null);
var u=window.locStor.getItem("sfwPrms");if(u==null)u={};else{u=JSON.parse(u);if(u.MP4&&u.MP4[0]==100)u.MP4[0]=50}var N=this.wQ.j();
if(h&&h.target==this.wQ){u[j]=N;window.locStor.setItem("sfwPrms",JSON.stringify(u))}else if(u[j]){this.wQ.e(u[j],!0);
N=this.wQ.j()}this.Ym=await gI.Pc(v,j,m,d,N,this.H);if(this.Ym==null){this.Zw=null;return}V.H5(this.eS);
this.r$.Fx();var O=gI.g6(j);if(O.tB){this.eS.innerHTML="<div></div>"}else if(O.ug){var F=m,W=d,f;if(j=="PDF"||j=="AI"){f=URL.createObjectURL(new Blob([this.Ym],{type:"application/pdf"}))}else{f=URL.createObjectURL(new Blob([this.Ym],{type:"image/svg+xml"}))}this.eS.innerHTML="<iframe src=\""+f+"\"></iframe>"}else if(j=="MP4"){var f=URL.createObjectURL(new Blob([this.Ym]));
this.ZE.setAttribute("src",f);this.eS.appendChild(this.ZE)}else{var $=this.amt=O.E2(this.Ym),H=$[0],A=H.Ei,F=A.q,W=A._;
if(H.oR){var G=ICC.R(H.oR.buffer),l=17,K=ICC.U.sampleLUT(G,l);for(var T=0;T<$.length;T++){var U=new Uint8Array($[T].data);
ICC.U.applyLUT(K,l,U,U)}}this.r$.e($,$.length>1?N[N.length-3]:0);this.eS.appendChild(this.r$.Z);M="background: rgba(0,0,0,0);"}V.v(this.eS,"display:block; "+(O.tB?"background:rgba(0,0,0,0);":"background-size:"+16/V.A_()+"px;")+M);
this.Kt(this.VA,this.qw,e)};function f1(){e2.call(this,[11,13],"shortcuts");this.H=null;var h=this.tI=V.k("div","scrollable");
V.v(h,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(h);this.N8()}f1.prototype=new e2;
f1.prototype.S=function(){e2.prototype.S.call(this);this.N8()};f1.prototype.fa=function(h,e){this.H=h};
f1.prototype.eh=function(h,e,v,J){if(V.gl(this.Z))this.N8()};f1.prototype.N8=function(){var h="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",e="",v=dW,J=v.Dd,m=v.l$,d=v.B2;
e+="<h2 style=\"margin-top:0;\">Main Menu</h2>";e+=h;e+=this.EC([[0,0],"---",[1,0],[J,v.Rt],[1,2],[J,v.J8],[1,3],[m,J,v.J8],[1,8],[d,m,J,v.J8],[0,1],"---",[2,0],[m,J,v.ZB],[2,1],[J,v.ZB],[5,0],[J,v.R6],[5,1],[J,v.jo],[5,2],[J,v.q3],[2,2],"Delete",[2,3],[d,v.iS],[10,16],[d,J,v.em],[12,79],[J,v.uX],[3],"---",[4,1],[J,v.hO],[4,2],[J,v.f_],[4,5],[J,v.kP],[4,11],[J,v.CC],[0,3],"---",[6,13],[m,J,v.VJ],[6,49,0],[J,v.Dc],[6,6,0],[d,J,v.Sz],[6,9],[J,v.Sz],[6,10],[J,v.E],[0,5],"---",[7,0],[J,v.l],[7,1],[J,v.Gu],[7,2],[m,J,v.CC],[0,7],"---",[8,0],[J,v.ci],[8,1],[J,v.As],[8,3],[J,v.rF],[8,2],[J,v.cz],[8,4],[J,v.H6],[11,13],"?"]);
e+="</div>";e+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";e+=h;e+=this.EC(["Vertical scroll","Wheel","Horizontal scroll",[J,"Wheel"],"Zooming",[d,"Wheel"]]);
e+="</div>";e+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
e+=h;e+=this.EC([[10,11],[J],[10,7],"Space",[10,17],[J,v.qW]]);e+="</div>";e+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
e+=h;var x=[],j=this.H;if(j==null)return;var E=j.F;for(var T=0;T<E.rX.length;T++){var L=E.rX[T],p=E.keys[T];
for(var Z=0;Z<L.length;Z++)x.push(L[Z].I.name,p?p.VD:null)}x=x.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[J,v.CE]]);
e+=this.EC(x);e+="</div>";this.tI.innerHTML=e};f1.prototype.EC=function(h){var e="",v=!0;for(var T=0;
T<h.length;T+=2){var J=h[T],m=dW.G5(h[T+1]);if(m==null){v=!1;continue}var d=V.gq(bj.get(J));if(m=="---"){if(!v)e+="<br/>";
e+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+d+"</div>"}else e+="<div>"+d+" <span style=\"float:right; font-weight:bold;\">"+m+"</span> </div>";
v=!1}return e};function da(h){e2.call(this,h?"Artboard Options":[8,11,1],(h?"a":"s")+"options");this.YH=null;
this.ak2=h;var e=V.k("div","form");e.style.width="20em";this.body.appendChild(e);this.cy={Nm:[12,48],url:"URL",null:[12,71]};
this.QN={};for(var v in this.cy){if(h&&v!="Nm")continue;var J=new jE(this.cy[v],null,15);this.QN[v]=J;
e.appendChild(J.Z)}this.akT=new cE([12,14,0]);e.appendChild(this.akT.Z);this.Y8=new bU(0,!0);e.appendChild(this.Y8.Z);
this.s5=V.ab(this,e)}da.prototype=new e2;da.prototype.eh=function(h,e,v){var J=e.J;this.YH=JSON.stringify(J);
console.log(J);if(J.Fv){this.QN.Nm.e(J.pQ);var m=J.Fv,d=m[0],x=m[1];this.Y8.e([d,x,m[2]-d,m[3]-x])}else{for(var j in this.cy){this.QN[j].e(J[j]?J[j].v:"")}var E=J.bounds.v,d=E.Left.v,x=E.Top.v;
this.Y8.e([d,x,E.Rght.v-d,E.Btom.v-x])}};da.prototype.nb=function(h){var e=JSON.parse(this.YH),v=new g3(k.E.A,!0),J=this.Y8.j(),m=J[0],d=J[1];
console.log(J);if(this.ak2){e.pQ=this.QN.Nm.j();e.Fv=[m,d,m+J[2],d+J[3]];v.I=c.ly;v.data={V:"rpl",J:e}}else{for(var x in this.cy){var j=this.QN[x].j();
e[x]={t:"TEXT",v:j}}var E=e.bounds.v;E.Left.v=m;E.Top.v=d;E.Rght.v=m+J[2];E.Btom.v=d+J[3];v.I=c.e0;v.data=e}v.u$=!0;
this.a(v);this.close()};da.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();this.akT.S();
this.Y8.S()};function aR(){e2.call(this,[2,3],"fill");this.IU=null;var h=V.k("div","form padded");h.style.width="22em";
this.body.appendChild(h);this.W5="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.eu=new jV([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.eu.P(k.E.f,this.apK,this);h.appendChild(this.eu.Z);this.eS=V.k("span");h.appendChild(this.eS);this.bm=new iE;
this.bm.parent=this;this.bm.Y_(0);this.tr=new b7;this.tr.parent=this;this.aqf=new jV([12,19,0],cc.j$,cc.qE);
h.appendChild(this.aqf.Z);this.wx=new bQ([12,0],0,100,"%",0,!1);this.wx.e(100);h.appendChild(this.wx.Z);
this.JQ=new hJ([13,5]);this.JQ.e(!1);h.appendChild(this.JQ.Z);this.s5=V.ab(this,this.body)}aR.prototype=new e2;
aR.prototype.yG=function(h,e){return h!=null};aR.prototype.G0=function(){return!0};aR.prototype.apK=function(){var h=this.eu.j(),e=this.bm.Z,v=this.tr.Z,J=this.eS;
if(h==2)J.appendChild(e);else if(J.contains(e))J.removeChild(e);if(h==7)J.appendChild(v);else if(J.contains(v))J.removeChild(v)};
aR.prototype.S=function(){e2.prototype.S.call(this);this.eu.S();this.aqf.S();this.wx.S();this.JQ.S();
this.s5.S()};aR.prototype.nb=function(h){if(!this.IU.kC())return;var e=new g3(k.E.Fq,!0),v=this.eu.j();
e.data=c.Bt.pH(this.W5[v],cc.El[this.aqf.j()],this.wx.j()/100,this.bm.j(),this.JQ.j(),this.tr.j());this.close();
this.a(e)};aR.prototype.eh=function(h,e){this.IU=h};aR.prototype.fa=function(h,e){if(e==dq.AY||e==dq.to){this.tr.lN(h.T9);
this.tr.e({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function eB(){e2.call(this,[14,9],"stroke");this.H=null;this.ol=V.k("div","form");V.v(this.ol,"width:24em");
this.body.appendChild(this.ol);this.gp=new jk("FrFX",!0);this.gp.parent=this;var h=["Sz","Styl","Md","Opct"].concat(fL.hz);
for(var T=0;T<h.length;T++){var e=this.gp.GO[h[T]].Z;this.ol.appendChild(e)}this.nl=!1;this.s5=V.ab(this,this.body)}eB.prototype=new e2;
eB.prototype.yG=function(h,e){return h!=null};eB.prototype.G0=function(){return!0};eB.prototype.S=function(){e2.prototype.S.call(this);
this.s5.S();this.gp.S()};eB.prototype.nb=function(h){var e=this.gp.j(),v={classID:"Strk"};v.Md=e.Md;
v.Opct=e.Opct;v.Clr=e.Clr;v.Wdth={t:"long",v:e.Sz.v.val};var J=fL.stroke.types.indexOf(e.Styl.v.FStl);
v.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][J]}};var m=new g3(k.E.Fq,!0);m.data={UH:"stroke",TH:v};
this.close();this.a(m)};eB.prototype.eh=function(h,e){if(!this.nl){var v=fL.JC[fL.order.indexOf("FrFX")];
v=JSON.parse(v);this.gp.update(h,v);this.nl=!0}var v=this.gp.j(),J=this.H.kc;v.Clr.v=B.Vh.WZ({n:J>>16&255,i:J>>8&255,b:J&255});
this.gp.update(h,v)};eB.prototype.fa=function(h,e){this.H=h};function eD(){e2.call(this,[11,9],"textwarp");
this.QN=new ip;this.QN.P(k.E.f,this.ob,this);this.QN.parent=this;this.ol=V.k("div","form");V.v(this.ol,"width:20em");
this.body.appendChild(this.ol);this.ol.appendChild(this.QN.T2.Z);this.ol.appendChild(this.QN.LU.Z);this.ol.appendChild(this.QN.M_.Z);
this.ol.appendChild(this.QN.OX.Z);this.ol.appendChild(this.QN.xL.Z);this.s5=V.ab(this,this.ol);this.P("closebtn",this.xS,this)}eD.prototype=new e2;
eD.prototype.G0=function(){return!0};eD.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();
this.QN.S()};eD.prototype.ob=function(h){var e=this.QN.j();this.cd({V:"warp",aI:e})};eD.prototype.cd=function(h){var e=new g3(k.E.A,!0);
e.I=c.HV;e.data=h;e.u$=!0;this.a(e)};eD.prototype.xS=function(h){this.cd({V:"warpCancel"})};eD.prototype.nb=function(h){this.cd({V:"warpConfirm"});
this.close()};eD.prototype.eh=function(h,e){var v=h.T[h.X[0]];this.QN.e(v.add.TySh.a5)};function ck(){e2.call(this,[11,12,0],"trim");
var h=this.ol=V.k("div","form");V.v(this.ol,"width:22em");this.body.appendChild(this.ol);var e=new cE("Color To Trim:");
h.appendChild(e.Z);this.HT=new hR(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.HT.e([!0]);this.ol.appendChild(this.HT.Z);var e=new cE("Sides:");h.appendChild(e.Z);this.wN=new hR(null,["Top","Left","Bottom","Right"]);
this.wN.e([!0,!0,!0,!0]);this.ol.appendChild(this.wN.Z);this.s5=V.ab(this,this.body)}ck.prototype=new e2;
ck.prototype.yG=function(h,e){return h!=null};ck.prototype.G0=function(){return!0};ck.prototype.S=function(){e2.prototype.S.call(this);
this.HT.S();this.wN.S();this.s5.S()};ck.prototype.nb=function(h){var e=this.HT.j().indexOf(!0),v=this.wN.j(),J=new g3(k.E.Fq,!0);
J.data=c.Zk.KG(e,v);this.close();this.a(J)};function cR(){e2.call(this,"Raw Photopea","rawpea");this.Bw=null;
this.AK=null;this.body.style.padding="0";var h=this.ei=new aE["Adobe Camera Raw Filter"](!0),e="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(h.Z);this.s5=new eA([1,0],!0,null,!0);this.s5.P("click",this.nb,this);this.Gy=new eA(e+" JPG",!0,null,!0);
this.Gy.P("click",this.asX,this);this.Gy.Z.style.marginTop="6px";h.hw(this.s5.Z);h.hw(this.Gy.Z)}cR.prototype=new e2;
cR.prototype.W8=function(){return new fq(0,0)};cR.prototype.Kt=function(h,e){this.ei.Kt(h,e)};cR.prototype.S=function(){e2.prototype.S.call(this);
this.ei.S()};cR.prototype.asX=function(h){var e=this.Bw,v=this.AK,J=gI.g6("JPG").oZ([[this.ei.j(!0).buffer]],v.Lp,v.wT,[85]),m=new g3(k.E.u,!0);
m.data={V:k.l.vI,data:J,name:"photo.jpg"};this.a(m)};cR.prototype.nb=function(h){var e=this.Bw,v=this.AK,J=cP.VB(e),e={Ei:new fP(0,0,v.Lp,v.wT),data:this.ei.j(!0).buffer,dQ:J},m=gI.d2("Raw Photo",[e]),d=new g3(k.E.u,!0);
d.data={V:k.l.zM,Zw:m};this.a(d);this.AL();this.close()};cR.prototype.AL=function(){this.Bw=null;this.AK=null;
this.ei.aCO()};cR.prototype.eh=function(h,e,v,J){this.Bw=e.wp;var m=this.AK=B.raw.ai_(this.Bw),d=B.raw.azZ(e.wp),x=gz.acO(d);
B.raw.tY(m.su,m.su,e.wp,[x.xb,x.ge]);var j=f8.UX("Adobe Camera Raw Filter");this.ei.e(j,m.su,new fP(0,0,m.Lp,m.wT))};
function eX(h){e2.call(this,h?[11,11,0]:[11,11,1],h?"vbitmap":"rcolors");this.Me=null;this.MA=null;this.a2O=null;
this.Z1=null;this.Qw=null;this.aHT=null;this.Zw=null;this.H=null;this.Cb="";this.ux=h;this.KV=this.zz.bind(this);
this.anN=!1;this.body.style.padding="0";this.ol=V.k("div","form hbar padded");this.body.appendChild(this.ol);
this.Yv=new hR(null,["Fill","Stroke","Labels"]);this.Yv.P(k.E.f,this.zz,this);var e=V.k("span","rangecontFloat form padded"),E=16;
e.appendChild(this.Yv.Z);V.v(e,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");var v=new fx;
v.Z=e;var J=this.Ws={cnum:new cs([12,82],2,50,null),nois:new hJ([12,81]),mode:new jV(null,["Cartoon","Photo"]),segm:new hJ("Segmentize"),cbok:new hJ("Coloring book"),poly:new hJ("Polygon"),merg:new hJ("Merge colors"),polE:new cs("Roughness",2,30,null),dthr:new hJ([12,23,3]),vprm:new eA("\u2026",!1,null,!0),ok:V.ab(this,null,!1)},m=this;
for(var d in J){var x=J[d];x.parent=this;if(d=="ok"){}else if(d=="vprm"){x.P("click",function(p){var Z=J.vprm.Z.getBoundingClientRect(),o=new g3(k.E.u,!0);
o.data={V:k.l.Eu,nB:v,x:Z.left,y:Z.top+20};m.a(o)})}else x.P(k.E.f,this.zz,this)}var j=this.ut=V.k("div","flexrow");
this.body.appendChild(j);V.v(j,"background-color:var(--bg-canvas)");this.Wc=new fJ;this.Wc.P("viewchange",this.PA,this);
this.v5=new fJ;this._y=V.k("canvas");V.v(this._y,"margin:0 0 0 1px; padding:0; cursor:grab;");this.h_=this._y.getContext("2d");
var L=B.U(16*16*4);B.ts(L,E,E,8);this.Nk=B.scale.$U(L,E,E);this.Wc.aex(this._y);this.Wc.h0(this.v5);
this.v5.h0(this.Wc);j.appendChild(this.Wc.Z);if(h)j.appendChild(this._y);else j.appendChild(this.v5.Z)}eX.prototype=new e2;
eX.prototype.W8=function(){return new fq(0,0)};eX.prototype.G0=function(){return!0};eX.prototype.Kt=function(h,e){this.VA=h;
this.qw=e;e=e-44;if(h<600)e-=29;if(this.Me==null)return;var v=this.Me.Ei,J=gY.Ua(h,e,v.q,v._);if(J==1)e-=3;
if(J==0){h=Math.floor(h/2);V.zZ(this.ut,"flexrow")}else{e=Math.floor(e/2);V.t7(this.ut,"flexrow")}V.xX(this._y,h,e);
this.Wc.Kt(h,e);if(this.ux)this.PA();else this.v5.Kt(h,e)};eX.prototype.lK=function(h,e,v,J){this.Wc.lK(J)};
eX.prototype.S=function(){e2.prototype.S.call(this);for(var h in this.Ws)this.Ws[h].S()};eX.prototype.eh=function(h,e){this.Zw=h;
this.Qw=null;var v=h.T[h.X[0]],J=B.yw.a6s(v.buffer.buffer,v.R.q,v.R._).aFX,m=J/((v.R.q-2)*(v.R._-2)),d=this.Ws;
d.cnum.e(20);d.nois.e(m<.75);d.mode.e(m<.75?1:0);d.segm.e(!1);d.cbok.e(!1);d.poly.e(!1);d.merg.e(!0);
d.polE.e(1);d.dthr.e(!1);var x=v.R.O();x.x=x.y=0;this.Me={Ei:x,data:v.buffer.buffer.slice(0)};this.MA=null;
this.Kt(this.VA,this.qw);this.Wc.e([this.Me]);this.Wc.BG();this.anN=!0;this.Yv.e([!0,!1,!1]);setTimeout(this.KV,20)};
eX.prototype.zz=function(){var h=!0,e=Date.now(),v=this.Me,J=this.Ws,m=J.cnum.j(),d=J.nois.j(),x=J.mode.j(),j=J.segm.j(),E=J.cbok.j(),L=J.poly.j(),p=J.merg.j(),Z=J.polE.j(),U=null;
if(x==0)j=L=E=!1;var o=J.dthr.j(),u=["cnum","nois","mode"];if(x==1){u.push("cbok");if(this.ux){u.push("poly");
if(L)u.push("polE");u.push("vprm")}}if(this.ux)u.push("merg");else u.push("dthr");u.push("ok");V.H5(this.ol);
for(var T=0;T<u.length;T++)this.ol.appendChild(J[u[T]].Z);if(h)console.log("---------------------------------------");
var N=d||j,M=d+","+j;if(N&&(this.MA==null||this.Cb!=M)){this.Cb=M;var O=new Uint8Array(v.data),F=v.Ei.q,W=v.Ei._;
if(d){if(this.Qw==null){this.Qw=O.slice(0);B.iN.GR=35;B.iN.D3(this.Qw,this.Qw,F,W,15,1);if(h){console.log("denoise",Date.now()-e);
e=Date.now()}}O=this.Qw.slice(0)}else O=O.slice(0);if(j){var f=B.yw.CO(O,F,W,40,10),$=f.uX,H=new Uint8Array($*4);
for(var T=0;T<$;T++){var A=T*4,G=T*6,l=1/f.xx[G+5];H[A]=f.xx[G]*l;H[A+1]=f.xx[G+1]*l;H[A+2]=f.xx[G+2]*l}for(var T=0;
T<O.length;T+=4){var K=f.Wi[T>>>2]*4;O[T]=H[K];O[T+1]=H[K+1];O[T+2]=H[K+2]}if(h){console.log("segm",Date.now()-e);
e=Date.now()}}this.MA={Ei:v.Ei.O(),data:O.buffer}}if(N)v=this.MA;var O=new Uint8Array(v.data),F=v.Ei.q,W=v.Ei._;
for(var T=0;T<O.length;T+=4){if(O[T+3]<10)O[T]=O[T+1]=O[T+2]=O[T+3]=0}if(x==0){U=B.yw.auG(O,F,W,m,N?.1:2e-4);
if(h){console.log("quantize",Date.now()-e);e=Date.now()}}if(x!=0||U&&U.KW.length<2){U=aS.a0G(O.buffer,m,F,W,null,E)}if(this.ux){var z=U.Wi.slice(0);
for(var T=0;T<z.length;T++)z[T]++;this.Q0=B.yw.av1(U.Wi,F,W);var q=new Uint8Array((F+2)*(W+2));B.Ww(z,new fP(1,1,F,W),q,new fP(0,0,F+2,W+2));
if(!L){var P=Math.round((F+2)*(W+2)/1e4),g=fg.EU(q.slice(0),F+2,W+2,Math.min(12,P)),a=fg.rx(g);if(h){console.log("trace smooth",Date.now()-e);
e=Date.now()}}else{var a=B.w.zr(q,F+2,W+2,Z,h)}var w=a.length,y=new aJ(1,0,0,1,-1,-1);for(var T=0;T<w;
T++)B.w.C(a[T].path.g,y,a[T].path.g);this.Z1=a;this.a2O=U;for(var T=0;T<w;T++){var S=a[T];if(U.KW[S.color-1].est.q[3]>.05)continue;
var i=S.parent;while(i!=-1){var C=a[i];i=C.parent;if(U.KW[C.color-1].est.q[3]<.05)break;B.w.concat(C.path,B.w.reverse(S.path))}}if(h){console.log("finding holes",Date.now()-e);
e=Date.now()}for(var T=0;T<a.length;T++){var Y=a[T];if(Y.parent!=-1){var _=a[Y.parent];Y.parent=_;if(_.T6==null)_.T6=[];
_.T6.push(Y)}Y.depth=Y.parent==-1?0:Y.parent.depth+1}if(p){function t(eh,n){var dt={},jN=0,jX=0;for(var T=0;
T<eh.length;T++){var D=eh[T].color,jw="c"+D;if(D==n)throw D;if(dt[jw]==null)dt[jw]=0;dt[jw]++;if(dt[jw]>jN){jN=dt[jw];
jX=D}}return jX}var I=[],r=[],n=-1,Q=!0;for(var T=0;T<a.length;T++)if(a[T].parent==-1)r.push(a[T]);while(r.length!=0){var D=t(r,n);
n=D;for(var T=0;T<r.length;T++)if(r[T].color==D){var dG=r[T];I.push(dG);r.splice(T,1);T--;if(dG.T6)for(var R=0;
R<dG.T6.length;R++){r.push(dG.T6[R]);if(dG.T6[R].color!=D)Q=!1}}}if(Q)a=I;else{var X=[];for(var dx=0;
dx<500;dx++){var jv=[],g=X[dx-1];X.push(jv);for(var T=0;T<a.length;T++){var Y=a[T],_=Y.parent;if(dx==0&&_==-1||dx!=0&&g.indexOf(_)!=-1){jv.push(Y);
a.splice(T,1);T--}}jv.sort(function(eh,dt){return eh.color-dt.color});if(a.length==0)break}for(var T=0;
T<X.length;T++)a=a.concat(X[T])}}else{var I=[],gB=[];while(a.length!=0){gB.push(a.shift());while(gB.length!=0){var hQ=gB.pop();
I.push(hQ);if(hQ.T6)for(var T=0;T<hQ.T6.length;T++){var Y=hQ.T6[T];a.splice(a.indexOf(Y),1);gB.push(Y)}}}a=I}this.Z1=a;
for(var T=0;T<a.length;T++){var S=a[T],ah=U.KW[S.color-1].est.q;if(ah[3]<=.05){a.splice(T,1);T--;continue}}for(var T=1;
T<a.length;T++){var kG=a[T-1],S=a[T];if(kG.color==S.color&&(p||kG.parent==S.parent&&kG.depth>=2)){B.w.concat(kG.path,S.path);
a.splice(T,1);T--;continue}}if(h){console.log("reordering layers",Date.now()-e,w,a.length);e=Date.now()}this.PA()}else{var iZ=new Uint32Array(F*W),bs=F*W,ey=this.aHT=new Uint8Array(iZ.buffer);
if(o){var jp=[];for(var T=0;T<U.KW.length;T++)jp.push(U.KW[T].est.rgba);var K=B.U(F*W);UPNG.encode.dither(new Uint8Array(v.data),F,W,jp,ey,K)}else{for(var T=0;
T<bs;T++){var D=U.KW[U.Wi[T]];iZ[T]=D.est.rgba}}this.v5.e([{Ei:v.Ei,data:iZ.buffer}]);if(this.anN){this.v5.BG();
this.anN=!1}}};eX.prototype.PA=function(h){if(this.Z1==null)return;var e=this.Yv.j(),v=this.Me.Ei.q,J=this.Me.Ei._,m=this.Z1,d=this.a2O.KW,x=this._y,j=this.h_,E=this.Wc.NN(),p="rgba(0,0,0,0.3)";
j.setTransform(1,0,0,1,0,0);j.clearRect(0,0,x.width,x.height);j.translate(x.width/2,x.height/2);j.scale(E.e4,E.e4);
j.translate(E.d.x/E.e4-v/2,E.d.y/E.e4-J/2);j.scale(1/E.e4,1/E.e4);j.fillStyle=this.Nk;j.fillRect(0,0,v*E.e4,J*E.e4);
j.scale(E.e4,E.e4);j.lineWidth=(v+J)*5e-4;var L=this.Zv();j.strokeStyle=p;for(var Z=0;Z<2;Z++){if(!e[Z])continue;
for(var T=0;T<m.length;T++){var o=m[T],u=L[o.color-1];if(u.DR==0)continue;j.fillStyle=u.FW;j.beginPath();
Typr.U.pathToContext({crds:o.path.g,cmds:o.path.WQ},j);if(Z==0)j.fill();else j.stroke()}}if(e[2])this.a4S(j,v,J)};
eX.prototype.Zv=function(){var h=this.a2O.KW,e=[];for(var T=0;T<h.length;T++){var v=h[T].est.q,J={n:Math.round(255*v[0]),i:Math.round(255*v[1]),b:Math.round(255*v[2]),DR:Math.round(255*v[3])};
J.FW="rgba("+J.n+","+J.i+","+J.b+","+J.DR/255+")";e.push(J)}return e};eX.prototype.a4S=function(h,e,v){var J=this.Zv(),m=this.aE_(e,v,J);
function d(L,p,Z,o){h.font=o+"px sans-serif";L++;var u=h.measureText(L);h.fillText(L,p-u.width/2,Z+o*.25)}h.fillStyle="rgba(0,0,0,0.5)";
var x=this.Q0;for(var T=0;T<x.length;T++){var j=x[T];if(j[3]<e*v*5e-4)continue;d(j[2],j[0],j[1],(e+v)*.008)}h.fillStyle="rgba(255,255,255,1)";
h.fillRect(0,0,m,m*J.length);for(var T=0;T<J.length;T++){var E=J[T];h.fillStyle=E.FW;h.fillRect(m,m*T,m,m);
h.fillStyle="black";d(T,m*.5,m*(T+.5),m*.65)}};eX.prototype.aE_=function(h,e,v){var J=v.length*(h+e)/70;
return Math.min(e,J)/v.length};eX.prototype.nb=function(h){var e=this.Zw,v=e.X[0],J=e.T[v],m=new g3(k.E.A,!0);
m.u$=!0;m.I=c.Yn;var d=this.H.eN,x=this;if(this.ux){var j=this.Zv(),p=0,o=!1;function E(F,M){var O=e.ws();
O.S2=M.DR;O.IT|=16;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ(M)}};O.add.vmsk=new s.eo;O.add.vstk=fL.gL.UX(!0);
O.add.vmsk.z=F;O.d6();O.vT(e);return O}var L=this.Yv.j();for(var T=0;T<3;T++)if(L[T])p++;if(p==0){alert("Enable Fill, Stroke or Labels");
return}var Z=this.Z1;if(p==1&&L[0]&&Z.length==1)o=!0;var u=e.T.slice(0,v);if(!o)u.push(e.gB());if(L[0])for(var T=0;
T<Z.length;T++){var N=Z[T],M=j[N.color-1];B.w.C(N.path.g,new aJ(1,0,0,1,J.R.x,J.R.y),N.path.g);var O=E(B.w.GJ(N.path,!1),M);
O.Ip("Path "+T);u.push(O)}if(L[1]){var O=e.ws();O.Ip("Stroke");u.push(O);O.S2=128;O.IT|=16;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.Vh.WZ({n:0,i:0,b:0})}};
O.add.vmsk=new s.eo;O.add.vstk=fL.gL.UX(!1,!0);var F=[];for(var T=0;T<Z.length;T++){var N=Z[T],W=B.w.GJ(N.path,!1);
if(T==0)F=W;else F=F.concat(W.slice(2))}O.add.vmsk.z=F;O.d6();O.vT(e)}if(L[2]){var f=this.Me.Ei,$=f.q,H=f._,A=this.aE_($,H,j);
u.push(e.gB());function G(P,g,a,w){P=1+P+"";var O=e.ws();u.push(O);O.S2=w;O.add.lnsr="rend";var y=O.add.TySh=fr.YI(g-A*.2,a+A*.25),S=O.add.TySh.lf,i=fr.aX(S,0,0);
i.zI.FontSize=Math.round(A*.6);fr.UE(S,0,0,i);fr.hj(S,0,P);O.XW();if(hP.fm(y,d,x)){hP.IV(O,d,e);e.dn()}}var l=this.Q0;
for(var T=0;T<l.length;T++){var K=l[T];if(K[3]<$*H*5e-4)continue;G(K[2],K[0],K[1],128)}var O=E(B.s.z0.Rect(0,0,A,A*j.length),{n:255,i:255,b:255,DR:255});
O.Ip("white");u.push(O);for(var T=0;T<j.length;T++){var M=j[T],O=E(B.s.z0.Rect(A,A*T,A,A),M);O.Ip("color");
u.push(O);G(T,A/2,A*(T+.5),255)}var O=e.ws();O.Ip("Labels");O.add.lsct=d7.kZ;O.fR="pass";O.IT=24;u.push(O)}var U=u[u.length-1];
if(!o){var O=e.ws();O.Ip(J.getName());O.add.lsct=d7.W$;O.fR="pass";O.IT=24;u.push(O);U=O}var z=J.add.lmfx;
if(z)U.add.lmfx=B.t(z);var q=u.length;for(var T=v+1;T<e.T.length;T++)u.push(e.T[T]);m.data={V:s.Uu,P1:u,at:[q-1],SQ:[11,11,0]}}else{var u=e.T.slice(0),O=e.ws();
O.Ip(J.getName());u.splice(e.X[0]+1,0,O);O.R=J.R.O();O.buffer=this.aHT;O.dn();m.data={V:s.Uu,P1:u,at:[e.X[0]+1],SQ:[11,11,1]}}this.a(m);
this.close();e.cj=!0};eX.prototype.fa=function(h,e){this.H=h};function gY(h){e2.call(this,[[7,11],[7,13]][h],["redge","magiccut"][h]);
this.HT=h;this.Me={};this.yj=null;this.H=null;this.Zw=null;this.An=null;this.FQ=null;this.body.style.padding="0";
this.Uh=[];this.Zi=-1;this.ol=V.k("div","form hbar padded");this.body.appendChild(this.ol);this._U=new d9;
this._U.parent=this;this._U.P(k.E.f,this.ZT,this);this.ol.appendChild(this._U.Z);var e=h==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
e=e.concat("tools/hand","zoomIn","zoomOut");var v=h==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.y$=new aq(null,e,v,28);this.y$.P(k.E.f,this.lK,this);this.ol.appendChild(this.y$.Z);this.RY=new cs([7,9],0,50,null);
this.RY.parent=this;this.RY.P(k.E.f,[this.adG,this.zz][h],this);this.ol.appendChild(this.RY.Z);var J=this.as2=new eA([2,2],!1,null,!0);
J.P("click",this.AL,this);this.ol.appendChild(J.Z);var m=this.iK=V.k("span","form");this.ol.appendChild(m);
var d=this.ax_=new eA([12,90],!1,null,!0);d.P("click",function(E){alert(h==0?bj.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
m.appendChild(d.Z);var x=new eA("Tutorial",!1,null,!0);x.P("click",this.akY,this);m.appendChild(x.Z);
this.wJ=new aq([12,46],["checker","#ffffff","#000000"]);this.wJ.P(k.E.f,this.auc,this);m.appendChild(this.wJ.Z);
this.anj=new jV(null,[[6,13],[6,2],[17,2]]);m.appendChild(this.anj.Z);this.s5=V.ab(this,m,!1);var j=this.ut=V.k("div","flexrow");
this.body.appendChild(j);this.Mw=new fJ(!0);this.M9=new fJ;this.Mw.h0(this.M9);this.M9.h0(this.Mw);this.Mw.P("mousedown",this.wa,this);
this.Mw.P("mousemove",this.$X,this);this.Mw.P("mouseup",this.sd,this);this.Mw.P("zoom",this.ZT,this);
this.M9.P("zoom",this.ZT,this);j.appendChild(this.Mw.Z);j.appendChild(this.M9.Z)}gY.prototype=new e2;
gY.prototype.yG=function(h,e){var v=h!=null&&!h.T[h.X[0]].R.EG();if(!v)alert("The layer is empty.");
return v};gY.prototype.W8=function(){return new fq(0,0)};gY.prototype.G0=function(){return!0};gY.prototype.Kt=function(h,e){this.VA=h;
this.qw=e;e=e-12-33;if(h<900){V.v(this.iK,"display:block;  text-align:right;");e-=29}else{V.v(this.iK,"position:absolute;  right:0px")}this.wJ.Ao(h<440?null:[12,46]);
this.RY.Ao(h<470?null:[7,9]);var v=this.Me.R;if(v){var J=gY.Ua(h,e,v.q,v._);if(J==0){h=Math.floor(h/2);
V.zZ(this.ut,"flexrow")}else{e=Math.floor(e/2);V.t7(this.ut,"flexrow")}this.Mw.Kt(h,e);this.M9.Kt(h,e)}};
gY.Ua=function(h,e,v,J){var m=h/2,d=e/2,x=Math.min(m/v,e/J),j=Math.min(h/v,d/J);return x>j?0:1};gY.prototype.S=function(){e2.prototype.S.call(this);
this._U.S();this.RY.S();this.s5.S();this.wJ.S();this.anj.S();this.as2.S();this.ax_.S()};gY.prototype.akY=function(h){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.HT],"_blank")};
gY.prototype.fa=function(h,e){this.H=h;if(e==dq.ty||e==dq.AY){this._U.lN(h.Zb);this._U.e(a2.EB(),h.Zb.kk,h.Zb.tr)}};
gY.prototype.lK=function(h,e,v,J){var m=this.y$.j();if(J==null){this.Mw.lK(fJ.$I(m-3));return}this.An=J;
var d=c.Bt.v1(this._U.j(),J);if(d!=null){this._U.e(d);this.ZT()}else if(J.r(dW.Dd)&&J.r(dW.ZB)){var x=this.Uh,j=0;
if(J.r(dW.l$)){if(this.Zi+1<x.length)j=1}else if(this.Zi>0)j=-1;if(j!=0){this.Zi+=j;var E=this.Zi,L=this.Me;
if(j==1)B.YZ(x[E][2],x[E][0],L.Oj,L.R);else B.YZ(x[E+1][1],x[E+1][0],L.Oj,L.R);L.GM=L.R;this.zz()}}else if(m<3)this.Mw.lK(J)};
gY.prototype.wX=function(h){var e=this.Me,v=this.Uh,J=B.U(h.$()*4);B.YZ(e.jh,e.R,J,h);e.jh=null;var m=B.U(h.$()*4);
B.YZ(e.Oj,e.R,m,h);this.Zi++;v[this.Zi]=[h.O(),J,m];while(v.length>this.Zi+1)v.pop();while(v.length>50){v=v.slice(1);
this.Zi--}};gY.prototype.ZT=function(){var h=this.H,e=d2.Mh(this._U.j(),h.Zb.kk,this.Mw.NN().e4);this.Mw.Zr(e)};
gY.prototype.wa=function(h){var e=this.H,v=this.Me,J=this.An,m=this._U.j(),d=this.Mw.EI(),x=[16777215,8421504,0][this.y$.j()];
this.yj=new d2(m,e.Zb.kk,e.Zb.tr,{tm:1,PJ:!0},x,e.kF,v.R);v.jh=v.Oj.slice(0);if(J!=null&&J.r(dW.l$)&&this.FQ){this.yj.moveTo(this.FQ.x,this.FQ.y);
this.yj.lineTo(d.x,d.y)}else this.yj.moveTo(d.x,d.y);this.akc()};gY.prototype.$X=function(h){var e=this.Me,v=this.Mw.EI();
this.yj.lineTo(v.x,v.y);this.akc()};gY.prototype.sd=function(h){this.FQ=this.Mw.EI();this.wX(this.yj.kp());
this.zz()};gY.prototype.akc=function(){var h=this.Me,e=this.yj,v=e.hy();if(v.EG())return;h.GM=v;B.B.lU("norm",e.ju(),e.YO(),h.Oj,h.R,v,1);
this.arC()};gY.prototype.AL=function(h){var e=this.Me;e.jh=e.Oj.slice(0);e.GM=e.R;B.yV(e.Oj,[4278190080,4292730333][this.HT]);
this.wX(e.R);this.zz()};gY.prototype.eh=function(h,e){this.Zw=h;var v=h.T[h.X[0]],J=v.R.O(),m=J.q,d=J._,E;
this.RY.e(this.HT==0?3:m*d<3e6?3:0);this.y$.e(h.K==null?0:1);this.RY.VZ();if(this.HT==0&&h.K!=null||this.HT==1)this.RY.kE();
var x=this.HT,j=B.U(J.$());if(x==0&&h.K){B.Ww(h.K.G,h.K.R,j,J);var L=B.U(J.$());for(var p=0;p<d;p++)for(var Z=0;
Z<m;Z++){var T=p*m+Z,o=j[T];if(Z>0&&j[T-1]!=o||Z<m-1&&j[T+1]!=o||p>0&&j[T-m]!=o||p<d-1&&j[T+m]!=o)L[T]=255}E=B.style.Be(L,m,d)}else{E=new Float32Array(J.$());
E.fill(1e9)}J.x=J.y=0;this.Me={R:J,su:v.buffer,B1:j,gb:E,vx:B.U(J.$()*4),y1:B.U(J.$()*4),Oj:B.U(J.$()*4),jh:null,hF:null,GM:J,ap9:{}};
if(x==0)this.adG();else{this.Me.ap9=c.as.ar0(h);var u=this.Me.Oj;B.yV(u,4287137928);var N=B.i6.getSelection(v.buffer,m,d),M=Math.round(m/60),O=Math.round(.7*d);
for(var p=0;p<d;p++)for(var Z=0;Z<m;Z++){var F=(p*m+Z)*4,W=N[F>>>2];W=W>128?255:128;if(p<M||p<O&&(Z<M||Z>m-1-M))W=0;
u[F]=u[F+1]=u[F+2]=W}this.zz()}this.Uh=[1];this.Zi=0;var f=this._U.j();f.Brsh.v.Dmtr.v.val=Math.round(J.q/(x==0?10:20));
this._U.e(f);this.ZT();this.Kt(this.VA,this.qw);this.Mw.BG()};gY.prototype.adG=function(){var h=this.Me,e=h.R.$(),v=this.RY.j(),J=h.B1.slice(0);
for(var T=0;T<e;T++)if(h.gb[T]<v)J[T]=128;B.yV(h.Oj,4294967295);B.ar(J,h.Oj,0);B.ar(J,h.Oj,1);B.ar(J,h.Oj,2);
h.GM=h.R;this.zz()};gY.prototype.zz=function(){var h=this.Me,m,j,E=0,L=0,p=0;this.arC();var e=h.R,v=e.q,J=e._,d=B.U(e.$()),x=h.su;
B.Bq(h.Oj,d,0);for(var T=0;T<d.length;T++){if(x[(T<<2)+3]!=255)continue;var Z=d[T];if(Z==0)E++;else if(Z==255)L++;
else p++}if(E*L*p!=0){if(this.HT==0)j=B.o$.o$(e,x,d);else{var o=this.y$.j();for(var u=1;u<J;u++)for(var N=1;
N<v;N++){var T=u*v+N,M=d[T],O=d[T-1];if(M==0&&O==255||M==255&&O==0){m="The Red and Green should never touch! Erase it with Grey.";
break}}var F=Date.now(),W=this.Me.ap9;B.N7(d,W.wP);c.as.NO(W,!0,this.Zw);var f=Math.ceil(this.RY.j()/2);
if(f==0){j=x.slice(0);B.ar(W.K,j,3)}else{var $=W.K.slice(0),H=W.K.slice(0);for(var A=0;A<f;A++){for(var u=1;
u<J-1;u++)for(var N=1;N<v-1;N++){var T=u*e.q+N,G=$[T];if($[T-v]!=G||$[T-1]!=G||$[T+1]!=G||$[T+v]!=G)H[T]=128;
else H[T]=G}var l=$;$=H;H=l}for(var u=0;u<J;u++)for(var N=0;N<v;N++){var T=u*v+N;if(d[T]==0||d[T]==255)$[T]=d[T]}j=B.o$.o$(e,x,$,20,!1)}}}else{j=x.slice(0);
B.ar(d,j,3)}for(var T=3;T<j.length;T+=4)if(j[T]>x[T])j[T]=x[T];if(e.lS(h.R))h.hF=j;else B.YZ(j,e,h.hF,h.R);
this.auc();if(m)alert(m,4e3)};gY.prototype.arC=function(h){var e=this.Me,v=e.GM;B.YZ(e.su,e.R,e.vx,e.R,v,!0);
var J=e.Oj,m=e.R,d=Date.now();if(this.HT==1){var x=new Uint32Array(256);x[0]=4278190335;x[255]=4278255360;
var j=B.U(v.$()*4),E=v.$();B.YZ(J,m,j,v);J=j;m=v;var L=new Uint32Array(J.buffer);for(var T=0;T<E;T++)L[T]=x[L[T]&255]}console.log(Date.now()-d);
B.B.lU("norm",J,m,e.vx,e.R,v,.3);this.Mw.e([{Ei:e.R,data:e.vx.buffer}],null,null,v)};gY.prototype.auc=function(h){var e=this.Me;
B.yV(e.y1,[0,4294967295,4278190080][this.wJ.j()]);B.B.lU("norm",e.hF,e.R,e.y1,e.R,e.R,1);this.M9.e([{Ei:e.R,data:e.y1.buffer}])};
gY.prototype.nb=function(h){var e=this.Zw,v=this.Me,J=this.anj.j(),m=e.T[e.X[0]],d=new g3(k.E.A,!0);
d.u$=!0;var x=m.R.O();if(J==0&&m.oA()||J!=0&&!m.oA()){d.I=c.Yn;d.data={V:s.KA,L:e.X[0]};this.a(d)}if(e.K!=null){d.I=c.Wm;
d.data={V:"fromAction",tT:c.tM.CZ()};this.a(d)}if(J==0){var j=e.T.slice(0),E=e.ws();E.Ip(m.getName());
j.splice(e.X[0]+1,0,E);E.R=x;E.buffer=v.hF;E.dn();d.I=c.Yn;d.data={V:s.Uu,P1:j,at:[e.X[0]+1],SQ:[7,11]};
this.a(d)}if(J==1){var L=m.NH();d.I=c.Yn;d.data={V:s.mH,a9u:!0};this.a(d);var p=m.NH();p.G=B.U(x.$());
p.R=x;p.color=0;p.c8=!0;B.Bq(v.hF,p.G,3);if(L){var Z=p.Eh(L);p.R=Z.R;p.G=Z.G;p.color=Z.color}p.pE();
m.vT()}if(J==2){var o={R:x,G:B.U(x.$())};B.Bq(v.hF,o.G,3);d.I=c.Wm;d.data={V:"setsel",K:o,SQ:this.o0};
this.a(d)}this.close()};function hH(){e2.call(this,[1,13],"locstor");this.H=null;this.Xm=[];var h=this.body,e=V.k("p");
e.textContent="These files are loaded every time you start Photopea.";h.appendChild(e);this.aud=0;this.aFh=V.k("span");
h.appendChild(this.aFh);V.v(this.aFh,"display:inline-block;  width:12em;  font-weight:bold;");var v=V.k("span","form");
h.appendChild(v);this.mF=new eA([5,4],!1,null,!0);this.mF.P("click",this.C4,this);v.appendChild(this.mF.Z);
this.U7=new eA("Get all as ZIP",!1,null,!0);this.U7.P("click",this._s,this);v.appendChild(this.U7.Z);
this.SS=new dN(!0);this.SS.parent=this;this.SS.Vb(1);h.appendChild(this.SS.Z);V.v(this.SS.Z,"width: 40em; height: 25em")}hH.prototype=new e2;
hH.prototype.S=function(){e2.prototype.S.call(this);this.aFh.textContent=bj.get([13,2])+": "+iD.kA(this.aud);
this.mF.S()};hH.prototype.fa=function(h,e){this.H=h;if(e==dq.Dy)this.eh()};hH.prototype.eh=function(h,e){var v=this.H.Jy.Ib,E=0;
this.Xm=[];for(var J in v)this.Xm.push(J);this.Xm.sort(function(p,Z){p=p.split(".");Z=Z.split(".");return p[1]==Z[1]?p[0]<Z[0]?-1:1:p[1]<Z[1]?-1:1});
var m=Math.floor(100*V.A_()),d=Math.floor(16*V.A_()),x=[],j=[];for(var T=0;T<this.Xm.length;T++){var J=this.Xm[T],L=hH.lT(J,v[J],m,d);
x.push(L);j.push(J);E+=v[J].byteLength}this.SS.eZ(x,j,m,d);this.aud=E;this.S()};hH.prototype.C4=function(h){var e=this.SS.j();
if(e.length==0){alert("Select a file first.");return}this.SS.e([]);var v=this.H.Jy.Ib;for(var T=0;T<e.length;
T++)delete v[this.Xm[e[T]]];var J=new g3(k.E.u,!0);J.data={V:k.l.Gi,m0:dq.Dy};this.a(J)};hH.prototype._s=function(h){var e=this.H.Jy.Ib,v={};
for(var J in e)v[J]=new Uint8Array(e[J]);var m=UZIP.encode(v);ke.save(m,"resources.zip")};hH.lT=function(h,e,v,J){var m=V.k("canvas"),j=0;
m.width=v;m.height=J;var d=m.getContext("2d"),x=h.split(".").pop().toLowerCase();for(var T=0;T<x.length;
T++)j+=x.charCodeAt(T)*613<<8*T;d.fillStyle="#"+B.zF(j&16777215);d.fillRect(0,0,20,J);var E=Math.floor(14*V.A_());
d.fillStyle="#000000";d.font="bold "+E+"px sans-serif";var L=(J-E)/2,p=iD.kA(e.byteLength),Z=d.measureText(p);
d.fillText(p,v-12-Z.width,J-L);return m.toDataURL()};function gq(){e2.call(this,[1,15],"pmanager");this.H=null;
this.dE=new jV([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.dE.P(k.E.f,this.eh,this);
this.body.appendChild(this.dE.Z);var h=V.k("div","flexrow");this.body.appendChild(h);var e=this.a6P=V.k("div");
h.appendChild(e);var v=V.k("div","form");h.appendChild(v);V.v(v,"width:140px; margin-left:12px");this.alx=[dq.ty,dq.vk,dq.to,dq.NC,dq.pt,dq.oK];
this.Og=[new d9,new gV,new b7,new hx,new hG,new h5];for(var T=0;T<this.Og.length;T++)this.Og[T].parent=this;
this.vV=[];for(var T=0;T<4;T++){var J=new eA("Hello",!0,null,!0);J.P("click",this.Sg,this);this.vV.push(J);
v.appendChild(J.Z)}this.eh()}gq.prototype=new e2;gq.prototype.yz=function(h){return h==dW.PV||h==dW.iS};
gq.prototype.Sg=function(h){var T=this.vV.indexOf(h.target);this.Og[this.dE.j()].iu(T)};gq.prototype.S=function(){e2.prototype.S.call(this);
this.dE.S();for(var T=0;T<this.Og.length;T++)this.Og[T].S();var h=this.vV,e=this.dE.j(),v=dq.AM[this.alx[e]],J=v[0].toUpperCase();
h[0].Ao([[23,6],"."+J]);h[1].Ao(["VAR0 ."+J,[1,8]]);h[2].Ao([6,37]);h[3].Ao([5,4])};gq.prototype.fa=function(h,e){this.H=h;
this.eh()};gq.prototype.eh=function(h,e){if(!V.gl(this.Z))return;this.S();V.H5(this.a6P);this.a6P.appendChild(this.Og[this.dE.j()].Px);
var v=this.Og,J=this.H;if(J==null)return;v[0].lN(J.Zb);v[1].QG(J.kc,J.kF);v[1].lN(J.$r);v[2].lN(J.T9);
v[3].lN([J.L7,J.T9]);v[4].lN(J.ki);v[5].lN(J.CT)};function cY(h,e,v){e2.call(this,e,"cwindow");this.al5=new fq(v[0],v[1]-33);
this.ol=V.k("div","form");V.v(this.ol,"width:"+(v[2]-v[0])+"px; height:"+(v[3]-v[1])+"px");this.body.appendChild(this.ol)}cY.prototype=new e2;
cY.prototype.W8=function(h,e){return this.al5.O()};function dO(h){var e=dO.aFo(h);e2.call(this,e,"res"+h);
var v=this.a59.bind(this);window.addEventListener("message",function(m){if(typeof m.data=="string"&&m.data.startsWith("--et ")){console.log(m.data);
var d=this.aif=m.data.slice(5).split(",");d[0]=parseFloat(d[0]);cU.ars(d[0],d[1],v)}}.bind(this));this.eM=e;
this.wv=h;this.aAG=null;this.yI=null;this.ke=0;this.rh=null;this.N1=null;this.aif=null;this.H=null;V.v(this.body,"padding:0");
this.lb=new eA("",null,null,!0);this.body.appendChild(this.lb.Z);this.lb.P("click",this.MO,this);V.v(this.lb.Z,"position:absolute; margin-top: -28px;  margin-left:150px");
this.uh=new eA("\u25BC",null,null,!0);V.v(this.uh.Z,"position:absolute; margin-top: -28px;  margin-left:270px");
this.uh.P("click",this.aCU,this);this.body.appendChild(this.uh.Z);this.MH=V.k("span","form");this.body.appendChild(this.MH);
this.vV=[];for(var T=0;T<9;T++){var J=new eA(dO.aFo(T));this.vV.push(J);if(T==h)J.e(!0);this.MH.appendChild(J.Z);
J.P("click",this.ahz,this)}this.ab0=new eA([5,3],null,null,!0);this.ab0.P("click",this.a3J,this);this.afi=new eA("Upload Current Document as a Template",null,null,!0);
this.afi.P("click",this.azR,this);this.aqj=new jE("Creator / Brand name");this.ap=new eA([1,2],null,null,!0);
this.ap.P("click",this._s,this);this.z$=V.k("iframe","scrollable");V.v(this.z$,"border:none; margin:0; padding:0;");
this.Gx=V.k("div","form scrollable padded");this.Gd=new iS(h);this.Gd.P("back",this.AL,this);this.Gd.P("save",this.am4,this);
this.body.appendChild(this.z$)}dO.prototype=new e2;dO.aFo=function(h){var e;if(h==0)e=[25,0];else if(h==1)e="Plugins";
else for(var v in dq.AM)if(dq.AM[v][4]==h)e=dq.AM[v][3];return e};dO.prototype.aCU=function(h){this.MH.style.display=this.MH.style.display=="none"?"":"none"};
dO.prototype.ahz=function(h){var T=this.vV.indexOf(h.target);if(T==this.wv)return;this.close();var e=new g3(k.E.u,!0);
e.data={V:k.l.Xq,dF:"res"+T};this.a(e)};dO.prototype.a59=function(h){this.MO();this.N1=JSON.parse(h.target.response);
this.af()};dO.prototype.W8=function(h,e){return new fq(0,0)};dO.prototype.Kt=function(h,e){this.VA=h;
this.qw=e;this.IU=null;e=e-4;h=h;var v=h>820,J="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",m="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
V.v(this.MH,v?J:m);this.MH.style.marginTop=(v?-31:0)+"px";this.uh.Z.style.display=v?"none":"";var d=this.Gx;
d.style.width=h-12+"px";d.style.height=e-12+"px";var d=this.Gd.Z;d.style.width=h-12+"px";d.style.height=e-12+"px";
var d=this.z$;d.style.width=h+"px";d.style.height=e+"px";this.iB()};dO.prototype.fa=function(h,e){this.H=h};
dO.prototype.S=function(){e2.prototype.S.call(this);for(var T=0;T<this.vV.length;T++)this.vV[T].S();
this.ab0.S()};dO.prototype.eh=function(h,e,v,J){this.IU=h;this.MO(null,!1)};dO.prototype.MO=function(h,e){var v=e!=null?e:V.gl(this.z$);
if(v){if(!cU.Om()){alert("You need to log in first!");return}var J=cU.rG();if(J==null)J={};this.yI=J.tpl?J.tpl.list:[];
this.aqj.e(J.tpl&&J.tpl.brnd?J.tpl.brnd:"");this.iB()}else{this.z$.setAttribute("src","");this.z$.setAttribute("src",cU.Hk("templates/?type="+this.wv+"&rsrc="+this.H.mM.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(v?this.Gx:this.z$);var m=bj.get(this.eM);this.lb.Ao(v?"All "+m:"Add "+m)};dO.prototype.iB=function(){var h=bj.get(this.eM),e=this.yI,v=this.wv,j=450;
if(e==null)return;var J=this.Gx;V.H5(J);var m=V.k("h1");J.appendChild(m);m.textContent="Share your "+h+" with the world!";
var d=V.k("ul");J.appendChild(d);var x=V.k("li");d.appendChild(x);x.textContent="By publishing your "+h+", you agree to let others use them for all kinds of purposes, even commercially.";
J.appendChild(this.ab0.Z);if(v==0)J.appendChild(this.afi.Z);V.Xp(J);J.appendChild(this.aqj.Z);J.appendChild(this.ap.Z);
V.Xp(J);j=(this.VA-20)/Math.max(1,Math.floor(this.VA/j))-42;var E="display:inline-block; width:"+j+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var T=e.length-1;T>=0;T--){var L=e[T];if(L.type==null)L.type=0;if(L.type!=v)continue;var p=V.k("div");
J.appendChild(p);V.v(p,E);var Z=V.k("img");p.appendChild(Z);Z.setAttribute("src",L.thmb);V.v(Z,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var o=V.k("h3");p.appendChild(o);o.textContent=L.name;V.v(o,"margin:0 0 10px 0");var u=V.k("p");p.appendChild(u);
u.textContent=L.desc;V.v(u,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var N=0;N<2;N++){var M=new eA(N==0?"Edit":"Delete",null,null,!0);
M.a2N=T;M.af=N==0;M.P("click",this.aDs,this);p.appendChild(M.Z)}}};dO.prototype.azR=function(h){if(this.IU==null){alert("No document opened.");
return}var e=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!e)return;var v=new g3(k.E.u,!0);v.data={V:k.l.O4,v9:"psd",OF:this.aCd.bind(this)};this.a(v)};dO.prototype.aCd=function(h){this.agx=h;
var e=new g3(k.E.u,!0);e.data={V:k.l.O4,v9:"jpg",OF:this.a9i.bind(this),amp:1400};this.a(e)};dO.prototype.a9i=function(h){this.rh={type:0,catg:0,desc:"",file:this.agx,name:this.IU.name.split(".")[0],thmb:h,publ:!0,utme:""};
this.af()};dO.prototype.a3J=function(h){this.rh={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.af()};dO.prototype.aDs=function(h){this.ke=h.target.a2N;if(!h.target.af){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.yI.splice(this.ke,1);this._s();this.iB();return}this.af()};dO.prototype.af=function(){if(V.gl(this.Gx))this.body.removeChild(this.Gx);
this.body.appendChild(this.Gd.Z);var h=this.rh?this.rh:this.N1?this.N1:this.yI[this.ke];if(h.type==null)h.type=0;
this.Gd.e(h)};dO.prototype.am4=function(h){var e=this.Gd.j();if(this.rh)this.yI.push(e);else if(this.N1){var v=this.aif;
cU.ars(v[0],v[1],this.AL.bind(this),JSON.stringify(e));return}else this.yI[this.ke]=e;this._s();this.AL()};
dO.prototype.AL=function(){var h=this.N1;this.rh=null;this.N1=null;this.body.removeChild(this.Gd.Z);
this.body.appendChild(this.Gx);this.iB();if(h)this.MO()};dO.prototype._s=function(){var h=cU.rG();if(h==null)h={};
if(this.yI.length==0)delete h.tpl;else{h.tpl={list:B.t(this.yI)};var e=this.aqj.j().trim();if(e!="")h.tpl.brnd=e}cU.Fm(h,function(){alert("Saved.")})};
function hI(){e2.call(this,"Make Selection","makesel");var h=V.k("div","form");this.body.appendChild(h);
this.in=new hJ([12,25,1]);this.in.e(!0);h.appendChild(this.in.Z);V.Xp(h);this.aoB=new de(!0);h.appendChild(this.aoB.Z);
this.s5=V.ab(this,this.body)}hI.prototype=new e2;hI.prototype.S=function(){e2.prototype.S.call(this);
this.aoB.S();this.in.S();this.s5.S()};hI.prototype.nb=function(h){var e=new g3(k.E.A,!0);e.I=c.Wm;e.data={V:"frompath",d9:[null,0,this.aoB.j(),this.in.j()]};
this.close();this.a(e)};function dl(){e2.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.IU=null;this.GB=null;
this.a9W=null;var h=this.ain=V.k("div","form");V.v(h,"width:20em");this.body.appendChild(h);this.Xn=new ha([12,50],["PSD","PSB"]);
this.Xn.P(k.E.f,this.aD,this);h.appendChild(this.Xn.Z);V.ja(h);var e=new cE("Minify the file");h.appendChild(e.Z);
V.Xp(h);var v=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.ls=[];for(var T=0;T<v.length;T++){var J=new hJ(v[T]);this.ls.push(J);h.appendChild(J.Z);J.P(k.E.f,this.aD,this)}V.ja(h);
this.mR=new cE("aa.psd");this.pj=new cE("10 kB");h.appendChild(this.pj.Z);this.aup=new cE("1000 B");
h.appendChild(this.aup.Z);this.s5=new eA([1,2],!0,null,!0);this.s5.P("click",this.nb,this);h.appendChild(this.s5.Z);
this.Zy=new eA(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Zy.P("click",this.nb,this);h.appendChild(this.Zy.Z);
this.P("closebtn",this.xS,this)}dl.prototype=new e2;dl.prototype.eh=function(h,e,v,J){var m=V.gl(this.Zy.Z),d=h.Ey!=null&&h.Ey.$Y=="psd";
if(d&&!m)this.ain.appendChild(this.Zy.Z);if(!d&&m)this.ain.removeChild(this.Zy.Z);for(var T=0;T<this.ls.length;
T++)this.ls[T].e(!1);this.IU=h;this.aD()};dl.prototype.nb=function(h){if(h.target==this.s5)ke.save(this.GB,this.a9W);
else{if(this.ls[3].j()){alert("You should not save a ZIP as a PSD to Google Drive.");return}dE.aqT(this.IU,this.GB)}};
dl.prototype.xS=function(){this.IU=null;this.GB=null};dl.prototype.aD=function(){var h=this.IU,e=[!1,!1,!1,!1];
for(var T=0;T<3;T++)e[T]=this.ls[T].j();var v=this.ls[3].j(),J=e[3]=this.Xn.j()==1,m=h.name.slice(0,h.name.length-3),d=this.GB=gI.g6("PSD").oZ(h,0,0,e),iW=this.a9W=m+"ps"+(J?"b":"d");
if(v){var x={};x[iW]=new Uint8Array(d);d=this.GB=UZIP.encode(x);iW=this.a9W=m+"zip"}this.mR.e(iW);this.pj.e(iD.kA(d.byteLength));
this.pj.Z.style["font-size"]="2em";this.aup.e(" \u2001 "+d.byteLength+" B");this.s5.Ao(bj.get([1,2])+" \""+iW+"\"")};
dl.prototype.S=function(){e2.prototype.S.call(this);this.Xn.S();this.s5.S();this.Zy.S()};function fQ(){e2.call(this,"Confirm","confirm");
this.j5=null;var h=V.k("div");V.v(h,"margin-bottom:1em");this.body.appendChild(h);this.wS=V.k("div");
this.wS.textContent="Hello";h.appendChild(this.wS);this.s5=V.ab(this,this.body)}fQ.prototype=new e2;
fQ.prototype.nb=function(h){if(this.j5==null)return;console.log("okconfirm");this.close();this.j5();
this.j5=null};fQ.prototype.S=function(){e2.prototype.S.call(this);this.s5.S()};fQ.prototype.eh=function(h,e){if(e.aiw||e.aiQ)this.wS.innerHTML=e.J;
else this.wS.textContent=e.J;if(e.atN)this.s5.Ao(e.atN);this.j5=e.j5;this.s5.Z.focus();if(e.aiw!=null)this.Z.style.top=Math.random()*(window.innerHeight-150)+"px";
this.axG=e.aiw!=null};fQ.prototype.W8=function(h,e){return new fq(Math.max(0,(h-500)/2),Math.max(0,Math.min(60,(e-100)/2)))};
fQ.prototype.Kt=function(h,e){this.wS.style.width=h-30+"px"};function aY(){e2.call(this,[1,16,2],"newartb");
this.HT=0;this.Kn=null;var h=V.k("div","form");h.style.width="260px";this.body.appendChild(h);this.SS=new ai;
h.appendChild(this.SS.Z);this.s5=V.ab(this,h)}aY.prototype=new e2;aY.prototype.yG=function(h,e){return h!=null};
aY.prototype.nb=function(h){var e=this.SS.j();this.Kn.q=e.x;this.Kn._=e.y;var v=new g3(k.E.A,!0);v.I=c.Sc;
v.data={aFG:this.Kn,MC:this.HT};this.a(v);this.close()};aY.prototype.S=function(){e2.prototype.S.call(this);
this.SS.S();this.s5.S()};aY.prototype.eh=function(h,e){this.HT=e.MC;var v=new fP(0,0,h.q,h._);if(h.X.length!=0){var J=h.T[h.X[0]];
if(J.add.artb){v=J.AC();v.x+=v.q+100}if(e.MC==1)v=c.L2.YO(h)}this.Kn=v;this.SS.e(new fq(v.q,v._))};function es(){e2.call(this,"Storage","storwindow");
V.v(this.body,"padding:0");this.N$=null;this.P("closebtn",this.IS,this);this.P("canclose",this.IS,this)}es.prototype=new e2;
es.prototype.fa=function(h,e){if(this.N$)this.N$.fa(h,e)};es.prototype.W8=function(h,e){return new fq(Math.max(0,Math.min(150,(h-980)/2)),Math.max(0,Math.min(150,(e-590)/2)))};
es.prototype.Kt=function(h,e){this.VA=h;this.qw=e;h=Math.min(h,980);e=Math.min(e,590);if(this.N$)this.N$.Kt(h,e)};
es.prototype.S=function(){e2.prototype.S.call(this);if(this.N$)this.N$.S()};es.prototype.eh=function(h,e,v,J){this.o0=e.MC==0?"Open from Storage":"Save to Storage";
this.S();if(this.N$==null){this.N$=new kM;this.N$.parent=this;this.body.appendChild(this.N$.Z);this.S();
this.Kt(this.VA,this.qw)}Storage.Vb(e.MC,h?h.name:"");kM.mf(this.N$)};es.prototype.IS=function(h){Storage.Vb(0);
kM.kb();if(h.c=="canclose")this.close()};function aB(){e2.call(this,[2,14],"varsdats");var h=this.ol=V.k("div","form");
V.v(h,"width:300px");this.body.appendChild(h);this.IU=null;this.u2=0;this.H=null;this.iy=new ha(null,[[2,14],"Data Sets",[1,8]]);
this.iy.P(k.E.f,this.a8Q,this);this.oq=new aB.bd;this.zj=new aB.Sp;this.Jr=new aB._Z;this.zj.P("activate",this.zJ,this);
this.Jr.P("export",this._D,this);this.s5=V.ab(this)}aB.prototype=new e2;aB.prototype.a8Q=function(h){var e=this.iy.j(),v=this.ol;
V.H5(v);v.appendChild(this.iy.Z);V.ja(v);v.appendChild([this.oq,this.zj,this.Jr][e].Z);v.appendChild(this.s5.Z)};
aB.prototype.nb=function(h){var e=new g3(k.E.A,!0);e.I=c.Yn;e.data={V:s.CV,J:JSON.stringify([this.oq.j(),this.zj.j()])};
this.a(e);this.close()};aB.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();this.Jr.S()};
aB.prototype.eh=function(h,e){this.IU=h;this.Jr.IU=h;if(h==null)return;this.oq.eh(h,e);this.zj.eh(h,e);
this.iy.e(0);this.a8Q();this.u2=0;this.Jr.alB()};aB.prototype.fa=function(h,e){this.H=h};aB.prototype._D=function(h){var e=this.oq.j(),v=this.zj.j(),J=this.Jr.j();
if(e.length==0){alert("There are no variables.");return}if(v.length==0){alert("There are no data sets.");
return}var m=gI.awe(this.IU,e,v,this.zj.a5d(),J[0],J[1],J[2],this.H,this);if(m!=null)ke.save(m,"images.zip")};
aB.prototype.zJ=function(h){var e=this.zj.X,v=this.oq.j(),J=this.zj.j();if(v.length==0){alert("There are no variables.");
return}if(J.length==0){alert("There are no data sets.");return}this.yc();this.u2+=gI.ado(this.IU,this,v,J,this.zj.a5d(),e)};
aB.prototype.yc=function(){var h=new g3(k.E.A,!0);h.I=c.V8;h.data={V:"h_stepbck"};while(this.u2>0){this.a(h);
this.u2--}};aB._Z=function(){fx.call(this);var h=this.Z=V.k("div");this.agi=new jE("Variable for file names");
h.appendChild(this.agi.Z);V.ja(h);this.IU=null;this.ON=["JPG","PNG","PDF"];this.Xn=new ha([12,50],this.ON);
this.Xn.P(k.E.f,this.alB,this);h.appendChild(this.Xn.Z);this.wQ=new ff;h.appendChild(this.wQ.Z);this.U7=new eA("Export all items",!0,null,!0);
this.U7.P("click",this._D,this);h.appendChild(this.U7.Z)};aB._Z.prototype=new fx;aB._Z.prototype.S=function(h){this.agi.S();
this.Xn.S();this.U7.S();this.wQ.S()};aB._Z.prototype.alB=function(h){if(this.IU==null)return;var e=this.ON[this.Xn.j()],v=this.IU,J=v.add.artd;
this.wQ.du(e,null,null,J!=null&&J.Cnt.v>1)};aB._Z.prototype._D=function(h){this.a(new g3("export"))};
aB._Z.prototype.j=function(){var h=this.ON[this.Xn.j()];return[h,this.wQ.j(),this.agi.j().trim()]};aB.Sp=function(){fx.call(this);
this.UB=null;this.aib=[];this.X=0;var h=this.Z=V.k("div","form");this.aHu=new gR("Import a CSV file");
h.appendChild(this.aHu.Z);this.aHu.P(k.E.f,this.ajl,this);this.J1=V.k("div","scrollable");V.v(this.J1,"overflow:scroll;  height:234px;");
h.appendChild(this.J1);this.ahd=new gR("Source Images",!0);h.appendChild(this.ahd.Z)};aB.Sp.prototype=new fx;
aB.Sp.prototype.ajl=function(h){var e=this.aHu.j();for(var v in e){e=e[v];break}this.UB=ds.kq(b.Is(e));
this.FN()};aB.Sp.prototype.a5d=function(){return this.ahd.j()};aB.Sp.prototype.eh=function(h,e){var v=this.UB=B.t(h.X0);
this.FN()};aB.Sp.prototype.j=function(){return this.UB};aB.Sp.prototype.FN=function(){var h=this.h3.bind(this),e=this.UB,J="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.aib=[];var v=V.k("table");V.v(v,"border-collapse: collapse;");for(var T=0;T<e.length;T++){var m=V.k("tr"),d=e[T],x=T==0?"th":"td";
v.appendChild(m);var j=V.k(x);m.appendChild(j);V.v(j,J+"cursor:pointer;");if(T!=0)j.textContent="\u2713";
this.aib.push(j);j.addEventListener("click",h,!1);for(var E=0;E<d.length;E++){var j=V.k(x);j.textContent=d[E];
m.appendChild(j);V.v(j,J);j.setAttribute("title",d[E])}}V.H5(this.J1);this.J1.appendChild(v)};aB.Sp.prototype.h3=function(h){this.X=this.aib.indexOf(h.currentTarget);
this.a(new g3("activate"))};aB.bd=function(){fx.call(this);var h=this.Z=V.k("div","form marged");this.ie=null;
this.I4=[];this.zQ=[];this.Sr=null;this.mn=new jV([0,3],[]);this.mn.P(k.E.f,this.a5q,this);h.appendChild(this.mn.Z);
this.ahu=[];var e=["Visibility","Text Content","Pixel Content"];for(var T=0;T<e.length;T++){V.ja(h);
var v=new hJ(e[T]);v.P(k.E.f,this.ow,this);h.appendChild(v.Z);V.Xp(h);var J=new jE("Variable Name");
J.P(k.E.f,this.ow,this);h.appendChild(J.Z);this.ahu.push(v,J)}};aB.bd.prototype=new fx;aB.bd.prototype.ow=function(h){var e=this.mn.j(),v=this.Sr[e],J=this.I4[e],m=this.ie["l"+v],d=this.ahu;
if(m==null)this.ie["l"+v]=m=[];while(m.length!=0)m.pop();for(var T=0;T<3;T++){var x=d[2*T+1].j().trim();
if(!d[2*T].j())continue;if(x.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}x=x.replaceAll(" ","");
var j={varName:x,trait:["visibility","textcontent","fileref"][T]};m.push(j);if(T==2){j.align="center";
j.clip="false";j.placementMethod="fit";j.valign="middle"}}if(m.length==0)delete this.ie["l"+v];this.eh()};
aB.bd.prototype.a5q=function(h){var e=this.mn.j(),v=this.Sr[e],J=this.I4[e],m=this.ie["l"+v],d=this.ahu;
if(m==null)m=[];for(var T=0;T<3;T++){var x=T==0||T==1&&J==0||T==2&&J==1;d[2*T].Es(x);d[2*T].e(!1);d[2*T+1].Es(x);
if(!x)d[2*T+1].e("")}for(var T=0;T<m.length;T++){var j=m[T],E=j.trait,L=["visibility","textcontent","fileref"].indexOf(E);
d[L*2].e(!0);d[L*2+1].e(j.varName)}};aB.bd.prototype.eh=function(h,e){if(h){var v=B.t(h.pr),J=this.ie={};
for(var T=0;T<v.length;T++){var m=v[T],d=m.docRef;d="l"+d.slice(4,d.length-2);if(J[d]==null)J[d]=[];
J[d].push(m)}this.Sr=[];this.I4=[];this.zQ=[];for(var T=h.T.length-1;T>=0;T--){var x=h.T[T],d=x.add.lyid;
if(x.add.lsct==d7.FJ)continue;this.Sr.push(d);this.I4.push(x.add.TySh?0:1);this.zQ.push(x.getName())}}var j=[],E=this.zQ;
for(var T=0;T<E.length;T++){j.push(E[T]+(this.ie["l"+this.Sr[T]]?" *":""))}var L=this.mn.j();this.mn.VU(j);
this.mn.e(L);this.a5q()};aB.bd.prototype.j=function(){var h=this.ie,e=[];for(var v in h){var J=h[v];
for(var m=0;m<J.length;m++){J[m].docRef="id('"+v.slice(1)+"')";e.push(J[m])}}return e};function go(){e2.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.a4l=!1;var h=this.qg=[],e=V.k("div","form");V.v(e,"width:20em");this.body.appendChild(e);for(var T=0;
T<2;T++){var v=new hJ([22,4,2+T]);e.appendChild(v.Z);V.Xp(e);var J=new ha(null,[["N equal parts"],["N pixels per part"]]);
e.appendChild(J.Z);V.Xp(e);var m=new cs("N",0,1e3);m.e(4);m.parent=this;e.appendChild(m.Z);V.Xp(e);if(T==0)V.ja(e);
h.push(v,J,m)}for(var T=0;T<h.length;T++)h[T].P(k.E.f,this.$_,this);h.push(V.ab(this,e));this.P("closebtn",this.yc,this)}go.prototype=new e2;
go.prototype.yc=function(){if(this.a4l){var h=new g3(k.E.A,!0);h.I=c.V8;h.data={V:"h_stepbck"};this.a(h)}};
go.prototype.$_=function(h){this.yc();this.a4l=!0;var e=[];for(var T=0;T<6;T++)e.push(this.qg[T].j());
var v={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var J=0;J<2;J++){if(!e[J*3])continue;var m=e[J*3+1],d=e[J*3+2];v[["slices","pixels"][m]+["Across","Down"][J]]={t:"long",v:d}}var x=new g3(k.E.Fq,!0);
x.data={UH:"divide",TH:v};this.a(x)};go.prototype.nb=function(h){this.close()};go.prototype.S=function(){e2.prototype.S.call(this);
var h=this.qg;for(var T=0;T<h.length;T++)h[T].S()};go.prototype.eh=function(h,e){this.a4l=!1};function iC(){e2.call(this,"Stroke Path","strokepath");
this.H=null;this.JT=null;this.awj=null;this.s5=null;this.aqz=[c.aL,c.ty,c.dY,c.UQ,c.Ya,c.nE,c.p4,c.M0,c.ho,c.D0,c.qD,c.T_,c.Hf,c.bG,c.NR]}iC.prototype=new e2;
iC.prototype.S=function(){e2.prototype.S.call(this);if(this.s5){this.JT.S();this.s5.S()}};iC.prototype.nb=function(h){var e=this.aqz[this.JT.j()],v=null;
for(var J in c.Ht)if(c.Ht[J]==e)v=J;var m=new g3(k.E.Fq,!0);m.data=c.Uk.r9(v,this.awj.j());this.close();
this.a(m)};iC.prototype.fa=function(h,e){if(this.H==null){var v=[];for(var T=0;T<this.aqz.length;++T){v.push(h.F.map[this.aqz[T]].I.name)}var J=V.k("div","form");
this.body.appendChild(J);this.JT=new jV("Tool",v);this.JT.e(1);J.appendChild(this.JT.Z);this.awj=new hJ("Simulate Pressure");
V.Xp(J);J.appendChild(this.awj.Z);this.s5=V.ab(this,this.body)}this.H=h};function hU(){e2.call(this,[1,18],"linkview");
V.zZ(this.body,"form");var h=this.Ws=[new jE(null,null,17),new eA([5,1],!1,null,!0),new eA([1,0],!1,null,!0)];
for(var T=0;T<3;T++){var e=h[T];this.body.appendChild(e.Z);if(T!=0)e.P("click",this.Jh,this);if(T==0)V.Xp(this.body)}}hU.prototype=new e2;
hU.prototype.eh=function(h,e){var v=e.aHV;if(v.startsWith("https://"))v=v.slice(8);this.Ws[0].e(v)};
hU.prototype.Jh=function(h){var e=this.Ws,v=e[0].j(),J=h.target==this.Ws[1];if(J){navigator.clipboard.writeText(v);
alert("Copied to a clipboard!")}else window.open("https://"+v,"Shared")};function ay(h){e2.call(this,h==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][h]);
this.qk=null;this.auQ=h;var e=V.k("div","form label8");V.v(e,"max-width:26em");this.body.appendChild(e);
this.D8=new jV("Document",["abc","def"]);this.D8.P(k.E.f,this.ow,this);e.appendChild(this.D8.Z);V.Xp(e);
this.Hp=new jV([12,4],["abc","def"]);this.Hp.P(k.E.f,this.ow,this);e.appendChild(this.Hp.Z);this.a0b=new hJ([4,11]);
this.wS=new jE([12,48]);this.wS.e("Alpha");if(h==0){}else{e.appendChild(this.wS.Z)}this.db=new de(!0);
e.appendChild(this.db.Z);this.s5=V.ab(this,e)}ay.prototype=new e2;ay.prototype.G0=function(){return!0};
ay.prototype.S=function(){e2.prototype.S.call(this);this.s5.S();this.D8.S();this.Hp.S();this.wS.S();
this.a0b.S();this.db.S()};ay.prototype.ow=function(h){var e=this.auQ;if(h==null||h==this.D8){var v=this.D8.j(),J=this.qk[v],m=[];
if(e==0)m.push(J.T[J.X[0]].getName()+" Transparency",J.T[J.X[0]].getName()+" Gray");else m.push([5,3]);
for(var T=0;T<J.Ar.length;T++)m.push(J.Ar[T].name);this.Hp.VU(m)}if(e==0)return;var d=this.Hp.j();this.wS.Es(d==0);
this.db.Es(d!=0)};ay.prototype.eh=function(h,e,v){this.qk=v;var J=[];for(var T=0;T<v.length;T++){var m=v[T].name;
J.push(m.length<30?m:m.slice(0,27)+"...")}this.D8.VU(J);this.D8.e(v.indexOf(h));this.ow(null)};ay.prototype.nb=function(h){var e=this.auQ,v=this.Hp.j(),J=this.D8.j(),m=this.qk[J],d=this.db.j(),x,j=!1;
if(e==0){if(v==1)j=!0;v=Math.max(v-1,0)}if(v==0){x=new g3(k.E.Fq,!0);if(e==0)x.data=c.tM.tN(d,j?"Gray":"Trsp",m.T[m.X[0]].getName());
else x.data={UH:"duplicate",TH:{classID:"null",Nm:{t:"TEXT",v:this.wS.j()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{x=new g3(k.E.A,!0);
if(e==0){x.I=c.Wm;x.data={V:"fromchannel",d9:[-4-v,0,d]}}else{x.I=c.Yn;x.data={V:s.tn,rf:"seltochannel",d9:[v-1,d]}}}this.close();
this.a(x)};function gk(){e2.call(this,"PeaMark","peamark");var h=V.k("span");h.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(h);var e=V.k("div","form");V.v(this.body,"width:300px;");this.body.appendChild(e);
this.atM=!1;this.xM=[];this.H8=[];this.ajg=[];for(var T=0;T<3;T++){var h=V.k("div");h.textContent="0";
e.appendChild(h);V.v(h,"text-align:center; font-size:2em");var v=V.k("hr");this.H8.push(v);if(T!=2)e.appendChild(v);
V.v(v,"height:2px; background-color:#00ff00");var J=new eA("Test "+["CPU","GPU","free RAM"][T],!0,null,!0);
e.appendChild(J.Z);J.P("click",this.aEf,this);this.xM.push(h);this.ajg.push(J)}V.Xp(this.body);this.aw5=new eA("Browse scores",!1,null,!0);
var m=this.aw5.Z;this.body.appendChild(m);this.aw5.P("click",this.aeL,this);V.v(m,"position:absolute;top:100px;left:10px;");
this.aC8=new eA("Tweet your score!",!1,null,!0);var m=this.aC8.Z;this.body.appendChild(m);this.aC8.P("click",this.aeL,this);
V.v(m,"position:absolute;top:100px;right:10px;");this.Et=V.k("div","scrollable");this.body.appendChild(this.Et);
this.Et.style.height="160px";this.Cb=[];this.atO=0;this.aBy=this.ay7.bind(this);this.a2c()}gk.prototype=new e2;
gk.prototype.aeL=function(h){var e=gk.N9,v;if(h.target==this.aw5){v="https://twitter.com/hashtag/peamark?f=live"}else{var J=e[e.length-1];
if(Math.min(J[2],J[3])==0){alert("Run both tests first.");return}v="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+J[2]+"/"+J[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(v,"_blank")};
gk.prototype.aEf=function(h){var e=this.ajg.indexOf(h.target),v=1024,J=1024,m=new fP(0,0,v,J),d=this.aBy;
if(e==0){var x=B.U(m.$());for(var j=0;j<J;j++)for(var E=0;E<v;E++)x[j*v+E]=((j>>>7)+(E>>>7)&1)*255;this.Cb=[e,x,v,J];
for(var T=0;T<4;T++)d(!0)}else if(e==1){var L=B.U(m.$()*4),p=fM.cm(1,v,J);p.set(L);new Uint32Array(L.buffer).fill(4278190335);
var Z=fM.cm(0,v,J);Z.set(L);var o=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],u={c:fM.filter.anC,DV:new Float32Array([1/v,1/J]),a5i:0,r3:20,aip:new Float32Array([0,1]),aaJ:new Float32Array([0,0,0]),asm:new Float32Array(o),aCc:new Float32Array(o)};
this.Cb=[e,u,L,Z,p];d(!0)}else{if(this.atM){alert("Close all documents before running this test.");return}this.Cb=[e,[]];
d(!0)}this.ah7=[[0,0],[0,0],[0,0]];this.atO=Date.now();setTimeout(this.aBy,20)};gk.prototype.ay7=function(h){var e=this.Cb,v=e[0],J=Date.now(),x=!1,j;
if(v==0){B.style.Be(e[1],e[2],e[3])}else if(v==1){fM.qH(e[4]);fM.filter.Ce(e[1],e[3].nS);e[4].get(e[2])}if(h)return;
var m=Date.now()-J,d=this.ah7[v];d[0]+=m;d[1]++;if(v<2){var E=[26,73];j=Math.round(1e3*E[v]/(d[0]/d[1]));
var L=(Date.now()-this.atO)/5e3,x=L>1;this.H8[v].style.width=Math.min(100,L*100)+"%"}else{var p=128*(1<<20);
try{var Z=new Uint8Array(p);Z.fill(117);e[1].push(Z)}catch(j3){x=!0;this.Cb=null;alert("finished")}j=(e[1].length*p/(1<<30)).toFixed(2)+" GB"}this.xM[v].textContent=j;
if(!x)setTimeout(this.aBy,20);else{var o=gk.N9;o[o.length-1][2+v]=j;this.a2c()}};gk.prototype.a2c=function(){var h=this.Et,v="",J=" style=\"text-align:right; width:4em;\">";
V.H5(h);var e=gk.N9.slice(0);e.sort(function(E,L){return 1e3*(L[2]-E[2])+(L[3]-E[3])});var m="<td"+J,d="<th"+J;
for(var T=0;T<e.length;T++){var x=e[T],j=null;if((T&1)==0)j="rgba(255,255,255,0.05)";if(x[1]=="Your Device")j="rgba(255,255,0,0.2)";
v+="<tr style=\""+(j?" background-color:"+j:"")+"\"><td>"+x[1]+"</td>"+m+x[2]+"</td>"+m+x[3]+"</td></tr>"}h.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+d+"CPU</th>"+d+"GPU</th></tr>"+v+"</table>"};
gk.prototype.eh=function(h,e,v,J){this.atM=h!=null};gk.N9=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[0,"Raspberry Pi 5",370,17],[0,"Raspberry Pi 400",150,6],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1394,1856],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"iPhone 13 Pro Max",1476,556],[3,"iPhone SE 2020",1180,303],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[0,"Your Device",0,0]];
function dk(){e2.call(this,"Measurement Scale","measscale");var h=V.k("div","form label8");h.style.width="300px";
this.body.appendChild(h);var e=this.Q0=[new jE("Pixel Length"),new jE("Logical Length"),new jE("Unit Name"),new cE("Hi")];
for(var T=0;T<4;T++){var v=e[T];v.P(k.E.f,this.ow,this);h.appendChild(v.Z)}this.s5=V.ab(this,h)}dk.prototype=new e2;
dk.prototype.W8=function(h,e){return new fq(Math.max(0,Math.min(150,(h-250)/2)),Math.max(0,Math.min(150,(e-120)/2)))};
dk.prototype.ow=function(h){var e=this.Q0;e[3].e(e[0].j()+" pixels = "+e[1].j()+" "+e[2].j())};dk.prototype.nb=function(h){var e=this.Q0,v=[];
for(var T=0;T<3;T++)v.push(e[T].j());v[0]=parseFloat(v[0]);v[1]=parseFloat(v[1]);var J=new g3(k.E.A,!0);
J.I=c.ou;J.data={V:"unit",J:v};this.a(J);this.close()};dk.prototype.S=function(){e2.prototype.S.call(this);
var h=this.Q0;for(var T=0;T<h.length;T++)h[T].S()};dk.prototype.eh=function(h,e){var v=this.Q0;v[0].e(Math.round(e.T7));
if(h.ck){var J=h.ck.T.v;console.log(J);v[1].e(J.logicalLength.v);v[2].e(J.logicalUnits.v)}else{v[1].e(1);
v[2].e("unitName")}this.ow()};function b4(h,e,v,J){fx.call(this);this.name=h;this.ani=v;this.Vl=J;this.ZQ=V.k("div","");
this.ZQ.setAttribute("draggable","true");this.lQ=V.k("div","pbody");this.Zf=new eA("",!1,"");this.Zf.parent=this;
this.a46=V.k("span","cross gsicon");this.VY=V.k("span","label");var m=this.ahA.bind(this);this.ZQ.addEventListener("mousedown",this.a1Q.bind(this),!1);
this.ZQ.addEventListener("contextmenu",m,!1);this.Zf.Z.addEventListener("contextmenu",m,!1);this.a46.addEventListener("mousedown",this.sB.bind(this),!1);
this.ZQ.appendChild(this.VY);if(e)this.ZQ.appendChild(this.a46);this.hK=!1;this.VY.textContent=h}b4.prototype=new fx;
b4.prototype.g8=function(){return null};b4.prototype.S=function(){var h=bj.get(this.name),e=!1,v=this.VA==0?22:Math.round(2+this.VA/50);
if(h.endsWith(" *")){e=!0;h=h.slice(0,h.length-2);v-=2}var J=h.length>v;this.VY.textContent=J?h.slice(0,v-2):h;
this.ZQ.setAttribute("title",h);if(J)for(var m=0;m<2;m++){var d=V.k("span");d.textContent=h.charAt(v-2+m);
V.v(d,"opacity:"+(.6-m*.4));this.VY.appendChild(d)}if(e){var d=V.k("span");d.textContent=" *";this.VY.appendChild(d)}var x=h.split(" "),j=x.length==2?x[0].substring(0,2)+x[1][0]:h.substring(0,3);
if(j.charCodeAt(0)>=11776)j=j.substring(0,1);var E=this.ani;if(E==null)this.Zf.Ao(j,h);else{var L;if(E.startsWith("---"))L="<img src=\""+PIMG[E.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(E.startsWith("==="))L="<img src=\""+E.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(E.indexOf("\"")==-1)L="<img src=\""+E+"\" alt=\""+V.gq(h).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Zf.Ao(L,h)}};b4.prototype.enable=function(){this.lQ.className="pbody"};b4.prototype.disable=function(){this.lQ.className="pbody disabled"};
b4.prototype.fa=function(h,e){};b4.prototype.eh=function(h,e,v){};b4.prototype.Ej=function(h){};b4.prototype.Kt=function(h,e){};
b4.prototype.PZ=function(h){this.name=h;this.S()};b4.prototype.JI=function(){};b4.prototype.a1Q=function(h){if(h.button==0)this.a(new g3("select",!1));
if(h.button==1)this.kY()};b4.prototype.ahA=function(h){V.wY(h);if(this.Vl!=null&&isNaN(this.Vl))return;
var e=V.IE(h,document.body),v=this.aqs;if(v==null){v=this.aqs=new ar([{name:[1,12,0]}]);this.aqs.P("select",this.sB,this)}v.update(null);
v.S();v.parent=this;var J=new g3(k.E.u,!0);J.data={V:k.l.Eu,nB:v,x:e.x+1,y:e.y+1};this.a(J)};b4.prototype.kY=function(){this.sB({})};
b4.prototype.sB=function(h){if(h.stopPropagation)h.stopPropagation();if(this.Vl!=null&&!isNaN(this.Vl)){var e=new g3(k.E.u,!0);
e.data={V:k.l.Ni,nB:this.aqs};this.a(e);e.data={V:k.l.Gi,m0:dq.Iz,J:parseFloat(this.Vl),N2:"del"};this.a(e)}else if(this.a1k())this.a(new g3(k.E.Y$,!1))};
b4.prototype.a1k=function(h){return!0};b4.prototype.HL=function(h,e,v,J,m){};b4.prototype._8=function(h,e,v,J,m){};
b4.prototype.ej=function(h,e,v,J,m){};b4.rR=function(h,e,v){if(h.childElementCount!=0)return;var J=h.textContent;
this.pL=this.apw.bind(this);this.a63=this.avc.bind(this);this.aM=e;this.av3=v;this.Us=h;this.aBC=J;var m=V.k("input","");
m.setAttribute("type","text");m.setAttribute("size","10");m.setAttribute("value",J);V.H5(h);h.appendChild(m);
m.select();m.focus();V.JM(h);h.addEventListener("keyup",this.pL,!1);document.body.addEventListener("mousedown",this.a63,!1)};
b4.rR.prototype.apw=function(h){var e=dW.ll,v=e(h.code,dW.zD);if(e(h.code,dW.BC)||v)this.aHS(v)};b4.rR.prototype.avc=function(h){var e=h.target;
if(e.tagName&&e.tagName.toLowerCase()=="input")return;this.aHS(!0)};b4.rR.prototype.aHS=function(h){var e=this.Us,v=e.firstChild.value;
e.removeEventListener("keyup",this.pL);document.body.removeEventListener("mousedown",this.a63);if(this.av3||h&&v!=""&&v!=this.aBC){this.aM(v)}else{V.H5(e);
e.textContent=this.aBC}};b4.Jz=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};b4.ab5=function(h){var e=b4.Jz(),v=[];
for(var T=0;T<h.length;T++)if(e.indexOf(h[T])==-1)v.push(h[T]);for(var T=0;T<e.length;T++)if(h.indexOf(e[T])==-1)v.push(-e[T]);
return v};b4.acw=function(h){var e=b4.Jz();for(var T=0;T<h.length;T++){var v=h[T],J=e.indexOf(v);if(J==-1)J=e.indexOf(-v);
if(0<=v&&J==-1)e.push(v);if(v<0&&J!=-1)e.splice(J,1)}return e};b4.rF={V8:"0",a54:"1",Yn:"2",amC:"3",avO:"4",G8:"5",CSS:"6",ty:"7",avn:"8",aeO:"9",aks:"10",a00:"11",aEE:"12",Ih:"13",yR:"14",ayu:"15",a3S:"16",WC:"17",auR:"18",aaP:"19",aC2:"20",NC:"21",a7t:"22",anL:"23",azn:"24",a1H:"25",atX:"26"};
function bt(){b4.call(this,[9,9],!1,"---panels/actions",b4.rF.a00);this.H=null;this.Wy=[0,0]}bt.prototype=new b4("");
bt.prototype.vw=function(){if(!V.gl(this.lQ))return;if(this.aF){this.FN();return}this.aF=V.k("div","padded scrollable");
V.v(this.aF,"width:260px;  height:260px");this.lQ.appendChild(this.aF);this.P(k.E.f,this.k4,this);this.A1=V.k("div","lpfoot");
this.lQ.appendChild(this.A1);this.Og=[];var h="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",e="</svg>",v=h+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+e,J=h+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+e;
this.aGg=h+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+e;this.ald=h+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+e;
var m=[this.aGg,J,"lrs/folder","lrs/newlayer","lrs/bin",v],d=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var T=0;T<m.length;T++){var x=m[T];if(1<T&&T!=m.length-1)x="<img src=\""+PIMG[m[T]]+"\" class=\"miniscale gsicon\" />";
var j=new eA(x,!1,d[T]);j.P("click",this.Ms,this);this.A1.appendChild(j.Z);this.Og.push(j)}this.FN()};
bt.prototype.S=function(){b4.prototype.S.call(this);if(this.aF==null)return;for(var T=0;T<this.Og.length;
T++)this.Og[T].S()};bt.prototype.Ms=function(h){var T=this.Og.indexOf(h.currentTarget),e=this.Wy,v=this.H,J=v.cW;
if(T==0){var m,d=v._K;if(J.length==0){alert("Create an Action Set first.");return}if(e.length<2){alert("Select a target action first.");
return}if(d==null){m=this.ald;d=this.Wy}else{m=this.aGg;d=null}this.Og[0].Ao(m);v._K=d}else if(T==1)this.ais();
else if(T==2||T==3){var x={SQ:"Action Set "+J.length,L1:[],exp:!0};if(T==2||J.length==0){e=[J.length];
J.push(x)}if(T==3){var j=J[e[0]].L1;e=[e[0],j.length];j.push({SQ:"Action "+j.length,color:0,L1:[],akm:!1,shift:!1,exp:!0,yl:j.length})}this.Wy=e;
this.FN()}else if(T==4){var E;if(e.length==1)E=J;else if(e.length==2)E=J[e[0]].L1;else E=J[e[0]].L1[e[1]].L1;
var L=e.length-1;E.splice(e[L],1);if(E.length==0)e.pop();else while(e[L]>=E.length)e[L]--;if(e.length==0)e.push(0);
this.FN()}else if(T==5){if(J.length==0){alert("No Actions Present.");return}var p=new g3(k.E.u,!0);p.data={V:k.l.E1,atU:dq.A,tK:e[0]};
this.a(p)}};bt.prototype.k4=function(h){var e=this.H.cW,v=h.data.V,J=h.data.yh;if(v=="sel")this.Wy=J;
if(v=="fold"){if(J.length==1)e[J[0]].exp=!e[J[0]].exp;else e[J[0]].L1[J[1]].exp=!e[J[0]].L1[J[1]].exp}if(v=="enab"){var m=e[J[0]].L1[J[1]].L1[J[2]];
m.m=!m.m}if(v=="nchange"){if(J.length==1)e[J[0]].SQ=h.data.Di;else e[J[0]].L1[J[1]].SQ=h.data.Di}this.FN()};
bt.prototype.eh=bt.prototype.JI=function(){this.vw()};bt.prototype.fa=function(h,e){this.H=h;if(this.aF==null)return;
if(e==dq.A||e==dq.AY)this.FN()};bt.prototype.FN=function(){if(this.H==null)return;V.H5(this.aF);var h=this.H.cW;
if(h.length==0)return;var e=JSON.stringify(this.Wy);for(var T=0;T<h.length;T++){var v=h[T],J=new bt.zH([T],e,v.exp,v.SQ.split("=").pop());
J.parent=this;this.aF.appendChild(J.Z);if(!v.exp)continue;for(var m=0;m<v.L1.length;m++){var d=v.L1[m],J=new bt.zH([T,m],e,d.exp,d.SQ.split("=").pop());
J.parent=this;this.aF.appendChild(J.Z);if(!d.exp)continue;for(var x=0;x<d.L1.length;x++){var j=d.L1[x],J=new bt.zH([T,m,x],e,null,bj.get(h8.aG7(j)),j.m);
J.parent=this;this.aF.appendChild(J.Z)}}}};bt.prototype.ais=function(){var h=this.H.cW,e=this.Wy;if(h.length==0){alert("No Actions Present");
return}if(e.length==1){alert("Select an Action first");return}if(this.H._K!=null){alert("You can not apply actions while recording actions");
return}if(e.length==1)e.push(0);var v=h[e[0]],J=v.L1[e[1]],m=new g3(k.E.u,!0);m.data={V:k.l.n9,d9:[J.SQ,v.SQ]};
this.a(m)};bt.zH=function(h,e,v,J,m){fx.call(this);this.yh=h;var d=this.yh.length-1;this.Z=V.k("div","layeritem"+(JSON.stringify(h)==e?" selected":""));
this.JW=V.k("div","head");this.Z.appendChild(this.JW);V.v(this.JW,"height:24px");this.qC=V.k("div","headL");
this.JW.appendChild(this.qC);if(d!=0){var x=V.k("div");x.style.width=d*20+"px";this.qC.appendChild(x)}if(v!=null){var j=this.acc=V.k("div",v?"open":"closed");
this.qC.appendChild(j)}else{var E=this.awc=V.k("div","cmark");V.v(E,"background-size:12px 12px; opacity:"+(m?1:.3));
this.qC.appendChild(E)}if(d==0){var L=V.k("div","folder");this.qC.appendChild(L)}var p=this.VY=V.k("div","label");
p.textContent=J;this.qC.appendChild(p);this.Z.addEventListener("mouseup",this.zJ.bind(this),!1)};bt.zH.prototype=new fx;
bt.zH.prototype.zJ=function(h){if(h.detail==1&&h.target.tagName.toLowerCase()!="input"){var e="sel";
if(h.target==this.acc)e="fold";if(h.target==this.awc)e="enab";var v=new g3(k.E.f,!0);v.data={V:e,yh:this.yh};
this.a(v)}else if(this.yh.length<3)var J=new b4.rR(this.VY,this.aM.bind(this))};bt.zH.prototype.aM=function(h){var e=new g3(k.E.f,!0);
e.data={V:"nchange",Di:h,yh:this.yh};this.a(e)};function jY(){b4.call(this,[3],!1,"---lrs/adj",b4.rF.auR)}jY.prototype=new b4("");
jY.prototype.vw=function(){if(!V.gl(this.lQ)||this.Og)return;V.v(this.lQ,"text-align:center;  padding:6px; min-width:220px");
this.Og=[];var T=0;for(var h in hy.names){var e=new eA("<img src=\""+PIMG["adj/"+h]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,hy.names[h]);
e.P("click",this.sh,this);this.Og.push(e);this.lQ.appendChild(e.Z);if(T==4||T==10)V.Xp(this.lQ);T++}this.S()};
jY.prototype.eh=function(){this.vw()};jY.prototype.JI=function(){this.vw()};jY.prototype.S=function(){b4.prototype.S.call(this);
if(this.Og==null)return;for(var T=0;T<this.Og.length;T++)this.Og[T].S()};jY.prototype.sh=function(h){var e=this.Og.indexOf(h.target),v=ct.CG()[e],J=new g3(v.o,!0);
J.data=v.h;this.a(J)};function iy(){b4.call(this,[12,22],!1,null,b4.rF.NC);this.aF=V.k("div","padded");
this.H=null;this.lQ.appendChild(this.aF);this.g$=new hx(null,17.7,10);this.g$.parent=this;this.g$.P(k.E.f,this.$_,this);
this.aF.appendChild(this.g$.Px)}iy.prototype=new b4("");iy.prototype.$_=function(h){var e=this.g$.j(),v=new g3(k.E.A,!0);
v.data={V:"setstl",J:e.bP};v.I=c.MP;this.a(v);v.data={V:"confirm"};this.a(v)};iy.prototype.fa=function(h,e){this.H=h;
this.FN()};iy.prototype.FN=function(){var h=this.H;if(h==null)return;this.g$.lN([h.L7,h.T9]);this.g$.Kt()};
iy.prototype.eh=function(){this.FN()};iy.prototype.JI=function(){this.FN()};var iI=function(){function h(){b4.call(this,[9,3],!1,"---panels/brush",b4.rF.ty);
this.Pz=null;this.H=null}h.prototype=new b4("");h.prototype.vw=function(){var m=V.k("div","");this.lQ.appendChild(m);
this.Ln=V.k("div","bordered cell");V.v(this.Ln,"width:10em; height:28.5em;");m.appendChild(this.Ln);
this.QN=[];this.agn=null;this.j2=[];var d=this.a75.bind(this);this.an=[new v("basic"),new v("useTipDynamics"),new v("useScatter"),new v("useColorDynamics"),new v("usePaintDynamics")];
for(var T=0;T<this.an.length;T++){var x=V.k("div","listitem"),j=this.an[T],L=null;j.parent=this;j.P("brushchange",this.a1N,this);
var E=j.k7;if(T==0){this.agn=new cE(E);x.appendChild(this.agn.Z)}else{L=new hJ(E,!1);L.P(k.E.f,this.af8,this);
x.appendChild(L.Z)}this.j2.push(L);this.Ln.appendChild(x);this.QN.push(x);x.addEventListener("click",d,!1)}this.Nw=V.k("div","cell padded");
m.appendChild(this.Nw);this.setItem(0);this._y=V.k("canvas");this._y.height=10;m.appendChild(this._y);
this.h_=this._y.getContext("2d");this.zz()};h.prototype.Kt=function(m,d){if(this.VA==m)return;this.VA=m;
this.qw=d;this.zz()};h.prototype.JI=function(){if(!V.gl(this.lQ))return;if(this.Ln){this.zz();return}this.vw();
this.S();this.fa(this.H,dq.AY)};h.prototype.S=function(){b4.prototype.S.call(this);if(this.Ln==null)return;
this.agn.S();for(var T=1;T<this.j2.length;T++)this.j2[T].S();for(var T=0;T<this.an.length;T++)this.an[T].S()};
h.prototype.a1N=function(m){var d=this.an.indexOf(m.currentTarget),x=B.t(this.an[d].Pz),j=new g3(k.E.u,!0);
j.data={V:k.l.Gi,m0:dq.lc,Pz:x};this.a(j)};h.prototype.af8=function(m){this.a6l(this.j2.indexOf(m.currentTarget),m.currentTarget.rN())};
h.prototype.a75=function(m){var T=this.QN.indexOf(m.currentTarget);if(m.target.tagName.toLowerCase()=="input")return;
if(this.j2[T]&&!this.j2[T].rN()){this.j2[T].vU();this.a6l(T,!0)}this.setItem(T)};h.prototype.a6l=function(m,d){this.an[m].atE(d)};
h.prototype.setItem=function(m){for(var T=0;T<this.an.length;T++)this.QN[T].className="listitem";if(this.Nw.firstChild)this.Nw.removeChild(this.Nw.firstChild);
this.QN[m].className="listitem selected";this.Nw.appendChild(this.an[m].Z)};h.prototype.fa=function(m,d){this.H=m;
if(this.Ln==null)return;for(var T=0;T<this.an.length;T++)this.an[T].fa(m,d);if(d==dq.lc||d==dq.AY){this.Pz=m.Zb.kt;
this.zz()}if(d==dq.Ih)this.zz()};h.prototype.zz=function(){if(this.Pz)this.enable();else{this.disable();
return}if(!V.gl(this.lQ))return;var m=this.H;for(var T=0;T<this.an.length;T++){this.an[T].e(this.Pz);
if(this.j2[T])this.j2[T].e(this.an[T].rN())}var d=B.t(this.Pz);d.Brsh.v.Dmtr.v.val=Math.min(d.Brsh.v.Dmtr.v.val,50);
V.xX(this._y,this.VA,80);var x=new fP(0,0,this._y.width,this._y.height),j=this.H.Zb,E=new d2(d,j?j.kk:null,j?j.tr:null,{tm:1},m.kc,m.kF,x,null,0),L=x._/2,p=x.q-L*2;
E.moveTo(L,L);for(var T=0;T<=p;T+=10)E.lineTo(L+T,L+20*Math.sin(2*Math.PI*T/p));E.finish();var Z=new ImageData(x.q,x._);
B.YZ(E.ju(),E.YO(),Z.data,x);this.h_.putImageData(Z,0,0)};function e(m){fx.call(this);m=m.split(".")[0];
this.Vr=m;var d=this.Z=V.k("span"),x=["Off","Fade"];x.push(m=="angleDynamics"?"Direction":"Pen Pressure");
var j=this.dE=new jV("Control",x);j.P(k.E.f,this.ow,this);d.appendChild(j.Z);var E=this.acv=new cs(null,0,100,null,null,null,!0);
E.e(50);E.P(k.E.f,this.ow,this)}e.prototype=new fx;e.prototype.e=function(m){m=m<2?m:2;this.dE.e(m);
this.FN()};e.prototype.j=function(){var m=this.dE.j(),d=this.Vr;m=m<=1?m:d=="angleDynamics"?6:2;return m};
e.prototype.ow=function(m){this.FN();m.target=m.currentTarget=this;this.a(m)};e.prototype.FN=function(m){this.acv.Es(this.dE.j()==1)};
function v(m){fx.call(this);this.Z=V.k("div");this.Pz=null;var d=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(m);
this.k7=[[15,0],[15,1],[15,2],[15,3],"Transfer"][d];this.HT=m;this.GO={};this.ahY=null;var x=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][d];
for(var T=0;T<x.length;T++){var j=x[T],E;if(j=="--br"){E=new d9;this.Z.appendChild(E.Px.firstChild)}else if(j=="Brsh.Dmtr")E=new ci([12,14,0],1,1e3," px",0,!0);
else if(j=="Brsh.Angl")E=new ci([12,15],0,359," \xB0");else if(j=="Brsh.Rndn")E=new ci([12,16],0,100," %");
else if(j=="Brsh.Hrdn")E=new ci([12,17],0,100," %");else if(j=="Brsh.Spcn")E=new ci([12,18],1,300," %");
else if(j=="szVr.jitter")E=new ci([15,4,0],0,100,"%");else if(j=="minimumDiameter")E=new ci([15,4,1],0,100,"%");
else if(j=="angleDynamics.jitter")E=new ci([15,4,2],0,100,"%");else if(j.endsWith("bVTy"))E=new e(j);
else if(j.endsWith("fStp"))E=new cs(null,0,100,null,null,null,!0);else if(j=="roundnessDynamics.jitter")E=new ci([15,4,3],0,100,"%");
else if(j=="minimumRoundness")E=new ci([15,4,4],1,100,"%");else if(j=="scatterDynamics.jitter")E=new ci([15,5,0],0,1e3," %");
else if(j=="Cnt")E=new ci([15,5,1],1,20);else if(j=="countDynamics.jitter")E=new ci([15,5,2],0,100," %");
else if(j=="clVr.jitter")E=new ci([15,6,0],0,100," %");else if(j=="H")E=new ci([15,6,1],0,100," %");
else if(j=="Strt")E=new ci([15,6,2],0,100," %");else if(j=="Brgh")E=new ci([15,6,3],0,100," %");else if(j=="opVr.jitter")E=new ci("Opacity Jitter",0,100," %");
else if(j=="prVr.jitter")E=new ci("Flow Jitter",0,100," %");else throw j;this.GO[j]=E;E.parent=this;
E.P(k.E.f,this.ow,this)}}v.prototype=new fx;v.prototype.adm=function(){this.a(new g3("brushchange"))};
v.prototype.e=function(m){this.Pz=B.t(m);this.Z.className=this.rN()?"":"disabled";this.zz()};v.prototype.S=function(){for(var m in this.GO)this.GO[m].S()};
v.prototype.rN=function(){return!0};v.prototype.fa=function(m,d){if(d==dq.ty||d==dq.AY){var x=this.GO["--br"];
if(x)x.lN(m.Zb)}};v.prototype.ow=function(m){var d=m.target,x=this.GO,j;for(var E in x)if(x[E]==d)j=E;
if(j=="--br"){var L=new g3(k.E.u,!0);L.data={V:k.l.Gi,m0:dq.lc,Pz:d.j()};this.a(L)}else{var p=J(this.Pz,j),Z=d.j();
if(p){if(j.endsWith("bVTy")||j.endsWith("fStp")||j=="Cnt")p.v=Z;else p.v.val=Z;this.adm()}}};v.prototype.zz=function(){var m=this.Pz,d=m.Brsh.v.classID,x=this.GO,j=d!=this.ahY;
this.ahY=d;if(j){V.H5(this.Z);for(var E in x){if(d!="computedBrush"&&d!="sampledBrush"&&E=="Brsh.Rndn")continue;
if(d!="computedBrush"&&E=="Brsh.Hrdn")continue;var L=x[E],p=L.Z;if(E=="--br"){p=L.Io.Z;p.style.width="auto"}this.Z.appendChild(p)}}for(var E in x){if(E=="--br")continue;
var Z=J(m,E),o;if(Z){if(E.endsWith("bVTy")||E.endsWith("fStp")||E=="Cnt")o=Z.v;else o=Z.v.val;x[E].e(o);
if(E.endsWith("fStp"))x[E].Es(J(m,E.split(".")[0]+".bVTy").v==1)}}};v.prototype.rN=function(){var m=this.HT;
return m=="basic"?!0:this.Pz[m].v};v.prototype.atE=function(m){var d=this.HT;if(d=="basic")return;this.Pz[d].v=m;
a2.pO.a07(this.Pz);this.adm()};function J(m,d){var x=d.split(".");m=m[x[0]];for(var T=1;T<x.length;T++){if(m==null)return m;
m=m.v[x[T]]}return m}return h}();function dD(){b4.call(this,[9,0],!1,"---panels/history",b4.rF.V8);V.v(this.lQ,"min-width:200px;");
this.I1=V.k("div","hpbody scrollable");this.I1.style.height="160px";this.lQ.appendChild(this.I1);this.atT=-1;
this.abV=[];this.qx="";this.vC=new ar([{name:"Clear History"}],[{o:k.E.A,I:c.V8,h:{V:"h_clear"}}])}dD.prototype=new b4("");
dD.prototype.g8=function(){return this.vC};dD.prototype.Kt=function(h,e){this.JI()};dD.prototype.eh=function(h){if(h==null){V.H5(this.I1);
this.qx="";return}V.H5(this.I1);var e=0;for(var T=0;T<h.history.length;T++)if(T<=h.uM&&!h.history[T].sC)e=T;
for(var T=0;T<h.history.length;T++){var v=h.history[T];if(v.sC)continue;var J=new e9(v,T,e);J.parent=this;
this.I1.appendChild(J.Z);this.abV.push(J)}if(h.uM==h.history.length-1)this.JI()};dD.prototype.JI=function(){this.I1.scrollTop=this.I1.scrollHeight};
dD.prototype.S=function(){b4.prototype.S.call(this);for(var T=0;T<this.abV.length;T++)this.abV[T].S()};
function e9(h,T,e){fx.call(this);this.index=T;this.Z=V.k("div",T==e?"listitem selected":"listitem");
this.eM=h.name;this.S();if(T>e)this.Z.style.opacity=.4;this.Z.addEventListener("click",this.HL.bind(this),!1)}e9.prototype=new fx;
e9.prototype.S=function(){this.Z.textContent=bj.get(this.eM)};e9.prototype.HL=function(h){if(this.index==this.parent.atT)return;
this.r6({V:"h_itemchange",index:this.index})};e9.prototype.r6=function(h){var e=new g3(k.E.A,!0);e.data=h;
e.I=c.V8;this.a(e)};function k_(){b4.call(this,[9,10],!1,"---panels/histogram",b4.rF.avO);var h=V.k("div","padded");
this.lQ.appendChild(h);this.nN=new kU(256,!0);h.appendChild(this.nN.Z);this.IU=null}k_.prototype=new b4("");
k_.prototype.eh=function(h){this.IU=h;this.FN()};k_.prototype.FN=function(){var h=this.IU;if(!V.gl(this.lQ))return;
if(h==null||h.X.length==0){this.nN.e(B.AH(B.U(4)));return}var e=h.pb(),v=new fP(0,0,h.q,h._),J=v.$();
if(h.K){var m=h.K.R,d=B.U(m.$()*4);B.YZ(e,v,d,m);B.yr(h.K.G,d);e=d;v=m;var x=h.K.G;J=0;for(var T=0;T<x.length;
T++)J+=x[T];J=Math.round(J/255)}var j=B.AH(e);j[0][255]+=3*(J-j[5]);for(var T=1;T<4;T++)j[T][255]+=J-j[5];
this.nN.e(j,J)};k_.prototype.fa=function(h,e){this.nN.Y_(i4.je[h.YC]["--text-color"])};k_.prototype.S=function(){b4.prototype.S.call(this);
this.nN.S()};k_.prototype.JI=function(){this.FN()};function ev(){b4.call(this,[9,8],!1,"---adj/clrL",b4.rF.a54);
this.aF=V.k("div","padded");this.lQ.appendChild(this.aF);this.eg=new e$(10);this.aF.appendChild(this.eg.Z);
this.lZ=new ig;this.lZ.parent=this;this.aF.appendChild(this.lZ.Px);this.lZ.Px.style.marginTop="6px";
this.eg.P(k.E.f,this.a1U,this);this.lZ.P(k.E.f,this.a1U,this)}ev.prototype=new b4("");ev.prototype.a1U=function(h){var e;
if(h.target==this.eg)e=this.eg.j();else{var v=this.lZ.j();e=B.RP(v)}var J=new g3(k.E.u,!0);J.data={V:k.l.Gi,m0:dq.Ih,rf:0,J:e};
this.a(J)};ev.i_=function(h,e){var v=e==dq.AY,J=h.TV,m=h.Wv,d=m.strokeStyleContent.v,x=null;if((e==dq.j_||v)&&J.oH==1){x=B.Vh.SL(J.ag.Clr.v);
x=x.n<<16|x.i<<8|x.b}if((e==dq.a0||v)&&m.strokeEnabled.v&&d.classID=="solidColorLayer"){x=B.Vh.SL(d.Clr.v);
x=x.n<<16|x.i<<8|x.b}if(e==dq.Ih||v)x=h.kc;return x};ev.prototype.fa=function(h,e){var v=h.kc,J=e==dq.AY,m=ev.i_(h,e);
if(m!=null){this.eg.e(m);this.lZ.e({n:m>>>16&255,i:m>>>8&255,b:m>>>0&255,C2:"Default/Color #"+B.zF(m)})}if(e==dq.fU||J){var d=h.aap;
this.lZ.lN(d)}};ev.prototype.Kt=function(h,e){this.lZ.Px.children[0].style.width=h-32+"px"};function gM(){b4.call(this,[12,72],!1,"---adj/mixr",b4.rF.a3S);
this.NI=null;this.Zw=null;this.I1=V.k("div","lpbody scrollable");this.I1.style.marginTop="4px";this.A1=V.k("div","lpfoot");
this.lQ.appendChild(this.I1);this.lQ.appendChild(this.A1);this.aDv=[];this.P("click",this.f$,this);this.Ol=[];
gM.hM([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Ol,this.A1,this.xR.bind(this),this.xF.bind(this));
this.vC=new ar([{name:"Merge Channels",U$:!0}],[{o:k.E.u,h:{V:k.l.Xq,dF:"mergechannels"}}])}gM.prototype=new b4("");
gM.prototype.g8=function(){return this.vC};gM.hM=function(h,e,v,J,m){for(var T=0;T<h.length;T++){var d=new eA("W",!1,h[T]);
e.push(d);V.La(d.Z,J);v.appendChild(d.Z);var x=d.Z;x.addEventListener("drop",m,!1);x.addEventListener("dragover",function(j){j.preventDefault()},!1);
x.addEventListener("dragenter",V.wY,!1)}};gM.S1=function(h,e){for(var T=0;T<h.length;T++)if(h[T].Z==e.currentTarget)return T};
gM.prototype.xR=function(h){var e=gM.S1(this.Ol,h);if(e==0)this.a(fz.C7(!0,null,h));else{e--;var v=new g3(k.E.Fq,!0),J={classID:"null"};
if(e==0)J.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(e==1)J.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else J.null=h8.$j("Chnl",!0);v.data={UH:["duplicate","make","delete"][e],TH:J};this.a(v)}};gM.prototype.xF=function(h){var e=gM.S1(this.Ol,h);
if(e==2){var v=new g3(k.E.Fq,!0),J={classID:"null"};J.null=h8.$j("Chnl",!0);v.data={UH:"duplicate",TH:J};
this.a(v)}else this.xR(h)};gM.prototype.iH=function(T){var h=this.aDv,e=h[T];if(e==null){var v=V.k("canvas");
e=v.getContext("2d");h.push(e)}return e};gM.prototype.f$=function(h){var e=this.NI.slice(0),v=h.data.yl,J=e[0]+e[1]+e[2],m=this.Zw;
if(-5<v&&v<0){var d=-v-1;if(h.data.Lc){if(d==0)e=J==3?[0,0,0]:[1,1,1];else{if(e[d-1]==0)e[d-1]=1;else if(!0)e[d-1]=0}}else{if(d==0)e=[1,1,1];
else{e=[0,0,0];e[d-1]=1}for(var T=0;T<m.Ar.length;T++)m.Ar[T].bx=!1;m.kH=[]}var x=new g3(k.E.A,!0);x.I=c.I5;
x.data={V:"setcls",Y:e};this.a(x);return}if(-1<v){var j=m.T[v],E=j.TM==1?j.NH():j.o7(m).N;if(h.data.Lc)E.bx=!E.bx;
else{for(var T=0;T<m.Ar.length;T++)m.Ar[T].bx=!1;m.kH=[]}}else{var L=-v-5,E=m.Ar[L];if(h.data.Lc)E.bx=!E.bx;
else{for(var T=0;T<m.Ar.length;T++)m.Ar[T].bx=!1;E.bx=!0;m.kH=[L];if(J!=0){var x=new g3(k.E.A,!0);x.I=c.I5;
x.data={V:"setcls",Y:[0,0,0]};this.a(x)}}}m.GI=m.NK=!0};gM.prototype.JI=function(){this.aD()};gM.prototype.eh=function(h){this.Zw=h;
this.aD()};gM.prototype.aD=function(){var h=this.Zw,e=this.I1,u=4;V.H5(e);if(h==null||!V.gl(e))return;
var v=h.q,J=h._,m=new fP(0,0,v,J),d=this.NI=h.p.Y.slice(0),x=d[0]+d[1]+d[2],j=Math.round(34*V.A_()),E=j;
if(v>J)E=Math.round(E*J/v);else j=Math.round(j*v/J);var L=["RGB"].concat(hy.wh);for(var T=0;T<4;T++){var p=this.iH(T);
B.mT.fb(p,j,E,m,h.pb(),m,!1,T==0?null:T-1);var Z=T==0?x==3:d[T-1]==1,o=new fz(-1-T,!0,!0,p,L[T],Z,Z);
o.parent=this;e.appendChild(o.Z);V.U3(p.canvas)}for(var T=0;T<h.X.length;T++){var N=h.T[h.X[T]],M=N.TM;
if(M!=1&&M!=3)continue;var O=M==1?N.NH():N.o7(h).N,p=this.iH(u+T);u++;B.mT.gy(p,j,E,m,O);var o=new fz(h.X[T],!0,!0,p,N.getName()+(M==1?"":" Filter")+" Mask",!0,O.bx);
o.parent=this;e.appendChild(o.Z);V.U3(p.canvas)}for(var T=0;T<h.Ar.length;T++){var O=h.Ar[T],p=this.iH(u+T);
B.mT.gy(p,j,E,m,O);var o=new fz(-5-T,!0,O.name=="Quick Mask",p,O.name,h.kH.indexOf(T)!=-1,O.bx,c.Yn,{V:s.tn,rf:"rnm",yl:T});
o.parent=this;e.appendChild(o.Z);V.U3(p.canvas)}};gM.prototype.Kt=function(h,e){this.I1.style.height=e-30-4+"px";
this.I1.style.width=h+"px"};gM.prototype.S=function(){b4.prototype.S.call(this);this.aD();gM.ME(this.Ol,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gM.ME=function(h,e,v){var e=ha.no(e,null,"miniscale");for(var T=0;T<h.length;T++)h[T].Ao(e[T],v?v[T]:null)};
function fz(h,e,v,J,m,d,x,j,E){fx.call(this);this.Z=V.k("div");this.agp=h;this.a9M=e;this.h_=J;this.an4=j;
this.ajZ=E;this.JW=V.k("div",d?"head selected":"head");V.v(this.JW,"height: "+40+"px");var L=V.k("div","headL"),p=V.k("div","headR"),Z=15;
this.Z.appendChild(this.JW);this.JW.appendChild(L);this.JW.appendChild(p);this.pn=V.k("div","eye");if(1<V.A_()&&V.A_()<1.5)Z=Z/V.A_();
V.v(this.pn,"background-size: "+Z+"px "+Z+"px;");this.pn.style.opacity=x?1:.2;if(e)L.appendChild(this.pn);
this.QL=V.k("div","thumb");if(J)this.QL.appendChild(J.canvas);L.appendChild(this.QL);this.hI=V.k("div","label");
if(v)this.hI.style.fontStyle="italic";this.hI.textContent=bj.get(m);L.appendChild(this.hI);var o=this.JW;
o.setAttribute("draggable","true");o.addEventListener("dragstart",function(u){u.stopPropagation();u.dataTransfer.setData("Text","hello")},!1);
o.addEventListener("drop",V.wY,!1);V.La(this.JW,this.axg.bind(this));if(!v)this.JW.addEventListener("mouseup",this.aet.bind(this),!1)}fz.prototype=new fx;
fz.prototype.aM=function(h){var e=new g3(k.E.A,!0);e.I=this.an4;e.data=this.ajZ;e.data.name=h;this.a(e)};
fz.prototype.axg=function(h){var e=h.ctrlKey||h.metaKey,v=this.agp;if(e&&h.target==this.h_.canvas){this.a(fz.C7(this.a9M,v,h))}else{var J=new g3("click",!0);
J.data={yl:v,Lc:h.target==this.pn,ky:e};this.a(J)}};fz.prototype.aet=function(h){if(h.detail==2&&h.target==this.hI){var e=new b4.rR(this.hI,this.aM.bind(this))}};
fz.C7=function(h,e,v){var J=0;if(v.shiftKey)J++;if(v.altKey)J+=2;var m=new g3(k.E.A,!0);m.I=c.Wm;if(h){if(-5<e&&e<0){m=new g3(k.E.Fq,!0);
m.data=c.tM.tN(J,["RGB","Rd","Grn","Bl"][-1-e])}else m.data={V:"fromchannel",d9:[e,0,J]}}else m.data={V:"frompath",d9:[e,0,J]};
return m};function gK(){b4.call(this,[8,9],!1,"---panels/paths",b4.rF.WC);this.NI=null;this.Zw=null;
this.I1=V.k("div","lpbody scrollable");this.I1.style.marginTop="4px";this.A1=V.k("div","lpfoot");this.lQ.appendChild(this.I1);
this.lQ.appendChild(this.A1);this.lQ.addEventListener("click",this.aeJ.bind(this),!1);this.aDv=[];this.P("click",this.f$,this);
this.Ol=[];gM.hM(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Ol,this.A1,this.xR.bind(this),this.xF.bind(this))}gK.prototype=new b4("");
gK.prototype.xR=function(h,e){var v=gM.S1(this.Ol,h),J;if(v<2){if(v==1&&h.altKey){J=new g3(k.E.u,!0);
J.data={V:k.l.Xq,dF:"strokepath"}}else{J=new g3(k.E.Fq,!0);J.data=c.Uk.r9(v==0?null:"PbTl")}}else if(v==2)J=fz.C7(!1,null,h);
else if(v==3){J=new g3(k.E.Fq,!0);J.data={UH:"make",TH:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(v>3){var J=new g3(k.E.A,!0);
J.I=c.uP;J.data={V:"pathedit",rf:["new","del"][v-4],aa2:e}}this.a(J)};gK.prototype.xF=function(h){this.xR(h,!0)};
gK.prototype.iH=function(T){var h=this.aDv,e=h[T];if(e==null){var v=V.k("canvas");e=v.getContext("2d");
h.push(e)}return e};gK.prototype.aeJ=function(h){if(h.target==this.I1){var e=this.Zw;e.cg=[];e.Z3=[];
e.NK=!0;e.GI=!0}};gK.prototype.f$=function(h){var e=h.data.yl,v=this.Zw,J=h.data.ky,m=e,d=v.Z3,x=v.cg;
if(e<0){m=-1-e;d=v.cg;x=v.Z3}if(J){var j=d.indexOf(m);if(j==-1)d.push(m);else d.splice(j,1)}else{while(d.length!=0)d.pop();
while(x.length!=0)x.pop();d.push(m)}v.NK=!0;v.GI=!0};gK.prototype.JI=function(){this.aD()};gK.prototype.eh=function(h){this.Zw=h;
this.aD()};gK.prototype.aD=function(){var h=this.Zw,e=this.I1;V.H5(e);if(h==null||!V.gl(e))return;var v=h.q,J=h._,m=new fP(0,0,v,J),d=this.NI=h.p.Y.slice(0),x=d[0]+d[1]+d[2],j=Math.round(34*V.A_()),E=j;
if(v>J)E=Math.round(E*J/v);else j=Math.round(j*v/J);var L=h.rx(),p=L[0];for(var T=0;T<p.length;T++){var Z=p[T],o=this.iH(T);
B.mT.a67(o,j,E,m,Z.add.vmsk);var u=new fz(Z.yl,!1,Z.yl>=0,o,Z.name,L[1].indexOf(T)!=-1,!1,c.uP,{V:"pathedit",rf:"rnm",yl:Z.yl});
u.parent=this;e.appendChild(u.Z);V.U3(o.canvas)}};gK.prototype.Kt=function(h,e){this.I1.style.height=e-30-4+"px";
this.I1.style.width=h+"px"};gK.prototype.S=function(){b4.prototype.S.call(this);this.aD();gM.ME(this.Ol,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function c2(h){b4.call(this,[9,h?4:5],!1,"---panels/"+(h?"character":"paragraph"),h?b4.rF.aeO:b4.rF.aks);
V.v(this.lQ,"min-width:255px;");this.a01=h;this.QT=null;this.H=null}c2.prototype=new b4("");c2.prototype.vw=function(){this.QT=new c4;
var h=this.QT,e=this.lQ;h.parent=this;if(this.a01){var v=V.k("div","marged");e.appendChild(v);v.appendChild(h.jH.Z);
e.appendChild(V.k("hr"));var J=V.k("div","marged");e.appendChild(J);J.appendChild(h._L.Z);J.appendChild(h.K9.Z);
var m=V.k("div","marged");e.appendChild(m);m.appendChild(h.h8.Z);m.appendChild(h.Fr.Z);e.appendChild(V.k("hr"));
var d=V.k("div","marged");e.appendChild(d);d.appendChild(h.uS.Z);d.appendChild(h.bn.Z);var x=V.k("div","marged");
e.appendChild(x);x.appendChild(h.O7.Z);x.appendChild(h.nM.Z);x.appendChild(h.hG.Z);e.appendChild(V.k("hr"));
var j=V.k("div","marged");e.appendChild(j);j.appendChild(h.Mu.Z);j.appendChild(h.TC.Z);j.appendChild(h.$d.Z);
j.appendChild(h.SI.Z);j.appendChild(h.OW.Z);j.appendChild(h.Fi.Z);j.appendChild(h.ve.Z);j.appendChild(h.$L.Z);
var E=V.k("div","marged");e.appendChild(E);for(var T=0;T<8;T++)E.appendChild(h.Ok[T].Z)}else{var v=V.k("div","marged");
e.appendChild(v);v.appendChild(h.Vc.Z);v.appendChild(h.fv.Z);v.appendChild(h.gn.Z);v.appendChild(h.a2u.Z);
v.appendChild(h.axd.Z);v.appendChild(h.an0.Z);v.appendChild(h.acU.Z);e.appendChild(V.k("hr"));var J=V.k("div","marged");
e.appendChild(J);J.appendChild(h.To.Z);J.appendChild(h.le.Z);J.appendChild(h.tD.Z);e.appendChild(V.k("hr"));
var m=V.k("div","marged");e.appendChild(m);m.appendChild(h.Hx.Z);m.appendChild(h.r4.Z);m.appendChild(h.ZD.Z);
m.appendChild(h.cf.Z)}};c2.prototype.JI=function(){if(!V.gl(this.lQ))return;if(this.QT==null){this.vw();
var h=this.H;if(h)this.QT.e(h.Xi,h.eN,h.Td);this.QT.S()}};c2.prototype.S=function(){b4.prototype.S.call(this);
if(this.QT)this.QT.S()};c2.prototype.fa=function(h,e){this.H=h;if(e!=dq.AY&&e!=dq.PC&&e!=dq.Na&&e!=dq.Nh)return;
if(this.QT)this.QT.e(h.Xi,h.eN,h.Td)};function jS(h){b4.call(this,h?"Character Styles":"Paragraph Styles",!1,null,h?b4.rF.azn:b4.rF.a1H);
V.v(this.lQ,"min-width:240px;");var e=this.X7=V.k("div","scrollable");this.lQ.appendChild(e);V.v(e,"max-height:400px;");
this.Qt=null;this.abz=null;this.qg=null;this.a01=h?0:1;this.IU=null;this.H=null;this.a7A=jS.prototype.YL.bind(this)}jS.prototype=new b4("");
jS.prototype.eh=function(h,e,v){this.IU=h;this.H=v;this.aD()};jS.prototype.aD=function(){var h=this.X7;
V.H5(h);if(!V.gl(this.lQ))return;var e=this.IU,v=this.H;if(e==null||v==null)return;var J=v.Xi,m=this.Qt=[],d={},x=this.abz=[],j=this.qg=[],E={},L=this.a01,p=L==0?"Style":"Paragraph";
for(var T=0;T<e.T.length;T++){var Z=e.T[T].add.TySh;if(Z==null)continue;var o=Z.lf,u=Z.C.n$(),N=o.ResourceDict.FontSet,M=o.EngineDict[p+"Run"],O=M.RunArray;
for(var F=0;F<O.length;F++){var W=jS.aHl(O[F][p+"Sheet"][L==0?"StyleSheetData":"Properties"],L,N,x,E,u);
if(W.FillColor==null)W.FillColor={Type:1,Values:[1,0,0,0]};var f=JSON.stringify(W);if(d[f]==null){d[f]=!0;
m.push(W)}}}var $=L==0?function(Q,D){return D.FontSize-Q.FontSize}:function(Q,D){return Q.Justify-D.Justify};
m.sort($);var H=[];if(L==0){var A=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],G=A.length,l=new Array(G),K=1e9,U=0;
l.fill(1e9);for(var T=0;T<m.length;T++){var z=m[T],N=z.FontSize;K=Math.min(K,N);U=Math.max(U,N);var q=z.FillColor.Values,P=(q[1]+q[2]+q[3])/3;
H[T]=P>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var g=jS.aHl(L==0?J.zI:J.UZ,L,J.k0,x,E,1),a=JSON.stringify(g);
for(var T=0;T<m.length;T++){var w=V.k("div");h.appendChild(w);j.push(w);w.addEventListener("click",this.a7A,!1);
var z=m[T],y=JSON.stringify(z)==a;if(L==0){var S=x[z.Font].Name,i=S.toLowerCase(),C=i.indexOf("bold")!=-1||i.indexOf("-black")!=-1,Y=i.indexOf("italic")!=-1||i.indexOf("oblique")!=-1||i.endsWith("-it"),_=i.indexOf("light")!=-1,N=z.FontSize,q=z.FillColor.Values,t=H[T];
if(y){t=t.slice(0);t[1]=Math.min(1,t[1]+.2)}var I=U==K?.5:(N-K)/(U-K),J=10+16*I,r="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+J+"px; color:"+CSS.Q8({n:q[1]*255,i:q[2]*255,b:q[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.Q8({n:t[1]*255,i:t[2]*255,b:t[3]*255})+";";
if(C)r+=" font-weight:bold;";if(Y)r+=" font-style:italic;";if(_)r+=" font-weight:lighter;";V.v(w,r);
var n=V.k("span");w.appendChild(n);V.v(n,"display:inline-block;  width:"+(U>99?50:40)+"px;  text-align:right;  margin-right:5px;");
n.textContent=Math.round(N);n=V.k("span");w.appendChild(n);V.v(n,"display:inline-block;  width:130px; ");
n.textContent=S}}};jS.prototype.YL=function(h){var e=B.t(this.H.Xi),T=this.qg.indexOf(h.currentTarget),v=this.Qt[T];
for(var J in v)if(J!="Font")e.zI[J]=v[J];fr.wm(e,this.abz[v.Font].Name);console.log(e);var m=new g3(k.E.u,!0);
m.data={V:k.l.Gi,m0:dq.PC,Xi:e};this.a(m);var m=new g3(k.E.A,!0);m.I=c.HV;m.data={V:"updateStyles"};
this.a(m)};jS.aHl=function(h,e,v,J,m,d){var x=e==0?["Font","FontSize","FillColor"]:[],j={};for(var E=0;
E<x.length;E++)j[x[E]]=h[x[E]];if(e==0){if(j.Font!=null){var L=v[j.Font].Name;if(m[L]==null){m[L]=J.length;
J.push(v[j.Font])}j.Font=m[L]}j.FontSize=j.FontSize*d}return j};jS.prototype.JI=function(){if(!V.gl(this.lQ))return};
jS.prototype.S=function(){b4.prototype.S.call(this)};jS.prototype.fa=function(h,e){this.H=h;this.aD()};
function fA(){b4.call(this,[9,13],!1,"---panels/glyphs",b4.rF.aaP);this.H=null}fA.prototype=new b4("");
fA.prototype.vw=function(){this.QT=new c4;this.QT.parent=this;this.ao$=null;this.ale=null;this.eO=null;
this.anW=null;this.A$=Math.round(290*V.A_());this.br=45;this.H8=4;this.a6q=this.FN.bind(this);this.ako=0;
this.hH=new jV(null,["Hi","Hello"]);this.hH.P(k.E.f,this.FN,this);var h=this.f1=new eA("-",null,null,!0);
h.P("click",this.aBE,this);var e=this.ajm=new eA("+",null,null,!0);e.P("click",this.aBE,this);this.Io=new dN(!1);
this.Io.P(k.E.f,this.JU,this);this.Io.Z.style.height=250+"px";var v=this.wC=V.k("div","form padded");
this.lQ.appendChild(v);v.appendChild(this.QT.jH.Z);V.Xp(v);v.appendChild(this.hH.Z);v.appendChild(h.Z);
v.appendChild(e.Z);this.lQ.appendChild(this.Io.Z)};fA.prototype.Kt=function(h,e){if(this.VA==h||this.QT==null)return;
this.VA=h;this.A$=Math.floor((h-13)*V.A_());V.v(this.wC,"width:"+this.A$/V.A_()+"px;");this.Io.Z.style.height=e-73+"px";
this.FN()};fA.prototype.JU=function(h){var e=this.arg(),v=Math.round(this.A$/e);e/=V.A_();var J=this.Io.j()[0]*v*this.H8,m=this.Io.axx();
J+=Math.floor(m.y/e)*v;J+=Math.floor(m.x/e);var d=this.eO[this.hH.j()];if(J>=d.length)return;var x=d[J],j=this.anW[x],E=new g3(k.E.A,!0);
E.I=c.HV;if(j.M5.length==0)E.data={V:"insertGlyph",J:J+1};else E.data={V:"insertText",J:String.fromCodePoint(j.M5[0])};
this.a(E)};fA.prototype.aBE=function(h){var e=1.2;if(h.target==this.f1){if(this.br>20)this.br/=e}else{if(this.br<100)this.br*=e}this.FN()};
fA.prototype.JI=function(){this.fa(this.H)};fA.prototype.fa=function(h,e){this.H=h;if(!V.gl(this.lQ))return;
if(this.QT==null)this.vw();this.QT.e(h.Xi,h.eN,h.Td);var v=h.Xi,J=v.zI.Font,E=0;if(J==null)return;var m=v.k0[J].Name;
if(this.ao$==m)return;var J=h.eN.xs(m);if(J==null)return;var d=J.maxp.numGlyphs,x=this.anW=new Array(d);
for(var T=0;T<d;T++)x[T]={M5:[]};var j=Date.now(),L=new Uint8Array(1048575);for(var T=0;T<1048575;T++){var p=Typr.U.codeToGlyph(J,T);
if(p!=0&&p<d){L[T]=1;if(x[p].M5.length==0)E++;x[p].M5.push(T)}}var Z=fA.tx,o=[];for(var T=0;T<Z.length;
T++)o.push([]);for(var p=1;p<d;p++){o[0].push(p);var u=x[p].M5[0];if(u==null){continue}for(var N=1;N<Z.length;
N++){var M=Z[N].TF;for(var T=0;T<M.length;T+=2)if(M[T]<=u&&u<=M[T+1]){o[N].push(p);break}}}this.eO=o;
var O=[];for(var T=0;T<Z.length;T++)O.push(Z[T].VD+" ("+o[T].length+")");var F=this.hH.j();this.hH.VU(O);
this.hH.e(F);this.ao$=m;this.ale=J;this.FN()};fA.prototype.arg=function(h){var e=Math.floor(this.A$/this.br);
return Math.floor(this.A$/e)};fA.prototype.FN=function(h){if(!V.gl(this.lQ)||this.eO==null)return;var e=this.eO[this.hH.j()],v=e.length,J=this.ale,m=Typr.U,d=this.arg(),x=d,j=x*.8,E=x*.8/J.head.unitsPerEm,L=[],p=Math.floor(this.A$/d),Z=Math.ceil(v/p),o=this.H8,u=Date.now();
for(var N=0;N<Z;N+=o){var M=V.k("canvas"),O=M.getContext("2d");M.width=d*p;M.height=x*o;O.fillStyle="white";
O.fillRect(0,0,p*d,x*o);for(var F=0;F<o;F++){for(var W=0;W<p;W++){var T=e[(N+F)*p+W];if(T==null)break;
var f=m.glyphToPath(J,T),$=B.w.oS(f.crds);O.fillStyle="#252525";if($.EG()){var H=J.hmtx,A=[],z=170;for(var G in H)A.push(G);
var l=H[A[0]][T],K=H[A[1]][T],U=Math.max(l,K);f={cmds:"M L M L M L".split(" "),crds:[0,0,U,0,0,-z,0,z,U,-z,U,z]};
$.q=U;$.x=0;O.strokeStyle="rgba(0,255,0,1)"}O.beginPath();var q=W*d+(d-$.q*E)*.5-$.x*E,P=F*x+j;O.translate(q,P);
O.scale(E,-E);m.pathToContext(f,O);O.scale(1/E,-1/E);O.translate(-q,-P);$.EG()?O.stroke():O.fill()}}O.beginPath();
for(var W=0;W<p;W++){var g=W*d+d+.5;O.moveTo(g,0);O.lineTo(g,x*o)}for(var F=0;F<o;F++){var a=F*x+x+.5;
O.moveTo(0,a);O.lineTo(p*d,a)}O.strokeStyle="rgba(0,0,0,0.3)";O.stroke();L.push(M)}this.Io.eZ(L,null,d*p,x*o)};
fA.tx=[{VD:"All Glyphs"},{VD:"Basic Latin, Latin 1",TF:[0,127,128,143]},{VD:"Latin Extended-A",TF:[256,383]},{VD:"Latin Extended-B",TF:[384,591]},{VD:"Punctuations",TF:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{VD:"Greek",TF:[880,1023]},{VD:"Cyrillic",TF:[1024,1279]},{VD:"Hebrew",TF:[1424,1535]},{VD:"Arabic",TF:[1536,1791]},{VD:"Emoji",TF:[9728,10095,127744,129535]}];
function at(){b4.call(this,[13,0],!1,null,b4.rF.Ih);this.cO=0;this.a1_=0;this.H=null}at.prototype=new b4("");
at.prototype.vw=function(){if(!V.gl(this.lQ)||this.iW)return;var h=V.k("div","flexrow padded");this.lQ.appendChild(h);
var e=V.k("div");h.appendChild(e);this.iW=[];for(var T=0;T<2;T++){var v=new iE;this.iW.push(v);v.P("click",this.a8H,this);
e.appendChild(v.Z)}this.gs=new cb(192);console.log("hsb picker");this.gs.P(k.E.f,this.OT,this);this.oI=new cM;
this.oI.parent=this;h.appendChild(this.gs.Z);this.fa(this.H,dq.AY)};at.prototype.a8H=function(h){var e=h.currentTarget,v=this.iW.indexOf(e);
if(v==this.cO){this.oI.h6(v)}else{this.cO=v;this.FN()}};at.prototype.OT=function(h){var e=this.gs.j();
this.gs.e(e);var v=Math.round(e.n*255)<<16|Math.round(e.i*255)<<8|Math.round(e.b*255),J=new g3(k.E.u,!0);
J.data={V:k.l.Gi,m0:dq.Ih,rf:this.cO,J:v};this.a(J);this.a1_=Date.now()};at.prototype.FN=function(){if(this.oI==null)return;
var h=this.H,e=this.cO,v=[h.kc,h.kF];for(var T=0;T<2;T++){var J=this.iW[T],m=J.Z.style;J.Y_(v[T]);if(T==e)m.filter="drop-shadow(0 0 1px #000000)"}var d=v[e];
if(Date.now()-this.a1_>100)this.gs.e({n:(d>>>16)/255,i:(d>>>8&255)/255,b:(d&255)/255})};at.prototype.fa=function(h,e){this.H=h;
if(this.oI==null)return;if(e==dq.AY||e==dq.Ih){this.oI.a7q(h.kc,h.kF);this.FN()}};at.prototype.eh=function(){this.vw()};
at.prototype.JI=function(){this.vw();this.FN()};function bJ(){b4.call(this,"CSS",!1,"---panels/css",b4.rF.CSS);
this.IU=null;var h=V.k("div","padded");this.lQ.appendChild(h);this.AR=V.k("textarea");V.JM(this.AR);
h.appendChild(this.AR)}bJ.prototype=new b4("");bJ.prototype.Kt=function(h,e){if(this.VA==h)return;this.VA=h;
V.v(this.AR,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(h-10)+"px; height:"+(e-10)+"px")};
bJ.prototype.eh=function(h){this.IU=h;this.FN()};bJ.prototype.fa=function(h,e){if(e==dq.Na)this.FN()};
bJ.prototype.FN=function(){var h=this.IU;if(h==null||h.X.length==0)return;if(!V.gl(this.lQ))return;var e=h.T[h.X[0]],v=CSS.a3j(e,h);
if(v.length!=0)this.AR.value=v.join(";\n")+";";else this.AR.value=""};bJ.prototype.JI=function(){this.FN()};
function hp(){b4.call(this,"Text to Image",!1,null,b4.rF.anL);this.IU=null;this.az=0;this.v3={};this.cl=null;
var h=["API Key","Generate"],e=this.qg=[new jE("Prompt",null,null,4),new eA([12,49],!0,null,!0)];e[0].e("goat riding a bike");
var v=V.k("div","form padded labfxd");this.lQ.appendChild(v);for(var J=0;J<e.length;J++){e[J].parent=this;
v.appendChild(e[J].Z);if(J==1)e[J].P("click",this.$G,this)}this.nN=V.k("div","scrollable");v.appendChild(this.nN);
this.a17=hp.prototype.aD8.bind(this)}hp.prototype=new b4("");hp.prototype.$G=function(){var h=this.qg,e=h[0].j().trim(),v=function(){var J=fu.av5(e,null,null,this.a17);
if(J==1)V.zZ(this.lQ,"disabled")}.bind(this);if(fu.nH(3))v();else fu.Wb(v)};hp.prototype.aD8=function(h){var e=this.qg;
V.t7(this.lQ,"disabled");var v={created:Math.round(Date.now()/1e3),data:[{b64_json:gI.nQ(h.target.response)}]},J=this.v3,m=e[0].j().trim();
if(J[m]==null)J[m]=[];J[m].push(v);fu.O5("Generate",3);this.FN()};hp.prototype.Kt=function(h,e){if(this.VA==h)return;
this.VA=h;this.lQ.style.width=h-16+"px";this.nN.style.height=e-190+"px"};hp.prototype.eh=function(h,e){this.IU=h;
if(h)this.az=e.indexOf(h);this.FN()};hp.prototype.S=function(h,e){b4.prototype.S.call(this);var v=this.qg,m=" target=\"_blank\" style=\"color:inherit;\">";
for(var J=0;J<v.length;J++)this.qg[J].S()};hp.prototype.FN=function(){var h=this.nN,e=this.v3;V.H5(h);
var v=[];for(var J in e){e[J].sort(function(u,N){return N.created-u.created});v.push([J,e[J]])}v.sort(function(u,N){return N[1][0].created-u[1][0].created});
var m=this.ajL.bind(this),d=this.cl=[[],[]];for(var T=0;T<v.length;T++){var J=v[T][0],x=v[T][1],j=V.k("div");
j.textContent=J;h.appendChild(j);for(var E=0;E<x.length;E++){var L=x[E].data;for(var p=0;p<L.length;
p++){var Z=L[p].b64_json,o=V.k("img");o.setAttribute("src","data:image/png;base64,"+Z);o.onclick=m;o.style.width=128/V.A_()+"px";
o.style.marginRight="4px";o.style.cursor="pointer";h.appendChild(o);d[0].push(o);d[1].push(L[p])}}}};
hp.prototype.ajL=function(h){var T=this.cl[0].indexOf(h.target),e=this.cl[1][T].b64_json,v=gI.iD(e);
ke.we({url:"file",az:this.az},v,this)};hp.prototype.JI=function(){this.FN()};function eZ(){b4.call(this,[9,6],!1,"---panels/info",b4.rF.amC);
V.v(this.lQ,"min-width:240px;");this.IU=null;this.H=null;this.m9=null;var h=this.fA=[];for(var e=0;e<3;
e++){var v=V.k("div","marged row");this.lQ.appendChild(v);var J=V.k("div","cell");V.v(J,"width:10em");
v.appendChild(J);var m=V.k("div","cell");V.v(m,"width:10em");v.appendChild(m);var d=[8,4,3][e];for(var T=0;
T<d;T++){var x=new cE("");h.push(x);x.e(0);x.Z.style.padding="0";var j=T<(e==1?2:4)?J:m;j.appendChild(x.Z);
V.Xp(j)}if(e<2)V.ja(this.lQ)}this.vv=h[8];this.ir=h[9];this.bQ=h[10];this.F_=h[11];V.ja(this.lQ);this.m9=V.k("div");
V.v(this.m9,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.lQ.appendChild(this.m9)}eZ.prototype=new b4("");
eZ.prototype._8=function(h,e,v,J,m){if(!V.gl(this.lQ)||h==null)return;var d=h.p.$$(m.x,m.y),x=new fq(Math.floor(d.x),Math.floor(d.y));
if(!m.fE){var j=0,E=0,L=0,p=0,Z=this.fA;if(!m.fE&&!h.ayc()&&new fP(0,0,h.q-1,h._-1).GX(x)){var o=h.pb(),T=h.q*x.y+x.x<<2;
j=o[T+0];E=o[T+1];L=o[T+2];p=o[T+3]}var u=B.Wu([j/255,E/255,L/255]);Z[0].e("R: "+j);Z[1].e("G: "+E);
Z[2].e("B: "+L);Z[3].e("A: "+p);Z[4].e("C: "+Math.round(u[0]*100)+"%");Z[5].e("M: "+Math.round(u[1]*100)+"%");
Z[6].e("Y: "+Math.round(u[2]*100)+"%");Z[7].e("K: "+Math.round(u[3]*100)+"%");var N=B.auy(j,E,L);Z[12].e("H: "+Math.round(N.qw*360)+"\xB0");
Z[13].e("S: "+Math.round(N.eL*100)+"%");Z[14].e("B: "+Math.round(N.b*100/255)+"%")}var M=h.p.e4>1?new fq(d.x,d.y):x;
this.vv.e("X: "+B.yu.U_(M.x,h.gx,v,h.q));this.ir.e("Y: "+B.yu.U_(M.y,h.gx,v,h._));this.i$()};eZ.prototype.i$=function(){var h=this.IU,e=this.H,v=0,J=0;
if(h&&e){if(h.p._C){v=h.p._C.q;J=h.p._C._}else if(h.K){v=h.K.R.q;J=h.K.R._}v=B.yu.U_(Math.abs(v),h.gx,e,h.q);
J=B.yu.U_(Math.abs(J),h.gx,e,h._)}this.bQ.e(bj.get([12,41]).charAt(0)+": "+v);this.F_.e(bj.get([12,42]).charAt(0)+": "+J)};
eZ.prototype.S=function(){b4.prototype.S.call(this);this.i$()};eZ.prototype.JI=function(){this.eh(this.IU,null,this.H)};
eZ.prototype.eh=function(h,e,v){this.IU=h;this.H=v;if(!V.gl(this.lQ))return;console.log("update");this.i$();
if(h&&h.X.length!=0){var J=h.X[0],m=h.T[J],d=hy.get(m.add)!=null,x=d&&h.X[0]>0;this.m9.innerHTML="";
for(var T=0;T<h.us.length;T++){var j=h.us[T],m=h.p.IK(j.x,j.y),E=c.ct.hY(h,m,1,x?1:2),L={n:E>>>16&255,i:E>>>8&255,b:E&255},M="<span style=\"display:inline-block; width:25px; text-align:right\">",O="</span>";
if(x){var p=h.X[0];h.X[0]=J-1;var Z=c.ct.hY(h,m,1,1),o={n:Z>>>16&255,i:Z>>>8&255,b:Z&255};h.X[0]=p}var u=V.k("div");
V.v(u,"padding: 0.5em 0.5em; width: 40%");var N="<b>#"+(T+1)+"</b>",F=[L.n,L.i,L.b],W=x?[o.n,o.i,o.b]:null,f=["R","G","B"];
for(var $=0;$<3;$++)N+="<br/>"+M+f[$]+O+": "+(x?M+W[$]+O+" /":"")+M+F[$]+O;u.innerHTML=N;this.m9.appendChild(u)}}};
function hZ(){b4.call(this,[9,1],!1,"---panels/layers",b4.rF.Yn);this.akS=null;this.K$=[];this.Zw=null;
this.qk=null;this.JW=V.k("div","lphead");this.I1=V.k("div","lpbody scrollable");this.I1.addEventListener("scroll",this.aBd.bind(this),!1);
this.A1=V.k("div","lpfoot");var h=this.a98=V.k("span");V.v(h,"display:inline-block; height:26px");this.JW.appendChild(h);
this.g2=new jV(null,cc.j$,cc.qE);this.g2.P(k.E.f,this.aCA,this);this.JW.appendChild(this.g2.Z);this.jb=new cs([12,0],0,100,"%",0);
this.jb.P(k.E.f,this.asz,this);this.jb.parent=this;this.JW.appendChild(this.jb.Z);this.JJ=new hR([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.JJ.P(k.E.f,this.afd,this);this.JW.appendChild(this.JJ.Z);this.EH=new cs([12,26],0,100,"%",0);this.EH.P(k.E.f,this.akg,this);
this.EH.parent=this;this.JW.appendChild(this.EH.Z);this.Ol=[];this.hM();if(jD==0)this.lQ.appendChild(this.JW);
this.lQ.appendChild(this.I1);this.I1.addEventListener("dragover",function(m){m.preventDefault()},!1);
this.I1.addEventListener("dragenter",V.wY,!1);this.I1.addEventListener("drop",this.a4Z.bind(this),!1);
this.lQ.appendChild(this.A1);this.lQ.addEventListener("contextmenu",V.wY,!1);if(jD==0)this.P("rclick",this.abr,this);
var e=function(m,d,T){return{Z7:this.Ex[T]==1}}.bind(this);if(jD==0){this.azC=new ar([{name:[0,6],m:e},{name:[14,10],m:e},{name:[6,57,2],m:e,jV:!0},{name:"Long-tap as a right click",m:e,jV:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",m:function(){return{Z7:ap.xd==0,m:!0}}},{name:"Thumbnails by Document",m:function(){return{Z7:ap.xd==1,m:!0}}}]);
this.azC.P("select",this.aA6,this)}this.Ex=[0,1,1,0];var v=window.locStor;if(v){var J=v.getItem("lpOpt");
if(J){J=JSON.parse(J);this.Ex=J[0];ap._o=J[1];ap.xd=J[2]}}this.aA6()}hZ.prototype=new b4("");hZ.zh=function(h){var e=h==null?0:h.X.length;
return{m:e!=0&&(e!=1||h.X[0]!=0)&&(e!=1||!h.T[h.X[0]].XN()||h.T[h.X[0]].oA()),se:bj.get(e>1||e==1&&h.T[h.X[0]].XN()?[6,12,0]:[6,10])}};
hZ.prototype.kW=function(){if(this.azw)return;var h=ct.xi(!0),e=ct.L$(!0);this.azw=new ar(h,e);var h=[{name:[14,10]},{name:[14,11],jV:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],jV:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",m:function(J){return{m:J.T[J.X[0]].add.SoLd!=null}},jV:!0},{name:[6,8],m:hZ.aBU},{name:[6,34],m:function(J){var m=J.T[J.X[0]];
return{m:m.add.lmfx!=null&&!m.XN()}}},{name:[6,40],jV:!0,m:function(J){var m=J.T[J.X[0]];return{m:m.add.TySh!=null}}},{name:"",jV:!0,m:function(J){var m=J.T[J.X[0]],d=m.add.TySh,x=d?d.lf:null;
return{m:d!=null&&x.Curve==null,se:bj.get(d&&fr.tO(x)==0?[16,3,1]:[16,3,0])}}},hZ.auJ(!1),ct.ay_(),{name:[6,12,0],m:hZ.zh},{name:[6,12,1],jV:!0},{name:[13,0],sub:function(){var J=[];
for(var T=0;T<kr.m3.length;T++)J.push({name:[13,1,T],mT:"#"+B.zF(kr.m3[T])});return J}()}],e=[{o:k.E.u,h:{V:k.l.Xq,dF:"layerstyle"}},{o:k.E.A,I:c.Wm,h:{V:"fromlayer",d9:[null,0,0]}},{o:k.E.A,I:c.Yn,h:{V:s.Zn}},{o:k.E.u,h:{V:k.l.Xq,dF:"duplinto"}},{o:k.E.A,I:c.Yn,h:{V:s.Zt}},{o:k.E.Fq,h:{UH:"newPlacedLayer"}},{o:k.E.A,I:c.Yn,h:{V:s.JA}},{o:k.E.Fq,h:{UH:"rasterizeLayer",TH:{classID:"rasterizeLayer",null:h8.$j("Lyr",!0)}}},{o:k.E.Fq,h:{UH:"rasterizeLayer",TH:{classID:"rasterizeLayer",null:h8.$j("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{o:k.E.A,I:c.Yn,h:{V:s.iC}},{o:k.E.A,I:c.HV,h:{V:"switchPntPrgr"}},{o:k.E.A,I:c.Yn,h:{V:s.QR}},ct.a4a(),{o:k.E.Fq,h:{UH:"mergeLayersNew",TH:{__name:"Merge Layers",classID:"Mrg2"}}},{o:k.E.Fq,h:{UH:"flattenImage"}},{sub:function(){var J=[];
for(var T=0;T<8;T++)J.push({o:k.E.A,I:c.Yn,h:{V:s.dO,aCW:T}});return J}()}];this.Nw=new ar(h,e);var h=[{name:[6,45],m:function(J){var m=J.T[J.X[0]];
return{m:m.o7(J).N==null}}},{name:[6,47]}],e=[{o:k.E.A,I:c.Yn,h:{V:s.Mp}},{o:k.E.A,I:c.Yn,h:{V:s.VQ}}];
this.aBJ=new ar(h,e);var h=[{name:"enab/disab",m:function(J){return{se:bj.get(J.T[J.X[0]].NH().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],m:function(J){return{m:J.kC(!1,!0)}}}],e=[{o:k.E.A,I:c.Yn,h:{V:s.KQ}},{o:k.E.A,I:c.Yn,h:{V:s.Of}},{o:k.E.A,I:c.Yn,h:{V:s.Lh}}];
this.arQ=new ar(h,e);var h=[{name:"enab/disab",m:function(J){return{se:bj.get(J.T[J.X[0]].o7(J).N.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],e=[{o:k.E.A,I:c.Yn,h:{V:s.CD}},{o:k.E.A,I:c.Yn,h:{V:s.A6}}];
this.aHc=new ar(h,e);var h=[{name:"enab/disab",m:function(J){return{se:bj.get(J.T[J.X[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],v={classID:"rasterizeLayer",null:h8.$j("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},e=[{o:k.E.A,I:c.Yn,h:{V:s.ul}},{o:k.E.Fq,h:c.Uk.ko(3)},{o:k.E.Fq,h:{UH:"rasterizeLayer",TH:v}}];
this.aCZ=new ar(h,e);this.aiv=new ar(ct.auO(!0),ct.CG(!0));this.aGA=new ar(ct.xi(),ct.L$())};hZ.prototype.aBd=function(h){var e=this.I1.scrollTop-600;
for(var T=0;T<this.K$.length;T++){var v=this.K$[T],J=v.yX;if(e<v.yX)v.anH();if(v.yX>e+this.qw+600)break}};
hZ.prototype.g8=function(){return this.azC};hZ.prototype.aA6=function(h){var e=this.Ex;if(h){var v=h.target.S9(),T=v[0];
if(T<4)e[T]=1-e[T];else if(T<6){if(T==4&&ap._o-10>=10)ap._o-=10;if(T==5&&ap._o+10<=200)ap._o+=10;if(this.Zw)this.Zw.L9=!0}else{if(T==6)ap.xd=0;
if(T==7)ap.xd=1;if(this.Zw)this.Zw.L9=!0}var J=window.locStor;if(J)J.setItem("lpOpt",JSON.stringify([e,ap._o,ap.xd]))}if(e[0]==1)this.a70();
var m=[[{Z:this.a98}],[this.g2,this.jb],[this.JJ,this.EH]];for(var T=0;T<3;T++)for(var d=0;d<m[T].length;
d++)m[T][d].Z.style.display=e[T]==1?"inline-block":"none";this.Kt(this.VA,this.qw)};hZ.prototype.ap1=function(){var h=this.tv;
if(h==null)return!1;if(h.j()){var e=this.pA.j(),v=this._0[e].j();if(e==0)return v.indexOf(!0)!=-1;if(e==1)return v!=""}return!1};
hZ.auJ=function(h){var e=function(J){var m=J!=null&&J.X.length!=0&&J.T[J.X[0]].ql;return{Z7:m,m:J!=null&&J.Qu(J.X[0]),h:{o:k.E.Fq,h:{UH:m?"ungroup":"groupEvent",TH:{classID:m?"Ungr":"GrpL",null:h8.$j("Lyr",!0)}}}}},v={name:[6,6,0],jV:!0,m:e};
if(h)v.vD=[dW.B2,dW.Dd,dW.Sz];return v};hZ.aBU=function(h,e){if(h)for(var T=0;T<h.X.length;T++){var v=h.T[h.X[T]];
if(v.add.TySh||v.add.SoLd||v.add.SoCo||v.add.GdFl||v.add.PtFl)return{m:!0}}return{m:!1}};hZ.prototype.a4Z=function(h){V.wY(h);
var e=h.dataTransfer.getData("Text"),v=1,J=0;if(e==""){V.Wt(h,this,this.qk.indexOf(this.Zw),J+(v>.5?0:1))}else if(e!="--panel"){var e=JSON.parse(e),m=e.R4;
if(m=="l")this.r6({V:s.UJ,source:e.tK,target:J,iw:v})}};hZ.prototype.abr=function(h){var e=this.Zw,v=h.data,m;
if(e.X.indexOf(v.L)==-1){var J={V:s.hg,L:h.target.Us.index,JX:v.TM};this.r6(J)}if(e.X.indexOf(v.L)==-1)return;
this.kW();if(v.TM==1){m=this.arQ}else if(v.TM==2){m=this.aCZ}else if(v.TM==3){m=this.aHc}else if(v.TM==4){m=this.aBJ}else if(v.TM==5){m=this.azw}else{m=this.Nw}m.S();
m.update(e);m.parent=this;var d=new g3(k.E.u,!0);d.data={V:k.l.Eu,nB:m,x:v.OL.x+1,y:v.OL.y+1};this.a(d)};
hZ.prototype.S=function(){b4.prototype.S.call(this);this.g2.S();this.jb.S();this.JJ.S();this.EH.S();
if(this.tv){this.tv.S();this._0[0].S()}if(this.Zw)this.eh(this.Zw);var h="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var T=0;T<this.Ol.length;T++){var e=this.Ol[T];e.Ao(V.pY(h[T],null,"miniscale"));if(T==1||T==3){e.Z.style.position="relative";
var v=V.k("img","gsicon");v.setAttribute("src",PIMG["tools/corner"]);V.v(v,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
e.Z.appendChild(v)}}};hZ.prototype.eh=function(h,e){if(h&&!h.L9)return;if(h==null)V.zZ(this.lQ,"disabled");
else V.t7(this.lQ,"disabled");this.Zw=h;this.qk=e;if(this.akS!=null){V.H5(this.I1);this.akS=null;this.K$=[]}if(h==null)return;
var v=!1;for(var T=0;T<h.Ar.length;T++)if(h.Ar[T].bx)v=!0;this.akS=new kr(h.root,this,h,{Rm:0,avM:!1},{a53:v,amD:this.ap1()},this.K$,0,new fP(0,0,h.q,h._));
if(h.X.length==0||h.T[h.X[0]]==null)V.zZ(this.JW,"disabled");else{V.t7(this.JW,"disabled");if(h.X.length==1&&h.vn){var J=h.X[0];
for(var T=0;T<this.K$.length;T++){var m=this.K$[T];if(m.Us.index==J&&m.JW.scrollIntoView)m.JW.scrollIntoView({block:"nearest"})}}var d=h.T[h.X[0]];
if(d.XN()){this.g2.VU([[15,10,27]].concat(cc.j$),[1].concat(cc.qE));var x=cc.El.indexOf(d.fR);this.g2.e(x+1)}else{this.g2.VU(cc.j$,cc.qE);
var x=cc.El.indexOf(d.fR);this.g2.e(x)}this.jb.e(Math.round(100*d.S2/255));this.JJ.e([d.o1(0),d.o1(1),d.o1(2),d.o1(31)]);
var j=h.qL();this.g2.Es(!j);this.EH.Es(!j);this.jb.Es(!j);this.JJ.Es(!(j&&!d.o1(31)));this.EH.e(Math.round(100*(d.add.iOpa!=null?d.add.iOpa/255:1)));
this.Ol[2].auZ(bj.get(d.NH()?[6,23]:[6,21]))}this.aBd(null)};hZ.prototype.Kt=function(h,e){this.VA=h;
this.qw=e;var v=this.JW.getBoundingClientRect().height;if(55<v&&v<56)v=60.2;var J=this.A1.getBoundingClientRect().height,m=e-(v+J+3);
this.I1.style.height=m+"px";this.I1.style.width=h+"px"};hZ.prototype.aCA=function(h){this.r6({V:s.ac,uO:this.g2.j()})};
hZ.prototype.asz=function(h){this.r6({V:s.Dw,uO:Math.round(255*this.jb.j()/100)})};hZ.prototype.afd=function(h){this.r6({V:s.RK,uO:[this.JJ.j(),[0,1,2,31]]})};
hZ.prototype.akg=function(h){this.r6({V:s.bO,uO:Math.round(255*this.EH.j()/100)})};hZ.prototype.UK=function(h){if(h.target==this.pA)this.a70();
var e=this.tv.j();if(e)V.t7(this.a3O,"disabled");else V.zZ(this.a3O,"disabled");this.S();this.Zw.L9=!0;
this.eh(this.Zw);this.Zw.L9=!1};hZ.prototype.a70=function(){var h=this.a3O;if(h==null){var e=this.a98,v=this.tv=new hJ([0,6]);
v.P(k.E.f,this.UK,this);e.appendChild(v.Z);h=this.a3O=V.k("span","disabled");e.appendChild(h);this.pA=new jV(null,["Kind",[12,48]],[]);
this.pA.P(k.E.f,this.UK,this);var J=this._0=[new hR(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new jE(null,null,8)];
J[0].P(k.E.f,this.UK,this);J[1].P("input",this.UK,this)}V.H5(h);h.appendChild(this.pA.Z);h.appendChild(this._0[this.pA.j()].Z)};
hZ.prototype.aep=function(h){this.kW();this.alS(h,this.aiv)};hZ.prototype.aw0=function(h){this.kW();
this.alS(h,this.aGA)};hZ.prototype.alS=function(h,e){var v=h.currentTarget;if(V.gl(e.Z))return;h.stopPropagation();
var J=v.getBoundingClientRect();e.S();e.update(this.Zw);e.parent=this;var m=new g3(k.E.u,!0);m.data={V:k.l.Eu,nB:e,x:J.left,y:J.top,aby:!0};
this.a(m)};hZ.prototype.a02=function(h){this.r6({V:s.aAj})};hZ.prototype.abq=function(h){this.r6({V:this.Zw.X.length>1?s.ha:s.B_})};
hZ.prototype.aw4=function(h){this.r6({V:s.yY})};hZ.prototype.aGJ=function(h){var e=this.Zw;if(e.X.length==0)return;
var v=e.T[e.X[0]],J=v.TM;this.r6({V:J<=0?v.xc?s.h5:s.Zt:J==3?s.A6:s.Of})};hZ.prototype.amX=function(h){this.r6({V:s.SR})};
hZ.prototype.r6=function(h){var e=new g3(k.E.A,!0);e.data=h;e.I=c.Yn;this.a(e)};hZ.prototype.hM=function(){var h=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],e=[this.amX,this.aw0,this.a02,this.aep,this.abq,this.aw4,this.aGJ],v=this.ahh.bind(this);
for(var T=0;T<h.length;T++){var J=new eA("W",!1,h[T]);this.Ol.push(J);V.La(J.Z,e[T].bind(this));if(jD==0||T>3&&T!=5)this.A1.appendChild(J.Z);
if(T>=h.length-3){var m=J.Z;m.addEventListener("drop",v,!1);m.addEventListener("dragover",function(d){d.preventDefault()},!1);
m.addEventListener("dragenter",V.wY,!1)}}};hZ.prototype.ahh=function(h){V.wY(h);var e=0,v=this.Ol;while(v[e].Z!=h.currentTarget)e++;
v[e].H2();var J=h.dataTransfer.getData("Text");if(J=="")return;var J=JSON.parse(J);if(J.R4=="l"){var m={V:[s.ha,s.Zn,s.Zt][e-4]};
if(this.Zw.X.indexOf(J.tK)==-1)m.L=J.tK;this.r6(m)}if(e!=6)return;if(J.R4=="sm"||J.R4=="s"){var d=new g3(k.E.A,!0);
d.I=c.MP;d.data={V:J.R4=="sm"?"st_clear":"st_delsingle",L:J.tK,tK:J.d1};this.a(d)}if(J.R4=="fm"||J.R4=="f"){this.r6({V:J.R4=="fm"?s.VQ:s.q9,src:J.tK,d1:J.d1})}if(J.R4=="m"||J.R4=="vm"){this.r6({V:J.R4=="m"?s.Of:s.h5,L:J.tK})}};
function kr(h,e,v,J,m,d,x,j){fx.call(this);this.parent=e;this.yX=x;this.Us=h;d.push(this);this.Zw=v;
this.ji=J;var E=e.I1,L=h.L,p=v.X.indexOf(h.index)!=-1,N=null;this.JW=V.k("div",p?"head selected":"head");
if(L.add.artb!=null){V.zZ(this.JW,"artb");j=L.AC()}var Z=this.afS=Math.floor(10+L.aGi/V.A_()),o="height: "+Z+"px;";
if(p&&m.a53)o+="background-color:rgba(255,50,50,0.4);";V.v(this.JW,o);this.g5=j;var u=this.amQ=this.ahs.bind(this),M=m.amD&&!this.a3_();
if(!M){if(h.depth!=0){E.appendChild(this.JW);x+=Z-.3}if(L.mV()||L.vO())if(L.Uo()){N=this.a8m=V.k("div","lpineck");
E.appendChild(N);if(L.mV()){N.addEventListener("contextmenu",u,!1);var O=new hZ.jm(bj.get([12,1]),"sm","layerstyle",h.depth,0,null);
x+=21;O.parent=this;N.appendChild(O.Z);var F=L.add.lmfx,W=F.masterFXSwitch.v;O.nP(W);for(var T=0;T<fL.order.length;
T++){var f=F[fL.oN[T]].v;if(f.length==0)continue;for(var $=0;$<f.length;$++){var O=new hZ.jm(bj.get(fL.names[T]),"s","layerstyle",h.depth,1,[T,$]);
x+=21;O.nP(W&&f[$].v.enab.v);O.parent=this;N.appendChild(O.Z)}}}if(L.vO()){var H=L.o7(v).N;if(H)this.Cx=V.k("div","thumb");
var O=new hZ.jm(bj.get([12,55]),"fm",null,h.depth,0,-1,H?this.Cx:null,Z);x+=H?Z:21;O.parent=this;N.appendChild(O.Z);
this.aeA=O.Z;this.aeA.addEventListener("contextmenu",u,!1);var F=L.add.SoLd.filterFX.v,A=F.filterFXList.v,W=F.enab.v;
O.nP(W);for(var T=A.length-1;T>=0;T--){var G=A[T].v,l=f8.FA(G);if(hy.Ec[l])l=hy.Ec[l];var K=G.Nm.v;if(f8.names[l])K=bj.get(f8.names[l]);
if(hy.names[l])K=bj.get(hy.names[l]);var U="afw_"+l,O=new hZ.jm(K,"f",U,h.depth,1,T);x+=21;O.nP(W&&G.enab.v);
O.parent=this;N.appendChild(O.Z)}}}}var z=L.add.lclr;if(z==null)z=0;z=z==0?J.Rm:kr.m3[z];this.alG=z;
if(L.XN()&&(L.add.lsct==d7.W$||m.amD)){var q={Rm:z,avM:J.avM||L.o1(31)};for(var T=h.children.length-1;
T>=0;T--){var P=new kr(h.children[T],e,v,q,m,d,x,j);x=P.ayU}}this.ayU=x}kr.prototype=new fx;kr.m3=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
kr.prototype.anH=function(){if(this.W4)return;var h=this.Us,e=h.L,v=this.Zw,J=this.ji,Z=!0,q=!1;h.lT(v,this.g5,!0);
var m=V.k("div","headL"),d=V.k("div","headR");this.JW.appendChild(m);this.JW.appendChild(d);var x=this.JW;
x.setAttribute("draggable","true");x.addEventListener("dragstart",this.wq.bind(this),!1);x.addEventListener("drop",this.Iu.bind(this),!1);
x.addEventListener("dragover",this.yq.bind(this),!1);x.addEventListener("dragenter",V.wY,!1);x.addEventListener("dragleave",this.sV.bind(this),!1);
var j=[],E=[null,null,null,null],L=e.oA(),p=h;while(p.parent){p=p.parent;L=L&&p.L.oA()}if(e.ql){for(var T=h.index-1;
T>=0;T--){var o=v.T[T];if(!o.ql){Z=o.oA();break}}}var u=e.oA()?L&&Z?2:1:0;this.W4=V.k("div");var N=V.k("div",u==0?"sqr":"eye");
this.W4.appendChild(N);N.style.opacity=[.12,.33,1][u];var M=V.k("div","space");this.hI=V.k("div","label");
V.v(this.hI,"max-width:calc(100% - "+(96+h.depth*20)+"px); margin-top:"+(this.afS-19)/2+"px;"+(e.FP?"text-decoration:underline;":""));
this.hI.textContent=e.getName();this.a10=V.k("div","lock");this.aDY=V.k("div","lrfx");this.eQ=V.k("div","arfx");
var O=this.amQ,F=this.adT.bind(this);this.JW.addEventListener("click",F,!1);this.JW.addEventListener("contextmenu",O,!1);
var W=this.alG;if(W!=0){var f=[W>>16,W>>8&255,W&255];for(var T=0;T<3;T++){f[T]="calc("+f[T]+"*0.7 + (var(--absc)) * 255 * 0.3)"}V.v(this.W4,"background-color:rgba("+f.join(",")+",1);")}var $=this.aEv.bind(this);
this.W4.addEventListener("mousedown",$,!1);this.W4.addEventListener("mouseover",$,!1);this.eQ.addEventListener("click",this.adD.bind(this),!1);
j[0]=this.W4;j[1]=M;j[10]=this.hI;if(e.XN()){var H=V.k("div","arrow"),A=V.k("div","folder");this.Gg(A);
H.addEventListener("click",this.aGT.bind(this),!1);j[2]=H;j[3]=A;H.className=e.add.lsct==d7.W$?"open":"closed"}else{this.QL=V.k("div","thumb");
j[5]=this.QL;kr.c5(this.QL,e.m6);this.Gg(this.QL);if(hy.get(e.add))V.zZ(e.m6.canvas,"gsicon")}var G=e.NH();
if(G){this.XZ=V.k("div","chain");this.gf=V.k("div","thumb");kr.c5(this.gf,e.Nc,!0);this.XZ.style.opacity=G.jA?1:0;
this.XZ.addEventListener("click",this.ap8.bind(this),!1)}var l=e.Yb()&&e.add.vmsk;if(e.add.vmsk&&!l){this.Rb=V.k("div","chain");
this.IB=V.k("div","thumb");kr.c5(this.IB,e.vM,!0);this.Rb.style.opacity=e.add.vmsk.jA?1:0;this.Rb.addEventListener("click",this.a4g.bind(this),!1)}if(e.vO()&&e.Uo()&&e.o7(v).N){kr.c5(this.Cx,e.Sk,!1);
this.Gg(this.Cx);this.Cx.addEventListener("click",F,!1);this.Cx.addEventListener("contextmenu",O,!1)}if(h.index==v.X[0]){var K=e.TM,U;
if(K<=0)U=this.QL;else if(K==1)U=this.gf;else if(K==3)U=this.Cx;if(U)U.className="thumb active";if(e.xc&&this.IB)this.IB.className="thumb active"}V.v(M,"width:"+Math.max(0,h.depth-1)*18+"px");
var z=e.add.lspf!=null&&e.add.lspf!=0||J.avM;this.a10.style.opacity=e.o1(31)?1:.5;j[4]=e.ql?V.k("div","clipp"):null;
j[6]=G?this.XZ:null;j[7]=G?this.gf:null;j[8]=e.add.vmsk&&!l?this.Rb:null;j[9]=e.add.vmsk&&!l?this.IB:null;
var P=e.sg,g=v.X;if(P!=0)for(var T=0;T<g.length;T++)if(v.T[g[T]].sg==P){q=!0;break}if(q){E[0]=V.k("div",e.ga?"link":"linkX");
E[0].addEventListener("click",this.arX.bind(this),!1)}E[1]=z?this.a10:null;E[2]=e.mV()?this.aDY:null;
E[3]=e.mV()||e.vO()?this.eQ:null;this.eQ.className=e.Uo()?"arfx open  gsicon":"arfx closed  gsicon";
var a=j;for(var T=0;T<a.length;T++)if(a[T])m.appendChild(a[T]);a=E;for(var T=0;T<a.length;T++)if(a[T])d.appendChild(a[T])};
kr.c5=function(h,e,v){var J=e.canvas;V.U3(J);if(v)h.setAttribute("draggable","true");h.appendChild(J);
V.v(J,J.getAttribute("style")+"; pointer-events:none")};kr.prototype.Gg=function(h){V.La(h,function(e){if(this.parent.Ex[3]==0)return;
V.dR(e);V.wZ(document.body,function(){clearTimeout(this.aBK)}.bind(this));this.aBK=setTimeout(function(){var v=new g3("rclick",!0);
v.data={L:this.Us.index,TM:this.TM(e),OL:V.IE(e,document.body)};this.a(v)}.bind(this),600)}.bind(this))};
kr.QJ=function(h,e){var v=e.getBoundingClientRect();return(h.clientY-v.top)/v.height};kr.prototype.wq=function(h){h.stopPropagation();
var e=h.target==this.gf?"m":h.target==this.IB?"vm":"l";h.dataTransfer.setData("Text",JSON.stringify({R4:e,tK:this.Us.index}))};
kr.prototype.sV=function(h){V.wY(h);this.Lj()};kr.prototype.Iu=function(h){V.wY(h);this.Lj();var e=h.dataTransfer.getData("Text"),v=this.parent.Zw,J=kr.QJ(h,this.JW),m=this.Us.index;
if(J>.8){var d=!0,x=v.root.Ix(m);while(x.parent!=null){var j=x.parent,E=j.children;if(E.indexOf(x)!=0)d=!1;
x=x.parent}if(d){m=0;J=1}}if(e==""){V.Wt(h,this,this.parent.qk.indexOf(v),m+(J>.5?0:1))}else if(e!="--panel"){var e=JSON.parse(e),L=e.R4;
if(L=="l")this.r6({V:s.UJ,source:e.tK,target:m,iw:J});else if(L=="m"||L=="vm")this.r6({V:L=="m"?s.ax8:s._B,src:e.tK,ix:m});
else kr.ask(h,e,this)}};kr.ask=function(h,e,v,J){var m=e.R4,d=v.Us.index,x=e.tK;if(m=="s"||m=="sm")v.r6({V:s.Ql,src:x,ix:d,d1:e.d1});
if(m=="f"||m=="fm")v.r6({V:s.ah8,src:x,ix:d,d1:e.d1,St:J==null?0:J})};kr.prototype.yq=function(h){V.wY(h);
var e=kr.QJ(h,this.JW),v=this.Us.L.XN()&&.5<e&&e<.8;this.Lj();var J="inset 0 "+(v?0:e>.5?-3:3)+"px "+(v?"6px":0)+" var(--text-color)";
this.JW.style.boxShadow=J};kr.prototype.Lj=function(h){this.JW.style.boxShadow=""};kr.alR=-1;kr.CQ=!1;
kr.arq=function(h){kr.CQ=!1;document.body.removeEventListener("mouseup",kr.arq)};kr.prototype.aEv=function(h){if(h.button!=0)return;
if(h.type=="mousedown"){kr.CQ=!0;document.body.addEventListener("mouseup",kr.arq,!1)}if(h.type=="mouseover"&&(!kr.CQ||kr.alR==this.Us.index))return;
V.wY(h);this.r6({V:s.KA,L:this.Us.index});kr.alR=this.Us.index};kr.prototype.aGT=function(h){V.wY(h);
this.r6({V:s.a9r,L:this.Us.index})};kr.prototype.ap8=function(h){this.r6({V:s.HI,L:this.Us.index})};
kr.prototype.a4g=function(h){this.r6({V:s.KZ,L:this.Us.index})};kr.my=0;kr.prototype.aM=function(h){this.r6({V:s.rg,L:this.Us.index,name:h})};
kr.prototype.adD=function(h){this.r6({V:s.a9A,L:this.Us.index})};kr.prototype.arX=function(h){this.r6({V:s.y2,L:this.Us.index})};
kr.prototype.ahs=function(h){if(h.button!=2&&!V.a0n(h)&&!(h.ctrlKey&&dW.hU()))return;var e=this.TM(h);
if(e!=3&&h.currentTarget==this.aeA)e=4;if(h.target==this.aDY||h.currentTarget==this.a8m)e=5;var v=new g3("rclick",!0);
v.data={L:this.Us.index,TM:e,OL:V.IE(h,document.body)};this.a(v)};kr.prototype.TM=function(h){var e=h.target,v=e;
return v==this.IB?2:v==this.gf?1:v==this.QL?0:v==this.Cx?3:-1};kr.prototype.adT=function(h){var e=h.target,u;
if(e==this.W4.firstChild||e==this.eQ||e==this.XZ||e==this.Rb||e.tagName&&e.tagName.toLowerCase()=="input")return;
var v=this.TM(h),J=this.parent.Zw,m=this.Us.index,d=J.T[m];if(e==this.a10){this.r6({V:s.RK,L:m,uO:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var x=kr.my,j=Date.now()-x<300;kr.my=Date.now();if(e==this.hI){if(j){this.JW.setAttribute("draggable","false");
var E=new b4.rR(this.hI,this.aM.bind(this))}else this.r6({V:s.hg,L:m,JX:v,pp:!0});return}if(jD==0&&h.button==0&&j){if(e==this.hI)return;
var L=new g3(k.E.A,!0),p=new g3(k.E.u,!0),Z=new g3(k.E.Fq,!0);if(v==0&&d.add.SoCo){var o=B.Vh.SL(d.add.SoCo.Clr.v);
p.data={V:k.l.Xq,dF:"colorpicker",Rm:o.n<<16|o.i<<8|o.b,sI:function(O){var F=B.Vh.WZ({b:O&255,i:O>>>8&255,n:O>>16&255});
F={classID:"null",Clr:{t:"Objc",v:F}};var W=new g3(k.E.A,!0);W.I=c.Yn;W.data={V:s.A0,oP:[m],zS:!0,J:{oH:1,ag:F}};
this.a(W)}.bind(this),kB:!0}}else if(v==0&&(hy.get(d.add)||d.add.SoCo||d.add.GdFl||d.add.PtFl))p.data={V:k.l.Os,dF:b4.rF.G8};
else if(v!=0&&v!=-1)p.data={V:k.l.Os,dF:b4.rF.G8};else if(v==0&&d.add.SoLd)Z.data={UH:"placedLayerEditContents",TH:{classID:"placedLayerEditContents"}};
else if(v==0&&d.add.TySh){L.I=c.HV;L.data={V:"editCurr",NP:m}}else p.data={V:k.l.Xq,dF:"layerstyle",L:m};
this.a(Z.data?Z:p.data?p:L);return}if(h.button!=0)return;if(v==1||v==3){var N=v==3?d.o7(J).N:d.NH();
u=N.bx?J.p.Y.join("")=="111"?1:2:0}var M={V:s.hg,L:m,JX:v,azo:u,pp:!0};this.r6(M)};kr.prototype.r6=function(h){var e=new g3(k.E.A,!0);
e.data=h;e.I=c.Yn;this.a(e)};kr.prototype.a3_=function(){var h=this.Us.L,e=h.add,v=this.parent.pA.j(),J=this.parent._0[v].j();
if(v==0){if(J[0]&&e.SoLd==null&&e.TySh==null&&h.t2())return!0;if(J[1]&&hy.get(e)!=null)return!0;if(J[2]&&e.TySh!=null)return!0;
if(J[3]&&e.vstk!=null)return!0;if(J[4]&&e.SoLd!=null)return!0;return!1}if(v==1)return h.getName().toLowerCase().indexOf(J.toLowerCase())!=-1};
hZ.jm=function(h,e,v,J,m,d,x,j){fx.call(this);this.aoW=e;this.aZ=v;this.index=d;this.Z=V.k("div","styleitem");
this.JW=V.k("div","head");this.aG4=null;if(e=="f"){var E=this.aG4=V.k("div","headR");E.textContent="\u2699";
this.JW.appendChild(E)}this.W4=V.k("div","eye gsicon");this.hI=V.k("div","label");this.Z.appendChild(this.JW);
this.JW.appendChild(this.W4);if(x){this.gf=x;this.JW.appendChild(x);V.v(this.JW,"height: "+j+"px")}this.hI.innerHTML=h;
V.v(this.Z,"margin-left: "+(24+J*16+m*22)+"px");this.JW.appendChild(this.hI);this.W4.addEventListener("click",this.amR.bind(this),!1);
var L=this.Z;L.setAttribute("draggable","true");L.addEventListener("dragstart",this.wq.bind(this),!1);
if(!0){L.addEventListener("drop",this.Iu.bind(this),!1);L.addEventListener("dragover",this.yq.bind(this),!1);
L.addEventListener("dragenter",V.wY,!1);L.addEventListener("dragleave",this.sV.bind(this),!1)}this.Z.addEventListener("click",this.ej.bind(this),!1)};
hZ.jm.prototype=new fx;hZ.jm.prototype.wq=function(h){h.stopPropagation();h.dataTransfer.setData("Text",JSON.stringify({R4:this.aoW,tK:this.parent.Us.index,d1:this.index}))};
hZ.jm.prototype.sV=function(h){V.wY(h);this.Lj()};hZ.jm.prototype.Iu=function(h){V.wY(h);this.Lj();var e=h.dataTransfer.getData("Text");
if(e=="")return;var e=JSON.parse(e);kr.ask(h,e,this.parent,this.index+(kr.QJ(h,this.JW)>.5?0:1))};hZ.jm.prototype.yq=function(h){V.wY(h);
var e=kr.QJ(h,this.JW)>.5;this.Lj();var v="border-"+(e?"bottom":"top");this.JW.style[v]="0.2em solid rgba(0,0,0,0.5)"};
hZ.jm.prototype.Lj=function(h){this.JW.style.border="none"};hZ.jm.prototype.nP=function(h){this.W4.style.opacity=h?1:.2};
hZ.jm.prototype.ej=function(h){var e=kr.my,v=Date.now()-e<300;kr.my=Date.now();if(h.target==this.W4)return;
var J=this.parent.Us.index;if(v&&this.aZ!=null){var J=this.parent.Us.index,m=new g3(k.E.u,!0);if(this.aZ.indexOf("afw_")==0){var d=this.aZ.slice(4),x=aE[d]||f8.F[d],j=h.target==this.aG4;
if(!j&&!x)return;m.data=c.TL.aiW(j?"blendOptions":d,{L:J,index:this.index})}else m.data={V:k.l.Xq,dF:this.aZ,L:J,index:this.index};
this.a(m)}else{if(h.target.className!="thumb")this.parent.r6({V:s.hg,L:J,JX:0})}};hZ.jm.prototype.amR=function(h){var e={fm:s.KJ,f:s.uw,sm:s.wi,s:s.Ur}[this.aoW];
this.parent.r6({V:e,L:this.parent.Us.index,index:this.index})};function iB(){b4.call(this,"Guide Guy",!1,"---panels/guideguy",b4.rF.ayu);
this.IU=null;this.dE=new jV(null,B.yu.Gw)}iB.prototype=new b4("");iB.prototype.vw=function(){this.fA=[];
var h=V.k("div","form padded");this.lQ.appendChild(h);V.v(h,"width:200px");this.lQ.appendChild(h);var e=V.k("canvas"),v=e.getContext("2d");
e.width=e.height=160;var J=[32,0,16,160,0,32,160,16,0,112,160,16],m="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),d=[0,0,0,0,0,0,0,0,0,0];
h.appendChild(this.dE.Z);for(var T=0;T<10;T++){v.clearRect(0,0,160,160);v.setTransform(1,0,0,1,80,80);
v.rotate((T&3)*Math.PI/2);v.translate(-80,-80);v.fillStyle="rgba(0,0,0,0.3)";if(T<4){for(var x=0;x<12;
x+=4){v.fillStyle=x==0?"#000000":"rgba(0,0,0,0.3)";v.fillRect(J[x],J[x+1],J[x+2],J[x+3])}}else if(T<6){var j=8*6;
v.fillRect(0,0,j,160);v.fillRect(8*7,0,j,160);v.fillStyle="#000000";v.fillRect(8*14,0,j,160)}else if(T<8){v.fillRect(0,0,16,160);
v.fillRect(160-16,0,16,160);v.fillRect(32,0,160-64,160);v.fillStyle="#000000";v.fillRect(32,80-8,160-64,8*1)}else{v.fillRect(0,0,8*7,160);
v.fillRect(8*13,0,160,160);v.fillStyle="#000000";v.fillRect(8*7,80-8,8*6,8*1)}var E="<img src=\""+e.toDataURL()+"\" class=\"autoscale gsicon\" /> ",L=new cs(E,0,200,null,T==4||T==5?0:2,null,null,4,m[T]);
L.parent=this;L.P(k.E.f,this.ast,this);L.e(d[T]);L.S();this.fA.push(L);h.appendChild(L.Z)}var p=[[11,14],[11,15,0]];
this.Og=[];for(var T=0;T<p.length;T++){var Z=new eA(p[T],!0,null,!0);this.Og.push(Z);Z.P("click",this.Sg,this);
h.appendChild(Z.Z)}for(var T=0;T<6;T++){v.setTransform(1,0,0,1,80,80);v.rotate(Math.floor(T/3)*Math.PI/2);
v.translate(-80,-80);v.clearRect(0,0,160,160);v.fillStyle="rgba(0,0,0,0.3)";v.fillRect(0,0,160,160);
v.clearRect(16,16,128,128);v.fillStyle="#000000";var o=T%3;v.fillRect([0,9,18][o]*8,0,16,160);var E="<img src=\""+e.toDataURL()+"\" class=\"autoscale gsicon\" /> ",Z=new eA(E,!1,null,!1);
this.Og.push(Z);Z.P("click",this.Sg,this);h.appendChild(Z.Z)}};iB.prototype.S=function(){b4.prototype.S.call(this);
this.dE.S();if(this.fA==null)return;for(var T=0;T<this.Og.length;T++)this.Og[T].S()};iB.prototype.ast=function(h){var e=this.fA,v=e.indexOf(h.target),J=Math.floor(v/2),m=v&1,d=[];
for(var T=0;T<4;T++)d.push(e[2*T+m].j());var x=-1;if(J==2&&d[2]!=0&&d[3]!=0&&d[4]!=0)x=4;if(J==3&&d[3]!=0&&d[2]!=0&&d[4]!=0)x=4;
if(J==4&&d[4]!=0&&d[2]!=0&&d[3]!=0)x=3;if(x!=-1)e[2*x+m].e(0)};iB.prototype.Sg=function(h){var e=this.IU,v=this.Og.indexOf(h.target),J=[[],[]];
if(e==null)return;var m=e.K?e.K.R:new fP(0,0,e.q,e._),d=m.q,x=m._;if(v==0){var j=[[],[]],E=this.dE.j();
for(var T=0;T<this.fA.length;T++){var L=this.fA[T].j();L=B.yu.e$(L,e.gx,(T&1)==0?e.q:e._,E);j[T&1].push(L)}var p=[iB.aeP(j[0],m.x,m.x+d),iB.aeP(j[1],m.y,m.y+x)];
J=iB.ht(p);c.Pj.bF(J,e.XX())}else if(v==1){}else{v-=2;var Z=Math.floor(v/3),p=[[],[]];p[Z].push([m.x,m.x+d/2,m.x+d,m.y,m.y+x/2,m.y+x][v]);
J=iB.ht(p);c.Pj.bF(J,e.XX())}this.ag7(J)};iB.ht=function(h){var e=[],v=[];for(var J=0;J<2;J++)for(var T=0;
T<h[J].length;T++){e.push([J,h[J][T]]);v.push(-1)}return[e,v]};iB.prototype.asb=function(h){var e=this.ad7.indexOf(h.target)};
iB.prototype.ag7=function(h){var e=new g3(k.E.A,!0);e.I=c.GA;e.data={V:"gids",qR:h};this.a(e)};iB.aeP=function(h,e,v){var J=[],m=h[2],d=h[3],x=h[4],j=0;
if(m==0)j++;if(d==0)j++;if(x==0)j++;if(j>1&&m==0&&d==0){if(h[0]!=0)J.push(e+h[0]);if(h[1]!=0)J.push(v-h[1]);
return J}var E=v-e-h[0]-h[1];if(m==0){if(x==0){m=Math.floor(E/d);x=(E-m*d)/(m-1)}else{m=1;while(d*m+x*(m-1)+d+x<=E)m++}}else if(m!=0&&d!=0){if(m*d>E)m=Math.floor(E/d);
x=(E-m*d)/(m-1)}J.push(e+h[0],v-h[1]);var d=(E-x*(m-1))/m;for(var T=1;T<m;T++){if(x==0)J.push(e+h[0]+T*d);
else J.push(e+h[0]+T*d+(T-1)*x,e+h[0]+T*d+T*x)}return J};iB.prototype.eh=function(h,e,v){this.IU=h};
iB.prototype.JI=function(){if(V.gl(this.lQ)&&this.fA==null)this.vw();this.S()};iB.prototype.fa=function(h){this.dE.e(h.Kd.XB)};
function aA(){b4.call(this,[9,2],!1,"---panels/properties",b4.rF.G8);this.abk=null;this.Zw=null;this.H=null;
this.aee=-1;this.aF=null}aA.prototype=new b4("");aA.prototype.Kt=function(h,e){this.VA=h;this.qw=e;h=h-16;
e=e-30;var v=this.aF;if(v){v.style.width=h+"px";v.style.height=e+"px";for(var T=0;T<3;T++)this.a9d[T].Kt(h-12,e)}};
aA.prototype.vw=function(){this.aF=V.k("div","padded scrollable");this.lQ.appendChild(this.aF);var h=V.k("span");
this.aF.appendChild(h);this.FS=[new eA([0,3]),new eA([12,73]),new eA([12,91,0])];for(var T=0;T<this.FS.length;
T++){var e=this.FS[T];e.P("click",this.avm,this);h.appendChild(e.Z);if(T==2)e.Z.style.marginRight="0"}this.aF.appendChild(V.k("hr"));
this.rp=new aA.yT;this.rp.parent=this;this.Zx=new aA.cq;this.Zx.parent=this;this.Lr=new aA.Hg;this.Lr.parent=this;
this.a9d=[this.rp,this.Zx,this.Lr];this.aF.appendChild(this.rp.Z);this.A1=V.k("div","lpfoot");this.lQ.appendChild(this.A1);
this.Ol=[];for(var T=0;T<3;T++){var e=new eA("W");e.P("click",this.xR,this);this.Ol.push(e);this.A1.appendChild(e.Z)}this.Kt(this.VA,this.qw)};
aA.prototype.xR=function(h){var T=this.Ol.indexOf(h.target),e=new g3(k.E.A,!0);e.I=c.Yn;if(T==0)e.data={V:s.QR};
if(T==1)e.data={V:s.KA};if(T==2)e.data={V:s.Zt};this.a(e)};aA.prototype.avm=function(h){var T=this.FS.indexOf(h.currentTarget);
this.oB(T);this.ahE(T==1?this.Zx.o_:-1)};aA.prototype.oB=function(h){for(var T=0;T<3;T++){this.FS[T].H2();
var e=this.a9d[T].Z;if(e.parentNode==this.aF&&T!=h)this.aF.removeChild(e);if(e.parentNode!=this.aF&&T==h)this.aF.appendChild(e)}this.FS[h].vU()};
aA.prototype.ahE=function(h){var e=this.Zw.X[0],v=this.Zw.T[e],J=h+1;if(h==1&&v.xc)return;var m=new g3(k.E.A,!0);
m.I=c.Yn;if(h!=1&&v.xc){m.data={V:s.hg,L:e,JX:2};this.a(m)}m.data={V:s.hg,L:e,JX:J};this.a(m)};aA.prototype.S=function(){b4.prototype.S.call(this);
if(this.aF==null)return;this.eh(this.Zw);for(var T=0;T<3;T++){this.FS[T].S();this.a9d[T].S()}gM.ME(this.Ol,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
aA.prototype.JI=function(){if(!V.gl(this.lQ))return;if(this.aF==null){this.vw();this.fa(this.H,dq.AY);
this.eh(this.abk);this.S()}};aA.prototype.eh=function(h){this.abk=h;if(this.aF==null)return;this.rp.eh(h);
this.Zx.eh(h);this.Lr.eh(h);if(h==null||h.X.length==0||h.T[h.X[0]]==null){V.zZ(this.lQ,"disabled");this.Zw=null;
return}else V.t7(this.lQ,"disabled");var e=h.X[0],v=h.T[e];this.Ol[0].e(v.ql);this.Ol[1].e(v.oA());var J=h.rx(),m=J[0],d=J[1];
if(d.length!=0){var x=m[d[0]],j=x.add.vogk,E=!1;if(j)for(var T=0;T<j.length;T++){var L=j[T].v;if(!B.WU.fd(L))continue;
E=!0;e=x.yl}}e+=","+E;if(h!=this.Zw||this.aee!=e){this.Zw=h;this.aee=e;if(E)this.oB(2);else if(v.TM<1&&!v.xc||hy.get(v.add))this.oB(0);
else this.oB(1)}this.FS[1].Es(this.Zx.o_!=-1);this.FS[2].Es(E)};aA.prototype.fa=function(h,e){this.H=h;
if(this.rp)this.rp.fa(h,e);if(this.Lr)this.Lr.fa(h,e)};aA.yT=function(){fx.call(this);this.Z=V.k("div","form");
this.aoK=new cE("Hello");this.ff=new eA([1,12,2],null,null,!0);this.ff.Z.style.arf="right";this.ff.P("click",this.xp,this);
this.Z.appendChild(this.aoK.Z);this.Z.appendChild(this.ff.Z);this.rv=null;this.aD2=null;this.Zw=null;
this.H=null;this.a0w=-1;this.a4T=null;this.a8y=null;this._U=new bU(0,!0,!0);this._U.parent=this;this._U.P(k.E.f,this.aq1,this);
this.Z.appendChild(this._U.Z);this.r8=new iE(!0);this.r8.parent=this;this.r8.P(k.E.f,this.a9F,this);
this.a8=V.k("div","marged hiline");this.a8.appendChild(this.r8.Z);this.UD=new jk("GrFl",!0);this.UD.parent=this;
this.UD.P(k.E.f,this.aED,this);this.n_=V.k("div","marged hiline");var h="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var T=0;T<h.length;T++){var e=this.UD.GO[h[T]].Z;this.n_.appendChild(e)}this.At=new jk("patternFill",!0);
this.At.parent=this;this.At.P(k.E.f,this.aay,this);this.qX=V.k("div","marged hiline");var h=["Ptrn","Angl","Scl","Algn","phase"];
for(var T=0;T<h.length;T++){var e=this.At.GO[h[T]].Z;this.qX.appendChild(e)}this.Wx={};for(var v in hy.names){if(aE[v]==null)continue;
this.Wx[v]=new aE[v];this.Wx[v].P(k.E.f,this.aar,this);this.Wx[v].parent=this}var J=this.air=V.k("div","marged hiline");
this.Ir=new bU(0,!0);J.appendChild(this.Ir.Z);this.Ir.P(k.E.f,this.Wq,this);this.aoo=null;this.c2=new a6;
this.c2.parent=this;this.c2.P(k.E.f,this.Wq,this);J.appendChild(this.c2.Z)};aA.yT.prototype=new fx;aA.yT.prototype.aq1=function(h){var e=this._U.j(),v=this.a8y,J=new fP(e[0],e[1],e[2],e[3]);
if(J.lS(v))return;this.a8y=J;var m=new g3(k.E.A,!0);if(v.q==J.q&&v._==J._){m.I=c.GA;m.data={V:"trsl",Vx:J.x-v.x,N6:J.y-v.y}}else{m.I=c.Li;
m.data={V:"scl",SQ:[2,4],J:new fq(J.q/v.q,J._/v._),o5:0}}this.a(m)};aA.yT.prototype.Kt=function(h,e){var v=this.Wx;
for(var J in v)v[J].Kt(h,e)};aA.yT.prototype.xp=function(h){var e=this.Zw,v=e.T[e.X[0]],J=hy.get(v.add);
this.aD2.e(f8.UX(J));this.aar()};aA.yT.prototype.S=function(){for(var h in this.Wx)this.Wx[h].S();this.UD.S();
this.At.S();this.c2.S();this.Ir.S();this.ff.S();this._U.S()};aA.yT.prototype.Wq=function(h){var e=new g3(k.E.A,!0),v=this.Ir.j(),J=this.aoo;
if(h.target==this.Ir&&v[2]==J[2]&&v[3]==J[3]){e.I=c.GA;e.data={V:"trsl",Vx:v[0]-J[0],N6:v[1]-J[1]}}else{var m=s.BT(new fP(v[0],v[1],v[2],v[3])),d=this.c2.a8i();
d.artboardRect={t:"Objc",v:m};var x=this.Zw,j=x.T[x.X[0]],E=j.add.artb.guideIndeces;if(E)d.guideIndeces=B.t(E);
e.I=c.Yn;e.data={V:s.KC,Ea:d}}this.a(e)};aA.yT.prototype.a9F=function(h){var e=this.Zw,v=e.X[0];if(e.T[v].add.SoCo==null)return;
var J=B.t(e.T[v].add.SoCo);J.Clr.v=this.r8.j();this.Zj({oH:1,ag:J})};aA.yT.prototype.aED=function(h){var e=this.Zw,v=e.X[0];
if(e.T[v].add.GdFl==null)return;this.Zj({oH:2,ag:this.UD.j()})};aA.yT.prototype.aay=function(h){this.Zj({oH:3,ag:this.At.j()})};
aA.yT.prototype.Zj=function(h){this.aHZ(c.Yn,{V:s.A0,oP:[this.Zw.X[0]],zS:!0,J:h})};aA.yT.prototype.aar=function(h){this.aHZ(c.EM,{V:"edit_layer",J:this.aD2.j()})};
aA.yT.prototype.aHZ=function(h,e){var v=new g3(k.E.A,!0);v.I=h;v.data=e;this.a(v)};aA.yT.prototype.eh=function(h,e){var v=bj.get([0,3]),J=!1,m=!1,d=null;
this.Zw=h;if(h&&h.T.length>0&&h.X.length!=0&&h.T[h.X[0]]){var x=h.T[h.X[0]],j=hy.get(x.add);if(j!=null&&this.Wx[j]!=null){d=this.Wx[j].Z;
this.aD2=this.Wx[j];this.Wx[j].e(B.t(x.add[j]));if(h.X[0]!=this.a0w){var E=h.pb(h.X[0]-1);this.a4T=B.AH(E)}this.Wx[j].Y9(this.a4T);
v=bj.get(hy.names[j]);J=!0}if(j==null&&x.add.artb==null){var L=this.a8y=B.w.jg(c.L2.YO(h));m=!L.EG();
var p=h.fQ();L.x-=p.x;L.y-=p.y;this._U.e([L.x,L.y,L.q,L._],[h.gx,h.q,this.H.Kd.XB])}if(x.add.SoCo){d=this.a8;
this.r8.e(x.add.SoCo.Clr.v);v=bj.get([6,48,0,0])}if(x.add.GdFl){d=this.n_;this.UD.update(h,x.add.GdFl);
v=bj.get([6,48,0,1])}if(x.add.PtFl){d=this.qX;this.At.update(h,x.add.PtFl);v=bj.get([6,48,0,2])}if(x.add.artb){var Z=x.add.artb,o=x.AC();
d=this.air;this.c2.abJ(Z);var u=this.aoo=[o.x,o.y,o.q,o._];this.Ir.e(u,[h.gx,h.q,this.H.Kd.XB]);v=bj.get([1,16,0])}this.a0w=h.X[0]}if(d!=this.rv){if(this.rv)this.Z.removeChild(this.rv);
if(d!=null)this.Z.appendChild(d);this.rv=d}this.aoK.e(v);this.ff.Z.style.display=J?"":"none";this._U.Z.style.display=m?"":"none"};
aA.yT.prototype.fa=function(h,e){this.H=h;this.UD.fa(h,e);this.At.fa(h,e);if(e==dq.xo)this.eh(this.Zw,h);
for(var v in this.Wx)this.Wx[v].fa(h,e)};aA.cq=function(){fx.call(this);this.Z=V.k("div","form");this.Zw=null;
this.o_=0;var h=V.k("span","fitem");this.Z.appendChild(h);this.FS=[new eA([6,2]),new eA([6,3]),new eA([6,50])];
for(var T=0;T<this.FS.length;T++){var e=this.FS[T];e.P("click",this.a4b,this);h.appendChild(e.Z)}this.xV=new ci([12,74],0,255);
this.xV.P(k.E.f,this.ow,this);this.Z.appendChild(this.xV.Z);this.Nu=new ci([7,6],0,500,"px",2,!0);this.Nu.P(k.E.f,this.ow,this);
this.Z.appendChild(this.Nu.Z);this.akh=new eA([4,11],null,null,!0);this.akh.P("click",this.a7o,this)};
aA.cq.prototype=new fx;aA.cq.prototype.a7o=function(){var h=new g3(k.E.A,!0);h.I=c.EM;h.data={V:"start",yo:"nvrt"};
this.a(h)};aA.cq.prototype.ow=function(h){var e=this.xV.j(),v=this.Nu.j(),J=new g3(k.E.A,!0);J.I=c.Yn;
J.data={V:s.Fc,Eq:this.Zw.X[0],YH:{Oa:this.o_,xV:e,Nu:v}};this.a(J)};aA.cq.prototype.S=function(){for(var T=0;
T<this.FS.length;T++)this.FS[T].S();this.xV.S();this.Nu.S();this.akh.S()};aA.cq.prototype.eh=function(h){this.Zw=h;
this.aD()};aA.cq.prototype.a4b=function(h){this.aD(this.FS.indexOf(h.currentTarget));this.parent.ahE(this.o_)};
aA.cq.prototype.aD=function(h){var e=this.Zw,v=this.FS;for(var T=0;T<3;T++){var J=v[T];J.H2();J.VZ()}if(e==null||e.T.length==0||e.X.length==0||e.T[e.X[0]]==null)return;
var m=-1,d=e.T[e.X[0]];if(d.vO()&&d.o7(e).N!=null){v[2].kE();m=2}if(d.add.vmsk){v[1].kE();m=1}if(d.NH()){v[0].kE();
m=0}if(h!=null)m=h;else if(d.xc)m=1;else if(d.TM==3)m=2;else if(d.TM==1)m=0;this.o_=m;if(m==-1){this.xV.VZ();
this.Nu.VZ();return}var x=d.yD(m);this.xV.kE();this.Nu.kE();this.xV.e(x.xV);this.Nu.e(x.Nu);v[m].vU();
var j=this.akh.Z;if(m==0)this.Z.appendChild(j);else if(j.parentNode==this.Z)this.Z.removeChild(j)};aA.Hg=function(){fx.call(this);
this.Z=V.k("div","form");this.IU=null;this.H=null;this.eg=-1;this._U=new bU(0,!1);this.Gq=new ci([12,15],-180,180,"\xB0",2);
this.dj=new bU(1,!0);this.JL=new ci([12,94,0],0,100,null,2);this.jc=new ci([12,78],3,30);this._7=new eA(["\u279C  ",[12,76,0]],null,null,!0);
this._U.P(k.E.f,this.BL,this);this.Gq.P(k.E.f,this.BL,this);this.dj.P(k.E.f,this.BL,this);this.JL.P(k.E.f,this.BL,this);
this.jc.P(k.E.f,this.BL,this);this._7.P("click",this.BL,this)};aA.Hg.prototype=new fx;aA.Hg.prototype.S=function(){this._U.S();
this.Gq.S();this.dj.S();this.JL.S();this.jc.S()};aA.Hg.prototype.BL=function(h){var e=this.IU,v=B.WU.s6(e),J=h.target.j(),m=[this._U,this.Gq,this.dj,this.JL,this.jc,this._7].indexOf(h.target);
if(m==0){var d=e.fQ(),x=[],j=x[0]=J[0]+d.x,E=x[1]=J[1]+d.y;x[2]=j+J[2];x[3]=E+J[3];J=x}if(m==1)J=J*Math.PI/180;
var L={0:1,1:2,2:3,3:3,4:4}[m];v[L]=J;var p=new g3(k.E.A,!0);p.I=c.Yn;p.data={V:s.W7,J:v,are:m==5};this.a(p)};
aA.Hg.prototype.eh=function(h){var e=this.Z;this.IU=h;if(h==null)return;var v=this.H,J=[h.gx,h.q,v.Kd.XB],m=B.WU.s6(h),d=m[0],x=m[1];
if(x==null)return;var j=d!=this.eg;this.eg=d;if(j)V.H5(e);if(j)e.appendChild(this._U.Z);if(j)e.appendChild(this.Gq.Z);
var E=h.fQ();this._U.e([x[0]-E.x,x[1]-E.y,x[2]-x[0],x[3]-x[1]],J);this.Gq.e(m[2]*180/Math.PI);if(d==2){if(j)e.appendChild(this.dj.Z);
var L=m[3];this.dj.e(L,J)}if(d==7||d==8){if(j)e.appendChild(this.JL.Z);this.JL.e(m[3])}if(d==8){if(j)e.appendChild(this.jc.Z);
this.jc.e(m[4])}e.appendChild(this._7.Z)};aA.Hg.prototype.fa=function(h,e){this.H=h;this.eh(this.IU)};
function cn(h){b4.call(this,h.name,!0);this.Zw=h;this.H=null;this.eX=new c8(this.lQ);this.eX.parent=this}cn.prototype=new b4;
cn.GY=function(){var h=document.createElement("canvas"),e=document.createElement("canvas"),v=16,J=B.U(16*16*4);
B.ts(J,v,v,8);var m=B.scale.$U(J,v,v);return{sj:h,a8G:e,L1:h.getContext("2d",{willReadFrequently:!0}),a5k:e.getContext("2d"),Nk:m}}();
cn.prototype.a1k=function(){if(this.Zw.XQ())return window.confirm(bj.get([22,6,3])+" "+this.Zw.name+". "+bj.get([22,6,4]));
return!0};cn.prototype.fa=function(h,e){this.H=h};cn.prototype.eh=function(h){this.JI();this.FN()};cn.prototype.Kt=function(h,e){if(h<=0||e<=0)return;
this.VA=h;this.qw=e;var v=this.Zw,J=cn.GY,m=V.A_();v.p.L1.q=Math.floor(h*m);v.p.L1._=Math.floor(e*m);
V.xX(J.sj,h,e);V.xX(J.a8G,h,e);V.xX(fM.Ut(),h,e);if(v.p.e4==0)v.p.e4=c.lM.FT(v.q,v._,h*m,e*m);this.FN()};
cn.prototype.JI=function(){var h=this.lQ.firstChild,e=cn.GY,v=fM.QX&&jD==0;if(!v&&h==fM.Ut()||v&&h==e.sj)this.lQ.removeChild(h);
var J=v?fM.Ut():e.sj;if(!V.gl(J))this.lQ.appendChild(J)};cn.prototype.FN=function(){if(this.H==null)return;
var h=this.Zw,e=fM.QX&&jD==0;if(e)this.atm();else this.KV()};cn.prototype.atm=function(){if(fM.QX&&cn.ajp==null){var h=cn.ajp=[],e=[0,2,8,32,128];
for(var T=0;T<5;T++)h[T]=[new cn.Ev(!1,e[T],!1),new cn.Ev(!0,e[T],!1)];h.push([new cn.Ev(!1,0,!0),new cn.Ev(!0,0,!0)])}var v=this.Zw,J=cn.GY,N,F=0,l,K;
if(v.Pq==null)return;var m=v.p,d=m.L1.q,x=m.L1._,j=fM.h_;J.L1.clearRect(0,0,d,x);var E=this.au_(v);if(m.p5==null||m.p5.q!=d||m.p5._!=x)m.p5=new fM.Em(d,x);
if(E){var L=Date.now(),p=x,Z=new Uint8Array(J.L1.getImageData(0,0,d,p).data.buffer);m.p5.set(Z,new fP(0,0,d,p));
this.jk=!0}else if(this.H.rM){if(this.jk){fM.qH(m.p5);fM.w$(1);this.jk=!1}var o=B.yu.ma,Z=new Uint8Array(v.p.MY.data.buffer);
m.p5.set(Z,new fP(0,0,o,x));var Z=new Uint8Array(v.p.j4.data.buffer);m.p5.set(Z,new fP(0,0,d,o));var Z=new Uint8Array(J.L1.getImageData(0,x-o,d,o).data.buffer);
m.p5.set(Z,new fP(0,x-o,d,o));this.jk=!0}else if(this.jk){fM.qH(m.p5);fM.w$(1);this.jk=!1}var u=m.IK(0,0);
if(cn.ajw==null)cn.ajw=new Float32Array(4*1024);var M=[0,0,0,0],O=cn.ajw;if(v.add.artd){O.fill(0);M=cn.$C(v);
var W=v.q,f=v._,G=0;for(var T=0;T<v.T.length;T++){var $=v.T[T],H=$.add.artb;if(H==null||!$.oA())continue;
var A=$.AC();O[F]=A.x/W;O[F+1]=A.y/f;O[F+2]=A.q/W;O[F+3]=A._/f;F+=4;if(F==O.length)break}if(F>2*4)G++;
if(F>8*4)G++;if(F>32*4)G++;N=cn.ajp[G+1];O=new Float32Array(O.buffer,0,[2,8,32,128][G]*4)}else N=cn.ajp[v.m8?5:0];
var U=v.n0();if(U==null)N=N[0];else{N=N[1];K=U[v.add.fcmy==1?6:4];l=U[2]}fM.akX(d,x);fM.w$(0);fM.akX(d,x);
N.mS();var z=new aJ;z.scale(d,x);z.concat(m.MJ(!0));z.scale(1/v.q,1/v._);var q=[z.DR,z.b,0,z.tg,z.l_,0,z.TO,z.bZ,1];
N.hQ(m.p5.nS,v.Pq.nS,new Float32Array(q),new Float32Array([d/8,x/8,u.x/d,u.y/x]),v.q,v._,1/v.p.e4,d,x,new Float32Array(M),O,new Float32Array(B.$c.nc(B.$c.acE(m.Y))),K,l);
j.drawArrays(j.TRIANGLES,0,6)};cn.$C=function(h){return[0,0,0,0]};cn.a8P=function(h){var e=B.Vh.SL(h.v),v=[e.n/255,e.i/255,e.b/255,1];
for(var T=0;T<4;T++)v[T]=Math.min(1,v[T]);return v};cn.FW=function(h,e){var v=h[2]*255;if(fM.QX)v=e?0:Math.max(2,v);
return"rgba("+h[0]*255+","+h[1]*255+","+v+","+h[3]+")"};cn.d8=function(h){var e=h.length;if(fM.QX)for(var T=0;
T<e;T+=4){if(h[T+2]==0)h[T+2]=3}};cn.prototype.KV=function(){var h=this.Zw,e=cn.GY;if(jD==0&&h.buffer==null)return;
var v=h.p,J=v.L1,m=J.q,d=J._,x=new fP(0,0,h.q,h._);e.a5k.clearRect(0,0,m,d);e.L1.clearRect(0,0,m,d);
var j=h.add.prvw==0;if(jD==1&&j){e.L1.fillStyle="white";e.L1.fillRect(-5e3,-5e3,2e4,2e4)}var E=v.MJ(!0),L=E.O();
L.ia();if(h.add.artd==null){e.L1.save();var p=L.w7(new fq(0,0));L.translate(-p.x,-p.y);e.L1.translate(Math.round(p.x),Math.round(p.y));
e.L1.fillStyle=jD==0?e.Nk:"#ffffff";if(h.m8)e.L1.fillRect(-5e3,-5e3,2e4,2e4);else{var Z=h.add.arts;if(jD==1)for(var T=0;
T<Z.length;T++){var o=B.w.oS(Z[T].Fv);this.Qj(B.w.Tp(o),L,e.L1);if(j)e.L1.stroke();else e.L1.fill()}else{this.Qj(B.w.Tp(x),L,e.L1);
e.L1.fill()}}e.L1.restore()}else{e.L1.fillStyle=cn.FW(cn.$C(h));e.L1.fillRect(0,0,m,d);e.L1.save();e.L1.setTransform(L.DR,L.b,L.tg,L.l_,L.TO,L.bZ);
var u=h.root.children;for(var T=0;T<u.length;T++){var N=u[T].L;if(N.add.artb==null||!N.oA())continue;
var M=N.AC(),O=N.BE();if(O!=0)continue;e.L1.fillStyle=e.Nk;e.L1.save();e.L1.scale(1/v.e4,1/v.e4);e.L1.fillRect(v.e4*M.x,v.e4*M.y,M.q*v.e4,M._*v.e4);
e.L1.restore()}e.L1.restore()}if(v._E.length!=J.$()){v._E=B.U(J.$());v.f4=B.U(J.$()*4)}v.f4.fill(0);
if(jD==1){var L=v.MJ(!0);L.ia();e.L1.save();var F=B.w.Tp(v.L1);B.w.C(F.g,v.MJ(!0),F.g);var o=B.w.Ob(F.g);
e.L1.setTransform(L.DR,L.b,L.tg,L.l_,L.TO,L.bZ);h.root._5(h,e.L1,this.H,o);e.L1.restore()}else{B.scale.aBO(h.buffer,x,E,v.f4,J,h.m8);
var W=h.n0();if(W)ICC.U.applyLUT(W[h.add.fcmy==1?5:3],W[2],v.f4,v.f4);if(v.Y[0]+v.Y[1]+v.Y[2]!=3)B.$c.a9G(v.f4,v.f4,B.$c.acE(v.Y));
e.a5k.putImageData(new ImageData(new Uint8ClampedArray(v.f4.buffer),J.q,J._),0,0);e.L1.drawImage(e.a8G,0,0);
e.L1.getImageData(0,0,1,1)}this.au_(h)};cn.prototype.au_=function(h){var e=h.p,v=e.Y[0]+e.Y[1]+e.Y[2],J=cn.GY,m=!1,d=[];
for(var T=0;T<h.X.length;T++){var x=h.T[h.X[T]];if(x==null)continue;var j=x.TM;if(j!=1&&j!=3)continue;
var E=j==1?x.NH():x.o7(h).N;if(E.bx)d.push(E)}for(var T=0;T<h.Ar.length;T++)if(h.Ar[T].bx)d.push(h.Ar[T]);
for(var T=0;T<d.length;T++){var E=d[T];this.acY(E,e,d.length==1&&v==0?2:1,E.color,E.Rm);m=!0}var L=this.H;
m=this.ah5(h,J.L1,e,d.length!=0)||m;if(h.K&&L.I7&&L.Kd.mi){this.acY(h.K,e,0,0,null);m=!0}return m};cn.prototype.acY=function(h,e,v,J,m){var d=0;
if(m)d=Math.round(m.b)<<16|Math.round(m.i)<<8|Math.round(m.n);var x=e.MJ(!0),j=e.L1,E=new fP(0,0,e.Zw.q,e.Zw._),L=cn.GY;
if(e.f4==null||e.f4.length!=j.$()*4){e._E=B.U(j.$());e.f4=B.U(j.$()*4)}e._E.fill(J);e.f4.fill(0);var p=h.G,Z=h.R;
B.scale.C(p,Z,x,e._E,j);if(v==0){var o=new Uint32Array([4278190080,4294967295]);cn.d8(new Uint8Array(o.buffer));
B.K.aqu(e._E,e.f4,j,o,V.A_()>1.9)}else{var u=Date.now();B.K.akf(e._E,e.f4,j,v,d);cn.d8(e.f4)}var N=new ImageData(new Uint8ClampedArray(e.f4.buffer),j.q,j._);
L.a5k.putImageData(N,0,0);L.L1.save();if(v!=0){var M=new fP(0,0,E.q,E._),O=x.O();O.ia();this.Qj(B.w.Tp(M),O,L.L1);
L.L1.clip()}L.L1.drawImage(L.a8G,0,0);L.L1.restore()};cn.prototype.ah5=function(h,e,v,J){var m=h.M.rj!=null||h.M.Qd!=null||h.M.GW!=null||h.M.Yp!=null||h.M.Cj!=null||h.M.AF!=null||h.M.ud.length!=0||h.M.xT.length!=0,d=this.H,x=d.Kd,j=i4.je[d.YC],E=Math.round(12*V.A_()),L=E/h.p.e4,p=v.MJ(!0);
p.ia();e.save();e.setTransform(p.DR,p.b,p.tg,p.l_,p.TO,p.bZ);var Z=cn.$C(h)[0];Z=Z<.5?Z+.5:Z-.5;Z=""+Math.round(Z*255).toString(16);
while(Z.length<2)Z="0"+Z;e.font=L+"px sans-serif";if(h.add.artd){e.fillStyle="#"+Z+Z+Z;for(var T=0;T<h.T.length;
T++){var o=h.T[T];if(o.add.artb==null||!o.oA())continue;var u=o.AC();e.save();e.beginPath();e.rect(u.x,u.y-2*L,u.q,2*L);
e.clip();e.fillText(o.getName(),u.x+2,u.y-L*.7);e.beginPath();e.restore();m=!0}}if(h.add.arts&&d.jR==c.ly){var N=h.add.arts;
for(var T=0;T<N.length;T++){var u=N[T],M=B.w.oS(u.Fv),O=(T+1+"").padStart(2,"0");O+=" - "+u.pQ;e.save();
e.beginPath();e.fillStyle=u.X?"#cce6ff":"#dddddd";e.rect(M.x,M.y,e.measureText(O).width+L,L*1.5);e.fill();
e.fillStyle="black";e.fillText(O,M.x+L/2,M.y+L*1.1);e.restore()}m=!0}function F(bz){return bz==1||bz==2||bz==4||bz==5}var W=cn.FW([.3,.5,1,1]),f=cn.FW([1,1,1,1]);
if(d.I7&&x.H0){e.fillStyle=e.strokeStyle=W;e.lineWidth=1.5/v.e4;var $=h.rx(),H=$[0],A=$[1];for(var G=0;
G<A.length;G++){var o=H[A[G]],l=o.add.vmsk,K=l.z,U=B.w._i(K);this.Qj(U,null,e);e.stroke();m=!0;var z=3*V.A_()/v.e4;
for(var T=0;T<l.sf.length;T++){var q=B.s.aaY(K,l.sf[T]);if(q==null)continue;var P=q.x,g=q.y;e.beginPath();
var a=T==0;if(l.WM)a=!a;if(a){e.moveTo(P-z,g-z);e.lineTo(P+z,g+z);e.moveTo(P-z,g+z);e.lineTo(P+z,g-z);
e.stroke()}else{e.arc(P,g,z*1,0,2*Math.PI);e.fill()}m=!0}if(h.X.length!=1)continue;var w=-1,y=-1,S=-1;
for(var T=0;T<K.length;T++){if(K[T].c>5)continue;if(K[T].c==0||K[T].c==3){y=T+1;S=K[T].length;if(K[T].Jb!=-1)w++;
continue}if(l.X.indexOf(w)!=-1){var P=K[T].Q.x,g=K[T].Q.y;e.fillRect(P-z*.8,g-z*.8,2*z*.8,2*z*.8)}if(l.Ez.indexOf(T)!=-1){var i=K[T],C=[i.Q];
e.beginPath();e.moveTo(i.NA.x,i.NA.y);e.lineTo(i.Q.x,i.Q.y);e.lineTo(i.Xb.x,i.Xb.y);var Y=y+(T+S-y-1)%S,_=y+(T+S-y+1)%S,t=K[Y],I=K[_];
if(t&&F(t.c)&&l.Ez.indexOf(Y)==-1){e.moveTo(t.Q.x,t.Q.y);e.lineTo(t.Xb.x,t.Xb.y);C.push(t.Xb)}if(I&&F(I.c)&&l.Ez.indexOf(_)==-1){e.moveTo(I.Q.x,I.Q.y);
e.lineTo(I.NA.x,I.NA.y);C.push(I.NA)}e.stroke();if(!i.Q.lS(i.NA))C.push(i.NA);if(!i.Q.lS(i.Xb))C.push(i.Xb);
for(var r=0;r<C.length;r++){var q=C[r],P=q.x,g=q.y;if(r==0&&(i.c==2||i.c==5))e.fillRect(P-1.2*z,g-1.2*z,2.4*z,2.4*z);
else{e.beginPath();e.arc(P,g,z*1.2,0,2*Math.PI);e.fill();if(r!=0)e.fillStyle=f;e.beginPath();e.arc(P,g,z*.8,0,2*Math.PI);
e.fill();e.fillStyle=W}}}m=!0}}}e.lineWidth=1/v.e4;if(h.M.Il){e.fillStyle=e.strokeStyle=W;var I={g:[],WQ:[]},n=cn.a5z;
if(n==null){n=cn.a5z={g:[1,0],WQ:["M"]};for(var T=1;T<30;T++){var Q=Math.PI*2*T/30;n.g.push(Math.cos(Q),Math.sin(Q));
n.WQ.push("L")}n.WQ.push("Z","M","L","M","L");n.g.push(-.5,0,.5,0,0,-.5,0,.5)}for(var T=0;T<h.M.Il.length;
T++){var t=c.sz.ad0(h.M.Il[T],v),D=new aJ(t[0],0,0,t[0],t[1],t[2]);B.w.concat(I,n,D)}this.Qj(I,null,e);
e.stroke();m=!0}var dG=new aJ(1,0,0,1,.5/v.e4,.5/v.e4);if(h.m8){e.fillStyle=e.strokeStyle=W;var I={g:[0,0,h.q,0,h.q,h._,0,h._],WQ:["M","L","L","L","Z"]};
this.Qj(I,dG,e);e.stroke();m=!0}if(h.M.Z2){e.fillStyle=e.strokeStyle=cn.FW([0,0,0,.5]);this.Qj(h.M.Z2,null,e,!0);
e.fill("evenodd")}e.strokeStyle=W;e.fillStyle=f;if(h.M.GW){this.Qj(h.M.GW,dG,e);e.stroke()}if(h.M.Cj){this.Qj(h.M.Cj,dG,e);
e.lineWidth=V.A_()*3.5/v.e4;e.stroke()}var R=cn.DW(h.M.Sm,e,v);e.fill();e.stroke();m=m||R;e.fillStyle=e.strokeStyle=cn.FW([0,0,0,fM.QX&&jD==0?1:.5],!0);
if(h.M.rj){this.Qj(h.M.rj,null,e);e.fill()}if(h.M.Qd){this.Qj(h.M.Qd,dG,e);e.stroke()}for(var X in h.M.$u)if(h.M.$u[X].Qd){this.Qj(h.M.$u[X].Qd,null,e);
e.stroke();m=!0}var R=cn.DW(h.M.S0,e,v);e.stroke();m=m||R;if(h.M.Yp){this.Qj(h.M.Yp,dG,e);e.strokeStyle="rgba(0,0,0,0.5)";
e.lineWidth=V.A_()*2.5/v.e4;e.stroke();e.strokeStyle="white";e.lineWidth=V.A_()*2/v.e4;e.stroke()}if(h.M.LK.length+h.M.Sx.length+h.M.V9.length!=0){m=!0;
e.fillStyle=f;cn.zP(h.M.LK,e,v,6);e.fill();cn.zP(h.M.Sx,e,v,6);e.fill();e.fillStyle=W;cn.zP(h.M.LK,e,v,4);
e.fill();cn.zP(h.M.V9,e,v,4);e.fill();e.fillStyle=cn.FW([.7,.7,.7,1]);cn.zP(h.M.Sx,e,v,4);e.fill()}if(h.M.ud.length!=0){for(var T=0;
T<h.M.ud.length;T++){var dx=h.M.ud[T],jv=dx[1],gB;if(J){gB=e.getImageData(jv.x,jv.y,jv.q,jv._);B.B.lU("norm",dx[0],jv,new Uint8Array(gB.data.buffer),jv,jv,1)}else gB=new ImageData(new Uint8ClampedArray(dx[0].buffer),jv.q,jv._);
e.putImageData(gB,jv.x,jv.y)}}var hQ=.5/v.e4;e.lineWidth=1/v.e4;if(h.M.gb){m=!0;var ah=h.M.gb,kG=ah.M1,U={WQ:[],g:[]};
for(var T=0;T<ah.QD.length;T++)B.w.concat(U,B.w.Tp(ah.QD[T]));U.g=U.g.concat(kG);for(var T=0;T<kG.length;
T+=4){U.WQ.push("M","L")}for(var T=0;T<U.g.length;T++){U.g[T]+=hQ}e.strokeStyle=cn.FW([.9,.2,.2,1]);
this.Qj(U,null,e);e.stroke();var iZ=V.A_(),bs=2/v.e4;e.font=L*.9+"px sans-serif";for(var T=0;T<kG.length;
T+=4){var P=kG[T],g=kG[T+1],ey=kG[T+2],jp=kG[T+3],eh=Math.sqrt((jp-g)*(jp-g)+(ey-P)*(ey-P));eh=B.yu.U_(eh,h.gx,d,g==jp?h.q:h._);
var dt=new fq((P+ey)/2,(g+jp)/2);e.fillStyle=cn.FW([.9,.2,.2,1]);var jN=e.measureText(eh).width;e.fillRect(dt.x-jN/2-bs*iZ,dt.y-3.5*bs*iZ,jN+2*bs*iZ,7*bs*iZ);
e.fillStyle=cn.FW([1,1,1,1]);e.save();e.translate(dt.x-jN/2,dt.y+2*bs*iZ);e.scale(.1,.1);e.font=L*9+"px sans-serif";
e.fillText(eh,0,0);e.restore()}}if(d.I7){if(x.vt&&h.p.e4>10&&jD==0){this.ts(h,e,1,1,.25,x.aj,16777215);
m=!0}if(x.bT){var jX=B.yu.e$(x.KS,h.gx,h.q,x.Iq),jw=jX;if(x.Iq==4)jw*=h._/h.q;this.ts(h,e,jX,jw,1,x.aj,x.da);
m=!0}if(x.nT){var i7=h.XX(),kn=h.uG(),eK=Math.max(h.p.L1.q,h.p.L1._)/h.p.e4;eK=Math.max(Math.max(h.q,h._)*2,eK);
for(var T=0;T<i7[0].length;T++){var ee=i7[0][T],az=i7[1][T];if(az!=-1&&az!=kn)continue;var k7=v.IK(ee[1],ee[1]),al=v.$$(Math.floor(k7.x)+.5,Math.floor(k7.y)+.5),kl=B.UY(az==-1?x.Gl:x.HM);
kl=[kl.n/255,kl.i/255,kl.b/255,1];e.beginPath();e.strokeStyle=cn.FW(kl);if(ee[0]==0){var b9=al.x;e.moveTo(b9,-eK);
e.lineTo(b9,eK)}else{var h9=al.x;e.moveTo(-eK,h9);e.lineTo(eK,h9)}e.stroke();m=!0}}var ge=h.us;if(ge.length>0&&d.jR==c.ajW){var jv=7/h.p.e4,iN=jv/3,a8=jv*4;
e.strokeStyle=e.fillStyle="black";for(var T=0;T<ge.length;T++){var dK=ge[T];e.fillRect(dK.x-.5*iN,dK.y-.5*a8,iN,a8);
e.fillRect(dK.x-.5*a8,dK.y-.5*iN,a8,iN);e.lineWidth=2.5/h.p.e4;e.beginPath();e.arc(dK.x,dK.y,jv,0,2*Math.PI);
e.stroke();e.font=1.9*jv+"px serif";e.lineWidth=1.25/h.p.e4;e.strokeText(""+(T+1),dK.x+.75*jv,dK.y+2.5*jv)}m=!0}var f6=h.Ys;
if(x.Ys&&f6.length!=0){e.font=L*.8+"px sans-serif";var fS=[],cf=[];for(var T=0;T<f6.length;T++){var iG=c.E5.P8(f6,T);
fS.push(iG);if(h.ek.indexOf(T)!=-1)cf.push(iG)}fS.reverse();var eC=Date.now();fS=B.R.agU([0,0,h.q,h._],fS);
for(var r=0;r<2;r++)for(var T=0;T<fS.length;T++){var kH=fS[T],w=kH[4],S=w!=null?f6[w]:null;if(S&&r==0||S==null&&r==1)continue;
var P=Math.round(kH[0]),g=Math.round(kH[1]),ey=Math.round(kH[2]),jp=Math.round(kH[3]);e.strokeStyle=e.fillStyle=cn.FW(S?[0,.7,.7,1]:[.8,.8,.8,1]);
e.strokeRect(P+hQ,g+hQ,ey-P,jp-g);var i0=T+1,e5=e.measureText(i0),jN=e5.width;e.fillRect(P,g,jN+L/2,L);
e.fillStyle=cn.FW([1,1,1,1]);e.fillText(i0,P+L/4,g+L*.8)}var bs=2/h.p.e4,gA=2*bs;for(var T=0;T<cf.length;
T++){var kH=cf[T],P=Math.round(kH[0]),g=Math.round(kH[1]),ey=Math.round(kH[2]),jp=Math.round(kH[3]);
e.strokeStyle=e.fillStyle=cn.FW([1,.6,0,1]);e.strokeRect(P+hQ,g+hQ,ey-P,jp-g);var bW=[P,g,ey,g,ey,jp,P,jp];
for(var e3=0;e3<bW.length;e3+=2){var b9=bW[e3],h9=bW[e3+1],iL=bW[e3+2&7],h4=bW[e3+3&7];e.fillRect(b9-bs,h9-bs,gA,gA);
e.fillRect(Math.round((b9+iL)/2)-bs,Math.round((h9+h4)/2)-bs,gA,gA)}}m=!0}var iT=h.add.Anno;if(iT&&iT.length!=0)for(var T=0;
T<iT.length;T++){var hC=iT[T],kl=hC[2],b9=hC[0]-hQ,h9=hC[1]-hQ,gA=30/v.$B,dS=.4*gA,il=.6*gA;e.beginPath();
e.moveTo(b9,h9+il);e.lineTo(b9,h9);e.lineTo(b9+gA,h9);e.lineTo(b9+gA,h9+gA);e.lineTo(b9+dS,h9+gA);e.closePath();
e.lineTo(b9+dS,h9+il);e.lineTo(b9+dS,h9+gA);if(T==h.p.UF){e.lineWidth*=5;e.strokeStyle=cn.FW([0,0,0,.5]);
e.stroke();e.lineWidth/=5}e.fillStyle=cn.FW([kl.n/255,kl.i/255,kl.b/255,1]);e.fill();e.strokeStyle=cn.FW([0,0,0,1]);
e.stroke()}}e.strokeStyle=cn.FW([1,0,0,1]);if(h.M.AF){this.Qj(h.M.AF,dG,e);e.stroke()}e.restore();if(d.rM){if(h.p.j4==null||h.p.j4.width!=h.p.L1.q||h.p.MY.height!=h.p.L1._){h.p.j4=new ImageData(h.p.L1.q,B.yu.ma);
h.p.MY=new ImageData(B.yu.ma,h.p.L1._)}var j=i4.je[d.YC],i6=0,co=0,bH=h.q,b5=h._;if(h.uG()!=-1){var u=h.T[h.uG()].AC();
i6=u.x;co=u.y;bH=u.q;b5=u._}i6*=v.e4;co*=v.e4;var v=h.p,ej=[1,h.gx,h.gx/2.54,h.gx/25.4,bH/100][x.XB],id=v.e4*h.q/2,dH=v.e4*h._/2,hA=[v.e4*ej,new fq(v.d.x+(i6+id*ej-id),v.d.y+(co+dH*ej-dH))];
if(x.XB==4)ej*=b5/bH;var fn=[v.e4*ej,new fq(v.d.x+(i6+id*ej-id),v.d.y+(co+dH*ej-dH))],d3=this.eX.FQ;
B.yu.aiD(v,j["--text-color"],j["--bg-input"],Math.floor(d3.x),Math.floor(d3.y),hA,fn,x.XB==1?8:10);var hF=fJ.aFj(v.e4,cn.FW([1,1,1,1]),h.q,h._);
cn.d8(h.p.MY.data);cn.d8(h.p.j4.data);e.putImageData(h.p.MY,0,0);e.putImageData(h.p.j4,0,0);e.putImageData(hF,0,h.p.L1._-hF.height)}if(h.M.xT.length!=0){for(var T=0;
T<h.M.xT.length;T++){var dx=h.M.xT[T],jv=dx[1];e.putImageData(new ImageData(new Uint8ClampedArray(dx[0].buffer),jv.q,jv._),jv.x,jv.y)}}return m};
cn.prototype.ts=function(h,e,v,J,m,d,x){while(v*h.p.e4<4){v*=2;J*=2}var j=h.q,E=h._,L=.5/h.p.e4;x=B.UY(x);
e.strokeStyle=cn.FW([x.n/255,x.i/255,x.b/255,m],!1);e.save();e.rect(0,0,j,E);e.clip();e.beginPath();
for(var p=0;p<=j;p+=v){e.moveTo(p+L,0);e.lineTo(p+L,E)}if(d==0){for(var Z=0;Z<=E;Z+=J){e.moveTo(0,Z+L);
e.lineTo(j,Z+L)}}else{J*=Math.sqrt(4/3);var o=J*Math.floor(j/J),u=j*(J/(2*v));for(var Z=-o;Z<=E+o;Z+=J){e.moveTo(0,Z);
e.lineTo(j,Z-u);e.moveTo(0,Z);e.lineTo(j,Z+u)}}e.stroke();e.restore()};cn.zP=function(h,e,v,J){e.beginPath();
var m=J*V.A_()/v.e4,d=!1;for(var T=0;T<h.length;T+=2){d=!0;var x=h[T],j=h[T+1];e.moveTo(x+m,j);e.arc(x,j,m,0,2*Math.PI)}return d};
cn.DW=function(h,e,v,J){e.beginPath();var m=(J?J:1)*(4*V.A_()+.5)/v.e4,d=!1;for(var T=0;T<h.length;T+=2){d=!0;
var x=h[T],j=h[T+1];e.rect(x-m,j-m,2*m,2*m)}return d};cn.ro=function(h,e,v,J){v.beginPath();if(J)v.rect(-1e5,-1e5,1e6,1e6);
var m=h;if(e){m=B.w.O(h);B.w.C(m.g,e,m.g)}Typr.U.pathToContext({cmds:m.WQ,crds:m.g},v)};cn.prototype.Qj=cn.ro;
cn.Ev=function(h,e,v){fM.A4.call(this);var J=this.ac0=e!=0,m=v?"true":"in01(sCoord)",d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(h?"uniform sampler2D lut;  uniform float N;  "+fM.dN.afO:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(J?"uniform vec4 bgClr;  uniform vec4 ars["+e+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+fM.dN.ajA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(v?"-floor(sCoord)":"")+"); \t\t\t\t"+(h?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(J?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+e+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+m+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+m+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",x="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.j1(d,x)};cn.Ev.prototype=new fM.A4;cn.Ev.prototype.hQ=function(h,e,v,J,m,d,x,j,E,L,p,Z,o,u){this.fj("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var N=fM.h_,M=this.kP;N.uniformMatrix3fv(M.tmat,!1,v);N.uniform4fv(M.gsize,J);N.uniform3f(M.contSizeZoom,m,d,x);
N.uniform2f(M.cnvSize,j,E);N.uniformMatrix4fv(M.ctrn,!1,Z);if(this.ac0){N.uniform4fv(M.ars,p);N.uniform4fv(M.bgClr,L)}N.uniform1i(M.source,0);
N.uniform1i(M.target,1);N.activeTexture(N.TEXTURE0);N.bindTexture(N.TEXTURE_2D,h);N.activeTexture(N.TEXTURE1);
N.bindTexture(N.TEXTURE_2D,e);if(o){N.uniform1f(M.N,u);N.uniform1i(M.lut,2);N.activeTexture(N.TEXTURE2);
N.bindTexture(N.TEXTURE_2D,o.nS);var O=N.LINEAR;N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,O);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,O)}N.activeTexture(N.TEXTURE0)};function fd(){b4.call(this,[9,7],!1,"---panels/layercomps",b4.rF.avn);
V.v(this.lQ,"min-width:240px;");this.Zw=null;this.gN=-1;this.K$=[];this.I1=V.k("div","scrollable");this.I1.style.height="160px";
this.lQ.appendChild(this.I1);this.A1=V.k("div","lpfoot");this.lQ.appendChild(this.A1);this.Og=[];var h=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],e=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var T=0;T<h.length;T++){var v=h[T];if(T>0)v="<img src=\""+PIMG[h[T]]+"\" class=\"miniscale gsicon\" />";
var J=new eA(v,!1,e[T]);J.P("click",this.aaW,this);this.A1.appendChild(J.Z);this.Og.push(J)}}fd.prototype=new b4("");
fd.prototype.Kt=function(h,e){V.v(this.lQ,"width:"+(h-2)+"px;");this.I1.style.height=e-28+"px"};fd.prototype.r6=function(h){var e=new g3(k.E.A,!0);
e.data=h;e.I=c.sE;this.a(e)};fd.aqM="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
fd.prototype.aaW=function(h){var T=this.Og.indexOf(h.currentTarget)-1;if(T==-1){var e=new g3(k.E.u,!0);
e.data={V:k.l.M7,Ds:fd.aqM};this.a(e);return}if(T!=1)if(this.gN==-1)return;this.r6({V:["updLC","addLC","delLC"][T],yl:this.gN});
if(T==2)this.gN=-1};fd.prototype.S=function(){b4.prototype.S.call(this);for(var T=0;T<this.Og.length;
T++)this.Og[T].S()};fd.prototype.eh=function(h){if(h==null)V.zZ(this.lQ,"disabled");else V.t7(this.lQ,"disabled");
this.Zw=h;V.H5(this.I1);if(h==null)return;var e=h.bW.lastAppliedComp?h.bW.lastAppliedComp.v:0,v=h.bW.list.v.slice(0);
v.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var T=0;T<v.length;
T++){var J=v[T].v,m=new g1(J.Nm.v,J.compID.v,J.capturedInfo.v,e,this.gN);m.P("activate",this.zJ,this);
m.parent=this;this.I1.appendChild(m.Z);this.K$.push(m)}};fd.prototype.zJ=function(h){this.gN=h.currentTarget.yl;
this.eh(this.Zw)};function g1(h,T,e,v,J){fx.call(this);this.yl=T;this.Z=V.k("div","head listitem"+(T==J?" selected":""));
var m=T==v,d=new eA(m?"\u2713":"\u2014");if(m)d.vU();this.Z.appendChild(d.Z);d.P("click",this.FC,this);
var x=this.VY=V.k("span");x.textContent=h;this.Z.appendChild(x);this.Og=[];if(T!=0){this.Z.addEventListener("mouseup",this.zJ.bind(this),!1);
this.Y5=V.k("span","headR");this.Z.appendChild(this.Y5);var j=["lrs/eye","pos","lrs/fx"],E=["Visibility","Position","Appearance"];
for(var L=0;L<j.length;L++){var p=new eA("<img src=\""+PIMG[j[L]]+"\" class=\"autoscale gsicon\" />",!1,E[L]);
if((e>>L&1)==0)V.v(p.Z,"opacity:0.3");p.P("click",this.asK,this);this.Y5.appendChild(p.Z);this.Og.push(p)}}}g1.prototype=new fx;
g1.prototype.zJ=function(h){if(h.target!=this.VY&&h.target!=this.Z)return;if(h.detail==1)this.a(new g3("activate",!1));
else{var e=new b4.rR(this.VY,this.aM.bind(this))}};g1.prototype.asK=function(h){var T=this.Og.indexOf(h.currentTarget);
this.r6({V:"editLC",a5c:T,yl:this.yl})};g1.prototype.aM=function(h){this.r6({V:"editLC",Di:h,yl:this.yl})};
g1.prototype.FC=function(h){this.r6({V:"setLC",yl:this.yl})};g1.prototype.r6=function(h){var e=new g3(k.E.A,!0);
e.data=h;e.I=c.sE;this.a(e)};function cy(){b4.call(this,[9,11],!1,"---panels/navigator",b4.rF.aEE);var h=this.lQ;
V.zZ(h,"padded");V.v(h,"cursor:grab;");this._y=V.k("canvas");h.appendChild(this._y);V.Xp(h);V.zY(this._y);
V.La(this._y,this.bq.bind(this));this.Xd=new bQ(null,2,6400,"%",null,!0);this.Xd.P(k.E.f,this.ae3,this);
h.appendChild(this.Xd.Z);this.aA5=this.Cd.bind(this);this.akV=this.KY.bind(this);this.IU=null;this.z_=null;
this.uh=!1}cy.prototype=new b4("");cy.prototype.Kt=function(h,e){this.VA=h*1.2;this.qw=e*1.2;this.FN()};
cy.prototype.ae3=function(h){var e=this.Xd.j(),v=this.IU,J=e/100;if(.8<J&&J<1.2)J=1;else if(1.8<J)J=Math.round(J);
var m=new g3(k.E.A,!0);m.I=c.ZM;m.data={V:"zoom",e4:J};this.a(m)};cy.prototype.bq=function(h){var e=this.IU;
if(e==null)return;this.uh=!0;V.Xa(window,this.aA5);V.wZ(window,this.akV)};cy.prototype.Cd=function(h){var e=V.IE(h,this._y),v=this.IU,J=this._y.width,m=this._y.height,d=(e.x*V.A_()-J/2)/J,x=(e.y*V.A_()-m/2)/m,j=V.A_()*v.p.e4,E=Math.round(-v.p.e4*v.q*d),L=Math.round(-v.p.e4*v._*x);
c.Vw.Jn(v,E,L)};cy.prototype.KY=function(h){V.L0(window,this.aA5);V.SV(window,this.akV);this.uh=!1};
cy.prototype.eh=function(h){if(h==null&&this.IU!=null)this._y.width=100;this.IU=h;this.FN()};cy.prototype.a9S=function(){var h=this.IU,e=V.A_(),v=c.lM.FT(h.q,h._,e*(this.VA-10),e*(this.qw-36)),J=B.P2(h.pb(),new fP(0,0,h.q,h._),v);
this.z_=[J.su,J.R]};cy.prototype.FN=function(){var h=this.IU;if(h==null||h.p.e4==0)return;var e=h.p;
if(!V.gl(this.lQ))return;this.Xd.e(e.e4*100);if(!this.uh)this.a9S();var v=this.z_[0],J=this.z_[1],m=J.q,d=J._,x=this._y;
x.width=m;x.height=d;V.Aw(x,m,d);var j=this.lQ;j.style.width=this._y.style.width+12+"px";var E=x.getContext("2d"),L=new ImageData(m,d);
B.N7(v,L.data);E.putImageData(L,0,0);E.getImageData(0,0,1,1);var p=e.L1,Z=e.$$(p.x,p.y),o=e.$$(p.x+p.q,p.y+p._),u=m/h.q;
E.scale(u,u);E.lineWidth=4/u;E.strokeStyle="#ff0000";E.strokeRect(Z.x,Z.y,o.x-Z.x,o.y-Z.y)};cy.prototype.fa=function(h,e){};
cy.prototype.JI=function(){this.FN()};function jt(h,e){b4.call(this,h.name,!1,h.icon,e);this.a8t=h}jt.prototype=new b4("");
jt.prototype.vw=function(){var h=this.lQ,e=this.a8t;if(!V.gl(h)||this.MU)return;var v=this.MU=V.k("iframe");
v.setAttribute("src",e.url);this.lQ.appendChild(v)};jt.prototype.JI=jt.prototype.eh=function(){this.vw()};
jt.prototype.Ej=function(h){if(V.gl(this.MU))this.MU.contentWindow.postMessage(h,"*")};jt.prototype.Kt=function(h,e){if(this.MU==null)return;
V.v(this.MU,"width:"+h+"px; height:"+e+"px")};function gZ(){b4.call(this,[9,12],!1,"---panels/tpreset",b4.rF.yR);
this.H=null;this.Df=new h7(c.ty);this.Df.parent=this;var h=V.k("div","padded");V.v(h,"width:20em");this.lQ.appendChild(h);
h.appendChild(this.Df.Px)}gZ.prototype=new b4("");gZ.prototype.JI=function(){this.Df.lN(this.H.rw)};
gZ.prototype.fa=function(h,e){this.H=h;if(e==dq.AY||e==dq.yR)this.Df.lN(h.rw)};gZ.prototype.Kt=function(h,e){this.Df.avk(this.H.jR)};
gZ.prototype.S=function(){b4.prototype.S.call(this);this.Df.S()};var eH=function(){var h=[],e=null,v=null,J=null,m=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function d(){b4.call(this,"Memory",!1,null,b4.rF.aC2);var o=V.k("div","padded");this.lQ.appendChild(o);
v=new eA(["<< VAR0",[0,13,2]],!1,null,!0);v.addEventListener("click",function(u){h.pop();j()});o.appendChild(v.Z);
e=V.k("div","scrollable");V.v(e,"width:20em;  height:26em; margin-top:8px;");o.appendChild(e)}d.prototype=new b4("");
d.prototype.eh=function(o,u,N){J=u;this.JI()};d.prototype.JI=function(){v.Es(!1);if(!V.gl(e))return;
var o={pQ:"Total:",$Z:[]};for(var T=0;T<J.length;T++)o.$Z.push(L(J[T]));Z(o);h=[o];j()};d.prototype.S=function(){b4.prototype.S.call(this);
v.S()};function x(o){var u=o.currentTarget,T=0;while((u=u.previousSibling)!=null)T++;h.push(h[h.length-1].$Z[T-1]);
j()}function j(){v.Es(h.length>1);var o=h[h.length-1];V.H5(e);E(o,e,0);o.$Z.sort(function(u,N){return N.w_[0]-u.w_[0]});
for(var T=0;T<o.$Z.length;T++)E(o.$Z[T],e,1)}function E(o,u,N){var M=iD.kA,O=N!=0&&o.$Z,F="margin-left:"+N*10+"px; margin-bottom:8px; padding:3px 5px;";
if(O)F+="cursor:pointer;";if(o.R4!=null)F+="background-color:rgba("+m[o.R4].join(",")+",0.2);";var W=V.k("div");
u.appendChild(W);V.v(W,F);W.innerHTML=V.gq(o.pQ)+"<br />"+"RAM: <b>"+M(o.w_[0])+"</b>\u2001GPU: <b>"+M(o.w_[1])+"</b>";
if(O)W.addEventListener("click",x,!1)}function L(o){var u={pQ:o.name,$Z:[],R4:0},N=fM.QX?1:0,M=1-N,O={pQ:"History",$Z:[],R4:5};
u.$Z.push(O);for(var T=1;T<o.history.length;T++){var F=o.history[T];O.$Z.push({pQ:bj.get(F.name),R4:5,w_:[F.Fb(),0]})}Z(O);
var O={pQ:"Final Image",w_:[o.q*o._*4,N*o.q*o._*4],R4:2};u.$Z.push(O);for(var T=0;T<o.T.length;T++){var W=p(o.T[T]);
if(W.$Z.length!=0)u.$Z.push(W)}var f=o.add.lnk2;if(f)for(var T=0;T<f.length;T++){var W=f[T],$={pQ:W.PY,$Z:[],R4:4},H=0;
$.$Z.push({pQ:"Raw file",w_:[W.raw.length,0]});if(W.pd)for(var A=0;A<W.pd.length;A+=2)H+=W.pd[A].length;
if(H!=0)$.$Z.push({pQ:"Decoded pixels",w_:[H,0]});Z($);u.$Z.push($)}Z(u);return u}function p(o){var u={pQ:o.getName(),$Z:[],R4:1},N=fM.QX?1:0,M=1-N,O=o.R.$();
if(O!=0)u.$Z.push({pQ:"Layer pixels",w_:[O*4,N*O*4]});if(o.add.lmfx&&o.em.L7.c){var F=o.em.L7.c,H=0;
for(var W in F){var f=0;for(var $=0;$<F[W].length;$++)if(W=="ebbl"){if(F[W][$].Gz)f+=F[W][$].Gz.js.$();
if(F[W][$].YW)f+=F[W][$].YW.js.$();if(F[W][$].p9)f+=F[W][$].p9.js.$();if(F[W][$].Dv)f+=F[W][$].Dv.js.$()}else f+=F[W][$].js.$();
if(f!=0)u.$Z.push({pQ:bj.get(fL.names[fL.order.indexOf(W)]),w_:[M*f*4,N*f*4],R4:3})}if(o.em.vx)H+=O;
if(o.em.y1)H+=O;if(o.em.TZ)H+=O;if(o.em.TZ)H+=O;if(o.em.oz)H+=O;if(o.em.ue)H+=O;var A=o.em.OM?o.em.OM.length:0;
if(H+A!=0)u.$Z.push({pQ:"Additional Blending Data",w_:[M*H*4+A,N*H*4]})}var G=o.NH(),l=G?G.R.$():0;if(l!=0){u.$Z.push({pQ:"Raster Mask",w_:[l,0]})}var G=o.add.vmsk,l=G&&G.zl?G.zl.R.$():0;
if(l!=0){u.$Z.push({pQ:"Vector Mask",w_:[l,0]})}Z(u);return u}function Z(o){o.w_=[0,0];for(var T=0;T<o.$Z.length;
T++){o.w_[0]+=o.$Z[T].w_[0];o.w_[1]+=o.$Z[T].w_[1]}}return d}();function bS(){b4.call(this,[9,14],!1,"---panels/notes",b4.rF.a7t);
V.v(this.lQ,"min-width:240px;");var h=V.k("div","padded");this.lQ.appendChild(h);this.gZ=new jE("Author");
h.appendChild(this.gZ.Z);this.AR=V.k("textarea");V.JM(this.AR);h.appendChild(this.AR);var e=new eA("<<",null,null,!0);
h.appendChild(e.Z);this.a79=e;var v=new eA(">>",null,null,!0);h.appendChild(v.Z);e.P("click",this.JG,this);
v.P("click",this.JG,this);var J=this.anF=new cE("");h.appendChild(J.Z)}bS.prototype=new b4("");bS.prototype.JG=function(h){var e=h.target==this.a79?-1:1,v=this.IU,J=v.add.Anno;
if(J==null)return;var m=J.length,d=v.p.UF;v.p.UF=(d+e+m)%m;v.NK=!0;this.FN()};bS.prototype.FN=function(){var h=this.IU;
if(h==null)return;var e=h.add.Anno;if(e==null||e.length==0)return;var v=h.p.UF,J=e[v];this.AR.value=J[4];
this.anF.e(v+1+" / "+e.length);this.gZ.e(J[3])};bS.prototype.Kt=function(h,e){if(this.VA==h)return;this.VA=h;
e=Math.min(e,200);V.v(this.AR,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(h-10)+"px; height:"+(e-66)+"px")};
bS.prototype.eh=function(h,e,v){this.IU=h;this.FN()};function bu(){b4.call(this,[1,16,1],!1,"---tools/artb",b4.rF.atX);
this.dM=[];this.X7=[];this.Og=[];this.aF=null;this.A1=null}bu.prototype=new b4("");bu.prototype.vw=function(){this.aF=V.k("div","padded scrollable");
V.v(this.aF,"width:260px;  height:260px");this.lQ.appendChild(this.aF);this.A1=V.k("div","lpfoot");this.lQ.appendChild(this.A1);
var h=["lrs/newlayer","lrs/bin"],e=[[15,8,2],[5,4]];for(var T=0;T<h.length;T++){var v="<img src=\""+PIMG[h[T]]+"\" class=\"miniscale gsicon\" />",J=new eA(v,!1,e[T]);
J.P("click",this.Ms,this);this.A1.appendChild(J.Z);this.Og.push(J)}};bu.prototype.S=function(){b4.prototype.S.call(this);
if(this.aF==null)return;for(var T=0;T<this.Og.length;T++)this.Og[T].S()};bu.prototype.Ms=function(h){var T=this.Og.indexOf(h.currentTarget),e=new g3(k.E.A,!0);
e.I=c.ly;e.data={V:T==0?"new":"del"};this.a(e);if(T==0)this.a22(this.dM.length-1)};bu.prototype.eh=bu.prototype.JI=function(h){if(h)this.dM=h.add.arts;
if(!V.gl(this.lQ))return;if(this.aF==null)this.vw();this.FN(h)};bu.prototype.Jh=function(h){var T=this.X7.indexOf(h.currentTarget);
if(h.target.tagName=="BUTTON"){this.a22(T)}var e=this.dM;for(var v=0;v<e.length;v++)e[v].X=!1;e[T].X=!0;
this.FN()};bu.prototype.a22=function(T){var h=new g3(k.E.u,!0);h.data={V:k.l.Xq,dF:"aoptions",J:this.dM[T]};
this.a(h)};bu.prototype.FN=function(){V.H5(this.aF);var h=this.dM,e=this.Jh.bind(this);this.X7=[];for(var T=0;
T<h.length;T++){var v=h[T],J=V.k("div","layeritem"+(v.X?" selected":""));this.aF.appendChild(J);this.X7.push(J);
J.addEventListener("click",e);var m=V.k("div","head");J.appendChild(m);V.v(m,"height:24px");var d=V.k("div","headL");
m.appendChild(d);var x=V.k("div","headR");m.appendChild(x);var j=V.k("div","label");j.textContent=T+1+". "+v.pQ;
d.appendChild(j);var E=new eA("Options",null,null,!0);x.appendChild(E.Z)}};function dR(){fx.call(this);
this.I=0;this.FL=null;this.Z=V.k("div","toolconf");this.Df=null;this.aaZ=null;this.body=new V.k("div","body")}dR.prototype=new fx;
dR.prototype.alQ=function(h,e){this.I=h;this.FL=e;if(c.f2[h]){var v=this.Df=new h7(h);this.Z.appendChild(v.Z);
v.parent=this}else{this.aaZ=V.k("div");this.Z.appendChild(this.aaZ)}this.Z.appendChild(this.body);this.S()};
dR.prototype.ai0=function(h,e){};dR.prototype.a6p=function(h){};dR.prototype.fa=function(h,e){if(e==dq.AY||e==dq.yR)if(this.Df)this.Df.lN(h.rw)};
dR.prototype.I8=function(h){};dR.prototype.S=function(){if(this.Df)this.Df.S();else this.aaZ.innerHTML=V.pY(this.FL,null,"toolicon");
this.G1()};dR.prototype.G1=function(){};function kV(){dR.call(this);this.c2=new a6;this.c2.P(k.E.f,this.Wq,this);
this.body.appendChild(this.c2.Z)}kV.prototype=new dR;kV.prototype.G1=function(){this.c2.S()};kV.prototype.Wq=function(h){var e=new g3(k.E.u,!0);
e.data={V:k.l.bf,I:this.I,m0:this.c2.a8i()};this.a(e)};kV.prototype.I8=function(h){this.c2.abJ(h.yJ)};
function ez(h){dR.call(this);if(h==null)return;this.H=null;this.fA={};if(h.indexOf("brush")!=-1&&h.indexOf("prsr")==-1)h.push("prsr");
for(var T=0;T<h.length;T++){var e=h[T],v=null;if(e=="brush"){v=new d9}if(e=="bmode"){v=new jV([12,19,0],cc.j$,cc.qE)}if(e=="bmode0"){v=new jV([12,19,0],cc.j$.slice(23))}if(e=="emode"){v=new jV([12,36],[[9,3],[10,38]])}if(e=="opacity"){v=new cs([12,0],0,100,"%");
v.e(100)}if(e=="flow"){v=new cs([12,63],0,100,"%");v.e(100)}if(e=="smth"){v=new cs([19,3,0],0,100,"%");
v.e(0)}if(e=="samp"){v=new jV([12,36],[[12,25,4],[12,25,5],[12,46]])}if(e=="wconf"){v=new kc;v.e([40,!0,!0])}if(e=="sall"){v=new hJ([12,25,2])}if(e=="smode"){v=new jV([12,36],[[19,7,0],[19,7,1]]);
v.e(1)}if(e=="pdetail"){v=new hJ([12,65]);v.vU()}if(e=="rng"){v=new jV([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
v.e(1)}if(e=="expo"){v=new cs([12,5],0,100,"%");v.e(50)}if(e=="algnd"){v=new hJ([12,75]);v.e(!1)}if(e=="sfrom"){v=new jV([12,70],[[17,1],[17,3],[17,0]])}if(e=="alt"){v=new hR(null,["Alt"],!0,["Select Source"])}if(e=="qsmode"){v=new ha([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(e=="redge"){v=new eA([7,11],!1,null,!0)}if(e=="sesu"){v=new eA("Select Subject",!1,null,!0)}if(e=="setop"){v=new de}if(e=="patch"){v=new ha(null,[[12,70],[12,71]])}if(e=="strn"){v=new cs([12,64],1,100,"%");
v.e(50)}if(e=="prsr"){v=this.fA.brush.BX}this.body.appendChild(v.Z);if(e=="prsr")continue;v.parent=this;
this.fA[e]=v;if(e=="brush")v.P(k.E.f,this.aF4,this);else if(e=="redge"||e=="sesu")v.P("click",fv.an5,this);
else v.P(k.E.f,this.ui,this)}}ez.prototype=new dR;ez.prototype.ai0=function(h,e){h=h[1];var v=this.fA;
if(h.Md)v.bmode.e(cc.s7.indexOf(h.Md.v.BlnM));if(h.Opct)v.opacity.e(h.Opct.v);if(h.flow)v.flow.e(h.flow.v);
if(h.Brsh)v.brush.e(h,e.Zb.kk,e.Zb.tr);if(h.FrgC){var J=B.Vh.SL(h.FrgC.v),m=new g3(k.E.u,!0);m.data={V:k.l.Gi,m0:dq.Ih,rf:0,J:J.n<<16|J.i<<8|J.b};
this.a(m)}this.aF4();this.ui()};ez.prototype.a6p=function(){if(c.f2[this.I]==null)return null;var h=this.fA,e;
for(var v in c.Ht)if(c.Ht[v]==this.I)e=v;var J=B.t(h.brush.j());J.classID=e;if(h.bmode)J.Md={t:"enum",v:{BlnM:cc.s7[h.bmode.j()]}};
if(h.opacity)J.Opct={t:"long",v:h.opacity.j()};if(h.flow)J.flow={t:"long",v:h.flow.j()};var m=this.H.kc;
m={n:m>>>16,i:m>>>8&255,b:m&255};J.FrgC={t:"Objc",v:B.Vh.WZ(m)};return["Brush Preset "+J.Brsh.v.Dmtr.v.val,J]};
ez.prototype.G1=function(){for(var h in this.fA)this.fA[h].S()};ez.prototype.I8=function(h){if(h.aBm=="showBrushOpts"){this.fA.brush.a6B(h.OL.x,h.OL.y)}for(var e in h.Ml){var v=h.Ml[e];
if(e!="qsmode")v*=100;if(this.fA[e])this.fA[e].e(v)}};ez.prototype.fa=function(h,e){dR.prototype.fa.call(this,h,e);
this.H=h;var v=this.fA.brush;if(v==null)return;if(e==dq.AY||e==dq.ty)v.lN(h.Zb);if(e==dq.lc){v.e(h.Zb.kt,h.Zb.kk,h.Zb.tr)}};
ez.prototype.aF4=function(){var h=new g3(k.E.u,!0);h.data={V:k.l.Gi,m0:dq.lc,Pz:this.fA.brush.j()};this.a(h)};
ez.prototype.ui=function(){var h=new g3(k.E.u,!0);h.data={V:k.l.bf,I:this.I};for(var e in this.fA){if(e=="brush"||e=="redge")continue;
var v=this.fA[e].j();if(["opacity","flow","smth","expo","strn"].indexOf(e)!=-1)h.data[e]=v/100;else if(e=="bmode")h.data.bmode=cc.El[v];
else if(e=="bmode0")h.data.bmode=cc.El[23+v];else h.data[e]=v}this.a(h)};function fv(h,e){dR.call(this);
if(h)return;this.fA={};for(var T=0;T<e.length;T++){var v=e[T],J=null;if(v=="sesu"&&!V.ng(1))continue;
if(v=="binop")J=new de;if(v=="feat"){J=new cs([7,6],0,100,"px");J.e(0)}if(v=="redge")J=new eA([7,11],!1,null,!0);
if(v=="sesu")J=new eA("Select Subject",!1,null,!0);if(v=="wconf")J=new kc;if(v=="cstr")J=new kk;if(v=="anta"){J=new hJ([12,25,1]);
J.e(!0)}if(v=="sall")J=new hJ([12,25,2]);if(v=="redge"||v=="sesu")J.P("click",fv.an5,this);else J.P(k.E.f,this.ui,this);
J.parent=this;this.body.appendChild(J.Z);this.fA[v]=J}}fv.prototype=new dR;fv.prototype.I8=function(h){var e=this.fA.cstr;
if(h.Al!=null)this.fA.binop.e(h.Al);else if(h.wK){for(var v in h.wK)if(this.fA[v])this.fA[v].e(h.wK[v])}else if(h.Ou){if(e)e.PK(h.Ou)}else{var J=fv.bo;
if(J==null){var m=cj.apI(!0);J=fv.bo=new ar(m.items,m.ny)}J.S();J.parent=this;J.update(h.PD,h.H);var d=new g3(k.E.u,!0);
d.data={V:k.l.Eu,nB:J,x:h.zG.oU+2,y:h.zG.dG+1};this.a(d)}};fv.prototype.G1=function(){for(var h in this.fA)this.fA[h].S()};
fv.an5=function(h){var e=h.target==this.fA.sesu,v=new g3(e?k.E.A:k.E.u,!0);if(e){v.I=c.Wm;v.data={V:"bgrm",J:2}}else v.data={V:k.l.Xq,dF:"redge"};
this.a(v)};fv.prototype.ui=function(){var h=new g3(k.E.u,!0);h.data={V:k.l.bf,I:this.I,wK:{}};for(var e in this.fA)h.data.wK[e]=this.fA[e].j();
this.a(h)};function iK(){ez.call(this,["brush","strn"])}iK.prototype=new ez;function af(){ez.call(this,"brush bmode opacity flow smth prsr".split(" "))}af.prototype=new ez;
function hl(){ez.call(this,["brush","bmode0","samp","wconf"])}hl.prototype=new ez;function fC(){ez.call(this,["brush"])}fC.prototype=new ez;
function gT(){ez.call(this,["brush","bmode","opacity","smth","prsr"])}gT.prototype=new ez;function h$(){ez.call(this,["brush","rng","expo"])}h$.prototype=new ez;
function iv(){ez.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}iv.prototype=new ez;function aF(h){dR.call(this);
if(h==null)return;this.FS=[];this.aFU=new eA("\u2026",!1,null,!0);if(!h)this.body.appendChild(this.aFU.Z);
this.aFU.P("click",this.gK,this);this.pD=new fx;this.pD.parent=this;var e=this.pD.Z=V.k("div","floatcont form"),v=[[17,0],[17,1],[11,12,0],[17,2]];
for(var T=0;T<v.length;T++){var J=new eA(v[T],!1,null,!0);this.FS.push(J);J.P("click",this.a52,this);
if(!h||T==1)e.appendChild(J.Z)}this.gO=new kk(!0);this.gO.P(k.E.f,this.eJ,this);if(!h)this.body.appendChild(this.gO.Z);
this.e6=new eA([15,7,6],!1,null,!0);this.e6.P("click",this.a52,this);if(!h)this.body.appendChild(this.e6.Z);
this._M=new hJ([15,7,10]);this._M.P(k.E.f,this.eJ,this);if(!h)this.body.appendChild(this._M.Z);this.a2M=new hJ("Content-Aware");
this.a2M.P(k.E.f,this.eJ,this);if(!h)this.body.appendChild(this.a2M.Z);this.JP=new dc;this.JP.P("click",this.Vp,this)}aF.prototype=new dR;
aF.prototype.gK=function(h){if(V.gl(this.pD.Z))return;var e=this.aFU.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);
v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height+4};this.a(v)};aF.prototype.G1=function(){this.JP.S();
for(var T=0;T<this.FS.length;T++)this.FS[T].S();this.gO.S();this._M.S();this.e6.S()};aF.prototype.I8=function(h){if(h.Ou){this.gO.PK(h.Ou);
return}var e=this.JP.Z;if(h.Rv)this.body.appendChild(e);else if(this.body.contains(e))this.body.removeChild(e);
if(h.gO)this.gO.e(h.gO)};aF.prototype.Vp=function(h){var e={V:k.l.bf,I:this.I,nI:this.JP.j()?"commit":"cancel"},v=new g3(k.E.u,!0);
v.data=e;this.a(v)};aF.prototype.a52=function(h){h.target.Z.blur();var e={V:k.l.bf,I:this.I,nI:"cropby",agj:this.FS.indexOf(h.target)};
if(h.target==this.e6)e.nI="straighten";var v=new g3(k.E.u,!0);v.data={V:k.l.Ni,nB:this.pD};this.a(v);
v.data=e;this.a(v)};aF.prototype.eJ=function(h){var e={V:k.l.bf,I:this.I,nI:"config",wK:{uQ:this.gO.j(),SU:this._M.j(),cY:this.a2M.j()},aFS:h.target==this.gO},v=new g3(k.E.u,!0);
v.data=e;this.a(v)};function cT(){aF.call(this,!1)}cT.prototype=new aF;function cV(){aF.call(this,!0)}cV.prototype=new aF;
function c6(){ez.call(this,["brush","rng","expo"])}c6.prototype=new ez;function it(){ez.call(this,"brush emode opacity flow smth prsr".split(" "))}it.prototype=new ez;
function ca(){ez.call(this,["brush","samp","wconf"])}ca.prototype=new ez;function bm(){fv.call(this,!1,["binop","feat","anta","redge","cstr"])}bm.prototype=new fv(!0);
function dJ(){dR.call(this);var h=this.fA=[new jV([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new jV([12,70],[[17,1],[17,3],[17,0]]),new hJ([12,20,1]),new hJ([8,0])];
h[1].e(2);h[2].e(!0);for(var T=0;T<h.length;T++){var e=h[T];e.P(k.E.f,this.ui,this);this.body.appendChild(e.Z)}}dJ.prototype=new dR;
dJ.prototype.ui=function(h){var e=this.fA,v=[];for(var T=0;T<e.length;T++)v[T]=e[T].j();var J=new g3(k.E.u,!0);
J.data={V:k.l.bf,I:this.I,wK:v};this.a(J)};dJ.prototype.G1=function(){for(var T=0;T<this.fA.length;T++)this.fA[T].S()};
function gC(){dR.call(this);this.yi=!1;this.UD=new jk("GrFl",!0);this.UD.parent=this;this.UD.update(null,JSON.parse(fL.JC[6]));
this.UD.P(k.E.f,this.ow,this);var h="Grad Type Md Opct Rvrs Dthr".split(" ");for(var T=0;T<h.length;
T++)this.body.appendChild(this.UD.GO[h[T]].Z);this.UD.GO.Grad.ace=!1;this.mp=new eA([6,48,1],!1,null,!0);
this.mp.P("click",this.ow,this);this.body.appendChild(this.mp.Z)}gC.prototype=new dR;gC.prototype.G1=function(h){var h=this.yi;
this.body.children[2].style.display=h?"none":"";this.body.children[3].style.display=h?"none":"";this.UD.S();
this.mp.S()};gC.prototype.fa=function(h,e){dR.prototype.fa.call(this,h,e);var v=e==dq.Ih,J=this.UD.GO.Grad;
J.QG(h.kc,h.kF);if(v||e==dq.vk||e==dq.AY)J.lN(h.$r)};gC.prototype.ow=function(h){if(h.target==this.mp){var e=new g3(k.E.Fq,!0);
e.data=c.XH.pH(1);this.a(e);return}this.S();var e=new g3(k.E.u,!0);e.data={V:k.l.bf,I:this.I,m0:this.UD.j()};
this.a(e)};gC.prototype.I8=function(h){this.yi=h.s;this.S();this.UD.update(null,h.m0);this.S()};function jh(){dR.call(this);
this.Rp=new hJ([8,7,1]);this.body.appendChild(this.Rp.Z);this.Rp.P(k.E.f,this.ui,this)}jh.prototype=new dR;
jh.prototype.ui=function(){var h={V:k.l.bf,I:this.I,uH:this.Rp.j()},e=new g3(k.E.u,!0);e.data=h;this.a(e)};
function aV(){dR.call(this);var h=V.k("span","fitem");this.body.appendChild(h);this.cI=[new cs([12,15],-180,180,"\xB0"),new eA([1,12,2],null,null,!0)];
for(var T=0;T<this.cI.length;T++){var e=this.cI[T];e.parent=this;h.appendChild(e.Z);e.P(T==1?"click":k.E.f,this.k4,this)}}aV.prototype=new dR;
aV.prototype.G1=function(){for(var T=0;T<this.cI.length;T++)this.cI[T].S()};aV.prototype.I8=function(h){this.cI[0].e(h.Yk*180/Math.PI)};
aV.prototype.k4=function(h){var e=this.cI.indexOf(h.target),v=new g3(k.E.u,!0);v.data={V:k.l.bf,I:this.I,Yk:e==1?0:h.target.j()*Math.PI/180};
this.a(v)};function hX(){ez.call(this,["brush","algnd","sfrom","alt"])}hX.prototype=new ez;function gx(){dR.call(this);
this.zC=new c4;this.zC.parent=this;this.body.appendChild(this.zC.jH.Z);this.body.appendChild(this.zC._L.Z);
this.body.appendChild(this.zC.nM.Z);this.body.appendChild(this.zC.hG.Z);var h=V.k("span","fitem");this.body.appendChild(h);
h.appendChild(this.zC.Vc.Z);h.appendChild(this.zC.fv.Z);h.appendChild(this.zC.gn.Z);this.VP=new jV("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.VP.P(k.E.f,this.Vp,this);this.body.appendChild(this.VP.Z);this.dg=new jV(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.dg.P(k.E.f,this.Vp,this);this.body.appendChild(this.dg.Z);this.oO=new eA([11,9],!1,null,!0);this.oO.P("click",this.aA2,this);
this.body.appendChild(this.oO.Z);this.JP=new dc;this.JP.P("click",this.Vp,this)}gx.prototype=new dR;
gx.prototype.G1=function(){this.JP.S();this.zC.S();this.oO.S()};gx.prototype.aA2=function(h){var e={V:k.l.bf,I:this.I,nI:"showwarp"},v=new g3(k.E.u,!0);
v.data=e;this.a(v)};gx.prototype.I8=function(h){if(h.nI=="showactive")this.body.appendChild(this.JP.Z);
if(h.nI=="hideactive")this.body.removeChild(this.JP.Z);if(h.nI=="changeOther"){this.VP.e(h.in);this.dg.e([0,2,1][h.Yc])}if(h.nI=="showpan"){var e=[{name:[0,1],jV:!0}],v=[{o:k.E.A,I:c.HV,h:{V:"editCurr",NP:h.NP}}],J=h.zG;
if(h.ans){e=[{name:["VAR0: VAR1",[0,5],[7,0]],jV:!0}];v=[{o:k.E.Fq,h:c.tM.CZ(!0)}];var m=cj.a6g();e=e.concat(m[0]);
v=v.concat(m[1])}e.push({name:[11,9]});v.push({o:k.E.u,h:{V:k.l.bf,I:this.I,nI:"showwarp"}});var d=new ar(e,v);
d.parent=this;d.S();d.update(h.PD,h.H);var x=new g3(k.E.u,!0);x.data={V:k.l.Eu,nB:d,x:J.oU+2,y:J.dG+1};
this.a(x)}};gx.prototype.fa=function(h,e){dR.prototype.fa.call(this,h,e);if(e!=dq.AY&&e!=dq.PC&&e!=dq.Na&&e!=dq.Nh)return;
this.zC.e(h.Xi,h.eN,h.Td)};gx.prototype.Vp=function(h){var e={V:k.l.bf,I:this.I,nI:this.JP.j()?"commit":"cancel"};
if(h.target==this.VP||h.target==this.dg){e.nI="changeOther";e.in=this.VP.j();e.Yc=[0,2,1][this.dg.j()]}var v=new g3(k.E.u,!0);
v.data=e;this.a(v)};function iR(){fv.call(this,!1,["binop","feat","anta","redge"])}iR.prototype=new fv(!0);
function ec(){dR.call(this);var h=[],v="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.mN=new hJ([12,85]);this.mN.e(!0);this.mN.P(k.E.f,this.ui,this);h.push(this.mN.Z);this.jn=new jV(null,[[0,4],[0,3]]);
this.jn.P(k.E.f,this.ui,this);this.jn.e(1);h.push(this.jn.Z);this.Gj=new hJ([20,1]);this.Gj.P(k.E.f,this.ui,this);
h.push(this.Gj.Z);this.aR=new hJ([12,83]);this.aR.P(k.E.f,this.ui,this);h.push(this.aR.Z);this.pD=new fx;
this.pD.Z=V.k("div","floatcont form");V.v(this.pD.Z,"max-width: 200px;");this.pD.parent=this;var e=this.pD.Z;
this.af9=new jV("Scale for exported files",["1x","2x","3x","4x"]);e.appendChild(this.af9.Z);this.co=new eA(v+" PNG",!1,"Save selected layers as PNG",!0);
e.appendChild(this.co.Z);this.co.P("click",this.g7,this);this.arl=new eA(v+" SVG",!1,"Save selected layers as SVG",!0);
e.appendChild(this.arl.Z);this.arl.P("click",this.g7,this);var J=new eA(v,!1,"Save selected layers",!0);
h.push(J.Z);J.P("click",function(E){if(V.gl(this.pD.Z))return;var L=J.Z.getBoundingClientRect(),p=new g3(k.E.u,!0);
p.data={V:k.l.Eu,nB:this.pD,x:L.left,y:L.top+L.height,u3:!0};this.a(p)},this);var m=V.k("span","fitem");
h.push(m);var d=V.k("span","fitem");h.push(d);this.Og=[];for(var T=0;T<8;T++){var x=T==3||T==7?[20,4,6]:[20,4,T<3?T:T-1],j=new eA("Hi",!1,x);
(T<4?m:d).appendChild(j.Z);j.P("click",this.g7,this);this.Og.push(j)}for(var T=0;T<h.length;T++)this.body.appendChild(h[T]);
this.a9j=h}ec.prototype=new dR;ec.prototype.I8=function(h){var e=h.yJ,v=h.aEi;this.mN.e(e.Xz);this.Gj.e(e.Id);
this.aR.e(e.gb);if(v){V.H5(this.body);for(var T=0;T<v.length;T++)if(v[T]==1&&this.a9j[T])this.body.appendChild(this.a9j[T])}};
ec.prototype.g7=function(h){var e=this.Og.indexOf(h.target),v;if(e==-1){v=new g3(k.E.u,!0);v.data={V:k.l.bf,I:this.I,rf:h.target==this.co?"getPNG":"getSVG",_w:this.af9.j()+1}}else{v=new g3(k.E.A,!0);
v.I=c.GA;v.data={V:"algn",J:e}}this.a(v)};ec.prototype.ui=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.bf,I:this.I,rf:"prms",Xz:this.mN.rN(),aHC:this.jn.j(),Id:this.Gj.rN(),gb:this.aR.rN()};
this.a(e)};ec.prototype.G1=function(){this.mN.S();this.jn.S();this.Gj.S();this.aR.S();var h="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var T=0;T<8;T++){this.Og[T].Ao(V.pY("align/"+h[T],null,"autoscale"))}};function g6(){fv.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}g6.prototype=new fv(!0);
function fo(){ez.call(this,["setop","patch"])}fo.prototype=new ez;function dZ(){ez.call(this,["setop"])}dZ.prototype=new ez;
function ko(h){var e=h==c.awf?[]:["bmode"];ez.call(this,e.concat(["opacity","wconf","sall"]))}ko.prototype=new ez;
function e1(){fv.call(this,!1,["binop","feat","anta","redge"])}e1.prototype=new fv(!0);function ks(){fv.call(this,!1,["binop","feat","anta","redge"])}ks.prototype=new fv(!0);
function hr(){fv.call(this,!1,["binop","feat","redge","cstr"])}hr.prototype=new fv(!0);function fN(){dR.call(this);
this.H=null;this.ji=null;this.AL=!0;this.Q0=[new jE("X",null,3.2,null,!0),new jE("Y",null,3.2,null,!0),new jE("W",null,3.2,null,!0),new jE("H",null,3.2,null,!0),new jE("a","\xB0",3.7,null,!0),new jE("l",null,3.5,null,!0),new jE("l",null,3.5,null,!0),new hJ("Use custom units:"),new eA("Define Unit",!1,null,!0),new eA([15,7,6],!1,null,!0),new eA([2,2],!1,null,!0)];
this.Q0[7].Z.style.marginRight="0px";for(var T=0;T<this.Q0.length;T++){var h=this.Q0[T];this.body.appendChild(h.Z);
if(T>6)h.P(T==7?k.E.f:"click",this.zc,this)}this.IO=0}fN.prototype=new dR;fN.prototype.zc=function(h){var e=this.Q0.indexOf(h.target),v=new g3(k.E.A,!0),J=this.ji;
if(e==7){this.I8(J);return}if(e==8){if(this.AL){alert("Draw a line for the new unit");return}this.Q0[7].e(!0);
var m=new g3(k.E.u,!0);m.data={V:k.l.Xq,dF:"measscale",T7:fq.mr(J.sa,J.wW)};this.a(m);return}if(e==9){if(this.IO==0)return;
v.I=c.Li;v.data={V:"rot",SQ:[2,5],J:-this.IO}}if(e==10){v.I=c.ou;v.data={V:"reset"};this.AL=!0;for(var T=0;
T<6;T++)this.Q0[T].e(null)}this.a(v)};fN.prototype.I8=function(h){function e(L,p,Z){var o=fq.mr(L,p),u=fq.mr(p,Z),N=fq.mr(L,Z);
return Math.acos((u*u+o*o-N*N)/(2*u*o))}if(h==null)return;this.ji=h;var v=h.sa,J=h.wW,m=J.x-v.x,d=J.y-v.y;
this.IO=-Math.atan2(d,m);if(h.JR)this.IO=e(J,v,h.JR);var x=this.Q0;x[0].e(this.sD(h,v.x));x[1].e(this.sD(h,v.y));
x[2].e(this.sD(h,m));x[3].e(this.sD(h,d));x[4].e((this.IO*180/Math.PI).toFixed(2));x[5].e(this.sD(h,fq.mr(v,J)));
this.AL=v.lS(J);if(h.JR){x[6].e(this.sD(h,fq.mr(v,h.JR)))}else x[6].e("");x[8].Ao("Define");var j=h.ck;
if(j){var E=j.T.v;x[8].Ao(E.logicalUnits.v)}};fN.prototype.sD=function(h,e){var v=this.ji.ck,J;if(v&&this.Q0[7].j()){var m=v.T.v;
J=e*m.logicalLength.v/m.pixelLength.v}else J=B.yu.U_(e,h.gx,this.H,h.aDq,!1);return parseFloat(J).toFixed(2)};
fN.prototype.fa=function(h,e){this.H=h;this.I8(this.ji)};fN.prototype.G1=function(){var h=this.Q0;for(var T=0;
T<h.length;T++)h[T].S();h[4].Ao(bj.get([12,15]).slice(0,1)+":");var e=bj.get([12,80,0]).slice(0,1);h[5].Ao(e+"1:");
h[6].Ao(e+"2:");V.jE(h[2],h[3])};function hk(){ez.call(this,["brush","strn","pdetail"])}hk.prototype=new ez;
function h0(){ez.call(this,["brush","sfrom"]);this.acr=[];var h=[[7,12]];for(var T=0;T<h.length;T++){var e=new eA(h[T],!1,null,!0);
this.acr.push(e);e.parent=this;this.body.appendChild(e.Z);e.P("click",this.a3$,this)}}h0.prototype=new ez;
h0.prototype.a3$=function(h){var e=this.acr.indexOf(h.currentTarget),v=new g3(k.E.Fq,!0);v.data=c.Bt.pH(e==0?"contentAware":"aiHeal");
this.a(v)};function jM(){ez.call(this,["brush","strn"])}jM.prototype=new ez;function f3(){ez.call(this,["brush","flow","smode"])}f3.prototype=new ez;
function jC(){dR.call(this);this.ia=!1;var h=V.k("span","fitem");this.body.appendChild(h);this.rT=new ha(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
h.appendChild(this.rT.Z);this.rT.P(k.E.f,this.ui,this);this.av=new eA([20,2]);this.body.appendChild(this.av.Z);
this.av.P("click",this.al3,this);this.abg=new eA([20,3]);this.body.appendChild(this.abg.Z);this.abg.P("click",this.al3,this);
this.Rp=new hJ([8,7,1]);this.body.appendChild(this.Rp.Z);this.Rp.P(k.E.f,this.ui,this)}jC.prototype=new dR;
jC.prototype.G1=function(){this.av.S();this.abg.S()};jC.prototype.ui=function(){var h={V:k.l.bf,I:this.I,YV:this.rT.j()==0,uH:this.Rp.j()},e=new g3(k.E.u,!0);
e.data=h;this.a(e)};jC.prototype.I8=function(h){if(this.ia!=h.ia)this.rT.e(1-this.rT.j());this.ia=h.ia};
jC.prototype.al3=function(h){var e=new g3(k.E.A,!0);e.I=c.ZM;e.data={V:"adapt",J:h.target==this.av?"pixel":"fitscr"};
this.a(e)};function bZ(h,e){dR.call(this);if(h==null)return;this.Cb=h;this.Ws={};this.aB2=e;for(var T=0;
T<h.length;T++){var v=h[T],J=null;if(v=="vmode"||v=="pmode"){J=new jV(null,[[12,76,1],[12,76,0],[12,76,2]]);
J.e(v=="vmode"?0:1);if(e)J.azi(2)}if(v=="make"){J=new ha("Make",[[17,2],[12,76,1]],null,!0)}if(v=="anta"){J=new hJ([12,25,1]);
J.e(!0)}if(v=="binop"){J=new jV(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(v=="pshape")J=new jV(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(v=="shape")J=new hG([12,76,1]);if(v=="crad"){J=new cs([12,94,0],0,50,"px");J.e(0)}if(v=="cstr"){J=new kk}if(v=="irad"){J=new cs([12,94,1],0,100,"%");
J.e(40)}if(v=="length"){J=new cs([12,80,0],4,40);J.e(4)}if(v=="sides"){J=new cs([12,78],3,30);J.e(5)}if(v=="width"){J=new cs([12,41],0,100,"px");
J.e(5)}if(v=="tolr"){J=new cs([12,24],0,100);J.e(5)}if(v=="fstyle"){J=new fj([12,26])}if(v=="sstyle"){J=new fB}if(v=="psnap"){J=new hJ([8,10])}if(v=="crnr"){J=new eA("\u2312",!1,[12,94,0],!0)}if(v=="aopts"){J=new aG;
J.e([!1,!1,50,60,0])}if(v=="smplp"){J=new eA([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}J.parent=this;
this.body.appendChild(J.Z);this.Ws[v]=J;J.P(v=="crnr"||v=="smplp"?"click":k.E.f,this.ui,this)}}bZ.prototype=new dR;
bZ.prototype.I8=function(h){var e=this.Ws.cstr;if(h.Al!=null)this.Ws.binop.e(h.Al);else if(h.rf=="vals")for(var v in h.aCK)this.Ws[v].e(h.aCK[v]);
else if(h.Ou){if(e)e.PK(h.Ou)}else{var J=bZ.bo,m=function(x){return{m:x!=null&&x.kC(!1)}};if(J==null)J=bZ.bo=new ar([{name:"Remove Anchor Point",m:function(x){var j=x?x.rx():null;
return{m:x&&j[1].length!=0&&j[0][j[1][0]].add.vmsk.Ez.length!=0}}},{name:"Remove Path",m:function(x){var j=x?x.rx():null;
return{m:x&&j[1].length!=0&&j[0][j[1][0]].add.vmsk.X.length!=0}},jV:!0},{name:"Make Selection"},{name:[2,3],m:m},{name:[14,9],m:m}],[{o:k.E.A,I:c.LH,h:{V:"remove",Ck:!0}},{o:k.E.A,I:c.uP,h:{V:"remove"}},{o:k.E.u,h:{V:k.l.Xq,dF:"makesel"}},{o:k.E.Fq,h:c.Uk.r9(null)},{o:k.E.u,h:{V:k.l.Xq,dF:"strokepath"}}]);
J.parent=this;J.update(h.PD,h.H);var d=new g3(k.E.u,!0);d.data={V:k.l.Eu,nB:J,x:h.zG.oU+2,y:h.zG.dG+1};
this.a(d)}};bZ.prototype.awu=function(T){return null};bZ.prototype.G1=function(){for(var h in this.Ws){this.Ws[h].S()}};
bZ.prototype.ui=function(h){var e=new g3(k.E.u,!0),v=this.Ws;if(h.target==v.crnr){e=new g3(k.E.A,!0);
e.I=c.LH;e.data={V:"crnr"}}else if(h.target==v.smplp){e=new g3(k.E.A,!0);e.I=c.uP;e.data={V:"smplp"}}else if(h.target==v.make){var T=h.target.j();
console.log(T);if(T==0)e.data={V:k.l.Xq,dF:"makesel"};else{e=new g3(k.E.A,!0);e.I=c.ua;e.data={V:"newfill",R4:0}}}else if(h.target==v.fstyle){e.data={V:k.l.Gi,m0:dq.j_,J:v.fstyle.j()}}else if(h.target==v.sstyle){e.data={V:k.l.Gi,m0:dq.a0,J:v.sstyle.j()}}else if(h.target==v.vmode||h.target==v.pmode){e.data={V:k.l.Gi,m0:h.target==v.vmode?dq.Gn:dq.rz,J:h.target.j()}}else{if(v.pshape)this.z6();
e.data={V:k.l.bf,I:this.I};for(var J in v)e.data[J]=v[J].j()}this.a(e)};bZ.prototype.z6=function(){var h=this.Ws,e=(h.vmode?h.vmode:h.pmode).j(),v=h.pshape?this.awu(h.pshape.j()):this.Cb,J;
if(e==0)J=["anta","make"];if(e==1)J=["anta","fstyle","sstyle"];if(e==2)J=["make","binop","fstyle","sstyle"];
var m=h.binop;if(m){var d=m.j();if(e==0){m.aHg(0)}else{m.azi(0);if(d==0){m.e(1);this.ui({target:m})}}}V.H5(this.body);
for(var T=0;T<v.length;T++){var x=v[T];if(J.indexOf(x)!=-1)continue;this.body.appendChild(h[x].Z)}};
bZ.prototype.fa=function(h,e){dR.prototype.fa.call(this,h,e);var v=this.Ws.fstyle,J=this.Ws.sstyle,m=this.Ws.vmode,d=this.Ws.pmode;
if(v)v.fa(h,e);if(J)J.fa(h,e);if(e==dq.AY||e==dq.pt)if(h.ki.length!=0&&this.Ws.shape){this.Ws.shape.lN(h.ki)}if(e==dq.AY||e==dq.j_)if(v)v.e(null,h.TV,h.aF9);
if(e==dq.AY||e==dq.a0)if(J)J.e(null,h.Wv,h.aGf);if(e==dq.AY||e==dq.Gn||e==dq.rz){var x=h.FD,j=h.K1;if(this.aB2&&j==2)j=0;
if(m){m.e(x);this.z6()}if(d){d.e(j);this.z6()}}};function j8(){bZ.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}j8.prototype=new bZ;
function eY(){bZ.call(this,"pmode make anta fstyle sstyle binop".split(" "))}eY.prototype=new bZ;function hw(){bZ.call(this,["fstyle","sstyle","smplp"]);
this.a3l=null;this.ad5=null;this.acP=null;this.Kr=new jV([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.uh=new eA("\u25BC");this.uh.vU();this.a2z=new eA("\u25B2");this.a2z.vU();this.aHf=[this.Kr,this.uh,this.a2z];
for(var T=0;T<this.aHf.length;T++){var h=this.aHf[T];this.body.appendChild(h.Z);h.parent=this;h.P(T==0?k.E.f:"click",this.$_,this)}}hw.prototype=new bZ;
hw.prototype.I8=function(h){if(h.nI=="main"){var e=this.aHf,v=h.tZ;if(v){this.ad5=v.O();this.acP=JSON.stringify(h.WU);
var J=v.X.slice(0),m=J.length;for(var T=0;T<J.length;T++)J[T]++;J.sort(function(E,L){return E-L});e[0].kE();
e[1].Es(m!=0);e[2].Es(m!=0);e[0].Ao(m==0?"No Paths":m==1?"Path "+J[0]:"Paths "+J.slice(0,3).join(",")+(m>3?"..":""));
if(m!=0){var d=v.X[0],x=B.s.n2(v.z,d),j=v.z[x];this.Kr.e([3,0,1,2][j.Jb])}}else for(var T=0;T<e.length;
T++)e[T].VZ()}else bZ.prototype.I8.call(this,h)};hw.prototype.G1=function(){bZ.prototype.G1.call(this);
this.Kr.S()};hw.prototype.$_=function(h){if(h.target==this.Kr||h.target==this.uh||h.target==this.a2z){var e={},v=this.ad5,J=v.z,m=v.X,d=B.s.bJ(J),x=JSON.parse(this.acP);
m.sort(function(W,f){return W-f});if(h.target==this.Kr){var j=this.Kr.j();if(j<4)for(var T=0;T<m.length;
T++)J[B.s.n2(J,m[T])].Jb=[1,2,3,0][j];else{if(d<=1)return;v.z=B.s.n7(J);v.X=v.z.length==2?[]:[0];v.Ez=[];
x=[B.WU.ML()]}}else{var E=h.target==this.uh?-1:1,L=[];for(var T=0;T<d;T++){var p=B.s.n2(J,T),Z=p+1+J[p].length;
L.push(J.slice(p,Z))}var o=m.slice(0);for(var T=0;T<m.length;T++)o[T]=Math.max(T,Math.min(d-1-(m.length-1-T),o[T]+E));
if(m.join(",")==o.join(","))return;var u=B.t(x);for(var T=0;T<m.length;T++){var N=E==-1?T:m.length-1-T,p=m[N],Z=o[N];
if(p!=Z){var M=L[p];L[p]=L[Z];L[Z]=M;M=u[p];u[p]=u[Z];u[Z]=M}}var O=J.slice(0,2);for(var T=0;T<L.length;
T++)O=O.concat(L[T]);v.z=O;v.X=o;x=u}e.tZ=v;e.WU=x;var F=new g3(k.E.u,!0);F.data={V:k.l.bf,I:this.I,d9:e};
this.a(F)}};function fK(){bZ.call(this,["fstyle","sstyle","crnr","psnap"])}fK.prototype=new bZ;function dn(){bZ.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}dn.prototype=new bZ;
function i8(){bZ.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}i8.prototype=new bZ;
function a9(){bZ.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Ws.aopts.e([!1,!0,50,60,0])}a9.prototype=new bZ;a9.prototype.awu=function(T){var h=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(h[T])};function bv(){bZ.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}bv.prototype=new bZ;
function k8(){bZ.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}k8.prototype=new bZ;
function an(){fv.call(this,!1,["binop","feat","redge","sesu"])}an.prototype=new fv(!0);function kT(){ez.call(this,["brush","qsmode","redge","sesu"])}kT.prototype=new ez;
function iJ(){dR.call(this);this.f6=[new kk,new eA([8,11,3],null,null,!0),new eA(["VAR0...",[15,10,22]],null,null,!0)];
for(var T=0;T<3;T++){var h=this.f6[T];h.P(T==0?k.E.f:"click",this.$_,this);this.body.appendChild(h.Z)}}iJ.prototype=new dR;
iJ.prototype.$_=function(h){var e=new g3(k.E.u,!0),v=this.f6.indexOf(h.target);if(v==0){e.data={V:k.l.bf,I:this.I,gO:h.target.j()}}else if(v==1){e=new g3(k.E.Fq,!0);
e.data={UH:"make",TH:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{e.data={V:k.l.Xq,dF:"divslice"}}this.a(e)};
iJ.prototype.G1=function(h){for(var T=0;T<this.f6.length;T++)this.f6[T].S()};function ia(){dR.call(this);
var h=this.qg=[new eA("\u25BC",null,null,!0),new eA("\u25B2",null,null,!0),new eA([5,4],null,null,!0),new eA(["VAR0...",[15,10,22]],null,null,!0)];
for(var T=0;T<4;T++){var e=h[T];this.body.appendChild(e.Z);e.P("click",this.$_,this)}}ia.prototype=new dR;
ia.prototype.$_=function(h){var e=this.qg.indexOf(h.target),v;if(e==3){v=new g3(k.E.u,!0);v.data={V:k.l.Xq,dF:"divslice"}}else{v=new g3(k.E.A,!0);
v.I=c.e0;v.data={V:e==2?"delete":"reorder",dir:e==0?-1:1}}this.a(v)};ia.prototype.S=function(){dR.prototype.S.call(this);
for(var T=0;T<4;T++)this.qg[T].S()};function jc(h,e){dR.call(this);if(window.Typr==null||h)return;this.av8=e;
this.ex=null;this.aE4=V.k("span","");this.a5x=V.k("span","");var v=1,J=this.vm={o5:new ak(null,24),vv:new cs("X",0,0,"px",0,!1,!0,4),ir:new cs("Y",0,0,"px",0,!1,!0,4),bQ:new cs("W",0,0,["%","px"],2,!1,!0,5),S$:new eA("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),F_:new cs("H",0,0,["%","px"],2,!1,!0,5),agK:new cs("\u2221",0,0,"\xB0",v,!1,!0),aiA:new cs("\u25B1 H",-85,85,"\xB0",v,!1,!0),aCP:new cs("\u25B1 V",-85,85,"\xB0",v,!1,!0),u0:new jV(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),ahm:new jV("Protect",[])};
J.u0.e(1);J.S$.e(!0);for(var m in J){var d=J[m],x=!0;if(e&&(d==J.agK||d==J.aiA||d==J.aCP||d==J.u0))x=!1;
if(!e&&d==J.ahm)x=!1;if(x)this.aE4.appendChild(d.Z);var j=d==J.S$?"click":k.E.f;d.P(j,this.avb,this)}this.kw=new ha("Split",ha.no(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.kw.e(-1);this.kw.P(k.E.f,this.a7g,this);this.LS=new ip(!0,!0,!0);this.LS.P(k.E.f,this.a7g,this);
this.LS.parent=this;var E=this.a5x,L=this.LS;E.appendChild(this.kw.Z);E.appendChild(L.T2.Z);E.appendChild(L.LU.Z);
E.appendChild(L.M_.Z);E.appendChild(L.OX.Z);E.appendChild(L.xL.Z);this.oO=new eA([11,9]);this.oO.P("click",this.aji,this);
this.JP=new dc;this.JP.P("click",this.Vp,this)}jc.prototype=new dR;jc.prototype.I8=function(h){if(h.zG){var e=jc,v=this.bo;
if(v==null)v=this.bo=new ar(e.aB1(),e.a3K(this.I));v.S();v.parent=this;v.update(h.PD,h.H);var J=new g3(k.E.u,!0);
J.data={V:k.l.Eu,nB:v,x:h.zG.oU+2,y:h.zG.dG+1};this.a(J);return}V.H5(this.body);this.ex=h;if(h.vm){var m=h.vm.e3,d=h.vm.ok.O(),x=Math.atan2(-d.b,d.DR),j=new aJ;
j.rotate(-x);d.concat(j);var E=this.vm;E.o5.e(h.vm.Ap);E.vv.e(h.vm.Tc.x);E.ir.e(h.vm.Tc.y);E.bQ.e(d.DR*(E.bQ.qA()=="%"?100:m.q));
E.F_.e(d.l_*(E.F_.qA()=="%"?100:m._));E.agK.e(-x*180/Math.PI);E.aiA.e(Math.atan(d.tg/d.l_)*180/Math.PI);
E.aCP.e(0*180/Math.PI);this.body.appendChild(this.aE4);this.oO.H2();if(h.vm.rb!=null)E.S$.e(h.vm.rb)}if(h.kO){if(h.abQ)this.kw.e(-1);
this.LS.e(h.kO);this.body.appendChild(this.a5x);this.oO.vU()}if(h.Ar)E.ahm.VU(h.Ar);this.body.appendChild(this.JP.Z);
if(h.ajc&&!this.av8)this.body.appendChild(this.oO.Z)};jc.prototype.avb=function(h){var e=this.vm,v=this.ex.vm.e3;
if(h.target==e.S$)e.S$.e(!e.S$.j());else if(e.S$.rN()){var J=e.F_,m=e.bQ,d=v._,x=v.q;if(h.target==e.bQ){J=e.bQ;
m=e.F_;d=v.q;x=v._}var j=J.j()/(J.qA()=="%"?100:d);j*=m.qA()=="%"?100:x;m.e(j)}var E=[];for(var L in e)if(e[L]!=e.S$&&e[L]!=e.o5){var j=e[L].j();
if((e[L]==e.bQ||e[L]==e.F_)&&j==0){j=.1;e[L].e(j)}if(e[L]==e.bQ&&e[L].qA()=="px")j/=v.q/100;if(e[L]==e.F_&&e[L].qA()=="px")j/=v._/100;
E.push(j)}var p=new fq(E[0],E[1]);if(h.target==e.o5){this.kS({nI:"ctyp",Ap:e.o5.j()})}else if(h.target==e.vv||h.target==e.ir){this.kS({nI:"cen",Tc:p})}else{var Z=this.ex.vm.ok.O(),o=Z.O(),u=Math.atan2(-Z.b,Z.DR);
o.translate(-p.x,-p.y);o.rotate(-u);var N=new aJ(o.DR,o.b,o.tg,o.l_,0,0);N.ia();o.concat(N);var M=E[2]/100,O=E[3]/100;
o.concat(new aJ(M,M*Math.tan(E[6]*Math.PI/180),O*Math.tan(E[5]*Math.PI/180),O,0,0));o.rotate(-E[4]*Math.PI/180);
o.translate(p.x,p.y);this.ex.vm.ok=o;this.kS({nI:"trn",vm:o,jW:e.u0.j(),Dm:e.ahm.j(),rb:e.S$.j()})}};
jc.prototype.a7g=function(h){var e=this.kw;this.kS(h.target==e?{nI:"splt",J:e.j()}:{nI:"wrp",kO:this.LS.j()})};
jc.prototype.aji=function(h){this.kS({nI:"switchWarp"})};jc.prototype.Vp=function(h){this.kS({nI:this.JP.j()?"commit":"cancel"})};
jc.prototype.kS=function(h){h.V=k.l.bf;h.I=this.I;var e=new g3(k.E.u,!0);e.data=h;this.a(e)};jc.prototype.G1=function(){var h=this.vm;
for(var e in h)h[e].S();V.jE(h.bQ,h.F_);this.JP.S();this.kw.S();this.LS.S();this.oO.S()};jc.aB1=function(){var h=function(e){var v=!0;
if(e==null||e.X.length==0)v=!1;else{var J=e.X;for(var T=0;T<J.length;T++){if(e.T[J[T]].add.TySh)v=!1}}return{m:v}};
return[{name:[5,9],vD:"Shift+Alt+Ctrl + T",jV:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],m:h},{name:[2,9],m:h,jV:!0},{name:[11,9],m:function(e){if(e==null||e.X.length!=1)return{m:!1};
var v=e.T[e.X[0]];return{m:v.add.TySh==null&&!v.XN()}},jV:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
jc.a3K=function(h){if(h==null)h=c.Li;return[{o:k.E.A,I:h,h:{V:"again"}},{o:k.E.u,h:{V:k.l.px,I:h,yJ:{MC:3}}},{o:k.E.u,h:{V:k.l.px,I:h,yJ:{MC:4}}},{o:k.E.u,h:{V:k.l.px,I:h,yJ:{MC:5}}},{o:k.E.u,h:{V:k.l.px,I:h,yJ:{MC:2}}},{o:k.E.u,h:{V:k.l.px,I:h,yJ:{MC:1}}},{o:k.E.u,h:{V:k.l.px,I:h,yJ:{MC:-1}}},{o:k.E.Fq,h:c.L2.G2(!0,90,!0)},{o:k.E.Fq,h:c.L2.G2(!0,-90,!0)},{o:k.E.Fq,h:c.L2.G2(!0,-180,!0)},{o:k.E.Fq,h:c.L2.G2(!1,"Hrzn",!0)},{o:k.E.Fq,h:c.L2.G2(!1,"Vrtc",!0)}]};
function hE(){jc.call(this)}hE.prototype=new jc(!0);function iu(){jc.call(this)}iu.prototype=new jc(!0);
function dV(){jc.call(this,!1,!0)}dV.prototype=new jc(!0);function d$(){dR.call(this);var h=this.Cb=[new jV([12,36],["Rigid",[15,10,0],[24,4]]),new jV([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new cs([7,4],0,100,"px"),new hJ("Show Mesh"),new eA("\u25BC",null,null,!0),new eA("\u25B2",null,null,!0)];
for(var T=0;T<h.length;T++){var e=h[T];e.parent=this;this.body.appendChild(e.Z);e.P(T<4?k.E.f:"click",this.a3t,this)}this.JP=new dc;
this.JP.P("click",this.Vp,this);this.body.appendChild(this.JP.Z)}d$.prototype=new dR;d$.prototype.G1=function(){var h=this.Cb;
for(var T=0;T<4;T++)h[T].S();this.JP.S()};d$.prototype.I8=function(h){var h=h.m0;for(var T=0;T<4;T++)this.Cb[T].e(h[T])};
d$.prototype.a3t=function(h){var e=[];for(var T=0;T<4;T++)e[T]=this.Cb[T].j();var v=this.Cb.indexOf(h.target);
if(v<4)this.kS({nI:"prm",m0:e});else this.kS({nI:"moveDepth",a1s:v==5})};d$.prototype.Vp=function(h){this.kS({nI:this.JP.j()?"commit":"cancel"})};
d$.prototype.kS=function(h){h.V=k.l.bf;h.I=this.I;var e=new g3(k.E.u,!0);e.data=h;this.a(e)};function b6(){dR.call(this);
this.Cb=null;this.wv=new jV([12,44],["","","","",""]);this.wv.P(k.E.f,this.ui,this);this.body.appendChild(this.wv.Z);
this.kf=new hJ("ON");this.kf.P(k.E.f,this.ui,this);this.body.appendChild(this.kf.Z);var h=cs;this.Ka=[[new h([24,2],0,500)],[new h([24,2],0,500)],[],[new h([24,2],0,500)],[new h("Speed",0,500,"%"),new h("Point Speed",0,500,"px")],[new h([12,15],0,360,"\xB0",null,!0)]];
for(var T=0;T<6;T++)for(var e=0;e<this.Ka[T].length;e++){var v=this.Ka[T][e];v.parent=this;v.P(k.E.f,this.ui,this)}this.JP=new dc;
this.JP.P("click",this.ui,this)}b6.prototype=new dR;b6.prototype.I8=function(h){var e=this.Cb=h.m0,v=e[0];
this.a5U();this.S()};b6.prototype.ui=function(h){var e=this.Cb,v=e[0],J=h.target,m=J.j();if(J==this.JP){}else if(J==this.wv){v=e[0]=m<2?m:m+1;
this.a5U(v);e[2]=null}else if(J==this.kf){e[1][v]=m;e[2]=null;this.S()}else{var d=this.Ka[v];for(var x=0;
x<d.length;x++)e[2][x]=d[x].j()}var j=new g3(k.E.u,!0);j.data={V:k.l.bf,I:this.I,m0:e};if(J==this.JP)j.data.nI=m?"commit":"cancel";
this.a(j)};b6.prototype.a5U=function(){var h=this.body,e=this.Cb,v=e[0];this.wv.e(v<2?v:v-1);this.kf.e(e[1][v]);
while(h.children.length>2)h.removeChild(h.lastChild);var J=this.Ka[v];for(var T=0;T<J.length;T++){J[T].Es(e[2]!=null);
if(e[2]!=null)J[T].e(e[2][T]);h.appendChild(J[T].Z)}h.appendChild(this.JP.Z)};b6.prototype.S=function(){var h=[],e=this.Cb,v=this.wv;
for(var T=0;T<5;T++){var J=[24,3,12,T];if(e)J=(e[1][T<2?T:T+1]?"\u2713 ":"\u2002\u2002")+bj.get(J);h.push(J)}var m=v.j();
v.VU(h);v.e(m);var d=this.Ka;for(var T=0;T<6;T++){var x=d[T];for(var j=0;j<x.length;j++)x[j].S()}};function aX(){dR.call(this);
var h=this.fA=[new jV([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var T=0;T<h.length;T++){var e=h[T];
e.P(k.E.f,this.ui,this);this.body.appendChild(e.Z)}}aX.prototype=new dR;aX.prototype.ui=function(h){var e=this.fA,v=[];
for(var T=0;T<e.length;T++)v[T]=e[T].j();var J=new g3(k.E.u,!0);J.data={V:k.l.bf,I:this.I,wK:v};this.a(J)};
aX.prototype.G1=function(){for(var T=0;T<this.fA.length;T++)this.fA[T].S()};function gs(){fv.call(this,!1,["binop"]);
this.afB=new eA("Remove",!1,null,!0);this.afB.P("click",this.sh,this);this.afB.Z.style.marginRight="2em";
this.aj$=new jE("New content");this.xn=new eA("\u2026",!1,null,!0);this.xn.P("click",this.gK,this);this.Rx=new eA([18,0],!1,null,!0);
this.Rx.P("click",this.sh,this);this.ae4=new eA("Undo",!1,null,!0);this.ae4.P("click",this.sh,this);
this.body.appendChild(this.afB.Z);this.body.appendChild(this.aj$.Z);this.body.appendChild(this.xn.Z);
this.body.appendChild(this.Rx.Z);this.body.appendChild(this.ae4.Z);this.pD=new fx;this.pD.parent=this;
var h=this.pD.Z=V.k("div","floatcont form label6");h.style.width="270px";var e=this.N$="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");
this.auz=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var v=this.Lf=[new hJ("Use default settings"),new jV("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new jE("Neg. prompt",null,13.25),new bQ("Guidance",-20,20),new bQ("Steps",10,50),new jV("Sampler",e)];
v[0].P(k.E.f,this.S,this);v[0].e(!0);v[1].e(1);v[3].e(6);v[4].e(20);for(var T=0;T<v.length;T++){h.appendChild(v[T].Z);
V.Xp(h)}}gs.prototype=new fv(!0);gs.prototype.S=function(){dR.prototype.S.call(this);this.Rx.S();var h=this.Lf;
for(var T=0;T<h.length;T++){h[T].S();if(T>0)h[T].Es(!h[0].j())}};gs.prototype.sh=function(h){if(h.target==this.ae4){var e=new g3(k.E.A,!0);
e.I=c.V8;e.data={V:"h_stepbck"};this.a(e);return}var v=this.Lf,J={},m=["model","negative_prompt","guidance","steps","sampler"],d=!v[0].j();
if(d){for(var T=1;T<v.length;T++)J[m[T-1]]=v[T].j();J.model=this.auz[J.model];J.sampler=this.N$[J.sampler];
J.steps=Math.min(J.steps,50)}var e=new g3(k.E.Fq,!0);e.data=c.Bt.pH("aiHeal");if(h.target==this.Rx){e.data.TH.prmt={t:"TEXT",v:this.aj$.j()};
if(d)e.data.TH.m0=J}this.a(e)};gs.prototype.gK=function(h){if(V.gl(this.pD.Z))return;var e=this.xn.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);
v.data={V:k.l.Eu,nB:this.pD,x:e.left,y:e.top+e.height+4,u3:!0};this.a(v)};function aa(){fx.call(this);
this.Z=V.k("div","cmanager");window.alert=function(J,m){this.aD6(J,m);console.log("Alert: "+J)}.bind(this);
window.onblur=function(J){var m=this;m.AW()}.bind(this);this.VA=0;this.qw=0;this.eb=[];this.at_={};this.akL=V.k("div","alertcont");
this.Z.appendChild(this.akL);this.abn=V.k("div","alertcont");this.Z.appendChild(this.abn);this.d_=V.k("div","alertcont");
this.aF5=0;this.tX=-1;this.asp=null;this.f6=null;var h=this.ai8=V.k("div","alertpanel");V.v(h,"padding:0.7em 1em 0.1em 1em;");
this.d_.appendChild(h);var e=this.mW=V.k("input");e.setAttribute("type","text");V.JM(e);V.v(e,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
e.addEventListener("input",this.aGr.bind(this),!1);e.addEventListener("keydown",this.anp.bind(this),!1);
h.appendChild(e);var v=this.Et=V.k("div","contextpanel scrollable");V.v(v,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
v.addEventListener("click",this.axz.bind(this),!1);h.appendChild(v);V.La(document.body,this.aaF.bind(this))}aa.prototype=new fx;
aa.prototype.pa=function(){if(V.gl(this.d_))this.Z.removeChild(this.d_)};aa.prototype.apG=function(h,e){var v=this.asp=[],J=e.avE;
for(var T=0;T<cj.data.length;T++){var m=cj.data[T],d=[bj.get(m.name)],x=[T];aa._W(m.items,d,x,v,h,e,J==null?null:J[T]==null?0:J[T])}var j=e.F;
for(var T=0;T<j.rX.length;T++){var E=j.rX[T],L=j.keys[T];for(var p=0;p<E.length;p++)v.push([["Tools",bj.get(E[p].I.name)],[-1,E[p].I.id],L?L.VD:null])}this.Z.appendChild(this.d_);
var Z=this.mW;Z.focus();Z.select();this.FN()};aa.prototype.aGr=function(h){this.tX=-1;this.FN()};aa.prototype.FN=function(){var h=this.mW.value.toLowerCase().trim().replace(/  +/g," "),e=this.asp,v=[],J=[],m=h.split(" ");
if(h!="")for(var T=0;T<e.length;T++){var d=e[T][0],x=[],j=0;for(var E=0;E<d.length;E++)x[E]=-1;for(var L=0;
L<m.length;L++)for(var E=0;E<d.length;E++){var p=d[E].toLowerCase().indexOf(m[L]);if(p!=-1){x[E]=[p,p+m[L].length];
j++;break}}if(j==m.length){v.push(e[T]);J.push(x)}}var Z=[],o=this.Et;V.H5(o);for(var T=0;T<v.length;
T++){var u=v[T],N=u[0],p=J[T],M="enab",F="";if(T==this.tX)M+=" active";var O=V.k("div",M);Z.push(O);
o.appendChild(O);for(var E=0;E<N.length;E++){var W=p[E],f=m[E],$=N[E];if(W!=-1)$=$.slice(0,W[0])+"<span style=\"color:black\">"+$.slice(W[0],W[1])+"</span>"+$.slice(W[1]);
F+=$;if(E<N.length-1)F+=" \uFE65 "}if(u[2]&&(typeof u[2]!="string"||u[2].length==1))F+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+dW.G5(u[2])+"</span>";
O.innerHTML=F}this.f6=[v,Z]};aa.prototype.anp=function(h){var e=dW.ll,v=h.code;if(e(v,dW.BC))this.pa();
var J=e(v,dW.nk),m=e(v,dW.nG),d=e(v,dW.zD);if(J||m){this.tX=Math.max(0,Math.min(this.f6[0].length-1,this.tX+(J?-1:1)));
this.FN()}if(d&&this.tX!=-1)this.ar2(this.tX)};aa._W=function(h,e,v,J,m,d,x){if(typeof x=="number"){if(x==0)return;
if(x==1)x=null}for(var T=0;T<h.length;T++){if(x!=null&&(x[T]==0||x[T]==null))continue;var j=h[T],E=e.slice(0),L=v.slice(0),p=bj.get(j.name);
if(j.m){var Z=j.m(m,d,T);if(Z.se)p=Z.se;if(Z.m==!1)continue}E.push(p);L.push(T);if(j.sub)aa._W(j.sub,E,L,J,m,d,x?x[T]:null);
else J.push([E,L,j.vD])}};aa.prototype.axz=function(h){var e=h.target;if(e.tagName.toLowerCase()=="span")e=e.parentNode;
var v=this.f6[1].indexOf(e);if(v!=-1)this.ar2(v)};aa.prototype.ar2=function(h){var e=this.f6[0][h][1];
if(e[0]==-1){var v=new g3(k.E.u,!0);v.data={V:k.l.px,I:e[1]};this.a(v)}else{var J=cj.data[e[0]].ny[e[1]];
for(var T=2;T<e.length;T++)J=J.sub[e[T]];var m=new g3(J.o,!0);m.I=J.I;m.data=J.h;this.a(m)}this.pa()};
aa.prototype.Kt=function(h,e){this.VA=h;this.qw=e;this.Et.style["max-height"]=e-120+"px"};aa.prototype.a8h=function(h){var e=V.k("div","alertpanel");
e.textContent=bj.get(h);this.akL.appendChild(e);this.at_[JSON.stringify(h)]=e};aa.prototype.atd=function(h){var e=this.at_[JSON.stringify(h)];
this.akL.removeChild(e);delete this.at_[JSON.stringify(h)]};aa.prototype.aD6=function(h,e){var v=this.abn;
for(var T=0;T<v.children.length;T++)if(v.children[T].textContent==h)return;var J=V.k("div","alertpanel tpanel");
J.textContent=h;V.v(J,"opacity:0.5; transform:scale(0.9)\t");v.appendChild(J);if(e==null)e=1500;var m=e,d=Math.max(Date.now()+m,this.aF5+m);
setTimeout(function(){V.v(J,"transform:scale(1); opacity:1;")},10);setTimeout(function(){V.v(v,"margin-top: -3.6em; transform: translateY(3.6em);")},d-Date.now()-30);
setTimeout(function(){v.removeChild(v.firstChild);V.v(v,"transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},d-Date.now());
this.aF5=d};aa.prototype.aaF=function(h){var e=this.eb;for(var T=e.length-1;T>=0;T--){var v=e[T],J=h.target;
while(J!=null){if(J==v.Z){this.AW(v);return}J=J.parentNode}}this.AW();var m=h.target;while(m!=this.d_&&m!=document.body)m=m.parentNode;
if(m!=this.d_)this.pa()};aa.prototype.AW=function(h){var e=this.eb;for(var T=0;T<e.length;T++){if(h&&h.aeT(e[T]))continue;
var v=e[T].Z;if(!(e[T]instanceof ar))V.dm(e[T],this.Z);else this.Z.removeChild(v);v.style.height="auto";
V.t7(v,"scrollable");e.splice(T,1);T--}};aa.prototype.a4j=function(h){this.AW(h.nB);var e=h.nB,v=e.Z;
if(this.eb.indexOf(e)!=-1)return;this.eb.push(e);this.Z.appendChild(v);var J=this.VA,m=this.qw,d=h.x,x=h.y,j=this.Z.getBoundingClientRect(),E=e instanceof ar,L=-1,p=m-2;
if(E||h.u3){var Z=e.OD(),o=e.a5u();if(E)Z=Math.min(Z,200);var u=J-Z-2,N=m-o-2;if(x<N)L=2;else if(d<u)L=1;
else if(0<x-o-2)L=0;else L=3;if(h.aby)L=0;if(h.alv)L=2;if(L==2){d=Math.min(d,u)}else if(L==1){x=Math.min(x,N)}else if(L==0){x=x-o-2;
d=Math.min(d,u);p=h.y}else if(L==3){d=d-Z-2;x=Math.min(x,N)}}x=Math.max(2,x);var top=Math.round(x-j.y+this.Z.offsetTop);
v.style.position="absolute";v.style["z-index"]=10;if(x+e.a5u()>p){v.style.height=p-x+"px";V.zZ(v,"scrollable");
if(L==3)d-=10}v.style.left=Math.round(d)+"px";v.style.top=top+"px";if(!(e instanceof ar))V.Kk(e)};aa.prototype.anc=function(h){var e=h.nB,v=this.eb.indexOf(e);
if(v==-1)return;this.eb.splice(v,1);var J=e.Z;if(!(e instanceof ar))V.dm(e,this.Z);else this.Z.removeChild(e.Z)};
aa.prototype.He=function(){var h=this.eb;return h.length==0?null:h[h.length-1]};aa.prototype.a0f=function(){this.anc({nB:this.He()})};
function jd(){fx.call(this);this.Z=V.k("div","confbar")}jd.prototype=new fx;jd.prototype.aw3=function(h){h.parent=this;
V.H5(this.Z);this.Z.appendChild(h.Z)};function jB(){fx.call(this);var h=this.Z=V.k("div","toolconf");
h.style.marginLeft="40px";this.anz=null;this.IU=null;this.yO=[new iq(0),new iq(1),new cs([14,9],0,100,"px"),new j0(!0),new cs([12,0],0,100,"%",0)];
for(var T=0;T<this.yO.length;T++){var e=this.yO[T];e.parent=this;e.P(k.E.f,this.aFA,this);h.appendChild(e.Z)}var v=this.QT=new c4;
this.QT.parent=this;this.asa=new cE("Tt:");var J=this.mE=V.k("span");h.appendChild(J);J.appendChild(this.asa.Z);
J.appendChild(v.jH.Z);J.appendChild(v._L.Z);J.appendChild(v.nM.Z)}jB.prototype=new fx;jB.prototype.aFA=function(h){var e=this.yO.indexOf(h.target),v=h.target.j();
if(e==4){var J=new g3(k.E.A,!0);J.I=c.Yn;J.data={V:s.Dw,uO:Math.round(255*v/100)};this.a(J);return}var m=B.t(this.anz.Rr);
if(e<2){var d,x=v;if(e==0){d=m.xJ;m.xJ=x}else{d=m.N0;m.N0=x}if(d.length!=x.length){var j=[1,0,0,1,0,0];
if(d.length==4){j=d[3].slice(0);j[1]*=-1;j[2]*=-1}if(d.length==2){j=d[1][1].slice(0)}if(x.length==4){x[2]=[0,0,0,1,1,0,0];
x[3]=j;j[1]*=-1;j[2]*=-1}if(x.length==2){x[1]=[[0,0,1,1,0,0,0,0,0],j]}}}if(e==2)m.T8=v;if(e==3)m=v;var J=new g3(k.E.u,!0);
J.data={V:k.l.Gi,m0:dq.SH,J:m};this.a(J)};jB.prototype.S=function(){for(var T=0;T<this.yO.length;T++)this.yO[T].S();
this.QT.S()};jB.prototype.HK=function(h,e){this.IU=h;this.yO[0].lN(h);this.yO[1].lN(h)};jB.prototype.eh=function(h){if(h.X.length==0)return;
var e=h.T[h.X[0]];this.yO[4].e(Math.round(e.S2*100/255));V.v(this.mE,"line-height:1.5em; display:"+(e.add.TySh?"":"none"))};
jB.prototype.fa=function(h,e){this.anz=h;var v=h.Rr,J=this.IU;this.yO[0].e(v.xJ,J);this.yO[1].e(v.N0,J);
if(v.T8!=null)this.yO[2].e(v.T8);this.yO[3].e(v);this.QT.e(h.Xi,h.eN,h.Td)};function ke(h){fx.call(this);
ke.aF=this;ke.we=h;this.H=null;this.VL=V.k("input","");this.VL.setAttribute("type","file");this.VL.setAttribute("multiple","");
this.VL.addEventListener("change",function(e){this.Pl(e.target.files,null,this.h1,null);this.h1=null}.bind(this),!1);
document.body.appendChild(this.VL);V.v(this.VL,"display:none");this.aGH=[];this.ax9=!1;this.att=[];this.anA=!1;
this.aaV={};this.h1=null}ke.prototype=new fx;ke.we=null;ke.Pt=function(h){try{var e={};e[h.type]=h;navigator.clipboard.write([new ClipboardItem(e)])}catch(j3){console.error(j3,j3.message)}};
ke.Ui=function(h,e){navigator.clipboard.read().then(function(v){for(var T=0;T<v.length;T++){try{var J=v[T],m={},d=0,x=0;
for(var j=0;j<J.types.length;j++){var E=J.types[j];d++;J.getType(E).then(function(L){var p=E;new Response(L).arrayBuffer().then(function(Z){m[this.R4]=Z;
x++;if(x==d)ke.aww(m,h,e)}.bind({R4:this.R4}))}.bind({R4:E}))}}catch(j3){console.error(j3,j3.message)}}}).catch(function(v){alert("Please, give us permissions to access your clipboard.")})};
ke.aDD=function(h){navigator.permissions.query({name:"clipboard-read"}).then(function(e){h(e.state)})};
ke.aww=function(h,e,v){var J=["text/plain","image/png","text/html","text/plain"];for(var m in h)console.log(m,m.startsWith("text")?b.Is(new Uint8Array(h[m])).slice(0,100)+"...":h[m]);
for(var d=0;d<J.length;d++){var x=J[d],j=h[x];if(j==null)continue;if(x=="image/png"){ke.we({name:"image.png"},j,e,v);
return}if(x=="text/plain"){var E=b.Is(new Uint8Array(j));if(d==0)if(!E.startsWith("<!--")&&!E.startsWith("<svg"))continue;
if(v&&E.startsWith("<svg"))continue;var L=new g3(k.E.u,!0);L.data={V:k.l.arP,J:E};e.a(L);return}if(x=="text/html"){var E=b.Is(new Uint8Array(j)),p=E.indexOf("src=\"");
if(p!=-1&&E.slice(p+5,p+9)!="http"){var Z=p+10;while(E[Z]!="\"")Z++;var o=E.slice(p+5,Z);ke.we({name:"chart.png"},gI.DU(o).buffer,e,v);
return}}}};ke.prototype.y4=function(h){if(h==null)h=[23,5];var e=JSON.stringify(h),v=this.aaV;if(v[e]==null)v[e]=0;
if(v[e]==0){var J=new g3(k.E.u,!0);J.data={V:k.l.zw,qt:h};this.a(J)}v[e]++};ke.prototype.KK=function(h){if(h==null)h=[23,5];
var e=JSON.stringify(h),v=this.aaV;if(v[e]==null)v[e]=0;v[e]--;if(v[e]==0){var J=new g3(k.E.u,!0);J.data={V:k.l.gv,qt:h};
this.a(J)}};ke.prototype.aqP=function(h,e,v){this.h1=h;var J=window.showOpenFilePicker;if(v)J=null;if(J&&window.self==window.top){var m=this;
J({multiple:!0}).then(function(j){var E=[];function L(p){E.push(p);if(E.length==j.length){m.Pl(E,null,m.h1,null,j);
m.h1=null}else j[E.length].getFile().then(L)}j[E.length].getFile().then(L)});return}var d=this.VL;if(e)d.setAttribute("accept",e);
else d.removeAttribute("accept");var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
d.dispatchEvent(x)};ke.prototype.Bl=function(h){if(h.url.indexOf("photopea.com#i")!=-1||h.url.indexOf("photopea.com/#i")!=-1){this.a3(h.url.split("#i").pop());
return}this.aGH.push(h);this.agw()};ke.prototype.agw=function(){var h=this.aGH;if(h.length==0||this.ax9)return;
this.ax9=!0;var e=h.shift();this.y4();if(e.N2==null)e.N2={};var v=new XMLHttpRequest;v.w2=e;var J=e.url;
if(e.Q4&&!J.startsWith("data:image"))J="mirror.php?url="+encodeURIComponent(J);v.open("GET",J);if(e.a1I)for(var m in e.a1I)v.setRequestHeader(m,e.a1I[m]);
v.responseType="arraybuffer";v.onload=this.aAA.bind(this);v.send()};ke.prototype.Pl=function(h,e,v,J,m){for(var T=0;
T<h.length;T++){this.y4();var d=h[T],x=new FileReader;x.w2=d;x.w2.az=v;x.w2.J6=J;x.a39=e;if(m)x.w2.rK=m[T];
x.onload=this.aAA.bind(this);x.onerror=function(j){this.KK()}.bind(this);this.att.push([x,d])}this.VL.value=null;
this.a2Y()};ke.prototype.a2Y=function(){var h=this.att;if(h.length==0||this.anA)return;this.anA=!0;var e=h.shift();
e[0].readAsArrayBuffer(e[1])};ke.prototype.a1D=function(h,e,v){this.y4("Saving ...");this.H=e;setTimeout(v.bind({tL:h,caller:this}),50)};
ke.wE=function(h){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=new Uint8Array(h),J=v.length,m=J%3,d=J-m,x=[],j=0,E=0,L=0;
for(var T=0;T<d;T+=3){j=v[T];E=v[T+1];L=v[T+2];x.push(e[j>>2]+e[(j&3)<<4|E>>4]+e[(E&15)<<2|L>>6]+e[L&63])}if(m==1){j=v[d];
x.push(e[j>>2]+e[(j&3)<<4]+"==")}if(m==2){j=v[d];E=v[d+1];x.push(e[j>>2]+e[(j&3)<<4|E>>4]+e[(E&15)<<2]+"=")}var p=x.join("");
return p};ke.asc=function(h,e){var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=new Uint8Array(64),j=0,E=0,L=0,Z=0;
for(var T=0;T<64;T++)J[T]=v.charCodeAt(T);var m=new Uint8Array(h),d=e%3,x=e-d,p=new Uint8Array(Math.floor(e/3)*4+(d==0?0:4));
for(var T=0;T<x;T+=3){j=m[T];E=m[T+1];L=m[T+2];p[Z]=J[j>>>2];p[Z+1]=J[(j&3)<<4|E>>>4];p[Z+2]=J[(E&15)<<2|L>>>6];
p[Z+3]=J[L&63];Z+=4}if(d==1){j=m[x];p[Z]=J[j>>2];p[Z+1]=J[(j&3)<<4];p[Z+2]=61;p[Z+3]=61}if(d==2){j=m[x];
E=m[x+1];p[Z]=J[j>>2];p[Z+1]=J[(j&3)<<4|E>>4];p[Z+2]=J[(E&15)<<2];p[Z+3]=61}return p};ke.prototype.aAA=function(h){var e,v=h.target.w2;
if(h.target instanceof XMLHttpRequest)e=h.target.response;else e=h.target.result;ke.we(v,e,this,h.target.a39);
this.KK();if(h.target instanceof XMLHttpRequest){this.ax9=!1;this.agw()}else{this.anA=!1;this.a2Y()}};
ke.acf=function(h,e){var v=new XMLHttpRequest;v.open("POST","https://api.imgur.com/3/image",!0);v.OF=e;
v.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");v.setRequestHeader("Content-type","application/x-www-form-urlencoded");
v.setRequestHeader("Accept","application/json");v.addEventListener("load",ke.a1g);v.send("type=base64&image="+encodeURIComponent(ke.wE(h)));
alert("Saving to Imgur ...",4e3)};ke.a1g=function(h){var e=JSON.parse(h.target.response);if(e.success){if(h.target.OF)h.target.OF(e.data.link);
else window.open(e.data.link,"Imgur")}};ke.prototype.a3=function(h,e,v){this.y4();var J=new XMLHttpRequest;
J.responseType="arraybuffer";J.open("GET","https://f000.backblazeb2.com/file/"+(v?"pp-resources":"psdshared")+"/"+h);
J.onload=this.a2s.bind(this);J.send();J.ji=[Date.now(),h,e?h:null,v]};ke.prototype.a2s=function(h){var e=h.target.ji,v=new Uint8Array(h.target.response);
console.log(v.length+" B,",Date.now()-e[0]+" ms");for(var T=0;T<v.length;T++)v[T]=255-v[T];v=pako.inflateRaw(v);
var J=JSON.parse(b.Is(v,0,2e3));ke.we({name:J.name,um:e[2]},v.slice(2e3).buffer,this);this.KK();if(!e[3])ke.j6("act=0&id="+e[1])};
ke.prototype.arn=function(h,e,v,J){if(!(h instanceof ArrayBuffer))throw"e";h=new Uint8Array(h);var m=new Uint8Array(h.length+2e3),o="";
for(var T=0;T<2e3;T++)m[T]=32;b.VC(JSON.stringify({name:e}),m,0);m.set(h,2e3);h=m;h=pako.deflateRaw(h);
for(var T=0;T<h.length;T++)h[T]=255-h[T];h=h.buffer;var d=h.byteLength,x=iD.kA(d),j=~~(609e5/2),E=~~(209e5/2);
if(d>j){confirm("Your file is "+x+". Our limit is "+iD.kA(j)+". Delete some layers and try again.");
return}if(d>E){var L=confirm("Your file is quite large ("+x+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!L)return}var p=sha1(h),Z=[];for(var T=0;T<20;T++){var u=parseInt(p.slice(T*2,T*2+2),16);Z.push(u);
o+=String.fromCharCode(u)}var N=btoa(o).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(ke.avN(N,J)){console.log("file already exists");
if(v)v(N);else window.open("https://www.photopea.com#i"+N+".psd");return}this.y4("Publishing ...");var M=new XMLHttpRequest;
M.ji=[h,p,N,v,J];M.open("GET",cU.Hk("papi/img/publish.php?rnd="+Math.random()+"&id="+N+"&size="+d+"&bname="+J));
M.onload=this.aGh.bind(this);M.send()};ke.avN=function(h,e){try{var v=new XMLHttpRequest;v.open("HEAD","https://f000.backblazeb2.com/file/"+e+"/"+h,!1);
v.send();if(v.status==200)return!0}catch(j3){return!1}return!1};ke.prototype.aGh=function(h){console.log(h.target.response);
var e=JSON.parse(h.target.response),v=h.target.ji,J=new XMLHttpRequest;J.open("POST",e.uploadUrl);J.setRequestHeader("Authorization",e.authorizationToken);
J.setRequestHeader("X-Bz-File-Name",v[2]);J.setRequestHeader("Content-Type","b2/x-auto");J.setRequestHeader("X-Bz-Content-Sha1",v[1]);
J.send(new Blob([v[0]]));J.onload=this.axm.bind({IF:this,ji:v})};ke.prototype.axm=function(h){this.IF.KK("Publishing ...");
if(this.ji[3])this.ji[3](this.ji[2]);else window.open("https://www.photopea.com#i"+this.ji[2]+".psd");
if(this.ji[4]=="psdshared")ke.j6("act=2&id="+this.ji[2]+"&fileId="+JSON.parse(h.target.response).fileId)};
ke.j6=function(h){var e=new XMLHttpRequest;e.open("GET","/papi/img/update.php?"+h+"&rnd="+Math.random());
e.send()};ke.save=function(h,e){var v=new Uint8Array(h),J=document.createElement("a");if(typeof J.download=="string"){var m=new Blob([v]),d=window.URL.createObjectURL(m);
J.href=d;J.download=e;document.body.appendChild(J);J.click();document.body.removeChild(J)}else{var x="data:application/octet-stream;base64,"+ke.wE(h);
window.open(x)}};function kg(){this.size=16;this.data=B.U(16)}kg.prototype.OQ=function(h,e){if(h+e<=this.size)return;
var v=this.size;while(h+e>this.size)this.size*=2;var J=B.U(this.size);for(var T=0;T<v;T++)J[T]=this.data[T];
this.data=J};var dE={};dE.ep=function(h,e,v,J){var m=e.split(":"),d=m[0];if(m.length==2){if(d=="jpg")J=[Math.round(100*parseFloat(m[1]))];
if(d=="webp")J=[Math.round(100*parseFloat(m[1]))];if(d=="psd")J=[!0,!0,!1,!1,!1];if(d=="svg")J=m[1].split(",").map(function(j){return j=="true"});
if(d=="jpg"||d=="webp")if(h.AG())J.push(!1)}var x=gI.Pc(h,d.toUpperCase(),null,null,J,v);return x};dE.ag6=function(h,e,v){var J=h.pb(),m=e[0];
return dE.ep(h,m,v)};dE.as5=function(){var h=this.tL,e=this.caller,v=h.N2.sy,J=v.formats,m,d;h.pb();
var x=Date.now();if(v.version==1){var j=[],E=0,p=0;for(var T=0;T<J.length;T++){var L=dE.ep(h,J[T],e.H);
j.push(L);E+=L.byteLength}m=new Uint8Array(2e3+E);var Z="{ \"source\": "+JSON.stringify(h.L5)+", \"versions\": [\n";
for(var T=0;T<J.length;T++){var o=new Uint8Array(j[T]);Z+="\t{\"format\": \""+J[T].split(":")[0]+"\", \"start\": "+p+", \"size\": "+o.length+" }"+(T+1<J.length?", ":"")+"\n";
m.set(o,2e3+p);p+=j[T].byteLength}Z+="] }";var u=b.VC(Z,m,0);for(var T=u;T<2e3;T++)m[T]=32;d="application/octet-stream"}else{var N=new kg,M=0,O="",F=encodeURIComponent;
O="p="+F("{ \"source\": "+JSON.stringify(h.L5)+", \"versions\": [");b.ey(N,M,O);M+=O.length;for(var T=0;
T<J.length;T++){O=F(" {\"format\": \""+J[T].split(":")[0]+"\", \"data\": \"");b.ey(N,M,O);M+=O.length;
var L=dE.ep(h,J[T],e.H),W=ke.asc(L,L.byteLength),u=W.length;N.OQ(M,u);for(var f=0;f<u;f++){N.OQ(M,3);
var $=W[f];if($==43){N.data[M]=37;N.data[M+1]=50;N.data[M+2]=66;M+=3}else if($==47){N.data[M]=37;N.data[M+1]=50;
N.data[M+2]=70;M+=3}else if($==61){N.data[M]=37;N.data[M+1]=51;N.data[M+2]=68;M+=3}else{N.data[M]=$;
M++}}O=F("\" }"+(T+1<J.length?", ":""));b.ey(N,M,O);M+=O.length}O=F("] }");b.ey(N,M,O);M+=O.length;m=N.data.slice(0,M);
d="application/x-www-form-urlencoded"}var H=new XMLHttpRequest;H.open("POST",v.url,!0);if(d)H.setRequestHeader("Content-Type",d);
H.addEventListener("load",dE.asV.bind(this));H.send(new Blob([m.buffer]))};dE.asV=function(h){this.caller.KK("Saving ...");
var e=h.target.response;if(e.charAt(0)=="{"){e=JSON.parse(e);if(e.newSource)this.tL.L5=e.newSource;if(e.message)alert(e.message,2e3);
if(e.script){var v=new g3(k.E.u,!0);v.data={V:k.l.M7,Ds:e.script};this.caller.a(v)}}else alert("Saved. Response: "+e,1500)};
dE.aro=function(h){var e=h.rA,v=e[1].split(".").pop(),J=dE.ep(h,v,null,v=="psd"&&e[0]==1?[!0,!1,!0,!1]:null),m=Storage.fF(e[0]);
return m.apX(e[1],J)};dE.aqT=function(h,e){var v=h.Ey.$Y;if(e==null)e=dE.ep(h,v);fV.W2(function(){var J=new XMLHttpRequest,m="https://www.googleapis.com/upload/drive/v3/files/"+h.Ey.file.id+"?uploadType=media"+"&"+fV.acb();
J.open("PATCH",m,!0);J.addEventListener("load",function(d){var x=JSON.parse(d.target.response);alert(x.name+" updated")});
J.send(e);alert("Saving \""+h.Ey.file.name+"\" to Google Drive ...")})};dE.we=function(h,e,v,J){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)dE.azE(h,e,v,J);
else{try{dE.azE(h,e,v,J)}catch(j3){if(j3=="low_ram"){}else{var m=gI.pI(e),d="Error. Please, send your file to support@photopea.com and we will solve it.";
if(m=="psd")d="Error. If some other program can open your file, but Photopea can't, send your file to support@photopea.com and we will solve it.";
if(gI.pI(e)=="eps")d="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(d,1e4)}}}};dE.azE=function(h,e,v,J){var m;if(h.name){var d=h.name.lastIndexOf(".");m=d==-1?h.name:h.name.slice(0,d)}else{if(h.url.substring(0,5)=="data:"||h.url.indexOf("googleapis")!=-1)m="image";
else m=h.url.substring(h.url.lastIndexOf("/")+1).split(".")[0];m=m.slice(0,50)}var x=h.name?h.name:h.url,j=new Uint8Array(e),E=gI.pI(e);
if(E!=null&&gI.g6(E))cU.event("fmt_"+E,.1);if(E==null)E=b.RZ(j,0,4);if(E=="ai"&&x&&x.toLowerCase().endsWith(".pdf"))E="pdf";
if(x&&x.toLowerCase().endsWith(".raw")&&E!="tiff"){var L=new g3(k.E.u,!0);L.data={V:k.l.Xq,dF:"importraw",rP:e,PY:x.split("/").pop()};
v.a(L);return}else if(E=="json"){var p="";for(var T=0;T<j.length;T++)p+=String.fromCharCode(j[T]);p=decodeURIComponent(escape(p));
var Z=JSON.parse(p);if(Z.name&&Z.url){var L=new g3(k.E.u,!0);L.data={V:k.l.av7,J:Z};v.a(L)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(Z)}return}if(E=="html"){var p=b.Is(j,0,j.length),o=new DOMParser,u=o.parseFromString(p,"text/html"),N=u.getElementsByTagName("meta");
for(var T=0;T<N.length;T++){var M=N[T],O=M.getAttribute("property"),F=M.getAttribute("content"),W=null;
if(O=="og:image")W=F;if(O==null&&F&&F.startsWith("0;url=/imgres?")){var f=F.slice(14).split("&");for(var $=0;
$<f.length;$++)if(f[$].startsWith("imgurl"))W=decodeURIComponent(f[$].slice(7))}if(W==null)continue;
var L=new g3(k.E.u,!0);L.data={V:k.l.We,m0:{url:W,Q4:!0,az:h.az}};v.a(L)}return}if(gI.g6(E)){var H,A,G=gI.g6(E);
if(h.az!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(E)!=-1){var L=new g3(k.E.u,!0);if(0<=h.az)L.data={V:k.l.f9,target:h.az,NP:h.J6,Zw:e,k7:m};
else{L=new g3(k.E.A,!0);L.data={V:s.NU,data:new Uint8Array(e),PY:m+"."+E};L.I=c.Yn}v.a(L);return}var l=[m,G,E,h,v,J,e];
if(G.ug){var K=jD==0?"psd":"ai";H=new e7(m+(E==K?"":"-"+E)+"."+K);G.E2(e,H,dE.Kv,l)}else{A=G.E2(e,null,dE.Kv,l,v);
if(A==null)return}if(G.QQ!=!0)dE.Kv(H,A,l);else v.y4();return}var U=new g3(k.E.u,!0);U.data={V:k.l.x_,rP:e,pQ:h.name};
var z=h instanceof File&&h.a03!=!0,L=new g3(k.E.u,!0);L.data={V:k.l.Gi,N2:"add",m0:null,mM:null,a8I:h.a03};
if(E=="zip"){var q=Date.now(),P=UZIP.parse(e),g="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var a in P){var w=!1;for(var T=0;T<g.length;T++)if(a.toLowerCase().endsWith("."+g[T]))w=!0;if(a.startsWith("__MACOSX/")||P[a].length==0)w=!0;
if(w)continue;var y=a.split("/").pop();dE.we({name:y},P[a].buffer,v,J)}}else if(E=="jsx"||x&&x.toLowerCase().endsWith(".jsx")){if(z)v.a(U);
var p=b.Is(new Uint8Array(e));L.data={V:k.l.M7,Ds:p};v.a(L)}else if(E=="otf"){if(z)v.a(U);var S=Typr.parse(e);
L.data.m0=dq.Na;for(var T=0;T<S.length;T++){L.data.mM=S[T];v.a(L)}}else if(E=="asl"){if(z)v.a(U);var S=fG.kq(e,x);
L.data.m0=dq.to;L.data.mM=S.RL;v.a(L);L.data.m0=dq.NC;L.data.mM=S.bt;v.a(L)}else if(E=="tpl"){if(z)v.a(U);
var S=ji.kq(e);L.data.m0=dq.ty;L.data.mM={kk:S.kk,tr:S.tr,list:[]};v.a(L);if(S.aH5.length!=0){L.data.m0=dq.pt;
L.data.mM=S.aH5;v.a(L)}if(S.bt.length!=0){L.data.m0=dq.NC;L.data.mM=S.bt;v.a(L)}L.data.m0=dq.yR;L.data.mM=S.list;
v.a(L)}else{var i="";for(var C in dq.AM)if(dq.AM[C][0]==E)i=C;if(i!=""){if(z)v.a(U);L.data.mM=dq.AM[i][2].kq(e,x);
L.data.m0=i;v.a(L)}else if(e.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(E))}};
dE.Kv=function(h,e,v){var J=v[0],m=v[1],d=v[2],x=v[3],j=v[4],E=v[5],L=v[6];if(m.QQ)j.KK();if(!m.ug){if(e.length==0)return;
if(e[0].t33421||e[0].t50706){B.raw.normalize(e[0],L);console.log(e[0]);var p=new g3(k.E.u,!0);p.data={V:k.l.Xq,dF:"rawpea",wp:e[0]};
j.a(p);return}if(E){E(new Uint8Array(e[0].data),e[0].Ei);return}h=gI.d2(J,e)}h.um=x.um;h.z2=d;h.N2=x.N2;
h.L5=x.url;h.Mr=x.Mr;h.Ey=x.Ey;h.rK=x.rK;h.rA=x.rA;if(h.Ey)h.Ey.$Y=d;if(h.T.length!=0){var p=new g3(k.E.u,!0);
p.data={V:x.az==null?k.l.zM:k.l.f9,target:x.az,NP:x.J6,Zw:h};j.a(p)}};function g0(h){fx.call(this);this.cR=g0.cR++;
this.DD=h;this.aI2=this.aGP.bind(this);this.apT=this.a1h.bind(this);this.akx=this.Ba.bind(this);this.abj=this.a65.bind(this);
this.ai6=this.a9C.bind(this);this.ayC=this.a6A.bind(this);this.J$=0;this.aGC=0;this.aAO=0;this.Z=V.k("div","panelblock");
this.cQ=V.k("div","block");this.EP=V.k("div","collapsed");this.Z.appendChild(this.cQ);this.hK=-1;this.yx=!0;
this.XV=V.k("div","panelhead");this.cQ.appendChild(this.XV);this.Oi(this.XV);this.aa0=new eA("\u2261");
V.v(this.aa0.Z,"position:absolute; right:4px;");this.aa0.P("click",this.axU,this);this.I1=V.k("div","body");
this.cQ.appendChild(this.I1);this.QN=[];this.t6=null;this._A=null}g0.cR=0;g0.prototype=new fx;g0.RG=26.1;
g0.prototype.axU=function(h){var e=this.QN[this.hK].g8(),v=h.currentTarget.Z.getBoundingClientRect();
e.S();e.update();e.parent=this;var J=new g3(k.E.u,!0);J.data={V:k.l.Eu,nB:e,x:v.left,y:v.top+v.height+2};
this.a(J)};g0.prototype.BK=function(h){var e=this.cQ,v=this.XV,J=this.I1;if(V.gl(v))e.removeChild(v);
if(V.gl(J))e.removeChild(J);if(h==0)e.appendChild(v);e.appendChild(J);this.aAO=h};g0.wY=function(h){h.stopPropagation();
h.preventDefault()};g0.prototype.aGP=function(h){var e=h.dataTransfer.types;if(e[1]!=null&&e[1]!=this.cR+"")return;
g0.wY(h);var iW=h.currentTarget;if(h.target==iW)V.zZ(iW,"highlight")};g0.prototype.a1h=function(h){g0.wY(h);
var iW=h.currentTarget;if(h.target==iW)V.t7(iW,"highlight")};g0.prototype.Oi=function(h){h.addEventListener("dragenter",this.aI2,!1);
h.addEventListener("dragleave",this.apT,!1);h.addEventListener("dragover",g0.wY,!1);h.addEventListener("drop",this.akx,!1);
h.addEventListener("dragstart",function(e){e.dataTransfer.setData("Text","--panel");e.dataTransfer.setData(this.cR+"","")}.bind(this),!1)};
g0.prototype.Ba=function(h){this.apT(h);var e=null,iW=h.currentTarget,v=this.aDA(iW);if(iW==this.I1&&this.hK!=-1)e=this.hK;
else if(iW==this.XV)e=null;else if(v!=-1)e=v;var J=h.dataTransfer.getData("Text");if(J==""||J.startsWith("http")||J.startsWith("data:image/"))V.Wt(h,this,e);
else if(J=="--panel"){var m=V.IE(h,iW),d=this.QN,x=d.slice(0),T=this.hK,j=v==-1?d.length:m.x<iW.getBoundingClientRect().width/2?v:v+1;
if(T==j||T+1==j||iW==this.I1)return;var E=T<j?j-1:j,L=d[T];d.splice(T,1);d.splice(E,0,L);V.H5(this.XV);
for(var p=0;p<d.length;p++)this.XV.appendChild(d[p].ZQ);this.EW(E);var Z=[];for(var T=0;T<d.length;T++)Z[T]=x.indexOf(d[T]);
var o=new g3("shuffleItems",!1);o.data={aFJ:Z};this.a(o)}else if(e!=null&&this instanceof g5){var o=new g3(k.E.u,!0);
o.data={V:k.l.azm,alq:e};this.a(o)}};g0.prototype.HG=function(){return null};g0.prototype.a8L=function(){if(this.HG()){this.XV.style.padding="0px";
this._A=this.HG();this.I1.appendChild(this._A);this.G6.Es(!1);var h=new g3(k.E.u,!0);h.data={V:k.l.cb,J:1};
this.a(h)}};g0.prototype.arW=function(){if(this._A){this.XV.style.padding="";this.I1.removeChild(this._A);
this._A=null;this.G6.Es(!0);var h=new g3(k.E.u,!0);h.data={V:k.l.cb,J:0};this.a(h)}};g0.prototype.aDA=function(h){var e=this.QN;
for(var T=0;T<e.length;T++)if(e[T].ZQ==h)return T;return-1};g0.prototype.zx=function(){for(var T=0;T<this.QN.length;
T++)this.QN[T].Zf.H2()};g0.prototype.cK=function(){return this.hK};g0.prototype.fL=function(){if(this.yx)return;
this.yx=!0;this.Z.removeChild(this.EP);this.Z.appendChild(this.cQ)};g0.prototype.collapse=function(){if(!this.yx)return;
this.yx=!1;this.Z.appendChild(this.EP);this.Z.removeChild(this.cQ)};g0.prototype.RG=function(){var h=0;
if(this.aAO==0){h=this.XV.getBoundingClientRect().height+1;h=Math.max(h,g0.RG)}return h};g0.prototype.axB=function(){return this.RG()+this.I1.getBoundingClientRect().height};
g0.prototype.Kt=function(h,e){this.XV.style.maxWidth=h+"px";var v=this.RG();if(this.hK!=-1)this.QN[this.hK].Kt(h,e-v);
return e-v};g0.prototype.fa=function(h,e){if(this.hK!=-1)this.QN[this.hK].fa(h,e)};g0.prototype.eh=function(h,e,v){this.QN[this.hK].eh(h,e,v)};
g0.prototype.tJ=function(h){this.arW();if(this.QN.indexOf(h)!=-1){this.EW(this.QN.indexOf(h));return}h.parent=this;
this.QN.push(h);this.XV.appendChild(h.ZQ);h.ZQ.addEventListener("mouseover",this.abj,!1);this.Oi(h.ZQ);
this.EP.appendChild(h.Zf.Z);h.Zf.P("click",this.arx,this);h.P("select",this.aHH,this);h.P(k.E.Y$,this.a1K,this);
this.EW(this.QN.length-1)};g0.prototype.a65=function(h){if(h.buttons==0)return;var e=h.currentTarget,v=e,T=0;
while((v=v.previousSibling)!=null)T++;this.aGC=T;e.addEventListener("mouseout",this.ai6,!1);this.J$=setTimeout(this.ayC,700)};
g0.prototype.a9C=function(h){var e=h.currentTarget,v=e,T=0;while((v=v.previousSibling)!=null)T++;e.removeEventListener("mouseout",this.ai6);
clearTimeout(this.J$)};g0.prototype.a6A=function(h){this.a(new g3(k.E.awG,!1))};g0.prototype.a8n=function(h){return this.aGC};
g0.prototype.TY=function(T){var h=new g3(k.E.Y$,!1);h.data={yL:T};this.a(h);var e=this.QN[T];this.QN.splice(T,1);
this.XV.removeChild(e.ZQ);this.EP.removeChild(e.Zf.Z);e.ZQ.className="";e.Zf.removeEventListener("click",this.arx,this);
e.Zf.H2();e.removeEventListener("activate",this.aHH);e.removeEventListener(k.E.Y$,this.a1K);var v=this.hK;
if(T<v)v--;else if(T==v&&T==this.QN.length)v--;this.EW(v);if(this.QN.length==0)this.a8L()};g0.prototype.ac5=function(){return this.QN.length};
g0.prototype.kY=function(){if(this.QN.length!=0)this.QN[this.hK].kY()};g0.prototype.EW=function(h,e){if(e==null)e=!0;
for(var T=0;T<this.QN.length;T++)this.QN[T].ZQ.className="";if(this.t6)this.I1.removeChild(this.t6);
this.t6=null;this.hK=h;if(h==-1)return;var v=this.QN[this.hK];this.t6=v.lQ;this.I1.appendChild(v.lQ);
v.ZQ.className="active";if(!this.yx){this.a(new g3("showFloat"));this.QN[h].Zf.vU()}if(e)this.a(new g3(k.E.f,!1));
v.JI();var J=this.aa0.Z;if(J.parentNode)this.XV.removeChild(J);if(v.g8())this.XV.appendChild(J);var m=new g3(k.E.u,!0);
m.data={V:k.l.V4};this.a(m)};g0.prototype.aHH=function(h){if(this.DD&&!this.DD.arL())return;var T=this.QN.indexOf(h.currentTarget);
this.EW(T)};g0.prototype.a1K=function(h){if(this.DD&&!this.DD.arL())return;var T=this.QN.indexOf(h.currentTarget);
this.TY(T)};g0.prototype.arx=function(h){var e=this.QN.indexOf(h.currentTarget.parent);if(this.QN[e].Zf.rN())this.a(new g3("hideFloat"));
else this.EW(e)};g0.prototype.atC=function(h){this.a(h)};function g5(h){g0.call(this,h);this.VA=0;this.qw=0;
V.wZ(this.XV,this.anJ.bind(this));this.WB=0;this.art=this.a2E.bind(this);this.Oi(this.I1);this.sJ=["default;"];
this.G6=new V.dB(this.I1);this.JB=new kM(!0);this.JB.parent=this;this.gX=this.JB.Z;kM.mf(this.JB)}g5.prototype=new g0;
g5.prototype.anJ=function(h){if(h.target!=this.XV)return;var e=this.WB;this.WB=Date.now();if(Date.now()-e>300)return;
var v=new g3(k.E.u,!0);v.data={V:k.l.Xq,dF:"newproject"};this.a(v)};g5.prototype.Zr=function(h,e){if(e)this.sJ.push(h);
else{var v=this.sJ.length-1;if(this.sJ[v]==h)return;this.sJ[v]=h}this.oE()};g5.prototype.aHA=function(){this.sJ.pop();
this.oE()};g5.prototype.oE=function(){var h=this.sJ[this.sJ.length-1];this.G6.eh(h,this.xg)};g5.prototype.fa=function(h,e){g0.prototype.fa.call(this,h,e);
this.JB.fa(h,e);if(!h.nX){}};g5.prototype.S=function(){g0.prototype.S.call(this);this.JB.S()};g5.prototype.eh=function(h,e){for(var T=0;
T<e.length;T++){var v=e[T];this.QN[T].PZ(v.name+(v.XQ()?" *":""))}g0.prototype.eh.call(this,h,e)};g5.prototype.HG=function(){return this.gX};
g5.prototype.Kt=function(h,e){if(this.QN.length==0)e+=g0.RG-1;this.VA=h;this.qw=e;e=g0.prototype.Kt.call(this,h,e);
this.xg="height:"+e+"px; width:"+h+"px; overflow:hidden; position:relative;";this.oE();this.JB.Kt(h,e)};
g5.prototype.tJ=function(h){g0.prototype.tJ.call(this,h);h.ZQ.addEventListener("click",this.art,!1)};
g5.prototype.TY=function(T){var h=this.QN[T];V.SV(h.ZQ,this.art);g0.prototype.TY.call(this,T)};g5.prototype.a2E=function(h){var e=this.WB;
this.WB=Date.now();if(Date.now()-e>300)return;var v=this.aDA(h.currentTarget),J=this.QN[v].Zw.name,m=new g3(k.E.u,!0),d={o:k.E.A,I:c.Yn,h:{V:s.f8}};
m.data={V:k.l.Xq,dF:"namewindow",xz:J.slice(0,J.length-4),P_:d};this.a(m)};function aI(h){fx.call(this);
if(h)return;i4.aai(1);this.Z=V.k("div","flexrow app");this.Wr=V.k("div");this.Z.appendChild(this.Wr);
setTimeout(function(){var v=window.hideCap;if(v)v()},25e3);this.sL=new dW;window.addEventListener("blur",function(v){this.sL.reset()}.bind(this),!1);
window.addEventListener("resize",this.P6.bind(this),!1);var e=this.Wr;this.rs=new ik;this.rs.parent=this;
e.appendChild(this.rs.Z);this.dk=new aa;this.dk.parent=this;e.appendChild(this.dk.Z);this.C6=new di(!0);
this.C6.parent=this;e.appendChild(this.C6.Z);this.P(k.E.u,this.x3,this);this.Q3=this.rc.bind(this);window.requestAnimationFrame(this.Q3)}aI.prototype=new fx;
aI.prototype.rc=function(h){this.v6();window.requestAnimationFrame(this.Q3)};aI.prototype.S=function(){};
aI.prototype.P6=function(h){var e=window.innerWidth,v=window.innerHeight;this.Kt(e,v)};aI.prototype.Kt=function(h,e){this.dk.Kt(h,e);
this.rs.Kt(h,e)};aI.prototype.x3=function(h){var e=h.data.V;if(e==k.l.Eu)this.dk.a4j(h.data);if(e==k.l.Ni)this.dk.anc(h.data);
if(e==k.l.zw)this.dk.a8h(h.data.qt);if(e==k.l.gv)this.dk.atd(h.data.qt);if(e==k.l.pz)this.dk.AW()};function i1(){aI.call(this);
this.FQ={x:0,y:0,fE:!1};this.vd=!1;this.OH=!1;this.avV=null;this.awM=0;this.ay0=!1;this.qi=0;window.onmessage=function(o){if(Storage.aGy(o.source))return;
if(o.data instanceof ArrayBuffer){var u=gI.pI(o.data),N=gI.g6(u);ke.we({url:"file"},o.data,this);if(N==null)this.qq()}else if(o.data instanceof Object||o.data.startsWith("{")||o.data.startsWith("amp-")||o.data.startsWith("0=goog")||o.data.startsWith("3PCoo")||o.data.startsWith("ima://")){}else if(o.data.startsWith("--ur ")){var M=o.data.split(" ").pop(),H=null;
M=M.length==0?[]:M.split(",");console.log(M);var O=this.H.mM,F=new g3(k.E.u,!0);F.data={V:k.l.Gi,m0:dq.G$,uO:M};
this.a(F);var W=M,f=O;if(f.length>W.length){var $=f;f=W;W=$}for(var T=0;T<W.length;T++)if(f.indexOf(W[T])==-1)H=W[T];
ke.j6("act=3&id="+H+"&dif="+(W==M?1:-1));alert((W==M?"Resource added.":"Resource removed.")+" "+H)}else if(o.data.startsWith("--ot ")){if(this.rs.He())this.rs.He().close();
this.HB.a3(o.data.split(" ").pop(),!0)}else if(o.data.startsWith("--et ")){}else{var F=new g3(k.E.u,!0);
F.data={V:k.l.M7,Ds:o.data};this.a(F);this.qq()}}.bind(this);window.onbeforeunload=function(o){this.ant();
for(var T=0;T<this.qk.length;T++)if(this.qk[T].XQ()){return this.qk[T].name}}.bind(this);if(!fk.pK())window.setInterval(this.ap4.bind(this),5*60*1e3);
var h=this;if(window.indexedDB){var e={OQ:window.indexedDB.open("pp",1)};e.OQ.onupgradeneeded=function(o){var u=o.target.result,N=u.createObjectStore("rsrc",{keyPath:"k"})};
e.OQ.onsuccess=function(o){var u=h.H.Jy._v=o.target.result,N=u.transaction(["rsrc"],"readwrite").objectStore("rsrc"),M=N.get("fs0");
M.onsuccess=function(o){if(o.target.result){var W=h.H.Jy.Ib=o.target.result.fset;for(var f in W){if(!f.endsWith(".jsx")&&!f.endsWith(".psd"))ke.we({url:f,a03:!0},W[f],h)}}};
var O=new BroadcastChannel("pp-tabs"),F=[];O.onmessage=function(o){if(o.data=="id")O.postMessage(h.H.Jy.id);
else F.push(o.data)};O.postMessage("id");setTimeout(function(){var N=u.transaction(["rsrc"],"readwrite").objectStore("rsrc"),W=N.getAllKeys();
W.onsuccess=function(){var f=W.result,$=[],H=0;for(var T=0;T<f.length;T++){if(f[T]=="fs0")continue;if(F.indexOf(f[T])!=-1)continue;
$.push(f[T])}for(var T=0;T<$.length;T++){var M=N.get($[T]);M.onsuccess=function(o){if(o.target.result){var A=o.target.result.fset;
for(var G in A){try{ke.we({url:G,a03:!0},A[G],h);var l=h.LV();l.YG=l.aT=-1}catch(o){console.log(o)}}H++;
if(H==$.length)for(var T=0;T<$.length;T++){var M=N.delete($[T])}}}}}},200)}}var v="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{".split(" "),J=V.vq[c3.Bo][c3.aq9];
if(J==null)J=[V.vq[c3.Zg][c3.iV]];for(var m=0;m<J.length;m++){var d=J[m];for(var T=0;T<v.length;T++){var x=V.M8(v[T]);
if(d.indexOf(x)!=-1){var j=V.vq[c3.Zg][c3.I1],E=c3.h7("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
V.H5(j);j[c3.aI3]=E;return}}}this.F=i1.adE();this.H={F:this.F,aE2:!1,jR:null,LI:0,Zb:{tr:[],kk:[],list:[],kt:null},rw:[],ahq:[],$r:[],CT:[],dH:[],T9:[],aap:[],azX:[],dH:[],ki:[dI.UX()],L7:[],cW:[],_K:null,FD:0,K1:1-jD,Rr:fL.Rr.UX(),au5:fL.Rr.UX(),TV:{oH:1,ag:B.t(fL.fZ[0])},Wv:fL.gL.UX(),aF9:[null].concat(fL.fZ),aGf:[null].concat(fL.fZ),eN:new j3(function(o){var u=new g3(k.E.u,!0);
u.data={V:k.l.We,m0:{url:cU.Hk("rsrc/fonts/"+o)}};this.a(u)}.bind(this)),Xi:{k0:[],zI:null,UZ:null},font:null,Td:[],mM:[],axO:{},kc:0,kF:16777215,rM:!1,I7:!0,Kd:{nT:!0,bT:!1,mi:!0,H0:!0,vt:!0,Ys:!0,KS:20,Iq:0,aj:0,XB:0,da:8421504,Gl:65535,HM:33023},Y7:!0,$W:[!0,!0,!1,!0,!0],an:b4.Jz(),YC:1,WI:!0,afy:{},nX:!0,a4s:!1,compact:!1,Vo:1,VW:0,gX:!0,qU:{},Rc:null,Jy:{id:"ts"+Math.round(Math.random()*16777215),amh:!1,azj:!1,Ib:{},YT:{},_v:null},a0H:0,afc:null,qs:null,aCf:null,eB:null};
j3.QU.j1(this);this.ae6={e3:new fP,Hs:new fq};this.H.Xi=fr.aFV();this.cX=new cj;this.kG=new jd;this.Ll=new jB;
this.BU=new ic(this.F,!0);this.Yr=new by;this.p0=new g5(this);this.BB=V.k("div");this.P3=!1;this.aGR=this.aec.bind(this);
V.zZ(this.p0.Z,"mainblock");this.C6.parent=this.cX.parent=this.kG.parent=this.BU.parent=this.Yr.parent=this.p0.parent=this;
this.p0.P(k.E.f,this.sG,this);this.p0.P(k.E.Y$,this.acN,this);this.p0.P("shuffleItems",this.aGt,this);
this.p0.P(k.E.awG,this.aiN,this);this.P("mouse",this.awl,this);this.P(k.E.A,this.iu,this);this.P(k.E.Fq,this.axo,this);
document.body.addEventListener("keydown",this.cp.bind(this),!1);window.addEventListener("keyup",this.pL.bind(this),!1);
window.addEventListener("paste",this.ah9.bind(this),!1);window.addEventListener("copy",this.a42.bind(this),!1);
window.addEventListener("wheel",function(o){if(o.ctrlKey)o.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(o){if(window.innerWidth>400)o.preventDefault();
this.H.Rc=o}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(o){if(o.amZ){console.log("Service worker installing")}else if(o.aEZ){console.log("Service worker installed")}else if(o.active){console.log("Service worker active")}}).catch(function(o){console.log("Registration failed with "+o)})}this.agu=0;
this.qk=[];this.HB=new ke(dE.we);this.HB.parent=this;var L=this.Wr,p=this.zv=V.k("div");p.appendChild(this.cX.Z);
p.appendChild(this.kG.Z);this.C6.adg(p);var Z=this.ad3=V.k("div","flexrow");L.appendChild(Z);Z.appendChild(this.BU.Z);
Z.appendChild(this.p0.Z);Z.appendChild(this.Yr.Z);this.HB.Bl({url:cU.Hk("rsrc/basic/basic.zip")});this.nr(c.GA);
cU.j1(this.at6.bind(this));if(this.Ai())return;if(jD==0){cU.event("web_PPea",.002);var d=V.vq[c3.Zg][c3.iV];
if(d=="")d="di"+"rect";d=d.split("//").pop();if(d.startsWith("w"+"ww."))d=d.slice(4);if(d.endsWith("/"))d=d.slice(0,-1);
if(d.startsWith("go"+"ogle."))d="go"+"ogle.com";if(d.startsWith("baidu.com"))d="baidu.com";if(d.startsWith("photopea.com/templates"))d="photopea.com/templates";
if(d.startsWith("photopea.com/tuts"))d="photopea.com/tuts";if(d.endsWith("search.yahoo.com"))d="search.yahoo.com";
if(d.endsWith("gradio.live"))d="gradio.live";if(d.endsWith("proxy.ru"))d="proxy.ru";if(d.length>28&&d.indexOf("/")!=-1)d=d.split("/")[0];
if(d.length>28)d=d.split(".").slice(1).join(".");if(d.length>28)d=d.split(".").slice(1).join(".");if(d.length>28)d=d.slice(d.length-28);
if(fk.pK()){cU.event("i"+"fr_"+d,.01,1)}else cU.event("r"+"ef_"+d,.01,1)}if(jD==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}i1.prototype=new aI(!0);
i1.prototype.qq=function(h){var e=new g3(k.E.u);e.data={V:k.l.c$,m0:h?h:"done"};this.a(e)};i1.prototype.ap4=function(){var h=this.H.Jy,v=!1;
if(h._v==null)return;var e=this.qk;for(var T=0;T<e.length;T++){var J=e[T];if(J.aT!=J.uM){var m=Date.now(),d=gI.Pc(J,"psd",0,0,[!0,!1,!0,!1,!0]);
J.aT=J.uM;h.YT[J.name]=d;v=!0;console.log(Date.now()-m,"saving "+J.name,d.byteLength)}}if(v){var x=new g3(k.E.u);
x.data={V:k.l.Gi,m0:dq.Dy,ahl:!0};this.a(x)}};i1.prototype.at6=function(){V.vq[c3.b2](this.aAy.bind(this),Math.pow(Math.PI,8)+V.vq[c3.aun][c3.a3i]()*1e4);
var h=cU.rG();if(h!=null&&h.globals!=null)this.CM(h.globals);else{this.ay0=!0;var e=bj.a7b();if(e&&e.length!=0){var v=e[0];
bj.als(v,this.aGR)}}if(!this.Ai()){var J=V.aH7();if(J==0)this.a4s=!0;if(J==2)this.H.nX=!1;if(J!=1&&Math.random()<.002)V.aGq()}if(!fk.pK()||!this.H.nX){this.aB0();
this.vb()}else{var m=V.ye(V.vq[c3.dr]);m[c3.sc](c3.xW,this.a7d.bind(this));var d=V.h7("_MYOqDLGJa;A:6");
if(jD!=0)d=c3.M8("@C/25N4/9A?C;:iBQRv")+d;m[c3.jq](V.h7("61="),d);m[c3.zT]()}this.vd=!0;this.qq();var x=new g3(k.E.u);
x.data={V:k.l.Xq,dF:"peamark",v9:4,index:[10,0]}};i1.prototype.a7d=function(h){var e=JSON.parse(h.target[c3.Sb]),v=V.vq[c3.a2j][c3.aio]()/1e3,J=V.vq[c3.Zg][c3.iV],m=!1;
for(var d in e)if(d.indexOf(".")!=-1&&J.indexOf(d)!=-1&&parseInt(e[d])>v)m=!0;if(m)this.H.nX=!1;this.aB0();
this.vb();if(J==""){if(this.H.nX){alert(c3.h7("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};i1.prototype.vb=function(h){this.OH=!0;
if(!this.H.gX)this.p0.gX=null;else if(this.qk.length==0)this.p0.a8L();this.VK(dq.AY);this.S();this.P6();
this.Yr.eh(this.LV(),this.qk,this.H)};i1.prototype.CM=function(h){var e=this.H;if(h.fc!=null){e.kc=h.fc;
var v=e.Xi.zI.FillColor;if(v){var J=B.UY(e.kc);v.Values=[1,J.n/255,J.i/255,J.b/255]}}if(h.bc!=null)e.kF=h.bc;
if(h.ru!=null)e.rM=h.ru==1;if(h.ex!=null)e.I7=h.ex==1;if(h.favFam!=null)e.Td=h.favFam;if(h.ff!=null)e.Td=h.ff.split(",");
if(h.rsrc!=null)e.mM=h.rsrc;if(h.rs!=null)e.mM=h.rs.split(",");if(h.fo!=null)e.Xi.k0[0].Name=h.fo;if(h.panels!=null)e.an=h.panels;
if(h.pd!=null)e.an=b4.acw(h.pd);if(h.as!=null)e.Vo=h.as;if(h.co!=null){e.VW=h.co;if(e.VW!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var m=h.ep?h.ep:h.eparams;
if(m){var d=e.Kd;if(m.guides!=null)d.nT=m.guides;if(m.grid!=null)d.bT=m.grid;if(m.gsize!=null)d.KS=m.gsize;
if(m.gunits!=null)d.Iq=m.gunits;if(m.gtype!=null)d.aj=m.gtype;if(m.runits!=null)d.XB=m.runits;if(m.gcol!=null)d.da=m.gcol;
if(m.gucol!=null)d.Gl=m.gucol;if(m.glcol!=null)d.HM=m.glcol;if(m.sels!=null)d.mi=m.sels;if(m.paths!=null)d.H0=m.paths;
if(m.pgrid!=null)d.vt=m.pgrid;if(m.slices!=null)d.Ys=m.slices;if(m.gc!=null)d.da=m.gc;if(m.uc!=null)d.Gl=m.uc;
if(m.lc!=null)d.HM=m.lc;if(m.gs!=null)d.KS=m.gs;if(m.gu!=null)d.Iq=m.gu;if(m.gt!=null)d.aj=m.gt;if(m.ru!=null)d.XB=m.ru;
if(m.gr!=null)d.bT=m.gr==1;if(m.gd!=null)d.nT=m.gd==1;if(m.se!=null)d.mi=m.se==1;if(m.pa!=null)d.H0=m.pa==1;
if(m.pg!=null)d.vt=m.pg==1;if(m.sl!=null)d.Ys=m.sl==1}if(h.lang!=null)bj.als(h.lang,this.aGR);if(h.theme!=null)e.YC=h.theme;
if(h.to){var x=h.to;for(var T=0;T<x.length;T+=2){var j=this.F.map[x[T]];if(j)j.I.Fk(x[T+1],null,this)}}if(h.topt||e.aI4){var E=h.topt?h.topt:{},L=e.aI4?e.aI4:{};
for(var p in this.F.map){if(p>=103)continue;var Z="t"+p;if(E[Z]||L[Z])this.F.map[p].I.Fk(E[Z],L[Z],this)}}};
i1.prototype.aB0=function(){if(this.H.aE2)return;this.H.aE2=!0;var h=null,e=window.location.href,v=e.indexOf("="),J=e.indexOf("#");
if(v!=-1)h=e.substring(e.indexOf("?")+1,v);if(J!=-1&&J!=e.length-1){h="p";v=J}if(J!=-1&&e[J+1]=="i"){this.HB.a3(e.slice(J+2,J+10))}else if(e.slice(J+1).startsWith("goog_rewarded")){}else if(J!=-1&&e[J+1]=="t"){this.HB.a3(e.slice(J+2,J+10).split("").reverse().join(""),!0)}else if(h=="p"||h=="state"){var m=e.substring(v+1,e.length);
m=JSON.parse(decodeURIComponent(m));if(h=="p"){var d=m.apis,x=this.H;if(d){if(d.rmbg)x.qU.ajV=d.rmbg;
if(d.dezgo)x.qU.ac9=d.dezgo}if(m.script=="alert(73)")this.H.nX=!1;if(m.script)em.aHY(this);if(m.server)this.avV=m.server;
if(m.resources)for(var T=0;T<m.resources.length;T++)this.HB.Bl({url:m.resources[T]});if(m.files)for(var T=0;
T<m.files.length;T++)this.HB.Bl({url:m.files[T],N2:{sy:m.server,a1i:m.script}});var j=m.environment;
if(j==null)j={};if(j.plugins!=null)this.Yr.afl(j.plugins);if(j.localsave!=null)this.H.WI=j.localsave;
if(j.customIO!=null)this.H.afy=j.customIO;if(j.vmode!=null){var E=j.vmode;if(E==1)this.H.compact=!0;
if(E==2)this.BK(1)}if(j.intro!=null)this.H.gX=j.intro;if(j.menus!=null)this.H.avE=j.menus;if(j.tmnu!=null)this.H.aI4=j.tmnu;
if(j.panels!=null)this.H.an=j.panels;if(j.showtools!=null){var L=j.showtools,p=L.indexOf(this.H.jR);
this.H._J=L;if(p==-1)this.nr(L[0])}if(j.phrases!=null)bj.avy(j.phrases);if(j.autosave!=null){this.H.Vo=0;
window.setInterval(function(){var u=new g3(k.E.u);u.data={V:k.l.TN};this.a(u)}.bind(this),j.autosave*1e3)}if(j.icons!=null){for(var Z in j.icons)if(j.icons[Z].indexOf("\"")==-1){if((Z==c3.aGX||Z==c3.avF)&&this.H.nX)continue;
PIMG[Z]=j.icons[Z];PIMG["__"+Z]=!0}}this.CM(j);if(m.files==null&&m.script){cZ.SE(m.script,this);this.qq()}}else if(h=="state"){var o=this.HB;
if(m.action=="create"){var u=new g3(k.E.u);u.data={V:k.l.Xq,dF:"newproject",a2m:m.folderId};this.a(u)}if(m.action=="open"){for(var T=0;
T<m.ids.length;T++)fV.W2(function(){var M="https://www.googleapis.com/drive/v3/files/"+this.aEm,O=new XMLHttpRequest;
O.open("GET",M);O.setRequestHeader("Authorization",fV.aHF());O.send();O.onload=function(F){var W=JSON.parse(F.target.response);
o.Bl({url:M+"?alt=media",name:W.name,Ey:{file:W,$Y:""},a1I:{Authorization:fV.aHF()}})}}.bind({aEm:m.ids[T]}));
alert("Loading files from Google Drive ...")}}}else{var N=window.launchQueue;if(N){var o=this.HB;N.setConsumer(function(M){var O=M.files,F=[];
for(var T=0;T<O.length;T++){var W=O[T];W.getFile().then(function(f){F.push(f);if(F.length==O.length)o.Pl(F,null,null,null,O)})}})}}};
i1.prototype.S=function(){var h=document.getElementById("cap");if(h){var e=!1,v=h.getElementsByTagName("h1")[0],d=0,j=0,E=0;
v.textContent=e?"Photopea":bj.get([0,17,0]);var J=h.getElementsByTagName("p"),m=V.gq(bj.get([0,17,1])),x=["PSD","XCF","Sketch","XD","CDR"];
for(var T=0;T<x.length;T++)m=m.replace(x[T],"<b>"+x[T]+"</b>");if(!e)m+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
J[0].innerHTML=m;m=bj.get([0,17,2])+" "+bj.get([0,17,3]);for(var T=0;T<m.length;T++){var L=m[T];if(L=="<")j++;
if(L==">")E++}if(!e&&j*E==9){var p=["//github.com/photopea/"+["photo","vector"][jD]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var T=0;T<3;T++){var Z=m.indexOf("<",d),o=m.indexOf(">",d),u=m.slice(0,Z)+"<a href=\""+p[T]+"\" target=\"_blank\">"+m.slice(Z+1,o)+"</a>";
d=u.length;m=u+m.slice(o+1)}J[1].innerHTML=m}else J[1].innerHTML=bj.get([0,17,2])}var N=document.getElementById("sponsors");
if(N)N.textContent=bj.get([0,17,4]);this.C6.S();this.cX.S();this.Ll.S();this.Yr.S();this.BU.S();this.rs.S();
this.p0.S();for(var M in this.F.map)if(this.F.map[M].PO)this.F.map[M].PO.S()};i1.prototype.Ai=function(){var h=V.vq[c3.Bo][c3.aq9];
if(h&&h[1]){if(h[1].endsWith(c3.h7("UUPSDm@ID")))return!0}return 4<V.vq[c3.Bo][c3.KB][c3.asD](c3.h7("'$!|"))};
i1.prototype.Kt=function(h,e){h=Math.floor(h);e=Math.floor(e);var v=V.h7("WUMK&AM"),J=c3.s7,m=V.vq[c3.Zg],d=Math.max(h,window.screen.width),x=Math.max(e,window.screen.height),Z=0;
if(fk.Ly==null)fk.Ly=Math.min(d,x)<500||d<750?0:d<1500?1:2;var j=fk.Ly,E=!this.OH||this.Ai()||!this.H.nX||cU.Ju()||V.cC()==c3.h7("eQLZRRM?8a4=8");
if(!E&&fk.pK()){if(this.aGu==null)this.aGu=Math.random()<.5;E=this.aGu}if(E){if(j!=0&&V.vq[v]&&this.OH)V.vq[v]()}else{if(j==0)e-=84;
else h-=j==1?180:320}aI.prototype.Kt.call(this,h,e);if(E&&this.P3){this.Z[c3.aAh](this.BB);V.H5(this.BB);
this.P3=!1}if(!E&&!this.P3){var L=function(N){V.vq[c3.b2](function(){var O=new g3(k.E.u);O.data={V:k.l.Xq,dF:c3.h7("QZXZLFV")};
if(jD==0&&fk.sr()&&!cU.Ju())this.a(O)}.bind(this),14720+Math.random()*46351);if(Math.random()<.002){if(jD==0&&fk.sr())cU.event("gota_0")}if(jD==0&&N)V.vq.___a=!0;
this.a0h(h,e);var M=j==0?m[c3.I1]:this.Z;M.appendChild(this.BB);this.BB[c3.Jp](J,V.h7("_MMJLNDfKCAg")+(j==0?10:10)+V.h7("_d$ebOS?I:==Ba-+# }$M"));
this.BB[J][V.h7("_MMJLND&<:E")]=(j==0?0:19)+V.h7("_d");this.BB[J][V.h7("i5WJHX")]=j==0?0:1}.bind(this);
function p(){fk.a0u(L)}setTimeout(p,2300);this.P3=!0}if(V.gl(this.cX.Z))Z+=31;if(V.gl(this.kG.Z))Z+=32;
this.C6.a7i=this.H.nX&&this.OH;this.C6.Kt(h,Z);var o=e-Z,u=V.h7("_d");this.BB[J][c3.a7y]=(j==0?100>>>1:e-11)+u;
this.BB[J][c3.ape]=(j==0?h:6*Math.pow(10,2))+u;if(V.gl(this.BU.Z))this.BU.Kt(h,o);this.Yr.Kt(h,o);this.p0.Kt(h-this.BU.OD()-this.Yr.OD(),o)};
i1.prototype.a0h=function(h,e){var v=function(){var J=new g3(k.E.u);J.data={V:k.l.Xq,dF:"account"};this.a(J)}.bind(this);
fk.aGs(h,e,this.BB,v)};i1.prototype.a42=function(h){console.log("systemCopy")};i1.prototype.ah9=function(h){if(V.rJ())return;
console.log("systemPaste");if(!h.clipboardData)return;var e=h.target.tagName.toLowerCase(),v=h.clipboardData.items;
if(v==null)return;var J=this.afL.bind(this);for(var T=0;T<v.length;T++){var m=v[T],d=m.getAsFile();if(m.type.indexOf("image")!=-1){if(d.size==this.H.a0H)return;
this.H.a0H=d.size;if(d){d.name="image.png";this.HB.Pl([d],J)}}}};i1.prototype.afL=function(h,e){var v={buffer:h,R:e},J=this.H;
if(V.rJ()){var m=this.ae6,d=m.e3;if(d.q==e.q&&d._==e._){v.R=d;v.Hs=m.Hs}}else{if(J.qs){var x=new g3(k.E.A,!0);
x.I=c.V8;x.data={V:"h_stepbck"};this.a(x)}}J.qs=v;var x=new g3(k.E.u,!0);x.data={V:k.l.Qv,azH:!0};this.a(x)};
i1.prototype.aDb=function(){if(this.rs.He()!=null)alert(bj.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
i1.prototype.iu=function(h){var e=this.LV();if(e==null){alert(bj.get([15,7,7]));return}var v=h.I==c.I5||h.I==c.ZM;
if(this.rs.G0()&&h.u$!=!0&&!v){this.aDb();return}var J=this.F,m=this.H.jR,d=h.I;if(d==c.HV&&m==c.Lu)d=c.Lu;
if(m!=d&&J.map[m].I.G0()&&!v&&!(m==c.fT&&d==c.hk)){console.log("disabling",m);J.map[m].I.disable(e,this,this.H,this.sL)}var x=this.F.map[d].I;
x.iu(h.data,this,e,this.sL,this.H)};i1.prototype.axo=function(h){var e=this.H;if(h.data.Mf!=!0)h8.aGv({UH:h.data.UH,TH:h.data.TH},this,e,this.LV());
var v=e._K,J=e.cW;if(v==null)return;var m={aAV:!1,i2:"Step",aeb:0,m:!0,exp:!1,UH:h.data.UH};if(v[2]==null)v[2]=J[v[0]].L1[v[1]].L1.length-1;
if(h.data.TH)m.TH=h.data.TH;J[v[0]].L1[v[1]].L1.splice(v[2]+1,0,m);v[2]++;this.VK(dq.A)};i1.prototype.x3=function(h){if(this.a4s){h.data=0;
return h.c}var e=h.data&&h.data.V==k.l.Xq&&h.data.dF==c3.a7f;if(V.vq.__csrf&&!cU.Ju()&&!e){var v=c3.h7("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(v,5e3);return}aI.prototype.x3.call(this,h);var J=h.data.V;if(J==k.l.n9)h8.aHb(this.LV(),this.H.cW,h.data.d9[0],h.data.d9[1],this);
if(J==k.l.azm){this.alg(h.data.alq)}if(J==k.l.aAM){this.S();this.P6()}if(J==k.l.V4)this.P6();if(J==k.l.bC)if(this.H.Rc){this.H.Rc.prompt();
this.H.Rc=null}if(J==k.l.zq)this.p0.Zr(h.data.Tv,h.data.push);if(J==k.l.atw)this.p0.aHA();if(J==k.l.afU)this.sG(null,h.data.dir);
if(J==k.l.Q$)this.p0.TY(this.qk.indexOf(h.data.tL?h.data.tL:this.LV()));if(J==k.l.cb){var m=navigator.keyboard;
if(h.data.dw&&m)m.lock(["Escape"]);if(h.data.dw&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(h.data.dw)document.body.webkitRequestFullScreen();if(h.data.J!=null)this.BK(h.data.J)}if(J==k.l.a3b){if(h.data.fE)this.sL.zO(h.data.ar4);
else this.sL.eR(h.data.ar4);this.lK(h.data.fE?"down":"up")}if(J==k.l.av7){var d=h.data.J;this.Yr.afl([d]);
this.S()}if(J==k.l.hJ){var x=this.LV(),j=x.T[x.X[0]],E=new fP(0,0,x.q,x._),L=x.K?x.K.R.O():E,p=B.U(L.$()*4);
B.YZ(x.pb(),E,p,L);var Z=e7.Yh()+"-d71c-11e5-b1ae-a548a96e5f9f",o=new g3(k.E.u,!0);if(h.data.m0==0){var u={name:"Default/"+x.name.split(".")[0],id:Z,$O:[p,L]};
o.data={V:k.l.Gi,N2:"add",m0:dq.to,mM:[u]};this.a(o)}if(h.data.m0==1){var N=B.U(L.$()*4);B.yV(N,4294967295);
B.B.lU("norm",p,L,N,L,L,1);var M=B.U(L.$());B.hS(N,M);B.ia(M);var O=B.sH(M,L);if(O.EG())O=L;var F=B.U(O.$());
B.Ww(M,L,F,O);O.x=O.y=0;var W={e3:O,id:Z,$O:[F,O]},f=a2.EB(Z),$=f.Brsh.v;$.Dmtr.v.val=Math.max(O.q,O._);
$.Spcn.v.val=10;o.data={V:k.l.Gi,N2:"add",m0:dq.ty,mM:{list:[{t:"Objc",v:f}],kk:[W],tr:[]}};this.a(o);
o.data={V:k.l.Gi,m0:dq.lc,Pz:f};this.a(o)}if(h.data.m0==2){var H=x.rx(),A=H[0][H[1][0]],G={zV:"Default/"+j.getName(),ks:Z,z:A.add.vmsk.O().z},l=B.s.jd(G.z),K=new aJ(l.q,0,0,l._,l.x,l.y);
K.ia();B.s.Ma(G.z,K);l.x=l.y=0;G.Fv=l.O();o.data={V:k.l.Gi,N2:"add",m0:dq.pt,mM:[G]};this.a(o)}}if(J==k.l.We)this.HB.Bl(h.data.m0);
if(J==k.l.iv){var U=h.data.aab,z=h.data.tQ;if(U!=!0&&z!=!0&&this.sF("open"))return;var q=this.p0.cK();
if(z)q=-1-q;this.HB.aqP(U||z?q:null,h.data.asv,h.data.xU)}if(J==k.l.E1){var P=h.data.atU,g=h.data.Wi,a=this.En(P);
if(g){var w=P==dq.ty,y=[];for(var T=0;T<g.length;T++)y.push((w?a.list:a)[g[T]]);a=w?{tr:a.tr,kk:a.kk,list:y}:y}if(P==dq.NC){var E=new e7;
for(var T=0;T<a.length;T++){var S=a[T].bP.Lefx;if(S)d4.aEq(S,E,this.H.T9)}a={RL:E.add.Patt?E.add.Patt:[],bt:a}}if(P==dq.yR){var i=this.H.Zb;
a={kk:[],tr:[],list:a};console.log(a)}if(P==dq.A)a=a[h.data.tK];var C=dq.AM[P],p=C[2].mA(a);ke.save(p,C[1]+"."+C[0])}if(J==k.l.x_){var Y=this.H.Jy,_=h.data.ave;
if(Y._v&&!Y.amh&&!_){Y.azj=window.confirm("Load \""+h.data.pQ+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
Y.amh=!0}if((Y.azj||_)&&Y._v){Y.Ib[h.data.pQ]=h.data.rP;var o=new g3(k.E.u);o.data={V:k.l.Gi,m0:dq.Dy};
this.a(o)}}if(J==k.l.aiz){var x=this.LV(),r="<!DOCTYPE HTML>";if(x==null)return;var t=gI.q0(x.pb().buffer,x.q,x._),I=window.open();
r+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";r+="<body><img src=\""+t+"\" /></body>";
r+="</html>";I.document.write(r)}if(J==k.l.O4){if(this.sF("publishOnline"))return;var n=h.data.v9=="jpg"||h.data.v9=="png",x=this.LV();
if(x==null)return;if(!n&&x.um)return;var v="Your "+(n?"picture":"document")+" will be published at "+(n?"Imgur":["Photo","Vector"][jD]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!n)v+=" We guarantee 6+ months of storage.";var Q=h.data.OF?!0:confirm(v);if(Q){if(h.data.v9=="psd"){var o=new g3(k.E.A,!0);
o.I=c.Yn;o.data={V:s.mB};this.a(o);var D=new fP(0,0,x.q,x._);for(var T=0;T<x.T.length;T++){var j=x.T[T];
if(j.R.EG()||j.XN()||j.NH()||j.Qi()||j.Yb()||j.add.TySh||j.add.vmsk||j.add.SoLd)continue;var dG=D.UP(j.R);
if(!dG.lS(j.R)&&!dG.EG()){var R=B.U(dG.$()*4);B.YZ(j.buffer,j.R,R,dG);j.buffer=R;j.R=dG}if(!B.Mc(j.buffer,j.R.q,j.R._))continue;
var X=j.oA(),dx=j.S2,jv=j.fR,gB=j.ql;j.nP(!0);j.S2=255;j.fR="norm";x.X=[T];o.data={V:s.k$,v9:"jpg"};
this.a(o);var hQ=x.T[T];j.nP(X);hQ.nP(X);j.S2=hQ.S2=dx;j.fR=hQ.fR=jv,j.ql=hQ.ql=gB}}if(x.LE){x.vp()}var ah=x.q,kG=x._,iZ=h.data.amp,bs;
if(iZ)while(Math.max(ah,kG)>iZ){ah=ah>>>1;kG=kG>>>1}console.log(ah,kG);if(h.data.v9=="psd")bs=gI.Pc(x,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(h.data.v9=="ai")bs=gI.Pc(x,"ai");else if(h.data.v9=="png")bs=gI.Pc(x,"png",ah,kG);else{var ey=gI.Pc(x,"png",ah,kG),jp=gI.Pc(x,"jpg",ah,kG);
bs=ey.byteLength<jp.byteLength?ey:jp}var eh=h.data.OF;if(eh==null)eh=function(jJ){var cJ=n?jJ:"https://www."+["photo","vector"][jD]+"pea.com/#i"+jJ,o=new g3(k.E.u);
o.data={V:k.l.Xq,dF:"linkview",aHV:cJ};this.a(o)}.bind(this);if(n)ke.acf(bs,eh);else this.HB.arn(bs,x.name,eh,"psdshared")}}if(J==k.l.TN){var x=this.LV(),dt=!1;
if(x==null)return;if(x.LE){x.vp()}if(h.data.Ro){if(!this.oa(x,h.data.Ro))return;var p=dE.ag6(x,h.data.Ro,this.H);
this.qq(p);dt=!0}else if(x.Mr){if(this.qk.indexOf(x.Mr.iY)!=-1){var p=new Uint8Array(gI.g6("PSD").oZ(x,null,null,[!0,!1])),o=new g3(k.E.A,!0);
o.data={V:s.NU,Zw:x.Mr.iY,data:p,id:x.Mr.aI9,PY:x.name};o.I=c.Yn;this.a(o);alert("Smart Object updated")}dt=!0}else if(this.sF("save")){dt=!0}else if(x.Ey){dE.aqT(x);
dt=!0}else if(x.rA){if(x.rA[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var jX=dE.aro(x);
if(jX==1){alert("Already saving another file. Try again later.");return}dt=!0}else if(x.N2&&x.N2.sy){if(!this.oa(x,x.N2.sy.formats))return;
this.HB.a1D(x,this.H,dE.as5);dt=!0}else if(x.rK&&(jD==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(x.z2)!=-1||jD==1&&x.z2=="ai")){this.aaR();
return}if(dt){x.YG=x.uM;x.fp=Date.now();x.GI=!0}else{var o=new g3(k.E.u,!0);o.data={V:k.l.gh};this.a(o)}}if(J==k.l.gh){if(!this.H.WI){alert("function is disabled");
return}if(this.sF("saveAsPSD"))return;var x=this.LV();if(x==null)return;if(!this.oa(x))return;var o=new g3(k.E.A,!0);
o.data={V:s.mB};o.I=c.Yn;this.a(o);var jw=x.T.length,i7="Your document has "+x.T.length+" layers.";if(jw>1<<15){alert(i7+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(jw>8e3&&!confirm(i7+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var kn={GL:[]};x.root.atB([],kn);var eK=kn.GL;if(eK.length>11&&!confirm("One layer is nested "+(eK.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+eK.join(" \uD83E\uDC1A ")+"."))return;
var ee=window.showSaveFilePicker;if(window.parent!=window)ee=null;if(ee&&!h.data.ad8){var az={suggestedName:x.name,types:[{description:["PSD","AI"][jD]+" Files",accept:jD==0?{"image/psd":[".psd"]}:{"application/pdf":[".ai"]}}]};
ee(az).then(function(h){x.rK=h;x.name=h.name;x.NK=!0;x.z2="psd";this.aaR()}.bind(this));return}var k7=window.gtag;
if(x.Qx()&&k7)k7("event",x.z2+":"+V.M8(cU.Ju()?"\"'|('61":"w'| "),{event_category:"Formats"});if(x.LE){x.vp()}var al=jD==0?"PSD":"AI",kl=gI.g6(al);
cU.event("efmt_"+al.toLowerCase(),.1);if(h.data.ad8){var p=x.z2=="psd"?kl.oZ(x):dE.ep(x,x.z2,this.H);
this.a9V(p,x,this)}else{var p=kl.oZ(x);ke.save(p,x.name);x.YG=x.uM;x.fp=Date.now();x.GI=!0}}if(J==k.l.US)window.open(h.data.link,"_blank");
if(J==k.l.aBQ){if(this.rs.G0()){this.aDb();return}var x=this.LV(),j=x.T[x.X[0]],d=x.mJ(j.add.SoLd.Idnt.v);
for(var T=0;T<this.qk.length;T++){var b9=this.qk[T].Mr;if(b9!=null&&b9.aI9==d.mX&&b9.iY==x){this.p0.EW(T);
return}}ke.we({name:d.PY,Mr:{aI9:j.add.SoLd.Idnt.v,iY:x}},d.raw.buffer,this)}if(J==k.l.abl){var x=this.LV(),j=x.T[x.X[0]],d=x.mJ(j.add.SoLd.Idnt.v);
ke.save(d.raw.buffer,d.PY)}if(J==k.l.a6f){console.log(h.data);ke.we({name:h.data.rA[1].split("/").pop(),rA:h.data.rA},h.data.ND,this)}if(J==k.l.a3T){var x=this.LV();
x.rA=h.data.rA;x.name=x.rA[1].split("/").pop();var o=new g3(k.E.u);o.data={V:k.l.TN};this.a(o)}if(J==k.l.X8){this.a4x()}if(J==k.l.Bn){this.abX(h.data.fz,h.data.pT,h.data.qT)}if(J==k.l.Qv){this.ajY(h.data.azH,h.data.ayR,h.data.qT)}if(J==k.l.arP){var h9=h.data.J;
if(this.H.jR==c.HV&&this.wM().G0()){var o=new g3(k.E.A,!0);o.I=c.HV;o.data={V:"insertText",J:h9};this.a(o);
return}if(h9.startsWith("vcb;")){var ge=JSON.parse(h9.slice(4));ge[0]=dI.a5s(ge[0]);var o=new g3(k.E.A,!0);
o.I=c.uP;o.data={V:"append",SQ:"Paste Paths",a7e:ge};this.a(o)}else if(h9.startsWith("lrs;")){var iN=h9.split(";"),a8=this.qk[parseInt(iN[1])];
if(a8==null)return;var dK=this.LV(),f6=a8.X;a8.X=JSON.parse(iN[2]);var fS=a8.Ae(null,a8!=dK);a8.X=f6;
var o=new g3(k.E.A,!0);o.data={V:s.m1,T:fS,iY:a8,WK:dK};o.I=c.Yn;this.a(o)}else if(h9.startsWith("<!--")||h9.startsWith("<svg")){var cf=b.YQ(h9),iG=gI.g6("svg"),E=new e7("image.psd");
iG.E2(cf.buffer,E);if(this.qk.length!=0){var eC=E.T;if(eC.length==3&&eC[0].getName()=="</Layer group>"&&eC[2].XN())eC=[eC[1]];
var o=new g3(k.E.A,!0);o.I=c.Yn;o.data={V:s.m1,T:eC,iY:E,WK:this.LV()};this.a(o)}else this.aht(E)}}if(J==k.l.M7){cZ.SE(h.data.Ds,this)}if(J==k.l.c$){if(window.parent!=window)window.parent.postMessage(h.data.m0,"*");
this.Yr.Ej(h.data.m0)}if(J==k.l.Os){var kH=parseFloat(h.data.dF);if(this.H.an.indexOf(kH)==-1){var o=new g3(k.E.u,!0);
o.data={V:k.l.Gi,m0:dq.Iz,J:kH,N2:"add"};this.a(o)}this.Yr.a6X(h.data.dF)}if(J==k.l.kX){this.dk.apG(this.LV(),this.H)}if(J==k.l.Xq){var i0="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var T=0;T<i0.length;T+=2)if(h.data.dF==i0[T]&&this.sF(i0[T+1]))return;if(!this.H.WI&&h.data.window=="saveforweb"){alert("function is disabled");
return}this.rs.awv(h.data.dF,this.LV(),h.data,this.qk,this.sL)}if(J==k.l.vI)ke.save(h.data.data,h.data.name);
if(J==k.l.zM){if(!this.rs.G0()||h.u$)this.aht(h.data.Zw)}if(J==k.l.f9){this.p0.EW(h.data.target);var o=new g3(k.E.A,!0);
o.data={V:s.a7S,Zw:h.data.Zw,k7:h.data.k7,NP:h.data.NP};o.I=c.Yn;this.a(o);this.nr(c.Li)}if(J==k.l.a4f){fM.QX=!fM.QX;
if(this.qk.length>0)this.LV().dn()}if(J==k.l.ab2){var e5=cU.rG();if(e5!=null&&e5.globals!=null)this.CM(e5.globals);
this.vb()}if(J==k.l.YM){this.HB.Pl(h.data.data,null,h.data.az,h.data.J6,h.data.acW)}if(J==k.l.px){var gA=this.wM();
if(!this.rs.He()!=null)this.nr(h.data.I,h.data.yJ);var bW=this.wM();if(bW!=gA&&h.data.a82)bW.HL(this.LV(),this,this.H,this.sL,this.FQ)}if(J==k.l.NY){if(this.F.awq)this.nr(this.F.awq)}if(J==k.l.bf){var e3=this.F.map[h.data.I].I,x=this.LV();
e3.oy(h.data,this,x,this.sL,this.H);if(x)x.L9=!0;this.ats()}if(J==k.l.vi){var iL=this.F.map[h.data.I];
this.aDP(iL);iL.PO.I8(h.data)}if(J==k.l.Gi){var x=this.LV(),h4,iT=!(x&&x.X.length!=0&&x.T[x.X[0]].add.TySh),hC=h.data.m0,dS=h.data.mM,il=this.H;
if(h.data.N2=="set"){var bW=c.Ht[dS[1].classID];if(il.jR!=bW)this.nr(bW);this.F.map[bW].PO.ai0(dS,il)}if(h.data.N2=="add"){var C=dq.AM[hC];
if(hC==dq.Iz){il.an.push(h.data.J);il.an.sort(function(jJ,cJ){return jJ-cJ})}else if(C==null){if(dS)il.eN.aoA(dS,h.data.a8I);
if(x)x.GI=!0}else{var i6=this.En(hC);if(hC==dq.ty){i6.kk=i6.kk.concat(dS.kk);i6.tr=i6.tr.concat(dS.tr);
i6=i6.list;dS=dS.list}if(hC==dq.NC&&x){for(var T=0;T<dS.length;T++){var S=dS[T].bP.Lefx;if(S)d4.a4O(S,x,il.T9)}}if(hC==dq.yR&&dS==null){var E=this.F.map[il.jR].PO.a6p();
if(E==null)return;dS=[E]}for(var T=0;T<dS.length;T++)i6.push(dS[T]);if(hC==dq.pt){var co={};for(var T=0;
T<i6.length;T++){var bH=i6[T].zV;while(co[bH]!=null)bH=i6[T].zV=bH+"X";co[bH]=!0}}if(h.data.a8I!=!0)if(i6.length!=dS.length||hC==dq.fU||hC==dq.NC||hC==dq.Hn||hC==dq.A)alert(bj.get(C[3])+" "+bj.get([23,1])+".")}}if(h.data.N2=="del"){if(hC==dq.Iz){il.an.splice(il.an.indexOf(h.data.J),1)}else{var C=dq.AM[hC],g=h.data.Wi,i6=this.En(hC);
if(hC==dq.ty)i6=i6.list;for(var T=0;T<g.length;T++)i6[g[T]]=null;for(var T=0;T<i6.length;T++)if(i6[T]==null){i6.splice(T,1);
T--}alert(bj.get(C[3])+" deleted.")}}if(h.data.N2=="rnm"){var C=dq.AM[hC],i6=this.En(hC);if(hC==dq.ty)i6=i6.list;
if(i6[h.data.Wi[0]]==null)return;C[2].PZ(i6[h.data.Wi[0]],(h.data.Mn?h.data.Mn:"")+h.data.J)}if(hC==dq.j_){var b5=h.data.J;
il.TV=b5;il.aF9[b5.oH]=b5.ag}if(hC==dq.a0){var b5=h.data.J;il.Wv=B.t(b5);var ej=fL.RM(b5);il.aGf[ej.oH]=ej.ag}if(hC==dq.SH){il.Rr=h.data.J;
var id=fL.Rr.UX(),dH=!0;for(var E in id)if(il.Rr[E]==null)dH=!1;if(dH)il.au5=B.t(il.Rr)}if(hC==dq.Gn){il.FD=h.data.J}if(hC==dq.rz){il.K1=h.data.J}if(hC==dq.PC){il.Xi=h.data.Xi;
var hA=il.Xi.zI.FillColor;if(iT&&hA){var fn=hA.Values,d3={n:fn[1]*255,i:fn[2]*255,b:fn[3]*255},iF=B.RP(d3);
if(il.kc!=iF){il.kc=iF;h4=dq.Ih}}}if(hC==dq.lc){var R=B.t(h.data.Pz),hF=R.useBrushSize;if(hF&&hF.v){R.Brsh.v.Dmtr.v.val=il.Zb.kt.Brsh.v.Dmtr.v.val;
hF.v=!1}il.Zb.kt=R;if(R.Nm==null)return;var bz={UH:"select",TH:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:R.Nm.v.split("/").pop()}}]}}},iL=this.wM();
iL.IF=this;iL.track(bz)}if(hC==dq.Nh){il.Td=h.data.uO}if(hC==dq.G$){il.mM=h.data.uO}if(hC==dq.Ih){var bz,hN="Clrs";
if(h.data.rf<2){var cA=h.data.J,km=h.data.rf==0,gm=B.Vh.WZ(B.UY(cA));if(km)il.kc=cA;else il.kF=cA;hN=km?"FrgC":"BckC";
bz={UH:"set",TH:{__name:"Set",classID:"setd",T:{t:"Objc",v:gm}}}}if(h.data.rf==2){var gS=il.kc;il.kc=il.kF;
il.kF=gS;bz={UH:"exchange",TH:{__name:"Exchange",classID:"Exch"}}}if(h.data.rf==3){il.kc=0;il.kF=16777215;
if(x!=null&&x.X.length!=0&&x.T[x.X[0]].TM==1){var gS=il.kc;il.kc=il.kF;il.kF=gS}bz={UH:"reset",TH:{__name:"Reset",classID:"Rset"}}}if(bz){bz.TH.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:hN}}]};
var iL=this.wM();iL.IF=this;iL.track(bz)}var hA=il.Xi.zI.FillColor;if(iT&&hA){var jl=B.UY(il.kc),jn=[1,jl.n/255,jl.i/255,jl.b/255];
if(jn.join(",")!=hA.Values.join(",")){hA.Values=jn;h4=dq.PC}}}if(hC==dq.x8){il.rM=!il.rM;this.P6()}if(hC==dq.ik){il.I7=!il.I7;
this.P6()}var ad=il.Kd;if(hC==dq.Xr){ad.mi=!ad.mi;this.P6()}if(hC==dq.WC){ad.H0=!ad.H0;this.P6()}if(hC==dq.Cw){ad.nT=!ad.nT;
this.P6()}if(hC==dq.tp){ad.bT=!ad.bT;this.P6()}if(hC==dq.lD){ad.vt=!ad.vt;this.P6()}if(hC==dq.lp){ad.Ys=!ad.Ys;
this.P6()}if(hC==dq.xo){il.Kd=h.data.uO;this.P6()}if(hC==dq.agZ){il.Y7=!il.Y7;this.P6()}if(hC==dq.Ls){il.$W[h.data.nd]=!il.$W[h.data.nd];
this.P6()}if(hC==dq.Cy){bj.akO(h.data.lang,this.aGR)}if(hC==dq.LQ){il.YC=h.data.YC;this.S()}if(hC==dq.Dy&&il.Jy._v){var el=il.Jy._v.transaction(["rsrc"],"readwrite").objectStore("rsrc"),db={k:"fs0",fset:il.Jy.Ib};
if(h.data.ahl)db={k:il.Jy.id,fset:il.Jy.YT};var dC=Object.keys(db.fset).length==0?el.delete(db.k):el.put(db);
dC.onerror=function(h){console.log(h);alert("Storing failed. Browser says: "+h.target.error.message,7e3)}}this.VK(hC);
if(h4)this.VK(h4)}};i1.prototype.aaR=function(){var h=this.LV();console.log(h.eH);if(h.eH)return;h.eH=!0;
var e=new g3(k.E.u,!0);e.data={V:k.l.zw,qt:"Saving ..."};this.a(e);setTimeout(function(){var e=new g3(k.E.u,!0);
e.data={V:k.l.gh,ad8:!0};this.a(e)}.bind(this),20)};i1.prototype.a9V=function(h,e){e.rK.createWritable().then(function(v){v.write(h);
return v}).then(function(v){return v.close()}).then(function(v){e.YG=e.uM;e.fp=Date.now();e.GI=!0;e.eH=!1;
var J=new g3(k.E.u,!0);J.data={V:k.l.gv,qt:"Saving ..."};this.a(J)}.bind(this)).catch(function(v){e.eH=!1;
var J=new g3(k.E.u,!0);J.data={V:k.l.gv,qt:"Saving ..."};this.a(J)}.bind(this))};i1.prototype.aAt=function(){var h=this.H,e=h.mM,v=h.axO;
for(var T=0;T<e.length;T++){var J=e[T];if(v[J])continue;v[J]=!0;this.HB.a3(J,!1,!0)}};i1.prototype.aec=function(){this.S();
this.P6()};i1.prototype.sF=function(h){var e=this.H.afy[h];if(e){var v=new g3(k.E.u,!0);v.data={V:k.l.M7,Ds:e};
this.a(v)}return e!=null};i1.prototype.oa=function(h,e){var v=!0,x=15;if(e){v=!1;for(var T=0;T<e.length;
T++)if(e[T].startsWith(V.h7("__M")))v=!0}var J=h.Qx()||h.Mr&&h.Mr.iY.Qx();if(this.Ai())J=!1;var m=new V.vq[c3.a2j],d=(m[V.M8("xy,b-66:")]()&1)*60+m[V.h7("VQ]3LNRN<G")]();
if(J&&!cU.Ju()&&d>x&&v){var j=V.vq[V.M8("}$z{2*35")][V.M8("y'|!")],E=V.h7("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
E+="\n\n"+V.h7("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-d+120)+V.h7("nYRTXTBMd");
if(j.indexOf(V.M8("\"|'/-1)(W0?@"))==-1)E=bj.get([0,11+6,3+2]);V.vq._cwY(E);return!1}return!0};i1.prototype.En=function(h){var e=this.H,v=[dq.ty,dq.vk,dq.oK,dq.Hn,dq.to,dq.pt,dq.NC,dq.fU,dq.A,dq.yR,dq.fJ],J=[e.Zb,e.$r,e.CT,e.dH,e.T9,e.ki,e.L7,e.aap,e.cW,e.rw,e.ahq];
return J[v.indexOf(h)]};i1.prototype.a4x=function(){var h=this.abX(),e=this.LV();if(e==null||e.X.length==0)return;
var v=e.T[e.X[0]],J=new g3(k.E.A);if(h==1){J.I=c.uP;J.data={V:"remove",SQ:"Cut Paths"}}else{J=new g3(k.E.Fq);
J.data={UH:"delete"}}this.a(J)};i1.prototype.abX=function(h,e,v){if(h==null)h=!1;var J=this.H;console.log("doCopy",h,e);
var m=this.LV();if(J.jR==c.HV&&this.wM().G0()){var d=new g3(k.E.A,!0);d.I=c.HV;d.data={V:"copyText"};
this.a(d);return}if(m==null||m.X.length==0&&!h)return;var x=m.T[e==null?m.X[0]:e],j=m.rx(),E=j[0],L=j[1],p=E[L[0]];
if(!h&&p!=null&&p.add.vmsk.X.length!=0){var Z=c.Uk.hh(p.add.vmsk,p.add.vogk);if(V.rJ()){Z[0]=dI.at3(Z[0]);
var o="vcb;"+JSON.stringify(Z);ke.Pt(new Blob([o],{type:"text/plain"}))}else J.eB=Z;return 1}else if(m.K==null){if(V.rJ()){var o="lrs;"+this.qk.indexOf(m)+";"+JSON.stringify(m.X);
ke.Pt(new Blob([o],{type:"text/plain"}))}}else{var u,N;if(h){var M=new fP(0,0,m.q,m._);N=M.UP(m.K.R);
u=B.U(N.$()*4);B.YZ(m.pb(),M,u,N);B.L_(m.K.G,m.K.R,u,N)}else if(m.kH.length!=0){N=m.K.R.O();u=B.U(N.$()*4);
var O=m.Ar[m.kH[0]],F=O._N(N);B.WS(F,u);B.ar(m.K.G,u,3)}else{var W=x.sk(m,m.K);if(W==null){alert("Copied area is empty");
return}u=W.ND;N=W.R}var f=m.p.Y,$=f[0]+f[1]+f[2];if($==1){var H=f.indexOf(1);for(var T=0;T<u.length;
T+=4)u[T]=u[T+1]=u[T+2]=u[T+H]}var A=new fq(m.q,m._);if(V.rJ()&&v!=!0){var G=gI.g6("PNG").aqS(u.buffer,N.q,N._);
ke.Pt(new Blob([new Uint8Array(G)],{type:"image/png"}));this.ae6={e3:N,Hs:A}}else J.qs={buffer:u,R:N,Hs:A};
J.afc=N.O();J.eB=null}};i1.prototype.ajY=function(h,e,v){if(e)this.awr=!0;console.log("doPaste");var J=this.H,m=J.qs,E;
if(this.qk.length==0){if(!h&&V.rJ()){ke.Ui(this,null);return}if(m){var d=gI.d2("image.psd",[{data:m.buffer.buffer,Ei:m.R}]),x=new g3(k.E.u);
x.data={V:k.l.zM,Zw:d};this.a(x)}return}var d=this.LV();if(J.jR==c.HV&&this.wM().G0()){ke.Ui(this,null);
return}var j=d.T[d.X.length==0?d.T.length-1:d.X[0]];if(J.eB){var L=d.rx(!0),p=L[0],Z=L[1];E=p[Z[0]]}var x=new g3(k.E.A,!0);
if(J.eB!=null&&E!=null){x.I=c.uP;x.data={V:"append",SQ:"Paste Paths",a7e:J.eB}}else if(!h&&V.rJ()&&v!=!0){ke.Ui(this,this.afL.bind(this));
return}else{if(m==null)return;if(d.kC(!1)&&(d.p.Y.join("")!="111"||d.kH.length!=0||j.TM>0||j.R.EG())){x.I=c.ty;
x.data={V:"draw",aqG:!0,SQ:[5,2]}}else{x.I=c.Yn;x.data={V:s.Lo,a5D:this.awr};this.awr=!1}x.data.qs=m;
if(m.R.x==0&&m.R.y==0){var o=d.p.L1,u=d.p.IK(d.q/2,d._/2),N=d.q-m.R.q,M=d._-m.R._;if(o.GX(u)){m.R.x=N>>1;
m.R.y=M>>1}else{u=d.p.$$(o.q/2,o._/2);console.log(u);m.R.x=Math.max(0,Math.min(N,Math.round(u.x-m.R.q/2)));
m.R.y=Math.max(0,Math.min(M,Math.round(u.y-m.R._/2)))}}}this.a(x)};i1.prototype.a93=function(){var h=this.H.eN;
if(h.ayt())return;for(var T=0;T<this.qk.length;T++){var e=this.qk[T];if(!hP.gu(e,h,this))continue;if(e.cj)hP.GV(e,h,this);
var v=e.add.lnk2;if(v)for(var J=0;J<v.length;J++){var m=v[J];if(m.cj)c.YK.p$(e,m.mX,m.Qp,m.Qp,h)}if(e.a45)continue;
e.a45=!0;if(e.N2&&e.N2.a1i)cZ.SE(e.N2.a1i,this);this.qq();var d=new g3(k.E.A);d.I=c.hk;d.data={V:"start",Ps:"blurbTransform"};
var x=new g3(k.E.u);x.data={V:k.l.Os,dF:b4.rF.a54};x.data={V:k.l.Xq,dF:"saveforweb",v9:6,index:[10,0]}}};
i1.prototype.VK=function(h){this.aAt();var e=this.H,v=e.jR,j=!1;if(h==dq.lc){if(this.F.map[v].PO)this.F.map[v].PO.fa(e,h)}else for(var J in this.F.map)if(this.F.map[J].PO)this.F.map[J].PO.fa(e,h);
if(h==dq.Na){if(v!=c.HV)this.F.map[c.HV].I.fa(e,h);this.a93()}this.p0.fa(e,h);this.BU.fa(e,h);this.rs.fa(e,h);
if(jD==1&&h==dq.SH){var m=new g3(k.E.A,!0);m.I=c.Yn;m.data={V:s.S6};this.a(m)}else this.wM().fa(e,h);
this.Yr.fa(e,h);this.cX.fa(e,h);if(jD==1)this.Ll.fa(e,h);if(h==dq.LQ||h==dq.AY){i4.aai(e.YC);this.update(!0)}var d=e.Xi,x=d.zI.Font;
if(h==dq.PC&&x!=null&&d.k0[x].Name!=e.font){e.font=d.k0[x].Name;j=!0}if([dq.Iz,dq.Nh,dq.G$,dq.Ih,dq.x8,dq.ik,dq.xo,dq.Cw,dq.tp,dq.Xr,dq.WC,dq.lD,dq.lp,dq.Cy,dq.LQ].indexOf(h)!=-1||j)this.ats()};
i1.prototype.ats=function(){if(!this.vd)return;var h=[],e=this.F.map;for(var v in e){var J=e[v].I;if(J.nv&&J.nv()!=null)h.push(parseInt(v),J.nv())}var m=this.H,d=m.Kd,x={};
if(d.da!=8421504)x.gc=d.da;if(d.Gl!=65535)x.uc=d.Gl;if(d.HM!=33023)x.lc=d.HM;if(d.KS!=20)x.gs=parseFloat(d.KS.toFixed(2));
if(d.Iq!=0)x.gu=d.Iq;if(d.aj!=0)x.gt=d.aj;if(d.XB!=0)x.ru=d.XB;if(d.bT!=!1)x.gr=d.bT?1:0;if(d.nT!=!0)x.gd=d.nT?1:0;
if(d.mi!=!0)x.se=d.mi?1:0;if(d.H0!=!0)x.pa=d.H0?1:0;if(d.vt!=!0)x.pg=d.vt?1:0;if(d.Ys!=!0)x.sl=d.Ys?1:0;
var j={};if(m.kc!=0)j.fc=m.kc;if(m.kF!=16777215)j.bc=m.kF;if(m.rM!=!1)j.ru=m.rM?1:0;if(m.I7!=!0)j.ex=m.I7?1:0;
if(m.Td.length!=0)j.ff=m.Td.join(",");if(m.mM.length!=0)j.rs=m.mM.join(",");if(m.YC!=1)j.theme=m.YC;
if(m.VW!=0)j.co=m.VW;if(m.font!=null&&m.font!="DejaVuSans")j.fo=m.font;var E=b4.ab5(m.an);if(E.length!=0)j.pd=E;
if(h.length!=0)j.to=h;if(bj.IL()!="en")j.lang=bj.IL();if(Object.keys(x).length!=0)j.ep=x;var L=cU.rG();
if(L==null)L={};L.globals=j;cU.Fm(L)};i1.prototype.g0=function(h){var e=this.sL,v=this.FQ,J=this.H.jR,m=this.F.map[J].I,d=null,x=!1;
for(var T=0;T<this.F.aum.length;T++){var j=this.F.aum[T],E=!0;for(var L=0;L<j.vD.length;L++){var p=j.vD[L];
if(!e.r(p))E=!1}if(E&&(!j.Hi||!m.G0())&&(j.wz==null||j.wz.indexOf(J)!=-1)){d=j.I;x=j.Hi;break}}if((!v.fE||J==c.TK||h)&&this.F.vZ!=d&&(d!=J||!x)){var Z=this.LV();
if(this.F.vZ!=null&&d==null)this.wM().disable(Z,this,this.H,e,!0);this.F.vZ=d;this.wM().enable(Z,this,this.H,e,d!=null&&d!=J)}};
i1.prototype.Rq=function(h){var e=this.H.jR,v=this.LV();if(e!=null){this.F.map[e].I.disable(v,this,this.H,this.sL)}};
i1.prototype.aDP=function(h){if(h.PO==null){h.PO=new h.zp(h.I.id);h.PO.alQ(h.I.id,h.I.FL);h.PO.fa(this.H,dq.AY);
h.PO.S()}};i1.prototype.nr=function(h,e){if(h==c.Li&&this.rs.He())return;var v=this.LV(),J=this.H;if(this.F.map[h].I.yK(v,J,e)){this.Rq();
if(h!=J.jR)this.F.awq=J.jR?J.jR:c.GA;J.jR=h;this.BU.nr(J.jR);var m=this.F.map[h];this.F.adx[m.tU]=m.a0d;
this.aDP(m);this.kG.aw3(jD==0?m.PO:this.Ll);var d=m.I;d.enable(v,this,this.H,this.sL,!1,e);if(v)v.L9=!0;
this.P6();this.C6.av$()}};i1.prototype.wM=function(h){var e=this.F,v=e.nu,J=e.vZ,m=this.H.jR;if(v)m=v;
else if(J&&h==null)m=J;return e.map[m].I};i1.prototype.aht=function(h){var e=this.H,v=this.qk.indexOf(h);
if(v!=-1){this.p0.EW(v);return}if(this.avV&&(h.N2==null||h.N2.sy==null)){h.N2={sy:this.avV}}if(h.L5==null){h.L5="local,"+this.awM+","+h.name;
this.awM++}h.fp=Date.now();if(jD==1&&h.add.arts==null)h.a3Q();if(fk.sr()!=0&&!this.ay0&&V.vq[V.M8("t$&!'31")].toString().indexOf(V.M8(" u,$4&"))==-1){alert(V.M8("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var T=0;T<h.T.length;T++){var J=h.T[T];if(J.add.SoLd!=null){var m=Date.now()}}var d=h.T.length,x=c3.SK(),j=Math.PI*(6550<<14)+(V.Rw(31)?20:10)*7e7;
if(x>j){var d=h.T.length;h.T=[];return d}if(fM.QX){fM.VS(Math.max(h.q,h._));for(var T=0;T<h.T.length;
T++){var J=h.T[T];if(J.t2())fM.VS(Math.max(J.R.q,J.R._))}}h.Bb();h.gU();if(h.aAH)h.ak7();else h.dn();
h.aAH=!1;this.qk.push(h);this.p0.tJ(new cn(h));h.L9=!0;h.GI=!0;this.a93();var E=new g3(k.E.A);E.I=c.EM;
E.data={V:"auto",xY:2}};i1.prototype.LV=function(){return this.qk[this.agu]};i1.prototype.arL=function(){return this.rs.He()==null};
i1.prototype.sG=function(h,e){this.Rq();var v=this.qk.length;if(e!=null)this.p0.EW((this.p0.cK()+e+v)%v);
this.agu=this.p0.cK();var J=this.LV();this.cX.HK(J,this.H);if(jD==1)this.Ll.HK(J,this.H);this.Yr.eh(J,this.qk,this.H);
this.P6();if(J)J.L9=!0};i1.prototype.acN=function(h){this.Rq();var e=this.qk,v=e[h.data.yL];e.splice(h.data.yL,1);
if(e.length==0){this.sG(h);var J=fM.Ut(),m=cn.GY.sj;if(J.parentNode)J.parentNode.removeChild(J);if(m.parentNode)m.parentNode.removeChild(m)}this.ant(v.name)};
i1.prototype.ant=function(h){var e=this.H.Jy,v=!1;if(e._v==null)return;for(var J in e.YT){if(h==null||J==h){delete e.YT[J];
v=!0}}if(v){var m=new g3(k.E.u);m.data={V:k.l.Gi,m0:dq.Dy,ahl:!0};this.a(m)}};i1.prototype.aGt=function(h){var e=[],v=h.data.aFJ;
for(var T=0;T<v.length;T++)e[T]=this.qk[v[T]];this.qk=e;this.agu=this.p0.cK()};i1.prototype.aiN=function(h){var e=this.p0,v=e.a8n(),J=this.wM(),m=this.LV();
if(v==e.cK()||!J.aq6())return;this.alg(v,J)};i1.prototype.alg=function(h,e){console.log("dup2doc");var v=this.H,J=this.p0,m=this.LV(),d=this.qk[h],x,j=new g3(k.E.A,!0);
j.I=c.Yn;if(m.K==null){j.data={V:s.m1,T:m.Ae(null,!0),iY:m,WK:d,an$:e==null};this.a(j)}else x=m.T[m.X[0]].sk(m,m.K);
var E=this.FQ,L=v.rM;v.rM=!1;E=m.p.$$(E.x,E.y);if(e)e.Kj(m,this,v,this.sL);J.EW(h);if(m.K){j.data={V:s.Lo,qs:{buffer:x.ND,R:x.R}};
this.a(j)}E=d.p.IK(E.x,E.y);if(e)e.HL(d,this,v,this.sL,E);v.rM=L};i1.prototype.awl=function(h){var e=this.LV(),v=this.sL,J=this.H,m=h.mj;
if(m)this.FQ=m;if(m)m.y-=J.VW;if(this.aD4==null)this.aD4=0;if(h.action=="multidown"){this.UW=h.mG.length;
this.aD4=Date.now()}if(h.action=="up"&&Date.now()-this.aD4<100){var d=new g3(k.E.A);d.I=c.V8;d.data={V:this.UW==2?"h_stepbck":"h_stepfwd"};
this.a(d)}if(h.action.startsWith("multi")){var x=new g3(k.E.A,!0);x.data={V:h.action,mG:h.mG};x.I=c.ZM;
this.a(x);return}var j=this.F.map[c.GA].I;if((h.action=="down"||h.action=="rdown")&&J.jR!=c.GA&&this.F.vZ!=c.GA&&j.a66(e,this,J,v,m)){this.F.nu=c.GA;
j.enable(e,this,J,v,!0)}if(h.action=="idown"){v.zO("Space");this.g0(!0);h.action="down"}var E=this.rs.He(),L=E!=null&&E.po()&&this.F.vZ==null?E:this.wM();
if(h.action=="scroll"){var p=!v.r(dW.Dd)&&h.ky,x=new g3(k.E.A,!0);x.data={V:"scroll",Mx:h.Mx.O(),mj:m,a32:p};
x.I=v.r(dW.B2)||p?c.ZM:c.I5;this.a(x)}if(E!=null&&L!=E&&this.rs.G0()&&L.id!=c.I5&&L.id!=c.ZM)return;
if(h.action=="down")L.HL(e,this,J,v,m);if(h.action=="rdown")L.NB(e,this,J,v,m);if(h.action=="move")L._8(e,this,J,v,m);
if(h.action=="up"||h.action=="iup"||h.action=="cancellast")L.ej(e,this,J,v,m,h.action=="cancellast");
if(h.action=="rup")L.ZF(e,this,J,v,m);if(h.action=="iup"){v.eR("Space");this.g0(!0)}if(h.action=="cancellast"){if(e&&e.history.length!=0&&Date.now()-e.history[e.history.length-1].a05<200){var d=new g3(k.E.A);
d.I=c.V8;d.data={V:"h_stepbck"};this.a(d)}}var Z=this.Yr;if(h.action=="down")Z.HL(e,this,J,v,m);if(h.action=="move")Z._8(e,this,J,v,m);
if(h.action=="up")Z.ej(e,this,J,v,m);if(h.action=="down"||h.action=="up"){this.g0()}if(h.action=="down"||h.action=="up"||h.action=="ctx"){e.L9=!0}if((h.action=="up"||h.action=="rup")&&this.F.nu){this.F.nu=null;
j.disable(e,this,J,v)}};i1.prototype.v6=function(h){var e=this.LV(),v=this.FQ;if(e&&this.wM().Th(v,this.sL)){var J=e.p,m=J.L1.q,d=J.L1._,x=0,j=0,E=16;
if(v.x<E)x=E-v.x;if(v.x>m-E)x=v.x-(m-E);if(v.y<E)j=E-v.y;if(v.y>d-E)j=v.y-(d-E);var L=this.sL.r(dW.l$)?8:1;
if((x!=0||j!=0)&&(e.q*J.e4>m||e._*J.e4>d)){x=Math.min(5,x*.5)*L;j=Math.min(5,j*.5)*L;if(v.x>E)x=-x;if(v.y>E)j=-j;
J.d.x+=x;J.d.y+=j;this.awl({mj:this.FQ,action:"move"});e.NK=!0}}this.update()};i1.prototype.update=function(h){var e=this.LV();
if(e==null)return;if(jD!=0){if(e.buffer)throw"e"}if(e.L9){var v=this.F.map;for(var J in v){if(v[J].I._X)v[J].I._X(e,this,this.H,this.sL)}if(jD==1){v[c.gg].I._X(e,this,this.H,this.sL,!0)}}if(e.LE&&jD==0)if(fM.QX)fM.VS(Math.max(e.q,e._));
if(e.LE&&jD==0){e.vp()}var m=e.p,d=this.qi,x=this.qi=Date.now();if(e.LE||e.AQ||e.GI||e.NK||h||m.$B!=m.e4||!m.Md.lS(m.d)){var j=m.$B;
if(m.$B!=m.e4){var E=c.lM.adl(m.e4,m.$B>m.e4),L=.12;if(m.$B<m.e4&&m.$B<E)m.$B=E;if(m.$B>m.e4&&m.$B>E)m.$B=E;
var p=Math.abs(m.e4-E)*(x-d)*.001/L;if(m.$B<m.e4)m.$B=Math.min(m.e4,m.$B+p);else m.$B=Math.max(m.e4,m.$B-p)}var Z=j==m.e4?0:(m.$B-m.e4)/(j-m.e4);
m.Md.x=m.d.x+Z*(m.Md.x-m.d.x);m.Md.y=m.d.y+Z*(m.Md.y-m.d.y);this.p0.fa(this.H,null);this.p0.eh(e,this.qk)}if((e.LE||e.NK||e.L9)&&(!this.FQ.fE||e.NV)){if(e.L9)e.gU();
this.Yr.eh(e,this.qk,this.H);this.BU.a3E(e,this.sL);if(jD==1)this.Ll.eh(e);e.vn=!1}e.NV=!1;e.L9=!1;e.LE=null;
e.AQ=e.GI=e.NK=!1};i1.prototype.cp=function(h){var e=h.target.tagName.toLowerCase(),v=h.target.getAttribute("type"),J=dW,m=J.ll(h.code,J.zD);
if(!((e=="input"||e=="select"||e=="button")&&J.ll(h.code,J.Po))){if(J.aGS(h)&&e!="select"){h.preventDefault()}this.sL.zO(J.auT(h));
this.lK("down")}};i1.prototype.pL=function(h){if(h.key==" ")this.sL.UA();if(dW.ll(h.code,dW.a0v))this.sL.reset();
this.sL.eR(dW.auT(h));var e=h.target.tagName.toLowerCase();if(dW.aGS(h)&&e!="select"){h.preventDefault()}this.lK("up")};
i1.prototype.lK=function(h){var e=this.sL,v=this.LV(),J=v!=null&&v.X.length!=0;if(this.dk.He()!=null){if(e.r(dW.BC)||e.r(dW.zD)){this.dk.a0f()}return}this.g0();
var m=this.zt(dW.Dd),d=e.r(dW.B2),x=e.r(dW.l$);if(m&&e.r(dW.ZB)&&h=="down"){var j=new g3(k.E.A),E=new g3(k.E.u);
j.I=c.V8;if(x){j.data={V:"h_stepfwd"}}else{j.data={V:"h_stepbck"}}if(this.rs.He()!=null&&this.rs.He().G0()){}else this.a(j)}if(m){var j=new g3(k.E.A),L=new g3(k.E.Fq),E=new g3(k.E.u);
if(e.r(dW.CC)&&e.r(dW.kP)){E.data={V:k.l.Xq,dF:"storwindow"};this.a(E)}if(!d&&h=="down")for(var p in hy.keys){var Z=hy.keys[p],o=!0;
for(var T=0;T<Z.length;T++)if(!e.r(Z[T]))o=!1;if(o){j.I=c.EM;if(p=="hue2"&&x&&v.T[v.X[0]].add.SoLd==null)j.data={V:"auto",xY:3};
else j.data={V:"start",yo:p}}}if(e.r(dW.l)){if(d){L.data={UH:"selectAllLayers",TH:{classID:"null",null:h8.$j("Lyr",!0)}}}else L.data=c.tM.CZ(!0)}if(e.r(dW.jo)){if(d)E.data={V:k.l.Xq,dF:"csize"};
else if(v)E.data={V:k.l.Bn,fz:x}}if(e.r(dW.Gu)&&v.K){L.data=c.tM.CZ()}if(e.r(dW.E)&&h=="down"){if(x)L.data={UH:"mergeVisible"};
else if(hZ.zh(v).m)L.data={UH:"mergeLayersNew",TH:{__name:"Merge Layers",classID:"Mrg2"}}}if(e.r(dW.CE)){if(x&&this.H.jR!=c.Li)E.data={V:k.l.Xq,dF:"afw_fade"};
else if(d){j.I=c.hk;j.data={V:"applylast"}}else E.data={V:k.l.kX}}if(e.r(dW.Sz)){if(d&&v&&v.Qu(v.X[0])){j.I=c.Yn;
j.data={V:s.QR}}else{j.I=c.Yn;j.data={V:s.ha,hp:x}}}if(jD==1&&e.r(dW.zn)){j.I=c.Yn;j.data={V:s.ha,FP:!0,hp:d}}if(e.r(dW.EQ)){E.data={V:k.l.Gi,m0:dq.ik}}if(e.r(dW.CC)){if(x){j.data=null;
if(d)E.data={V:k.l.Xq,dF:"finfo"};else L.data={UH:"inverse"}}else if(d)E.data={V:k.l.Xq,dF:"isize"}}if(e.r(dW.Dc)){L.data={UH:(x?"cut":"copy")+"ToLayer"}}if(e.r(dW.uX)){E.data={V:k.l.Xq,dF:"preferences"}}if(e.r(dW.VJ)){if(x){j.I=c.Yn;
j.data={V:s.yY}}else if(h=="down")E.data={V:k.l.Xq,dF:"newproject"}}if(e.r(dW.Rt)){if(d)E.data={V:k.l.Xq,dF:"storwindow",MC:0};
else{E.data={V:k.l.iv};e.reset()}}if(e.r(dW.k3)){E.data={V:k.l.aiz};e.reset()}if(e.r(dW.rF)){E.data={V:k.l.Gi,m0:dq.x8}}if(e.r(dW.J8)&&h=="down"){if(x){if(d)E.data={V:k.l.Xq,dF:"saveforweb"};
else E.data={V:k.l.gh}}else E.data={V:k.l.TN}}if(e.r(dW.em)){if(x){j.I=c.Yn;j.data={V:s.Zn};this.a(j);
j.I=c.Li;j.data={V:"again"}}else E.data={V:k.l.px,I:c.Li}}if(e.r(dW.q3)){E.data={V:k.l.Qv}}if(e.r(dW.agt)){this.p0.kY()}if(e.r(dW.R6)&&v&&v.aCb()){E.data={V:k.l.X8}}if(e.r(dW.fD)&&v){j.I=c.ZM;
j.data={V:"prvw"}}if(e.r(dW.td)||e.r(dW.Kg)){j.I=c.Yn;j.data={V:s.hB,rf:0};if(e.r(dW.td))j.data.rf=x?3:2;
else j.data.rf=x?0:1}if(e.r(dW.W6)&&v){j.I=c.Yn;j.data={V:s.KA}}if(e.r(dW.zD)&&v){var u=0;if(x)u++;if(d)u+=2;
j.I=c.Wm;j.data={V:"frompath",d9:[null,0,u]}}if(e.r(dW.os)){L.data=c.Zk.KG(0)}if(e.r(dW.Po)){var N=this.qk.length,M=e.r(dW.l$)?-1:1;
if(N>1)this.p0.EW((this.p0.cK()+N+M)%N)}if(e.r(dW.cz)){E.data={V:k.l.Gi,m0:dq.Cw}}if(e.r(dW.H6)){E.data={V:k.l.Gi,m0:dq.tp}}c.lM.aI5(e,j);
if(this.rs.He()!=null&&this.rs.He().G0()){}else{if(j.data)this.a(j);if(L.data)this.a(L);if(E.data)this.a(E)}}if(!m&&d){var O;
if(e.r(dW.td))O="Bckw";if(e.r(dW.Kg))O="Frwr";if(e.r(dW.W6))O="Back";if(e.r(dW.os))O="Frnt";if(O){var L=new g3(k.E.Fq);
L.data={UH:"select",TH:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:O}}]},MkVs:{t:"bool",v:!1}}};
this.a(L)}}if(v&&v.X.length!=0){var F=v.T[v.X[0]],W=F.TM;if(W==1||W==3||m){var j=new g3(k.E.A),f=W==3?F.o7(v).N:F.NH();
if(f){var $=f.bx?v.p.Y.join("")=="111"?1:2:0;j.I=c.ZM;if(f&&e.r(dW.BC)&&$!=0){j.data={V:"mskView",J:0}}if(f&&e.r(dW.a6F)){j.data={V:"mskView",J:$==1?0:1}}if(f&&e.r(dW.acg)){j.data={V:"mskView",J:$==2?0:2}}if(j.data)this.a(j)}}}var H=e.FX();
if(v&&m&&2<=H&&H<=5){var A=[1,1,1];if(H>2){A=[0,0,0];A[H-3]=1}var G=new g3(k.E.A,!0);G.I=c.I5;G.data={V:"setcls",Y:A};
this.a(G)}if(!e.r(dW.Dd)&&!d&&h=="down"){var j=new g3(k.E.A),E=new g3(k.E.u),l=this.F.map[this.H.jR],K=-1;
for(var T=0;T<this.F.keys.length;T++)if(this.F.keys[T]&&this.zt(this.F.keys[T]))K=T;if(K!=-1){var U=null;
if(l.tU!=K)U=this.F.adx[K];if(l.tU==K&&x)U=(l.a0d+1)%this.F.rX[K].length;if(U!=null){var z=this.F.rX[K][U].I.id,q=this.H._J;
if((q==null||q.indexOf(parseInt(z))!=-1)&&!this.FQ.fE)E.data={V:k.l.px,I:z}}}if(e.r(dW.EQ))E.data={V:k.l.px,I:c.I5};
if(e.r(dW.rF))E.data={V:k.l.px,I:c.Ue};if(e.r(dW.R6))E.data={V:k.l.Gi,m0:dq.Ih,rf:2};if(e.r(dW.Gu))E.data={V:k.l.Gi,m0:dq.Ih,rf:3};
if(E.data)this.a(E);if(e.r(dW.a6x)&&v&&v.X.length==1){var F=v.T[v.X[0]];j.I=c.Yn;var P=F.o1(0)||F.o1(1)||F.o1(2)||F.o1(31);
j.data={V:s.RK,uO:P?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(j)}var H=e.FX();if(J&&H!=-1&&this.zt(dW.N3[H])){var g=v.X[0],F=v.T[g],a=dW.a14(Math.round(100*F.S2/255),H);
j.I=c.Yn;j.data={V:s.Dw,uO:Math.round(255*a/100)};this.a(j)}var w=this.H.LI;if(e.r(dW.Po)){E.data={V:k.l.cb,J:w==0?1:0};
this.a(E)}if(e.r(dW.CE)||e.r(dW.BC)&&w==2){var y=document.fullscreenElement!=null==(w==2);E.data={V:k.l.cb,J:w==0?2:0,dw:y};
this.a(E)}if(e.r(dW.agh)&&!this.FQ.fE){j.I=c.Wm;j.data={V:"qmask"};this.a(j)}}if(!e.r(dW.Dd)&&!d&&x){var j=new g3(k.E.A),E=new g3(k.E.u);
if(e.r(dW.W6))E.data={V:k.l.Xq,dF:"shortcuts"};if(e.r(dW.apk))E.data={V:k.l.Xq,dF:"fill"};if(e.r(dW.aqh))E.data={V:k.l.Xq,dF:"sel_feather"};
if(J&&(e.r(dW.ci)||e.r(dW.As))){var g=v.X[0],F=v.T[g],S=cc.El,i=S.length,C=S.indexOf(F.fR);j.I=c.Yn;
j.data={V:s.ac,uO:(C+i+(e.r(dW.ci)?1:-1))%i};this.a(j)}if(E.data)this.a(E)}var j=new g3(k.E.A),Y=h=="down"&&(this.zt(dW.PV)||this.zt(dW.iS));
if((m||d)&&Y){j=new g3(k.E.Fq);j.data=c.Bt.pH(m?"BckC":"FrgC");this.a(j)}else if(this.rs.He()==null&&v&&Y&&!this.FQ.fE){if(v.K!=null){j=new g3(k.E.Fq);
j.data={UH:"delete"}}else if(v.X.length!=0){var F=v.T[v.X[0]];if(F.TM==1)j.data={V:s.Of};else if(F.TM==3)j.data={V:s.A6};
else j.data={V:s.Zt};j.I=c.Yn}this.a(j)}if(this.rs.He()!=null){if(e.r(dW.BC)){this.rs.He().aEy()}else{this.rs.He().lK(v,this,this.H,e)}}if(this.H.jR==null)return;
var l=this.wM();if(this.rs.He()==null||this.F.vZ)l.lK(v,this,this.H,e)};i1.prototype.zt=function(h){var e=this.sL,v=this.F.map[this.H.jR].I,top=this.rs.He(),J=this.LV();
return e.r(h)&&!v.yz(h,J)&&(top==null||!top.yz(h,J))};i1.prototype.BK=function(h){var e=this.ad3,v=this.Wr;
this.H.LI=h;var J=V.gl,m=this.cX.Z;if(J(m))this.zv.removeChild(m);var d=this.kG.Z;if(J(d))this.zv.removeChild(d);
var x=this.BU.Z;if(J(x))e.removeChild(x);var j=this.p0.Z;if(J(j))e.removeChild(j);var E=this.Yr.Z;if(J(E))e.removeChild(E);
if(h==0){this.zv.appendChild(m);this.zv.appendChild(d);v.appendChild(e);e.appendChild(x);e.appendChild(j);
e.appendChild(E)}if(h==1){this.zv.appendChild(m);e.appendChild(j)}if(h==2){e.appendChild(j)}this.p0.BK(h==2?1:0);
this.P6()};i1.prototype.aAy=function(h){if(this.Ai())return 1;if(V.aH7()==0){this.H={};this.Kt=function(e,v){return Math.sqrt(e*v)}}return-1};
i1.adE=function(){var h=jD==0?[[{I:new c.Pj,zp:ec},{I:new c.sz,zp:kV}],[{I:new c.U8,zp:hr,Ga:0},{I:new c.zi,zp:bm,Ga:0}],[{I:new c.Dj,zp:iR,Ga:0},{I:new c.B$,zp:e1,Ga:0},{I:new c.Ac,zp:ks,Ga:0}],[{I:new c.GF,zp:g6,Ga:0},{I:new c.as,zp:kT,Ga:0},{I:new c.Zu,zp:an,Ga:0}],[{I:new c.aCm,zp:cT},{I:new c.ak_,zp:cV},{I:new c.E5,zp:iJ,Ga:0},{I:new c.Rh,zp:ia,Ga:0}],[{I:new c.ct,zp:dJ},{I:new c.V_,zp:aX,Ga:0},{I:new c.wV,zp:fN}],[{I:new c.dx,zp:h0,Ga:0},{I:new c.jz,zp:hX,Ga:0},{I:new c.Dj(!0),zp:gs,Ga:0},{I:new c.Ng,zp:fo,Ga:0},{I:new c.ato,zp:dZ,Ga:0},{I:new c.yZ,zp:fC,Ga:0}],[{I:new c.lq,zp:af,Ga:0},{I:new c.Vu,zp:gT,Ga:0},{I:new c.bv,zp:hl,Ga:0}],[{I:new c.SF,zp:iv,Ga:0}],[{I:new c.oQ,zp:it,Ga:0},{I:new c.pq,zp:ca,Ga:0},{I:new c.kJ(!0),zp:ko,Ga:0}],[{I:new c.Sa,zp:gC,Ga:0},{I:new c.kJ,zp:ko,Ga:0}],[{I:new c.ZS,zp:iK,Ga:0},{I:new c.Ah,zp:hk,Ga:0},{I:new c.i8,zp:jM,Ga:0}],[{I:new c.vj,zp:c6,Ga:0},{I:new c.Hz,zp:h$,Ga:0},{I:new c.Gh,zp:f3,Ga:0}],[{I:new c.Cf,zp:gx},{I:new c.uC,zp:gx}],[{I:new c.hd(0),zp:j8},{I:new c.i1,zp:eY},{I:new c.hd(1),zp:j8},{I:new c.hd(2),zp:j8},{I:new c.hd(3),zp:j8},{I:new c.hd(4),zp:j8}],[{I:new c.WO,zp:hw},{I:new c.g3,zp:fK}],[{I:new c.Rect,zp:dn},{I:new c.FO,zp:i8},{I:new c.Yt,zp:bv},{I:new c.mK,zp:a9},{I:new c.kM,zp:k8}],[{I:new c.Vw,zp:jh},{I:new c._6,zp:aV}],[{I:new c.lM,zp:jC}]]:[[{I:new c.Pj,zp:ec}],[{I:new c.g3,zp:fK}],[{I:new c.hd(0),zp:j8}],[{I:new c.i1,zp:eY}],[{I:new c.Cf,zp:gx},{I:new c.uC,zp:gx}],[{I:new c.Yt,zp:bv}],[{I:new c.Rect,zp:dn},{I:new c.FO,zp:i8}],[{I:new c.va,zp:jh}],[{I:new c.et,zp:gC}],[{I:new c.ct,zp:dJ}],[{I:new c.Vw,zp:jh},{I:new c._6,zp:aV}],[{I:new c.lM,zp:jC}]],j="",E="";
if(jD==0&&!V.ng(1))h[6].splice(2,1);var e=jD==0?[dW.q3,dW.f_,dW.hO,dW.agt,dW.jo,dW.CC,dW.Dc,dW.BS,dW.J8,dW.E,dW.Sz,null,dW.Rt,dW.em,dW.k3,dW.l,dW.kP,dW.EQ,dW.ZB]:[dW.q3,dW.l,dW.k3,null,dW.em,dW.a6F,dW.f_,null,dW.Sz,dW.CC,dW.EQ,dW.ZB],v=[{I:c.ZM,Hi:!1,vD:[dW.aAD,dW.qW]},{I:c.ZM,Hi:!1,vD:[dW.aAD],wz:[c.I5]},{I:c.I5,Hi:!1,vD:[dW.qW]},{I:c.e0,Hi:!0,vD:[dW.Dd],wz:[c.Tb]},{I:c.Tb,Hi:!0,vD:[dW.Dd],wz:[c.e0]},{I:c.LH,Hi:!0,vD:[dW.Dd],wz:[c.uP,c.gg,c.Iv]}];
if(jD==0)v.push({I:c.uP,Hi:!0,vD:[dW.Dd],wz:[c.LH,c.ua,c.uf,c.A2,c.EE,c.SZ]});v.push({I:c.GA,Hi:!0,vD:[dW.Dd]});
var J={aum:v,rX:h,adx:[],keys:e,s3:[{I:new c.a4w,zp:hE},{I:new c.awx,zp:iu},{I:new c.axt,zp:dV},{I:new c.ct(!0),zp:dJ},{I:new c.bV,zp:d$},{I:new c.Vt,zp:b6}],a6e:[{I:new c.YK},{I:new c.History},{I:new c.XM},{I:new c.Bx},{I:new c.tC},{I:new c.TL}],map:{},awq:null,vZ:null,nu:null},m=J.rX;
for(var T=0;T<m.length;T++){var d=m[T];if(fk=="---")continue;for(var x=0;x<d.length;x++)if(d[x].Ga!=null&&d[x].Ga!=jD){d.splice(x,1);
x--}if(d.length==0){m.splice(T,1);J.keys.splice(T,1);T--}}for(var T=0;T<J.rX.length;T++){var L=J.rX[T];
if(L=="---")continue;var p=J.keys[T];for(var x=0;x<L.length;x++){J.map[L[x].I.id]=L[x];L[x].tU=T;L[x].a0d=x;
var Z=bj.get(L[x].I.name);E+="<li>"+L[x].I.id+": "+Z+"</li>";j+="\t"+JSON.stringify(L[x].I.name)+", "+(p?"\""+p.VD+"\"":"null")+", "+L[x].I.id+", // "+Z+"\n"}J.adx[T]=0}for(var T=0;
T<J.s3.length;T++)J.map[J.s3[T].I.id]=J.s3[T];for(var T=0;T<J.a6e.length;T++)J.map[J.a6e[T].I.id]=J.a6e[T];
return J};function ib(h){fx.call(this);if(h==null)return;this.VA=null;this.qw=null;this.Z=V.k("div","sbar"+" "+h);
this.cV=new V.k("div","top");this.cV.innerHTML="> <";this.Z.appendChild(this.cV);this.Qa=1;this.cV.addEventListener("click",this.aCo.bind(this),!1)}ib.prototype=new fx;
ib.prototype.aCo=function(h){if(this.VA!=null&&this.VA<500&&this.Qa==0)return;if(this.Qa==0)this.fL(!0);
else this.collapse(!0)};ib.prototype.aHs=function(h){this.Qa=h;this.cV.innerHTML=this.Qa==0?"< >":"> <"};
ib.prototype.adL=function(){var h=new g3(k.E.u,!0);h.data={V:k.l.V4};this.a(h)};ib.prototype.fL=function(h){this.aHs(1);
if(h)this.adL()};ib.prototype.collapse=function(h){this.aHs(0);if(h)this.adL()};ib.prototype.Bd=function(){return this.Qa==1};
function cG(h,e){ib.call(this,"vcolumn");this.sK=h;this.abi=e;this.kd();this.tI=V.k("div");V.v(this.tI,"cursor:default;");
this.a5r=this.a1x.bind(this);this.a9O=this.ayf.bind(this);this.akd=this.adc.bind(this);V.La(this.Z,this.a5r);
this.Z.appendChild(this.tI);this.a9h=V.k("div");this.tI.appendChild(this.a9h);this.ZP=-1;this.aw$=V.k("div","float");
var v=this.pW=V.k("canvas","gsicon"),J=Math.round(12*V.A_());v.width=v.height=J;var m=v.getContext("2d");
m.moveTo(2,2);m.lineTo(J-2,J-2);m.moveTo(2,7);m.lineTo(J-7,J-2);m.stroke();V.v(this.pW,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
V.zY(this.pW);V.La(this.pW,this.a5r);V.U3(v);this.RW=[];this.arp=[];this.aDd=null;this.ak=null;this.aeW=0}cG.prototype=new ib;
cG.prototype.a1x=function(h){var e=h.target==this.pW;if(!e){if(h.target!=this.Z)return;if(!this.Bd())return}else{var v=this.RW[this.ZP].cQ;
v.style.pointerEvents="none";var J=v.getBoundingClientRect();this.aDd=[J.width,J.height];this.arp[this.ZP]=[J.width,J.height]}h.stopPropagation();
this.ak=V.IE(h,document.body);this.aeW=this.sK;V.Xa(document,this.a9O);V.wZ(document,this.akd)};cG.prototype.ayf=function(h){var e=V.IE(h,document.body);
if(this.Bd()){this.sK=this.aeW+this.ak.x-e.x;this.kd()}else{var v=this.arp[this.ZP],J=this.aDd;v[0]=J[0]+this.ak.x-e.x;
v[1]=J[1]+e.y-this.ak.y}var m=new g3(k.E.u,!0);m.data={V:k.l.V4};this.a(m)};cG.prototype.adc=function(h){if(!this.Bd()){var e=this.RW[this.ZP].cQ;
e.style.pointerEvents="auto"}V.L0(document,this.a9O);V.SV(document,this.akd)};cG.prototype.aga=function(h){h.P("showFloat",this.aru,this);
h.P("hideFloat",this.yW,this);this.RW.push(h);h.parent=this;this.tI.appendChild(h.Z)};cG.prototype.agm=function(T){var h=this.RW[T];
h.removeEventListener("showFloat",this.aru,this);h.removeEventListener("hideFloat",this.yW,this);this.RW.splice(T,1);
h.parent=null;this.tI.removeChild(h.Z)};cG.prototype.a2B=function(){return this.RW.length};cG.prototype.zx=function(){for(var T=0;
T<this.RW.length;T++)this.RW[T].zx()};cG.prototype.aru=function(h){this.zx();var e=this.aw$;this.a9h.appendChild(e);
this.ZP=this.RW.indexOf(h.currentTarget);var v=this.RW[this.ZP].cQ;V.H5(e);e.appendChild(v);e.appendChild(this.pW);
this.Kt(this.VA,this.qw)};cG.prototype.yW=function(h){this.zx();if(this.ZP!=-1){this.a9h.removeChild(this.aw$);
this.ZP=-1}};cG.prototype.kd=function(){function h(e){return Math.round(e*V.A_())/V.A_()}V.v(this.Z,"width: "+this.sK+"px; border-left-width:"+h(4)+"px; cursor:ew-resize;")};
cG.prototype.fL=function(h){this.kd();this.yW();for(var T=0;T<this.RW.length;T++)this.RW[T].fL();ib.prototype.fL.call(this,h)};
cG.prototype.collapse=function(h){this.Z.removeAttribute("style");for(var T=0;T<this.RW.length;T++)this.RW[T].collapse();
ib.prototype.collapse.call(this,h)};cG.aAf=11;cG.prototype.Kt=function(h,e){this.VA=h;this.qw=e;e-=cG.aAf;
var v=this.RW.length;if(v==0)return;if(!this.Bd()){var J=e<400?e:400+(e-400)*.5;for(var T=0;T<v;T++){var m=this.RW[T],d=this.arp[T];
m.Kt(d?d[0]:this.sK,d?d[1]:J)}}else{var x=e;for(var T=0;T<v;T++){var m=this.RW[T],j=m.axB();if(T==v-1){j=x;
m.Z.style.borderBottom="none"}m.Kt(this.sK,j);x-=j+4}}};function di(h){fx.call(this);this.Z=V.k("div");
this.tI=null;this.zy=0;this.lO=0;this.axK=h;this.apc=this.wa.bind(this);this.apO=this.$X.bind(this);
this.aGY=this.sd.bind(this);this.RR=null;this.nj=null;this.aih=null;var e=this.Z,J="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
V.La(e,this.apc);e.addEventListener("touchmove",V.dR,!1);this.a7i=!0;this.Og=[];var v=this.amF=V.k("div");
V.v(v,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");e.appendChild(v);
var m=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",J+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",J+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",J+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var T=0;T<m.length;T++){var d=new eA(m[T]);this.Og.push(d);V.v(d.Z,"margin-left:"+(T<7?4:0)+"px;cursor:pointer;");
d.P("click",this.Sg,this)}}di.prototype=new fx;di.prototype.S=function(){var h=this.amF;V.H5(h);for(var T=0;
T<this.Og.length;T++){var e=this.Og[T];if(T<5)e.S();h.appendChild(e.Z)}};di.prototype.Sg=function(h){var T=this.Og.indexOf(h.currentTarget);
if(T==0){if(window.showCap)window.showCap();return}var e=" issues learn blog api twitter facebook".split(" "),v=["","//github.com/photopea/"+["photo","vector"][jD]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],J=window.ga;
if(J)J("send","event","Links",e[T]);var m=new g3(k.E.u,!0);m.data={V:k.l.US,link:v[T]};this.a(m)};di.prototype.wa=function(h){if(h.am5){h.preventDefault();
h.stopPropagation()}var e=window;V.Xa(e,this.apO);V.wZ(e,this.aGY);e=this.tI;this.RR=new fq(parseInt(e.style.left),parseInt(e.style.top));
this.nj=V.IE(h,this.Z);this.aih=e.getBoundingClientRect()};di.prototype.$X=function(h){var e=V.IE(h,this.Z),v=this.RR.x+e.x-this.nj.x,J=this.RR.y+e.y-this.nj.y,m=this.zy-this.aih.width,d=this.lO-this.aih.height;
if(this.axK)this.tI.style.left=Math.min(0,Math.max(m,v))+"px";else this.tI.style.top=Math.min(0,Math.max(d,J))+"px";
if(v-10>0){this.nj.x=e.x-10;this.RR.x=0}if(v+10<m){this.nj.x=e.x+10;this.RR.x=m}};di.prototype.sd=function(h){var e=window;
V.L0(e,this.apO);V.SV(e,this.aGY)};di.prototype.adg=function(h){if(this.tI){this.Z.removeChild(this.tI)}this.tI=h;
this.Z.appendChild(h);h.style.position="absolute";h.style.appRegion="no-drag";if(this.axK)h.style.left=0;
else h.style.top=0};di.prototype.Kt=function(h,e){this.zy=h;this.lO=e;V.v(this.Z,"position:relative; width: "+h+"px; height: "+e+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var v=this.tI.firstChild,J=this.amF,m=v?v.firstChild.getBoundingClientRect().width+80:1e9,d=170,x=navigator.windowControlsOverlay,j=0,E=0;
if(x&&x.visible){var L=x.getTitlebarAreaRect();E=L.x;j=h-L.width-L.x;if(j<0)j=0;m+=L.x;d+=j}var p=this.a7i&&h>m+d;
J[c3.s7][c3.ayg]=p?"":c3.aFa;J[c3.s7][c3.Y5]=j+"px";if(v){v[c3.s7][c3.agg]=E+"px";v[c3.s7][c3.a1p]=c3.a74}var Z=this.Og;
for(var T=0;T<Z.length;T++){var o=T>4||h-m-d>330?"":c3.aFa,u=Z[T];u.Z.style.display=o}};di.prototype.av$=function(){this.tI.style.left="0";
this.tI.style.top="0"};function by(){fx.call(this);this.H=null;this.rm=by.k3;this.ala="";this.Z=V.k("div","rightbar");
this.T5=[new cG(300),new cG(268,!0)];this.RW=[new g0,new g0,new g0,new g0,new g0,new g0,new g0];this.aAC=[]}by.prototype=new fx;
by.prototype.S=function(){var h=this.rm;for(var T=0;T<h.length;T++)h[T].nB.S()};by.k3=jD==0?[{nB:new bt,XC:3},{nB:new jY,XC:1},{nB:new iI,XC:4},{nB:new gM,XC:2},{nB:new c2(!0),XC:5},{nB:new jS(!0),XC:5},{nB:new at,XC:0},{nB:new fA,XC:5},{nB:new k_,XC:3},{nB:new dD,XC:0},{nB:new eZ,XC:3},{nB:new hZ,XC:2},{nB:new fd,XC:4},{nB:new cy,XC:3},{nB:new bS,XC:5},{nB:new c2(!1),XC:5},{nB:new gK,XC:2},{nB:new aA,XC:3},{nB:new iy,XC:1},{nB:new ev,XC:0},{nB:new gZ,XC:5},{nB:new bJ,XC:6,kV:!0}]:[{nB:new bu,XC:5},{nB:new c2(!0),XC:5},{nB:new c2(!1),XC:5},{nB:new fA,XC:5},{nB:new dD,XC:0},{nB:new hZ,XC:2},{nB:new bJ,XC:6,kV:!0}];
if(V.ng(1))by.k3.push({nB:new hp,XC:6,kV:!0});by.k3.push({nB:new iB,XC:6,kV:!0},{nB:new eH,XC:6,kV:!0});
(function(){var h=[{id:b4.rF.axq,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var T=0;T<h.length;T++)by.k3.push({nB:new jt(h[T],100+T),XC:6,kV:!0})}());by.prototype.afl=function(h){for(var T=0;
T<h.length;T++){var e=h[T],v=new jt(e,"plg_"+e.name);this.rm.push({nB:v,XC:6});this.aAC.push(v.Vl)}this.FN()};
by.prototype.fa=function(h,e){this.H=h;var v=this.rm;for(var T=0;T<v.length;T++)v[T].nB.fa(h,e);if(e==dq.Iz||e==dq.AY)this.FN()};
by.prototype.Ej=function(h){var e=this.rm;for(var T=0;T<e.length;T++)e[T].nB.Ej(h)};by.prototype.Kt=function(h,e){this.VA=h;
this.qw=e;this.FN();this.T5[0].Kt(h,e);this.T5[1].Kt(h,e)};by.prototype.FN=function(){var h=this.H,e=this.VA,v=this.qw;
if(h==null||e==0)return;var J=h.an.concat(this.aAC),m=e<500||e<700&&e<v,d=JSON.stringify(J)+","+m;if(d!=this.ala){this.ala=d;
V.H5(this.Z);var x=[];for(var T=0;T<this.T5.length;T++){var j=this.T5[T];x[T]=j.Bd();while(j.a2B()!=0)j.agm(0);
j.fL()}var E=[];for(var T=0;T<this.RW.length;T++){var L=this.RW[T];L.fL();while(L.ac5()!=0)L.TY(0);E.push(0)}for(var T=0;
T<J.length;T++){var p=this.ahP(J[T].toString());if(p==null)continue;this.RW[p.XC].tJ(p.nB);this.RW[p.XC].EW(0);
E[p.XC]++}var Z=[];for(var T=0;T<E.length;T++){if(E[T]==0)continue;var o=T<3||m?1:0,j=this.T5[o];j.parent=this;
j.aga(this.RW[T]);Z[o]=!0}for(var T=0;T<this.T5.length;T++)if(Z[T])this.Z.appendChild(this.T5[T].Z);
this.T5[0].collapse();if(e<700||this.H.compact||!x[1]){this.T5[1].collapse()}var u=new g3(k.E.u,!0);
u.data={V:k.l.V4};this.a(u)}};by.prototype.ahP=function(h){for(var T=0;T<this.rm.length;T++)if(this.rm[T].nB.Vl==h)return this.rm[T]};
by.prototype.a6X=function(h){var e=this.ahP(h);this.RW[e.XC].tJ(e.nB)};by.prototype.eh=function(h,e,v){var J=this.rm;
for(var T=0;T<J.length;T++)J[T].nB.eh(h,e,v)};by.prototype.HL=function(h,e,v,J,m){var d=this.rm;for(var T=0;
T<d.length;T++)d[T].nB.HL(h,e,v,J,m)};by.prototype._8=function(h,e,v,J,m){var d=this.rm;for(var T=0;
T<d.length;T++)d[T].nB._8(h,e,v,J,m)};by.prototype.ej=function(h,e,v,J,m){var d=this.rm;for(var T=0;
T<d.length;T++)d[T].nB.ej(h,e,v,J,m)};function ic(h,e){ib.call(this,"toolbar");this.Z.removeChild(this.cV);
this.eD=V.k("div","tools");this.Z.appendChild(this.eD);this._J=null;this.jR=null;this.aj5=e;this.An=null;
this.IU=null;this.aeQ=-1;this.aCR={};this.auv=h;this.F=null;this.QN=null;this.$D=null;this.aI1=null;
this.vC=new cM;this.vC.Z.style.marginTop="5px";this.vC.Z.style.marginBottom="3px";this.vC.parent=this;
this.l9=new eA(V.pY("lrs/mask"),!1,[6,6,1]);this.l9.P("click",function(d){var x=new g3(k.E.A,!0);x.I=c.Wm;
x.data={V:"qmask"};this.a(x)},this);var v=new hR(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
v.P(k.E.f,this.abK,this);var J=V.k("span","rangecontFloat form padded");J.appendChild(v.Z);V.v(J,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var m=this.Z;this.ati=[!1,!1,!1,!1];this.ns=new eA(V.pY("kb"),!1,"Virtual Keys");this.ns.P("click",function(d){var x=this.ns.Z.getBoundingClientRect();
J.style.top=x.top-110+"px";J.style.left=x.left+x.width+8+"px";if(V.gl(J)){V.dm({Z:J},m)}else{m.appendChild(J);
V.Kk({Z:J})}},this)}ic.prototype=new ib;ic.prototype.abK=function(h){var e=h.target.j();this.ns.e(e[0]||e[1]||e[2]||e[3]);
var v=new g3(k.E.u,!0);for(var T=0;T<4;T++){if(e[T]!=this.ati[T]){v.data={V:k.l.a3b,fE:e[T],ar4:[dW.hU()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][T]};
this.a(v)}}this.ati=e.slice(0)};ic.prototype.a3E=function(h,e){this.An=e;this.IU=h;if(h==null||h.X.length==0||h.T[h.X[0]]==null)return;
var v=h.l9()!=null,J=h.p.Y,m=h.T[h.X[0]].TM,d=m==1||m==3||v||J[0]+J[1]+J[2]==1;this.vC.a0W(d);this.l9.e(v)};
ic.prototype.a62=function(h,e){var v=h.length,J=[];for(var T=0;T<v;T++)J[T]=h[T].slice(0);h=J;var m=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],d=Math.min(m.length/2,v-e);
for(var T=0;T<d;T++){var x=m[2*T],j=m[2*T+1];h[x]=h[x].concat(h[j]);h[j]=null}for(var T=0;T<h.length;
T++)if(h[T]==null){h.splice(T,1);T--}return h};ic.prototype.aqo=function(h,e){for(var T=0;T<e.length;
T++)for(var v=0;v<e[T].length;v++)if(e[T][v].I.id==h)return T};ic.prototype.aq0=function(h){var e=this.auv;
this.QN=[];this.$D=[];this.aI1=[];this.F=[];var v=e.rX;if(h!=null&&this.aj5)v=this.a62(v,h);var J=this._J;
if(J){var m=[];for(var T=0;T<v.length;T++){var d=[];for(var x=0;x<v[T].length;x++){var j=v[T][x];if(J==null||J.indexOf(parseInt(j.I.id))!=-1)d.push(j)}if(d.length>0)m.push(d)}v=m}for(var T=0;
T<v.length;T++){var E=[],L=this.QN.length,p=null,Z=-1;for(var x=0;x<v[T].length;x++){var j=v[T][x].I,o=this.aqo(j.id,e.rX),u=e.keys[o];
if(u==dW.EQ&&x==1)u=dW.rF;this.F.push(j);var N=new du(j.name,u,j.FL,this.QN.length,T,v[T].length>1);
this.QN.push(N);var M=this.aCR[j.id];if(M==null)M=0;if(M>Z){Z=M;p=N}N.P(k.E.f,this.jK,this);N.P("mover",this.O_,this);
E.push({name:j.name,mT:j.FL,vD:u?u.VD:""})}this.$D.push(p);this.aI1.push(E.length==1?null:[E,L])}};ic.prototype.Kt=function(h,e){var v=this.qw=e,J=20;
if(1<V.A_()&&V.A_()<1.5)J=20/V.A_();J+=11;var m=this.qw>640&&jD==0?2:1,d=34+5+3+m*(J+4),x=Math.floor((v-d)/J);
if(x!=this.aeQ){this.aeQ=x;this.aq0(x);this.nr()}var j=this.$D.length*J+d,E=Math.min(1,v/j);if(.75<=E){V.v(this.eD,"width:34px; transform-origin: top left; transform: scale("+E+","+E+");");
V.v(this.Z,"height:"+(e-2)+"px;")}else{v-=4;V.v(this.eD,"height: "+v+"px;  width:"+Math.ceil(j/v)*34+"px");
V.v(this.Z,"")}};ic.prototype.S=function(){if(this.F==null)return;for(var T=0;T<this.QN.length;T++)this.QN[T].S()};
ic.prototype.jK=function(h){var e=new g3(k.E.u,!0);e.data={V:k.l.px,I:this.F[h.id].id};this.a(e)};ic.prototype.adQ=function(h){var e=h.target.aE7+h.target.S9()[0];
this.QN[e].sd(null,!0)};ic.prototype.O_=function(h){var e=this.An,v=new g3(k.E.u,!0);v.data={V:k.l.pz};
this.a(v);var J=h.target,m=this.aI1[J.tU];if(m==null)return;var d=new ar(m[0],null,!0);d.aE7=m[1];d.tU=J.tU;
d.P("select",this.adQ,this);d.parent=this;d.S();var x=J.Z.getBoundingClientRect(),v=new g3(k.E.u,!0);
v.data={V:k.l.Eu,nB:d,x:x.left+x.width+8,y:x.top};if(e==null||!(e.r(dW.qW)||e.r(dW.Dd)))this.a(v)};ic.prototype.nr=function(h){if(h==null)h=this.jR;
this.jR=h;if(this.F==null)return;this.aCR[h]=Date.now();var e=-1;for(var T=0;T<this.F.length;T++)if(this.F[T].id==h)e=T;
for(var T=0;T<this.QN.length;T++){var v=this.QN[T];v.acD(e==T)}if(e==-1)return;this.$D[this.QN[e].tU]=this.QN[e];
V.H5(this.eD);var J=this.$D;for(var T=0;T<J.length;T++){this.eD.appendChild(J[T].Z)}if(!this.aj5)return;
this.eD.appendChild(this.vC.Z);if(this.qw>640&&jD==0)this.eD.appendChild(this.l9.Z);this.eD.appendChild(this.ns.Z)};
ic.prototype.fa=function(h,e){if(e==dq.AY&&h._J){this._J=h._J;this.aq0();this.nr()}this.vC.a7q(h.kc,h.kF);
if(jD==1&&(e==dq.SH||e==dq.AY)){this.vC.ahF(h,this.IU)}};function du(h,e,v,J,m,d){fx.call(this);this.J$=0;
this.eX=this.abL.bind(this);this.tU=m;this.yh=J;this.eM=h;this.Vr=e;this.avo=d;this.FL=v;this.Z=V.k("button","");
this.Z.innerHTML=V.pY(this.FL);if(this.avo){var x=V.k("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);
V.v(x,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.Z.appendChild(x)}this.Z.addEventListener("touchstart",V.dR,!1);
this.S();V.La(this.Z,this.wa.bind(this));V.wZ(this.Z,this.sd.bind(this));this.Z.addEventListener("contextmenu",this.eX,!1);
this.Z.addEventListener("contextmenu",du.wY,!1)}du.prototype=new fx;du.wY=function(h){h.stopPropagation();
h.preventDefault();return!1};du.prototype.S=function(){var h=this.Vr?" ("+this.Vr.VD+")":"";this.Z.setAttribute("title",bj.get(this.eM)+h)};
du.prototype.wa=function(h){du.eg=this.yh;this.J$=setTimeout(this.eX,160)};du.prototype.sd=function(h,e){if(e==null&&du.eg!=this.yh)return;
clearTimeout(this.J$);var v=new g3(k.E.f,!1);v.target=this;v.id=this.yh;this.a(v)};du.prototype.abL=function(h){var e=new g3("mover",!1);
e.target=this;e.id=this.yh;this.a(e)};du.prototype.acD=function(h){this.Z.className=h?"toolbtn active":"toolbtn"};
function cj(){fx.call(this);this.Z=V.k("div","topbar");this.aHD=V.k("span");this.aDf=V.k("span");this.ahp=0;
this.Z.appendChild(this.aHD);this.Z.appendChild(this.aDf);this.Zw=null;this.H=null;this.J9=[];this.an=[];
var h=this.wa.bind(this);for(var T=0;T<cj.data.length;T++){var e=V.k("button");this.J9.push(e);var v=cj.data[T];
e.addEventListener("mouseover",h,!1);V.La(e,h)}this.WT=new eA([0,13,0],!1,null,!0);this.WT.P("click",this.Yl,this);
this.jG=new eA("Donate",!1,null,!0);this.jG.P("click",this.Yl,this);this.te=new eA(V.pY("tools/zoom",null,"autoscale"),!1,[12,86]);
this.te.P("click",this.Yl,this);this.atc=new eA("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.atc.P("click",this.Yl,this)}cj.prototype=new fx;cj.prototype.ay1=function(){if(this.an.length!=0)return;
for(var T=0;T<cj.data.length;T++){var h=cj.data[T],e=new ar(h.items,h.ny);e.parent=this;this.an.push(e)}this.S()};
cj.prototype.S=function(){this.WT.S();this.te.S();this.atc.S();for(var T=0;T<this.J9.length;T++)this.J9[T].textContent=bj.get(cj.data[T].name);
this.a0O();for(var T=0;T<this.an.length;T++)this.an[T].S()};cj.prototype.Yl=function(h){var e=new g3(k.E.u,!0);
if(h.target==this.WT)e.data={V:k.l.Xq,dF:"account"};else if(h.target==this.jG)e.data={V:k.l.Xq,dF:"confirm",j5:function(){},aiQ:!0,J:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(h.target==this.te)e.data={V:k.l.kX};else e.data={V:k.l.cb,dw:!0};this.a(e)};cj.prototype.HK=function(h,e){this.Zw=h;
this.H=e};cj.prototype.fa=function(h,e){this.H=h;if(e==dq.AY){var v=h.avE;V.H5(this.aHD);for(var T=0;
T<this.J9.length;T++){var J=cj.data[T];if(v==null||v[T]==1||v[T]instanceof Array)this.aHD.appendChild(this.J9[T]);
if(v!=null&&v[T]instanceof Array){this.ay1();this.an[T].a8M(v[T])}}var m=this.aDf;V.H5(m);if(h.nX){m.appendChild(this.WT.Z);
m.appendChild(this.jG.Z)}m.appendChild(this.te.Z);m.appendChild(this.atc.Z)}this.a0O()};cj.prototype.a0O=function(h,e){var v=this.WT,J=12255232;
if(cU.Wf())J=cU.Ju()?43520:16755200;V.v(v.Z,"color:#ffffff; background-color:#"+B.zF(J));this.jG.Z.style.display=cU.Ju()?"none":""};
cj.prototype.wa=function(h){this.ay1();var T=this.J9.indexOf(h.currentTarget),e=this.an[T];if(h.type=="mouseover"&&!V.gl(this.an[this.ahp].Z))return;
if(V.gl(e.Z))return;h.am5=!0;this.ahp=T;for(var T=0;T<cj.data.length;T++)this.an[T].update(this.Zw,this.H);
var v=h.target.getBoundingClientRect(),J=new g3(k.E.u,!0);J.data={V:k.l.Eu,nB:e,x:v.left,y:v.top+v.height+2,alv:!0};
this.a(J)};cj.apI=function(h){var e=dW,v=e.Dd,J=e.l$,m=e.B2,d=function(L){return{m:L!=null}},x=function(L){return{m:L!=null&&L.K!=null}},j={name:[0,5],items:[{name:[7,0],m:d,vD:[v,e.l]},{name:[7,1],vD:[v,e.Gu],m:x},{name:[7,2],vD:[J,v,e.CC],m:x,jV:!0},{name:"Remove BG",m:function(L){return{m:V.ng(1)&&L!=null&&L.X.length!=0&&!L.T[L.X[0]].R.EG()}}},{name:[7,8],m:d,U$:!0},{name:[7,13],U$:!0,m:function(L){return{m:L!=null&&L.X.length!=0&&!L.T[L.X[0]].R.EG()}}},{name:"Subject",m:function(L){return{m:L!=null&&L.X.length!=0&&!L.T[L.X[0]].R.EG()}},jV:!0},{name:[7,11],U$:!0,m:function(L){return{m:L!=null&&L.X.length!=0&&!L.T[L.X[0]].R.EG()}}},{name:[7,3],m:d,jV:!0,sub:[{name:[7,9],U$:!0,m:x},{name:[19,3,0],U$:!0,m:x},{name:[7,4],U$:!0,m:x},{name:[7,5],U$:!0,m:x},{name:[7,6],U$:!0,m:x,vD:"Shift+F6"}]},{name:"Grow",m:x},{name:"Similar",m:x,jV:!0},{name:[7,10],m:x,jV:!0},{name:[6,6,1],m:function(L){return{m:L!=null,Z7:L!=null&&L.l9()!=null}},vD:[e.agh],jV:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],m:x}],ny:[{o:k.E.Fq,h:c.tM.CZ(!0)},{o:k.E.Fq,h:c.tM.CZ()},{o:k.E.Fq,h:{UH:"inverse"}},{o:k.E.A,I:c.Wm,h:{V:"bgrm",J:1}},{o:k.E.u,h:{V:k.l.Xq,dF:"crange"}},{o:k.E.u,h:{V:k.l.Xq,dF:"magiccut"}},{o:k.E.A,I:c.Wm,h:{V:"bgrm",J:2}},{o:k.E.u,h:{V:k.l.Xq,dF:"redge"}},{sub:[{o:k.E.u,h:{V:k.l.Xq,dF:"sel_border"}},{o:k.E.u,h:{V:k.l.Xq,dF:"sel_smoothness"}},{o:k.E.u,h:{V:k.l.Xq,dF:"sel_expand"}},{o:k.E.u,h:{V:k.l.Xq,dF:"sel_contract"}},{o:k.E.u,h:{V:k.l.Xq,dF:"sel_feather"}}]},{o:k.E.Fq,h:{UH:"grow",TH:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{o:k.E.Fq,h:{UH:"similar",TH:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{o:k.E.u,h:{V:k.l.px,I:c.gz}},{o:k.E.A,I:c.Wm,h:{V:"qmask"}},{o:k.E.u,h:{V:k.l.Xq,dF:"loadsel"}},{o:k.E.u,h:{V:k.l.Xq,dF:"savesel"}}]};
if(h){var E=j.items.length-1;j.items.splice(E-2,0,{name:[6,49],vD:[v,e.Dc],jV:!0});j.ny.splice(E-2,0,{o:k.E.Fq,h:{UH:"copyToLayer"}});
j.items.splice(E-1,0,{name:[10,16],vD:[m,v,e.em]});j.ny.splice(E-1,0,{o:k.E.u,h:{V:k.l.px,I:c.Li}})}return j};
cj.$w=function(h,e){if(h==null||h.X.length==0)return!1;var v=h.T[h.X[0]];return v.add.TySh!=null&&e.jR==c.HV};
cj.a6g=function(){var h=dW,e=h.Dd,v=h.l$,J=h.B2,m=function(d){return{m:d!=null}};return[[{name:[5,0],vD:[e,h.R6],m:function(d,x){return{m:d!=null&&(d.aCb()||cj.$w(d,x))}}},{name:[5,1],vD:[e,h.jo],m:m},{name:[5,2],vD:[e,h.q3],m:function(d,x){return{m:cj.$w()||V.rJ()||x.qs!=null||x.eB!=null||x.as8!=null}}},{name:[2,2],m:function(d,x){return{m:d!=null&&(d.K!=null||cj.$w(d,x))}},vD:"Delete",jV:!0}],[{o:k.E.u,h:{V:k.l.X8}},{o:k.E.u,h:{V:k.l.Bn}},{o:k.E.u,h:{V:k.l.Qv}},{o:k.E.Fq,h:{UH:"delete"}}]]};
cj.data=function(){var h=dW,e=h.Dd,v=h.l$,J=h.B2,m=function(M){return{m:M!=null&&M.X.length!=0}},d=function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.SoLd!=null}},x=function(M){return{m:M!=null}},j=function(M){return{m:M!=null&&M.kC(!1)}},E=[],L=[],p="none maxx avrg medn minn rang stdv summ vari".split(" "),Z=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var T=0;T<p.length;T++){E.push({name:Z[T],m:function(M,O){if(M==null||M.X.length!=1)return{m:!1};
var F=M.T[M.X[0]].add.SoLd;if(F==null)return{m:!1};return{m:!0,Z7:F.Impr.v.classID==this.aDK}}.bind({aDK:p[T]})});
L.push({o:k.E.A,I:c.Yn,h:{V:s.XO,uO:p[T]}})}var o=cj.a6g(!0),u=[{name:[0,0],items:[{name:[5,3],vD:[J,e,h.VJ],title:[11,7],U$:!0},{name:[1,0],vD:[e,h.Rt],U$:!0},{name:[1,11],U$:!0,m:x},{name:["VAR0 VAR1",[1,0],[0,14]],jV:!0,sub:[{name:"From Any Folder"},{name:"Storage",U$:!0,vD:[J,e,h.Rt]},{name:[1,5],U$:!0},{name:[11,0],U$:!0},{name:["PSD VAR0",[25,0]],U$:!0}]},{name:[1,18],jV:!0,m:x,sub:[{name:"PNG",vD:"Imgur.com",m:function(M,O){return{m:M!=null&&O.WI}}},{name:"JPG",vD:"Imgur.com",m:function(M,O){return{m:M!=null&&O.WI}}},{name:jD==0?"PSD":"AI",vD:["Photo","Vector"][jD]+"pea.com",m:function(M,O){return{m:M!=null&&O.WI&&!M.um}}}]},{name:"Save ...",vD:[e,h.J8],m:function(M,O){var F=bj.get([1,2]),W=!0;
if(M){if(M.Mr)F+=" ("+bj.get([6,7,1])+")";if(M.Ey)F+=" (Google Drive)";if(M.rA)F+=" ("+Storage.list[M.rA[0]][0]+")";
W="psd jpg png gif webp svg bmp".split(" ").indexOf(M.z2)!=-1;if(jD==1)W=M.z2=="ai"}return{m:M!=null&&(M.rA!=null||M.rK!=null&&W||M.Mr!=null||M.N2!=null&&M.N2.sy!=null||M.Ey!=null||O.afy.save!=null),se:F}}},{name:jD==0?[1,3]:"Save as AI",m:function(M,O){return{m:M!=null&&O.WI}}},{name:["VAR0 VAR1",[1,2],[0,14]],m:x,sub:[{name:(jD==0?"PSD":"AI")+" to Storage",m:function(M,O){return{m:M!=null&&O.WI}}},{name:["VAR0 PSD/PSB",[1,2]],U$:!0,m:function(M,O){return{m:M!=null&&O.WI}}}]},{name:[1,8],m:x,sub:function(){var M=gI.oT(0),O=[];
for(var T=0;T<M.length;T++)O.push({name:M[T],vD:"."+M[T].toLowerCase()});O.push({name:[0,14],sub:function(){var M=gI.oT(1),O=[];
for(var T=0;T<M.length;T++)O.push({name:M[T],vD:"."+M[T].toLowerCase()});return O}()});return O}()},{name:[1,4],U$:!0,m:x,jV:!0},{name:[1,9],U$:!0,m:x},{name:"Export Color Lookup",U$:!0,m:x,jV:!0},{name:[1,14],U$:!0,m:x,jV:!0},{name:[1,17],sub:[{name:"Batch",U$:!0},{name:"PDF Presentation",U$:!0},{name:"Convert Formats",U$:!0},{name:"Generate Mockups",U$:!0,m:x},{name:"Resize Images",U$:!0,jV:!0},{name:"Crop and Straighten Photos",m:x}]},{name:[1,10],U$:!0}],ny:[{o:k.E.u,h:{V:k.l.Xq,dF:"newproject"}},{o:k.E.u,h:{V:k.l.iv}},{o:k.E.u,h:{V:k.l.iv,aab:!0}},{sub:[{o:k.E.u,h:{V:k.l.iv,xU:!0}},{o:k.E.u,h:{V:k.l.Xq,dF:"storwindow",MC:0}},{o:k.E.u,h:{V:k.l.Xq,dF:"open_from_url"}},{o:k.E.u,h:{V:k.l.Xq,dF:"camera"}},{o:k.E.u,h:{V:k.l.Xq,dF:"res0"}}]},{sub:[{o:k.E.u,h:{V:k.l.O4,v9:"png"}},{o:k.E.u,h:{V:k.l.O4,v9:"jpg"}},{o:k.E.u,h:{V:k.l.O4,v9:jD==0?"psd":"ai"}}]},{o:k.E.u,h:{V:k.l.TN}},{o:k.E.u,h:{V:k.l.gh}},{sub:[{o:k.E.u,h:{V:k.l.Xq,dF:"storwindow",MC:1}},{o:k.E.u,h:{V:k.l.Xq,dF:"savepsb"}}]},{sub:function(){var M=gI.oT(0),O=[];
for(var T=0;T<M.length;T++)O.push({o:k.E.u,h:{V:k.l.Xq,dF:"saveforweb",v9:T}});O.push({sub:function(){var F=gI.oT(0).length,M=gI.oT(1),O=[];
for(var T=0;T<M.length;T++)O.push({o:k.E.u,h:{V:k.l.Xq,dF:"saveforweb",v9:F+T}});return O}()});return O}()},{o:k.E.u,h:{V:k.l.Xq,dF:"saveforweb",v9:3,arS:!0}},{o:k.E.u,h:{V:k.l.Xq,dF:"eassets"}},{o:k.E.u,h:{V:k.l.Xq,dF:"exlut"}},{o:k.E.u,h:{V:k.l.Xq,dF:"finfo"}},{sub:[{o:k.E.u,h:{V:k.l.Xq,dF:"batch"}},{o:k.E.u,h:{V:k.l.Xq,dF:"pdfpres"}},{o:k.E.u,h:{V:k.l.Xq,dF:"cformat"}},{o:k.E.u,h:{V:k.l.Xq,dF:"mockups"}},{o:k.E.u,h:{V:k.l.Xq,dF:"resize"}},{o:k.E.A,I:c.jI,h:{V:"cropAndStr"}}]},{o:k.E.u,h:{V:k.l.Xq,dF:"script"}}]},{name:[0,1],items:[{name:[2,8],m:x},{name:[2,0],m:x,vD:[v,e,h.ZB]},{name:[2,1],m:x,vD:[e,h.ZB],jV:!0},{name:[2,11],vD:[v,e,h.CE],jV:!0,U$:!0,m:function(M,O){return{m:ac.aa_(M)&&O.jR!=c.Li}}},o[0][0],o[0][1],{name:[5,7],vD:[v,e,h.jo],m:function(M){return{m:M!=null&&M.K!=null}}},o[0][2],o[0][3],{name:[2,3],m:j,U$:!0,vD:[v,h.apk]},{name:[14,9],m:j,U$:!0,jV:!0},{name:[10,48],m:j},{name:[10,46],m:function(M){return{m:c.ca.Yz(M)}}},{name:[10,16],m:x,vD:[J,e,h.em]},{name:[2,4],m:x,sub:jc.aB1()},{name:[2,10,1],m:x},{name:[2,10,0],m:x,jV:!0},{name:[12,87],m:x,sub:[{name:[12,62],m:x},{name:[9,3],m:x},{name:[10,31],m:function(M){return{m:M!=null&&M.rx()[1].length!=0}}}]},{name:[1,15],U$:!0},{name:[12,79],U$:!0,vD:[e,h.uX]},{name:[1,13],U$:!0}],ny:[{o:k.E.A,I:c.V8,h:{V:"h_undoredo"}},{o:k.E.A,I:c.V8,h:{V:"h_stepfwd"}},{o:k.E.A,I:c.V8,h:{V:"h_stepbck"}},{o:k.E.u,h:{V:k.l.Xq,dF:"afw_fade"}},o[1][0],o[1][1],{o:k.E.u,h:{V:k.l.Bn,fz:!0}},o[1][2],o[1][3],{o:k.E.u,h:{V:k.l.Xq,dF:"fill"}},{o:k.E.u,h:{V:k.l.Xq,dF:"stroke"}},{o:k.E.u,h:{V:k.l.px,I:c.bk}},{o:k.E.A,I:c.hk,h:{V:"start",Ps:"rigidTransform"}},{o:k.E.u,h:{V:k.l.px,I:c.Li}},{sub:jc.a3K()},{o:k.E.Fq,h:{UH:"align",TH:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{o:k.E.A,I:c.Yn,h:{V:s.an3}},{sub:[{o:k.E.u,h:{V:k.l.hJ,m0:0}},{o:k.E.u,h:{V:k.l.hJ,m0:1}},{o:k.E.u,h:{V:k.l.hJ,m0:2}}]},{o:k.E.u,h:{V:k.l.Xq,dF:"pmanager"}},{o:k.E.u,h:{V:k.l.Xq,dF:"preferences"}},{o:k.E.u,h:{V:k.l.Xq,dF:"locstor"}}]},{name:[0,2],items:[{name:[12,36],m:x,jV:!0,sub:[{name:"RGB",m:function(M){if(M==null)return{m:!1};
return{Z7:M.add.fcmy==null,m:!0}}},{name:"CMYK",m:function(M){if(M==null)return{m:!1};return{Z7:M.add.fcmy!=null,m:!0}}}]},{name:[3],m:x,jV:!0,sub:function(){var M=[];
for(var O in hy.names){M.push({name:hy.names[O],U$:aE[O]!=null,vD:hy.keys[O],jV:hy.a4D.indexOf(O)!=-1});
if(O=="selc"){M.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],U$:!0,jV:!0});M.push({name:[19,7,0],vD:[e,v,h.kP],m:j});
M.push({name:[4,18],U$:!0,m:j})}}return M}()},{name:[4,16,0],m:j},{name:[4,16,1],m:j},{name:[4,16,2],m:j,jV:!0},{name:[11,11,1],m:j,U$:!0},{name:[11,11,0],m:j,U$:!0},{name:"Wavelet Decompose",m:j,jV:!0},{name:[11,3],m:x,U$:!0,vD:[J,e,h.jo]},{name:[11,10],m:x,U$:!0,vD:[J,e,h.CC]},{name:[2,4],m:x,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],m:function(M){return{m:M!=null&&M.K!=null}}},{name:[11,12,0],m:x,vD:[e,h.os],U$:!0},{name:[11,12,2],m:x,jV:!0},{name:[12,53],m:x},{name:[2,12],m:j,U$:!0,jV:!0},{name:[2,14],m:x,U$:!0}],ny:[{sub:[{o:k.E.A,I:c.GA,h:{V:"fcmy",J:0}},{o:k.E.A,I:c.GA,h:{V:"fcmy",J:1}}]},{sub:function(){var M=[];
for(var O in hy.names){M.push({o:k.E.A,I:c.EM,h:{V:"start",yo:O}});if(O=="selc"){M.push({o:k.E.A,I:c.hk,h:{V:"start",Ps:"adaptCorrect"}});
M.push({o:k.E.Fq,h:{UH:"desaturate"}});M.push({o:k.E.A,I:c.EM,h:{V:"start",yo:"matc"}})}}return M}()},{o:k.E.Fq,h:{UH:"levels",TH:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{o:k.E.Fq,h:{UH:"levels",TH:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{o:k.E.Fq,h:{UH:"levels",TH:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{o:k.E.u,h:{V:k.l.Xq,dF:"rcolors"}},{o:k.E.u,h:{V:k.l.Xq,dF:"vbitmap"}},{o:k.E.A,I:c.Yn,h:{V:s.ana}},{o:k.E.u,h:{V:k.l.Xq,dF:"csize"}},{o:k.E.u,h:{V:k.l.Xq,dF:"isize"}},{sub:[{o:k.E.Fq,h:c.L2.G2(!0,90)},{o:k.E.Fq,h:c.L2.G2(!0,-90)},{o:k.E.Fq,h:c.L2.G2(!0,-180)},{o:k.E.Fq,h:c.L2.G2(!1,"Hrzn")},{o:k.E.Fq,h:c.L2.G2(!1,"Vrtc")}]},{o:k.E.Fq,h:{UH:"crop",TH:{__name:"Crop",classID:"Crop"}}},{o:k.E.u,h:{V:k.l.Xq,dF:"trim"}},{o:k.E.Fq,h:{UH:"revealAll",TH:{classID:"RvlA"}}},{o:k.E.Fq,h:{UH:"duplicate",TH:{classID:"Dplc",null:h8.$j("Dcmn",!0)}}},{o:k.E.A,I:c.EM,h:{V:"start",yo:"aply"}},{o:k.E.u,h:{V:k.l.Xq,dF:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],m:x,sub:[{name:[0,3],vD:[v,e,h.VJ]},{name:[0,4]},{name:[1,16,0],U$:!0},{name:[1,16,3],U$:!0,jV:!0},{name:[6,49,0],vD:[e,h.Dc]},{name:[6,49,1],vD:[v,e,h.Dc],m:function(M){return{m:M!=null&&M.K!=null&&M.kC(!1)}}}]},{name:[6,0],m:m,vD:[e,h.Dc]},{name:[11,4],m:m},{name:[5,4],m:m,jV:!0},{name:"Text",m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],m:m,jV:!0,sub:ct.xi(!0)},{name:[6,48,1],m:x,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],m:x,jV:!0,sub:ct.auO()},{name:[6,2],m:x,sub:[{name:[6,4],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()==null}}},{name:[6,5,0],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()==null}}},{name:[6,5,1],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()==null&&M.K!=null}}},{name:[6,5,2],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()==null&&M.K!=null}}},{name:[6,5,3],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()==null}},jV:!0},{name:[5,4],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()!=null}}},{name:[5,8],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()!=null&&M.kC(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].NH()!=null}}}]},{name:[6,3],m:x,sub:[{name:[6,4],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.vmsk==null}}},{name:[6,5,0],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.vmsk==null}}},{name:[12,76,7],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.vmsk==null}},jV:!0},{name:[5,4],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],m:function(M){return{m:M!=null&&M.X.length!=0&&M.T[M.X[0]].add.vmsk!=null}}}]},hZ.auJ(!0),{name:[6,7,1],m:x,jV:!0,sub:[{name:[6,7,0],jV:!0},{name:"Open (Edit Contents)",m:d,U$:!0},{name:"Replace Contents",m:d,U$:!0},{name:"Export Contents",m:d,U$:!0,jV:!0},{name:[6,36,4],m:d,sub:E},{name:"Turn into JPG",m:d}]},{name:[6,8],m:hZ.aBU},{name:[6,34],jV:!0,m:function(M){if(M==null||M.X.length==0)return{m:!1};
var O=M.T[M.X[0]];return{m:O.add.lmfx!=null&&!O.XN()}}},{name:[6,9],m:x,jV:!0,vD:[e,h.Sz]},{name:[6,55],m:x,sub:[{name:[6,56,0],vD:[v,e,h.Kg]},{name:[6,56,1],vD:[e,h.Kg]},{name:[6,56,2],vD:[e,h.td]},{name:[6,56,3],vD:[v,e,h.td]}]},{name:"Combine Shapes",m:x,jV:!0,sub:[{name:[18,1],mT:"set/union"},{name:[18,2],mT:"set/difference"},{name:[18,3],mT:"set/intersection"},{name:[18,4],mT:"set/xor"}]},{name:[6,58],m:x,jV:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],vD:[e,h.E],m:hZ.zh},{name:[6,12,1],m:x},{name:[2,13],m:x}],ny:[{sub:[{o:k.E.A,I:c.Yn,h:{V:s.yY}},{o:k.E.A,I:c.Yn,h:{V:s.B_}},{o:k.E.u,h:{V:k.l.Xq,dF:"newartb",MC:0}},{o:k.E.u,h:{V:k.l.Xq,dF:"newartb",MC:1}},{o:k.E.Fq,h:{UH:"copyToLayer"}},{o:k.E.Fq,h:{UH:"cutToLayer"}}]},{o:k.E.A,I:c.Yn,h:{V:s.Zn}},{o:k.E.u,h:{V:k.l.Xq,dF:"duplinto"}},{o:k.E.A,I:c.Yn,h:{V:s.Zt}},{sub:[{o:k.E.A,I:c.Yn,h:{V:s.iC}}]},{sub:ct.L$(!0)},{sub:[{o:k.E.A,I:c.ua,h:{V:"newfill",R4:0}},{o:k.E.Fq,h:c.XH.pH(1)},{o:k.E.Fq,h:c.XH.pH(2)}]},{sub:ct.CG()},{sub:[{o:k.E.A,I:c.Yn,h:{V:s.mH,MC:"RvlA"}},{o:k.E.A,I:c.Yn,h:{V:s.mH,MC:"HdAl"}},{o:k.E.A,I:c.Yn,h:{V:s.mH,MC:"RvlS"}},{o:k.E.A,I:c.Yn,h:{V:s.mH,MC:"HdSl"}},{o:k.E.A,I:c.Yn,h:{V:s.mH,MC:"Trns"}},{o:k.E.A,I:c.Yn,h:{V:s.Of}},{o:k.E.A,I:c.Yn,h:{V:s.Lh}},{o:k.E.A,I:c.Yn,h:{V:s.KQ}}]},{sub:[{o:k.E.Fq,h:c.Uk.ko(0)},{o:k.E.Fq,h:c.Uk.ko(1)},{o:k.E.Fq,h:c.Uk.ko(2)},{o:k.E.Fq,h:c.Uk.ko(3)},{o:k.E.A,I:c.Yn,h:{V:s.ul}}]},{o:k.E.A,I:c.Yn,h:{V:s.QR}},{sub:[{o:k.E.Fq,h:{UH:"newPlacedLayer"}},{o:k.E.Fq,h:{UH:"placedLayerEditContents",TH:{classID:"placedLayerEditContents"}}},{o:k.E.Fq,h:{UH:"placedLayerReplaceContents",TH:{classID:"placedLayerReplaceContents"}}},{o:k.E.Fq,h:{UH:"placedLayerExportContents",TH:{classID:"placedLayerExportContents"}}},{sub:L},{o:k.E.A,I:c.Yn,h:{V:s.a2W}}]},{o:k.E.Fq,h:{UH:"rasterizeLayer",TH:{classID:"rasterizeLayer",null:h8.$j("Lyr",!0)}}},{o:k.E.Fq,h:{UH:"rasterizeLayer",TH:{classID:"rasterizeLayer",null:h8.$j("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{o:k.E.A,I:c.Yn,h:{V:s.ha}},{sub:[{o:k.E.A,I:c.Yn,h:{V:s.hB,rf:0}},{o:k.E.A,I:c.Yn,h:{V:s.hB,rf:1}},{o:k.E.A,I:c.Yn,h:{V:s.hB,rf:2}},{o:k.E.A,I:c.Yn,h:{V:s.hB,rf:3}}]},{sub:[{o:k.E.A,I:c.Yn,h:{V:s.X$,HE:0}},{o:k.E.A,I:c.Yn,h:{V:s.X$,HE:1}},{o:k.E.A,I:c.Yn,h:{V:s.X$,HE:2}},{o:k.E.A,I:c.Yn,h:{V:s.X$,HE:3}}]},{sub:[{o:k.E.A,I:c.Yn,h:{V:s.r0,rf:"makeframes"}},{o:k.E.A,I:c.Yn,h:{V:s.r0,rf:"unmakeframes"}},{o:k.E.A,I:c.Yn,h:{V:s.r0,rf:"merge"}}]},{o:k.E.Fq,h:{UH:"mergeLayersNew",TH:{__name:"Merge Layers",classID:"Mrg2"}}},{o:k.E.Fq,h:{UH:"flattenImage"}},{o:k.E.A,I:c.hk,h:{V:"start",Ps:"defr"}}]},cj.apI(!1),function(){var M={name:[0,6],items:[{name:[24,18,4],vD:[J,e,h.CE],m:x,jV:!0}],ny:[{o:k.E.A,I:c.hk,h:{V:"applylast"}}]};
for(var T=0;T<f8.tx.length;T++){var O=f8.tx[T],F=O.Qn;if(O.ag!=null){var W={name:f8.names[O.ag],U$:!0,jV:O.jV,m:x};
if(O.ag=="VaPo")W.m=j;M.items.push(W);M.ny.push({o:k.E.A,I:c.hk,h:{V:"start",Ps:O.ag}});continue}var f={name:O.C2,sub:[],m:x};
M.items.push(f);var $={sub:[]};M.ny.push($);for(var H=0;H<F.length;H++){var A=F[H],G=f8.names[A];if(A=="blurbTransform")G=[24,3,12,H];
var l={name:G,U$:f8.UX(A)!=null};f.sub.push(l);var K={o:k.E.A,I:c.hk,h:{V:"start",Ps:A,iq:H<2?H:H+1}};
$.sub.push(K)}}return M}(),{name:[0,7],items:[{name:[8,0],m:x,vD:[e,h.ci]},{name:[8,1],m:x,vD:[e,h.As]},{name:[20,3],m:x,vD:[e,h.rl]},{name:[20,2],m:x,vD:[e,h.fX]},{name:[8,14],m:function(M,O){return{m:M!=null,Z7:M!=null&&M.m8}},jV:!0},{name:[12,36],jV:!0,sub:[{name:"Fullscreen",m:function(M,O){return{Z7:document.fullscreenElement!=null}},jV:!0},{name:"Standard",m:function(M,O){return{Z7:O.LI==0}}},{name:"Menu Bar and Canvas",m:function(M,O){return{Z7:O.LI==1}}}]},{name:[8,13],vD:[e,h.EQ],m:function(M,O){return{Z7:O.I7}}},{name:[8,12],jV:!0,sub:[{name:[17,2],m:function(M,O){return{m:O.I7,Z7:O.Kd.mi}}},{name:[8,9],m:function(M,O){return{m:O.I7,Z7:O.Kd.H0}}},{name:[8,2],m:function(M,O){return{m:O.I7,Z7:O.Kd.nT}},vD:[e,h.cz]},{name:[8,4],m:function(M,O){return{m:O.I7,Z7:O.Kd.bT}},vD:[e,h.H6]},{name:[8,8],m:function(M,O){return{m:O.I7,Z7:O.Kd.vt}}},{name:[8,11,0],m:function(M,O){return{m:O.I7,Z7:O.Kd.Ys}}}]},{name:[8,3],m:function(M,O){return{Z7:O.rM}},vD:[e,h.rF],jV:!0},{name:[8,5],m:function(M,O){return{Z7:O.Y7}}},{name:[8,6],jV:!0,sub:[{name:[8,2],m:function(M,O){return{Z7:O.$W[0]}}},{name:[8,4],m:function(M,O){return{Z7:O.$W[1]}}},{name:[9,1],m:function(M,O){return{Z7:O.$W[2]}}},{name:[8,11,0],m:function(M,O){return{Z7:O.$W[3]}}},{name:[8,7,0],m:function(M,O){return{Z7:O.$W[4]}}}]},{name:[11,15,2],m:function(M,O){return{m:M!=null,Z7:M!=null&&M.rn}}},{name:[11,15,0],m:x},{name:[11,14],m:x,U$:!0},{name:[11,15,1],m:function(M,O){return{m:M!=null&&M.X.length!=0}},jV:!0},{name:[8,11,2],m:function(M,O){return{m:M!=null&&M.Ys.length!=0}}}],ny:[{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!0}},{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!1}},{o:k.E.A,I:c.ZM,h:{V:"adapt",J:"fitscr"}},{o:k.E.A,I:c.ZM,h:{V:"adapt",J:"pixel"}},{o:k.E.A,I:c.GA,h:{V:"pview"}},{sub:[{o:k.E.u,h:{V:k.l.cb,dw:!0}},{o:k.E.u,h:{V:k.l.cb,J:0}},{o:k.E.u,h:{V:k.l.cb,J:1}},{o:k.E.u,h:{V:k.l.cb,J:2}}]},{o:k.E.u,h:{V:k.l.Gi,m0:dq.ik}},{sub:[{o:k.E.u,h:{V:k.l.Gi,m0:dq.Xr}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.WC}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.Cw}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.tp}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.lD}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.lp}}]},{o:k.E.u,h:{V:k.l.Gi,m0:dq.x8}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.agZ}},{sub:[{o:k.E.u,h:{V:k.l.Gi,m0:dq.Ls,nd:0}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.Ls,nd:1}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.Ls,nd:2}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.Ls,nd:3}},{o:k.E.u,h:{V:k.l.Gi,m0:dq.Ls,nd:4}}]},{o:k.E.A,I:c.GA,h:{V:"lockguides"}},{o:k.E.A,I:c.GA,h:{V:"gids",qR:[[],[]]}},{o:k.E.u,h:{V:k.l.Xq,dF:"addguides"}},{o:k.E.A,I:c.GA,h:{V:"gidsFromLayer"}},{o:k.E.A,I:c.e0,h:{V:"deleteAll"}}]},function(){var M={name:[0,8],items:[{name:[0,14],jV:!0,sub:[]},{name:"Plugins",jV:!0}],ny:[{sub:[]},{o:k.E.u,h:{V:k.l.Xq,dF:"res1"}}]};
for(var T=0;T<by.k3.length;T++){var O=by.k3[T],F=function(){var W=O.nB.Vl;return function(f,$){return{Z7:$.an.indexOf(parseInt(W))!=-1}}}();
(O.kV?M.items[0].sub:M.items).push({name:O.nB.name,m:F});(O.kV?M.ny[0].sub:M.ny).push({o:k.E.u,h:{V:k.l.Os,dF:O.nB.Vl}})}return M}(),function(){var M={name:[0,14],items:[],ny:[]},O={name:[0,9],sub:[]};
M.items.push(O);var F={sub:[]};M.ny.push(F);var W=bj.a6i();for(var T=0;T<W.length;T++){var f=W[T],$=f.code,H=bj.aqZ($);
O.sub.push({name:f.name,vD:$,m:function(A,G){return{Z7:this.vD==bj.IL()}}});F.sub.push({o:k.E.u,h:{V:k.l.Gi,m0:dq.Cy,lang:H}})}O.sub.push({name:[0,12]});
F.sub.push({o:k.E.u,h:{V:k.l.US,link:"https://www.photopea.com/translate/"}});var O={name:[0,15],sub:[]};
M.items.push(O);var F={sub:[]};M.ny.push(F);for(var T=0;T<i4.je.length;T++){O.sub.push({name:i4.je[T].name,m:function(A,G){return{Z7:this.name==i4.je[G.YC].name}}});
F.sub.push({o:k.E.u,h:{V:k.l.Gi,m0:dq.LQ,YC:T}})}M.items.push({name:jD==0?[0,17,6]:"Install Vectorpea",m:function(A,G){return{m:G.Rc!=null}}});
M.ny.push({o:k.E.u,h:{V:k.l.bC}});if(jD==0){M.items.push({name:[11,13]});M.ny.push({o:k.E.u,h:{V:k.l.Xq,dF:"shortcuts"}});
M.items.push({name:[0,16],m:function(A){return{Z7:fM.QX,m:fM.ag$}},jV:!0});M.ny.push({o:k.E.u,h:{V:k.l.a4f}})}M.items.push({name:"PeaMark"});
M.ny.push({o:k.E.u,h:{V:k.l.Xq,dF:"peamark"}});M.items.push({name:"",m:function(A,G){return G.nX?{se:"About "+["Photopea","Vectorpea"][jD],m:!0}:{se:"",m:!1}}});
M.ny.push({o:k.E.u,h:{V:k.l.Xq,dF:"aboutpp"}});return M}()],N=[u[0],u[1],{name:"Object",items:[{name:[6,9],m:x,jV:!0,vD:[e,h.Sz]},{name:[6,6,0],sub:[{name:[5,5],vD:[e,h.zn]},{name:[5,6],vD:[J,e,h.zn]}]}],ny:[{o:k.E.A,I:c.Yn,h:{V:s.ha}},{sub:[{o:k.E.A,I:c.Yn,h:{V:s.ha,FP:!0}},{o:k.E.A,I:c.Yn,h:{V:s.ha,FP:!0,hp:!0}}]}]},{name:[0,7],items:[{name:"Outline View",m:function(M,O){return{Z7:M&&M.add.prvw==0,m:M!=null}},jV:!0,vD:[e,h.fD]},{name:[8,0],m:x,vD:[e,h.ci]},{name:[8,1],m:x,vD:[e,h.As]},{name:[12,36],jV:!1,sub:[{name:"Fullscreen",m:function(M,O){return{Z7:document.fullscreenElement!=null}},jV:!0},{name:"Standard",m:function(M,O){return{Z7:O.LI==0}}},{name:"Menu Bar and Canvas",m:function(M,O){return{Z7:O.LI==1}}}]}],ny:[{o:k.E.A,I:c.ZM,h:{V:"prvw"}},{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!0}},{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!0}},{o:k.E.A,I:c.ZM,h:{V:"zoom",YV:!1}},{sub:[{o:k.E.u,h:{V:k.l.cb,dw:!0}},{o:k.E.u,h:{V:k.l.cb,J:0}},{o:k.E.u,h:{V:k.l.cb,J:1}},{o:k.E.u,h:{V:k.l.cb,J:2}}]}]},u[7],u[8]];
return jD==0?u:N}();function ik(){fx.call(this);this.Z=V.k("div","");this.zy=0;this.lO=0;this.H=null;
this.XC=V.k("div","");V.v(this.XC,"width:200em; height:100em; position:absolute;");this.S8=[];this.ES=[];
this.nl={}}ik.prototype=new fx;ik.prototype.vw=function(h){var e=Date.now(),v=[];if(h=="-"){v=[new hO,new gk,new ab,new cq("pdfpres"),new cq("cformat"),new cq("batch"),new cq("mockups"),new cq("resize"),new gw,new ku,new iD,new da,new da(!0),new dY,new e0,new j9,new jx,new ii,new f1,new g4,new ht,new g_,new b2,new ct,new cH("isize"),new cH("csize"),new ck,new hS,new kv,new eD,new fw,new cR,new aR,new eB,new eX(!1),new eX(!0),new gY(0),new gY(1),new fT,new fc,new jU,new go,new hH,new gq,new dO(0),new dO(1),new dO(2),new dO(3),new dO(4),new dO(5),new dO(6),new dO(7),new dO(8),new hI,new dl,new df,new dT,new fQ,new aY,new es,new aB,new hU,new dk,new ay(0),new ay(1),new c_("border",[7,9],"px"),new c_("smoothness",[19,3,0],"px"),new c_("expand",[7,4],"px"),new c_("contract",[7,5],"px"),new c_("feather",[7,6],"px"),new b$(0,"namewindow",[12,48]),new b$(2,"billto","Bill To"),new b$(1,"cornerradius",[12,94,0],"px",!0,!0),new b$(1,"scaleeffects",[6,30,1],"%",!0),new b$(1,"doczoom","Zoom","%",!0),new b$(1,"setFPS","Set FPS","fps,120",!1),new b$(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(jD==0){v.push(new iC)}}else v=[new ac(h.slice(4))];this.amr(v);this.nl[h]=!0};ik.prototype.amr=function(h){var e=this.H;
for(var T=0;T<h.length;T++){var v=h[T];v.parent=this;this.ES.push(v);this.b8(v);v.S();if(e)v.fa(e,dq.AY);
v.P(k.E.Y$,this.CR,this);V.dm(v)}};ik.prototype.Kt=function(h,e){this.zy=h;this.lO=e;for(var T=0;T<this.ES.length;
T++)this.b8(this.ES[T])};ik.prototype.S=function(){for(var T=0;T<this.ES.length;T++)this.ES[T].S()};
ik.prototype.He=function(){return this.S8.length==0?null:this.S8[this.S8.length-1]};ik.prototype.G0=function(){for(var T=0;
T<this.S8.length;T++)if(this.S8[T].G0())return!0;return!1};ik.prototype.awv=function(h,e,v,J,m){console.log("Show",h);
var d=h.startsWith("afw_"),x=null;if(!d&&!this.nl["-"])this.vw("-");if(d&&!this.nl[h])this.vw(h);if(typeof h=="object"){x=h;
if(!x.acQ(k.E.Y$,this.CR))x.P(k.E.Y$,this.CR,this);x.parent=this}else for(var T=0;T<this.ES.length;T++)if(this.ES[T].id==h)x=this.ES[T];
if(this.G0()&&x.G0()){alert("Finish the current action first");return}if(!x.yG(e))return;if(this.S8.indexOf(x)!=-1){if(h=="colorpicker")this.CR(null,x);
else return}var j=this.S8.length-1;if(j>=0)V.zZ(this.S8[j].Z,"wdisabled");this.Z.appendChild(x.Z);this.S8.push(x);
this.b8(x);V.Kk(x);x.eh(e,v,J,m)};ik.prototype.b8=function(h){var e=this.zy,v=this.lO,J=h.W8(e,v),m;
if(J!=null){m=J}else{J=new fq(0,0);m=h.ac$();if(m==null){var d=this.S8.indexOf(h)+1;if(e<450||v<450)m=new fq(0,0);
else m=new fq(d*150,d*150)}}h.Z.style.left=m.x+"px";h.Z.style.top=this.Z.offsetTop+m.y+"px";h.Kt(this.zy-J.x*2,this.lO-J.y*2-34)};
ik.prototype.fa=function(h,e){this.H=h;for(var T=0;T<this.ES.length;T++)this.ES[T].fa(h,e)};ik.prototype.CR=function(h,e){if(e==null){e=this.S8.pop();
V.dm(e,this.Z)}else{this.S8.splice(this.S8.indexOf(e),1);this.Z.removeChild(e.Z);V.t7(e.Z,"wdisabled")}var v=this.S8.length-1;
if(v>=0)V.t7(this.S8[v].Z,"wdisabled");if(this.XC.parentNode==this.Z)this.Z.removeChild(this.XC)};window.onload=function(){document.body.appendChild(new i1().Z)}}())